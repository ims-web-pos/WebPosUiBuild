"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[5986],{49137:(_,O,n)=>{n.d(O,{C:()=>t});var S=n(36336);let t=(()=>{class M{transform(x,e,p){if(x)return e?x.filter(f=>{let C=f[p];const v=e.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(C?C.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(v))return f}):x}}return M.\u0275fac=function(x){return new(x||M)},M.\u0275pipe=S.Yjl({name:"searchData",type:M,pure:!1}),M})()},28698:(_,O,n)=>{n.d(O,{Zl:()=>o,im:()=>c});var S=n(64762),t=n(36336),M=n(68277),L=n(28049),x=n(54395),e=n(92340),p=n(42326),f=n(53181),C=n(87584),v=n(67311),I=n(92752),T=n(63504),P=n(72533);const U=["inputBox"];function E(r,l){if(1&r&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&r){const i=t.oxw().$implicit;t.Q6J("value",i.key),t.xp6(1),t.hij(" ",i.title," ")}}function b(r,l){if(1&r&&(t.ynx(0),t.YNc(1,E,2,2,"option",25),t.BQk()),2&r){const i=l.$implicit;t.xp6(1),t.Q6J("ngIf",!i.noSearch)}}const Z=function(r){return{"text-align":r}};function D(r,l){if(1&r&&(t.TgZ(0,"th",28),t._uU(1),t.qZA()),2&r){const i=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(2,Z,i.alignment)),t.xp6(1),t.hij(" ",i.title," ")}}function N(r,l){if(1&r&&(t.ynx(0),t.YNc(1,D,2,4,"th",27),t.BQk()),2&r){const i=l.$implicit;t.xp6(1),t.Q6J("ngIf",!i.hidden)}}function R(r,l){1&r&&(t.TgZ(0,"th"),t._uU(1," Action "),t.qZA())}function F(r,l){if(1&r&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&r){const i=t.oxw(2).$implicit,a=t.oxw().$implicit;t.s9C("title",a[i.key]),t.xp6(1),t.hij(" ",a[i.key]," ")}}function G(r,l){if(1&r&&(t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&r){const i=t.oxw(2).$implicit,a=t.oxw().$implicit;t.s9C("title",a[i.key]),t.xp6(1),t.hij(" ",t.Dn7(2,2,a[i.key],"INR","Rs. ")," ")}}function w(r,l){if(1&r&&(t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const i=t.oxw(2).$implicit,a=t.oxw().$implicit;t.s9C("title",a[i.key]),t.xp6(1),t.hij(" ",t.xi3(2,2,a[i.key],"yyyy-MM-dd")," ")}}function W(r,l){if(1&r&&(t.TgZ(0,"td",28),t.YNc(1,F,2,2,"div",31),t.YNc(2,G,3,6,"div",31),t.YNc(3,w,3,5,"div",31),t.qZA()),2&r){const i=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(4,Z,i.alignment)),t.xp6(1),t.Q6J("ngIf",!i.pipe&&!i.format),t.xp6(1),t.Q6J("ngIf",i.pipe),t.xp6(1),t.Q6J("ngIf",i.format)}}function J(r,l){if(1&r&&(t.ynx(0),t.YNc(1,W,4,6,"td",27),t.BQk()),2&r){const i=l.$implicit;t.xp6(1),t.Q6J("ngIf",!i.hidden)}}function Q(r,l){if(1&r){const i=t.EpF();t.ynx(0),t.TgZ(1,"span")(2,"i",33),t.NdJ("click",function(){const d=t.CHM(i).$implicit,A=t.oxw(2).index,et=t.oxw(3);return t.KtG(et.onActionClicked(d.text,A))}),t.qZA()(),t.BQk()}if(2&r){const i=l.$implicit;t.xp6(2),t.Tol(i.icon),t.s9C("title",i.title)}}function j(r,l){if(1&r&&(t.ynx(0),t.TgZ(1,"td"),t.YNc(2,Q,3,4,"ng-container",13),t.qZA(),t.BQk()),2&r){const i=t.oxw(4);t.xp6(2),t.Q6J("ngForOf",i.popupsettings.actionKeys)}}function B(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"tr",30),t.NdJ("dblclick",function(){const d=t.CHM(i).$implicit,A=t.oxw(3);return t.KtG(A.doubleClick(d))})("click",function(){const d=t.CHM(i).index,A=t.oxw(3);return t.KtG(A.singleClick(d))}),t.YNc(1,J,2,1,"ng-container",13),t.YNc(2,j,3,1,"ng-container",2),t.qZA()}if(2&r){const i=l.index,a=t.oxw(3);t.ekj("selected-row",a.selectedRowIndex==i),t.xp6(1),t.Q6J("ngForOf",a.popupsettings.columns),t.xp6(1),t.Q6J("ngIf",a.popupsettings.showActionButton&&a.popupsettings.actionKeys.length)}}const H=function(r,l,i,a){return{id:r,itemsPerPage:l,currentPage:i,totalItems:a}};function K(r,l){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,B,3,4,"tr",29),t.ALo(2,"paginate"),t.qZA()),2&r){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,i.itemList,t.l5B(4,H,i.tabindex,i.pageSize,i.pageNumber,i.totalItems)))}}function Y(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",34)(1,"pagination-controls",35),t.NdJ("pageChange",function(h){t.CHM(i);const d=t.oxw(2);return t.KtG(d.onPageChange(h))}),t.qZA()()}if(2&r){const i=t.oxw(2);t.xp6(1),t.Q6J("id",i.tabindex)}}function V(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td",46),t._uU(2),t.qZA(),t.TgZ(3,"td",47),t._uU(4),t.qZA(),t.TgZ(5,"td",48)(6,"button",49),t.NdJ("click",function(){const d=t.CHM(i).index,A=t.oxw(3);return t.KtG(A.removeItem(d))}),t._uU(7," Remove "),t.qZA()()()}if(2&r){const i=l.$implicit;t.xp6(2),t.Oqu(i.MENUCODE),t.xp6(2),t.Oqu(i.DESCA)}}function $(r,l){if(1&r){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"fieldset")(3,"div",7)(4,"h6",37),t._uU(5,"Selected Item list"),t.qZA()(),t.TgZ(6,"div",7)(7,"table",38)(8,"thead",39)(9,"tr",40)(10,"th",41),t._uU(11,"Menucode"),t.qZA(),t.TgZ(12,"th",42),t._uU(13,"Description"),t.qZA(),t.TgZ(14,"th",43),t._uU(15,"Action"),t.qZA()()(),t.TgZ(16,"tbody",44),t.YNc(17,V,8,2,"tr",13),t.qZA()()()(),t.TgZ(18,"div",7)(19,"button",45),t.NdJ("click",function(){t.CHM(i);const h=t.oxw(2);return t.KtG(h.selectMultipleItem())}),t._uU(20," OK "),t.qZA()()(),t.BQk()}if(2&r){const i=t.oxw(2);t.xp6(17),t.Q6J("ngForOf",i.selectedItems)}}function z(r,l){if(1&r&&t._UZ(0,"div",50),2&r){const i=t.oxw(2);t.Q6J("innerHTML",i.summary,t.oJD)}}function tt(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",51)(1,"input",52,53),t.NdJ("ngModelChange",function(h){t.CHM(i);const d=t.oxw(2);return t.KtG(d.suppliercodefilter=h)})("change",function(){t.CHM(i);const h=t.MAs(2),d=t.oxw(2);return d.suppliercodefilter=h.checked?1:0,t.KtG(d.onSupplierWiseFilter(h.checked))}),t.qZA(),t.TgZ(3,"label",54),t._uU(4,"Supplier wise items"),t.qZA()()}if(2&r){const i=t.oxw(2);t.xp6(1),t.Q6J("ngModel",i.suppliercodefilter)}}function k(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",51)(1,"input",52,55),t.NdJ("ngModelChange",function(h){t.CHM(i);const d=t.oxw(2);return t.KtG(d.loadAllItemsFilter=h)})("change",function(){t.CHM(i);const h=t.MAs(2),d=t.oxw(2);return d.loadAllItemsFilter=h.checked?1:0,t.KtG(d.onLoadAllFilter(h.checked))}),t.qZA(),t.TgZ(3,"label",54),t._uU(4,"Load All Products"),t.qZA()()}if(2&r){const i=t.oxw(2);t.xp6(1),t.Q6J("ngModel",i.loadAllItemsFilter)}}function X(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",51)(1,"input",52,56),t.NdJ("ngModelChange",function(h){t.CHM(i);const d=t.oxw(2);return t.KtG(d.showPopupWareHouseWiseStock=h)})("change",function(h){t.CHM(i);const d=t.oxw(2);return d.showPopupWareHouseWiseStock=h.target.checked?1:0,t.KtG(d.onShowWarehouseWiseStockPopup(d.showPopupWareHouseWiseStock))}),t.qZA(),t.TgZ(3,"label",54),t._uU(4,"Show Warehouse Wise Stock"),t.qZA()()}if(2&r){const i=t.oxw(2);t.xp6(1),t.Q6J("ngModel",i.showPopupWareHouseWiseStock)}}function q(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",51)(1,"input",52),t.NdJ("ngModelChange",function(h){t.CHM(i);const d=t.oxw(2);return t.KtG(d.multipleSelect=h)})("change",function(h){t.CHM(i);const d=t.oxw(2);return t.KtG(d.multipleSelect=h.target.checked?1:0)}),t.qZA(),t.TgZ(2,"label",54),t._uU(3,"Select multiple items"),t.qZA()()}if(2&r){const i=t.oxw(2);t.xp6(1),t.Q6J("ngModel",i.multipleSelect)}}function s(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div")(1,"div")(2,"div",3)(3,"h4",4),t._uU(4),t.qZA(),t.TgZ(5,"button",5),t.NdJ("click",function(){t.CHM(i);const h=t.oxw();return t.KtG(h.hide())}),t.TgZ(6,"span",6),t._uU(7,"\xd7"),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"select",11),t.NdJ("ngModelChange",function(h){t.CHM(i);const d=t.oxw();return t.KtG(d.filterOption=h)})("change",function(h){t.CHM(i);const d=t.oxw();return t.KtG(d.triggerSearch(h))}),t.TgZ(13,"option",12),t._uU(14,"Select Filter Option"),t.qZA(),t.YNc(15,b,2,1,"ng-container",13),t.qZA()(),t.TgZ(16,"div",14),t._UZ(17,"input",15,16),t.qZA()(),t.TgZ(19,"div",17)(20,"table",18)(21,"thead")(22,"tr",19),t.YNc(23,N,2,1,"ng-container",13),t.YNc(24,R,2,0,"th",2),t.qZA()(),t.YNc(25,K,3,9,"tbody",2),t.qZA(),t.TgZ(26,"div",20),t.YNc(27,Y,2,1,"div",21),t.qZA(),t.YNc(28,$,21,1,"ng-container",2),t.qZA()()(),t.YNc(29,z,1,1,"div",22),t.TgZ(30,"div",23),t.YNc(31,tt,5,1,"div",24),t.qZA(),t.TgZ(32,"div",23),t.YNc(33,k,5,1,"div",24),t.qZA(),t.TgZ(34,"div",23),t.YNc(35,X,5,1,"div",24),t.qZA(),t.TgZ(36,"div",23),t.YNc(37,q,4,1,"div",24),t.qZA()()()}if(2&r){const i=t.oxw();t.xp6(4),t.hij(" ",i.popupsettings.title," "),t.xp6(5),t.Q6J("ngClass",1==i.multipleSelect?"col-md-7 pd0":""),t.xp6(3),t.Q6J("ngModel",i.filterOption),t.xp6(3),t.Q6J("ngForOf",i.popupsettings.columns),t.xp6(2),t.Q6J("formControl",i.filterValue),t.xp6(6),t.Q6J("ngForOf",i.popupsettings.columns),t.xp6(1),t.Q6J("ngIf",i.popupsettings.showActionButton&&i.popupsettings.actionKeys.length),t.xp6(1),t.Q6J("ngIf",i.itemList.length),t.xp6(2),t.Q6J("ngIf",i.itemList.length),t.xp6(1),t.Q6J("ngIf",1==i.multipleSelect),t.xp6(1),t.Q6J("ngIf",i.summary),t.xp6(2),t.Q6J("ngIf",i.popupsettings.filterSupplierWise&&(null==i._trnMainService||null==i._trnMainService.userSetting?null:i._trnMainService.userSetting.SupplierWiseItemLoadingInPI)),t.xp6(2),t.Q6J("ngIf",i.popupsettings.showLoadAllProductsOption),t.xp6(2),t.Q6J("ngIf",i.popupsettings.filterWarehouseWiseStock),t.xp6(2),t.Q6J("ngIf",i.popupsettings.multiSelect)}}const u=function(){return{width:"115%"}};class o extends M.nd{constructor(l,i,a,h){super(l),this.injector=l,this.dialog=i,this._trnMainService=a,this.alertservice=h,this.loadCheckBox=!1,this.loadCheckBoxForWareHouseStock=!1,this.selectedItems=[],this.requestUrl="",this.isActive=!1,this.itemList=[],this.selectedRowIndex=0,this.tabindex="list",this.hideGridOnDoubleClick=!0,this.billTo="",this.warehouse="",this.tag="",this.isForCancelOrder=!1,this.supplierID=null,this.multipleSelect=0,this.onPopUpClose=new t.vpe,this.onItemDoubleClick=new t.vpe,this.onDeleteClicked=new t.vpe,this.onEmptyList=new t.vpe,this.onItemsSelected=new t.vpe,(this._trnMainService.TrnMainObj.VoucherType===p.Km.PurchaseOrder||this._trnMainService.TrnMainObj.VoucherType===p.Km.GoodsReceived||this._trnMainService.TrnMainObj.VoucherType===p.Km.Purchase)&&(this.suppliercodefilter=1)}ngAfterViewInit(){this._trnMainService.TrnMainObj.VoucherType===p.Km.Purchase&&(this.loadCheckBox=!0),"add-sales-invoice"===this._trnMainService.activeurlpath&&1==this._trnMainService.userSetting.ShowWarehouseWiseStockPopUp&&(this.loadCheckBoxForWareHouseStock=!0),this.filterValue.valueChanges.pipe((0,x.b)(500)).subscribe(l=>{this.refreshPage(),this.refresh()})}show(l="",i=!1,a="",h=!0){this.hideGridOnDoubleClick=h,setTimeout(()=>{this.inputBox.nativeElement.focus()},10),this.summary=null,this.billTo=l,this.isForCancelOrder=i,this.itemList=[],this.isActive=!0,this.selectedRowIndex=0,this.tag=a,this.filterOption="",this._trnMainService.showWareHouseWiseStockPopup=!1,this.showPopupWareHouseWiseStock=0,this.selectedItems=[],setTimeout(()=>{this.setFilterOption()},100)}setFilterOption(){if(this.popupsettings&&this.popupsettings.columns.length){const l=this.popupsettings.defaultFilterIndex?this.popupsettings.defaultFilterIndex:0;if(this.popupsettings.columns.length<=l)return;this.filterValue.setValue(this.popupsettings.userDefinefilterValue),this.filterOption=this.popupsettings.columns[l].key}}getData(){this.assignSupplierCode(),this.showWareHouseStockPopup(),this.summary=null,this.selectedRowIndex=0;const i=this.popupsettings.apiEndpoints;let a=`${e.N.apiUrl}${i}?currentPage=${this.pageNumber}&maxResultCount=${this.pageSize}`;return"/getpaymentmodepagedlist"==i&&(a+=`&paymentmodename=${encodeURIComponent(this._trnMainService.TrnMainObj.TRNMODE)}`),this.billTo&&""!==this.billTo&&null!=this.billTo&&void 0!==this.billTo&&(a+=`&billTo=${this.billTo}`),this.tag&&""!==this.tag&&null!=this.tag&&void 0!==this.isTableLoading&&(a+=`&tag=${this.tag}`),this.isForCancelOrder&&(a+=`&isForCancelOrder=${this.isForCancelOrder}`),null!=this.supplierID&&1==this._trnMainService?.userSetting?.SupplierWiseItemLoadingInPI&&(a+=`&SupplierWiseItem=${this.supplierID}`),!1===this.popupsettings.userWiseWarehouseOnly&&(a+=`&userWiseWarehouseOnly=${this.popupsettings.userWiseWarehouseOnly}`),a.includes("getDivisionWiseWarehousePagedList")&&(a+=`&nonSellableWarehouseAlso=${this._trnMainService.TrnMainObj.VoucherType===p.Km.DebitNote}`),a.includes("getMenuitemBarCodeWise")&&(a+=`&barcode=${this._trnMainService.barCodes.BC}&warehouse=${this._trnMainService.TrnMainObj.MWAREHOUSE}&refbill=${this._trnMainService.TrnMainObj.REFBILL??""} `),a.includes("getRequisitionListForStockIssue")&&(a+=`&sort=${JSON.stringify([{Field:"VCHRNO",Dir:"DESC"}])}`),a.includes("getMenuitemFromProdForReturnPagedList")&&(a+=`&billTo=${this._trnMainService.TrnMainObj?.VCHRNO}`),null!=this._trnMainService.TrnMainObj.PARAC&&1===this.suppliercodefilter&&(a+=`&supCodeFilter=  ${encodeURIComponent(this._trnMainService.TrnMainObj.PARAC)}`),this.requestUrl=this.getFilterOption(a,1==this._trnMainService.userSetting.ProductSearchMode?1:0),this.popupsettings.bodyData?this._http.post(this.requestUrl,this.popupsettings.bodyData).subscribe(h=>{this.totalItems=h.result?h.result.totalCount:0,this.itemList=h.result?h.result.result:[],this.itemList.forEach(function(d){null!=d.TRNDATE&&void 0!==d.TRNDATE&&(d.TRNDATE=d.TRNDATE.toString().substring(0,10)),null!=d.DATE&&void 0!==d.DATE&&(d.DATE=d.DATE.toString().substring(0,10))}),this.itemList.length>0&&0===this.selectedRowIndex&&this.itemList[this.selectedRowIndex].itemSummary&&(this.summary=this.itemList[this.selectedRowIndex].itemSummary)}):this._http.get(this.requestUrl).pipe((0,L.P)()).subscribe(h=>{var d;this.totalItems=(d=h.result?h.result:h)?d.totalCount:0,this.itemList=d?d.data:[],this.itemList.forEach(function(A){null!=A.TRNDATE&&void 0!==A.TRNDATE&&(A.TRNDATE=A.TRNDATE.toString().substring(0,10)),null!=A.DATE&&void 0!==A.DATE&&(A.DATE=A.DATE.toString().substring(0,10))}),this.itemList.length>0&&0===this.selectedRowIndex&&this.itemList[this.selectedRowIndex].itemSummary&&(this.summary=this.itemList[this.selectedRowIndex].itemSummary)})}hide(){this.itemList=[],this.pageNumber=1,this.totalItems=0,this.isActive=!1}triggerSearch(){null==this.filterOption||void 0===this.filterOption||""===this.filterOption||this.filterValue.setValue("")}singleClick(l){this.selectedRowIndex=l,this.summary=this.itemList[l].itemSummary}doubleClick(l){if(0==this.multipleSelect)this.onItemDoubleClick.emit(l),this.hideGridOnDoubleClick&&this.hide();else if(1==this.multipleSelect){if(this.selectedItems.filter(a=>a.MCODE==l.MCODE).length>0)return;this.selectedItems.push(l)}}selectMultipleItem(){this.onItemsSelected.emit(this.selectedItems),this.hideGridOnDoubleClick&&this.hide()}removeItem(l){this.selectedItems.splice(l,1)}updown(l){if(!this.isActive)return!0;if("ArrowDown"===l.code)l.preventDefault(),this.selectedRowIndex++,null!=this.itemList[this.selectedRowIndex]&&(this.summary=this.itemList[this.selectedRowIndex].itemSummary),this.calculateTotalPages(),this.selectedRowIndex===this.itemList.length&&this.pageNumber<this.totalPages?(this.pageNumber=this.pageNumber+1,this.refresh(),this.selectedRowIndex=0,this.itemListClosed()):this.selectedRowIndex===this.itemList.length&&this.pageNumber===this.totalPages&&(this.selectedRowIndex=this.itemList.length-1);else if("ArrowUp"===l.code)l.preventDefault(),this.selectedRowIndex--,null!=this.itemList[this.selectedRowIndex]&&(this.summary=this.itemList[this.selectedRowIndex].itemSummary),-1===this.selectedRowIndex&&this.pageNumber>1?(this.pageNumber=this.pageNumber-1,this.refresh(),this.selectedRowIndex=this.itemList.length-1,this.itemListClosed()):-1===this.selectedRowIndex&&1===this.pageNumber&&(this.selectedRowIndex=0);else if(("Enter"===l.code||"NumpadEnter"===l.code)&&this.selectedRowIndex>=0&&this.selectedRowIndex<this.itemList.length)l.preventDefault(),"BARCODE"===this.filterOption||(this.onItemDoubleClick.emit(this.itemList[this.selectedRowIndex]),this.hide(),this.itemListClosed());else if("Escape"===l.code)l.preventDefault(),this.hide(),this.itemListClosed();else if("ArrowRight"===l.code){if(l.preventDefault(),this.calculateTotalPages(),this.pageNumber>=this.totalPages)return void(this.pageNumber=this.totalPages);this.selectedRowIndex=0,this.pageNumber=this.pageNumber+1,this.refresh()}else if("ArrowLeft"===l.code){if(l.preventDefault(),this.pageNumber<=1)return void(this.pageNumber=1);this.selectedRowIndex=0,this.pageNumber=this.pageNumber-1,this.refresh()}}itemListClosed(){this.onPopUpClose.emit()}ngOnChanges(l){this.popupsettings=l.popupsettings.currentValue}onActionClicked(l,i){if(""!==l&&null!=l&&void 0!==l){const a=l.toLowerCase();switch(a){case"delete":case"cancel":confirm(`Are you sure to ${a} this row ?.`)&&this.onDeleteClicked.emit(this.itemList[i])}}}onSupplierWiseFilter(l){this.filterValue.setValue("")}onLoadAllFilter(l){this.filterValue.setValue("")}onShowWarehouseWiseStockPopup(l){this.filterValue.setValue("")}showWareHouseStockPopup(){this._trnMainService.showWareHouseWiseStockPopup=1==this.showPopupWareHouseWiseStock}assignSupplierCode(){console.log("k aaucha",this._trnMainService.TrnMainObj.BILLTO),(null==this.suppliercodefilter||0==this.suppliercodefilter)&&(this.supplierID=null),1==this.suppliercodefilter&&(this.supplierID=this._trnMainService.TrnMainObj.PARAC?this._trnMainService.TrnMainObj.PARAC:null),console.log("this.supplier id",this.supplierID)}}o.\u0275fac=function(l){return new(l||o)(t.Y36(t.zs3),t.Y36(f.uw),t.Y36(C.p),t.Y36(v.c))},o.\u0275cmp=t.Xpm({type:o,selectors:[["generic-popup-grid"]],viewQuery:function(l,i){if(1&l&&t.Gf(U,5),2&l){let a;t.iGM(a=t.CRH())&&(i.inputBox=a.first)}},hostBindings:function(l,i){1&l&&t.NdJ("keydown",function(h){return i.updown(h)},!1,t.evT)},inputs:{popupsettings:"popupsettings",summary:"summary"},outputs:{onPopUpClose:"onPopUpClose",onItemDoubleClick:"onItemDoubleClick",onDeleteClicked:"onDeleteClicked",onEmptyList:"onEmptyList",onItemsSelected:"onItemsSelected"},features:[t.qOj,t.TTD],decls:3,vars:5,consts:[[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","25px"],[1,"modal-content","modal-content-main-area",3,"ngStyle"],[4,"ngIf"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"padding-left","20px","font-size","1.2rem"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"row"],[3,"ngClass"],[1,"col-md-12","row"],[1,"col-md-6",2,"margin","2px 0px","display","flex","padding","0px"],[2,"width","100%",3,"ngModel","ngModelChange","change"],["value","","selected",""],[4,"ngFor","ngForOf"],[1,"col-md-6",2,"margin","2px 0px","display","flex","padding-right","0px"],["type","text","placeholder","Enter keyword to search",2,"width","100%",3,"formControl"],["inputBox",""],[1,"col-md-12","table-scroll"],[1,"table"],[2,"background","#7ed0ff"],[1,"row",2,"float","center","margin","4px 0px"],["class","col-md-12","style","width: 100%; margin-top: -1.2rem",4,"ngIf"],["style","margin-left: 25px; margin-top: -25px; font-size: 12px",3,"innerHTML",4,"ngIf"],[2,"margin-left","25px","width","100%","font-size","12px"],["style","width: 100%",4,"ngIf"],[3,"value",4,"ngIf"],[3,"value"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["class","highlight","title","double click for detail view",3,"selected-row","dblclick","click",4,"ngFor","ngForOf"],["title","double click for detail view",1,"highlight",3,"dblclick","click"],[3,"title",4,"ngIf"],[3,"title"],[3,"title","click"],[1,"col-md-12",2,"width","100%","margin-top","-1.2rem"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",2,"margin-left","6rem","margin-bottom","0","font-size","0.8rem",3,"id","pageChange"],[1,"col-md-5","pd0"],[2,"text-align","center"],[1,"table","table-striped"],[1,"tablehead"],[2,"position","sticky","top","0","line-height","1rem"],["scope","col",2,"width","15%"],["scope","col",2,"width","25%"],["scope","col",2,"width","10%"],[1,"selecteditem"],[1,"btn","btn-info","btn-sm",3,"click"],[2,"width","15%"],[2,"width","25%"],[2,"width","10%"],[1,"btn","btn-danger",2,"line-height","8px","font-size","10px","padding","4px",3,"click"],[2,"margin-left","25px","margin-top","-25px","font-size","12px",3,"innerHTML"],[2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange","change"],["SupplierwiseItem",""],[2,"font-weight","bold","width","90%"],["loadAllItems",""],["showWarehouseWiseStock",""]],template:function(l,i){1&l&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,s,38,15,"div",2),t.qZA()()),2&l&&(t.ekj("modal-sticky-hide",!i.isActive),t.xp6(1),t.Q6J("ngStyle",1==i.multipleSelect?t.DdM(4,u):null),t.xp6(1),t.Q6J("ngIf",i.popupsettings))},dependencies:[I.mk,I.sg,I.O5,I.PC,T.YN,T.Kr,T.Fj,T.Wl,T.EJ,T.JJ,T.On,T.oH,P.LS,I.H9,I.uU,P._s],styles:[".modal-content[_ngcontent-%COMP%] {\n    padding: 1px;\n    margin: 0px;\n    float: right;\n    width: auto;\n  }\n\n  tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:hover {\n    background-color: #f3f5f4;\n    cursor: pointer;\n  }\n\n  tr[_ngcontent-%COMP%] {\n    font-size: 11px;\n  }\n\n  .selected-row[_ngcontent-%COMP%] {\n    background-color: #ced6d3 !important;\n  }\n\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n    line-height: 20px !important;\n    padding: 5px 10px;\n    vertical-align: middle;\n  }\n\n  .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\n    line-height: 12px !important;\n  }\n\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%]:first-child {\n    text-align: left !important;\n    padding: 0px 0px 0px 11px !important;\n  }\n\n  .modal-content[_ngcontent-%COMP%] {\n    box-shadow: -10px 0px 10px 1px #aaaaaa;\n  }\n\n  .modal-content-main-area[_ngcontent-%COMP%] {\n    max-height: 100%;\n    height: 100%;\n    overflow: auto;\n    overflow-x: hidden;\n  }\n\n  .modal-content-summary-area[_ngcontent-%COMP%] {\n    max-height: 20%;\n    height: 20%;\n    overflow: auto;\n    overflow-x: hidden;\n  }\n\n  .ellipsis[_ngcontent-%COMP%] {\n    \n    white-space: nowrap;\n  }\n\n  .selecteditem[_ngcontent-%COMP%] {\n    display: block;\n    height: 339px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    margin-right: 8px;\n  }\n\n  .tablehead[_ngcontent-%COMP%], .selecteditem[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n    \n  }\n\n  fieldset[_ngcontent-%COMP%] {\n    border: 2px solid #d9d9d9;\n    width: 96%;\n    margin-top: 5px;\n    height: 26rem;\n  }"]}),(0,S.gn)([function y(r){return function(l,i,a){const h=a.value,d=`__timeout__${i}`;return a.value=function(...A){clearTimeout(this[d]),this[d]=setTimeout(()=>h.apply(this,A),r)},a}}(10)],o.prototype,"updown",null);class c{constructor(){this.columns=[],this.defaultFilterIndex=0,this.showActionButton=!1,this.actionKeys=[],this.filterSupplierWise=!1,this.filterWarehouseWiseStock=!1,this.showLoadAllProductsOption=!1,this.multiSelect=!1,this.userWiseWarehouseOnly=!0}}},86833:(_,O,n)=>{n.d(O,{C:()=>L});var S=n(36336),t=n(76165),M=n(71180);let L=(()=>{class x{constructor(p,f){this.http=p,this.state=f;const C=this.state.getGlobalSetting("apiUrl").toString();C&&C.length>0&&(this.apiUrl=C)}getConfiguration(){return this.http.get(this.apiUrl+"/getSettingAssetMgmt")}getAssetLocation(){return this.http.get(this.apiUrl+"/getAssetLocation")}getAssetLocationById(p){return this.http.get(this.apiUrl+`/getAssetLocationById?id=${p}`)}getAssetGroupById(p){return this.http.get(this.apiUrl+`/getAssetGroupById?id=${p}`)}getAssetLocationGroup(){return this.http.get(this.apiUrl+"/getAssetLocationGroup")}getAssetGroup(){return this.http.get(this.apiUrl+"/getAssetGroup")}saveConfiguration(p){return this.http.post(this.apiUrl+"/saveSettingAssetMgmt",p)}addEditDeleteAssetLocation(p,f){let C,v={mode:f,data:p};return["add","edit"].includes(f)&&(C="/saveAssetLocation"),"query"===f&&(C="/deleteAssetLocation"),this.http.post(this.apiUrl+C,v)}addEditDeleteAssetLocationGroup(p,f){let C,v={mode:f,data:p};return["add","edit"].includes(f)&&(C="/saveAssetLocationGroup"),"query"===f&&(C="/deleteAssetLocationGroup"),this.http.post(this.apiUrl+C,v)}addEditDeleteAssetGroup(p,f){let C,v={mode:f,data:p};return["add","edit"].includes(f)&&(C="/saveAssetGroup"),"query"===f&&(C="/deleteAssetGroup"),this.http.post(this.apiUrl+C,v)}getAssetIdMcode(p){return this.http.get(`${this.apiUrl}/getAssetIDListForPrintingProductWise?mcode=${p}`)}getAssetIdvoucherwise(p,f){return this.http.get(`${this.apiUrl}/viewAssetIDListForPrintingVoucherWise?voucherNo=${p}&mcode=${f}`)}getLocationAssigningProductWise(p,f,C){return this.http.get(this.apiUrl+`/viewAssetListforLocationAssigningProductWise?IsAssigned=${p}&mcode=${f}&LocID=${C}`)}getLocationAssigningVoucherWise(p,f,C,v){return this.http.get(this.apiUrl+`/viewAssetListforLocationAssigningVoucherWise?IsAssigned=${p}&voucherNo=${f}&LocID=${C}&mcode=${v}`)}saveAssetsTransaction(p,f){return this.http.post(this.apiUrl+"/saveAssetsTransaction",{mode:p,data:f})}getDepreciationFrom(p){return this.http.get(this.apiUrl+`/getDepreciationFrom?mode=${p}`)}getNepaliMonthsForDepreciation(){return this.http.get(this.apiUrl+"/getNepaliMonthsForDepreciation")}getAssetLoctionFromPurchaseVoucher(p){return this.http.get(this.apiUrl+`/getAssetLoctionFromPurchaseVoucher?voucherno=${p}`)}viewAssetIDListForPrintingProductWise(p,f){return this.http.get(this.apiUrl+`/viewAssetIDListForPrintingProductWise?mcode=${p}&LocID=${f}&AssetID=%`)}getLocationForPrintingProductWise(p){return this.http.get(this.apiUrl+`/getLocationForPrintingProductWise?mcode=${p}`)}}return x.\u0275fac=function(p){return new(p||x)(S.LFG(t.eN),S.LFG(M.q))},x.\u0275prov=S.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},5986:(_,O,n)=>{n.r(O),n.d(O,{PagesModule:()=>q});var S=n(248),t=n(40052),M=n(3629),L=n(28698),x=n(91605),e=n(36336),p=n(53074),f=n(86833),C=n(14970),v=n(67311),I=n(87584),T=n(92752),P=n(63504),U=n(72533),E=n(49137);const b=["genericGrid"],Z=["genericGridProduct"];function D(s,u){1&s&&(e.TgZ(0,"span"),e._uU(1,"Show Detail [F1]"),e.qZA())}function N(s,u){1&s&&(e.TgZ(0,"span"),e._uU(1,"Hide Detail [F1]"),e.qZA())}function R(s,u){if(1&s&&(e.ynx(0),e.TgZ(1,"option",46),e._uU(2),e.qZA(),e.BQk()),2&s){const o=u.$implicit;e.xp6(1),e.Q6J("ngValue",o.LocID),e.xp6(1),e.Oqu(o.Name)}}function F(s,u){if(1&s){const o=e.EpF();e.ynx(0),e.TgZ(1,"label",15),e._uU(2,"Location:"),e.qZA(),e.TgZ(3,"select",45),e.NdJ("ngModelChange",function(g){e.CHM(o);const m=e.oxw();return e.KtG(m.location=g)}),e._UZ(4,"option"),e.TgZ(5,"option",46),e._uU(6,"All"),e.qZA(),e.YNc(7,R,3,2,"ng-container",47),e.qZA(),e.BQk()}if(2&s){const o=e.oxw();e.xp6(3),e.Q6J("ngModel",o.location),e.xp6(2),e.Q6J("ngValue",0),e.xp6(2),e.Q6J("ngForOf",o.locationList)}}function G(s,u){1&s&&(e.TgZ(0,"label",15),e._uU(1,"Voucher No:"),e.qZA())}function w(s,u){if(1&s){const o=e.EpF();e.TgZ(0,"input",48),e.NdJ("ngModelChange",function(g){e.CHM(o);const m=e.oxw();return e.KtG(m.formObj.voucherNo=g)})("keydown.Enter",function(){e.CHM(o);const g=e.oxw();return e.KtG(g.selectProductEvent())}),e.qZA()}if(2&s){const o=e.oxw();e.Q6J("ngModel",o.formObj.voucherNo)}}function W(s,u){1&s&&(e.TgZ(0,"label",49),e._uU(1,"Product:"),e.qZA())}function J(s,u){if(1&s){const o=e.EpF();e.TgZ(0,"input",50),e.NdJ("ngModelChange",function(g){e.CHM(o);const m=e.oxw();return e.KtG(m.formObj.AssetName=g)})("keydown.Enter",function(){e.CHM(o);const g=e.oxw();return e.KtG(g.selectProductEvent())}),e.qZA()}if(2&s){const o=e.oxw();e.Q6J("ngModel",o.formObj.AssetName)}}function Q(s,u){1&s&&(e.TgZ(0,"label",49),e._uU(1,"AssetID:"),e.qZA())}function j(s,u){if(1&s){const o=e.EpF();e.TgZ(0,"input",51),e.NdJ("ngModelChange",function(g){e.CHM(o);const m=e.oxw();return e.KtG(m.filter=g)}),e.qZA()}if(2&s){const o=e.oxw();e.Q6J("ngModel",o.filter)}}function B(s,u){if(1&s&&(e.ynx(0),e.TgZ(1,"option",46),e._uU(2),e.qZA(),e.BQk()),2&s){const o=u.$implicit;e.xp6(1),e.Q6J("ngValue",o.LocID),e.xp6(1),e.Oqu(o.Name)}}function H(s,u){if(1&s){const o=e.EpF();e.ynx(0),e.TgZ(1,"label",52),e._uU(2,"Location:"),e.qZA(),e.TgZ(3,"select",53),e.NdJ("ngModelChange",function(g){e.CHM(o);const m=e.oxw();return e.KtG(m.location=g)}),e._UZ(4,"option"),e.YNc(5,B,3,2,"ng-container",47),e.qZA(),e.TgZ(6,"label",54),e._uU(7,"Product:"),e.qZA(),e.TgZ(8,"input",55),e.NdJ("ngModelChange",function(g){e.CHM(o);const m=e.oxw();return e.KtG(m.formObj.AssetName=g)})("keydown.Enter",function(){e.CHM(o);const g=e.oxw();return e.KtG(g.selectProductVoucherWise())}),e.qZA(),e.BQk()}if(2&s){const o=e.oxw();e.xp6(3),e.Q6J("ngModel",o.location)("disabled",!o.formObj.voucherNo),e.xp6(2),e.Q6J("ngForOf",o.locationList),e.xp6(3),e.Q6J("ngModel",o.formObj.AssetName)("disabled",!o.formObj.voucherNo)}}function K(s,u){if(1&s&&(e.TgZ(0,"option",61),e._uU(1),e.qZA()),2&s){const o=u.$implicit;e.s9C("value",o.LocID),e.xp6(1),e.hij(" ",o.Name," ")}}function Y(s,u){if(1&s){const o=e.EpF();e.TgZ(0,"tr")(1,"td",56),e._uU(2),e.qZA(),e.TgZ(3,"td",57),e._uU(4),e.qZA(),e.TgZ(5,"td",58),e._uU(6),e.qZA(),e.TgZ(7,"td",58),e._uU(8),e.qZA(),e.TgZ(9,"td",58),e._uU(10),e.qZA(),e.TgZ(11,"td",58)(12,"select",59),e.NdJ("change",function(g){const y=e.CHM(o).index,r=e.oxw(2);return e.KtG(r.valueChangeForLocation(g,y))}),e._UZ(13,"option"),e.YNc(14,K,2,2,"option",60),e.qZA()()()}if(2&s){const o=u.$implicit,c=u.index,g=e.oxw(2);e.xp6(2),e.Oqu(c+1),e.xp6(2),e.Oqu(o.AssetID),e.xp6(2),e.Oqu(o.ITEMDESC),e.xp6(2),e.Oqu(o.REMARKS),e.xp6(2),e.Oqu(o.Location),e.xp6(4),e.Q6J("ngForOf",g.AlllocationList)}}const V=function(s,u,o){return{itemsPerPage:s,currentPage:u,totalItems:o}};function $(s,u){if(1&s&&(e.ynx(0),e.YNc(1,Y,15,6,"tr",47),e.ALo(2,"paginate"),e.ALo(3,"searchData"),e.BQk()),2&s){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.Dn7(3,4,o._transactionService.TrnMainObj.AssetsProdList,o.filter,o.searchProduct),e.kEZ(8,V,o.itemsPerPage,o.currentPage,o.totalCount)))}}function z(s,u){if(1&s){const o=e.EpF();e.TgZ(0,"div",62)(1,"div",63)(2,"pagination-controls",64),e.NdJ("pageChange",function(g){e.CHM(o);const m=e.oxw();return e.KtG(m.membershipPagination(g))}),e.qZA()()()}}const k=[{path:"",children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"dashboard",loadChildren:()=>Promise.all([n.e(6823),n.e(3229)]).then(n.bind(n,63229)).then(s=>s.DashboardModule)},{path:"CentralRqDashboard",loadChildren:()=>Promise.all([n.e(6823),n.e(63),n.e(7117)]).then(n.bind(n,47117)).then(s=>s.CentralRqDashboardModule)},{path:"BranchwiseRqDashboard",loadChildren:()=>Promise.all([n.e(6823),n.e(63),n.e(7214)]).then(n.bind(n,17214)).then(s=>s.BranchwiseRqDashboardModule)},{path:"masters",loadChildren:()=>n.e(8788).then(n.bind(n,38788)).then(s=>s.MastersModule)},{path:"reports",loadChildren:()=>Promise.all([n.e(8011),n.e(6893),n.e(8630),n.e(3470),n.e(6692),n.e(4601)]).then(n.bind(n,74601)).then(s=>s.ReportModule)},{path:"transaction/purchases",loadChildren:()=>Promise.all([n.e(9102),n.e(216),n.e(814),n.e(5856),n.e(5578),n.e(4579),n.e(8011),n.e(8630),n.e(3470),n.e(7051),n.e(9778),n.e(2265),n.e(3707),n.e(3145),n.e(3159),n.e(6692),n.e(659),n.e(3388)]).then(n.bind(n,23388)).then(s=>s.PurchasesModule)},{path:"transaction/sales",loadChildren:()=>Promise.all([n.e(9102),n.e(216),n.e(814),n.e(5856),n.e(5578),n.e(4579),n.e(8011),n.e(8630),n.e(3470),n.e(7051),n.e(9778),n.e(2265),n.e(3707),n.e(3145),n.e(659),n.e(9220),n.e(2317)]).then(n.bind(n,92317)).then(s=>s.SalesModule)},{path:"transaction/inventory",loadChildren:()=>Promise.all([n.e(9102),n.e(216),n.e(814),n.e(5856),n.e(5578),n.e(4579),n.e(8011),n.e(8630),n.e(3470),n.e(7051),n.e(9778),n.e(2265),n.e(3707),n.e(3145),n.e(3159),n.e(9220),n.e(8592),n.e(8968)]).then(n.bind(n,68968)).then(s=>s.InventoryModule)},{path:"reports/utilities",loadChildren:()=>Promise.all([n.e(814),n.e(5856),n.e(5578),n.e(4579),n.e(8592),n.e(7556)]).then(n.bind(n,23608)).then(s=>s.UtilitiesModule)},{path:"masters/printfile-setup",loadChildren:()=>Promise.all([n.e(9102),n.e(5778),n.e(8592),n.e(9944)]).then(n.bind(n,9944)).then(s=>s.PrintFileSetupModule)},{path:"masters/setting-master",loadChildren:()=>Promise.all([n.e(5778),n.e(6552)]).then(n.bind(n,56552)).then(s=>s.MasterSettingModule)},{path:"masters/division-master",loadChildren:()=>Promise.all([n.e(9102),n.e(8592),n.e(8211)]).then(n.bind(n,78211)).then(s=>s.DivisionModule)},{path:"configuration/tax-config",loadChildren:()=>Promise.all([n.e(9102),n.e(8592),n.e(911)]).then(n.bind(n,90911)).then(s=>s.TaxConfigModule)},{path:"masters/payment-mode-master",loadChildren:()=>Promise.all([n.e(9102),n.e(8592),n.e(1011)]).then(n.bind(n,21011)).then(s=>s.PaymentModeMasterModule)},{path:"transaction/jobcard",loadChildren:()=>Promise.all([n.e(9102),n.e(2736)]).then(n.bind(n,32736)).then(s=>s.JobCardModule)},{path:"transaction/payment",loadChildren:()=>Promise.all([n.e(9102),n.e(695)]).then(n.bind(n,70695)).then(s=>s.PaymentCollectionModule)},{path:"transaction/recurringTransaction",loadChildren:()=>Promise.all([n.e(9102),n.e(260)]).then(n.bind(n,70260)).then(s=>s.RecurringTransactionModule)},{path:"barcode",loadChildren:()=>Promise.all([n.e(2265),n.e(8592),n.e(7180)]).then(n.bind(n,87180)).then(s=>s.PrintModule)},{path:"transaction/asset-location-assigning",component:(()=>{class s{constructor(o,c,g,m,y){this.masterService=o,this._assetService=c,this.spinnerService=g,this.alertService=m,this._transactionService=y,this.formObj={},this.gridPopupSettings=new L.im,this.genericGridProductSetting=new L.im,this.assetLocationList={},this.currentPage=1,this.itemsPerPage=15,this.searchProduct="AssetID",this.masterService.ShowMore=!0,this.searchMode="PRODUCTWISE",this.searchBy="all",this.getAssetLocation(),this._transactionService.initialFormLoad(5)}getAssetLocation(){this._assetService.getAssetLocation().subscribe(o=>{this.locationList=o.result,this.AlllocationList=o.result},o=>{this.locationList=[]})}ngOnInit(){this.assetLocationList.Mode="NEW"}ShowMore(){this.masterService.ShowMore=!this.masterService.ShowMore}membershipPagination(o){this.currentPage=o,window.scrollTo({top:0,behavior:"smooth"})}handleKeyDownboardEvent(o){"F1"==o.code&&(o.preventDefault(),this.ShowMore())}selectProductEvent(o){this.gridPopupSettings="PRODUCTWISE"===this.searchMode&&void 0===o?{title:"Item list",apiEndpoints:"/getAssetsMenuitemPagedList",defaultFilterIndex:1,columns:[{key:"MENUCODE",title:"Product Code",hidden:!1,noSearch:!1},{key:"DESCA",title:"Product Name",hidden:!1,noSearch:!1},{key:"DESCB",title:"Short Name",hidden:!1,noSearch:!1}]}:"PRODUCTWISE"===this.searchMode&&"assetID"===o?{title:"Item list",apiEndpoints:"/getAssetIDListForPrintingProductWise/MA27/1",defaultFilterIndex:1,columns:[{key:"MENUCODE",title:"Product Code",hidden:!1,noSearch:!1},{key:"DESCA",title:"Product Name",hidden:!1,noSearch:!1},{key:"DESCB",title:"Short Name",hidden:!1,noSearch:!1}]}:{title:"Voucher list",apiEndpoints:"/getTrnMainPagedList/PI/ASSET_PURCHASE",defaultFilterIndex:1,columns:[{key:"VCHRNO",title:"Voucher No.",hidden:!1,noSearch:!1},{key:"REFBILL",title:"Invoice No.",hidden:!1,noSearch:!1},{key:"BILLTO",title:"Supplier",hidden:!1,noSearch:!1},{key:"TOTAMNT",title:"Amount",hidden:!1,noSearch:!1}]},this.genericGrid.show()}selectProductVoucherWise(){this.genericGridProductSetting={title:"Item list",apiEndpoints:"/getProductFromPurchaseVoucher",defaultFilterIndex:1,bodyData:{VCHRNO:this.formObj.voucherNo,LocID:this.location?this.location:"%",DIVISION:this.masterService.userProfile.userDivision,FISCALID:this.masterService.userProfile.PhiscalYearInfo.PhiscalID},columns:[{key:"MENUCODE",title:"Product Code",hidden:!1,noSearch:!1},{key:"DESCA",title:"Product Name",hidden:!1,noSearch:!1}]},this.genericGridProduct.show()}dblClickProductPopup(o){this.formObj.AssetName=o.DESCA,this.formObj.mcode=o.MCODE}dblClickPopupItem(o){"PRODUCTWISE"===this.searchMode?(this.formObj.mcode=o.MCODE,this.formObj.AssetName=o.DESCA):(this.formObj.voucherNo=o.VCHRNO,this._transactionService.TrnMainObj.REFBILL=o.VCHRNO,this._assetService.getAssetLoctionFromPurchaseVoucher(o.VCHRNO).subscribe(c=>{this.locationList=c.result}))}onReset(){confirm("Are you sure you want to reset ?")&&(this.formObj={},this.getAssetLocation(),this.location=null,this._transactionService.TrnMainObj.AssetsProdList=[],this.location=null)}loadAssetLocation(){"PRODUCTWISE"===this.searchMode?this._assetService.getLocationAssigningProductWise(this.searchBy,this.formObj.mcode,this.location).subscribe(o=>{"ok"==o.status&&(this._transactionService.TrnMainObj.AssetsProdList=o.result)}):"PURCHASEWISE"===this.searchMode&&this._assetService.getLocationAssigningVoucherWise(this.searchBy,this.formObj.voucherNo,this.location,this.formObj.mcode?this.formObj.mcode:"%").subscribe(o=>{"ok"==o.status&&(this._transactionService.TrnMainObj.AssetsProdList=o.result,this._transactionService.TrnMainObj.AssetsProdList.forEach(c=>{this._transactionService.TrnMainObj.NETAMNT+=c.AMOUNT,this._transactionService.TrnMainObj.TOTAMNT+=c.AMOUNT}))})}onSearchModeChange(){this.formObj={},this.getAssetLocation(),this.location=null,this._transactionService.TrnMainObj.AssetsProdList=[]}onSaveClick(){this._transactionService.TrnMainObj.AssetsProdList.forEach(o=>o.RealQty=1),this._transactionService.TrnMainObj.AssetsProdList.forEach(o=>o.REALQTY_IN=0),this._transactionService.TrnMainObj.AssetsProdList=this._transactionService.TrnMainObj.AssetsProdList.filter(o=>o.NewLocID),this._assetService.saveAssetsTransaction(this.assetLocationList.Mode,this._transactionService.TrnMainObj).subscribe(o=>{"ok"==o.status&&(this.alertService.success(o.result),this.formObj={},this._transactionService.TrnMainObj.AssetsProdList=[],this.location=null,this._transactionService.TrnMainObj.guid=x())})}valueChangeForLocation(o,c){this._transactionService.TrnMainObj.AssetsProdList[c].NewLocID=o.target.value}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(p.P),e.Y36(f.C),e.Y36(C.V),e.Y36(v.c),e.Y36(I.p))},s.\u0275cmp=e.Xpm({type:s,selectors:[["asset-location-assigning"]],viewQuery:function(o,c){if(1&o&&(e.Gf(b,5),e.Gf(Z,5)),2&o){let g;e.iGM(g=e.CRH())&&(c.genericGrid=g.first),e.iGM(g=e.CRH())&&(c.genericGridProduct=g.first)}},hostBindings:function(o,c){1&o&&e.NdJ("keydown",function(m){return c.handleKeyDownboardEvent(m)},!1,e.evT)},decls:79,vars:24,consts:[[1,"sectionWrapper"],[1,"topWrapper"],[1,"sticky-top",2,"padding-bottom","1px"],[1,"row","clearfix"],[1,"col-md-2"],[1,"btn","btn-info",3,"click"],[4,"ngIf"],[1,"col-md-3"],[2,"white-space","nowrap","margin-left","-144px","margin-bottom","8px","margin-top","-3px","font-family","Segoe UI Light","font-weight","bold","font-size","20px","padding-left","4%","width","192px"],[1,"col-md-7"],[1,"row","pull-right","mx-2"],["type","button",1,"btn","buton","pull-right",3,"click"],["type","button","routerLink","/pages/dashboard",1,"btn","buton","pull-right"],[2,"margin-top","0.5rem","padding-top","1rem","margin-left","2% !important",3,"hidden"],[1,"form-group","row"],[1,"form-control-label",2,"width","108px"],[2,"width","19%","height","24px",3,"ngModel","ngModelChange","change"],["value","PRODUCTWISE"],["value","PURCHASEWISE"],[1,"searchBy",2,"margin-left","35px"],[1,"form-control-label",2,"width","65px"],["type","radio","value","all",3,"ngModel","ngModelChange"],["type","radio","value","assigned",3,"ngModel","ngModelChange"],["type","radio","value","unassigned",3,"ngModel","ngModelChange"],["class","form-control-label","style","width:108px;",4,"ngIf"],["class","form-control","type","text","style","width: 19%; height: 24px; margin-left: 0;","placeholder"," Press Enter to Select Voucher",3,"ngModel","ngModelChange","keydown.Enter",4,"ngIf"],["class","form-control-label","style","margin-left:37px; width:66px",4,"ngIf"],["class","form-control","type","text","style","width: 19%; height: 24px; margin-left: 0;","placeholder"," Press Enter to Select Item",3,"ngModel","ngModelChange","keydown.Enter",4,"ngIf"],["class","form-control","type","text","style","width: 19%; height: 24px; margin-left: 0;","placeholder","Search AssetID...","name","filter",3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn","load-btn",3,"disabled","click"],[1,"sticky-top",2,"background-color","#CFD5EA","margin-top","10px"],[2,"white-space","nowrap","margin-bottom","8px","margin-top","-3px","font-family","Segoe UI Light","font-weight","bold","font-size","20px","padding-left","4%","width","192px"],[1,"main-container",2,"overflow","auto","max-height","332px","padding-bottom","5px","max-width","95%"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead"],[2,"line-height","2rem"],[1,"fontsize",2,"width","5%","font-weight","bold"],[1,"fontsize",2,"width","15%","font-weight","bold"],[1,"fontsize",2,"width","20%","font-weight","bold"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["classs","card-footer"],["class","pagination",4,"ngIf"],[3,"popupsettings","onItemDoubleClick"],["genericGrid",""],["genericGridProduct",""],[2,"width","19%","height","24px",3,"ngModel","ngModelChange"],[3,"ngValue"],[4,"ngFor","ngForOf"],["type","text","placeholder"," Press Enter to Select Voucher",1,"form-control",2,"width","19%","height","24px","margin-left","0",3,"ngModel","ngModelChange","keydown.Enter"],[1,"form-control-label",2,"margin-left","37px","width","66px"],["type","text","placeholder"," Press Enter to Select Item",1,"form-control",2,"width","19%","height","24px","margin-left","0",3,"ngModel","ngModelChange","keydown.Enter"],["type","text","placeholder","Search AssetID...","name","filter",1,"form-control",2,"width","19%","height","24px","margin-left","0",3,"ngModel","ngModelChange"],[1,"form-control-label",2,"width","66px","margin-left","36px"],[2,"width","19%","height","24px",3,"ngModel","disabled","ngModelChange"],[1,"form-control-label",2,"margin-left","54px","width","60px"],["type","text","placeholder"," Press Enter to Select","readonly","",1,"form-control",2,"width","19%","height","24px","background","white",3,"ngModel","disabled","ngModelChange","keydown.Enter"],[2,"width","5%"],[2,"width","15%"],[2,"width","20%"],[2,"width","55%",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"pagination"],[2,"margin","auto"],[1,"my-pagination",3,"pageChange"]],template:function(o,c){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.NdJ("click",function(){return c.ShowMore()}),e.YNc(6,D,2,0,"span",6),e.YNc(7,N,2,0,"span",6),e.qZA()(),e.TgZ(8,"div",7)(9,"label",8),e._uU(10,"ASSET LOCATION ASSIGNING"),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"button",11),e.NdJ("click",function(){return c.onReset()}),e._uU(14,"Reset"),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return c.onSaveClick()}),e._uU(16,"Save"),e.qZA(),e.TgZ(17,"button",12),e._uU(18,"Back"),e.qZA()()()()(),e.TgZ(19,"div",13)(20,"div")(21,"div",14)(22,"label",15),e._uU(23,"Search Mode:"),e.qZA(),e.TgZ(24,"select",16),e.NdJ("ngModelChange",function(m){return c.searchMode=m})("change",function(){return c.onSearchModeChange()}),e.TgZ(25,"option",17),e._uU(26,"Product Wise"),e.qZA(),e.TgZ(27,"option",18),e._uU(28,"Purchase Voucher Wise"),e.qZA()(),e.TgZ(29,"div",19)(30,"label",20),e._uU(31,"Search by:"),e.qZA(),e.TgZ(32,"input",21),e.NdJ("ngModelChange",function(m){return c.searchBy=m}),e.qZA(),e._uU(33," All \xa0 "),e.TgZ(34,"input",22),e.NdJ("ngModelChange",function(m){return c.searchBy=m}),e.qZA(),e._uU(35," Assigned \xa0 "),e.TgZ(36,"input",23),e.NdJ("ngModelChange",function(m){return c.searchBy=m}),e.qZA(),e._uU(37," Unassigned \xa0 "),e.qZA()(),e.TgZ(38,"div",14),e.YNc(39,F,8,3,"ng-container",6),e.YNc(40,G,2,0,"label",24),e.YNc(41,w,1,1,"input",25),e.YNc(42,W,2,0,"label",26),e.YNc(43,J,1,1,"input",27),e.YNc(44,Q,2,0,"label",26),e.YNc(45,j,1,1,"input",28),e.YNc(46,H,9,5,"ng-container",6),e.TgZ(47,"button",29),e.NdJ("click",function(){return c.loadAssetLocation()}),e._uU(48,"Load"),e.qZA()()()(),e.TgZ(49,"div",30)(50,"div",3)(51,"div",7)(52,"label",31),e._uU(53,"ASSET LIST"),e.qZA()()()(),e.TgZ(54,"div",32)(55,"table",33)(56,"thead",34)(57,"tr",35)(58,"th",36),e._uU(59,"S.N"),e.qZA(),e.TgZ(60,"th",37),e._uU(61,"Asset ID"),e.qZA(),e.TgZ(62,"th",38),e._uU(63,"Product Name"),e.qZA(),e.TgZ(64,"th",38),e._uU(65,"Description"),e.qZA(),e.TgZ(66,"th",38),e._uU(67,"Current Location"),e.qZA(),e.TgZ(68,"th",38),e._uU(69,"Assigning Location"),e.qZA()()(),e.TgZ(70,"tbody",39),e.YNc(71,$,4,12,"ng-container",6),e.qZA()(),e.TgZ(72,"div",40),e.YNc(73,z,3,0,"div",41),e.ALo(74,"searchData"),e.qZA()()()(),e.TgZ(75,"generic-popup-grid",42,43),e.NdJ("onItemDoubleClick",function(m){return c.dblClickPopupItem(m)}),e.qZA(),e.TgZ(77,"generic-popup-grid",42,44),e.NdJ("onItemDoubleClick",function(m){return c.dblClickProductPopup(m)}),e.qZA()),2&o&&(e.xp6(6),e.Q6J("ngIf",!c.masterService.ShowMore),e.xp6(1),e.Q6J("ngIf",c.masterService.ShowMore),e.xp6(12),e.Q6J("hidden",!c.masterService.ShowMore),e.xp6(5),e.Q6J("ngModel",c.searchMode),e.xp6(8),e.Q6J("ngModel",c.searchBy),e.xp6(2),e.Q6J("ngModel",c.searchBy),e.xp6(2),e.Q6J("ngModel",c.searchBy),e.xp6(3),e.Q6J("ngIf","PRODUCTWISE"==c.searchMode),e.xp6(1),e.Q6J("ngIf","PURCHASEWISE"==c.searchMode),e.xp6(1),e.Q6J("ngIf","PURCHASEWISE"==c.searchMode),e.xp6(1),e.Q6J("ngIf","PRODUCTWISE"==c.searchMode),e.xp6(1),e.Q6J("ngIf","PRODUCTWISE"==c.searchMode),e.xp6(1),e.Q6J("ngIf","PRODUCTWISE"==c.searchMode),e.xp6(1),e.Q6J("ngIf","PRODUCTWISE"==c.searchMode),e.xp6(1),e.Q6J("ngIf","PURCHASEWISE"==c.searchMode),e.xp6(1),e.Q6J("disabled",!c.formObj.AssetName&&!c.formObj.voucherNo),e.xp6(24),e.Q6J("ngIf",(null==c._transactionService||null==c._transactionService.TrnMainObj||null==c._transactionService.TrnMainObj.AssetsProdList?null:c._transactionService.TrnMainObj.AssetsProdList.length)>0),e.xp6(2),e.Q6J("ngIf",(null==c._transactionService||null==c._transactionService.TrnMainObj?null:c._transactionService.TrnMainObj.AssetsProdList)&&e.Dn7(74,20,c._transactionService.TrnMainObj.AssetsProdList,c.filter,c.searchProduct).length>c.itemsPerPage),e.xp6(2),e.Q6J("popupsettings",c.gridPopupSettings),e.xp6(2),e.Q6J("popupsettings",c.genericGridProductSetting))},dependencies:[T.sg,T.O5,M.rH,P.YN,P.Kr,P.Fj,P.EJ,P._,P.JJ,P.On,L.Zl,U.LS,U._s,E.C],styles:[".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#4472c4!important;line-height:1rem;z-index:2;color:#fff;font-weight:400!important}#BlueHeaderResizableTable[_ngcontent-%COMP%]{width:92%;margin-left:auto;margin-right:auto;margin-top:17px}.load-btn[_ngcontent-%COMP%]{background-color:#336799;font-size:12px;margin-left:20px;color:#fff;width:6%}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#cfd5ea!important}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e9ebf5!important}.buton[_ngcontent-%COMP%]{background-color:#4472c4;color:#fff;font-size:12px;margin-right:5px;margin-top:2px}"]}),s})()}]}];let X=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[M.Bz.forChild(k),M.Bz]}),s})(),q=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[t.w,S.d],imports:[X]}),s})()}}]);