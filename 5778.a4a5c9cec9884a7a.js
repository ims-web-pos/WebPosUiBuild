"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[5778],{65778:(T,u,c)=>{c.d(u,{L:()=>y});var t=c(64537),d=c(67311),m=c(14970),v=c(7976),C=c(31784),h=c(88692),l=c(20092),f=c(73965);let g=(()=>{class i{transform(e,n,o){if(e)return n?e.filter(s=>{const a=n.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(s.SETTING_NAME?s.SETTING_NAME.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(a))return s}):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"searchData",type:i,pure:!1}),i})();const _=["OtpPopup"];function p(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.categoryClick(s))}),t._uU(2),t.qZA()()}if(2&i){const e=r.$implicit,n=t.oxw(2);t.xp6(1),t.Gre("category-list ",n.getActiveCat(e),""),t.xp6(1),t.hij(" ",e,"")}}function S(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(3);return t.KtG(a.settingClick(s))}),t._uU(2),t.qZA()()}if(2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(1),t.Gre("setting-datalist ",n.getActive(e),""),t.xp6(1),t.hij(" ",e,"")}}function x(i,r){if(1&i&&(t.TgZ(0,"div",26)(1,"table",19)(2,"thead")(3,"tr")(4,"th",20),t._uU(5,"Module"),t.qZA()()(),t.TgZ(6,"tbody"),t.YNc(7,S,3,4,"tr",21),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(7),t.Q6J("ngForOf",e.moduleArray)}}function A(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"input",39),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.KtG(s.SETTING_VALUE=o)}),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.SETTING_VALUE)}}function b(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"input",40),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.KtG(s.SETTING_VALUE=o.target.checked?1:0)}),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("checked",1==e.SETTING_VALUE)}}function M(i,r){if(1&i&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.hij("",e," ")}}function O(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"select",41),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.KtG(s.SETTING_VALUE=o)}),t.YNc(2,M,2,2,"option",42),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.SETTING_VALUE),t.xp6(1),t.Q6J("ngForOf",e.POSSIBLE_VALUES_LIST)}}function E(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",36),t._uU(2),t.qZA(),t.TgZ(3,"td",37),t.YNc(4,A,2,1,"div",38),t.YNc(5,b,2,1,"div",38),t.YNc(6,O,3,2,"div",38),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.SETTING_NAME),t.xp6(2),t.Q6J("ngIf","text"==e.DATA_TYPE.toLowerCase()),t.xp6(1),t.Q6J("ngIf","number"==e.DATA_TYPE.toLowerCase()),t.xp6(1),t.Q6J("ngIf","select"==e.DATA_TYPE),t.xp6(2),t.Oqu(e.DESCRIPTION)}}function P(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"table",29)(3,"thead")(4,"tr")(5,"th",30),t._uU(6,"Setting Name"),t.qZA(),t.TgZ(7,"th",31),t._uU(8,"Setting Value"),t.qZA(),t.TgZ(9,"th",32),t._uU(10,"Description"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,E,9,5,"tr",21),t.ALo(13,"searchData"),t.qZA()()(),t.TgZ(14,"div",33)(15,"div",34)(16,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.setToDefault())}),t._uU(17,"RESET TO DEFAULT"),t.qZA(),t.TgZ(18,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onUpdate())}),t._uU(19,"UPDATE"),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(12),t.Q6J("ngForOf",t.xi3(13,1,e.settingDetails,e.filter))}}function Z(i,r){if(1&i&&(t.TgZ(0,"div",17)(1,"div",18)(2,"table",19)(3,"thead")(4,"tr")(5,"th",20),t._uU(6,"Setting Category"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,p,3,4,"tr",21),t.qZA()()(),t.TgZ(9,"div",22),t.YNc(10,x,8,1,"div",23),t.qZA(),t.YNc(11,P,20,4,"div",24),t.qZA()),2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.categoryName),t.xp6(2),t.Q6J("ngIf",e.isActiveSettingList),t.xp6(1),t.Q6J("ngIf",e.isActiveSettingData)}}function w(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"input",39),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.KtG(s.SETTING_VALUE=o)}),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.SETTING_VALUE)}}function N(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"input",40),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.KtG(s.SETTING_VALUE=o.target.checked?1:0)}),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("checked",1==e.SETTING_VALUE)}}function D(i,r){if(1&i&&(t.TgZ(0,"option",50),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.hij("",e," ")}}function L(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"select",41),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.KtG(s.SETTING_VALUE=o)}),t.YNc(2,D,2,2,"option",49),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.SETTING_VALUE),t.xp6(1),t.Q6J("ngForOf",e.POSSIBLE_VALUES_LIST)}}function U(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",36),t._uU(2),t.qZA(),t.TgZ(3,"td",37),t.YNc(4,w,2,1,"div",38),t.YNc(5,N,2,1,"div",38),t.YNc(6,L,3,2,"div",38),t.qZA(),t.TgZ(7,"td",46),t._uU(8),t.qZA(),t.TgZ(9,"td",47)(10,"button",48),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onInvUpdate(s))}),t._uU(11,"Update"),t.qZA(),t.TgZ(12,"button",48),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onInvReset(s))}),t._uU(13,"Reset to Default"),t.qZA()()()}if(2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.SETTING_NAME),t.xp6(2),t.Q6J("ngIf","text"==e.DATA_TYPE.toLowerCase()),t.xp6(1),t.Q6J("ngIf","number"==e.DATA_TYPE.toLowerCase()),t.xp6(1),t.Q6J("ngIf","select"==e.DATA_TYPE),t.xp6(2),t.Oqu(e.DESCRIPTION)}}function I(i,r){if(1&i&&(t.TgZ(0,"div",17)(1,"div",44)(2,"div",28)(3,"table",29)(4,"thead")(5,"tr")(6,"th",30),t._uU(7,"Setting Name"),t.qZA(),t.TgZ(8,"th",31),t._uU(9,"Setting Value"),t.qZA(),t.TgZ(10,"th",32),t._uU(11,"Description"),t.qZA(),t.TgZ(12,"th",45),t._uU(13,"Action"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,U,14,5,"tr",21),t.ALo(16,"searchData"),t.qZA()()()()()),2&i){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",t.xi3(16,1,e.allSettings,e.filter))}}let y=(()=>{class i{constructor(e,n,o,s){this.alertService=e,this.loadingService=n,this.router=o,this.masterSettingService=s,this.activerowIndex=0,this.showCategoryWiseSetting=!0,this.showAllSetting=!1,this.searchSetting="searchName",this.loadingService.show("Loading setting data..."),this.masterSettingService.getSettingDescription().subscribe(a=>{a&&(this.loadingService.hide(),"ok"==a.status?(this.allSettings=a.result,this.filterCategory()):this.alertService.error(a.result))},a=>{this.loadingService.hide()})}filterCategory(){let e=this.allSettings,n=[];for(let o=0;o<this.allSettings.length;o++)n.push(e[o].CATEGORY);this.categoryName=[...new Set(n)]}ngOnInit(){this.modeTitle="Master Setting Info"}categoryClick(e){this.isActiveSettingList=!0,this.filterModule(e),e!==this.settingName?.CATEGORY&&(this.isActiveSettingData=!1),this.currentChoiceCat=e}filterModule(e){this.currentCatName=e;let n=this.allSettings.filter(s=>s.CATEGORY==e&&s.MODULE),o=[];for(let s=0;s<n.length;s++)o.push(n[s].MODULE);this.moduleArray=[...new Set(o)],this.settingName=n}settingClick(e){this.currnetSetting=e,this.isActiveSettingData=!0;let n=this.settingName.filter(o=>o.MODULE==e);this.settingDetails=n;for(let o=0;o<this.settingDetails?.length;o++)"select"==this.settingDetails[o]?.DATA_TYPE.toLowerCase()&&(this.settingDetails[o].POSSIBLE_VALUES_LIST=this.settingDetails[o].POSSIBLE_VALUES.split(","));this.currentChoiceList=e}getActiveCat(e){return this.currentChoiceCat===e?"active":"not"}getActive(e){return this.currentChoiceList===e?"activeList":"not"}onUpdate(){this.OtpPopup.show(),this.modeName=""}onInvUpdate(e){let n=[];n.push(e),this.settingDetails=n,this.OtpPopup.show(),this.modeName=""}onInvReset(e){let n=[];n.push(e),this.settingDetails=n,this.OtpPopup.show(),this.modeName="reset"}confirmationOkClicked(e){1==e?1==confirm("Are you sure you want to save?")&&(this.loadingService.show("Updating..."),this.masterSettingService.updateSettingDescription(this.settingDetails,this.modeName).subscribe(n=>{n?(this.loadingService.hide(),"ok"==n.status?(this.alertService.success(n.result),this.isActiveSettingData=!1,this.loadingService.show("Loading setting..."),this.masterSettingService.getSettingDescription().subscribe(o=>{o?(this.allSettings=o.result,this.filterCategory(),this.filterModule(this.currentCatName),this.settingClick(this.currnetSetting),this.loadingService.hide(),this.isActiveSettingData=!0):(this.loadingService.hide(),this.alertService.warning(o.result))})):(this.loadingService.hide(),this.alertService.warning(n.result))):(this.loadingService.hide(),this.alertService.warning(n.result))})):this.alertService.error("OTP Invalid")}allSetting(){for(let e=0;e<this.allSettings?.length;e++)"select"==this.allSettings[e]?.DATA_TYPE.toLowerCase()&&(this.allSettings[e].POSSIBLE_VALUES_LIST=this.allSettings[e].POSSIBLE_VALUES.split(","));this.showCategoryWiseSetting=!1,this.showAllSetting=!0}categoryWiseSetting(){this.showCategoryWiseSetting=!0,this.showAllSetting=!1}setToDefault(){this.OtpPopup.show(),this.modeName="reset"}inputChange(){this.isActiveSettingData=!0,this.isActiveSettingList=!0}cancel(){try{this.router.navigate(["./pages/dashboard"])}catch(e){alert(e)}}resetAllNormalSetting(){this.settingDetails=this.allSettings.filter(e=>"Mandatory Settings"!=e.MODULE),this.OtpPopup.show(),this.modeName="reset"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.c),t.Y36(m.V),t.Y36(v.F0),t.Y36(C.W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mastersettings"]],viewQuery:function(e,n){if(1&e&&t.Gf(_,5),2&e){let o;t.iGM(o=t.CRH())&&(n.OtpPopup=o.first)}},decls:26,vars:4,consts:[[1,"sticky-top","row"],[1,"col-md-4","col-5"],[1,"col-md-8","col-7","pull-right"],[1,"pull-right","mx-2",2,"width","100%"],[1,"mx-2",2,"width","100%"],[1,"top-bar"],[1,"mr-3","top-bar-2"],[1,"top-bar-input"],["type","search","placeholder","Search Setting Info...","name","filter",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info","btn-sm","reset_all_setting",3,"click"],["type","button",1,"btn","btn-info","btn-sm","all_setting",3,"click"],["type","button",1,"btn","btn-info","btn-sm","category_setting",3,"click"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"sidebar","mx-auto"],["class","sidebar-list",4,"ngIf"],[3,"okClicked"],["OtpPopup",""],[1,"sidebar-list"],[1,"setting-category"],[1,"table","table-bordered","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"setting-list"],["class","setting-list-2",4,"ngIf"],["class","data-table",4,"ngIf"],[3,"click"],[1,"setting-list-2"],[1,"data-table"],[1,"data-table-2"],[1,"table","table-sm"],["scope","col",1,"setting-name"],["scope","col",1,"setting-value"],["scope","col",1,"setting-description"],[1,"buttons"],[1,"mx-auto"],["type","submit",1,"btn","btn-info","btn-sm",3,"click"],[1,"setting-name-data"],[1,"setting-value-data"],[4,"ngIf"],["type","text",1,"setting-value-input",3,"ngModel","ngModelChange"],["type","checkbox",1,"setting-value-checkbox",3,"checked","change"],[1,"setting-value-select",3,"ngModel","ngModelChange"],["value","",3,"ngValue",4,"ngFor","ngForOf"],["value","",3,"ngValue"],[1,"all-data-table"],["scope","col",1,"actions"],[1,"setting-value-desc"],[1,"action-button-group"],[1,"btn","btn-info","btn-sm","action-button",3,"click"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5"),t._uU(3),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label"),t._uU(10,"Search:"),t.qZA(),t.TgZ(11,"div",7)(12,"input",8),t.NdJ("ngModelChange",function(s){return n.filter=s})("ngModelChange",function(){return n.inputChange()}),t.qZA()()(),t.TgZ(13,"button",9),t.NdJ("click",function(){return n.resetAllNormalSetting()}),t._uU(14,"RESET ALL NORMAL SETTING"),t.qZA(),t.TgZ(15,"button",10),t.NdJ("click",function(){return n.allSetting()}),t._uU(16,"ALL SETTING"),t.qZA(),t.TgZ(17,"button",11),t.NdJ("click",function(){return n.categoryWiseSetting()}),t._uU(18,"CATEGORY WISE SETTING"),t.qZA(),t.TgZ(19,"button",12),t.NdJ("click",function(){return n.cancel()}),t._uU(20,"BACK"),t.qZA()()()()()(),t.TgZ(21,"div",13),t.YNc(22,Z,12,3,"div",14),t.YNc(23,I,17,4,"div",14),t.qZA(),t.TgZ(24,"app-otp",15,16),t.NdJ("okClicked",function(s){return n.confirmationOkClicked(s)}),t.qZA()),2&e&&(t.xp6(3),t.Oqu(n.modeTitle),t.xp6(9),t.Q6J("ngModel",n.filter),t.xp6(10),t.Q6J("ngIf",n.showCategoryWiseSetting),t.xp6(1),t.Q6J("ngIf",n.showAllSetting))},dependencies:[h.sg,h.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,f._,g],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid #cbcbcb;border-radius:3px;color:#000}button[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.5px}.reset_all_setting[_ngcontent-%COMP%]{width:50%}.all_setting[_ngcontent-%COMP%]{width:30%}.category_setting[_ngcontent-%COMP%]{width:45%}label[_ngcontent-%COMP%]{width:62px;height:25px;font-size:13px}p[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:13px}td[_ngcontent-%COMP%]{border-bottom:1px solid #cacaca;font-size:12px}input[_ngcontent-%COMP%]{padding:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:0rem}.card-header[_ngcontent-%COMP%]{background-color:silver}.top-bar[_ngcontent-%COMP%]{display:flex;max-width:45%;min-width:100%;align-items:center}.top-bar-2[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.top-bar-2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.top-bar-input[_ngcontent-%COMP%]{width:100%;margin-top:.2%}.top-bar-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:1.5rem;font-size:13px;width:100%}.sticky-top[_ngcontent-%COMP%]{justify-content:space-between}thead[_ngcontent-%COMP%]{background:#9ccae4;position:sticky;top:0;font-size:13px;background:#628FA5;color:#fff}.tr-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%]{width:99%;height:80vh;margin-top:.3%}.sidebar-list[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.data-table[_ngcontent-%COMP%]{height:91%;width:67%;border-right:1px solid #cacaca}.data-table-2[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto}.setting-name[_ngcontent-%COMP%]{width:25%;border-right:1px solid #cacaca}.setting-value[_ngcontent-%COMP%]{width:13%;border-right:1px solid #cacaca}.setting-description[_ngcontent-%COMP%]{border-right:1px solid #cacaca}.actions[_ngcontent-%COMP%]{width:14%}.setting-action[_ngcontent-%COMP%]{width:13%}.action-button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.setting-category[_ngcontent-%COMP%]{width:13%;min-width:74px;background-color:#d3d3d3;border-bottom:1px solid #cacaca}.setting-list[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden;width:20%}.setting-list-2[_ngcontent-%COMP%]{border-right:1px solid #cacaca;height:100%;border-bottom:1px solid #cacaca}.setting-list-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky}.all-data-table[_ngcontent-%COMP%]{width:100%;border-right:1px solid #cacaca;border-bottom:1px solid #cacaca;border-left:1px solid #cacaca}.action-button[_ngcontent-%COMP%]{font:10px}.setting-value-desc[_ngcontent-%COMP%]{border-right:1px solid #cacaca}th[_ngcontent-%COMP%]{font-weight:400}.category-list[_ngcontent-%COMP%], .setting-datalist[_ngcontent-%COMP%]{cursor:pointer}.active[_ngcontent-%COMP%], .activeList[_ngcontent-%COMP%]{background-color:#cacaca;color:#000}.setting-value-input[_ngcontent-%COMP%]{width:70%;text-align:center}.setting-value-checkbox[_ngcontent-%COMP%]{width:70%;text-align:center;height:16px}.setting-value-select[_ngcontent-%COMP%]{width:70%;text-align:center}.setting-value-data[_ngcontent-%COMP%]{text-align:center;border-right:1px solid #cacaca;vertical-align:middle}.setting-name-data[_ngcontent-%COMP%]{border-right:1px solid #cacaca;border-left:1px solid #cacaca}.buttons[_ngcontent-%COMP%]{width:100%;display:flex}"]}),i})()},31784:(T,u,c)=>{c.d(u,{W:()=>h});var t=c(92340),d=c(64537),m=c(35732),v=c(67297),C=c(71180);let h=(()=>{class l{constructor(g,_,p){this.http=g,this.authService=_,this.state=p}get apiUrl(){let g=t.N.apiUrl,_="";return!!g&&g.length>0&&(_=g),_}getSettingDescription(){return this.http.get(this.apiUrl+"/getSettingDescription")}updateSettingDescription(g,_){return this.http.post(this.apiUrl+"/updateSettingDescription",{mode:_,data:g})}readSettingDescriptionJson(){return this.http.get(this.apiUrl+"/readSettingDescriptionJson")}}return l.\u0275fac=function(g){return new(g||l)(d.LFG(m.eN),d.LFG(v.e),d.LFG(C.q))},l.\u0275prov=d.Yz7({token:l,factory:l.\u0275fac}),l})()}}]);