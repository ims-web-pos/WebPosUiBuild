"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[2113],{72113:(zo,Z,d)=>{d.r(Z),d.d(Z,{ProductMasterModule:()=>Qo});var x=d(56893),p=d(92752),a=d(7587),P=d(48083),t=d(66274),h=d(79765),Q=d(25917),O=d(64298),z=d(92340),Y=d(76165),K=d(71180),S=d(67297),T=d(67311);let C=(()=>{class r{constructor(e,o,n,i,s){this.http=e,this.state=o,this.authservice=n,this.alertService=i,this.arouter=s,this.searchItemList=[],this.EXCEL_TYPE="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",this.EXCEL_EXTENSION=".xlsx",this.PBarCodeList=[],this.MultiStockList=[],this.productObj={},this.pObj={},this.isrowClicked=!1,this.TempProductObj={},this.groupSelectObj={},this.userProfile={},this._ItemList=[],this.imsGridSettings=new O.U5,this.imsGridSettingsforProductList=new O.U5,this.imsGridSettingsforGroupList=new O.U5,this.userProfile=n.getUserProfile()}get apiUrl(){let e=z.N.apiUrl,o="";return!!e&&e.length>0&&(o=e),o}getParentWiseProduct(e){return this.http.get(this.apiUrl+"/getParentWiseProduct/"+e)}getSearchProducts(e){return this.http.get(this.apiUrl+"/getSearchProducts/"+e)}getAutoGenerateMenuCode(e,o){let n={status:"error",result:""},i=new h.xQ;return this.http.get(this.apiUrl+"/getNewMenucode/"+e+"/"+o).subscribe(s=>{"ok"==s.status&&(i.next(s),i.unsubscribe())},s=>{n.status="error",n.result=s,i.next(n),i.unsubscribe()}),i}getUniqueMCode(){let e={status:"error",result:""},o=new h.xQ;return this.http.get(this.apiUrl+"/getUniqueMcode").subscribe(n=>{"ok"==n.status&&(o.next(n),o.unsubscribe())},n=>{e.status="error",e.result=n,o.next(e),o.unsubscribe()}),o}getColorGroup(){return this.http.get(`${this.apiUrl}/getAllProductColorGroup`)}getProduct(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getProduct/"+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error",o.result=i,n.next(o),n.unsubscribe()}),n}getProductForEdit(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getProductByMcode/"+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error",o.result=i,n.next(o),n.unsubscribe()}),n}getProductPriceForView(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getProductPriceByMcode/"+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error",o.result=i,n.next(o),n.unsubscribe()}),n}getInitialValuesForNewProduct(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getInitialValuesForNewProduct/"+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error",o.result=i,n.next(o),n.unsubscribe()}),n}saveBrand(e){let o={status:"error",result:""},n=new h.xQ;return this.http.post(this.apiUrl+"/saveBrand",e).subscribe(s=>{let l=s;"ok"==l.status?(o.status="ok",o.result=l.result,n.next(o),n.unsubscribe()):(o.status="error1",o.result=l.result,n.next(o),n.unsubscribe())},s=>{o.status="error2",o.result=s,n.next(o),n.unsubscribe()}),n}saveModel(e){let o={status:"error",result:""},n=new h.xQ;return this.http.post(this.apiUrl+"/saveModel",e).subscribe(s=>{let l=s;"ok"==l.status?(o.status="ok",o.result=l.result,n.next(o),n.unsubscribe()):(o.status="error1",o.result=l.result,n.next(o),n.unsubscribe())},s=>{o.status="error2",o.result=s,n.next(o),n.unsubscribe()}),n}getListFromKey(e,o){let n={status:"error",result:""},i=new h.xQ;return this.http.get(this.apiUrl+e+o).subscribe(s=>{i.next(s),i.unsubscribe()},s=>{n.status="error",n.result=s,i.next(n),i.unsubscribe()}),i}getUploadFile(e){let o={status:"error",result:"error"},n=new h.xQ;return this.http.post(this.apiUrl+"/SaveImportMenuitemFile",e).subscribe(s=>{n.next(s),n.unsubscribe()},s=>{o.status="error",o.result=s,n.next(o),n.unsubscribe()}),n}GetAllProducts(){try{return this._ItemList.length>0?(0,Q.of)(this._ItemList):(this._ItemListObservable$||(this._ItemListObservable$=null,this._ItemListObservable$=this.http.get(this.apiUrl+"/AllProducts").map(e=>(this._ItemList.push(e),this._ItemList))),this._ItemListObservable$)}catch{}}productMasterTableSetting(e){return{mode:"external",add:{addButtonContent:""},view:{viewButtonContent:"View",saveButtonContent:'<i class="ion-checkmark"></i>',cancelButtonContent:'<i class="ion-close"></i>'},edit:{editButtonContent:"Edit",saveButtonContent:'<i class="ion-checkmark"></i>',cancelButtonContent:'<i class="ion-close"></i>'},delete:{deleteButtonContent:" ",confirmDelete:!0},columns:{MENUCODE:{title:"Product Code",type:"number"},DESCA:{title:"Product Name",type:"string"},MotherPack:{title:"Mother Pack",type:"string"},Brand:{title:"Brand",type:"string"},BusinessUnit:{title:"Business Unit",type:"string"},STATUS:{title:"Status",type:"string",width:"9%",valuePrepareFunction:o=>1==o?"Active":"InActive",filter:{type:"list",config:{selectText:"Show all",list:[{value:1,title:"Active"},{value:0,title:"InActive"}]}}}}}}getimsgridSetting(){return this.imsGridSettings={title:"All Product",apiEndpoints:"/GetAllProduct",pageSize:10,showActionButton:!0,columns:[{key:"DESCA",title:"Item Name",hidden:!1,noSearch:!1,type:"string",width:"250px"},{key:"MENUCODE",title:"Item Code",hidden:!1,noSearch:!1,type:"string",width:"112px"},{key:"BASEUNIT",title:"Unit",hidden:!1,noSearch:!1,type:"string",width:"70px"},{key:"PRATE_A",title:"P-Rate",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"RATE_A",title:"S-Rate",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"VAT",title:"Vat",hidden:!1,width:"72px",noSearch:!1,type:"string"},{key:"PARENTS",title:"Parent",hidden:!1,noSearch:!1,type:"string",width:"160px"},{key:"status",title:"Status",width:"104px",valuePrepareFunction:e=>1==e?"Active":"InActive"}],actionKeys:[{text:"view",title:"View",icon:"fa fa-view",type:O.Dw.VIEW},{text:"Edit",title:"Edit",icon:"fa fa-eye",type:O.Dw.EDIT}]}}getProductList(){return this.imsGridSettingsforProductList={title:"All Product",apiEndpoints:"/getAllProductList",pageSize:10,showActionButton:!0,columns:[{key:"DESCA",title:"Item Name",hidden:!1,noSearch:!1,type:"string",width:"250px"},{key:"ITEM_CODE",title:"Item Code",hidden:!1,noSearch:!1,type:"string",width:"112px"},{key:"UNIT",title:"Unit",hidden:!1,noSearch:!1,type:"string",width:"70px"},{key:"PRATE",title:"P-Rate",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"SRATE",title:"S-Rate",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"VAT",title:"Vat",hidden:!1,width:"72px",noSearch:!1,type:"string"},{key:"PARENT",title:"Parent",hidden:!1,noSearch:!1,type:"string",width:"160px"},{key:"SUPPLIER",title:"Supplier",hidden:!1,noSearch:!1,type:"string",width:"160px"},{key:"BARCODE",title:"Barcode",hidden:!1,noSearch:!1,type:"string",width:"160px"},{key:"MCODE",title:"Mcode",hidden:!1,noSearch:!1,type:"string",width:"160px"}],actionKeys:[{text:"view",title:"View",icon:"fa fa-view",type:O.Dw.VIEW},{text:"Edit",title:"Edit",icon:"fa fa-eye",type:O.Dw.EDIT}]}}getGroupList(){return this.imsGridSettingsforGroupList={title:"All Group",apiEndpoints:"/getAllGroupList",pageSize:10,showActionButton:!0,columns:[{key:"DESCA",title:"Group Name",hidden:!1,noSearch:!1,type:"string",width:"250px"},{key:"PARENT_GROUP",title:"Parent Group",hidden:!1,noSearch:!1,type:"string",width:"112px"},{key:"GROUP_CODE",title:"Group Code",hidden:!1,noSearch:!1,type:"string",width:"70px"},{key:"REC_MARGIN",title:"Rec Margin",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"CATEGORY",title:"Category",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"EXTRA_CATEGORY",title:"Extra Catagory",hidden:!1,width:"72px",noSearch:!1,type:"string"},{key:"MCODE",title:"Mcode",hidden:!1,noSearch:!1,type:"string",width:"160px"}],actionKeys:[{text:"view",title:"View",icon:"fa fa-view",type:O.Dw.VIEW},{text:"Edit",title:"Edit",icon:"fa fa-eye",type:O.Dw.EDIT}]}}getMCATbyId(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getMCATbyId/"+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error",o.result=i,n.next(o),n.unsubscribe()}),n}getMCAT1byId(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getMCAT1byId/"+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error",o.result=i,n.next(o),n.unsubscribe()}),n}getRecMargin(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getRecMargin/"+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error",o.result=i,n.next(o),n.unsubscribe()}),n}getFCodeFromTreeNode(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getFcodeFromTreeNode/"+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error",o.result=i,n.next(o),n.unsubscribe()}),n}getECODE(e,o){let n={status:"error",result:""},i=new h.xQ;return this.http.get(this.apiUrl+"/getMaxECode/"+e+"/"+o).subscribe(s=>{i.next(s),i.unsubscribe()},s=>{n.status="error",n.result=s,i.next(n),i.unsubscribe()}),i}deleteMenuitem(e,o){let i=new h.xQ;return this.http.get(this.apiUrl+"/DeleteProductMasterFromMCode/"+e+"/"+o).subscribe(s=>{"ok"==s.status&&(i.next(s),i.unsubscribe())}),i}nullToZeroConverter(e){return void 0===e||null==e||""===e||"Infinity"===e||"NaN"===e||isNaN(parseFloat(e))?0:parseFloat(e)}getProductGroupListByID(e,o,n,i,s,l="",u=""){let _={status:"error",result:""},g=new h.xQ,b=`/getPaginatedProductGroupListByID?ID=${e}&PARENTID=${o}&HASCHILD=${n}&sortBy=${l}&currentPage=${i}&maxResultCount=${s}`;return u&&(b=`/getPaginatedProductGroupListByID?ID=${e}&PARENTID=${o}&HASCHILD=${n}&sortBy=${l}&currentPage=${i}&maxResultCount=${s}&filters=${u}`),this.http.get(this.apiUrl+b).subscribe(m=>{g.next(m),g.unsubscribe()},m=>{_.status="error",_.result=m,g.next(_),g.unsubscribe()}),g}getProductListByID(e,o,n,i,s,l="",u=""){let _={status:"error",result:""},g=new h.xQ,b=`/getPaginatedProductListByID?ID=${e}&PARENTID=${o}&HASCHILD=${n}&sortBy=${l}&currentPage=${i}&maxResultCount=${s}`;return u&&""!=u&&null!=u&&(console.log("filters1",u),b=`/getPaginatedProductListByID?ID=${e}&PARENTID=${o}&HASCHILD=${n}&sortBy=${l}&currentPage=${i}&maxResultCount=${s}&filters=${u}`),this.http.get(this.apiUrl+b).subscribe(m=>{g.next(m),g.unsubscribe()},m=>{_.status="error",_.result=m,g.next(_),g.unsubscribe()}),g}getMCODEusingBCODE(e){let o={status:"error",result:""},n=new h.xQ;return this.http.post(this.apiUrl+"/getMCODEusingBCODE",{ID:e}).subscribe(s=>{n.next(s),n.unsubscribe()},s=>{o.status="error",o.result=s,n.next(o),n.unsubscribe()}),n}getMCODEusingBARCODE(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getMCODEusingBARCODE/"+e).subscribe(s=>{n.next(s),n.unsubscribe()},s=>{o.status="error",o.result=s,n.next(o),n.unsubscribe()}),n}getChildrenGrpAndItem(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getChildrenGrpAndItem/"+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error",o.result=i,n.next(o),n.unsubscribe()}),n}getProductListByIDandDate(e,o,n,i){let s={status:"error",result:""},l=new h.xQ;return this.http.post(this.apiUrl+"/getProductListByID",{ID:e,PARENTID:o,HASCHILD:n,sort:i}).subscribe(_=>{l.next(_),l.unsubscribe()},_=>{s.status="error",s.result=_,l.next(s),l.unsubscribe()}),l}getProductGroupListByIDandDate(e,o,n,i){let s={status:"error",result:""},l=new h.xQ;return this.http.post(this.apiUrl+"/getProductGroupListByID",{ID:e,PARENTID:o,HASCHILD:n,sort:i}).subscribe(_=>{l.next(_),l.unsubscribe()},_=>{s.status="error",s.result=_,l.next(s),l.unsubscribe()}),l}updateBarcodeMapping(e){return this.http.post(this.apiUrl+"/UpdateBarcodeMapping",e)}checkDuplicateBarcode(e,o){null==o&&(o="null");let n={status:"error",result:""},i=new h.xQ;return this.http.get(this.apiUrl+"/checkDuplicateBarcode/"+e+"/"+o).subscribe(s=>{i.next(s),i.unsubscribe()},s=>{n.status="error",n.result=s,i.next(n),i.unsubscribe()}),i}getMainGroupList(){let e={status:"error",result:""},o=new h.xQ;return this.http.get(this.apiUrl+"/getMainGroupList").subscribe(n=>{o.next(n),o.unsubscribe()},n=>{e.status="error",e.result=n,o.next(e),o.unsubscribe()}),o}getSubGroupList(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getSubGroupList?SELECTEDGROUPID="+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error2",o.result=i,n.next(o),n.unsubscribe()}),n}getProductInfo(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getProductInfo?GROUPID="+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error2",o.result=i,n.next(o),n.unsubscribe()}),n}getProductGroupTree(){return this.http.get(this.apiUrl+"/getProductGroupTreeV2")}getProductAttributes(e){return this.http.get(this.apiUrl+`/getProductAttributes?MCODE=${e}`)}getGroupChild(e,o){return this.http.get(this.apiUrl+`/getGroupChild?level=${e}&parent=${o}`)}getSearchedGroup(e,o){return this.http.get(this.apiUrl+`/getSearchedGroup?searchValue=${e}&serachFlag=${o}`)}getGroupHierarchy(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/getGroupHierarchy?GROUPID="+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error2",o.result=i,n.next(o),n.unsubscribe()}),n}checkProductTransaction(e){let o={status:"error",result:""},n=new h.xQ;return this.http.get(this.apiUrl+"/checkProductTransaction?GROUPID="+e).subscribe(i=>{n.next(i),n.unsubscribe()},i=>{o.status="error2",o.result=i,n.next(o),n.unsubscribe()}),n}getCustomFields(e){return this.http.post(`${this.apiUrl}/GetRoomCustomFields`,{EntityName:"product",EntityId:e})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Y.eN),t.LFG(K.q),t.LFG(S.e),t.LFG(T.c),t.LFG(P.gz))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();var W=d(47767),I=d(19344),$=d(49457),k=d(38011),f=d(53074),v=d(69389),w=d(14970),D=d(97811);const X=["*"];let L=(()=>{class r{constructor(){this.active=!1}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["hometab"]],inputs:{title:["tabTitle","title"],active:"active"},ngContentSelectors:X,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&e&&t.Q6J("hidden",!o.active)},styles:[".pane[_ngcontent-%COMP%]{padding:0 20px 0 0}"]}),r})();var E=d(24315);function tt(r,c){if(1&r&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.UNITS),t.xp6(1),t.Oqu(e.UNITS)}}function et(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr",25)(1,"td",26),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t._uU(4),t.qZA(),t.TgZ(5,"td",27),t._uU(6),t.qZA(),t.TgZ(7,"td",28),t._uU(8),t.qZA(),t.TgZ(9,"td",27),t._uU(10),t.qZA(),t.TgZ(11,"td",29)(12,"button",30),t.NdJ("click",function(){const n=t.CHM(e),i=n.$implicit,s=n.index,l=t.oxw();return t.KtG(l.Edit(i,s))}),t._uU(13,"EDIT"),t.qZA(),t.TgZ(14,"button",31),t.NdJ("click",function(){const n=t.CHM(e),i=n.$implicit,s=n.index,l=t.oxw();return t.KtG(l.Delete(i,s))}),t._uU(15,"-"),t.qZA()()()}if(2&r){const e=c.$implicit,o=c.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.ALTUNIT),t.xp6(2),t.Oqu(e.CONFACTOR),t.xp6(2),t.Oqu(e.ISDEFAULTORDERUNIT),t.xp6(2),t.Oqu(e.ISDISCONTINUE)}}function ot(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr",34)(1,"td",26),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t._uU(4),t.qZA(),t.TgZ(5,"td",28),t._uU(6),t.qZA(),t.TgZ(7,"td",28),t._uU(8),t.qZA(),t.TgZ(9,"td",27),t._uU(10),t.qZA(),t.TgZ(11,"td",29)(12,"button",30),t.NdJ("click",function(){const n=t.CHM(e),i=n.$implicit,s=n.index,l=t.oxw(2);return t.KtG(l.Edit(i,s))}),t._uU(13,"EDIT"),t.qZA(),t.TgZ(14,"button",31),t.NdJ("click",function(){const n=t.CHM(e),i=n.$implicit,s=n.index,l=t.oxw(2);return t.KtG(l.Delete(i,s))}),t._uU(15,"-"),t.qZA()()()}if(2&r){const e=c.$implicit,o=c.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.ALTUNIT),t.xp6(2),t.Oqu(e.CONFACTOR),t.xp6(2),t.Oqu(e.ISDEFAULTORDERUNIT),t.xp6(2),t.Oqu(e.ISDISCONTINUE)}}function nt(r,c){if(1&r&&(t.TgZ(0,"tbody",32),t.YNc(1,ot,16,5,"tr",33),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.AlternateUnitsTemp)}}let it=(()=>{class r{constructor(e,o,n){this.masterService=e,this._alertService=o,this.ProductService=n,this.Units=[],this.productObj={},this.CurAltUnit={},this.AlternateUnits=[],this.AlternateUnitsTemp=[],this.isrowAdded=!1,this.CurAltUnitTemp={},this.countaddedItem=0,this.appType=this.masterService.appType,this.masterService.getUnits().subscribe(i=>{this.Units=i})}ngOnInit(){try{this.isrowAdded=!1,this.initialAddRow()}catch(e){this._alertService.error(e)}this.CurAltUnit.ISDEFAULT=0,this.CurAltUnit.ISDISCONTINUE=0,this.CurAltUnit.ISDEFAULTPRATE=0,this.CurAltUnit.ISDEFAULTORDERUNIT=0}AddAltUnit(){try{if(this.productObj.BASEUNIT==this.CurAltUnit.ALTUNIT)return void this._alertService.error("Error! Stock Unit and Alternate Unit cannot be the same.");if(this.AlternateUnits.filter(e=>e.ALTUNIT==this.CurAltUnit.ALTUNIT).length>0)return void this._alertService.error("Error! You cannot have two Items with the same Alternate Unit.");this.AlternateUnits.push(this.CurAltUnit),this.CurAltUnit={},this.CurAltUnitTemp={},this.CurAltUnit.ISDEFAULT=0,this.CurAltUnit.ISDISCONTINUE=0,this.CurAltUnit.ISDEFAULTPRATE=0,this.CurAltUnit.ISDEFAULTORDERUNIT=0,this.isrowAdded=!0}catch(e){this._alertService.error(e)}}removeAU(e){try{this.AlternateUnits.splice(e,1)}catch(o){this._alertService.error(o)}}editAU(e){try{this.CurAltUnit=this.AlternateUnits[e],this.AlternateUnits.splice(e,1)}catch(o){this._alertService.error(o)}}RecalculateVATAmount(){if(1==this.productObj.VAT){if(this.CurAltUnit.SRATE_DISCOUNT){let e=(this.CurAltUnit.SRATE_DISCOUNT/1.13).toFixed(5);this.CurAltUnit.EX_RATE=Number(e)}if(this.CurAltUnit.WSRATE_DISCOUNT){let e=(this.CurAltUnit.WSRATE_DISCOUNT/1.13).toFixed(5);this.CurAltUnit.EX_RATE_B=Number(e)}if(this.CurAltUnit.IN_PRATE){let e=(this.CurAltUnit.IN_PRATE/1.13).toFixed(5);this.CurAltUnit.PRATE=Number(e)}}else this.CurAltUnit.SRATE_DISCOUNT&&(this.CurAltUnit.EX_RATE=this.CurAltUnit.SRATE_DISCOUNT),this.CurAltUnit.WSRATE_DISCOUNT&&(this.CurAltUnit.EX_RATE_B=this.CurAltUnit.WSRATE_DISCOUNT),this.CurAltUnit.IN_PRATE&&(this.CurAltUnit.PRATE=this.CurAltUnit.IN_PRATE)}RecalculateNonVATAmount_EX_RATE(){if(1==this.productObj.VAT&&this.CurAltUnit.EX_RATE){let e=(1.13*(this.CurAltUnit.EX_RATE+this.ProductService.nullToZeroConverter(this.CurAltUnit.SRATE_DISCOUNT))).toFixed(5);this.CurAltUnit.SRATE_DISCOUNT=Number(e)}}RecalculateNonVATAmount_EX_RATE_B(){if(1==this.productObj.VAT&&this.CurAltUnit.EX_RATE_B){let e=(1.13*(this.CurAltUnit.EX_RATE_B+this.ProductService.nullToZeroConverter(this.CurAltUnit.WSRATE_DISCOUNT))).toFixed(5);this.CurAltUnit.WSRATE_DISCOUNT=Number(e)}}RecalculateNonVATAmount_Ex_Prate_A(){if(1==this.productObj.VAT&&this.CurAltUnit.PRATE){let e=(1.13*(this.CurAltUnit.PRATE+this.ProductService.nullToZeroConverter(this.CurAltUnit.IN_PRATE))).toFixed(5);this.CurAltUnit.IN_PRATE=Number(e)}}getValueFromDetailInfo(){this.CurAltUnit.BASEUOM=this.productObj.BASEUNIT}initialAddRow(e=0){for(let n=0;n<=4;n++)this.AlternateUnitsTemp.push(this.CurAltUnitTemp)}Edit(e,o){this.CurAltUnit=e,this.AlternateUnits.splice(o,1)}Delete(e,o){this.AlternateUnits.splice(o,1)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.P),t.Y36(T.c),t.Y36(C))},r.\u0275cmp=t.Xpm({type:r,selectors:[["alternateunittab"]],inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits"},decls:51,vars:11,consts:[[1,"col-md-12","row"],[1,"col-md-4"],["type","text","readonly","",2,"width","20%",3,"ngModel","ngModelChange"],[2,"width","38%","margin-left","20px"],[2,"margin-top","-20px"],[2,"width","20%",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text",2,"width","38%","margin-left","20px",3,"ngModel","ngModelChange"],[2,"padding-left","20px"],["type","checkbox",2,"margin-left","1%",3,"ngModel","checked","ngModelChange","change"],[2,"margin-left","5px","font-size","11px"],["type","checkbox",2,"margin-left","5%",3,"ngModel","checked","ngModelChange","change"],[2,"padding-left","20px","margin-top","20%"],[1,"btn","btn-info",2,"float","right","font-size","12px",3,"disabled","click"],[1,"col-md-12"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","4%","font-weight","bold"],[1,"fontsize",2,"width","9%","font-weight","bold"],[1,"fontsize",2,"width","11%","font-weight","bold"],[1,"fontsize",2,"width","9%","font-weight","bold","text-align","center"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 30px;",4,"ngFor","ngForOf"],["style","height:150px;overflow:auto;scrollbar-3dlight-color:#FFFFFF;scrollbar-arrow-color:#000000;scrollbar-base-color:#FF9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033CC;",4,"ngIf"],[3,"ngValue"],[2,"line-height","30px"],[1,"fontsize",2,"width","4%"],[1,"fontsize",2,"width","9%"],[1,"fontsize",2,"width","11%"],[1,"fontsize",2,"width","9%","text-align","center"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[2,"height","150px","overflow","auto","scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 10px;",4,"ngFor","ngForOf"],[2,"line-height","10px"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div")(4,"div")(5,"label"),t._uU(6,"Stock unit"),t.qZA(),t.TgZ(7,"input",2),t.NdJ("ngModelChange",function(i){return o.productObj.BASEUNIT=i}),t.qZA(),t.TgZ(8,"label",3),t._uU(9,"Conversion Factor"),t.qZA()(),t._UZ(10,"br"),t.TgZ(11,"div",4)(12,"label"),t._uU(13,"Alternate unit"),t.qZA(),t.TgZ(14,"select",5),t.NdJ("ngModelChange",function(i){return o.CurAltUnit.ALTUNIT=i}),t.YNc(15,tt,2,2,"option",6),t.qZA(),t.TgZ(16,"input",7),t.NdJ("ngModelChange",function(i){return o.CurAltUnit.CONFACTOR=i}),t.qZA()(),t._UZ(17,"br"),t.qZA(),t._UZ(18,"br"),t.qZA(),t.TgZ(19,"div",1)(20,"div",8)(21,"input",9),t.NdJ("ngModelChange",function(i){return o.CurAltUnit.ISDEFAULTORDERUNIT=i})("change",function(i){return o.CurAltUnit.ISDEFAULTORDERUNIT=i.target.checked?1:0}),t.qZA(),t.TgZ(22,"a",10),t._uU(23,"Is Default Order Unit"),t.qZA(),t.TgZ(24,"input",11),t.NdJ("ngModelChange",function(i){return o.CurAltUnit.ISDISCONTINUE=i})("change",function(i){return o.CurAltUnit.ISDISCONTINUE=i.target.checked?1:0}),t.qZA(),t.TgZ(25,"a",10),t._uU(26,"Set As Discontinue"),t.qZA(),t._UZ(27,"br"),t.qZA()(),t.TgZ(28,"div",1)(29,"div",12)(30,"button",13),t.NdJ("click",function(){return o.AddAltUnit()}),t._uU(31," Add"),t.qZA()()()()(),t.TgZ(32,"div",14)(33,"table",15)(34,"thead")(35,"tr",16)(36,"th",17),t._uU(37,"SN"),t.qZA(),t.TgZ(38,"th",18),t._uU(39,"Alternate Unit"),t.qZA(),t.TgZ(40,"th",19),t._uU(41,"Conversion Factor"),t.qZA(),t.TgZ(42,"th",19),t._uU(43,"Is Default Order Unit"),t.qZA(),t.TgZ(44,"th",18),t._uU(45,"Discontinue"),t.qZA(),t.TgZ(46,"th",20),t._uU(47,"Actions"),t.qZA()()(),t.TgZ(48,"tbody",21),t.YNc(49,et,16,5,"tr",22),t.qZA(),t.YNc(50,nt,2,1,"tbody",23),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngModel",o.productObj.BASEUNIT),t.xp6(7),t.Q6J("ngModel",o.CurAltUnit.ALTUNIT),t.xp6(1),t.Q6J("ngForOf",o.Units),t.xp6(1),t.Q6J("ngModel",o.CurAltUnit.CONFACTOR),t.xp6(5),t.Q6J("ngModel",o.CurAltUnit.ISDEFAULTORDERUNIT)("checked",1==o.CurAltUnit.ISDEFAULTORDERUNIT),t.xp6(3),t.Q6J("ngModel",o.CurAltUnit.ISDISCONTINUE)("checked",1==o.CurAltUnit.ISDISCONTINUE),t.xp6(6),t.Q6J("disabled",null==o.CurAltUnit.ALTUNIT||null==o.CurAltUnit.CONFACTOR||""==o.CurAltUnit.ALTUNIT||0==o.CurAltUnit.CONFACTOR),t.xp6(19),t.Q6J("ngForOf",o.AlternateUnits),t.xp6(1),t.Q6J("ngIf",0==o.isrowAdded))},dependencies:[p.sg,p.O5,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.On],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}",".col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n    \n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n    \n    .ThirtyTreeLabel[_ngcontent-%COMP%] {\n        width: 28.5%;\n    }\n    \n    .fourtyfive[_ngcontent-%COMP%] {\n        width: 45%;\n    }\n    \n    .thirtysix[_ngcontent-%COMP%] {\n        width: 36%;\n    }\n    \n    .fontsize[_ngcontent-%COMP%] {\n        font-size: 12px;\n    }\n    \n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n        width: 100%;\n    }\n    \n    \n    \n    \n    \n    label[_ngcontent-%COMP%] {\n        font-size: 11px;\n    }\n\n    .stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    position: sticky;\n    top: 0;\n    background-color: #6bb9b1 !important;\n    line-height: 2rem;\n    z-index: 2\n  }\n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),r})();const rt=["smBarcode"];function st(r,c){if(1&r&&(t.TgZ(0,"option",7),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.ALTUNIT),t.xp6(1),t.Oqu(e.ALTUNIT)}}const ct=function(r){return{tooltipChild:r}};function lt(r,c){if(1&r&&(t.ynx(0),t._UZ(1,"span",34),t.BQk()),2&r){const e=t.oxw().index,o=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,ct,o.hoverId==e))("innerHTML",o.stringValue,t.oJD)}}function at(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr",23)(1,"td",24),t._uU(2),t.qZA(),t.TgZ(3,"td",25),t.NdJ("mouseover",function(){const n=t.CHM(e),i=n.index,s=n.$implicit,l=t.oxw();return t.KtG(l.hover(i,s.BARCODEDETAILS))}),t._uU(4),t.YNc(5,lt,2,4,"ng-container",26),t.qZA(),t.TgZ(6,"td",27),t._uU(7),t.qZA(),t.TgZ(8,"td",28)(9,"input",29),t.NdJ("change",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.DISCONTINUE=n.target.checked?1:0)})("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.DISCONTINUE=n)}),t.qZA()(),t.TgZ(10,"td",30),t._uU(11),t.qZA(),t.TgZ(12,"td",31)(13,"button",32),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw();return t.KtG(s.editMSLevel(i))}),t._uU(14,"EDIT"),t.qZA(),t.TgZ(15,"button",33),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw();return t.KtG(s.removeMSLevel(i))}),t._uU(16,"Remove"),t.qZA()()()}if(2&r){const e=c.$implicit,o=c.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.hij("",e.BCODE," "),t.xp6(1),t.Q6J("ngIf",e.BARCODEDETAILS),t.xp6(2),t.Oqu(e.UNIT),t.xp6(2),t.Q6J("ngModel",e.DISCONTINUE),t.xp6(2),t.Oqu(e.ISOLD)}}let dt=(()=>{class r{constructor(e,o,n,i,s){this.masterService=e,this.setting=o,this.alertSevice=n,this.productService=i,this.ProductService=s,this.productObj={},this.PBarCode={},this.PBarCodeCollection=[],this.AlternateUnits=[],this.BCodeDetails=[],this.SupplierList=[],this.DivisionList=[],this.Units=[],this.barcodeUnits=[],this.active=0,this.stringValue="";try{this.AppSettings=this.setting.appSetting,this.userSetting=this.setting.cacheSetting}catch(l){alert(l)}}ngOnInit(){try{this.Units=this.AlternateUnits,console.log(this.Units),this.masterService.getBCodeDetails().subscribe(e=>{this.BCodeDetails.push(e)}),setTimeout(()=>{this.PBarCode.UNIT=this.productObj.BASEUNIT},3e3),this.PBarCode.ISOLD=0}catch(e){alert(e)}}supplierChangeEvent(){try{this.PBarCode.SUPCODE=this.PBarCode.SupplierAccount.ACID}catch(e){alert(e)}}divChangeEvent(){try{this.PBarCode.DIV=this.PBarCode.Division.INITIAL}catch(e){alert(e)}}PBarcodeInitialize(){try{this.PBarCode={},this.PBarCode.Division={},this.PBarCode.SupplierAccount={}}catch(e){alert(e)}}AddBCode(){try{console.log("PBARCODE on AddBCode",this.PBarCode),this.PBarCode.MCODE=this.masterService.ProductMcode,this.PBarCodeCollection.push(this.PBarCode),console.log("PbarCodeCollection",this.PBarCodeCollection)}catch(e){alert(e)}}removeMSLevel(e){try{this.masterService.checkBarcodeTransaction(this.PBarCodeCollection[e].BCODE).subscribe(o=>{"ok"===o.status?this.PBarCodeCollection.splice(e,1):this.alertSevice.info(o.result)})}catch(o){alert(o)}}editMSLevel(e){try{this.masterService.checkBarcodeTransaction(this.PBarCodeCollection[e].BCODE).subscribe(o=>{"ok"===o.status?(this.PBarCode=this.PBarCodeCollection[e],this.PBarCode.SRATE=this.PBarCodeCollection[e].MRP_WO_VAT,this.PBarCodeCollection.splice(e,1)):this.alertSevice.info(o.result)})}catch(o){alert(o)}}smBarcodeshow(){try{this.BCodeDetails=this.PBarCode.BCodeDetails,this.smBarcode.show()}catch(e){alert(e)}}smBarcodeSave(){try{this.PBarCode.BCodeDetails=this.BCodeDetails,this.smBarcode.hide()}catch(e){alert(e)}}ReCalculateVamAmt(){if(1==this.productObj.VAT){if(this.PBarCode.MRP||0==this.PBarCode.MRP||null==this.PBarCode.MRP){let e=(this.PBarCode.MRP/1.13).toFixed(5);this.PBarCode.MRP_WO_VAT=this.PBarCode.SRATE=Number(e)}}else this.PBarCode.MRP_WO_VAT=this.PBarCode.SRATE=this.PBarCode.MRP}ReCalculateNonVamAmt(){if(1==this.productObj.VAT&&(this.PBarCode.MRP_WO_VAT=this.PBarCode.SRATE,this.PBarCode.SRATE)){let e=(1.13*(this.PBarCode.SRATE+this.ProductService.nullToZeroConverter(this.PBarCode.MRP))).toFixed(5);this.PBarCode.MRP=Number(e)}}BarcodeChangeEvent(){"Edit Product"==this.masterService.modeIs&&(this.productService.PBarCodeList=this.PBarCodeCollection)}updateBarcode(){this.productObj.BARCODE=this.PBarCode.BCODE,this.PBarCode.BCODE?(this.AddBCode(),this.PBarCode={},this.productService.updateBarcodeMapping(this.PBarCodeCollection).subscribe(e=>{})):this.alertSevice.warning("BarCode can not be null")}discontinueBC(e){console.log("disconitnue BC",e),1==e?this.PBarCode.ISOLD=1:0==e&&(this.PBarCode.ISOLD=0)}hover(e,o){this.stringValue="",this.hoverId=e,null!==o&&(o=JSON.parse(o),this.hoverObj=o,this.propertiesName=Object.getOwnPropertyNames(o),this.propertiesName.forEach(n=>{this.stringValue=` ${this.stringValue}<b>${n}</b> : ${this.hoverObj[n]} `}))}addBarcode(){this.PBarCode.BCODE?null!=this.PBarCode.UNIT?this.PBarCodeCollection.find(e=>e.BCODE===this.PBarCode.BCODE)?this.alertSevice.info("Duplicate barcode is found"):""!=this.productObj.MENUCODE&&null!=this.productObj.MENUCODE&&null!=this.productObj.MENUCODE?this.productService.checkDuplicateBarcode(this.PBarCode.BCODE,this.productObj.MCODE).subscribe(e=>{if(console.log("checkduplicate",e),e.status="ok"){if("EXIST"==e.result)return void this.alertSevice.warning("Entered Barcode already exists for some other product");this.PBarCode.ISDEFAULT=0,this.PBarCode.DISCONTINUE=0,this.PBarCodeCollection.push(this.PBarCode),this.PBarCode={},this.PBarCode.ISOLD=0}}):this.alertSevice.warning("Product code not found !"):this.alertSevice.warning("Unit cannot be null"):this.alertSevice.warning("BarCode can not be null")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.P),t.Y36(v.R),t.Y36(T.c),t.Y36(C),t.Y36(C))},r.\u0275cmp=t.Xpm({type:r,selectors:[["barcodetab"]],viewQuery:function(e,o){if(1&e&&t.Gf(rt,5),2&e){let n;t.iGM(n=t.CRH())&&(o.smBarcode=n.first)}},inputs:{productObj:"productObj",AppSettings:"AppSettings",PBarCodeCollection:"PBarCodeCollection",AlternateUnits:"AlternateUnits"},decls:39,vars:6,consts:[[2,"margin-left","5px"],[1,"col-md-12","row"],[1,"col-md-5",2,"margin-top","-11px","padding-right","5px"],[2,"width","60px","margin-left","-34px"],["type","text",2,"width","140px",3,"ngModel","ngModelChange","change"],[2,"width","40px","margin-left","20px"],[2,"width","95px",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-4",2,"margin-top","-20px"],[1,"col-md-3",2,"margin-top","10px"],[1,"btn","btn-info",2,"margin-left","20px","width","100%","background-color","#17a2b8","font-size","12px",3,"click"],[2,"height","40vh","width","99%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","7%","font-weight","bold"],[1,"fontsize",2,"width","20%","font-weight","bold"],[1,"fontsize",2,"width","8%","font-weight","bold"],[1,"fontsize",2,"width","9%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","15%","font-weight","bold"],[1,"fontsize",2,"width","12%","font-weight","bold"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 25px;",4,"ngFor","ngForOf"],[2,"line-height","25px"],[1,"fontsize",2,"width","7%"],[1,"fontsize","tooltipParent",2,"width","20%",3,"mouseover"],[4,"ngIf"],[1,"fontsize",2,"width","8%"],[1,"fontsize",2,"width","9%","text-align","center"],["type","checkbox",2,"width","25px","height","17px","margin-top","4px","margin-right","9px",3,"ngModel","change","ngModelChange"],[1,"fontsize",2,"width","15%"],[1,"fontsize",2,"width","12%"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","font-size","11px","line-height","10px",3,"click"],[2,"display","none",3,"ngClass","innerHTML"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"br"),t.TgZ(4,"label",3),t._uU(5,"Barcode :"),t.qZA(),t.TgZ(6,"input",4),t.NdJ("ngModelChange",function(i){return o.PBarCode.BCODE=i})("change",function(){return o.BarcodeChangeEvent()}),t.qZA(),t.TgZ(7,"label",5),t._uU(8,"Unit :"),t.qZA(),t.TgZ(9,"select",6),t.NdJ("ngModelChange",function(i){return o.PBarCode.UNIT=i})("change",function(){return o.BarcodeChangeEvent()}),t.TgZ(10,"option",7),t._uU(11),t.qZA(),t.YNc(12,st,2,2,"option",8),t.qZA()(),t._UZ(13,"div",9),t.TgZ(14,"div",10)(15,"table")(16,"tr")(17,"td")(18,"button",11),t.NdJ("click",function(){return o.addBarcode()}),t._uU(19,"Add"),t.qZA()()()()()()(),t._UZ(20,"br"),t.TgZ(21,"div",12)(22,"table",13)(23,"thead")(24,"tr",14)(25,"th",15),t._uU(26,"SN"),t.qZA(),t.TgZ(27,"th",16),t._uU(28,"Barcode"),t.qZA(),t.TgZ(29,"th",17),t._uU(30,"Unit"),t.qZA(),t.TgZ(31,"th",18),t._uU(32,"Discontinue"),t.qZA(),t.TgZ(33,"th",19),t._uU(34,"Status"),t.qZA(),t.TgZ(35,"th",20),t._uU(36,"Actions"),t.qZA()()(),t.TgZ(37,"tbody",21),t.YNc(38,at,17,6,"tr",22),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngModel",o.PBarCode.BCODE),t.xp6(3),t.Q6J("ngModel",o.PBarCode.UNIT),t.xp6(1),t.Q6J("ngValue",o.productObj.BASEUNIT),t.xp6(1),t.Oqu(o.productObj.BASEUNIT),t.xp6(1),t.Q6J("ngForOf",o.Units),t.xp6(26),t.Q6J("ngForOf",o.PBarCodeCollection))},dependencies:[p.mk,p.sg,p.O5,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.On],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}",".fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n  .tooltipParent[_ngcontent-%COMP%]{\n      position: relative;\n      cursor: pointer;\n  }\n  .tooltipChild[_ngcontent-%COMP%]{\n    display:block !important;\n    padding: 15px;\n    background: seagreen;\n    position: absolute;\n    border-radius: 17px;\n    text-align: center;\n    color: whiter;\n    color: white;\n    width: 100%;\n  }\n  .stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    position: sticky;\n    top: 0;\n    background-color: #6bb9b1 !important;\n    line-height: 2rem;\n    z-index: 2\n  }\n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),r})();var A=d(28698);const ut=["genericGridWarehouse"];function pt(r,c){if(1&r&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.UNITS),t.xp6(1),t.Oqu(e.UNITS)}}function ht(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr",29),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.RowClick(i))}),t.TgZ(1,"td",30)(2,"input",31),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.WAREHOUSE=n)})("keydown.enter",function(n){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(n))})("keydown.Tab",function(n){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(n))})("keyup",function(n){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(n))})("keydown.enter",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick())})("keydown.Tab",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick(n.warehouse))}),t.qZA()(),t.TgZ(3,"td",32)(4,"input",33),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.ROLEVEL=n)})("keydown.enter",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick("rolevel"))})("keydown.Tab",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick(n.rolevel))}),t.qZA()(),t.TgZ(5,"td",34)(6,"input",33),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.MINLEVEL=n)})("keydown.enter",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick("minlevel"))})("keydown.Tab",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick(n.minlevel))}),t.qZA()(),t.TgZ(7,"td",34)(8,"input",33),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.MAXLEVEL=n)})("keydown.enter",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.onaddnewRow("maxlevel"))})("keydown.Tab",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.onaddnewRow("maxlevel"))}),t.qZA()()()}if(2&r){const e=c.$implicit,o=c.index;t.xp6(2),t.MGl("id","warehouse",o,""),t.Q6J("ngModel",e.WAREHOUSE),t.xp6(2),t.MGl("id","rolevel",o,""),t.Q6J("ngModel",e.ROLEVEL),t.xp6(2),t.MGl("id","minlevel",o,""),t.Q6J("ngModel",e.MINLEVEL),t.xp6(2),t.MGl("id","maxlevel",o,""),t.Q6J("ngModel",e.MAXLEVEL)}}function gt(r,c){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,ht,9,8,"tr",28),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.productObj.MultiStockLevels)}}function _t(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr",29),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.TemptableRowClick(i))}),t.TgZ(1,"td",30)(2,"input",31),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.WAREHOUSE=n)})("keydown.enter",function(n){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(n))})("keydown.Tab",function(n){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(n))})("keyup",function(n){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(n))})("keydown.enter",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick())})("keydown.Tab",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick(n.warehouse))}),t.qZA()(),t.TgZ(3,"td",32)(4,"input",33),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.ROLEVEL=n)})("keydown.enter",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick("rolevel"))})("keydown.Tab",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick(n.rolevel))}),t.qZA()(),t.TgZ(5,"td",34)(6,"input",33),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.MINLEVEL=n)})("keydown.enter",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick("minlevel"))})("keydown.Tab",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.tabclick(n.minlevel))}),t.qZA()(),t.TgZ(7,"td",34)(8,"input",33),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.MAXLEVEL=n)})("keydown.enter",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.onaddnewRow("maxlevel"))})("keydown.Tab",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.onaddnewRow("maxlevel"))}),t.qZA()()()}if(2&r){const e=c.$implicit,o=c.index;t.xp6(2),t.MGl("id","warehouse",o,""),t.Q6J("ngModel",e.WAREHOUSE),t.xp6(2),t.MGl("id","rolevel",o,""),t.Q6J("ngModel",e.ROLEVEL),t.xp6(2),t.MGl("id","minlevel",o,""),t.Q6J("ngModel",e.MINLEVEL),t.xp6(2),t.MGl("id","maxlevel",o,""),t.Q6J("ngModel",e.MAXLEVEL)}}function mt(r,c){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,_t,9,8,"tr",28),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.MultiStockLevelsTemp)}}function bt(r,c){if(1&r&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"table",24)(3,"tr",25)(4,"td",26),t._uU(5,"Warehouse"),t.qZA(),t.TgZ(6,"td",27),t._uU(7,"Re-Order"),t.qZA(),t.TgZ(8,"td",27),t._uU(9,"Min Stock"),t.qZA(),t.TgZ(10,"td",27),t._uU(11,"Max Stock"),t.qZA()(),t.YNc(12,gt,2,1,"tbody",20),t.YNc(13,mt,2,1,"tbody",20),t.qZA()()),2&r){const e=t.oxw();t.xp6(12),t.Q6J("ngIf",1==e.productService.isrowClicked),t.xp6(1),t.Q6J("ngIf",0==e.productService.isrowClicked)}}let Ct=(()=>{class r{constructor(e,o,n){this.masterService=e,this.productService=o,this.alert=n,this.productObj={},this.EnableMultiStockLevel=!1,this.gridPopupSettingsForWarehouse=new A.im,this.WarehouseList=[],this.MSLevel={},this.activerowIndex=0,this.Units=[],this.MultiStockLevelsTemp=[],this.masterService.getUnits().subscribe(i=>{this.Units=i})}ngOnInit(){try{this.initialMultiStockLevels(),this.masterService.getWarehouseList().subscribe(e=>{this.WarehouseList=e}),this.productService.isrowClicked=!1,this.EnableMultiStockLevel=!1,this.initialAddRow()}catch(e){alert(e)}}initialMultiStockLevels(){this.productObj.MultiStockLevels.push({MAXLEVEL:0,MCODE:"",MINLEVEL:0,ROLEVEL:0,WAREHOUSE:""}),console.log("initail step",this.productObj)}AddMultiStock(){try{if(null==this.MSLevel.WAREHOUSE||this.productObj.MultiStockLevels.filter(e=>e.WAREHOUSE==this.MSLevel.WAREHOUSE).length>0)return;null==this.productObj.MultiStockLevels&&(this.productObj.MultiStockLevels=[]),this.productObj.MultiStockLevels.push(this.MSLevel),this.MSLevel={}}catch(e){alert(e)}}removeMSLevel(e){try{this.productObj.MultiStockLevels.splice(e,1)}catch(o){alert(o)}}WarehouseWiseInventory(e){try{console.log("newvalue",e),1==e?(this.EnableMultiStockLevel=!0,this.productObj.MultiStockLevels=[],this.initialMultiStockLevels()):(this.EnableMultiStockLevel=!1,this.productObj.MultiStockLevels=[],this.initialMultiStockLevels())}catch(o){alert(o)}}onaddnewRow(){this.initialMultiStockLevels(),this.productService.isrowClicked=!0}RowClick(e){this.activerowIndex=e}TemptableRowClick(e){this.productService.isrowClicked=!0}tabclick(e){"warehouse"==e&&document.getElementById("rolevel"+this.activerowIndex).focus(),"rolevel"==e&&document.getElementById("minlevel"+this.activerowIndex).focus(),"minlevel"==e&&document.getElementById("maxlevel"+this.activerowIndex).focus()}WarehouseEnterCommand(e){this.gridPopupSettingsForWarehouse={title:"Warehouse",apiEndpoints:"/getAllWarehousePagedList",defaultFilterIndex:0,columns:[{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridWarehouse.show()}onWarehouseSelected(e){this.productObj.MultiStockLevels.find(o=>o.WAREHOUSE===e.NAME)?this.alert.error("Cannot enter same Warehouse !"):(this.productObj.MultiStockLevels[this.activerowIndex].WAREHOUSE=e.NAME,this.tabclick("warehouse"))}initialAddRow(e=0){let n={MAXLEVEL:0,MCODE:"",MINLEVEL:0,ROLEVEL:0,WAREHOUSE:""};for(let i=0;i<=4;i++)this.MultiStockLevelsTemp.push(n)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.P),t.Y36(C),t.Y36(T.c))},r.\u0275cmp=t.Xpm({type:r,selectors:[["inventorycontroltab"]],viewQuery:function(e,o){if(1&e&&t.Gf(ut,5),2&e){let n;t.iGM(n=t.CRH())&&(o.genericGridWarehouse=n.first)}},inputs:{productObj:"productObj",EnableMultiStockLevel:"EnableMultiStockLevel"},decls:64,vars:18,consts:[[1,"row"],[1,"col-md-5",2,"padding-left","0px"],[2,"font-size","12px","width","70%"],[2,"width","105px"],["type","number",2,"width","70px","text-align","right",3,"ngModel","ngModelChange"],[2,"width","70px","margin-left","10px"],[2,"width","300px"],[2,"width","270px","height","20px"],["type","checkbox",2,"vertical-align","middle",3,"checked","change"],[2,"margin-top","4%"],[2,"font-size","12px","width","46%"],[2,"width","97px"],["type","number",2,"width","70px","text-align","right","margin-right","5px",3,"ngModel","ngModelChange"],[2,"width","20%",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"width","20%"],["value","KG"],["type","number",2,"width","140px","text-align","right",3,"ngModel","ngModelChange"],[1,"col-md-7",2,"padding-left","0px"],[2,"width","320px","height","20px"],[4,"ngIf"],[3,"popupsettings","onItemDoubleClick"],["genericGridWarehouse",""],[3,"ngValue"],["id","BlueHeaderResizableTable",2,"width","12rem"],[2,"background-color","silver !important"],[1,"fontsize",2,"width","150px","font-weight","bold"],[1,"fontsize",2,"width","85px","font-weight","bold"],["style","border: 1 px solid gray;",3,"click",4,"ngFor","ngForOf"],[2,"border","1 px solid gray",3,"click"],[1,"fontsize",2,"width","150px","border","1px solid #c3afaf"],["type","text","name","","id","","placeholder","Press Enter or Tab",3,"id","ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup"],[1,"fontsize",2,"width","85tabclickpx","border","1px solid #c3afaf"],["type","text","name","","id","",3,"id","ngModel","ngModelChange","keydown.enter","keydown.Tab"],[1,"fontsize",2,"width","85px","border","1px solid #c3afaf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"fieldset")(3,"legend",2),t._uU(4,"Default Inventory Control Paramenter"),t.qZA(),t.TgZ(5,"div")(6,"label",3),t._uU(7,"Re-Order Level :"),t.qZA(),t.TgZ(8,"input",4),t.NdJ("ngModelChange",function(i){return o.productObj.ROLEVEL=i}),t.qZA(),t.TgZ(9,"label",5),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"label",3),t._uU(13,"Min Stock Level :"),t.qZA(),t.TgZ(14,"input",4),t.NdJ("ngModelChange",function(i){return o.productObj.MINLEVEL=i}),t.qZA(),t.TgZ(15,"label",5),t._uU(16),t.qZA()(),t.TgZ(17,"div")(18,"label",3),t._uU(19,"Max Stock Level :"),t.qZA(),t.TgZ(20,"input",4),t.NdJ("ngModelChange",function(i){return o.productObj.MAXLEVEL=i}),t.qZA(),t.TgZ(21,"label",5),t._uU(22),t.qZA()()(),t.TgZ(23,"div",6)(24,"label",7)(25,"input",8),t.NdJ("change",function(i){return o.productObj.MINWARN=i.target.checked?1:0}),t.qZA(),t._uU(26,"\xa0Do Not Issue Stock After Min Stock Level."),t.qZA(),t.TgZ(27,"label",7)(28,"input",8),t.NdJ("change",function(i){return o.productObj.ROWARN=i.target.checked?1:0}),t.qZA(),t._uU(29,"\xa0Warn When Stock Reaches Re-Order Level."),t.qZA(),t.TgZ(30,"label",7)(31,"input",8),t.NdJ("change",function(i){return o.productObj.ZEROROLEVEL=i.target.checked?1:0}),t.qZA(),t._uU(32,"\xa0Take Zero Stock As Re-Order Level."),t.qZA()(),t.TgZ(33,"fieldset",9)(34,"legend",10),t._uU(35,"Inventory Packing Detail"),t.qZA(),t.TgZ(36,"div")(37,"label",11),t._uU(38,"Weight :"),t.qZA(),t.TgZ(39,"input",12),t.NdJ("ngModelChange",function(i){return o.productObj.GWEIGHT=i}),t.qZA(),t.TgZ(40,"select",13),t.NdJ("ngModelChange",function(i){return o.productObj.PACK=i}),t.YNc(41,pt,2,2,"option",14),t.qZA(),t.TgZ(42,"label",5),t._uU(43),t.qZA()(),t.TgZ(44,"div")(45,"label",11),t._uU(46,"Weight :"),t.qZA(),t.TgZ(47,"input",12),t.NdJ("ngModelChange",function(i){return o.productObj.NWEIGHT=i}),t.qZA(),t.TgZ(48,"select",15)(49,"option",16),t._uU(50,"KG"),t.qZA()()(),t.TgZ(51,"div")(52,"label",11),t._uU(53,"Total Quantity :"),t.qZA(),t.TgZ(54,"input",17),t.NdJ("ngModelChange",function(i){return o.productObj.CBM=i}),t.qZA(),t.TgZ(55,"label",5),t._uU(56," / CLD"),t.qZA()()()(),t.TgZ(57,"div",18)(58,"label",19)(59,"input",8),t.NdJ("change",function(i){return o.WarehouseWiseInventory(i.target.checked)}),t.qZA(),t._uU(60," Warehouse Wise Inventory Control Setting"),t.qZA(),t.YNc(61,bt,14,2,"div",20),t.qZA()(),t.TgZ(62,"generic-popup-grid",21,22),t.NdJ("onItemDoubleClick",function(i){return o.onWarehouseSelected(i)}),t.qZA()),2&e&&(t.xp6(8),t.Q6J("ngModel",o.productObj.ROLEVEL),t.xp6(2),t.Oqu(o.productObj.BASEUNIT),t.xp6(4),t.Q6J("ngModel",o.productObj.MINLEVEL),t.xp6(2),t.Oqu(o.productObj.BASEUNIT),t.xp6(4),t.Q6J("ngModel",o.productObj.MAXLEVEL),t.xp6(2),t.Oqu(o.productObj.BASEUNIT),t.xp6(3),t.Q6J("checked",1==o.productObj.MINWARN),t.xp6(3),t.Q6J("checked",1==o.productObj.ROWARN),t.xp6(3),t.Q6J("checked",1==o.productObj.ZEROROLEVEL),t.xp6(8),t.Q6J("ngModel",o.productObj.GWEIGHT),t.xp6(1),t.Q6J("ngModel",o.productObj.PACK),t.xp6(1),t.Q6J("ngForOf",o.Units),t.xp6(2),t.hij(" / ",o.productObj.BASEUNIT,""),t.xp6(4),t.Q6J("ngModel",o.productObj.NWEIGHT),t.xp6(7),t.Q6J("ngModel",o.productObj.CBM),t.xp6(5),t.Q6J("checked",o.EnableMultiStockLevel),t.xp6(2),t.Q6J("ngIf",1==o.EnableMultiStockLevel),t.xp6(1),t.Q6J("popupsettings",o.gridPopupSettingsForWarehouse))},dependencies:[p.sg,p.O5,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.On,A.Zl],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}",".fontsize[_ngcontent-%COMP%] {\n        font-size: 12px;\n        border: 1px solid gray;\n    }\n\n    .col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .ThirtyTreeLabel[_ngcontent-%COMP%] {\n        width: 28.5%;\n    }\n\n    .fourtyfive[_ngcontent-%COMP%] {\n        width: 45%;\n    }\n\n    .thirtysix[_ngcontent-%COMP%] {\n        width: 36%;\n    }\n\n    .fontsize[_ngcontent-%COMP%] {\n        font-size: 12px;\n        border: 1px solid gray;\n    }\n\n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n        \n    }\n\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr[_ngcontent-%COMP%]:nth-child(even) {\n        background-color: #f2f2f2;\n    }"]}),r})();const ft=["*"];let B=(()=>{class r{constructor(){this.active=!1}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["tab"]],inputs:{title:["tabTitle","title"],active:"active"},ngContentSelectors:ft,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&e&&t.Q6J("hidden",!o.active)},styles:[".pane[_ngcontent-%COMP%]{padding:.4em}"]}),r})();function Tt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"li",2),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.selectTab(i))}),t.TgZ(1,"a"),t._uU(2),t.qZA()()}if(2&r){const e=c.$implicit;t.ekj("active",e.active),t.xp6(2),t.Oqu(e.title)}}const Pt=["*"];let Ot=(()=>{class r{ngAfterContentInit(){try{0===this.tabs.filter(o=>o.active).length&&this.selectTab(this.tabs.first)}catch(e){alert(e)}}selectTab(e){try{this.tabs.toArray().forEach(o=>o.active=!1),e.active=!0}catch(o){alert(o)}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["tabs"]],contentQueries:function(e,o,n){if(1&e&&t.Suo(n,B,4),2&e){let i;t.iGM(i=t.CRH())&&(o.tabs=i)}},ngContentSelectors:Pt,decls:3,vars:1,consts:[[1,"nav","nav-tabs",2,"height","27px","justify-content","space-around","width","101%"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"ul",0),t.YNc(1,Tt,3,3,"li",1),t.qZA(),t.Hsn(2)),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.tabs))},dependencies:[p.sg],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:5px;text-decoration:none;font-size:14px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff;cursor:pointer;cursor:hand}.active[_ngcontent-%COMP%]{color:#000;background-color:#2e8b57;height:27px}@media (min-height: 1024px),(min-width: 768px){ul[_ngcontent-%COMP%]{justify-content:none}}"]}),r})();var F=d(79829),q=d(5615),J=d(31722);const At=["genericGridSupplierPopup"],Mt=["genericGrid"],St=["genericGridReference"];function vt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",75)(1,"ims-custom-form",76),t.NdJ("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onChange())}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("service",e.masterService)}}function Et(r,c){if(1&r&&(t.TgZ(0,"option",77),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.UNITS),t.xp6(1),t.Oqu(e.UNITS)}}function xt(r,c){if(1&r&&(t.TgZ(0,"option",77),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.PTYPEID),t.xp6(1),t.Oqu(e.PTYPENAME)}}function It(r,c){if(1&r&&(t.TgZ(0,"option",77),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.MENUCAT),t.xp6(1),t.Oqu(e.MENUCAT)}}function wt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",9)(1,"label",15),t._uU(2,"Extra Category : "),t.qZA(),t.TgZ(3,"select",78),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.MCAT1=n)})("keydown.tab",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.TabClickExtraCategory())}),t.YNc(4,It,2,2,"option",12),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.MCAT1),t.xp6(1),t.Q6J("ngForOf",e.MCat1List)}}function Rt(r,c){if(1&r&&(t.TgZ(0,"option",77),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.TCatId),t.xp6(1),t.Oqu(e.Category)}}function yt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",15),t._uU(2,"Tax Category : "),t.qZA(),t.TgZ(3,"select",79),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.TaxCategory=n)})("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.selectTaxCategory())})("keydown.tab",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.TabClickExtraCategory())}),t.YNc(4,Rt,2,2,"option",12),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.TaxCategory),t.xp6(1),t.Q6J("ngForOf",e.TaxCatList)}}function Nt(r,c){1&r&&(t.TgZ(0,"option",80),t._uU(1,"Discounted"),t.qZA())}function Ut(r,c){if(1&r&&(t.TgZ(0,"option",77),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.GroupName)}}function jt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"fieldset",81)(1,"legend",82),t._uU(2," Color Group Selection"),t.qZA(),t.TgZ(3,"select",83),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.COLOR=n)})("keydown.tab",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.TabClickColorItem())}),t.YNc(4,Ut,2,2,"option",12),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.COLOR),t.xp6(1),t.Q6J("ngForOf",e.colorGroupList)}}function Gt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",84)(1,"label"),t._uU(2,"ECS Rate"),t.qZA(),t.TgZ(3,"input",85),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ECSRATE=n)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.ECSRATE)}}function Zt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"label",86),t._uU(2,"Warranty Period"),t.qZA(),t.TgZ(3,"input",87),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.WARRANTY=n)}),t.qZA(),t.TgZ(4,"label"),t._uU(5,"month"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.WARRANTY)("disabled",6!=e.productObj.PTYPE)}}function kt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"input",61),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASBATCH=n)})("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASBATCH=n.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.HASBATCH)("checked",1==e.productObj.HASBATCH)}}function Dt(r,c){1&r&&(t.TgZ(0,"a",60),t._uU(1,"Enable Batch Wise Price"),t.qZA())}function Lt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"input",61),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASSERVICECHARGE=n)})("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASSERVICECHARGE=n.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.HASSERVICECHARGE)("checked",1==e.productObj.HASSERVICECHARGE)}}function Bt(r,c){1&r&&(t.TgZ(0,"a",60),t._uU(1,"Service Charge Applicable"),t.qZA())}function Ft(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"input",61),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASECSCHARGE=n)})("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASECSCHARGE=n.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.HASECSCHARGE)("checked",1==e.productObj.HASECSCHARGE)}}function qt(r,c){1&r&&(t.TgZ(0,"a",60),t._uU(1,"ECS Charge Applicable"),t.qZA())}function Jt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"input",61),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ISRECURRING=n)})("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ISRECURRING=n.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.ISRECURRING)("checked",1==e.productObj.ISRECURRING)}}function Vt(r,c){1&r&&(t.TgZ(0,"a",60),t._uU(1,"Is Recurring Item"),t.qZA())}function Ht(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"input",61),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASCOMMISSIONCHARGE=n)})("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASCOMMISSIONCHARGE=n.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.HASCOMMISSIONCHARGE)("checked",1==e.productObj.HASCOMMISSIONCHARGE)}}function Qt(r,c){1&r&&(t.TgZ(0,"a",60),t._uU(1,"Is Commission Chargeable"),t.qZA())}function zt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"input",61),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.BillingDisplay=n)})("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.BillingDisplay=n.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.BillingDisplay)("checked",1==e.productObj.BillingDisplay)}}function Yt(r,c){1&r&&(t.TgZ(0,"a",60),t._uU(1,"Billing Display"),t.qZA())}function Kt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",88)(2,"div",89)(3,"div",90)(4,"h5",91),t._uU(5,"New Unit"),t.qZA(),t.TgZ(6,"button",92),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeUnitModal())}),t.TgZ(7,"span",93),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"form",94),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onUnitSubmit())}),t.TgZ(10,"div",95)(11,"div",96)(12,"label",97),t._uU(13,"Unit Name:"),t.qZA(),t.TgZ(14,"div",98),t._UZ(15,"input",99),t.qZA()(),t.TgZ(16,"div",100)(17,"label",101),t._uU(18,"Not Decimal:"),t.qZA(),t.TgZ(19,"div",102)(20,"input",103),t.NdJ("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.unitForm.value.notDecimal=n.target.checked?1:0)}),t.qZA()()()(),t.TgZ(21,"div",104)(22,"button",105),t._uU(23,"Save"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.unitForm),t.xp6(13),t.Q6J("disabled",!e.unitForm.valid)}}function Wt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",88)(2,"div",89)(3,"div",90)(4,"h5",91),t._uU(5,"New Category"),t.qZA(),t.TgZ(6,"button",92),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeCatModal())}),t.TgZ(7,"span",93),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"form",94),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onCategorySubmit())}),t.TgZ(10,"div",95)(11,"div",96)(12,"label",106),t._uU(13,"Category Name:"),t.qZA(),t.TgZ(14,"div",107),t._UZ(15,"input",108),t.qZA()()(),t.TgZ(16,"div",104)(17,"button",105),t._uU(18,"Save"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.catForm),t.xp6(8),t.Q6J("disabled",!e.catForm.valid)}}let $t=(()=>{class r{constructor(e,o,n,i,s,l,u,_){this.masterService=e,this.ProductService=o,this.fb=n,this.unitMasterService=i,this.categoryMasterService=s,this.alertService=l,this.spinnerService=u,this.authservice=_,this.productObj={},this.AlternateUnits=[],this.gridPopupSettingsForSupplier=new A.im,this.gridPopupSettings=new A.im,this.genericReferenceItemSettings=new A.im,this.Units=[],this.MCatList=[],this.MCat1List=[],this.TaxCatList=[],this.colorGroupList=[],this.PTypeList=[],this.addNewUnit=!1,this.unit=!1,this.addNewCategory=!1,this.category=!1,this.userSetting=this.authservice.getSetting(),this.masterService.getUnits().subscribe(b=>{this.Units=b,this.masterService.getPTypeList().subscribe(m=>{m?(this.PTypeList=m,console.log("Checkadata",this.PTypeList),1!=this.masterService.editMode&&(this.productObj.PTYPE=this.PTypeList[0].PTYPEID)):this.PTypeList=[]},m=>{this.PTypeList=[]})}),this.masterService.getDepartmentList().subscribe(b=>{this.masterService.departmentList=b,console.log("list for department",this.masterService.departmentList)}),this.masterService.getMCatList().subscribe(b=>{this.MCatList=b}),this.masterService.getMCat1List().subscribe(b=>{this.MCat1List=b}),this.masterService.getTaxCategoryList().subscribe(b=>{this.TaxCatList=b}),0==JSON.parse(localStorage.getItem("setting")).DISPLAY&&this.ProductService.getColorGroup().subscribe(b=>{this.colorGroupList=b&&"ok"===b.status&&null!==b.result&&b&&b.result?b.result:[]},b=>{this.colorGroupList=[]}),this.masterService.editMode=!1,console.log("Before Get Custom Field")}updown(e){"Insert"===e.code&&(1==this.unit?this.addNewUnit=!0:1==this.category&&(this.addNewCategory=!0))}ngOnInit(){this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0,this.productObj.MCAT=this.MCAT,this.productObj.PRATE_A=0,this.productObj.IN_RATE_A=0,this.ProductService.pObj.Dismode=1,this.productObj.discontinueCheckbox=!1,this.productObj.DISMODE="Discountable",this.productObj.BillingDisplay=1,this.unitForm=this.fb.group({unitName:["",[a.kI.required]],notDecimal:[0]}),this.catForm=this.fb.group({CATEGORYNAME:["",[a.kI.required]],STATUS:[""]}),console.log(this.ProductService.TempProductObj),this.form=this.fb.group({CustomFields:[""]}),console.log("data here",this.masterService.prodAttSearchObj)}ngOnChanges(e){e.productObj&&this.productObj.MCODE&&this.getCustomField(this.productObj.MCODE,this.masterService.prodAttSearchObj.DEPARTMENT)}onChangeEx_PRate_A(){this.ProductService.pObj.PurchasePriceWithoutVAT=this.productObj.PRATE_A,this.CalculateMargin()}onChangeEx_Rate_A(){this.ProductService.pObj.SalesPriceWithoutVAT=this.productObj.RATE_A,this.CalculateMargin()}CalculateMargin(){0==this.masterService.nullToZeroConverter(this.ProductService.pObj.PurchasePriceWithoutVAT)||0==this.masterService.nullToZeroConverter(this.ProductService.pObj.SalesPriceWithoutVAT)||(this.ProductService.pObj.RecMarginOnPRate=Number(100*(this.ProductService.pObj.SalesPriceWithoutVAT-this.ProductService.pObj.PurchasePriceWithoutVAT)/this.ProductService.pObj.PurchasePriceWithoutVAT).toFixed(5),this.ProductService.pObj.RecMarginOnRate=Number(100*(this.ProductService.pObj.SalesPriceWithoutVAT-this.ProductService.pObj.PurchasePriceWithoutVAT)/this.ProductService.pObj.SalesPriceWithoutVAT).toFixed(5))}DiscountModeChange(){1==this.ProductService.pObj.Dismode?(this.productObj.DISRATE=this.ProductService.pObj.DiscountValue,this.productObj.DISAMOUNT=0):(this.productObj.DISRATE=0,this.productObj.DISAMOUNT=this.ProductService.pObj.DiscountValue)}RecalculateVATAmount(){if(1==this.productObj.VAT){if(console.log(this.ProductService.TempProductObj.IN_PRATE_A),this.ProductService.TempProductObj.IN_PRATE_A&&0!=this.ProductService.TempProductObj.IN_PRATE_A&&(this.productObj.IN_PRATE_A=this.ProductService.TempProductObj.IN_PRATE_A,this.onChangeEx_PRate_A()),this.ProductService.TempProductObj.IN_RATE_A||0==this.ProductService.TempProductObj.IN_RATE_A||null==this.ProductService.TempProductObj.IN_RATE_A){this.productObj.IN_RATE_A=this.ProductService.TempProductObj.IN_RATE_A;let e=(this.ProductService.TempProductObj.IN_RATE_A/this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.RATE_A=Number(Number(e)).toFixed(2),this.productObj.RATE_A=Number(e),this.onChangeEx_Rate_A()}if(this.ProductService.TempProductObj.IN_RATE_B||0==this.ProductService.TempProductObj.IN_RATE_B||null==this.ProductService.TempProductObj.IN_RATE_B){this.productObj.IN_RATE_B=this.ProductService.TempProductObj.IN_RATE_B;let e=(this.ProductService.TempProductObj.IN_RATE_B/this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.RATE_B=Number(Number(e)).toFixed(2),this.productObj.RATE_B=Number(e)}if(this.ProductService.TempProductObj.IN_RATE_C||0==this.ProductService.TempProductObj.IN_RATE_C||null==this.ProductService.TempProductObj.IN_RATE_C){this.productObj.IN_RATE_C=this.ProductService.TempProductObj.IN_RATE_C;let e=(this.ProductService.TempProductObj.IN_RATE_C/this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.RATE_C=Number(Number(e)).toFixed(2),this.productObj.RATE_C=Number(e)}}else console.log("@@this.ProductService.TempProductObj.PRATE_A",this.ProductService.TempProductObj.PRATE_A),this.ProductService.TempProductObj.IN_PRATE_A&&(console.log("@@1"),this.abc=this.ProductService.TempProductObj.IN_PRATE_A,this.ProductService.TempProductObj.IN_PRATE_A=this.ProductService.TempProductObj.PRATE_A,this.productObj.IN_PRATE_A=this.ProductService.TempProductObj.PRATE_A,this.onChangeEx_PRate_A()),(this.ProductService.TempProductObj.IN_RATE_A||0==this.ProductService.TempProductObj.IN_RATE_A||null==this.ProductService.TempProductObj.IN_RATE_A)&&(this.ProductService.TempProductObj.RATE_A=this.ProductService.TempProductObj.IN_RATE_A,this.productObj.RATE_A=this.ProductService.TempProductObj.IN_RATE_A,this.productObj.IN_RATE_A=this.ProductService.TempProductObj.IN_RATE_A,this.onChangeEx_Rate_A()),(this.ProductService.TempProductObj.IN_RATE_B||0==this.ProductService.TempProductObj.IN_RATE_B||null==this.ProductService.TempProductObj.IN_RATE_B)&&(this.ProductService.TempProductObj.RATE_B=this.ProductService.TempProductObj.IN_RATE_B,this.productObj.RATE_B=this.ProductService.TempProductObj.IN_RATE_B,this.productObj.IN_RATE_B=this.ProductService.TempProductObj.IN_RATE_B),(this.ProductService.TempProductObj.IN_RATE_C||0==this.ProductService.TempProductObj.IN_RATE_C||null==this.ProductService.TempProductObj.IN_RATE_C)&&(this.ProductService.TempProductObj.RATE_C=this.ProductService.TempProductObj.IN_RATE_C,this.productObj.RATE_C=this.ProductService.TempProductObj.IN_RATE_C,this.productObj.IN_RATE_C=this.ProductService.TempProductObj.IN_RATE_C)}RecalculateNonVATAmount_Ex_Prate_A(){if(1==this.productObj.VAT){if(console.log(this.ProductService.TempProductObj.PRATE_A),this.ProductService.TempProductObj.PRATE_A||0==this.ProductService.TempProductObj.PRATE_A){console.log(this.ProductService.TempProductObj.PRATE_A),this.productObj.PRATE_A=this.ProductService.TempProductObj.PRATE_A,console.log(this.productObj.PRATE_A);let e=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.PRATE_A)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.IN_PRATE_A=Number(Number(e)).toFixed(2),this.productObj.IN_PRATE_A=Number(e),this.onChangeEx_PRate_A()}}else this.productObj.PRATE_A=this.ProductService.TempProductObj.PRATE_A}RecalculateNonVATAmount_Ex_Rate_A(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.RATE_A||0==this.ProductService.TempProductObj.RATE_A||null==this.ProductService.TempProductObj.RATE_A){this.productObj.RATE_A=this.ProductService.TempProductObj.RATE_A;let e=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.RATE_A)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.productObj.IN_RATE_A=Number(e),this.ProductService.TempProductObj.IN_RATE_A=Number(Number(e)).toFixed(2),this.onChangeEx_Rate_A()}}else(this.ProductService.TempProductObj.RATE_A||0==this.ProductService.TempProductObj.RATE_A||null==this.ProductService.TempProductObj.RATE_A)&&(this.productObj.RATE_A=this.ProductService.TempProductObj.RATE_A,this.productObj.IN_RATE_A=this.ProductService.TempProductObj.Rate_A,this.ProductService.TempProductObj.IN_RATE_A=this.ProductService.TempProductObj.RATE_A,this.onChangeEx_PRate_A())}RecalculateNonVATAmount_Ex_Rate_B(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.RATE_B||0==this.ProductService.TempProductObj.RATE_B||null==this.ProductService.TempProductObj.RATE_B){this.productObj.RATE_B=this.ProductService.TempProductObj.RATE_B;let e=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.RATE_B)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.productObj.IN_RATE_B=Number(e),this.ProductService.TempProductObj.IN_RATE_B=Number(Number(e)).toFixed(2)}}else(this.ProductService.TempProductObj.RATE_B||0==this.ProductService.TempProductObj.RATE_B||null==this.ProductService.TempProductObj.RATE_B)&&(this.productObj.RATE_B=this.ProductService.TempProductObj.RATE_B,this.productObj.IN_RATE_B=this.ProductService.TempProductObj.RATE_B,this.ProductService.TempProductObj.IN_RATE_B=this.ProductService.TempProductObj.RATE_B,this.onChangeEx_PRate_A())}RecalculateNonVATAmount_Ex_Rate_C(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.RATE_C||0==this.ProductService.TempProductObj.RATE_C||null==this.ProductService.TempProductObj.RATE_C){this.productObj.RATE_C=this.ProductService.TempProductObj.RATE_C;let e=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.RATE_C)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.productObj.IN_RATE_C=Number(e),this.ProductService.TempProductObj.IN_RATE_C=Number(Number(e)).toFixed(2)}}else(this.ProductService.TempProductObj.RATE_C||0==this.ProductService.TempProductObj.RATE_C||null==this.ProductService.TempProductObj.RATE_C)&&(this.productObj.RATE_C=this.ProductService.TempProductObj.RATE_C,this.productObj.IN_RATE_C=this.ProductService.TempProductObj.RATE_C,this.ProductService.TempProductObj.IN_RATE_C=this.ProductService.TempProductObj.RATE_C,this.onChangeEx_PRate_A())}TabClick(e){"ProductType"==e&&document.getElementById("StockUnit").focus()}dblClickPopupParty(e){this.productObj.SUPCODE=e.ACID,this.ProductService.suppilierName=e.ACNAME,document.getElementById("supplierCode").focus()}customerEnterCommand(e){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V/0",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ERPPLANTCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"VATNO",title:"PAN NO.",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1}]}}TabClickStockUnit(){setTimeout(()=>{document.getElementById("purchaseprice").focus()},0)}TabClickPurchasePrice(){setTimeout(()=>{document.getElementById("labelMRP").focus()},0)}TabClickLabelMRP(){setTimeout(()=>{document.getElementById("retailPrice").focus()},0)}TabClickRetailPrice(){setTimeout(()=>{document.getElementById("wholeSalePrice").focus()},0)}TabClickWholeSalePrice(){setTimeout(()=>{document.getElementById("interBranchPrice").focus()},0)}TabClickInterBranchPrice(){setTimeout(()=>{document.getElementById("Category").focus()},0)}TabClickExtraCategory(){setTimeout(()=>{document.getElementById("vatItem").focus()},0)}TabClickVATItem(){setTimeout(()=>{null!=document.getElementById("colorGroupSelect")?document.getElementById("colorGroupSelect").focus():document.getElementById("SupplierName").focus()},0)}TabClickNonVATItem(){setTimeout(()=>{null!=document.getElementById("colorGroupSelect")?document.getElementById("colorGroupSelect").focus():document.getElementById("SupplierName").focus()},0)}TabClickColorItem(){setTimeout(()=>{document.getElementById("SupplierName").focus()},0)}TabClickSupplierCode(){setTimeout(()=>{document.getElementById("discountmode").focus()},0)}TabClickDisRate(){setTimeout(()=>{document.getElementById("discontinueitemCheck").focus()},0)}TabClickDiscontinueCheck(){1==this.productObj.discontinueCheckbox?setTimeout(()=>{document.getElementById("discontinueItem").focus()},0):setTimeout(()=>{document.getElementById("isUnknownItem").focus()},0)}TabClickDiscontinueItems(){setTimeout(()=>{document.getElementById("isUnknownItem").focus()},0)}TabClickDisMode(){"Discounted"==this.productObj.DISMODE?setTimeout(()=>{document.getElementById("DiscountValue").focus()},0):setTimeout(()=>{document.getElementById("discontinueitemCheck").focus()},0)}newUnitCreateTrigger(){this.unit=!0,this.category=!1}newCatCreateTrigger(){this.category=!0,this.unit=!1}selectTaxCategory(){console.log("selecct tax cate",this.productObj.TaxCategory);let e=this.TaxCatList.filter(o=>o.TCatId==this.productObj.TaxCategory)[0];this.productObj.GST=e.TaxRate,console.log("xxxxxxxxx",this.productObj.GST)}onUnitSubmit(){console.log("unit froms",this.unitForm.value);let e={};e.UNITS=this.unitForm.value.unitName,e.STOPDECIMAL=this.unitForm.value.notDecimal;const o={mode:"add",data:e};this.spinnerService.show("Data is Saving ..."),this.unitMasterService.postUnitGroup(o).subscribe(n=>{"ok"==n.status?(this.spinnerService.hide(),this.alertService.info("Saved Successfully"),this.unitForm.reset(),this.masterService.getUnits().subscribe(i=>{this.Units=i}),this.closeUnitModal()):(this.spinnerService.hide(),this.alertService.error(n.result))},n=>{this.spinnerService.hide()})}onCategorySubmit(){let e={};e.MENUCAT=this.catForm.value.CATEGORYNAME,e.STATUS=1;const o={mode:"add",data:e};this.spinnerService.show("Data is Saving ..."),this.categoryMasterService.postCategoryGroup(o).subscribe(n=>{"ok"==n.status?(this.spinnerService.hide(),this.alertService.info("Saved Successfully"),this.catForm.reset(),this.masterService.getMCatList().subscribe(i=>{this.MCatList=i}),this.closeCatModal()):(this.spinnerService.hide(),this.alertService.error(n.result))},n=>{this.spinnerService.hide()})}closeUnitModal(){this.addNewUnit=!1,this.unit=!1}closeCatModal(){this.addNewCategory=!1,this.category=!1}ItemkeyEvent(){this.gridPopupSettings={title:"PRODUCTS",apiEndpoints:"/getMenuitemWithStockPagedList/0/A/all/PI/w",defaultFilterIndex:0,columns:[{key:"DESCA",title:"DESCRIPTION",hidden:!1,noSearch:!1},{key:"MENUCODE",title:"PRODUCT CODE",hidden:!1,noSearch:!1},{key:"GroupName",title:"GROUP NAME",hidden:!1,noSearch:!1},{key:"MENUCODE",title:"P-QTY",hidden:!1,noSearch:!1}]},this.genericGrid.show()}nullToZeroConverter(e){return void 0===e||null==e||null===e||""===e||"Infinity"===e||"NaN"===e||Number.isNaN(e)||isNaN(parseFloat(e))?0:parseFloat(e)}dblClickPopupItem(e){9!=e.PTYPE?(this.productObj.SUPITEMCODE=e.MCODE,this.productObj.SUPITEMNAME=e.DESCA,setTimeout(()=>{document.getElementById("factor").focus()},0)):this.alertService.warning("Cannot choose perishable item as master item.")}dblClickPopupRefItem(e){this.productObj.REFMCODE=e.MCODE,this.productObj.REFITEMNAME=e.DESCA}selectSubCategory(e){let o=this.masterService.maincatList.find(n=>n.ID==e.MainCategoryID);this.masterService.prodAttSearchObj.MAINCATNAME=o.Name}getMainCategory(e){this.masterService.prodAttSearchObj.SUBCATNAME="",this.masterService.getSubCatgeoryList(e.ID).subscribe(o=>{this.masterService.subcatList=o})}onChange(){this.masterService.CustomValues=this.customForm?.getValues("1")}filters(e){console.log("event ma k aaucha",e,e.DepartmentName),this.getCustomField(this.productObj.MCODE,e.DepartmentName)}getCustomField(e,o){return this.masterService.getCustomFields(e,o).subscribe(n=>{var i=[];n.result.forEach(s=>{i.push((new E.o4).deserialize(s))}),this.customForm?.setForm(i)})}ReferenceItemkeyEvent(){this.genericReferenceItemSettings={title:"PRODUCTS",apiEndpoints:"/getMenuitemWithStockPagedList/0/A/all/PI/w",defaultFilterIndex:0,columns:[{key:"DESCA",title:"DESCRIPTION",hidden:!1,noSearch:!1},{key:"MENUCODE",title:"PRODUCT CODE",hidden:!1,noSearch:!1},{key:"GroupName",title:"GROUP NAME",hidden:!1,noSearch:!1},{key:"MENUCODE",title:"P-QTY",hidden:!1,noSearch:!1}]},this.genericGridReference.show()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.P),t.Y36(C),t.Y36(a.qu),t.Y36(F.P),t.Y36(q.u),t.Y36(T.c),t.Y36(w.V),t.Y36(S.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["Detail_Information"]],viewQuery:function(e,o){if(1&e&&(t.Gf(At,5),t.Gf(Mt,5),t.Gf(St,5),t.Gf(E.q0,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.genericGridSupplierPopup=n.first),t.iGM(n=t.CRH())&&(o.genericGrid=n.first),t.iGM(n=t.CRH())&&(o.genericGridReference=n.first),t.iGM(n=t.CRH())&&(o.customForm=n.first)}},hostBindings:function(e,o){1&e&&t.NdJ("keydown",function(i){return o.updown(i)},!1,t.evT)},inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits",MCAT:"MCAT"},features:[t.TTD],decls:193,vars:72,consts:[[1,"row",2,"width","101%"],[1,"col-md-12"],[1,"row"],[2,"width","9%"],["id","department",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[2,"width","71%","border-top","1px solid #cbcbcb"],[1,"col-md-4"],["class","form-group",4,"ngIf"],[2,"border","1px solid #cbcbcb","width","100%","margin-top","0rem"],[1,"row",2,"margin-left","5px"],["id","StockUnit",1,"ThirtyTreeLabel"],["id","StockUnit",2,"width","44%","margin-left","5px",3,"ngModel","disabled","ngModelChange","focus","keydown.Tab"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"ThirtyTreeLabel"],["id","purchaseprice","type","number",2,"width","44%","text-align","right","margin-left","5px",3,"ngModel","ngModelChange","change","keydown.Tab"],[2,"width","29%"],["type","number","readonly","",2,"width","44%","text-align","right","margin-left","3px",3,"disabled","ngModel","ngModelChange"],["id","labelMrp","type","number",2,"width","44%","text-align","right","margin-left","5px",3,"ngModel","ngModelChange","keydown.Tab"],[2,"width","49.5%",3,"ngModel","ngModelChange","keydown.Tab"],[2,"width","49%","height","5.5rem","margin-left","30%","margin-top","0rem",3,"disabled"],[2,"width","76%","font-size","12px"],["type","radio","id","vatItem","name","VAT ITEM",2,"margin-top","-20px",3,"ngModel","value","ngModelChange","change","keydown.tab"],[1,"smallBoldLabel",2,"margin-top","-15px"],["type","radio","id","nonvatItem","name","VAT ITEM",2,"margin-top","-20px",3,"ngModel","value","ngModelChange","change","keydown.tab"],["class","row","style","margin-left:5px",4,"ngIf"],["class","row",4,"ngIf"],[1,"fourtyfive"],["id","SupplierName","type","text","placeholder","press Enter or Tab","autocomplete","off",2,"width","64%",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab"],[1,"fourtyfive",2,"padding-top","0px"],["id","supplierCode","type","text","autocomplete","off","placeholder","Press ENTER to Select Item",2,"width","64%",3,"ngModel","ngModelChange","keydown.enter","keydown.tab"],["id","factor","type","number",2,"width","64%",3,"ngModel","disabled","ngModelChange","keydown.tab"],["id","discountmode",2,"width","64%",3,"ngModel","ngModelChange","keydown.tab"],["value","Discountable"],["value","Non-Discountable"],["value","Discounted",4,"ngIf"],["id","refCode","type","text","autocomplete","off","placeholder","Press ENTER to Select Item",2,"width","64%",3,"ngModel","ngModelChange","keydown.enter"],[1,"row",2,"margin-top","-19px"],[2,"margin-top","2rem","height","7.6rem"],[2,"font-size","12px","width","25%"],[2,"margin-top","-22px"],[1,"",2,"width","26%"],[2,"width","24%","font-size","12px","margin-left","9%"],[2,"width","24%","margin-left","20px","font-size","12px","margin-left","18%"],[1,"thirty"],["id","retailPrice","type","number",2,"width","30%","text-align","right",3,"ngModel","ngModelChange","change","keydown.tab","input"],["type","number",2,"width","30%","margin-left","8px","text-align","right",3,"ngModel","ngModelChange","change","input"],["id","wholeSalePrice","type","number",2,"width","30%","text-align","right",3,"ngModel","ngModelChange","change","keydown.tab","input"],[2,"font-size","12px","width","49%","margin-top","1.9rem","margin-left","30%"],[2,"font-size","12px","width","99%"],["type","checkbox","id","discontinueitemCheck",3,"ngModel","ngModelChange","keydown.tab"],["id","discontinueItem",2,"width","100%","margin-top","-10%",3,"ngModel","disabled","ngModelChange","keydown.tab"],["value","0"],["value","2"],["value","3"],["value","1"],["style","width: 73%;height:4rem;margin-left: 15px;",4,"ngIf"],["style","padding-top: 5px;padding-left: 10px;",4,"ngIf"],[4,"ngIf"],[1,"col-md-4",2,"height","8rem","overflow-y","scroll","margin-top","2rem"],["type","checkbox","id","isUnknownItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],["type","checkbox",3,"ngModel","checked","ngModelChange","change",4,"ngIf"],["style","font-size: 13px;",4,"ngIf"],[1,"row",2,"width","50%"],[1,"col-sm-4",2,"margin-left","5px","margin-top","5px"],[2,"font-size","12px","padding-bottom","1%","white-space","nowrap","padding-bottom","10px"],[2,"padding-left","3%","font-size","12px","width","500px","padding-bottom","1%"],[2,"text-align","right","font-size","12px","padding-bottom","1%","white-space","nowrap"],[2,"padding-left","3%","font-size","12px","width","500px","padding-bottom","1%","white-space","nowrap"],[2,"padding-bottom","1%"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGrid",""],["genericGridReference",""],[1,"form-group"],["id","customForm",3,"service","change"],[3,"ngValue"],["id","ExtraCategory",2,"width","49.5%",3,"ngModel","ngModelChange","keydown.tab"],["id","TaxCategory",2,"width","49.5%",3,"ngModel","ngModelChange","change","keydown.tab"],["value","Discounted"],[2,"width","73%","height","4rem","margin-left","15px"],[2,"width","65%","font-size","12px"],["id","colorGroupSelect",2,"width","100%","margin-top","-20px",3,"ngModel","ngModelChange","keydown.tab"],[2,"padding-top","5px","padding-left","10px"],["type","text",3,"ngModel","ngModelChange"],[2,"width","32%","margin-left","7%"],["type","number",2,"width","25%",3,"ngModel","disabled","ngModelChange"],[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","20px","margin-right","8rem"],[1,"modal-content","modal-content-main-area",2,"width","70%"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group","row",2,"margin-top","1rem"],[1,"col-sm-3","form-control-label",2,"margin-left","-12px"],[1,"col-sm-8"],["type","text","formControlName","unitName","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px"],[1,"form-group","row"],[1,"col-sm-3","form-control-label","check",2,"margin-left","-12px"],[1,"col-sm-2",2,"padding","0px","margin-left","-12px"],["type","checkbox","formControlName","notDecimal",1,"form-control",2,"height","3vh",3,"change"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"disabled"],[1,"col-sm-4","form-control-label",2,"font-size","13px"],[1,"col-sm-7",2,"padding-left","0px"],["type","text","id","Parent","formControlName","CATEGORYNAME","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",2)(5,"label",3),t._uU(6,"Department: "),t.qZA(),t.TgZ(7,"app-simple-suggest",4),t.NdJ("ngModelChange",function(i){return o.masterService.prodAttSearchObj.DEPARTMENT=i})("selectOption",function(i){return o.filters(i)}),t.qZA(),t._UZ(8,"hr",5),t.qZA()()(),t.TgZ(9,"div",2),t._UZ(10,"div",6),t.YNc(11,vt,2,1,"div",7),t._UZ(12,"hr",8),t.qZA(),t.TgZ(13,"div",2)(14,"div",6)(15,"div",9)(16,"label",10),t._uU(17,"Stock Unit : "),t.qZA(),t.TgZ(18,"select",11),t.NdJ("ngModelChange",function(i){return o.productObj.BASEUNIT=i})("focus",function(){return o.newUnitCreateTrigger()})("keydown.Tab",function(){return o.TabClickStockUnit()}),t.YNc(19,Et,2,2,"option",12),t.qZA()(),t.TgZ(20,"div",9)(21,"label",13),t._uU(22,"Purchase Price : "),t.qZA(),t.TgZ(23,"input",14),t.NdJ("ngModelChange",function(i){return o.ProductService.TempProductObj.PRATE_A=i})("change",function(){return o.RecalculateNonVATAmount_Ex_Prate_A()})("keydown.Tab",function(){return o.TabClickPurchasePrice()}),t.qZA()(),t.TgZ(24,"div",9)(25,"label",15),t._uU(26,"Landing Price : "),t.qZA(),t.TgZ(27,"input",16),t.NdJ("ngModelChange",function(i){return o.productObj.CRATE=i}),t.qZA()(),t.TgZ(28,"div",9)(29,"label",13),t._uU(30,"Label MRP : "),t.qZA(),t.TgZ(31,"input",17),t.NdJ("ngModelChange",function(i){return o.productObj.LabeledMRP=i})("keydown.Tab",function(){return o.TabClickLabelMRP()}),t.qZA()()(),t.TgZ(32,"div",6)(33,"div",9)(34,"label",15),t._uU(35,"Product Type : "),t.qZA(),t.TgZ(36,"select",18),t.NdJ("ngModelChange",function(i){return o.productObj.PTYPE=i})("keydown.Tab",function(){return o.TabClick("ProductType")}),t.YNc(37,xt,2,2,"option",12),t.qZA()(),t.TgZ(38,"div",9)(39,"fieldset",19)(40,"legend",20),t._uU(41," VAT Mode Selection"),t.qZA(),t.TgZ(42,"input",21),t.NdJ("ngModelChange",function(i){return o.productObj.VAT=i})("change",function(){return o.RecalculateVATAmount()})("keydown.tab",function(){return o.TabClickVATItem()}),t.qZA(),t.TgZ(43,"label",22),t._uU(44,"VAT Item"),t.qZA(),t._UZ(45,"br"),t.TgZ(46,"input",23),t.NdJ("ngModelChange",function(i){return o.productObj.VAT=i})("change",function(){return o.RecalculateVATAmount()})("keydown.tab",function(){return o.TabClickNonVATItem()}),t.qZA(),t.TgZ(47,"label",22),t._uU(48,"Non-VAT Item"),t.qZA()()(),t.YNc(49,wt,5,2,"div",24),t.YNc(50,yt,5,2,"div",25),t.qZA(),t.TgZ(51,"div",6)(52,"div",9)(53,"label",26),t._uU(54,"Supplier Name :"),t.qZA(),t.TgZ(55,"input",27),t.NdJ("ngModelChange",function(i){return o.ProductService.suppilierName=i})("keydown.enter",function(i){return o.customerEnterCommand(i)})("keydown.Tab",function(i){return o.customerEnterCommand(i)}),t.qZA()(),t.TgZ(56,"div",9)(57,"label",28),t._uU(58,"Master Item : "),t.qZA(),t.TgZ(59,"input",29),t.NdJ("ngModelChange",function(i){return o.productObj.SUPITEMNAME=i})("keydown.enter",function(){return o.ItemkeyEvent()})("keydown.tab",function(){return o.TabClickSupplierCode()}),t.qZA()(),t.TgZ(60,"div",9)(61,"label",28),t._uU(62,"Factor : "),t.qZA(),t.TgZ(63,"input",30),t.NdJ("ngModelChange",function(i){return o.productObj.CONFACTOR=i})("keydown.tab",function(){return o.TabClickSupplierCode()}),t.qZA()(),t.TgZ(64,"div",9)(65,"label",26),t._uU(66,"Discount Mode : "),t.qZA(),t.TgZ(67,"select",31),t.NdJ("ngModelChange",function(i){return o.productObj.DISMODE=i})("keydown.tab",function(){return o.TabClickDisMode()}),t.TgZ(68,"option",32),t._uU(69,"Discountable"),t.qZA(),t.TgZ(70,"option",33),t._uU(71,"Non-Discountable"),t.qZA(),t.YNc(72,Nt,2,0,"option",34),t.qZA()(),t.TgZ(73,"div",9)(74,"label",28),t._uU(75,"Reference Item : "),t.qZA(),t.TgZ(76,"input",35),t.NdJ("ngModelChange",function(i){return o.productObj.REFITEMNAME=i})("keydown.enter",function(){return o.ReferenceItemkeyEvent()}),t.qZA()()()(),t.TgZ(77,"div",2)(78,"div",6),t._UZ(79,"div",9),t.qZA(),t._UZ(80,"div",6)(81,"div",6),t.qZA(),t.TgZ(82,"div",36)(83,"div",6)(84,"fieldset",37)(85,"legend",38),t._uU(86,"Sales Price"),t.qZA(),t.TgZ(87,"div",39),t._UZ(88,"label",40),t.TgZ(89,"a",41),t._uU(90,"Inc VAT"),t.qZA(),t.TgZ(91,"a",42),t._uU(92,"Exc VAT"),t.qZA(),t._UZ(93,"br"),t.TgZ(94,"label",43),t._uU(95,"Retail Price"),t.qZA(),t.TgZ(96,"input",44),t.NdJ("ngModelChange",function(i){return o.ProductService.TempProductObj.IN_RATE_A=i})("change",function(){return o.RecalculateVATAmount()})("keydown.tab",function(){return o.TabClickRetailPrice()})("input",function(){return o.RecalculateVATAmount()}),t.qZA(),t.TgZ(97,"input",45),t.NdJ("ngModelChange",function(i){return o.ProductService.TempProductObj.RATE_A=i})("change",function(){return o.RecalculateNonVATAmount_Ex_Rate_A()})("input",function(){return o.RecalculateNonVATAmount_Ex_Rate_A()}),t.qZA(),t._UZ(98,"br"),t.TgZ(99,"label",43),t._uU(100,"Whole Sale Price"),t.qZA(),t.TgZ(101,"input",46),t.NdJ("ngModelChange",function(i){return o.ProductService.TempProductObj.IN_RATE_B=i})("change",function(){return o.RecalculateVATAmount()})("keydown.tab",function(){return o.TabClickWholeSalePrice()})("input",function(){return o.RecalculateVATAmount()}),t.qZA(),t.TgZ(102,"input",45),t.NdJ("ngModelChange",function(i){return o.ProductService.TempProductObj.RATE_B=i})("change",function(){return o.RecalculateNonVATAmount_Ex_Rate_B()})("input",function(){return o.RecalculateNonVATAmount_Ex_Rate_B()}),t.qZA(),t._UZ(103,"br"),t.qZA()()(),t.TgZ(104,"div",6)(105,"div",9)(106,"fieldset",47)(107,"legend",48)(108,"input",49),t.NdJ("ngModelChange",function(i){return o.productObj.discontinueCheckbox=i})("keydown.tab",function(){return o.TabClickDiscontinueCheck()}),t.qZA(),t._uU(109,"Set as Discontinue Item"),t.qZA(),t.TgZ(110,"select",50),t.NdJ("ngModelChange",function(i){return o.productObj.DISCONTINUE=i})("keydown.tab",function(){return o.TabClickDiscontinueItems()}),t._UZ(111,"option",51),t.TgZ(112,"option",52),t._uU(113,"DISCONTINUE SALES "),t.qZA(),t.TgZ(114,"option",53),t._uU(115,"DISCONTINUE PURCHASE "),t.qZA(),t.TgZ(116,"option",54),t._uU(117,"DISCONTINUE BOTH "),t.qZA()()(),t.YNc(118,jt,5,2,"fieldset",55),t.YNc(119,Gt,4,1,"div",56),t.YNc(120,Zt,6,2,"div",57),t.qZA()(),t.TgZ(121,"div",58)(122,"input",59),t.NdJ("ngModelChange",function(i){return o.productObj.ISUNKNOWN=i})("change",function(i){return o.productObj.ISUNKNOWN=i.target.checked?1:0}),t.qZA(),t._uU(123," \xa0 "),t.TgZ(124,"a",60),t._uU(125," Is Unknown Item "),t.qZA(),t._UZ(126,"br"),t.TgZ(127,"input",61),t.NdJ("ngModelChange",function(i){return o.productObj.REQEXPDATE=i})("change",function(i){return o.productObj.REQEXPDATE=i.target.checked?1:0}),t.qZA(),t._uU(128,"\xa0 "),t.TgZ(129,"a",60),t._uU(130,"Expiry Date Input Compulsory"),t.qZA(),t._UZ(131,"br"),t.TgZ(132,"input",61),t.NdJ("ngModelChange",function(i){return o.productObj.IsQtyUnknown=i})("change",function(i){return o.productObj.IsQtyUnknown=i.target.checked?1:0}),t.qZA(),t._uU(133,"\xa0 "),t.TgZ(134,"a",60),t._uU(135,"Sales Quantity Unknown"),t.qZA(),t._UZ(136,"br"),t.TgZ(137,"input",61),t.NdJ("ngModelChange",function(i){return o.productObj.HASVARIANT=i})("change",function(i){return o.productObj.HASVARIANT=i.target.checked?1:0}),t.qZA(),t._uU(138,"\xa0 "),t.TgZ(139,"a",60),t._uU(140," Enable variant category"),t.qZA(),t._UZ(141,"br"),t.YNc(142,kt,1,2,"input",62),t._uU(143," \xa0"),t.YNc(144,Dt,2,0,"a",63),t._UZ(145,"br"),t.YNc(146,Lt,1,2,"input",62),t._uU(147," \xa0"),t.YNc(148,Bt,2,0,"a",63),t._UZ(149,"br"),t.YNc(150,Ft,1,2,"input",62),t._uU(151," \xa0"),t.YNc(152,qt,2,0,"a",63),t._UZ(153,"br"),t.YNc(154,Jt,1,2,"input",62),t._uU(155," \xa0"),t.YNc(156,Vt,2,0,"a",63),t._UZ(157,"br"),t.YNc(158,Ht,1,2,"input",62),t._uU(159," \xa0"),t.YNc(160,Qt,2,0,"a",63),t._UZ(161,"br"),t.YNc(162,zt,1,2,"input",62),t._uU(163," \xa0"),t.YNc(164,Yt,2,0,"a",63),t._UZ(165,"br"),t.qZA()(),t.TgZ(166,"div",64)(167,"div",65)(168,"table")(169,"tr")(170,"td",66),t._uU(171," Recommended Sales Margin : "),t.qZA(),t.TgZ(172,"td",67),t._uU(173),t.qZA()(),t.TgZ(174,"tr")(175,"td",68),t._uU(176," Actual margin : "),t.qZA(),t.TgZ(177,"td",69),t._uU(178),t.ALo(179,"number"),t.qZA()(),t.TgZ(180,"tr"),t._UZ(181,"td",70),t.TgZ(182,"td",69),t._uU(183),t.ALo(184,"number"),t.qZA()()()()()()(),t.TgZ(185,"generic-popup-grid",71,72),t.NdJ("onItemDoubleClick",function(i){return o.dblClickPopupParty(i)}),t.qZA(),t.TgZ(187,"generic-popup-grid",71,73),t.NdJ("onItemDoubleClick",function(i){return o.dblClickPopupItem(i)}),t.qZA(),t.TgZ(189,"generic-popup-grid",71,74),t.NdJ("onItemDoubleClick",function(i){return o.dblClickPopupRefItem(i)}),t.qZA(),t.YNc(191,Kt,24,2,"div",57),t.YNc(192,Wt,19,2,"div",57)),2&e&&(t.xp6(7),t.Q6J("options",o.masterService.departmentList)("labelKey","DepartmentName")("valueKey","DepartmentName")("ngModel",o.masterService.prodAttSearchObj.DEPARTMENT),t.xp6(4),t.Q6J("ngIf",(""!=o.masterService.prodAttSearchObj.DEPARTMENT||null!=o.masterService.prodAttSearchObj.DEPARTMENT||null!=o.masterService.prodAttSearchObj.DEPARTMENT)&&o.masterService.prodAttSearchObj.DEPARTMENT),t.xp6(7),t.Q6J("ngModel",o.productObj.BASEUNIT)("disabled",1==o.masterService.disableOnCheckTran),t.xp6(1),t.Q6J("ngForOf",o.Units),t.xp6(4),t.Q6J("ngModel",o.ProductService.TempProductObj.PRATE_A),t.xp6(4),t.Q6J("disabled",!0)("ngModel",o.productObj.CRATE),t.xp6(4),t.Q6J("ngModel",o.productObj.LabeledMRP),t.xp6(5),t.Q6J("ngModel",o.productObj.PTYPE),t.xp6(1),t.Q6J("ngForOf",o.PTypeList),t.xp6(2),t.Q6J("disabled",1==o.masterService.disableOnCheckTran||1==o.masterService.userSetting.EnablePanBill),t.xp6(3),t.Q6J("ngModel",o.productObj.VAT)("value",1),t.xp6(4),t.Q6J("ngModel",o.productObj.VAT)("value",0),t.xp6(3),t.Q6J("ngIf",1==o.userSetting.ENABLEEXTRACATEGORY),t.xp6(1),t.Q6J("ngIf",1==o.userSetting.ENABLETAXCATEGORY),t.xp6(5),t.Q6J("ngModel",o.ProductService.suppilierName),t.xp6(4),t.Q6J("ngModel",o.productObj.SUPITEMNAME),t.xp6(4),t.Q6J("ngModel",o.productObj.CONFACTOR)("disabled",!o.productObj.SUPITEMNAME),t.xp6(4),t.Q6J("ngModel",o.productObj.DISMODE),t.xp6(5),t.Q6J("ngIf",1==o.userSetting.EnableDiscountedOption),t.xp6(4),t.Q6J("ngModel",o.productObj.REFITEMNAME),t.xp6(20),t.Q6J("ngModel",o.ProductService.TempProductObj.IN_RATE_A),t.xp6(1),t.Q6J("ngModel",o.ProductService.TempProductObj.RATE_A),t.xp6(4),t.Q6J("ngModel",o.ProductService.TempProductObj.IN_RATE_B),t.xp6(1),t.Q6J("ngModel",o.ProductService.TempProductObj.RATE_B),t.xp6(6),t.Q6J("ngModel",o.productObj.discontinueCheckbox),t.xp6(2),t.Q6J("ngModel",o.productObj.DISCONTINUE)("disabled",!o.productObj.discontinueCheckbox),t.xp6(8),t.Q6J("ngIf",1==o.userSetting.ENABLE_COLOR_GROUP_MAPPING),t.xp6(1),t.Q6J("ngIf",1==o.productObj.HASECSCHARGE),t.xp6(1),t.Q6J("ngIf",1==o.userSetting.ENABLEWARRANTYPERIOD),t.xp6(2),t.Q6J("ngModel",o.productObj.ISUNKNOWN)("checked",1==o.productObj.ISUNKNOWN),t.xp6(5),t.Q6J("ngModel",o.productObj.REQEXPDATE)("checked",1==o.productObj.REQEXPDATE),t.xp6(5),t.Q6J("ngModel",o.productObj.IsQtyUnknown)("checked",1==o.productObj.IsQtyUnknown),t.xp6(5),t.Q6J("ngModel",o.productObj.HASVARIANT)("checked",1==o.productObj.HASVARIANT),t.xp6(5),t.Q6J("ngIf",1==o.masterService.userSetting.EnableBatchWisePrice&&0==o.masterService.userSetting.ENABLESINGLEBATCHMODE),t.xp6(2),t.Q6J("ngIf",1==o.masterService.userSetting.EnableBatchWisePrice&&0==o.masterService.userSetting.ENABLESINGLEBATCHMODE),t.xp6(2),t.Q6J("ngIf",0!=o.userSetting.EnableServiceCharge),t.xp6(2),t.Q6J("ngIf",0!=o.userSetting.EnableServiceCharge),t.xp6(2),t.Q6J("ngIf",0!=o.masterService.userSetting.ENABLE_ECS),t.xp6(2),t.Q6J("ngIf",0!=o.masterService.userSetting.ENABLE_ECS),t.xp6(2),t.Q6J("ngIf",0!=o.masterService.userSetting.EnableRecurringItem),t.xp6(2),t.Q6J("ngIf",0!=o.masterService.userSetting.EnableRecurringItem),t.xp6(2),t.Q6J("ngIf",0!=o.masterService.userSetting.EnableCommissionCalculation),t.xp6(2),t.Q6J("ngIf",0!=o.masterService.userSetting.EnableCommissionCalculation),t.xp6(2),t.Q6J("ngIf",1==o.masterService.userSetting.ItemWiseDisplaySettingInBilling),t.xp6(2),t.Q6J("ngIf",1==o.masterService.userSetting.ItemWiseDisplaySettingInBilling),t.xp6(9),t.hij(" ",o.productObj.MARGIN,"% "),t.xp6(5),t.hij(" ",t.xi3(179,66,null==o.ProductService.pObj?null:o.ProductService.pObj.RecMarginOnPRate,"1.2-2"),"% on P-Price"),t.xp6(5),t.hij(" ",t.xi3(184,69,null==o.ProductService.pObj?null:o.ProductService.pObj.RecMarginOnRate,"1.2-2"),"% on S-Price"),t.xp6(2),t.Q6J("popupsettings",o.gridPopupSettingsForSupplier),t.xp6(2),t.Q6J("popupsettings",o.gridPopupSettings),t.xp6(2),t.Q6J("popupsettings",o.genericReferenceItemSettings),t.xp6(2),t.Q6J("ngIf",o.addNewUnit),t.xp6(1),t.Q6J("ngIf",o.addNewCategory))},dependencies:[p.sg,p.O5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.Wl,a.EJ,a._,a.JJ,a.JL,a.On,a.sg,a.u,A.Zl,E.q0,J.c,p.JJ],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}",".col-md-12[_ngcontent-%COMP%] {\n    padding: 0px !important;\n  }\n\n  .col-md-4[_ngcontent-%COMP%] {\n    padding: 0px !important;\n  }\n\n  .ThirtyTreeLabel[_ngcontent-%COMP%] {\n    width: 28.5%;\n  }\n\n  .fourtyfive[_ngcontent-%COMP%] {\n    width: 30%;\n  }\n\n  .thirtysix[_ngcontent-%COMP%] {\n    width: 36%;\n  }\n\n  label[_ngcontent-%COMP%] {\n    font-size: 12px;\n    width: 5rem;\n    ;\n  }\n\n    .ims-custom-select{\n    height: 23px;\n    width: 156px;\n    padding: 0 0;\n  }\n\n    #customForm .form-group{\n    margin-bottom : 0rem;\n  }"]}),r})();var Xt=d(23707);const te=["fileSelect"],ee=["genericimageupload"];function oe(r,c){if(1&r&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.selectedFileNames)}}let ne=(()=>{class r{constructor(e,o,n,i,s){this.masterService=e,this.setting=o,this.alertService=n,this.spinner=i,this.productService=s,this.productObj={},this.dragging=!1,this.fileList=null,this.imgURL=null;try{this.AppSettings=this.setting.appSetting}catch(l){alert(l)}}ngOnInit(){}onImageClick(){this.genericimageupload.show("product",this.productObj.MENUCODE)}onDragOver(e){this.dragging=!0,e.preventDefault()}onDrop(e){this.dragging=!1,this.fileList=e.dataTransfer.files,this.setSelectedFileNames(),e.preventDefault()}setSelectedFileNames(){this.selectedFileNames="",null!=this.selectedFile&&(this.selectedFileNames=this.selectedFile.name)}onFileChange(e){this.selectedFile=e.target.files[0],this.setSelectedFileNames()}importConfig(){let e=this.selectedFile;const o=new FormData;o.append("file",e,e.name),this.spinner.show("Uploading Image, Please wait.."),this.masterService.importConfig(o).subscribe(n=>{if("ok"==n.status){this.spinner.hide(),this.alertService.success("Upload Sucessfull");let i=this.masterService.apiUrl;this.masterService.productImgURL=""+i.substring(i.length-3,0)+n.result,console.log("image upload url",this.masterService.productImgURL),this.productObj.ImageUpload=n.result+""}else this.spinner.hide(),this.alertService.error(n.result)},n=>{this.spinner.hide(),this.alertService.error(n)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.P),t.Y36(v.R),t.Y36(T.c),t.Y36(w.V),t.Y36(C))},r.\u0275cmp=t.Xpm({type:r,selectors:[["imageuploadtab"]],viewQuery:function(e,o){if(1&e&&(t.Gf(te,5),t.Gf(ee,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.fileSelect=n.first),t.iGM(n=t.CRH())&&(o.genericimageupload=n.first)}},inputs:{productObj:"productObj",AppSettings:"AppSettings"},decls:39,vars:5,consts:[[1,"upload-area","container"],[1,"file-upload-area"],[1,"row"],[1,"col-md-5"],["id","drop-zone",1,"upload-drop-zone",3,"dragover","drop","click"],[4,"ngIf"],[1,"input-group","image-preview"],["placeholder","","type","text","disabled","disabled","name","selectedfiles",1,"form-control","image-preview-filename",2,"display","none"],[1,"input-group-btn"],["type","button",1,"btn","btn-default","image-preview-clear",2,"display","none"],[1,"glyphicon","glyphicon-remove"],[1,"btn","btn-info","image-preview-input",2,"margin-right","5px"],[1,"glyphicon","glyphicon-folder-open"],[1,"image-preview-input-title"],["type","file","accept",".png, .jpg","name","input-file-preview",3,"change"],["fileSelect",""],["type","button",1,"btn","btn-labeled","btn-info",3,"disabled","click"],[1,"btn-label"],[1,"glyphicon","glyphicon-upload"],[1,"input-group","image-preview",2,"margin-left","270px"],["type","button",1,"btn","btn-labeled","btn-info",3,"click"],[1,"col-md-7"],[2,"margin","auto","height","45vh","width","81vh","box-shadow","7px 7px 11px #333434",3,"src"],["genericimageupload",""]],template:function(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"br"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.NdJ("dragover",function(s){return o.onDragOver(s)})("drop",function(s){return o.onDrop(s)})("click",function(){t.CHM(n);const s=t.MAs(22);return t.KtG(s.click())}),t.TgZ(6,"b"),t._uU(7,"Choose an Image"),t.qZA(),t._uU(8," or Drag it here. "),t.qZA(),t._UZ(9,"br"),t.YNc(10,oe,2,1,"p",5),t.TgZ(11,"div",6),t._UZ(12,"input",7),t.TgZ(13,"span",8)(14,"button",9)(15,"span",10),t._uU(16,"Clear"),t.qZA()(),t.TgZ(17,"div",11),t._UZ(18,"span",12),t.TgZ(19,"span",13),t._uU(20,"Browse"),t.qZA(),t.TgZ(21,"input",14,15),t.NdJ("change",function(s){return o.onFileChange(s)}),t.qZA()(),t.TgZ(23,"button",16),t.NdJ("click",function(){return o.importConfig()}),t.TgZ(24,"span",17),t._UZ(25,"i",18),t.qZA(),t._uU(26,"Upload "),t.qZA(),t._UZ(27,"br"),t.qZA()(),t.TgZ(28,"div",19)(29,"button",20),t.NdJ("click",function(){return o.onImageClick()}),t.TgZ(30,"span",17),t._UZ(31,"i",18),t.qZA(),t._uU(32,"Multiple Image Upload "),t.qZA()()(),t.TgZ(33,"div",21),t._UZ(34,"img",22),t.qZA()(),t._UZ(35,"br"),t.qZA(),t._UZ(36,"br"),t.qZA(),t._UZ(37,"generic-img-upload",null,23)}2&e&&(t.xp6(5),t.ekj("file-dropover-continue",o.dragging),t.xp6(5),t.Q6J("ngIf",o.selectedFileNames),t.xp6(13),t.Q6J("disabled",!o.selectedFile),t.xp6(11),t.s9C("src",o.masterService.productImgURL,t.LSH))},dependencies:[p.O5,Xt.O],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}",'.modal-content[_ngcontent-%COMP%] {\n      padding: 1px;\n      margin: 0px;\n      float: right;\n    }\n  \n    .modal-content[_ngcontent-%COMP%] {\n      box-shadow: -10px 0px 10px 1px #aaaaaa;\n    }\n  \n    .modal-content-summary-area[_ngcontent-%COMP%] {\n      max-height: 20%;\n      height: 20%;\n      overflow: auto;\n      overflow-x: hidden;\n    }\n  \n    \n    .upload-drop-zone[_ngcontent-%COMP%] {\n      height: 80px;\n      border-width: 2px;\n      margin-bottom: 0px;\n    }\n  \n    \n    .upload-drop-zone[_ngcontent-%COMP%] {\n      color: #c7dadf;\n      border-style: solid;\n      border-color:#c7dadf;\n      border-radius: 2px;\n      line-height: 75px;\n      text-align: center;\n      cursor: pointer;\n      height: 8.5rem;\n    }\n  \n    .sample-download-area[_ngcontent-%COMP%] {\n      color: #ccc;\n      border-style: dashed;\n      border-color: #ccc;\n      line-height: 60px;\n      text-align: center;\n      cursor: pointer;\n    }\n  \n    .upload-drop-zone.drop[_ngcontent-%COMP%] {\n      color: #222;\n      border-color: #222;\n    }\n  \n    .image-preview-input[_ngcontent-%COMP%] {\n      position: relative;\n      overflow: hidden;\n      margin: 0px;\n      color: #333;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    .image-preview-input[_ngcontent-%COMP%]   input[type="file"][_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      right: 0;\n      margin: 0;\n      padding: 0;\n      font-size: 20px;\n      cursor: pointer;\n      opacity: 0;\n      filter: alpha(opacity=0);\n    }\n    .image-preview-input-title[_ngcontent-%COMP%] {\n      margin-left: 2px;\n    }\n  \n    .form-control[_ngcontent-%COMP%] {\n      height: 35px;\n    }\n  \n    .file-dropover-continue[_ngcontent-%COMP%] {\n      color: #1b6ed6;\n      border-style: dashed;\n      border-color: #1b6ed6;\n      background: #ded4d4;\n    }\n    .modal-sticky[_ngcontent-%COMP%] {\n      position: fixed;\n      top: 275px;\n      right: 20px;\n      width: 40%;\n      z-index: 9999999;\n  }']}),r})();const ie=["genericGridAccountLedger_Sales"],re=["genericGridAccountLedger_SalesReturn"],se=["genericGridAccountLedger_Purchase"],ce=["genericGridAccountLedger_PurchaseReturn"];let le=(()=>{class r{constructor(e,o,n){this.masterService=e,this.productService=o,this.alert=n,this.productObj={},this.gridPopupSettingsForAccountLedgerList_Sales=new A.im,this.gridPopupSettingsForAccountLedgerList_SalesReturn=new A.im,this.gridPopupSettingsForAccountLedgerList_Purchase=new A.im,this.gridPopupSettingsForAccountLedgerList_PurchaseReturn=new A.im}ngOnInit(){}SalesAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_Sales=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridAccountLedger_Sales.show()}dblClickSalesAccountSelect(e){this.productObj.SAC=e.ACID,this.productObj.SAC_ACNAME=e.ACNAME}SalesReturnAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_SalesReturn=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridAccountLedger_SalesReturn.show()}dblClickSalesReturnAccountSelect(e){this.productObj.SRAC=e.ACID,this.productObj.SRAC_ACNAME=e.ACNAME}PurchaseAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_Purchase=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridAccountLedger_Purchase.show()}dblClickPurchaseAccountSelect(e){this.productObj.PAC=e.ACID,this.productObj.PAC_ACNAME=e.ACNAME}PurchaseReturnAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_PurchaseReturn=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridAccountLedger_PurchaseReturn.show()}dblClickPurchaseReturnAccountSelect(e){this.productObj.PRAC=e.ACID,this.productObj.PRAC_ACNAME=e.ACNAME}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.P),t.Y36(C),t.Y36(T.c))},r.\u0275cmp=t.Xpm({type:r,selectors:[["itemwise-acc"]],viewQuery:function(e,o){if(1&e&&(t.Gf(ie,5),t.Gf(re,5),t.Gf(se,5),t.Gf(ce,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.genericGridAccountLedger_Sales=n.first),t.iGM(n=t.CRH())&&(o.genericGridAccountLedger_SalesReturn=n.first),t.iGM(n=t.CRH())&&(o.genericGridAccountLedger_Purchase=n.first),t.iGM(n=t.CRH())&&(o.genericGridAccountLedger_PurchaseReturn=n.first)}},inputs:{productObj:"productObj"},decls:32,vars:8,consts:[[1,"row"],[1,"col-md-5",2,"padding-left","0px"],[2,"font-size","15px","width","50%","font-weight","bold"],[2,"width","105px"],["type","text","placeholder","Press Enter or Tab for Account List",3,"ngModel","ngModelChange","keydown.Tab","keydown.enter"],[2,"margin-top","15px"],[3,"popupsettings","onItemDoubleClick"],["genericGridAccountLedger_Sales",""],["genericGridAccountLedger_SalesReturn",""],["genericGridAccountLedger_Purchase",""],["genericGridAccountLedger_PurchaseReturn",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"fieldset")(3,"legend",2),t._uU(4,"Sales Transaction"),t.qZA(),t.TgZ(5,"div")(6,"label",3),t._uU(7,"Sales :"),t.qZA(),t.TgZ(8,"input",4),t.NdJ("ngModelChange",function(i){return o.productObj.SAC_ACNAME=i})("keydown.Tab",function(){return o.SalesAccountEnterClicked()})("keydown.enter",function(){return o.SalesAccountEnterClicked()}),t.qZA()(),t.TgZ(9,"div")(10,"label",3),t._uU(11,"Sales Return :"),t.qZA(),t.TgZ(12,"input",4),t.NdJ("ngModelChange",function(i){return o.productObj.SRAC_ACNAME=i})("keydown.Tab",function(){return o.SalesReturnAccountEnterClicked()})("keydown.enter",function(){return o.SalesReturnAccountEnterClicked()}),t.qZA()()(),t.TgZ(13,"fieldset",5)(14,"legend",2),t._uU(15,"Purchase Transaction"),t.qZA(),t.TgZ(16,"div")(17,"label",3),t._uU(18,"Purchase :"),t.qZA(),t.TgZ(19,"input",4),t.NdJ("ngModelChange",function(i){return o.productObj.PAC_ACNAME=i})("keydown.Tab",function(){return o.PurchaseAccountEnterClicked()})("keydown.enter",function(){return o.PurchaseAccountEnterClicked()}),t.qZA()(),t.TgZ(20,"div")(21,"label",3),t._uU(22,"Purchase Return :"),t.qZA(),t.TgZ(23,"input",4),t.NdJ("ngModelChange",function(i){return o.productObj.PRAC_ACNAME=i})("keydown.Tab",function(){return o.PurchaseReturnAccountEnterClicked()})("keydown.enter",function(){return o.PurchaseReturnAccountEnterClicked()}),t.qZA()()()()(),t.TgZ(24,"generic-popup-grid",6,7),t.NdJ("onItemDoubleClick",function(i){return o.dblClickSalesAccountSelect(i)}),t.qZA(),t.TgZ(26,"generic-popup-grid",6,8),t.NdJ("onItemDoubleClick",function(i){return o.dblClickSalesReturnAccountSelect(i)}),t.qZA(),t.TgZ(28,"generic-popup-grid",6,9),t.NdJ("onItemDoubleClick",function(i){return o.dblClickPurchaseAccountSelect(i)}),t.qZA(),t.TgZ(30,"generic-popup-grid",6,10),t.NdJ("onItemDoubleClick",function(i){return o.dblClickPurchaseReturnAccountSelect(i)}),t.qZA()),2&e&&(t.xp6(8),t.Q6J("ngModel",o.productObj.SAC_ACNAME),t.xp6(4),t.Q6J("ngModel",o.productObj.SRAC_ACNAME),t.xp6(7),t.Q6J("ngModel",o.productObj.PAC_ACNAME),t.xp6(4),t.Q6J("ngModel",o.productObj.PRAC_ACNAME),t.xp6(1),t.Q6J("popupsettings",o.gridPopupSettingsForAccountLedgerList_Sales),t.xp6(2),t.Q6J("popupsettings",o.gridPopupSettingsForAccountLedgerList_SalesReturn),t.xp6(2),t.Q6J("popupsettings",o.gridPopupSettingsForAccountLedgerList_Purchase),t.xp6(2),t.Q6J("popupsettings",o.gridPopupSettingsForAccountLedgerList_PurchaseReturn))},dependencies:[a.Fj,a.JJ,a.On,A.Zl],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}",".col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n\n    }\n\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr[_ngcontent-%COMP%]:nth-child(even) {\n        background-color: #f2f2f2;\n    }\n\n    input[_ngcontent-%COMP%]{\n        padding-left: 2px;\n        width: 65%;\n    }"]}),r})();function ae(r,c){if(1&r&&(t.TgZ(0,"tr",8)(1,"td",9),t._uU(2),t.qZA(),t.TgZ(3,"td",10),t._uU(4),t.qZA(),t.TgZ(5,"td",11),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",11),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td",11),t._uU(12),t.ALo(13,"number"),t.qZA()()),2&r){const e=c.$implicit,o=c.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.Oqu(e.BATCH),t.xp6(2),t.hij(" ",t.xi3(7,5,e.LANDINGCOST,"1.2-2"),""),t.xp6(3),t.Oqu(t.xi3(10,8,e.SELLRATEBEFORETAX,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(13,11,e.MRP,"1.2-2"))}}let de=(()=>{class r{constructor(e,o,n){this.masterService=e,this.productService=o,this.alert=n,this.productObj={},this.ItemWisePriceList={},console.log("@@ItemWisePriceList",this.productObj.ItemWisePrice)}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.P),t.Y36(C),t.Y36(T.c))},r.\u0275cmp=t.Xpm({type:r,selectors:[["itemwise-price"]],inputs:{productObj:"productObj"},decls:17,vars:1,consts:[[1,"row",2,"width","100%"],[2,"height","58vh","width","100%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","1%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","3%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","5%","font-weight","bold","text-align","center"],["style","border: 1px; max-height: 25px;",4,"ngFor","ngForOf"],[2,"border","1px","max-height","25px"],["id","sn",2,"line-height","21px","text-align","center","border","1px solid #e6e6e6"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","center"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","right"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr",3)(5,"th",4),t._uU(6,"S.N"),t.qZA(),t.TgZ(7,"th",5),t._uU(8,"BATCH"),t.qZA(),t.TgZ(9,"th",6),t._uU(10,"LANDINGCOST"),t.qZA(),t.TgZ(11,"th",5),t._uU(12,"SELLRATEBEFORETAX"),t.qZA(),t.TgZ(13,"th",5),t._uU(14,"MRP"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,ae,14,14,"tr",7),t.qZA()()()()),2&e&&(t.xp6(16),t.Q6J("ngForOf",o.productObj.ItemWisePrice))},dependencies:[p.sg,p.JJ],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}",".col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n\n    }\n\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr[_ngcontent-%COMP%]:nth-child(even) {\n        background-color: #f2f2f2;\n    }\n\n    input[_ngcontent-%COMP%]{\n        padding-left: 2px;\n        width:96%;\n    }\n\n.fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n \n  .stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    position: sticky;\n    top: 0;\n    background-color: #6bb9b1 !important;\n    line-height: 2rem;\n    z-index: 2\n  }\n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),r})();function ue(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr",19)(1,"td",20),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",22),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td",23)(13,"input",24),t.NdJ("change",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.ISACTIVE=n.target.checked?1:0)})("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.ISACTIVE=n)}),t.qZA()(),t.TgZ(14,"td",25)(15,"button",26),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw();return t.KtG(s.editMSLevel(i))}),t._uU(16,"EDIT"),t.qZA(),t.TgZ(17,"button",27),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw();return t.KtG(s.removeMSLevel(i))}),t._uU(18,"Remove"),t.qZA()()()}if(2&r){const e=c.$implicit,o=c.index,n=t.oxw();t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(t.xi3(5,6,e.RATE,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(8,9,e.INRATE,"1.2-2")),t.xp6(3),t.Oqu(t.lcZ(11,12,e.EXPDATE)),t.xp6(3),t.Q6J("ngModel",e.ISACTIVE),t.xp6(4),t.Q6J("disabled","edit"==n.mode)}}let pe=(()=>{class r{constructor(e,o,n,i){this.masterService=e,this.productService=o,this.alertservice=n,this.setting=i,this.productObj={},this.mode="",this.PMultipleRetailPrice=[],this.AlternateUnits=[],this.PBarCodeCollection=[],this.MultipeRetailObj={};try{this.AppSettings=this.setting.appSetting}catch(s){alert(s)}}ngOnInit(){}ngONChange(){console.log("mode1",this.mode)}addMRP(){0!=this.MultipeRetailObj.RATE&&null!=this.MultipeRetailObj.RATE?this.MultipeRetailObj.EXPDATE?(this.MultipeRetailObj.ISACTIVE=1,this.MultipeRetailObj.INRATE=this.MultipeRetailObj.RATE*this.masterService.userSetting.VatConRate,this.PMultipleRetailPrice.push(this.MultipeRetailObj),this.MultipeRetailObj={}):this.alertservice.warning("Expiry Date cannot be empty"):this.alertservice.warning("Rate cannot be empty")}editMSLevel(e){this.MultipeRetailObj=this.PMultipleRetailPrice[e],this.PMultipleRetailPrice.splice(e,1)}onChangeINculsiveRate(){this.MultipeRetailObj.INRATE=Number((this.MultipeRetailObj.RATE*this.masterService.userSetting.VatConRate).toFixed(2))}onChangeExculsiveRate(){this.MultipeRetailObj.RATE=Number((this.MultipeRetailObj.INRATE/this.masterService.userSetting.VatConRate).toFixed(2))}removeMSLevel(e){this.PMultipleRetailPrice.splice(e,1)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.P),t.Y36(C),t.Y36(T.c),t.Y36(v.R))},r.\u0275cmp=t.Xpm({type:r,selectors:[["multipleretail-price"]],inputs:{productObj:"productObj",mode:"mode",AppSettings:"AppSettings",PMultipleRetailPrice:"PMultipleRetailPrice",AlternateUnits:"AlternateUnits",PBarCodeCollection:"PBarCodeCollection"},decls:38,vars:4,consts:[[2,"margin-left","5px"],[1,"col-md-12","row"],[1,"col-md-11",2,"margin-top","-11px","padding-right","5px"],[2,"width","121px","margin-left","-34px"],["type","number",2,"width","140px",3,"ngModel","keyup","ngModelChange"],[2,"width","121px","margin-left","5px"],[2,"width","66px","margin-left","5px"],["type","date",2,"width","140px",3,"ngModel","ngModelChange"],[1,"col-md-1",2,"margin-top","10px"],[1,"btn","btn-info",2,"margin-left","20px","width","100%","background-color","#17a2b8","font-size","12px",3,"click"],[2,"height","40vh","width","99%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","7%","font-weight","bold"],[1,"fontsize",2,"width","10%","font-weight","bold"],[1,"fontsize",2,"width","9%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","12%","font-weight","bold","text-align","center"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 25px;",4,"ngFor","ngForOf"],[2,"line-height","25px"],[1,"fontsize",2,"width","7%"],[1,"fontsize","tooltipParent",2,"width","10%"],[1,"fontsize",2,"width","10%"],[1,"fontsize",2,"width","9%","text-align","center"],["type","checkbox",2,"width","25px","height","17px","margin-top","4px","margin-right","9px",3,"ngModel","change","ngModelChange"],[1,"fontsize",2,"width","12%","text-align","center"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","font-size","11px","line-height","10px",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"br"),t.TgZ(4,"label",3),t._uU(5,"Rate (Exclusive) :"),t.qZA(),t.TgZ(6,"input",4),t.NdJ("keyup",function(){return o.onChangeINculsiveRate()})("ngModelChange",function(i){return o.MultipeRetailObj.RATE=i}),t.qZA(),t.TgZ(7,"label",5),t._uU(8,"Rate (In-Exclusive) :"),t.qZA(),t.TgZ(9,"input",4),t.NdJ("keyup",function(){return o.onChangeExculsiveRate()})("ngModelChange",function(i){return o.MultipeRetailObj.INRATE=i}),t.qZA(),t.TgZ(10,"label",6),t._uU(11,"Exp Date :"),t.qZA(),t.TgZ(12,"input",7),t.NdJ("ngModelChange",function(i){return o.MultipeRetailObj.EXPDATE=i}),t.qZA()(),t.TgZ(13,"div",8)(14,"table")(15,"tr")(16,"td")(17,"button",9),t.NdJ("click",function(){return o.addMRP()}),t._uU(18,"Add"),t.qZA()()()()()()(),t._UZ(19,"br"),t.TgZ(20,"div",10)(21,"table",11)(22,"thead")(23,"tr",12)(24,"th",13),t._uU(25,"SN"),t.qZA(),t.TgZ(26,"th",14),t._uU(27,"RATE(Exclusive)"),t.qZA(),t.TgZ(28,"th",14),t._uU(29,"RATE(Inclusive)"),t.qZA(),t.TgZ(30,"th",14),t._uU(31,"EXP-DATE"),t.qZA(),t.TgZ(32,"th",15),t._uU(33,"Active"),t.qZA(),t.TgZ(34,"th",16),t._uU(35,"Actions"),t.qZA()()(),t.TgZ(36,"tbody",17),t.YNc(37,ue,19,14,"tr",18),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngModel",o.MultipeRetailObj.RATE),t.xp6(3),t.Q6J("ngModel",o.MultipeRetailObj.INRATE),t.xp6(3),t.Q6J("ngModel",o.MultipeRetailObj.EXPDATE),t.xp6(25),t.Q6J("ngForOf",o.PMultipleRetailPrice))},dependencies:[p.sg,a.Fj,a.wV,a.Wl,a.JJ,a.On,p.JJ,p.uU],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}",".fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n  .tooltipParent[_ngcontent-%COMP%]{\n      position: relative;\n      cursor: pointer;\n  }\n  .tooltipChild[_ngcontent-%COMP%]{\n    display:block !important;\n    padding: 15px;\n    background: seagreen;\n    position: absolute;\n    border-radius: 17px;\n    text-align: center;\n    color: whiter;\n    color: white;\n    width: 100%;\n  }\n  .stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    position: sticky;\n    top: 0;\n    background-color: #6bb9b1 !important;\n    line-height: 2rem;\n    z-index: 2\n  }\n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),r})();function he(r,c){if(1&r&&(t.TgZ(0,"tab",2),t._UZ(1,"multipleretail-price",7),t.qZA()),2&r){const e=t.oxw();t.Q6J("tabTitle","Multiple Retail Price"),t.xp6(1),t.Q6J("productObj",e.productObj)("mode",e.mode)("PMultipleRetailPrice",e.PMultipleRetailPrice)("PBarCodeCollection",e.PBarCodeCollection)("AlternateUnits",e.AlternateUnits)}}function ge(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tab",2)(1,"itemwise-acc",4),t.NdJ("returnsaveObj",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(n))}),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("tabTitle","Account Mapping"),t.xp6(1),t.Q6J("productObj",e.productObj)}}function _e(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tab",2)(1,"itemwise-price",4),t.NdJ("returnsaveObj",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(n))}),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("tabTitle","Item Wise Price"),t.xp6(1),t.Q6J("productObj",e.productObj)}}let me=(()=>{class r{constructor(e,o){this.setting=e,this.masterService=o,this.productObj={},this.AlternateUnits=[],this.RGLIST=[],this.mode="",this.PBarCodeCollection=[],this.PMultipleRetailPrice=[],this.BrandModelList=[],this.subscribeonevalue=0;try{this.AppSettings=this.setting.appSetting}catch(n){alert(n)}}returnsaveObj(e){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(v.R),t.Y36(f.P))},r.\u0275cmp=t.Xpm({type:r,selectors:[["productmastertab"]],inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits",RGLIST:"RGLIST",mode:"mode",PBarCodeCollection:"PBarCodeCollection",PMultipleRetailPrice:"PMultipleRetailPrice",BrandModelList:"BrandModelList",EnableMultiStockLevel:"EnableMultiStockLevel",settingData:"settingData"},decls:15,vars:17,consts:[[1,"col-md-12",2,"margin-top","-2%"],[2,"padding","0px 2px 0px 2px"],[3,"tabTitle"],[3,"productObj","AlternateUnits","returnsaveObj"],[3,"productObj","returnsaveObj"],[3,"productObj","PBarCodeCollection","AlternateUnits","returnsaveObj"],[3,"tabTitle",4,"ngIf"],[3,"productObj","mode","PMultipleRetailPrice","PBarCodeCollection","AlternateUnits"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"tabs",1)(2,"tab",2)(3,"Detail_Information",3),t.NdJ("returnsaveObj",function(i){return o.returnsaveObj(i)}),t.qZA()(),t.TgZ(4,"tab",2)(5,"alternateunittab",3),t.NdJ("returnsaveObj",function(i){return o.returnsaveObj(i)}),t.qZA()(),t.TgZ(6,"tab",2)(7,"inventorycontroltab",4),t.NdJ("returnsaveObj",function(i){return o.returnsaveObj(i)}),t.qZA()(),t.TgZ(8,"tab",2)(9,"barcodetab",5),t.NdJ("returnsaveObj",function(i){return o.returnsaveObj(i)}),t.qZA()(),t.YNc(10,he,2,6,"tab",6),t.YNc(11,ge,2,2,"tab",6),t.TgZ(12,"tab",2)(13,"imageuploadtab",4),t.NdJ("returnsaveObj",function(i){return o.returnsaveObj(i)}),t.qZA()(),t.YNc(14,_e,2,2,"tab",6),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("tabTitle","Detailed Information"),t.xp6(1),t.Q6J("productObj",o.productObj)("AlternateUnits",o.AlternateUnits),t.xp6(1),t.Q6J("tabTitle","Alternate Unit"),t.xp6(1),t.Q6J("productObj",o.productObj)("AlternateUnits",o.AlternateUnits),t.xp6(1),t.Q6J("tabTitle","Inventory Control"),t.xp6(1),t.Q6J("productObj",o.productObj),t.xp6(1),t.Q6J("tabTitle","Barcode Mapping"),t.xp6(1),t.Q6J("productObj",o.productObj)("PBarCodeCollection",o.PBarCodeCollection)("AlternateUnits",o.AlternateUnits),t.xp6(1),t.Q6J("ngIf",1==o.masterService.userSetting.ENABLESINGLEBATCHMODE),t.xp6(1),t.Q6J("ngIf",1==o.masterService.userSetting.DisableDefaultItemACMapping),t.xp6(1),t.Q6J("tabTitle","Image Upload"),t.xp6(1),t.Q6J("productObj",o.productObj),t.xp6(1),t.Q6J("ngIf",0==o.masterService.userSetting.ENABLESINGLEBATCHMODE))},dependencies:[p.O5,it,dt,Ct,B,Ot,$t,ne,le,de,pe],encapsulation:2}),r})();const be=["childModal"],Ce=["smBrand"],fe=["smModel"],Te=["loginModal"],Pe=["brandtree"];function Oe(r,c){if(1&r&&(t.TgZ(0,"div",22)(1,"label",23),t._uU(2,"Item Stock :"),t.qZA(),t.TgZ(3,"label",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw();t.xp6(4),t.Oqu(e.productObj.AVAILABLESTOCK)}}function Ae(r,c){if(1&r&&(t.TgZ(0,"div",22)(1,"label",23),t._uU(2,"Parent Item :"),t.qZA(),t.TgZ(3,"label",25),t._uU(4),t.qZA()()),2&r){const e=t.oxw();t.xp6(4),t.Oqu(e.productObj.MainItemName)}}function Me(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSave())}),t._uU(1," Save [End] "),t.qZA()}}function Se(r,c){1&r&&t._UZ(0,"brand-tree",null,27)}let V=(()=>{class r{constructor(e,o,n,i,s,l,u,_,g){this._loadingService=e,this._alertService=o,this.ProductService=n,this.masterService=i,this.router=s,this.activatedRoute=l,this.setting=u,this.authservice=_,this.fb=g,this.AlternateUnits=[],this.tab={},this.activeTabEmit=new t.vpe,this.productObj={},this.returnsaveObj=new t.vpe,this.selectedGroupInfo={},this.mode="add",this.DialogMessage="Saving data please wait ...",this.modeTitle="",this.initialTextReadOnly=!1,this.SetDIChecked=!1,this.Units=[],this.RGLIST=[],this.MCat1List=[],this.MCatList=[],this.SupplierList=[],this.KotCategoryList=[],this.BrandList=[],this.ModelList=[],this.AllModelList=[],this.WarehouseList=[],this.PBarCodeCollection=[],this.PMultipleRetailPrice=[],this.productAttributes={},this.BrandModelList=[],this.SelectedModel={},this.subcriptions=[],this.BrandObject={},this.userProfile={},this.showBrand=!1,this.PBarCode={},this.disableSave=!1,this.disableAll=!1,this.imgUrl="",this.accountList=[],this.appType=this.masterService.appType,this.userProfile=this.authservice.getUserProfile(),this.OrgType=this.userProfile.CompanyInfo.ORG_TYPE,this.settingData=this.authservice.getSetting();try{this.showBrand=!1,this.AppSettings=this.setting.appSetting,this.SelectedModel.ModelId="";let b=this.masterService.apiUrl;this.imgUrl=b.substring(b.length-3,0),this.masterService.productImgURL=""}catch(b){this._alertService.error(b)}}ngOnChanges(e){if(e.selectedGroupInfo)if(console.log("on changes of addproducts.ts",this.selectedGroupInfo,this.tab.mode),null!=this.selectedGroupInfo){if("add"==this.tab.mode){if(this.Parent=this.selectedGroupInfo.DESCA,this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.masterService.userSetting.ITEMGROUPCODELEVEL>this.selectedGroupInfo.LEVEL)return this.disableAll=!0,this.productObj.MENUCODE="",void(this.productObj.DESCA="");this.disableAll=!1,this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE),this.PBarCodeCollection=[]}else if("edit"==this.tab.mode){if(console.log("selecred group info",this.selectedGroupInfo),this.masterService.userSetting.ITEMGROUPCODELEVEL>this.selectedGroupInfo.LEVEL)return this.disableAll=!0,this.productObj.MENUCODE="",this.productObj.BASEUNIT="",void(this.productObj.MCAT="");this.disableAll=!1,"PRG99999999"==this.selectedGroupInfo.PARENT?(console.log("MAIN GROUP CHANGED",this.selectedGroupInfo.MGROUP,this.tempMGROUP),this.selectedGroupInfo.MGROUP==this.tempMGROUP?this.productObj.MENUCODE=this.tempMENUCODE:1==this.masterService.userSetting.EnableMenucodeGenerationInEdit&&(console.log("generate menu code in edit"),this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE))):(console.log("NOT PARENT PRG99999"),this.masterService.userSetting.ITEMGROUPCODELEVEL>1&&(console.log("not parent  PRG999",this.selectedGroupInfo.MCODE,this.tempPARENT),this.selectedGroupInfo.MCODE==this.tempPARENT?this.productObj.MENUCODE=this.tempMENUCODE:1==this.masterService.userSetting.EnableMenucodeGenerationInEdit&&this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE))),this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.MCAT=this.selectedGroupInfo.MCAT}}else this.Parent=""}ngAfterViewInit(){this.masterService.getMotherPack().subscribe(e=>{this.BrandList.push(e)}),0===this.AppSettings.GblMultiBrandModel&&this.masterService.getModelList().subscribe(e=>{this.AllModelList.push(e)}),this.masterService.getMCat1List().subscribe(e=>{this.MCat1List.push(e)})}ngOnInit(){console.log("addproducts.ts",this.tab.mode,this.tab.mcode),0==this.masterService.userSetting.MANUALCODE?setTimeout(()=>{document.getElementById("mainGroup").focus()},500):setTimeout(()=>{document.getElementById("productCode").focus()},500),"add"==this.tab.mode&&(console.log("hello eta k aaucha",this.masterService.prodAttSearchObj),this.uniqueKey()),this.form=this.fb.group({MENUCODE:["",a.kI.required]});try{this.mode=this.tab.mode,this.productObj.Weighable="kg",this.productObj.COLOR="",this.productObj.VOLUME="",this.productObj.SETTING="no",this.productObj.STATUS=1,this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0;let e=this;this.productObj.ItemRateDiscount={},this.productObj.MultiStockLevels=[],null!=this.tab.mode&&null!=this.tab.mcode?(this._loadingService.show("Please wait.Loading Data"),this.ProductService.getProductForEdit(this.tab.mcode).subscribe(o=>{if(console.log("get product for edit !!@@",o),"ok"===o.status){this.masterService.isAddFormShown_1=!0,this.productObj=o.result,console.log("product check after edit",this.productObj),this.masterService.ProductMcode=this.productObj.MCODE,this.productObj.MARGIN=this.productObj.RECRATE,this.ProductService.pObj.RecMarginOnPRate=o.result.PRATE_A>0?100*(o.result.RATE_A-o.result.PRATE_A)/o.result.PRATE_A:0,this.ProductService.pObj.RecMarginOnRate=this.productObj.SMARGIN,this.ProductService.TempProductObj.RATE_A=Number(o.result.RATE_A).toFixed(2),this.ProductService.TempProductObj.RATE_B=Number(o.result.RATE_B).toFixed(2),this.ProductService.TempProductObj.RATE_C=Number(o.result.RATE_C).toFixed(2),this.ProductService.TempProductObj.PRATE_A=Number(o.result.PRATE_A).toFixed(2),this.ProductService.TempProductObj.IN_RATE_A=Number(o.result.IN_RATE_A).toFixed(2),this.ProductService.TempProductObj.IN_PRATE_A=Number(o.result.IN_PRATE_A).toFixed(2),this.ProductService.TempProductObj.IN_RATE_B=Number(o.result.IN_RATE_B).toFixed(2),this.ProductService.TempProductObj.IN_RATE_C=Number(o.result.IN_RATE_C).toFixed(2),this.ProductService.TempProductObj.ECSRATE=o.result.ECSRATE,this.masterService.isGroup=!1,this.masterService.editMode=!0,this.masterService.productImgURL=this.imgUrl+this.productObj.ImageUpload+"",this.tempMGROUP=this.productObj.MGROUP,this.tempMENUCODE=this.productObj.MENUCODE,this.tempPARENT=this.productObj.PARENT,console.log("product parent",this.productObj.PARENT),this.ProductService.getProductInfo(this.productObj.PARENT).subscribe(i=>{this.selectedGroupInfo=i.result[0]});let n=o.result2[0];this.masterService.groupSelectObj.MGROUP=n.L1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.MGROUP).subscribe(i=>{i.length>0?(this.masterService.subGroupAList=i,this.masterService.groupSelectObj.SUBGROUP_A=n.L2,this.masterService.disabledSubgroupA=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_A).subscribe(s=>{s.length>0?(this.masterService.subGroupBList=s,this.masterService.groupSelectObj.SUBGROUP_B=n.L3,this.masterService.disabledSubgroupB=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_B).subscribe(l=>{l.length>0?(this.masterService.subGroupCList=l,this.masterService.groupSelectObj.SUBGROUP_C=n.L4,this.masterService.disabledSubgroupC=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_C).subscribe(u=>{u.length>0?(this.masterService.subGroupDList=u,this.masterService.groupSelectObj.SUBGROUP_D=n.L5,this.masterService.disabledSubgroupD=!1):this.masterService.disabledSubgroupD=!0})):this.masterService.disabledSubgroupC=!0})):this.masterService.disabledSubgroupB=!0})):this.masterService.disabledSubgroupA=!0}),this.productObj.SupplierName&&(this.ProductService.suppilierName=this.productObj.SupplierName),this.productObj.SUPCODE&&!this.productObj.SupplierName&&this.masterService.getCustomerByACID(this.productObj.SUPCODE).subscribe(i=>{i&&(this.ProductService.suppilierName=i[0].ACNAME)}),0==this.masterService.nullToZeroConverter(this.productObj.DISAMOUNT)?(this.ProductService.pObj.DiscountValue=this.productObj.DISRATE,this.ProductService.pObj.Dismode=1):0==this.masterService.nullToZeroConverter(this.productObj.DISRATE)&&(this.ProductService.pObj.DiscountValue=this.productObj.DISAMOUNT,this.ProductService.pObj.Dismode=0),this.ProductService.checkProductTransaction(this.tab.mcode).subscribe(i=>{this.masterService.disableOnCheckTran="BLOCK"==i}),1==this.masterService.userSetting.DisableDefaultItemACMapping&&this.masterService.getAcList().subscribe(i=>{this.accountList=i;let s=this.accountList.filter(l=>l.ACID==this.productObj.SAC||l.ACID==this.productObj.SRAC||l.ACID==this.productObj.PAC||l.ACID==this.productObj.PRAC);s.length>0&&(this.productObj.SAC_ACNAME=s.filter(l=>l.ACID==this.productObj.SAC).length>0?s.filter(l=>l.ACID==this.productObj.SAC)[0].ACNAME:"",this.productObj.SRAC_ACNAME=s.filter(l=>l.ACID==this.productObj.SRAC).length>0?s.filter(l=>l.ACID==this.productObj.SRAC)[0].ACNAME:"",this.productObj.PAC_ACNAME=s.filter(l=>l.ACID==this.productObj.PAC).length>0?s.filter(l=>l.ACID==this.productObj.PAC)[0].ACNAME:"",this.productObj.PRAC_ACNAME=s.filter(l=>l.ACID==this.productObj.PRAC).length>0?s.filter(l=>l.ACID==this.productObj.PRAC)[0].ACNAME:"")}),this.ProductService.isrowClicked=!0,this.BrandObject=this.BrandList.filter(i=>i.BrandId===o.result.BRAND)[0],e.mode="edit",e.modeTitle="Edit Product",e.initialTextReadOnly=!0,this._loadingService.hide()}else this.mode="",this.modeTitle="Edit -Error in Product",this.initialTextReadOnly=!0},o=>{this._loadingService.hide(),this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(o,"addproducts (ProductMaster) - getProductForEdit")}),this.ProductService.getListFromKey("/GetMultiBrandModeByMCode/",this.tab.mcode).subscribe(o=>{if("ok"===o.status){let n=o.result;this.BrandModelList=[],n.forEach(i=>{this.BrandModelList.push(i)})}},o=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(o,"addproducts (ProductMaster) - getMultiBrandModelForEdit")}),this.ProductService.getListFromKey("/GetAlternateUnitList/",this.tab.mcode).subscribe(o=>{"ok"===o.status&&o.result.forEach(i=>{this.AlternateUnits.push(i)})},o=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(o,"addproducts (ProductMaster) - GetAlternateUnitListForEdit")}),this.ProductService.getListFromKey("/GetBarcodeMappingList/",this.tab.mcode).subscribe(o=>{"ok"===o.status&&o.result.forEach(i=>{this.PBarCodeCollection.push(i)})},o=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(o,"addproducts (ProductMaster) - GetBarcodeMappingListForEdit")}),console.log("barcode mapping on edit",this.PBarCodeCollection)):(this.mode="add",this.modeTitle="Add Product",this.initialTextReadOnly=!1,this._loadingService.hide())}catch(e){this._alertService.error(e)}}handleKeyDownboardEvent(e){"End"==e.code&&(e.preventDefault(),console.log("End Press"),this.onSave())}uniqueKey(){(0==this.masterService.userSetting.MANUALCODE||1==this.masterService.userSetting.MANUALCODE)&&(console.log("CheckProfdu",this.masterService.TreeID,this.masterService.SelectedProductGrpID),this.masterService.TreeID&&(console.log("seleced group ID",this.getTreeNodeValueObj.id),0==this.masterService.userSetting.MANUALCODE&&this.ProductService.getAutoGenerateMenuCode(this.masterService.TreeID,this.masterService.SelectedProductGrpID).subscribe(e=>{"ok"==e.status&&(this.productObj.MENUCODE=e.result)}),this.masterService.SelectedProductGrpID&&(this.ProductService.getProductInfo(this.masterService.SelectedProductGrpID).subscribe(e=>{this.selectedGroupInfo=e.result[0],console.log("seleccted group ma haleko !!!!!!!",this.selectedGroupInfo),this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.PARENT=this.selectedGroupInfo.MCODE}),this.ProductService.getGroupHierarchy(this.getTreeNodeValueObj.id).subscribe(e=>{console.log("get group heirarchy",e);let o=e[0];this.masterService.groupSelectObj.MGROUP=o.L1,this.productObj.MGROUP=o.L1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.MGROUP).subscribe(n=>{n.length>0?(this.masterService.subGroupAList=n,this.masterService.groupSelectObj.SUBGROUP_A=o.L2,this.masterService.disabledSubgroupA=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_A).subscribe(i=>{i.length>0?(this.masterService.subGroupBList=i,this.masterService.groupSelectObj.SUBGROUP_B=o.L3,this.masterService.disabledSubgroupB=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_B).subscribe(s=>{s.length>0?(this.masterService.subGroupCList=s,this.masterService.groupSelectObj.SUBGROUP_C=o.L4,this.masterService.disabledSubgroupC=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_C).subscribe(l=>{l.length>0?(this.masterService.subGroupDList=l,this.masterService.groupSelectObj.SUBGROUP_D=o.L5,this.masterService.disabledSubgroupD=!1):this.masterService.disabledSubgroupD=!0})):this.masterService.disabledSubgroupC=!0})):this.masterService.disabledSubgroupB=!0})):this.masterService.disabledSubgroupA=!0})}))))}generateUniqueKey(e,o){console.log("GENEARTE UNIQUE KEY",e),0==this.masterService.userSetting.MANUALCODE&&this.ProductService.getAutoGenerateMenuCode(e,o).subscribe(n=>{"ok"==n.status&&(this.productObj.MENUCODE=n.result)})}ngOnDestroy(){try{this.subcriptions.forEach(e=>{e.unsubscribe()})}catch(e){this._alertService.error(e)}}onSave(){try{if(this.masterService.userSetting.ITEMGROUPCODELEVEL>1&&this.masterService.userSetting.ITEMGROUPCODELEVEL>this.masterService.ITEM_LEVEL)return void this._alertService.info("Cannot Add Product In This Level!!");this.onSaveClicked()}catch(e){this._alertService.error(e)}}onSaveClicked(){try{if(this.productObj.PCL="pc002",this.productObj.TYPE="A",this.productObj.LEVELS=0,"edit"!=this.mode&&(this.productObj.MCODE=this.productObj.MENUCODE),!this.masterService.groupSelectObj.MGROUP)return void this._alertService.warning("Major group is required for the item");if(!this.productObj.MGROUP)return void this._alertService.warning("Major group is required for the item");if(!this.productObj.BASEUNIT)return void this._alertService.warning("Base unit is required");if(!this.productObj.DISMODE)return void this._alertService.warning("Discount Mode is required");if(this.productObj.ROLEVEL<this.productObj.MINLEVEL)return void this._alertService.warning("Re-Order level cannot be less than Min-stock level");if(this.productObj.ROLEVEL>this.productObj.MAXLEVEL)return void this._alertService.warning("Re-Order level cannot be greater than Max-stock level");if(this.productObj.MINLEVEL>this.productObj.MAXLEVEL)return void this._alertService.warning("Min-stock level cannot be greater than Max-stock level");if("edit"!=this.mode&&(this.productObj.FCODE=1==this.masterService.userSetting.MANUALCODE?0:Number(this.productObj.MENUCODE)),"edit"==this.mode&&this.productObj.MENUCODE!=this.tempMENUCODE){let n={};n.BCODE=this.productObj.MENUCODE,n.MCODE=this.productObj.MCODE,n.UNIT=this.productObj.BASEUNIT,n.MRP=this.productObj.IN_RATE_A,n.MRP_WO_VAT=this.productObj.RATE_A,n.SRATE=this.productObj.RATE_A,n.DISCONTINUE=0,console.log("new brcode",n);let i=this.PBarCodeCollection.filter(s=>s.BCODE==this.productObj.MENUCODE);console.log("duplicatebc",i),0==i.length&&this.PBarCodeCollection.push(n),this.PBarCodeCollection.forEach(s=>{s.BCODE==this.tempMENUCODE&&(s.DISCONTINUE=1)})}if(this.SetDIChecked=!0,""===this.productObj.MENUCODE||null==this.productObj.MENUCODE||void 0===this.productObj.MENUCODE)return void this._alertService.error("Product Code is required");if(""===this.productObj.DESCA||null==this.productObj.DESCA||void 0===this.productObj.DESCA)return void this._alertService.error("Product Name is required");let e=this.productObj;e.Parent=null,this._loadingService.show("Please wait! Saving Product"),this.productObj.RECRATE=this.productObj.MARGIN,this.productObj.MARGIN=this.ProductService.pObj.RecMarginOnPRate,this.productObj.SMARGIN=this.ProductService.pObj.RecMarginOnPRate,"add"===this.mode&&this.AddBCode(),this.returnsaveObj.emit(this.productObj),1==this.masterService.userSetting.DisableDefaultItemACMapping&&((null===e.SAC||""===e.SAC||void 0===e.SAC)&&(e.SAC=this.masterService.userSetting.SalesAc),(null===e.SRAC||""===e.SRAC||void 0===e.SRAC)&&(e.SRAC=this.masterService.userSetting.SalesReturnAc),(null===e.PAC||""===e.PAC||void 0===e.PAC)&&(e.PAC=this.masterService.userSetting.PurchaseAc),(null===e.PRAC||""===e.PRAC||void 0===e.PRAC)&&(e.PRAC=this.masterService.userSetting.PurchaseReturnAc));let o=this.masterService.saveProductDynamicAttributes(this.mode,e,this.RGLIST,this.AlternateUnits,this.PBarCodeCollection,this.BrandModelList,this.PMultipleRetailPrice,this.masterService.prodAttSearchObj,this.masterService.CustomValues).subscribe(n=>{if("ok"===n.status)this.productObj.MENUCODE="",this.productObj.MCODE="",this.productObj.BRAND="",this.productObj.DESCA="",this.productObj.Description="",this.productObj.BRANDCODE="",this.productObj.GWEIGHT="",this.productObj.SHELFLIFE=0,this.productObj.MRP=0,this.productObj.DESCB="",this.productObj.PTYPE=0,this.productObj.BASEUNIT="",this.productObj.SUPCODE=null,this.productObj.SUPITEMCODE="",this.productObj.PRATE_A=0,this.productObj.DISMODE="",this.productObj.IN_RATE_A=0,this.productObj.IN_RATE_B=0,this.productObj.IN_RATE_C=0,this.productObj.RATE_A=0,this.productObj.RATE_B=0,this.productObj.RATE_C=0,this.productObj.ISUNKNOWN=0,this.productObj.REQEXPDATE=0,this.productObj.IsQtyUnknown=0,this.productObj.HASSERVICECHARGE=0,this.productObj.HASECSCHARGE=0,this.productObj.HASECSRate=0,this.productObj.Description="",this.ProductService.suppilierName="",this.productObj.ROLEVEL=0,this.productObj.MINLEVEL=0,this.productObj.MAXLEVEL=0,this.productObj={},this.AlternateUnits=[],this.PBarCodeCollection=[],this.PMultipleRetailPrice=[],this.masterService.prodAttSearchObj={},this.masterService.isAddFormShown_1=!1,this._loadingService.hide(),this._alertService.success("Saved Successfully"),setTimeout(()=>{confirm("Do you want to continue adding products to this group ?")?(console.log("selectedGroup after save",this.selectedGroupInfo),this.mode="add",this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE),this.ProductService.TempProductObj.RATE_A=null,this.ProductService.TempProductObj.RATE_B=null,this.ProductService.TempProductObj.RATE_C=null,this.ProductService.TempProductObj.PRATE_A=null,this.ProductService.TempProductObj.IN_RATE_A=null,this.ProductService.TempProductObj.IN_PRATE_A=null,this.ProductService.TempProductObj.IN_RATE_B=null,this.ProductService.TempProductObj.IN_RATE_C=null,this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0,this.ProductService.pObj.Dismode=1,this.productObj.discontinueCheckbox=!1,this.productObj.DISMODE="Discountable",this.productObj.PRATE_A=0,this.productObj.IN_RATE_A=0,this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.masterService.getPTypeList().subscribe(i=>{i&&(console.log("PTYPE GETT",i),this.productObj.PTYPE=i[0].PTYPEID)}),this.masterService.getDepartmentList().subscribe(i=>{this.masterService.departmentList=i,console.log("list for department",this.masterService.departmentList)})):(this.ProductService.getProductInfo("PRG99999999").subscribe(i=>{this.selectedGroupInfo=i.result[0]}),console.log("cancel proudct cadd",this.productObj),this.routeToHome(),this.ProductService.sortProduct="sortItemDate")},1e3);else{if("The ConnectionString property has not been initialized."===n.result._body)return this._loadingService.hide(),void this.router.navigate(["/login",this.router.url]);this._loadingService.hide(),this._alertService.error(n.result.error)}},n=>{this._loadingService.hide(),this._alertService.error(n)});this.subcriptions.push(o)}catch(e){alert(e)}}onCancel(){try{this.routeToHome()}catch(e){this._alertService.error(e)}}routeToHome(e=null,o=null){this.productObj={};let n={name:"productlist",active:!0};n.mode=o,n.from="product",n.savedValue=e,this.activeTabEmit.emit(n),this.masterService.groupSelectObj={},this.masterService.subGroupAList=[],this.masterService.subGroupBList=[],this.masterService.subGroupCList=[],this.selectedGroupInfo=void 0,this.masterService.SelectedProductGrpID="",this.masterService.TreeID="",this.productObj.MENUCODE="",this.masterService.groupSearchObj={},this.masterService.prodAttSearchObj={}}onSelectColor(e){this.selectedColor=e.target.value,this.productObj.COLOR=this.selectedColor}onSelectVolume(e){this.selectedVolume=e.target.value,this.productObj.DIMENSION=this.selectedVolume}onSelectSstting(e){this.selectedSetting=e.target.value,this.productObj.SIZE=this.selectedSetting}SaveModel(e,o){try{this.ProductService.saveModel({ModelName:e,BrandId:o}).subscribe(i=>{"ok"===i.status&&(this.ModelList.push(i.result),this.smModel.hide())})}catch(n){this._alertService.error(n)}}hideloginModal(){try{this.loginModal.hide()}catch(e){this._alertService.error(e)}}hideChildModal(){try{this.childModal.hide()}catch(e){this._alertService.error(e)}}changeDisStat(){"NONDISCOUNT"===this.productObj.DISMODE?(this.isDisabled=!0,this.productObj.DISAMOUNT=null,this.productObj.DISRATE=null):this.isDisabled=!1}onChangeSellingPrice(e){this.productObj.MRP=0,this.productObj.MRP=this.productObj.IN_RATE_A+this.productObj.IN_RATE_A*this.setting.appSetting.VATRate}onChangeMRP(e){this.productObj.IN_RATE_A=0,this.productObj.IN_RATE_A=this.productObj.MRP/(1+this.setting.appSetting.VATRate)}focusProductName(){setTimeout(()=>{document.getElementById("productName").focus()},0)}AddBCode(){try{this.PBarCodeCollection.forEach(o=>{o.MRP=this.productObj.IN_RATE_A,o.MRP_WO_VAT=this.productObj.RATE_A,o.SRATE=this.productObj.RATE_A}),this.PBarCode.BCODE=null==this.productObj.BARCODE||"0"===this.productObj.BARCODE||void 0===this.productObj.BARCODE?this.productObj.MENUCODE:this.productObj.BARCODE,this.PBarCode.MCODE=this.productObj.MCODE,this.PBarCode.UNIT=this.productObj.BASEUNIT,this.PBarCode.MRP=this.productObj.IN_RATE_A,this.PBarCode.MRP_WO_VAT=this.productObj.RATE_A,this.PBarCode.SRATE=this.productObj.RATE_A,this.PBarCode.DISCONTINUE=0,this.PBarCode.ISDEFAULT=1,0==this.PBarCodeCollection.filter(o=>o.BCODE==this.productObj.MENUCODE).length&&this.PBarCodeCollection.push(this.PBarCode)}catch(e){console.log(e),alert(e)}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(w.V),t.Y36(T.c),t.Y36(C),t.Y36(f.P),t.Y36(P.F0),t.Y36(P.gz),t.Y36(v.R),t.Y36(S.e),t.Y36(a.qu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["addproductmaster"]],viewQuery:function(e,o){if(1&e&&(t.Gf(be,5),t.Gf(Ce,5),t.Gf(fe,5),t.Gf(Te,5),t.Gf(Pe,5),t.Gf(E.q0,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.childModal=n.first),t.iGM(n=t.CRH())&&(o.smBrand=n.first),t.iGM(n=t.CRH())&&(o.smModel=n.first),t.iGM(n=t.CRH())&&(o.loginModal=n.first),t.iGM(n=t.CRH())&&(o.brandtree=n.first),t.iGM(n=t.CRH())&&(o.customForm=n.first)}},hostBindings:function(e,o){1&e&&t.NdJ("keydown",function(i){return o.handleKeyDownboardEvent(i)},!1,t.evT)},inputs:{AlternateUnits:"AlternateUnits",tab:"tab",ProductHomeTabs:"ProductHomeTabs",getTreeNodeValueObj:"getTreeNodeValueObj",productObj:"productObj",colorLists:"colorLists",isAddFormShown:"isAddFormShown",selectedGroupInfo:"selectedGroupInfo"},outputs:{activeTabEmit:"activeTabEmit",returnsaveObj:"returnsaveObj"},features:[t._Bn([C]),t.TTD],decls:30,vars:20,consts:[[1,"row",2,"margin-left","15px","background","white","margin-top","5px","padding-bottom","15px","height","545px"],[1,"col-lg-12"],[2,"width","100%","border","none","padding","0","margin","0","overflow","scroll","height","83.3vh","padding-right","12px",3,"disabled"],[1,"row",2,"margin-left","5px"],[1,"col-md-12",2,"padding","5px"],[1,"col"],[1,"col-md-6"],[1,"label-class"],["id","productCode","type","text",2,"width","150px","margin-left","1%",3,"ngModel","readonly","disabled","keydown.tab","ngModelChange"],["class","col-md-3 pd0",4,"ngIf"],["type","button","style","font-size: 12px; width: 83px; ","class","btn btn-info pull-right",3,"click",4,"ngIf"],[1,"col-md-12","row"],[1,"col-md-8","pd0"],["id","productName","type","text","autocomplete","off",2,"width","80%","margin-left","5px",3,"ngModel","disabled","ngModelChange"],[1,"col-md-4","pd0"],[2,"position","relative","top","3px","width","30%"],["type","text",2,"margin-left","5px","width","66.7%","padding-left","4px",3,"ngModel","ngModelChange"],[1,"row",2,"height","120px"],[2,"width","99%"],[3,"productObj","AlternateUnits","RGLIST","PBarCodeCollection","BrandModelList","settingData","PMultipleRetailPrice","mode","EnableMultiStockLevel"],[1,"row",2,"padding-top","10px","margin-left","30px"],[4,"ngIf"],[1,"col-md-3","pd0"],[1,"stockLabel"],[1,"stockLabel",2,"font-size","14px"],[1,"stockLabel",2,"font-size","14px","width","auto"],["type","button",1,"btn","btn-info","pull-right",2,"font-size","12px","width","83px",3,"click"],["brandTree",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"fieldset",2)(3,"div",3)(4,"div",4)(5,"div",3),t._UZ(6,"div",5),t.qZA(),t.TgZ(7,"div",3)(8,"div",6)(9,"label",7),t._uU(10,"Product Code :"),t.qZA(),t.TgZ(11,"input",8),t.NdJ("keydown.tab",function(){return o.focusProductName()})("ngModelChange",function(i){return o.productObj.MENUCODE=i}),t.qZA()(),t.YNc(12,Oe,5,1,"div",9),t.YNc(13,Ae,5,1,"div",9),t.TgZ(14,"div",6),t.YNc(15,Me,2,0,"button",10),t.qZA()(),t.TgZ(16,"div",11)(17,"div",12)(18,"label",7),t._uU(19,"Product Name :"),t.qZA(),t.TgZ(20,"input",13),t.NdJ("ngModelChange",function(i){return o.productObj.DESCA=i}),t.qZA()(),t.TgZ(21,"div",14)(22,"label",15),t._uU(23,"Short Name:"),t.qZA(),t.TgZ(24,"input",16),t.NdJ("ngModelChange",function(i){return o.productObj.Description=i}),t.qZA()()()()(),t.TgZ(25,"div",17)(26,"div",18),t._UZ(27,"productmastertab",19),t.qZA()()()(),t._UZ(28,"div",20),t.qZA(),t.YNc(29,Se,2,0,"brand-tree",21)),2&e&&(t.xp6(2),t.Q6J("disabled","view"==o.tab.mode||o.disableAll),t.xp6(9),t.Q6J("ngModel",o.productObj.MENUCODE)("readonly",0==o.masterService.userSetting.MANUALCODE)("disabled","edit"==o.mode||"view"==o.mode),t.xp6(1),t.Q6J("ngIf","view"==o.tab.mode&&1==o.masterService.userSetting.ShowStockInProductMaster),t.xp6(1),t.Q6J("ngIf","view"==o.tab.mode&&null!=o.productObj.MainItemName),t.xp6(2),t.Q6J("ngIf","view"!=o.tab.mode),t.xp6(5),t.Q6J("ngModel",o.productObj.DESCA)("disabled","view"==o.mode),t.xp6(4),t.Q6J("ngModel",o.productObj.Description),t.xp6(3),t.Q6J("productObj",o.productObj)("AlternateUnits",o.AlternateUnits)("RGLIST",o.RGLIST)("PBarCodeCollection",o.PBarCodeCollection)("BrandModelList",o.BrandModelList)("settingData",o.settingData)("PMultipleRetailPrice",o.PMultipleRetailPrice)("mode",o.tab.mode)("EnableMultiStockLevel",o.EnableMultiStockLevel),t.xp6(2),t.Q6J("ngIf",o.showBrand))},dependencies:[p.O5,a.Fj,a.JJ,a.On,D.G,me],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}",".label-class[_ngcontent-%COMP%] {\n    width: 96px;\n  }\n\n  .stockLabel[_ngcontent-%COMP%] {\n    width: 5rem;\n    font-weight: bold;\n  }"]}),r})();const ve=["childModal"];function Ee(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSave())}),t._uU(1,"Save"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled","MI"==e.productObj.PARENT&&(null==e.productObj.FCODE||e.productObj.FCODE<0)||null==e.productObj.DESCA||""==e.productObj.DESCA||"view"==e.tab.mode)}}function xe(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",23),t._uU(2,"Group Code : "),t.qZA(),t.TgZ(3,"div",10)(4,"input",24),t.NdJ("keypress",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.keyPress(n))})("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.MENUCODE=n)}),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.productObj.MENUCODE)("disabled","view"==e.tab.mode||1==e.hasSubGrpOrItem)}}function Ie(r,c){if(1&r&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.MENUCAT),t.xp6(1),t.Oqu(e.MENUCAT)}}function we(r,c){if(1&r&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("ngValue",e.MENUCAT),t.xp6(1),t.Oqu(e.MENUCAT)}}function Re(r,c){1&r&&(t.TgZ(0,"label",25),t._uU(1,"Billing Display : "),t.qZA())}function ye(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"input",26),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.BillingDisplay=n)})("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.BillingDisplay=n.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.BillingDisplay)("checked",1==e.productObj.BillingDisplay)("disabled","view"==e.tab.mode)}}let H=(()=>{class r{constructor(e,o,n,i,s,l,u){this.ProductService=e,this.masterService=o,this.router=n,this.activatedRoute=i,this.setting=s,this._alertService=l,this.loadingService=u,this.tab={},this.productObj={},this.activeTabEmit=new t.vpe,this.DialogMessage="Saving data please wait ...",this.mode="add",this.modeTitle="",this.WarehouseList=[],this.MCatList=[],this.MCat1List=[];try{this.AppSettings=this.setting.appSetting}catch(_){alert(_)}}ngOnInit(){this.productObj.BillingDisplay=1,"addgroup"==this.groupType?0==this.masterService.userSetting.ITEMGROUPCODELEVEL||1==this.masterService.userSetting.ITEMGROUPCODELEVEL?setTimeout(()=>{document.getElementById("GC").focus()},1200):setTimeout(()=>{document.getElementById("GN").focus()},500):this.masterService.ITEM_LEVEL+1==this.masterService.userSetting.ITEMGROUPCODELEVEL?setTimeout(()=>{document.getElementById("GC").focus()},1200):setTimeout(()=>{document.getElementById("GN").focus()},500);try{this.masterService.getWarehouseList().subscribe(e=>{this.WarehouseList=e}),this.masterService.getMCatList().subscribe(e=>{this.MCatList=e}),this.masterService.getMCat1List().subscribe(e=>{this.MCat1List=e}),this.productObj.Par={},this.productObj.MajorGroup={},"addgroup"==this.groupType?(this.productObj.MajorGroup.DESCA="Products",this.productObj.PARENT="PRG99999999",this.getTreeNodeValueObj={},this.getTreeNodeValueObj.id="PRG99999999"):(console.log("ADD SUB GROUP",this.getTreeNodeValueObj),this.productObj.MajorGroup.DESCA=this.getTreeNodeValueObj.name,this.productObj.PARENT=this.getTreeNodeValueObj.id),"add"==this.tab.mode?(this.getTreeNodeValueObj.id="addgroup"==this.groupType?this.getTreeNodeValueObj.id="PRG99999999":this.getTreeNodeValueObj.id,this.ProductService.getInitialValuesForNewProduct(this.getTreeNodeValueObj.id).subscribe(e=>{"ok"==e.status&&(this.productObj.Par=e.result.parent,null==this.productObj.MajorGroup&&(this.productObj.MajorGroup={}))},e=>{this.masterService.resolveError(e,"addproductGroup (ProductMaster) - getInitialValuesForNewProduct")}),this.ProductService.getMCATbyId(this.getTreeNodeValueObj.id).subscribe(e=>{e.length>0&&(this.productObj.MCAT=e[0].MCAT)}),this.ProductService.getMCAT1byId(this.getTreeNodeValueObj.id).subscribe(e=>{e.length>0&&(this.productObj.MCAT1=e[0].MCAT1)}),this.ProductService.getRecMargin(this.getTreeNodeValueObj.id).subscribe(e=>{e.length>0&&(this.productObj.RECRATE=e[0].MARGIN)})):("edit"==this.tab.mode||"view"==this.tab.mode)&&(this.masterService.isGroup=!0,"addgroup"==this.tab.name&&this.ProductService.getChildrenGrpAndItem(this.tab.mcode).subscribe(e=>{"ok"==e.status&&(this.hasSubGrpOrItem=0==e.result.length?0:1)}),this.ProductService.getProductForEdit(this.tab.mcode).subscribe(e=>{"ok"==e.status?(this.productObj=e.result,this.masterService.isAddFormShown_1=!0,this.productObj.Par=e.result.Parent,null==this.productObj.Par&&(this.productObj.Par={}),this.masterService.ProductMcode=this.productObj.MCODE,this.mode="edit",this.modeTitle="Edit Product"):(this.mode="",this.modeTitle="Edit -Error in Product")},e=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(e,"addproducts (ProductMaster) - getProductForEdit")}))}catch(e){alert(e)}}onSave(){try{if(console.log("group Type",this.groupType),"addgroup"==this.groupType){if((0==this.masterService.userSetting.ITEMGROUPCODELEVEL||1==this.masterService.userSetting.ITEMGROUPCODELEVEL)&&!this.productObj.MENUCODE)return void alert("Please Enter Group Code!")}else if(this.masterService.ITEM_LEVEL+1==this.masterService.userSetting.ITEMGROUPCODELEVEL&&!this.productObj.MENUCODE)return void alert("Please Enter Group Code!");"add"==this.tab.mode&&(this.productObj.LEVELS=(this.productObj.Par.LEVELS??0)+1),this.productObj.TYPE="G",this.productObj.Parent=null,"add"==this.tab.mode&&(this.productObj.FCODE=1==this.masterService.userSetting.MANUALCODE?0:Number(this.productObj.MENUCODE),this.masterService.userSetting.ITEMGROUPCODELEVEL==this.masterService.ITEM_LEVEL+1&&(this.productObj.FCODE=Number(this.productObj.MENUCODE))),this.loadingService.show("Saving sub group, Please wait.."),this.masterService.saveProductGroup(this.mode,this.productObj,this.groupType).subscribe(n=>{if("ok"===n.status)console.log("r1"),this.masterService.updateBrandTreeSubject.next(this.productObj),this.productObj.MENUCODE="",this.productObj.MCODE="",this.productObj.BRAND="",this.productObj.DESCA="",this.productObj.Description="",this.productObj.BRANDCODE="",this.productObj.GWEIGHT="",this.productObj.SHELFLIFE=0,this.productObj.MRP=0,this.productObj.MajorGroup.DESCA="",this.productObj.FCODE=0,this.productObj.RECRATE=0,this.masterService.isAddFormShown_1=!1,setTimeout(()=>{this.ProductService.getProductGroupListByIDandDate(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,"sortitemgrpbydate").subscribe(i=>{this.masterService.productGroupLists=i.result}),this.ProductService.getGroupChild(1,"PRG99999999").subscribe(i=>{this.masterService.FirstColumn=i}),this.ProductService.getMainGroupList().subscribe(i=>{console.log("Main group adter group save",i),this.masterService.mainGroupList=i.length>0?i:[]}),this.loadingService.hide(),this._alertService.success("Saved Successfully"),this.routeToHome()},1e3);else{if(console.log("r2"),"The ConnectionString property has not been initialized."===n.result._body)return void this.router.navigate(["/login",this.router.url]);this.loadingService.hide()}},n=>{console.log("r3"),this.loadingService.hide()})}catch(e){console.log("r4"),this.loadingService.hide(),alert(e)}}onCancel(){try{this.routeToHome()}catch(e){alert(e)}}routeToHome(e=null,o=null){let n={};this.masterService.groupSearchObj={},n.name="productlist",n.selectedNode=this.tab.selectedNode,n.active=!0,n.mode=o,n.from="group",n.savedValue=e,this.activeTabEmit.emit(n)}keyPress(e){if(0==this.masterService.userSetting.MANUALCODE){const o=/[0-9]/,n=String.fromCharCode(e.charCode);o.test(n)||e.preventDefault()}else{const o=/[a-zA-Z0-9]/,n=String.fromCharCode(e.charCode);o.test(n)||e.preventDefault()}}validateProduct(){console.log("validate product",this.groupType,this.mode),this.productObj.TYPE="G",this.productObj.LEVELS=this.masterService.ITEM_LEVEL+1,this.productObj.MENUCODE&&this.masterService.validateProduct(this.mode,this.productObj,this.groupType).subscribe(e=>{})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(C),t.Y36(f.P),t.Y36(P.F0),t.Y36(P.gz),t.Y36(v.R),t.Y36(T.c),t.Y36(w.V))},r.\u0275cmp=t.Xpm({type:r,selectors:[["addproductgroup"]],viewQuery:function(e,o){if(1&e&&t.Gf(ve,5),2&e){let n;t.iGM(n=t.CRH())&&(o.childModal=n.first)}},inputs:{tab:"tab",ProductHomeTabs:"ProductHomeTabs",productObj:"productObj",groupType:"groupType",getTreeNodeValueObj:"getTreeNodeValueObj",isAddFormShown:"isAddFormShown"},outputs:{activeTabEmit:"activeTabEmit"},features:[t._Bn([C])],decls:39,vars:16,consts:[[2,"margin-top","20px"],[1,"form-horizontal"],[1,"form-group","row"],[1,"offset-sm-3","col-sm-9"],["type","submit ","class","btn btn-info pull-right","style","font-size: 12px; width: 89px;",3,"disabled","click",4,"ngIf"],["for","MG",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"col-sm-8","col-md-8"],["type","text","id","MG","name","MG","readonly","","placeholder","Major Group Generate from tree",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["class","form-group row",4,"ngIf"],["for","GN",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"col-sm-8"],["type","text","id","GN","name","GN","placeholder","Group Name","autocomplete","off",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","RMG",1,"col-sm-3","form-control-label",2,"width","190px"],["type","number","id","RMG","name","RMG","placeholder","Recommended Margin (%)",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","C",1,"col-sm-3","form-control-label",2,"width","190px"],["id","C","name","C",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","C1",1,"col-sm-3","form-control-label",2,"width","190px"],["id","C1","name","C1",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","billingDisplay","class","col-sm-3 form-control-label","style","width:190px",4,"ngIf"],["id","billingDisplay","name","billingDisplay","style","width: 17px; height: 35px;","type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change",4,"ngIf"],["type","submit ",1,"btn","btn-info","pull-right",2,"font-size","12px","width","89px",3,"disabled","click"],["for","GC",1,"col-sm-3","form-control-label","LabelSize",2,"width","190px"],["type","text","id","GC","name","GC","placeholder","Group Code","autocomplete","off",2,"width","inherit",3,"ngModel","disabled","keypress","ngModelChange"],["for","billingDisplay",1,"col-sm-3","form-control-label",2,"width","190px"],["id","billingDisplay","name","billingDisplay","type","checkbox",2,"width","17px","height","35px",3,"ngModel","checked","disabled","ngModelChange","change"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),t.YNc(4,Ee,2,1,"button",4),t.qZA()(),t.TgZ(5,"div",2)(6,"label",5),t._uU(7,"Parent Group : "),t.qZA(),t.TgZ(8,"div",6)(9,"input",7),t.NdJ("ngModelChange",function(i){return o.productObj.MajorGroup.DESCA=i}),t.qZA()()(),t.YNc(10,xe,5,2,"div",8),t.TgZ(11,"div",2)(12,"label",9),t._uU(13,"Group Name : "),t.qZA(),t.TgZ(14,"div",10)(15,"input",11),t.NdJ("ngModelChange",function(i){return o.productObj.DESCA=i}),t.qZA()()(),t.TgZ(16,"div",2)(17,"label",12),t._uU(18,"Recommended Margin (%) : "),t.qZA(),t.TgZ(19,"div",10)(20,"input",13),t.NdJ("ngModelChange",function(i){return o.productObj.RECRATE=i}),t.qZA()()(),t.TgZ(21,"div",2)(22,"label",14),t._uU(23,"Category : "),t.qZA(),t.TgZ(24,"div",10)(25,"select",15),t.NdJ("ngModelChange",function(i){return o.productObj.MCAT=i}),t._UZ(26,"option",16),t.YNc(27,Ie,2,2,"option",17),t.qZA()()(),t.TgZ(28,"div",2)(29,"label",18),t._uU(30,"Extra Category : "),t.qZA(),t.TgZ(31,"div",10)(32,"select",19),t.NdJ("ngModelChange",function(i){return o.productObj.MCAT1=i}),t._UZ(33,"option",16),t.YNc(34,we,2,2,"option",17),t.qZA()()(),t.TgZ(35,"div",2),t.YNc(36,Re,2,0,"label",20),t.TgZ(37,"div",10),t.YNc(38,ye,1,3,"input",21),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf","view"!=o.tab.mode),t.xp6(5),t.Q6J("ngModel",o.productObj.MajorGroup.DESCA)("disabled","view"==o.tab.mode),t.xp6(1),t.Q6J("ngIf","addgroup"==o.tab.name&&(0==o.masterService.userSetting.ITEMGROUPCODELEVEL||1==o.masterService.userSetting.ITEMGROUPCODELEVEL)||"addSubgroup"==o.tab.name&&o.masterService.ITEM_LEVEL+1==o.masterService.userSetting.ITEMGROUPCODELEVEL),t.xp6(5),t.Q6J("ngModel",o.productObj.DESCA)("disabled","view"==o.tab.mode),t.xp6(5),t.Q6J("ngModel",o.productObj.RECRATE)("disabled","view"==o.tab.mode),t.xp6(5),t.Q6J("ngModel",o.productObj.MCAT)("disabled","view"==o.tab.mode),t.xp6(2),t.Q6J("ngForOf",o.MCatList),t.xp6(5),t.Q6J("ngModel",o.productObj.MCAT1)("disabled","view"==o.tab.mode),t.xp6(2),t.Q6J("ngForOf",o.MCat1List),t.xp6(2),t.Q6J("ngIf",1==o.masterService.userSetting.ItemWiseDisplaySettingInBilling),t.xp6(2),t.Q6J("ngIf",1==o.masterService.userSetting.ItemWiseDisplaySettingInBilling))},dependencies:[p.sg,p.O5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.Wl,a.EJ,a.JJ,a.JL,a.On,a.F],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}"]}),r})();var R=d(22759),y=d(45435),N=d(54395),U=d(87519),j=d(68307),G=d(72533);const Ne=["childModal"],Ue=["genericGrid"],je=["genericGridForAllProductList"],Ge=["genericGridForAllGroupList"],Ze=["searchInput"],ke=["searchInputGrp"],De=["sortItemName"],Le=["sortitembydate"];function Be(r,c){1&r&&t._UZ(0,"input",51)}function Fe(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr",46),t.NdJ("dblclick",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.drillDownItemList(i))})("contextmenu",function(n){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onRightClick(n,s))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",47),t.YNc(6,Be,1,0,"input",48),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",49),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td",49),t._uU(15),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"td",47),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td",50),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onViewClick(i))}),t._uU(24,"View"),t.qZA(),t.TgZ(25,"td",50),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onEditClick(i))}),t._uU(26,"Edit"),t.qZA()()}if(2&r){const e=c.$implicit,o=c.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.ITEM_NAME),t.xp6(2),t.Q6J("ngIf",1==e.HasChildItem),t.xp6(2),t.Oqu(e.ITEM_CODE),t.xp6(2),t.Oqu(e.UNIT),t.xp6(2),t.Oqu(t.xi3(13,10,e.PRATE,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(16,13,e.SRATE,"1.2-2")),t.xp6(3),t.Oqu(e.VAT),t.xp6(2),t.Oqu(e.PARENT),t.xp6(2),t.Oqu(e.SUPPLIER)}}const qe=function(r,c,e){return{itemsPerPage:r,currentPage:c,totalItems:e}};function Je(r,c){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,Fe,27,16,"tr",45),t.ALo(2,"paginate"),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.masterService.productLists,t.kEZ(4,qe,e.itemPerPage,e.masterService.currentPage,e.masterService.productSearchTotalCount)))}}function Ve(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",52)(1,"pagination-controls",53),t.NdJ("pageChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productListPagination(n))}),t.qZA()()}}function He(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",50),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onViewGroup(i))}),t._uU(16,"View"),t.qZA(),t.TgZ(17,"td",50),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.onEditGroup(i))}),t._uU(18,"Edit"),t.qZA()()}if(2&r){const e=c.$implicit,o=c.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.GROUP_NAME),t.xp6(2),t.Oqu(e.PARENT_GROUP),t.xp6(2),t.Oqu(e.GROUP_CODE),t.xp6(2),t.Oqu(e.CATEGORY),t.xp6(2),t.Oqu(e.EXTRA_CATEGORY),t.xp6(2),t.Oqu(e.REC_MARGIN)}}const Qe=function(r,c,e){return{id:"pagination1",itemsPerPage:r,currentPage:c,totalItems:e}};function ze(r,c){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,He,19,7,"tr",54),t.ALo(2,"paginate"),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.masterService.productGroupLists,t.kEZ(4,Qe,e.itemPerPage,e.groupListCurrentPage,e.masterService.productGroupSearchTotalCount)))}}function Ye(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",47)(1,"pagination-controls",55),t.NdJ("pageChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.productGroupListPagination(n))}),t.qZA()()}}let Ke=(()=>{class r{constructor(e,o,n,i,s,l,u){this._alertService=e,this._authService=o,this.ProductService=n,this.masterService=i,this.arouter=s,this.router=l,this.cdref=u,this.activeTabEmit=new t.vpe,this.productListsortByDateEmit=new t.vpe,this.DialogMessage="You are not authorized",this.userProfile={},this.productGroupList=[],this.productListByID=[],this.imsGridSettings=new O.U5,this.imsGridSettingsforProductList=new O.U5,this.imsGridSettingsforGroupList=new O.U5,this.mcodeFromBcode=[],this.prodListContextMenu=[],this.userProfile=o.getUserProfile(),this.settings=this.ProductService.productMasterTableSetting(this.userProfile.CompanyInfo.ORG_TYPE),this.imsGridSettings=this.ProductService.getimsgridSetting(),this.imsGridSettingsforProductList=this.ProductService.getProductList(),this.imsGridSettingsforGroupList=this.ProductService.getGroupList(),this.searchProduct="searchItemName",this.searchProductGrp="searchGrpName",this.ProductService.sortProduct="sortItemName",this.ProductService.sortProductGrp="sortGrpName",console.log("from master rrepo",this.masterService.productLists),this.masterService.modeIs=""}ngOnInit(){console.log(this.pages)}ngAfterViewInit(){(0,R.R)(this.searchInput.nativeElement,"keyup").pipe((0,y.h)(Boolean),(0,N.b)(800),(0,U.x)(),(0,j.b)(e=>{console.log("event after type",e,e.key),console.log("input value",this.searchInput.nativeElement.value),this.triggerSearch(e)})).subscribe(),(0,R.R)(this.searchInputGrp.nativeElement,"keyup").pipe((0,y.h)(Boolean),(0,N.b)(800),(0,U.x)(),(0,j.b)(e=>{console.log("event after type",e,e.key),console.log("input group value",this.searchInputGrp.nativeElement.value),this.triggerGroupSearch(e)})).subscribe()}ngAfterContentChecked(){this.cdref.detectChanges()}onSearchClick(e){if(null==e||""==e)return;let o=[];this.source=new I.nC,this.ProductService.getSearchProducts(e).subscribe(n=>{o.push(n),this.source.load(o)})}AddItem(){}AddGroup(){}ItemBar(){this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct,this.finalFilterValue).subscribe(e=>{console.log("ItemBar",e),this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount}),this.finalFilterValue=""}GrpBar(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp,this.finalGroupFilterValue).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}reserGrpValue(){this.finalGroupFilterValue=""}triggerSearch(e){this.masterService.currentPage=1,console.log("event",e,"filter",this.masterService.filter),console.log("search product",this.searchProduct),this.masterService.filter?("searchItemCode"==this.searchProduct&&(this.finalFilterValue=this.getFilterOption("MENUCODE",this.masterService.filter),this.ItemBar()),"searchItemBarcode"==this.searchProduct&&(console.log("search by barcode"),this.finalFilterValue=this.getFilterOption("BARCODE",this.masterService.filter),this.ItemBar()),"searchItemName"==this.searchProduct&&(this.finalFilterValue=this.getFilterOption("DESCA",this.masterService.filter),this.sortProductListByName())):(console.log("filter is eempty",this.masterService.filter),this.finalFilterValue="",this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct).subscribe(o=>{console.log("sort product List by name",o),this.productListByID=o.result,this.masterService.productLists=o.result,this.masterService.productSearchTotalCount=o.totalCount}))}triggerGroupSearch(e){this.masterService.filters?("searchGrpName"==this.searchProductGrp&&(this.finalGroupFilterValue=this.getFilterOption("DESCA",this.masterService.filters),this.sortProductGrpByName()),"searchGrpCode"==this.searchProductGrp&&(this.finalGroupFilterValue=this.getFilterOption("FCODE",this.masterService.filters),this.GrpBar())):(console.log("Group filter is empty"),this.finalGroupFilterValue="",this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp,this.finalGroupFilterValue).subscribe(o=>{this.masterService.productGroupLists=o.result.result,this.masterService.productGroupSearchTotalCount=o.totalCount}))}onDeleteConfirm(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}onEditClick(e){if(0!=this.masterService.checkIsBranch()){if(this.masterService.checkUserRights("edit","productmasterdynamicattributes"))try{let n={name:"addproduct"};n.mcode=e.MCODE,n.mode="edit",n.active=!0,this.masterService.onProductEdit=!0,this.activeTabEmit.emit(n),this.getDynamicProductAttributes(e.MCODE)}catch(n){this._alertService.error(n)}}else this._alertService.warning("Cannot edit product from branch office")}onViewClick(e){try{let o={name:"addproduct"};o.mcode=e.MCODE,o.mode="view",o.active=!0,this.masterService.onProductView=!0,this.activeTabEmit.emit(o),this.getDynamicProductAttributes(e.MCODE)}catch(o){this._alertService.error(o)}}getDynamicProductAttributes(e){this.ProductService.getProductAttributes(e).subscribe(o=>{this.masterService.prodAttSearchObj.DEPARTMENT=o.result[0].DEPARTMENT,this.getCustomField(e,this.masterService.prodAttSearchObj.DEPARTMENT)})}getCustomField(e,o){return this.masterService.getCustomFields(e,o).subscribe(n=>{var i=[];n.result.forEach(s=>{i.push((new E.o4).deserialize(s))}),this.customForm?.setForm(i)})}hideChildModal(){try{this.childModal.hide()}catch(e){this._alertService.error(e)}}searchProductList(){if(""==this.masterService.filter||void 0===this.masterService.filter)this.setDefaultList();else if("searchItemName"==this.searchProduct&&""!=this.masterService.filter){let e=this.masterService.filter.toUpperCase();this.productListByID=this.productListByID.filter(function(o){return 0==o.ITEM_NAME.toUpperCase().indexOf(e)}),this.masterService.productLists=this.searchItemName(this.masterService.productLists,this.masterService.filter)}else if("searchItemCode"==this.searchProduct&&""!=this.masterService.filter){let e=this.masterService.filter;this.productListByID=this.productListByID.filter(o=>o.ITEM_CODE==e),this.masterService.productLists=this.masterService.productLists.filter(o=>o.ITEM_CODE==e)}else"searchItemBarcode"==this.searchProduct&&""!=this.masterService.filter&&this.ProductService.getMCODEusingBARCODE(this.masterService.filter).subscribe(e=>{"ok"==e.status?(this.mcodeFromBcode=e.result,this.productListByID=this.productListByID.filter(o=>o.MCODE==this.mcodeFromBcode),this.masterService.productLists=this.masterService.productLists.filter(o=>o.MCODE==this.mcodeFromBcode)):(this._alertService.warning("cannot find product with this barcode"),this.masterService.productLists=this.masterService.productLists)})}searchProductGroup(){if(""==this.masterService.filters||void 0===this.masterService.filters)this.setDefaultList();else if("searchGrpName"==this.searchProductGrp&&""!=this.masterService.filters){let e=this.masterService.filters.toUpperCase();this.productGroupList=this.productGroupList.filter(function(o){return 0==o.GROUP_NAME.toUpperCase().indexOf(e)}),this.masterService.productGroupLists=this.masterService.productGroupLists.filter(function(o){return 0==o.GROUP_NAME.toUpperCase().indexOf(e)})}else if("searchGrpCode"==this.searchProductGrp&&""!=this.masterService.filters){let e=this.masterService.filters;this.productGroupList=this.productGroupList.filter(o=>o.GROUP_CODE==e),this.masterService.productGroupLists=this.masterService.productGroupLists.filter(o=>o.GROUP_CODE==e)}}setDefaultList(){""==this.masterService.filter&&this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct).subscribe(e=>{this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount}),""==this.masterService.filters&&this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}onEditGroup(e){try{let o={};o.name="PRG99999999"==e.PARENT?"addgroup":"addSubgroup",o.mcode=e.MCODE,o.mode="edit",o.active=!0,this.masterService.onProductEdit=!0,this.activeTabEmit.emit(o)}catch(o){this._alertService.error(o)}}onViewGroup(e){try{let o={};o.name="PRG99999999"==e.PARENT?"addgroup":"addSubgroup",o.mcode=e.MCODE,o.mode="view",o.active=!0,this.masterService.onProductView=!0,this.activeTabEmit.emit(o)}catch(o){this._alertService.error(o)}}sortProductListByDate(){this.productListsortByDateEmit.emit(this.ProductService.sortProduct),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.masterService.currentPage,this.itemPerPage,"sortitembydate",this.finalFilterValue).subscribe(e=>{this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount})}sortProductListByName(){console.log("sortProductList by name"),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct,this.finalFilterValue).subscribe(e=>{console.log("sort product List by name",e),this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount})}sortProductGrpByName(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp,this.finalGroupFilterValue).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}sortProductGrpByDate(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,this.groupListCurrentPage,this.itemPerPage,"sortitemgrpbydate",this.finalGroupFilterValue).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}handleKeyDownloadEvent(e){"Enter"==e.code&&(e.preventDefault(),(""!=this.masterService.filter||null!=this.masterService.filter)&&this.searchProductList(),(""!=this.masterService.filters||null!=this.masterService.filters)&&this.searchProductGroup()),"Escape"==e.code&&(e.preventDefault(),(""!=this.masterService.filter||null!=this.masterService.filter)&&(this.masterService.filter="",this.setDefaultList()),(""!=this.masterService.filters||null!=this.masterService.filters)&&(this.masterService.filters="",this.setDefaultList()))}searchItemName(e,o){if(e)return o?e.filter(n=>{const i=o.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(n.ITEM_NAME?n.ITEM_NAME.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(i))return n}):e}productListPagination(e){this.masterService.currentPage=e,(null==this.masterService.filter||""==this.masterService.filter||null==this.masterService.filter)&&(this.finalFilterValue=null),console.log("getTreeNodeValueObj",this.getTreeNodeValueObj,"pages",this.masterService.currentPage,"item per page",this.itemPerPage,"sortproduct",this.ProductService.sortProduct),console.log("filter",this.finalFilterValue),this.sortProductListByName()}productGroupListPagination(e){this.groupListCurrentPage=e,(null==this.masterService.filter||""==this.masterService.filter||null==this.masterService.filter)&&(this.finalGroupFilterValue=null),this.sortProductGrpByName()}getFilterOption(e,o){let n=[];return null==o||null==o||""==o||null==e||null==e||""==e?"":(n.push({Field:e,Value:o}),`${encodeURIComponent(JSON.stringify(n))}`)}onRightClick(e,o){e.preventDefault(),console.log("event ma k aaucha",e,o)}drillDownItemList(e){console.log("Drill Item List",e),this.routerToStockLedgerReport(e)}routerToStockLedgerReport(e){console.log("data for drill",e),this.router.navigate(["/pages/reports/stock-ledger-report"],{queryParams:{mode:"DRILLTOLEDGER",mcode:e.MCODE,itemname:e.ITEM_NAME}})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(T.c),t.Y36(S.e),t.Y36(C),t.Y36(f.P),t.Y36(P.gz),t.Y36(P.F0),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["productlist"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Ne,5),t.Gf(E.q0,5),t.Gf(Ue,5),t.Gf(je,5),t.Gf(Ge,5),t.Gf(Ze,7),t.Gf(ke,7),t.Gf(De,7),t.Gf(Le,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.childModal=n.first),t.iGM(n=t.CRH())&&(o.customForm=n.first),t.iGM(n=t.CRH())&&(o.genericGrid=n.first),t.iGM(n=t.CRH())&&(o.genericGridForAllProductList=n.first),t.iGM(n=t.CRH())&&(o.genericGridForAllGroupList=n.first),t.iGM(n=t.CRH())&&(o.searchInput=n.first),t.iGM(n=t.CRH())&&(o.searchInputGrp=n.first),t.iGM(n=t.CRH())&&(o.sortItemName=n.first),t.iGM(n=t.CRH())&&(o.sortitembydate=n.first)}},hostBindings:function(e,o){1&e&&t.NdJ("keydown",function(i){return o.handleKeyDownloadEvent(i)},!1,t.evT)},inputs:{source:"source",productGroupList:"productGroupList",productListByID:"productListByID",getTreeNodeValueObj:"getTreeNodeValueObj",itemPerPage:"itemPerPage",pages:"pages",groupListCurrentPage:"groupListCurrentPage"},outputs:{activeTabEmit:"activeTabEmit",productListsortByDateEmit:"productListsortByDateEmit"},features:[t._Bn([S.e,C])],decls:100,vars:15,consts:[[2,"margin-top","0"],[1,"row"],[1,"col-md-12",2,"width","100%"],["id","warehouse-tabs",1,"tabbable"],[1,"nav","nav-tabs"],[1,"nav-item"],["href","#ProductList","data-toggle","tab",1,"nav-link","active",2,"font-size","14px"],["href","#ProductGroupList","data-toggle","tab",1,"nav-link",2,"font-size","14px"],[1,"tab-content","mr5"],["id","ProductList",1,"tab-pane","active"],[2,"display","inline-block","width","100%"],[1,"clearfix"],[1,"col-md-12",2,"margin-bottom","10px"],["type","radio","name","item","value","searchItemName",3,"ngModel","ngModelChange","change","click"],["type","radio","name","item","value","searchItemCode",3,"ngModel","ngModelChange","change","click"],["type","radio","name","item","value","searchItemBarcode",3,"ngModel","ngModelChange","change","click"],["type","search","placeholder","Search...","name","filter","autocomplete","off",2,"width","25%",3,"ngModel","ngModelChange"],["searchInput",""],["type","radio","name","sortItem","value","sortItemName",3,"ngModel","ngModelChange","change"],[2,"font-size","12px"],["type","radio","name","sortItem","value","sortitembydate",3,"ngModel","ngModelChange","change"],[1,"col-md-12",2,"overflow-y","scroll","height","57vh","margin-left","-4px","white-space","nowrap"],[1,"table","table-striped"],[2,"line-height","10px"],["colspan","1",2,"width","1%","padding-left","0px"],["colspan","1",2,"width","15%","padding-left","0px"],["colspan","1",2,"width","0%","padding-left","0px"],["colspan","1",2,"width","8%","padding-left","0px"],["colspan","1",2,"width","5%","padding-left","0px"],["colspan","1",2,"width","6%","padding-left","0px"],["colspan","1",2,"width","5%","padding-left","18px"],["colspan","2",2,"width","5%","padding-left","0px"],[4,"ngIf"],["style","text-align: center;height: 30px; ",4,"ngIf"],["id","ProductGroupList",1,"tab-pane"],["type","radio","name","group","value","searchGrpName",3,"ngModel","ngModelChange","change","click"],["type","radio","name","group","value","searchGrpCode",3,"ngModel","ngModelChange","change","click"],["type","search","placeholder","Search...","name","filters",2,"width","25%",3,"ngModel","ngModelChange"],["searchInputGrp",""],["type","radio","name","sortGroup","value","sortGrpName",3,"ngModel","ngModelChange","change"],["type","radio","name","sortGroup","value","sortGrpDate",3,"ngModel","ngModelChange","change"],[2,"overflow-y","auto","height","100%"],[1,"table","table-striped",2,"margin-bottom","0"],["colspan","1",2,"width","10%","padding-left","0px"],["style","text-align: center;",4,"ngIf"],[3,"dblclick","contextmenu",4,"ngFor","ngForOf"],[3,"dblclick","contextmenu"],[2,"text-align","center"],["class","parentCheckBox","type","checkbox","disabled","disabled","checked","checked",4,"ngIf"],[2,"text-align","right"],[1,"isLink",3,"click"],["type","checkbox","disabled","disabled","checked","checked",1,"parentCheckBox"],[2,"text-align","center","height","30px"],["directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page",1,"my-pagination",3,"pageChange"],[4,"ngFor","ngForOf"],["id","pagination1","directionLinks","true",1,"my-pagination",3,"pageChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),t._uU(7,"Product List"),t.qZA()(),t.TgZ(8,"li",5)(9,"a",7),t._uU(10,"Product Group List"),t.qZA()()(),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"input",13),t.NdJ("ngModelChange",function(i){return o.searchProduct=i})("change",function(){return o.ItemBar()})("click",function(){return o.masterService.filter=""}),t.qZA(),t._uU(17,"\xa0 Search By Name \xa0\xa0 "),t.TgZ(18,"input",14),t.NdJ("ngModelChange",function(i){return o.searchProduct=i})("change",function(){return o.ItemBar()})("click",function(){return o.masterService.filter=""}),t.qZA(),t._uU(19,"\xa0 Search By Code\xa0\xa0 "),t.TgZ(20,"input",15),t.NdJ("ngModelChange",function(i){return o.searchProduct=i})("change",function(){return o.ItemBar()})("click",function(){return o.masterService.filter=""}),t.qZA(),t._uU(21,"\xa0 Barcode \xa0\xa0 "),t.TgZ(22,"input",16,17),t.NdJ("ngModelChange",function(i){return o.masterService.filter=i}),t.qZA(),t._uU(24,"\xa0\xa0 "),t.TgZ(25,"input",18),t.NdJ("ngModelChange",function(i){return o.ProductService.sortProduct=i})("change",function(){return o.sortProductListByName()}),t.qZA(),t._uU(26,"\xa0"),t.TgZ(27,"label",19),t._uU(28,"Sort By Name \xa0\xa0"),t.qZA(),t.TgZ(29,"input",20),t.NdJ("ngModelChange",function(i){return o.ProductService.sortProduct=i})("change",function(){return o.sortProductListByDate()}),t.qZA(),t._uU(30,"\xa0"),t.TgZ(31,"label",19),t._uU(32,"Sort By C-Date \xa0\xa0"),t.qZA()(),t.TgZ(33,"div",21)(34,"table",22)(35,"thead")(36,"tr",23)(37,"th",24),t._uU(38,"SN"),t.qZA(),t.TgZ(39,"th",25),t._uU(40,"Item Name"),t.qZA(),t.TgZ(41,"th",26),t._uU(42,"Is Parent Item"),t.qZA(),t.TgZ(43,"th",27),t._uU(44,"Item Code"),t.qZA(),t.TgZ(45,"th",28),t._uU(46,"Unit"),t.qZA(),t.TgZ(47,"th",29),t._uU(48,"P-Rate"),t.qZA(),t.TgZ(49,"th",29),t._uU(50,"S-Rate"),t.qZA(),t.TgZ(51,"th",30),t._uU(52,"Vat"),t.qZA(),t.TgZ(53,"th",25),t._uU(54,"Parent"),t.qZA(),t.TgZ(55,"th",25),t._uU(56,"Supplier"),t.qZA(),t.TgZ(57,"th",31),t._uU(58,"Actions"),t.qZA()()(),t.YNc(59,Je,3,8,"tbody",32),t.qZA()(),t.YNc(60,Ve,2,0,"div",33),t.qZA()()(),t.TgZ(61,"div",34)(62,"div",12)(63,"input",35),t.NdJ("ngModelChange",function(i){return o.searchProductGrp=i})("change",function(){return o.reserGrpValue(),o.GrpBar()})("click",function(){return o.masterService.filters=""}),t.qZA(),t._uU(64," \xa0 Search By Name \xa0\xa0 "),t.TgZ(65,"input",36),t.NdJ("ngModelChange",function(i){return o.searchProductGrp=i})("change",function(){return o.reserGrpValue(),o.GrpBar()})("click",function(){return o.masterService.filters=""}),t.qZA(),t._uU(66,"\xa0 Search By Code\xa0\xa0 "),t.TgZ(67,"input",37,38),t.NdJ("ngModelChange",function(i){return o.masterService.filters=i}),t.qZA(),t._uU(69,"\xa0\xa0 "),t.TgZ(70,"input",39),t.NdJ("ngModelChange",function(i){return o.ProductService.sortProductGrp=i})("change",function(){return o.sortProductGrpByName()}),t.qZA(),t._uU(71,"\xa0"),t.TgZ(72,"label",19),t._uU(73,"Sort By Name \xa0\xa0"),t.qZA(),t.TgZ(74,"input",40),t.NdJ("ngModelChange",function(i){return o.ProductService.sortProductGrp=i})("change",function(){return o.sortProductGrpByDate()}),t.qZA(),t._uU(75,"\xa0"),t.TgZ(76,"label",19),t._uU(77,"Sort By C-Date \xa0\xa0"),t.qZA()(),t.TgZ(78,"div",41)(79,"table",42)(80,"thead")(81,"tr",23)(82,"th",24),t._uU(83,"SN"),t.qZA(),t.TgZ(84,"th",25),t._uU(85,"Group Name"),t.qZA(),t.TgZ(86,"th",25),t._uU(87,"Parent Group"),t.qZA(),t.TgZ(88,"th",27),t._uU(89,"Group Code"),t.qZA(),t.TgZ(90,"th",43),t._uU(91,"Category"),t.qZA(),t.TgZ(92,"th",43),t._uU(93,"Extra Category"),t.qZA(),t.TgZ(94,"th",27),t._uU(95,"Rec-Margin"),t.qZA(),t.TgZ(96,"th",31),t._uU(97,"Actions"),t.qZA()()(),t.YNc(98,ze,3,8,"tbody",32),t.qZA()(),t.YNc(99,Ye,2,0,"div",44),t.qZA()()()()()()),2&e&&(t.xp6(16),t.Q6J("ngModel",o.searchProduct),t.xp6(2),t.Q6J("ngModel",o.searchProduct),t.xp6(2),t.Q6J("ngModel",o.searchProduct),t.xp6(2),t.Q6J("ngModel",o.masterService.filter),t.xp6(3),t.Q6J("ngModel",o.ProductService.sortProduct),t.xp6(4),t.Q6J("ngModel",o.ProductService.sortProduct),t.xp6(30),t.Q6J("ngIf",null==o.masterService.productLists?null:o.masterService.productLists.length),t.xp6(1),t.Q6J("ngIf",o.masterService.productLists&&o.masterService.productLists.length),t.xp6(3),t.Q6J("ngModel",o.searchProductGrp),t.xp6(2),t.Q6J("ngModel",o.searchProductGrp),t.xp6(2),t.Q6J("ngModel",o.masterService.filters),t.xp6(3),t.Q6J("ngModel",o.ProductService.sortProductGrp),t.xp6(4),t.Q6J("ngModel",o.ProductService.sortProductGrp),t.xp6(24),t.Q6J("ngIf",null==o.masterService.productGroupLists?null:o.masterService.productGroupLists.length),t.xp6(1),t.Q6J("ngIf",o.masterService.productGroupLists&&o.masterService.productGroupLists.length))},dependencies:[p.sg,p.O5,a.Fj,a._,a.JJ,a.On,G.LS,p.JJ,G._s],styles:["td[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n    font-size: 13px;\n  }\n\n  .isLink[_ngcontent-%COMP%]:hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n\n  .isLink[_ngcontent-%COMP%]:active {\n    text-decoration: underline;\n  }\n\n  th[_ngcontent-%COMP%] {\n    font-size: 15px;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current {\n    background: #17a2b8 !important;\n    border: transparent !important;\n    border-radius: 20px !important;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover {\n    background: #74d4e2 !important;\n    border-radius: 20px !important;\n    border: transparent !important;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\n    background: #c2c2c2;\n    border-radius: 20px !important;\n  }\n\n  [_ngcontent-%COMP%]::-webkit-scrollbar{\n    height: 10px;\n  }"]}),r})();function We(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"productlist",7),t.NdJ("searchItemEmit",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.searchItemEmitEvent(n))})("activeTabEmit",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(n))})("productListsortByDateEmit",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onsortByDateClicked(n))}),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("source",e.source)("productGroupList",e.productGroupList)("productListByID",e.productListByID)("getTreeNodeValueObj",e.getTreeNodeValueObj)("itemPerPage",e.itemPerPage)("pages",e.pages)("groupListCurrentPage",e.groupListCurrentPage)}}function $e(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"addproductgroup",8),t.NdJ("activeTabEmit",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(n))}),t.qZA()}if(2&r){const e=t.oxw().$implicit,o=t.oxw();t.Q6J("tab",e)("productObj",o.productObj)("groupType",o.groupType)("getTreeNodeValueObj",o.getTreeNodeValueObj)("isAddFormShown",o.isAddFormShown)}}function Xe(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"addproductgroup",8),t.NdJ("activeTabEmit",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(n))}),t.qZA()}if(2&r){const e=t.oxw().$implicit,o=t.oxw();t.Q6J("tab",e)("productObj",o.productObj)("groupType",o.groupType)("getTreeNodeValueObj",o.getTreeNodeValueObj)("isAddFormShown",o.isAddFormShown)}}function to(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"addproductmaster",9),t.NdJ("activeTabEmit",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(n))}),t.qZA()}if(2&r){const e=t.oxw().$implicit,o=t.oxw();t.Q6J("colorLists",o.colorLists)("productObj",o.productObj)("tab",e)("ProductHomeTabs",o.ProductHomeTabs)("getTreeNodeValueObj",o.getTreeNodeValueObj)("isAddFormShown",o.isAddFormShown)("selectedGroupInfo",o.selectedGroupInfo)}}function eo(r,c){if(1&r&&(t.TgZ(0,"li",2)(1,"hometab",3),t.YNc(2,We,1,7,"productlist",4),t.YNc(3,$e,1,5,"addproductgroup",5),t.YNc(4,Xe,1,5,"addproductgroup",5),t.YNc(5,to,1,7,"addproductmaster",6),t.qZA()()),2&r){const e=c.$implicit;t.Q6J("hidden",!e.active),t.xp6(1),t.Q6J("active",e.active),t.xp6(1),t.Q6J("ngIf","productlist"==e.name),t.xp6(1),t.Q6J("ngIf","addgroup"==e.name),t.xp6(1),t.Q6J("ngIf","addSubgroup"==e.name),t.xp6(1),t.Q6J("ngIf","addproduct"==e.name)}}const oo=["*"];let no=(()=>{class r{constructor(e,o){this.productMasterService=e,this.cdref=o,this.ProductHomeTabs=[],this.searchItemEmit=new t.vpe,this.activeTabEmit=new t.vpe,this.sortByDateEmit=new t.vpe,this.selectedGroupInfo={},this.pages=1}ngAfterContentInit(){try{this.cdref.detectChanges()}catch(e){alert(e)}}onsortByDateClicked(e){this.sortByDateEmit.emit(e)}ngOnInit(){0==JSON.parse(localStorage.getItem("setting")).DISPLAY&&(this.productMasterService.getColorGroup().subscribe(o=>{this.colorLists=o&&"ok"===o.status&&null!==o.result&&o&&o.result?o.result:[]},o=>{this.colorLists=[]}),console.log(this.pages))}onTabClose(e){this.ProductHomeTabs.splice(e,1),this.ProductHomeTabs.length>0&&(this.ProductHomeTabs[this.ProductHomeTabs.length-1].active=!0)}searchItemEmitEvent(e){this.searchItemEmit.emit(e)}activeTabEmitEvent(e){this.activeTabEmit.emit(e)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(C),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["hometabs"]],contentQueries:function(e,o,n){if(1&e&&t.Suo(n,L,4),2&e){let i;t.iGM(i=t.CRH())&&(o.tabs=i)}},inputs:{ProductHomeTabs:"ProductHomeTabs",source:"source",tab:"tab",productObj:"productObj",getTreeNodeValueObj:"getTreeNodeValueObj",groupType:"groupType",productGroupList:"productGroupList",productListByID:"productListByID",isAddFormShown:"isAddFormShown",selectedGroupInfo:"selectedGroupInfo",itemPerPage:"itemPerPage",pages:"pages",totalCount:"totalCount",groupListCurrentPage:"groupListCurrentPage"},outputs:{searchItemEmit:"searchItemEmit",activeTabEmit:"activeTabEmit",sortByDateEmit:"sortByDateEmit"},ngContentSelectors:oo,decls:3,vars:1,consts:[[2,"padding","0px"],["style","float:inherit",3,"hidden",4,"ngFor","ngForOf"],[2,"float","inherit",3,"hidden"],[3,"active"],[3,"source","productGroupList","productListByID","getTreeNodeValueObj","itemPerPage","pages","groupListCurrentPage","searchItemEmit","activeTabEmit","productListsortByDateEmit",4,"ngIf"],[3,"tab","productObj","groupType","getTreeNodeValueObj","isAddFormShown","activeTabEmit",4,"ngIf"],[3,"colorLists","productObj","tab","ProductHomeTabs","getTreeNodeValueObj","isAddFormShown","selectedGroupInfo","activeTabEmit",4,"ngIf"],[3,"source","productGroupList","productListByID","getTreeNodeValueObj","itemPerPage","pages","groupListCurrentPage","searchItemEmit","activeTabEmit","productListsortByDateEmit"],[3,"tab","productObj","groupType","getTreeNodeValueObj","isAddFormShown","activeTabEmit"],[3,"colorLists","productObj","tab","ProductHomeTabs","getTreeNodeValueObj","isAddFormShown","selectedGroupInfo","activeTabEmit"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"ul",0),t.YNc(1,eo,6,6,"li",1),t.qZA(),t.Hsn(2)),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.ProductHomeTabs))},dependencies:[p.sg,p.O5,V,H,L,Ke],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left;list-style:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:5px;text-decoration:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#98b2b7;cursor:pointer;cursor:hand}"]}),r})();const io=["searchInput"];function ro(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"li",20),t.NdJ("click",function(n){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onClikFirstColumn(n,s))}),t._UZ(1,"i",21),t._uU(2),t._UZ(3,"i",22),t.qZA()}if(2&r){const e=c.$implicit;t.xp6(2),t.AsE("",e.name," ( ",e.fcode," )")}}function so(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"li",20),t.NdJ("click",function(n){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onClickSecondColumn(n,s))}),t._UZ(1,"i",21),t._uU(2),t._UZ(3,"i",22),t.qZA()}if(2&r){const e=c.$implicit;t.xp6(2),t.AsE("",e.name," ( ",e.menucode," )")}}function co(r,c){if(1&r&&(t.TgZ(0,"div",23)(1,"ul"),t.YNc(2,so,4,2,"li",18),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.SecondColumn)}}function lo(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"li",20),t.NdJ("click",function(n){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onClickThirdColumn(n,s))}),t._UZ(1,"i",21),t._uU(2),t._UZ(3,"i",22),t.qZA()}if(2&r){const e=c.$implicit;t.xp6(2),t.AsE("",e.name," ( ",e.menucode," )")}}function ao(r,c){if(1&r&&(t.TgZ(0,"div",23)(1,"ul"),t.YNc(2,lo,4,2,"li",18),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.ThirdColumn)}}function uo(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"li",20),t.NdJ("click",function(n){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onClickFourthColumn(n,s))}),t._UZ(1,"i",21),t._uU(2),t._UZ(3,"i",22),t.qZA()}if(2&r){const e=c.$implicit;t.xp6(2),t.AsE("",e.name," ( ",e.menucode," )")}}function po(r,c){if(1&r&&(t.TgZ(0,"div",23)(1,"ul"),t.YNc(2,uo,4,2,"li",18),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.FourthColumn)}}function ho(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"li",20),t.NdJ("click",function(n){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onClickFifthColumn(n,s))}),t._UZ(1,"i",21),t._uU(2),t._UZ(3,"i",22),t.qZA()}if(2&r){const e=c.$implicit;t.xp6(2),t.AsE("",e.name," ( ",e.menucode," )")}}function go(r,c){if(1&r&&(t.TgZ(0,"div",23)(1,"ul"),t.YNc(2,ho,4,2,"li",18),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.FifthColumn)}}const _o=function(){return{width:"19.5vw"}},mo=function(){return{width:"23vw"}};let bo=(()=>{class r{constructor(e,o,n){this.router=e,this.productService=o,this.masterRepo=n,this.showfirstcolumn=!1,this.showsecondcolumn=!1,this.showthirdcolumn=!1,this.showfourthcolumn=!1,this.showfifthcolumn=!1,this.level=1,this.parent="PRG99999999",this.groupListCurrentPage=1,this.itemPerPage=15,this.currentPage=1,this.productGroupList=[],this.productListByID=[],this.FirstColumn=[],this.SecondColumn=[],this.ThirdColumn=[],this.FourthColumn=[],this.FifthColumn=[],this.selectedGroup=new t.vpe,this.selectedGroupInfo=new t.vpe,this.totalCount=new t.vpe,this.getAllChildBasedUponParent(this.level,this.parent)}ngOnInit(){console.log("reached on in it"),this.searchGroup="1",this.showhideLabel="Show Group Hierarchy [F1]",this.showallproductLabel="Show All Product List"}updown(e){"F1"==e.code&&(e.preventDefault(),console.log("hierarchy show and hide shortcut"),this.showHierarchy())}ngAfterViewInit(){(0,R.R)(this.searchInput.nativeElement,"keyup").pipe((0,y.h)(Boolean),(0,N.b)(1500),(0,U.x)(),(0,j.b)(e=>{console.log("event after type",e,e.key),console.log("input value",this.searchInput.nativeElement.value),"Enter"!=e.key&&this.productService.getSearchedGroup(this.searchInput.nativeElement.value,this.searchGroup).subscribe(o=>{console.log("searched value here",o),this.masterRepo.FirstColumn=o.filter(n=>1==n.LEVELS)})})).subscribe()}showHierarchy(){this.masterRepo.showGroupHierarchy=!this.masterRepo.showGroupHierarchy;const e=document.getElementById("icon");1==this.masterRepo.showGroupHierarchy?(this.showhideLabel="Hide Group Hierarchy [F1]",this.showallproductLabel="",e.style.visibility="hidden"):(this.showhideLabel="Show Group Hierarchy [F1]",this.showallproductLabel="Show All Product List",e.style.visibility="visible"),this.masterRepo.groupSearchObj={}}showAllProductList(){this.masterRepo.showAllProductClick=!0,this.selectedGroup.emit({id:"PRG99999999",parentId:"MI",children:[],mgroup:"",LEVELS:0,menucode:"PRG99999999",Parent:null,childrenOne:null,desca:null,fcode:0,icon:null,mcat:null,mcode:null,name:"PRODUCT LISTS",parentcode:null,ancestors:null,text:"PRODUCT LISTS"})}onShowColumn(e){this.showfirstcolumn=!0,document.getElementById("collapseDiv").classList.toggle("collapse"),console.log("click show column button",this.showfirstcolumn)}onClikFirstColumn(e,o){console.log("on click first column",e,o),this.showsecondcolumn=!0,this.showthirdcolumn=!1,this.showfourthcolumn=!1,this.showfifthcolumn=!1,this.secondSelectedGroup="",this.thirdSelectedGroup="",this.fourthSelectedGroup="",this.fifthSelectedGroup="",this.ThirdColumn=[],this.FourthColumn=[],this.FifthColumn=[],this.firstSelectedGroup=o.name,this.level=2,this.parent=o.id,this.getAllChildBasedUponParent(this.level,this.parent),this.selectedGroup.emit(o),this.highlightItemName=this.firstSelectedGroup}onClickSecondColumn(e,o){console.log("hit here at second"),this.showthirdcolumn=!0,this.showfourthcolumn=!1,this.showfifthcolumn=!1,this.thirdSelectedGroup="",this.fourthSelectedGroup="",this.fifthSelectedGroup="",this.FourthColumn=[],this.FifthColumn=[],this.secondSelectedGroup=o.name,this.level=3,this.parent=o.id,this.getAllChildBasedUponParent(this.level,this.parent),this.selectedGroup.emit(o)}onClickThirdColumn(e,o){this.thirdSelectedGroup=o.name,this.showfourthcolumn=!0,this.showfifthcolumn=!1,this.fourthSelectedGroup="",this.fifthSelectedGroup="",this.FifthColumn=[],this.level=4,this.parent=o.id,this.getAllChildBasedUponParent(this.level,this.parent),this.selectedGroup.emit(o)}onClickFourthColumn(e,o){this.fourthSelectedGroup=o.name,this.showfifthcolumn=!0,this.fifthSelectedGroup="",this.level=5,this.parent=o.id,this.getAllChildBasedUponParent(this.level,this.parent),this.selectedGroup.emit(o)}onClickFifthColumn(e,o){this.fifthSelectedGroup=o.name,this.selectedGroup.emit(o)}onClickFirstSelectedGroup(){this.showsecondcolumn=!1,this.showthirdcolumn=!1,this.showfourthcolumn=!1,this.showfifthcolumn=!1}onClickSecondSelectedGroup(){console.log("hit here when it second second"),this.showthirdcolumn=!1,this.showfourthcolumn=!1,this.showfifthcolumn=!1,this.FourthColumn=[],this.FifthColumn=[],this.secondSelectedGroup="",this.thirdSelectedGroup="",this.fourthSelectedGroup="",this.fifthSelectedGroup=""}onClickThirdSelectedGroup(){this.showfourthcolumn=!1,this.showfifthcolumn=!1,this.thirdSelectedGroup="",this.fourthSelectedGroup="",this.fifthSelectedGroup="",this.FifthColumn=[]}onClickFourthSelectedGroup(){this.showfifthcolumn=!1,this.fourthSelectedGroup="",this.fifthSelectedGroup=""}getAllChildBasedUponParent(e,o){this.productService.getGroupChild(this.level,this.parent).subscribe(n=>{0==e&&console.log("res for level 0",n),1==e&&(this.FirstColumn=n,this.masterRepo.FirstColumn=n,console.log("res",n,this.FirstColumn)),2==e&&(this.SecondColumn=n,console.log("res",n,this.SecondColumn)),3==e&&(this.ThirdColumn=n,console.log("res",n,this.ThirdColumn)),4==e&&(this.FourthColumn=n,console.log("res",n,this.FourthColumn)),5==e&&(this.FifthColumn=n,console.log("res",n,this.FifthColumn))})}uniqueKey(e){this.productService.getProductInfo(e).subscribe(o=>{if(console.log("res",o),console.log("result of product info",o.result[0],o.result2[0].ITEM_LEVEL),"ok"==o.status){let n=o.result[0];n.LEVEL=o.result2[0].ITEM_LEVEL,this.selectedGroupInfo.emit(n)}})}onSearchClick(){this.showfirstcolumn=!0,this.showsecondcolumn=!0,this.showthirdcolumn=!0,this.showfourthcolumn=!0,this.showfifthcolumn=!0}searchByChanged(e){console.log("seach by",this.searchGroup)}searchEnter(e){console.log("search enter clicked",e.target.value,this.masterRepo.FirstColumn),"0"==this.searchGroup&&(this.masterRepo.FirstColumn=this.masterRepo.FirstColumn.filter(o=>o.fcode==e.target.value))}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.F0),t.Y36(C),t.Y36(f.P))},r.\u0275cmp=t.Xpm({type:r,selectors:[["millers-column"]],viewQuery:function(e,o){if(1&e&&t.Gf(io,7),2&e){let n;t.iGM(n=t.CRH())&&(o.searchInput=n.first)}},hostBindings:function(e,o){1&e&&t.NdJ("keydown",function(i){return o.updown(i)},!1,t.evT)},outputs:{selectedGroup:"selectedGroup",selectedGroupInfo:"selectedGroupInfo",totalCount:"totalCount"},decls:31,vars:12,consts:[[1,"row"],[1,"col-md-12"],[1,"col-md-12","pd0"],[1,"row",2,"font-size","14px"],["type","radio","name","group","value","1",2,"margin-left","1vw",3,"ngModel","ngModelChange","change"],["type","radio","name","group","value","0",3,"ngModel","ngModelChange","change"],[1,"searchBar"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search here",1,"search",3,"click","keydown.enter"],["searchInput",""],[1,"row","col-md-12"],[1,"showhierarchy",3,"click"],["id","icon","aria-hidden","true",1,"fa","fa-bars",2,"margin","3px"],[1,"showhierarchy",2,"margin-left","5px",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[1,"col-md-8"],[1,"row","column"],[1,"columnAlter",3,"ngStyle"],[3,"click",4,"ngFor","ngForOf"],["class","columnAlter",4,"ngIf"],[3,"click"],["aria-hidden","true",1,"fa","fa-folder"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"columnAlter"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",0)(4,"div",2)(5,"div",3)(6,"input",4),t.NdJ("ngModelChange",function(i){return o.searchGroup=i})("change",function(i){return o.searchByChanged(i)}),t.qZA(),t._uU(7,"\xa0 Search By Name \xa0\xa0 "),t.TgZ(8,"input",5),t.NdJ("ngModelChange",function(i){return o.searchGroup=i})("change",function(i){return o.searchByChanged(i)}),t.qZA(),t._uU(9,"\xa0 Search By Code \xa0\xa0 "),t.qZA(),t.TgZ(10,"div",6),t._UZ(11,"i",7),t.TgZ(12,"input",8,9),t.NdJ("click",function(){return o.onSearchClick()})("keydown.enter",function(i){return o.searchEnter(i)}),t.qZA()()(),t.TgZ(14,"div",10)(15,"a",11),t.NdJ("click",function(){return o.showAllProductList()}),t._uU(16),t._UZ(17,"i",12),t.qZA(),t.TgZ(18,"a",13),t.NdJ("click",function(){return o.showHierarchy()}),t._uU(19),t._UZ(20,"i",14),t.qZA()()(),t.TgZ(21,"div",0)(22,"div",15)(23,"div",16)(24,"div",17)(25,"ul"),t.YNc(26,ro,4,2,"li",18),t.qZA()(),t.YNc(27,co,3,1,"div",19),t.YNc(28,ao,3,1,"div",19),t.YNc(29,po,3,1,"div",19),t.YNc(30,go,3,1,"div",19),t.qZA()()()()()()),2&e&&(t.xp6(6),t.Q6J("ngModel",o.searchGroup),t.xp6(2),t.Q6J("ngModel",o.searchGroup),t.xp6(8),t.hij("",o.showallproductLabel," "),t.xp6(3),t.hij("",o.showhideLabel," "),t.xp6(5),t.Q6J("ngStyle",1==o.masterRepo.showGroupHierarchy?t.DdM(10,_o):t.DdM(11,mo)),t.xp6(2),t.Q6J("ngForOf",o.masterRepo.FirstColumn),t.xp6(1),t.Q6J("ngIf",o.showsecondcolumn&&1==o.masterRepo.showGroupHierarchy),t.xp6(1),t.Q6J("ngIf",o.showthirdcolumn&&1==o.masterRepo.showGroupHierarchy),t.xp6(1),t.Q6J("ngIf",o.showfourthcolumn&&1==o.masterRepo.showGroupHierarchy),t.xp6(1),t.Q6J("ngIf",o.showfifthcolumn&&1==o.masterRepo.showGroupHierarchy))},dependencies:[p.sg,p.O5,p.PC,a.Fj,a._,a.JJ,a.On],styles:[".selectedgroup[_ngcontent-%COMP%]{border:1px solid aliceblue;cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.x-fieldset[_ngcontent-%COMP%]{cursor:pointer;padding-right:89%;border-left-style:none;border-right-style:none;border-bottom-style:none;padding-top:0;padding-bottom:0}.searchBar[_ngcontent-%COMP%]{position:relative}.fa-search[_ngcontent-%COMP%]{float:right}.search[_ngcontent-%COMP%]{text-align:center;width:90%;margin-left:1vw}.searchBar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;padding:5px 0 5px 3px;left:1.5vw}.fa-folder[_ngcontent-%COMP%]{padding-right:8px;color:#ffc107}.fa-chevron-right[_ngcontent-%COMP%]{float:right;padding-top:4px}.fa-plus[_ngcontent-%COMP%], .fa-bars[_ngcontent-%COMP%]{color:#2681e1}.column[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,.3fr);gap:2px;margin-top:12px;height:67vh;scrollbar-width:thin}.columnAlter[_ngcontent-%COMP%]{width:19.5vw;background-color:#fff;border:1px solid aliceblue;font-size:11px;overflow-y:scroll;scrollbar-width:thin}.mainProductColumnAlter[_ngcontent-%COMP%]{width:18vh;background-color:#fff;border:1px solid aliceblue;font-size:12px}ul[_ngcontent-%COMP%]{list-style:none;padding:8px 0}li[_ngcontent-%COMP%]{margin:5px;cursor:pointer}li[_ngcontent-%COMP%]:hover{background-color:#beebff;transition:.2s}.showhierarchy[_ngcontent-%COMP%]{font-size:12px;position:relative;margin-bottom:-.5rem;margin-top:.5rem}.showhierarchy[_ngcontent-%COMP%]:hover{background-color:#d0e2ed;transform:scale(1.01);transition:.05s}"]}),r})();const Co=["searchInput"];let fo=(()=>{class r{constructor(e,o,n){this.router=e,this.productService=o,this.masterService=n,this.selectedGroup=new t.vpe,this.selectedGroupInfo=new t.vpe}ngOnInit(){console.log(" hmmmmm reached on in it")}ngAfterViewInit(){}getSubGroupB(e){console.log("sub group A select",e),this.selectedGroup.emit(e),this.productService.getSubGroupList(e.MCODE).subscribe(o=>{o.length>0?(this.masterService.subGroupBList=o,this.masterService.groupSearchObj.SUBGROUP_B="",this.masterService.groupSearchObj.SUBGROUP_C="",this.masterService.groupSearchObj.SUBGROUP_D=""):(this.masterService.subGroupBList=[],this.masterService.groupSearchObj.SUBGROUP_B="",this.masterService.groupSearchObj.SUBGROUP_C="",this.masterService.groupSearchObj.SUBGROUP_D="")})}getSubGroupC(e){console.log("sub group B select",e),this.selectedGroup.emit(e),this.productService.getSubGroupList(e.MCODE).subscribe(o=>{o.length>0?(this.masterService.subGroupCList=o,this.masterService.groupSearchObj.SUBGROUP_C="",this.masterService.groupSearchObj.SUBGROUP_D=""):(this.masterService.subGroupCList=[],this.masterService.groupSearchObj.SUBGROUP_C="",this.masterService.groupSearchObj.SUBGROUP_D="")})}getSubGroupD(e){console.log("sub group C select",e),this.selectedGroup.emit(e),this.productService.getSubGroupList(e.MCODE).subscribe(o=>{o.length>0?(this.masterService.subGroupDList=o,this.masterService.groupSearchObj.SUBGROUP_D=""):(this.masterService.subGroupDList=[],this.masterService.groupSearchObj.SUBGROUP_D="")})}selectSubGroupD(e){console.log("sub group D select",e),console.log("ess",e.MCODE),this.selectedGroup.emit(e)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.F0),t.Y36(C),t.Y36(f.P))},r.\u0275cmp=t.Xpm({type:r,selectors:[["search-group"]],viewQuery:function(e,o){if(1&e&&t.Gf(Co,7),2&e){let n;t.iGM(n=t.CRH())&&(o.searchInput=n.first)}},outputs:{selectedGroup:"selectedGroup",selectedGroupInfo:"selectedGroupInfo"},decls:21,vars:16,consts:[[1,"row",2,"margin-bottom","10px","background-color","#d0e2ed"],[1,"row","col-md-3","pd0"],[1,"col-md-7",2,"padding","3px 1px"],["id","subgroupA",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],["id","subgroupB",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],["id","subgroupC",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],["id","subgroupD",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label"),t._uU(3,"Sub Group(A):"),t.qZA(),t.TgZ(4,"div",2)(5,"app-simple-suggest",3),t.NdJ("ngModelChange",function(i){return o.masterService.groupSearchObj.SUBGROUP_A=i})("selectOption",function(i){return o.getSubGroupB(i)}),t.qZA()()(),t.TgZ(6,"div",1)(7,"label"),t._uU(8,"Sub Group(B):"),t.qZA(),t.TgZ(9,"div",2)(10,"app-simple-suggest",4),t.NdJ("ngModelChange",function(i){return o.masterService.groupSearchObj.SUBGROUP_B=i})("selectOption",function(i){return o.getSubGroupC(i)}),t.qZA()()(),t.TgZ(11,"div",1)(12,"label"),t._uU(13,"Sub Group(C):"),t.qZA(),t.TgZ(14,"div",2)(15,"app-simple-suggest",5),t.NdJ("ngModelChange",function(i){return o.masterService.groupSearchObj.SUBGROUP_C=i})("selectOption",function(i){return o.getSubGroupD(i)}),t.qZA()()(),t.TgZ(16,"div",1)(17,"label"),t._uU(18,"Sub Group(D):"),t.qZA(),t.TgZ(19,"div",2)(20,"app-simple-suggest",6),t.NdJ("ngModelChange",function(i){return o.masterService.groupSearchObj.SUBGROUP_D=i})("selectOption",function(i){return o.selectSubGroupD(i)}),t.qZA()()()()),2&e&&(t.xp6(5),t.Q6J("options",o.masterService.subGroupAList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",o.masterService.groupSearchObj.SUBGROUP_A),t.xp6(5),t.Q6J("options",o.masterService.subGroupBList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",o.masterService.groupSearchObj.SUBGROUP_B),t.xp6(5),t.Q6J("options",o.masterService.subGroupCList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",o.masterService.groupSearchObj.SUBGROUP_C),t.xp6(5),t.Q6J("options",o.masterService.subGroupDList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",o.masterService.groupSearchObj.SUBGROUP_D))},dependencies:[a.JJ,a.On,J.c],styles:[".selectbox[_ngcontent-%COMP%]{width:10vw}label[_ngcontent-%COMP%]{width:auto}"]}),r})();const To=["multiselectGenericGrid"];function Po(r,c){if(1&r&&(t.TgZ(0,"label",17),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij("\xa0>> ",e.MasterRepo.modeIs,"")}}function Oo(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.ExportReportInExcel())}),t._uU(1," Export Product "),t.qZA()}}function Ao(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onMenuClick("addproduct"))}),t._uU(1,"Add Product"),t.qZA()}}function Mo(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onMenuClick("addSubgroup"))}),t._uU(1,"Add Sub Group"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled","productlist"!=e.ProductHomeTabs[0].name||0==e.MasterRepo.isTreeNodeClicked||1==e.isMainParentNodeClicked)}}function So(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onMenuClick("addgroup"))}),t._uU(1,"Add Main Group"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled","productlist"!=e.ProductHomeTabs[0].name)}}function vo(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.Delete())}),t._uU(1," Delete "),t.qZA()}}function Eo(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onCancel())}),t._uU(1," Reset "),t.qZA()}}function xo(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",23)(1,"millers-column",24),t.NdJ("selectedGroup",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.getTreeNodeValue(n))})("selectedGroupInfo",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.getSelectedGroupInfo(n))}),t.qZA()()}}function Io(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",25)(1,"brand-tree",26),t.NdJ("selectedNode",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.getTreeNodeValue(n))})("selectedGroupInfo",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.getSelectedGroupInfo(n))}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("brandsortByDateFilter",e.sortByDateFilter)("isAddFormShown",e.isAddFormShown)}}function wo(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",30)(1,"search-group",31),t.NdJ("selectedGroup",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.getTreeNodeValue(n))}),t.qZA()()}}function Ro(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",27),t.YNc(1,wo,2,0,"div",28),t.TgZ(2,"hometabs",29),t.NdJ("sortByDateEmit",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.onsortByDate(n))})("activeTabEmit",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.activeTabEmitEvent(n))}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","Add Product"!=e.MasterRepo.modeIs&&"Edit Product"!=e.MasterRepo.modeIs&&"View Product"!=e.MasterRepo.modeIs&&"Add Main Group"!=e.MasterRepo.modeIs&&"Add Sub Group"!=e.MasterRepo.modeIs),t.xp6(1),t.Q6J("source",e.source)("productObj",e.ProductService.productObj)("ProductHomeTabs",e.ProductHomeTabs)("groupType",e.groupType)("getTreeNodeValueObj",e.getTreeNodeValueObj)("selectedGroupInfo",e.selectedGroupInfo)("productGroupList",e.productGroupList)("productListByID",e.productListByID)("isAddFormShown",e.isAddFormShown)("itemPerPage",e.itemPerPage)("pages",e.pages)("groupListCurrentPage",e.groupListCurrentPage)}}function yo(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",32)(2,"div",33)(3,"div",34)(4,"h5",35),t._uU(5,"Group Selection"),t.qZA(),t.TgZ(6,"button",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeGroupModal())}),t.TgZ(7,"span",37),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",38)(10,"div",39)(11,"div",40)(12,"label",41),t._uU(13,"Group Name :"),t.qZA()(),t.TgZ(14,"div",42)(15,"input",43),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.groupSelectObj.DESCA=n)})("keydown.enter",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.GroupEnterCommand(n))})("keydown.Tab",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.GroupEnterCommand(n))})("keyup",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.GroupEnterCommand(n))})("keypress",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.keyPress(n))}),t.qZA()()()(),t.TgZ(16,"div",44)(17,"div",45)(18,"span",46)(19,"strong"),t._uU(20,"Note:"),t.qZA(),t._uU(21," All groups are selected if Group Name is left blank."),t.qZA()(),t.TgZ(22,"div",42)(23,"button",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onExport())}),t._uU(24,"Export"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(15),t.Q6J("ngModel",e.groupSelectObj.DESCA)}}const No={mouse:{dblClick:(r,c,e)=>{c.hasChildren&&x.iM.TOGGLE_EXPANDED(r,c,e)},click:(r,c,e)=>{e.shiftKey?x.iM.TOGGLE_ACTIVE_MULTI(r,c,e):x.iM.TOGGLE_SELECTED(r,c,e)}},keys:{[x.tW.ENTER]:(r,c,e)=>c.setActiveAndVisible()}},Uo=[{path:"",component:(()=>{class r extends W.c{constructor(e,o,n,i,s,l,u,_,g,b){super(o),this._alertService=e,this.injector=o,this.MasterRepo=n,this._authService=i,this.ProductService=s,this.setting=l,this._spinnerservice=u,this.alertService=_,this.router=g,this.cdref=b,this._treeEnable=!0,this.sortByDateFilter="",this.nodes=[],this.source=new I.nC,this.ProductHomeTabs=[],this.loadListSubject=new h.xQ,this.loadList$=this.loadListSubject.asObservable(),this.homeTab={},this.menudata=[],this.userProfile={},this.reportHeaders=["Product Code123","Product Name123","Mother Pack","Brand","Business Unit","Base Unit","Weight","Unit","Shelf Life","Description","Status","Alternate Unit","Conversion Factor","MRP","Selling Price","Approval"],this.reportBody=["MENUCODE","DESCA","MotherPack33","Brand","BusinessUnit","BASEUNIT","GWEIGHT","Weighable","SHELFLIFE","Description","STATUS","ALTUNIT","CONFACTOR","MRP","SellingPrice","APPROVAL"],this.reportData=[],this.productGroupList=[],this.productListByID=[],this.selectMultiItems=0,this.itemPerPage=15,this.pages=1,this.groupListCurrentPage=1,this.totalCount=new t.vpe,this.multiselectPopupSettings=new k.oe,this.selectGroupForExport=!1,this.groupSelectObj={DESCA:"",MCODE:{}},this.listForExport=[],this.items=[],this.asyncChildren=[{name:"child2.1",subTitle:"new and improved"},{name:"child2.2",subTitle:"new and improved2"}],this.customTemplateStringOptions={isExpandedField:"expanded",idField:"uuid",getChildren:this.getChildren.bind(this),actionMapping:No,allowDrag:!1},this.contextMenuActions=[{html:m=>"Edit",tag:"edit",enabled:m=>!0,visible:m=>!0},{divider:!0,visible:!0},{html:m=>"Delete",tag:"delete",enabled:m=>!0,visible:m=>!0}],this.isMainParentNodeClicked=!0,this.userProfile=this._authService.getUserProfile(),this.orgType=this.userProfile.CompanyInfo.ORG_TYPE;try{this.AppSettings=this.setting.appSetting,this.InilizedProductObj(),this.source=this.source=new I.zV(this._http,{endPoint:`${this.apiUrl}/GetAllProduct`,dataKey:"data",pagerPageKey:"currentPage",pagerLimitKey:"maxResultCount"}),this.onMenuClick("productlist")}catch(m){this._alertService.error(m)}this.MasterRepo.isAddFormShown_1=!1}get treeEnable(){return this._treeEnable}set treeEnable(e){this._treeEnable=e}onsortByDate(e){this.sortByDateFilter=e}ngOnInit(){this.MasterRepo.isTreeNodeClicked=!1,this.isMainParentNodeClicked=!0,this.MasterRepo.isAddFormShown_1=!1}ngAfterContentInit(){try{this.cdref.detectChanges()}catch(e){alert(e)}}ngOnDestroy(){this.MasterRepo.productLists=[],this.MasterRepo.productGroupLists=[],this.MasterRepo.groupSelectObj={},this.MasterRepo.prodAttSearchObj={},this.MasterRepo.subGroupAList=[],this.MasterRepo.subGroupBList=[],this.MasterRepo.subGroupCList=[],this.selectedGroupInfo=void 0,this.MasterRepo.groupSelectObj.MGROUP="",this.MasterRepo.SelectedProductGrpID="",this.MasterRepo.TreeID=""}InilizedProductObj(){this.ProductService.productObj={},this.ProductService.productObj.Par={},this.ProductService.productObj.MajorGroup={},this.ProductService.productObj.ItemRateDiscount={},this.ProductService.productObj.MultiStockLevels=[],this.ProductService.productObj.VAT=0}getChildren(e){try{return new Promise((o,n)=>{setTimeout(()=>o(this.asyncChildren.map(i=>Object.assign({},i,{hasChildren:e.level<5}))),1e3)})}catch(o){this._alertService.error(o)}}addNode(e){try{null==this.tree.treeModel.getFocusedNode()?this.tree.treeModel.nodes.push(e):this.tree.treeModel.getFocusedNode().data.children.push(e),this.tree.treeModel.update()}catch(n){this._alertService.error(n)}}childrenCount(e){try{return e&&e.children?`(${e.children.length})`:""}catch(o){this._alertService.error(o)}}filterNodes(e,o){try{o.treeModel.filterNodes(e,!0)}catch(n){this._alertService.error(n)}}activateSubSub(e){try{e.treeModel.getNodeById("PRG57952").setActiveAndVisible()}catch(o){this._alertService.error(o)}}onEvent(e){}searchItemEmitEvent(e){this.activateSubSub(this.tree),null!=this.tree.treeModel.getNodeById("PRG4047P")&&this.tree.treeModel.getNodeById("PRG4047P")}AddItem(){}onselect(e,o){try{this.source=new I.nC,this.selectedNode=e.treeModel.getFocusedNode().data,this.loadListSubject.next(this.selectedNode)}catch(n){console.log(n),this._alertService.error(n)}}go(e){try{e.stopPropagation()}catch(o){this._alertService.error(o)}}onTreeEnable(e){try{this.treeEnable=e}catch(o){this._alertService.error(o)}}onMenuClick(e){if(this.MasterRepo.showGroupHierarchy=!1,this.MasterRepo.showAllProductClick=!1,"productlist"!=e){if(0==this.MasterRepo.checkUserRights("add","productmaster"))return;let i=this.MasterRepo.checkIsBranch();if(console.log("isbranch",i),0==i)return void this.alertService.warning("Cannot add product from branch office")}"addproduct"==e&&this.MasterRepo.userSetting.ITEMGROUPCODELEVEL>this.MasterRepo.ITEM_LEVEL?this._alertService.info("Cannot Add Product In This Level!!"):"addSubgroup"==e&&(console.log("checking item level",this.MasterRepo.userSetting.ITEMGROUPCODELEVEL,this.MasterRepo.subGroupLevel),console.log("masterrepo",this.MasterRepo),this.MasterRepo.subGroupLevel>=5)?this._alertService.warning("Cannot add sub group in this level"):(this.homeTab.name=e,this.homeTab.selectedNode=this.selectedNode,this.homeTab.mode="productlist"==e?"List":"add",this.homeTab.active=!0,this.ProductHomeTabs=[],this.ProductHomeTabs.push(this.homeTab),this.groupType=e,this.MasterRepo.isAddFormShown_1=!0,"addgroup"==e?this.MasterRepo.modeIs="Add Main Group":"addSubgroup"==e?this.MasterRepo.modeIs="Add Sub Group":"addproduct"==e&&(this.MasterRepo.modeIs="Add Product",this.MasterRepo.disabledSubgroupA=!0,this.MasterRepo.disabledSubgroupB=!0,this.MasterRepo.disabledSubgroupC=!0,this.MasterRepo.disableOnCheckTran=!1,this.MasterRepo.addproduct=!0),console.log("home tab obj",this.homeTab))}activeTabEmitEvent(e){if(console.log("active tab emit event",e),this.ProductHomeTabs=[],this.modeForHideAddProduct=e.mode,console.log("home mode",this.modeForHideAddProduct),"addgroup"==e.name?this.MasterRepo.modeIs=(e.mode?e.mode.charAt(0).toUpperCase()+e.mode.substr(1).toLowerCase():"")+" Main Group":"addSubgroup"==e.name?this.MasterRepo.modeIs=(e.mode?e.mode.charAt(0).toUpperCase()+e.mode.substr(1).toLowerCase():"")+" Sub Group":"addproduct"==e.name&&(this.MasterRepo.modeIs=(e.mode?e.mode.charAt(0).toUpperCase()+e.mode.substr(1).toLowerCase():"")+" Product"),e.mode||(this.MasterRepo.modeIs=void 0),this.ProductHomeTabs.push(e),null!=e.savedValue&&"add"==e.mode){if("group"==e.from)this.addNode({id:e.savedValue.MCODE,name:e.savedValue.DESCA,menucode:e.savedValue.MENUCODE,children:[]}),this.InilizedProductObj();else if("product"==e.from){this.MasterRepo.PartialProductList.push({MCODE:e.savedValue.MCODE,MENUCODE:e.savedValue.MENUCODE,DESCA:e.savedValue.DESCA,BASEUNIT:e.savedValue.BASEUNIT,PARENT:e.savedValue.PARENT});var o=this.MasterRepo.PartialProductList.filter(i=>i.PARENT==this.selectedNode.id);o.length>0&&this.source.load(o),this.InilizedProductObj()}}else if(null!=e.savedValue&&"edit"==e.mode)if("product"==e.from){let n={MCODE:e.savedValue.MCODE,MENUCODE:e.savedValue.MENUCODE,DESCA:e.savedValue.DESCA,BASEUNIT:e.savedValue.BASEUNIT,PARENT:e.savedValue.PARENT};this.MasterRepo.PartialProductList.splice(this.MasterRepo.PartialProductList.findIndex(i=>i.MCODE==n.MCODE),1),this.MasterRepo.PartialProductList.push(n)}else"group"==e.from&&this.MasterRepo.ProductGroupTree.length>0&&(this.loopingtreeForEdit(this.MasterRepo.ProductGroupTree,e.savedValue.MCODE,e.savedValue.DESCA),this.nodes=this.MasterRepo.ProductGroupTree)}loopingtreeForEdit(e,o,n){for(let i of e){if(i.id==o){i.name=n;break}this.loopingtreeForEdit(i.children,o,n)}}contextMenuClick(e,o){if("edit"==o.tag){let n={name:"addgroup"};n.selectedEditNode=e,n.mode="edit",n.active=!0,this.ProductHomeTabs=[],this.ProductHomeTabs.push(n)}}fileEvent(e){let o=e.target.files;if(o.length>0){let n=o[0],i=new FormData;i.append("uploadFile",n,n.name),this.ProductService.getUploadFile(i)}}getTreeNodeValue(e){this.MasterRepo.pagesubject.next(1),this.MasterRepo.ProdGroupSubject.next(1),this.pages=1,this.MasterRepo.currentPage=1,this.getTreeNodeValueObj=e,console.log("getTreeNOdeValue",this.getTreeNodeValueObj),this.MasterRepo.isTreeNodeClicked=!0,this.MasterRepo.TreeID=e.mgroup,this.MasterRepo.SelectedProductPrarentID=e.parentId,this.MasterRepo.SelectedProductGrpID=e.id,this.MasterRepo.subGroupLevel=e.LEVELS,"PRG99999999"==e.menucode?(this.isMainParentNodeClicked=!0,this.MasterRepo.isMainGroup=!0):(this.isMainParentNodeClicked=!1,this.MasterRepo.isMainGroup=!1),console.log("product list load dynamic attributes",e),this.ProductService.getProductGroupListByID(e.id,e.parentId,e.children,this.groupListCurrentPage,this.itemPerPage).subscribe(o=>{console.log("profut group",o),this.productGroupList=o.result.result,this.MasterRepo.productGroupLists=o.result.result,this.MasterRepo.productGroupSearchTotalCount=o.result.totalCount,this.totalCount.emit(o.result.totalCount),this.MasterRepo.filter="",this.MasterRepo.filters="",console.log("master grp totalcount",this.MasterRepo.productGroupSearchTotalCount),console.log("profut group list from master repo",this.MasterRepo.productGroupLists),this.MasterRepo.ITEM_LEVEL=o.result2&&o.result2[0].ITEM_LEVEL}),this.ProductService.getProductListByID(e.id,e.parentId,e.children,this.MasterRepo.currentPage,this.itemPerPage).subscribe(o=>{this.productListByID=o.result,console.log(this.productListByID),this.MasterRepo.productLists=o.result,this.MasterRepo.productSearchTotalCount=o.totalCount,console.log("list",this.MasterRepo.productSearchTotalCount)}),console.log("get sub group a list",e.id,e.parentId),"PRG99999999"==e.parentId&&this.ProductService.getSubGroupList(e.id).subscribe(o=>{o.length>0?(this.MasterRepo.subGroupAList=o,this.MasterRepo.groupSearchObj.SUBGROUP_A="",this.MasterRepo.groupSearchObj.SUBGROUP_B="",this.MasterRepo.groupSearchObj.SUBGROUP_C="",this.MasterRepo.groupSearchObj.SUBGROUP_D=""):(this.MasterRepo.subGroupAList=[],this.MasterRepo.groupSearchObj.SUBGROUP_A="",this.MasterRepo.groupSearchObj.SUBGROUP_B="",this.MasterRepo.groupSearchObj.SUBGROUP_C="",this.MasterRepo.groupSearchObj.SUBGROUP_D="")})}getSelectedGroupInfo(e){console.log("selected group info in product.ts",e),this.selectedGroupInfo=e}excelReportNameProvide(){return"productmaster-report"}ExportReportInExcel(){this.selectGroupForExport=!0}onExport(){this._spinnerservice.show("Downloading product master report, Please wait..."),""==this.groupSelectObj.DESCA&&(this.listForExport=[]),this.MasterRepo.getExcelFileForDynamicAttributes(this.listForExport).subscribe(o=>{this._spinnerservice.hide();let n=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});console.log("blob1",n,o),$.saveAs(n,"Product Master.xlsx")},o=>{this._spinnerservice.hide()}),this.closeGroupModal()}GroupEnterCommand(e){this.getGroupList(),this.multiselectGenericGrid.show()}getGroupList(){this.multiselectPopupSettings=this.MasterRepo.getGenericGridPopUpSettings("GroupsList")}onMultiItemSelected(e){console.log("group mulitple selected",e),this.groupSelectObj.DESCA=e.DESCA,this.items=e.MCODE.split(","),this.groupSelectObj.MCODE=this.items,this.items.forEach(o=>{this.listForExport.push({mcode:o})}),console.log(this.items,this.listForExport)}closeGroupModal(){this.selectGroupForExport=!1,this.groupSelectObj.DESCA="",this.listForExport=[]}excelDownloadFromHtml_manualTable(e){try{this.reportData=this.menudata[0];let u='<table style="border: thin solid black;">  <thead>   <tr>';for(let _ of this.reportHeaders)u+='<th style="border: thin solid black;">'+_+"</th>";u+="</tr> </thead>",u+="<tbody>";for(let _ of this.reportData){u+="<tr>";for(let g of this.reportBody){var o=_[g];null==o&&(o=""),u+='<td style="border: thin solid black;">'+o+"</td>"}}u+="</tbody></table>";var i=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),s=URL.createObjectURL(i),l=document.createElement("a");l.href=s,l.download=this.excelReportNameProvide()+".xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(u){alert(u)}}onCancel(){try{this.routeToHome()}catch(e){this._alertService.error(e)}}routeToHome(e=null,o=null){let n={name:"productlist",active:!0};n.mode=o,n.from="product",n.savedValue=e,this.MasterRepo.groupSelectObj={},this.MasterRepo.subGroupAList=[],this.MasterRepo.subGroupBList=[],this.MasterRepo.subGroupCList=[],this.selectedGroupInfo=void 0,this.MasterRepo.groupSelectObj.MGROUP="",this.MasterRepo.SelectedProductGrpID="",this.MasterRepo.TreeID="",this.MasterRepo.onProductEdit=!1,this.MasterRepo.onProductView=!1,this.MasterRepo.addproduct=!1,this.MasterRepo.groupSearchObj={},this.MasterRepo.prodAttSearchObj={},this.activeTabEmitEvent(n),this.ProductService.productObj={},this.MasterRepo.isAddFormShown_1=!1,console.log("group select",this.ProductService.groupSelectObj)}Delete(){this.MasterRepo.checkUserRights("delete","productmaster")&&confirm("Do you want to delete?")&&(this.alertService.info("Deleting data, Please wait."),this.ProductService.deleteMenuitem(this.MasterRepo.ProductMcode,this.MasterRepo.isGroup).subscribe(e=>{console.log("@@res",e),"ok"==e.status?(this.MasterRepo.updateBrandTreeSubject.next(e),this.ProductService.productObj={},this.MasterRepo.isAddFormShown_1=!1,setTimeout(()=>{1==this.MasterRepo.isGroup&&this.alertService.hide(),this._alertService.success(e.result),this.routeToHome()},1e3),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.MasterRepo.currentPage,this.itemPerPage).subscribe(o=>{this.productListByID=o.result,this.MasterRepo.productLists=o.result}),this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage).subscribe(o=>{this.MasterRepo.productGroupLists=o.result.result})):"error"==e.staus&&this.alertService.info(e.result)}))}productListWhileLoad(){let e="PRG99999999";this.ProductService.getProductListByID(e,"MI",53,this.MasterRepo.currentPage,10).subscribe(i=>{this.productListByID=i.result,this.MasterRepo.productLists=i.result,this.MasterRepo.productSearchTotalCount=i.totalCount}),this.ProductService.getProductGroupListByID(e,"MI",53,this.groupListCurrentPage,10).subscribe(i=>{this.MasterRepo.productGroupLists=i.result.result,this.MasterRepo.productGroupSearchTotalCount=i.result.totalCount})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(T.c),t.Y36(t.zs3),t.Y36(f.P),t.Y36(S.e),t.Y36(C),t.Y36(v.R),t.Y36(w.V),t.Y36(T.c),t.Y36(P.F0),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["products-dynamic-attributes"]],viewQuery:function(e,o){if(1&e&&(t.Gf(x.qr,5),t.Gf(To,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.tree=n.first),t.iGM(n=t.CRH())&&(o.multiselectGenericGrid=n.first)}},outputs:{totalCount:"totalCount"},features:[t._Bn([C,S.e]),t.qOj],decls:21,vars:12,consts:[[1,"row"],[1,"col-md-6"],[2,"white-space","nowrap","font-family","Segoe UI Light","font-weight","bold","font-size","20px","padding-left","4%","width","192px"],["style","font-size: 14px;width: 130px;padding-top: 13px;",4,"ngIf"],[1,"col",2,"padding-right","34px"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],["class","btn btn-info pull-right","style","font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","margin-left: 5px;font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","margin-left: 5px;font-size: 12px;",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","font-size: 12px;",3,"click",4,"ngIf"],["type","button","id","productreset","class","btn btn-info pull-right","style","font-size: 12px;",3,"click",4,"ngIf"],["class","col-md-3","style","padding: 0;",4,"ngIf"],["class","col-md-3","style","padding: 0px;",4,"ngIf"],["class","col-md-9","style","margin-top:-0",4,"ngIf"],[4,"ngIf"],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[2,"font-size","14px","width","130px","padding-top","13px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],["type","button",1,"btn","btn-info","pull-right",2,"margin-left","5px","font-size","12px",3,"click"],["type","button",1,"btn","btn-info","pull-right",2,"margin-left","5px","font-size","12px",3,"disabled","click"],["type","button",1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],["type","button","id","productreset",1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"col-md-3",2,"padding","0"],[3,"selectedGroup","selectedGroupInfo"],[1,"col-md-3",2,"padding","0px"],[3,"brandsortByDateFilter","isAddFormShown","selectedNode","selectedGroupInfo"],[1,"col-md-9",2,"margin-top","-0"],["style","margin-left: 1.5vw;",4,"ngIf"],[3,"source","productObj","ProductHomeTabs","groupType","getTreeNodeValueObj","selectedGroupInfo","productGroupList","productListByID","isAddFormShown","itemPerPage","pages","groupListCurrentPage","sortByDateEmit","activeTabEmit"],[2,"margin-left","1.5vw"],[3,"selectedGroup"],[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","20px","margin-right","8rem"],[1,"modal-content","modal-content-main-area",2,"width","70%"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row",2,"margin","0.5rem"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Group List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer"],[1,"col-9"],[2,"font-size","12px"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px","margin-right","20px","float","right",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"PRODUCT MASTER"),t.qZA(),t.YNc(4,Po,2,1,"label",3),t.qZA(),t.TgZ(5,"div",4)(6,"button",5),t._uU(7," Back "),t.qZA(),t.YNc(8,Oo,2,0,"button",6),t.YNc(9,Ao,2,0,"button",7),t.YNc(10,Mo,2,1,"button",8),t.YNc(11,So,2,1,"button",8),t.YNc(12,vo,2,0,"button",9),t.YNc(13,Eo,2,0,"button",10),t.qZA()(),t.TgZ(14,"div",0),t.YNc(15,xo,2,0,"div",11),t.YNc(16,Io,2,2,"div",12),t.YNc(17,Ro,3,13,"div",13),t.qZA(),t.YNc(18,yo,25,1,"div",14),t.TgZ(19,"multiselect-generic-grid",15,16),t.NdJ("onItemsSelected",function(i){return o.onMultiItemSelected(i)}),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",o.MasterRepo.modeIs),t.xp6(4),t.Q6J("ngIf","productlist"==o.ProductHomeTabs[0].name),t.xp6(1),t.Q6J("ngIf","view"!==o.modeForHideAddProduct&&"edit"!==o.modeForHideAddProduct&&"Add Product"!==o.MasterRepo.modeIs),t.xp6(1),t.Q6J("ngIf","view"!==o.modeForHideAddProduct&&"edit"!==o.modeForHideAddProduct&&"Add Product"!==o.MasterRepo.modeIs),t.xp6(1),t.Q6J("ngIf","view"!==o.modeForHideAddProduct&&"edit"!==o.modeForHideAddProduct&&"Add Product"!==o.MasterRepo.modeIs),t.xp6(1),t.Q6J("ngIf","productlist"!=o.ProductHomeTabs[0].name&&"view"==o.modeForHideAddProduct),t.xp6(1),t.Q6J("ngIf","productlist"!=o.ProductHomeTabs[0].name),t.xp6(2),t.Q6J("ngIf","Add Product"!=o.MasterRepo.modeIs&&"Edit Product"!=o.MasterRepo.modeIs&&"View Product"!=o.MasterRepo.modeIs),t.xp6(1),t.Q6J("ngIf","Add Product"==o.MasterRepo.modeIs||"Edit Product"==o.MasterRepo.modeIs||"View Product"==o.MasterRepo.modeIs),t.xp6(1),t.Q6J("ngIf",0==o.MasterRepo.showGroupHierarchy),t.xp6(1),t.Q6J("ngIf",o.selectGroupForExport),t.xp6(1),t.Q6J("popupsettings",o.multiselectPopupSettings))},dependencies:[p.O5,a.Fj,a.JJ,a.On,P.rH,D.G,k.ky,no,bo,fo],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#3d3c3c80;z-index:9999}"]}),r})()},{path:"add-productmaster",component:V},{path:"add-product-group",component:H}];let jo=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[P.Bz.forChild(Uo),P.Bz]}),r})();var Go=d(63321),Zo=d(59629),ko=d(93247),Do=d(39773),Lo=d(43583),Bo=d(53181),Fo=d(71259),qo=d(53158),Jo=d(47766),Vo=d(87584),Ho=d(91916);let Qo=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[S.e,F.P,q.u,Vo.p],imports:[x.xc,p.ez,a.u5,jo,a.UX,Lo.m.forRoot(),Go._.forRoot(),Zo.Z,I.ne,ko.D,Do.X.forRoot(),G.JX,Bo.Is,Fo.Z.forRoot(),qo.i.forRoot(),E.Jo,Jo.e,Ho.x.forRoot()]}),r})()}}]);