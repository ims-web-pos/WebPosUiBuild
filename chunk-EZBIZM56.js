import{a as Z}from"./chunk-P4TCX2ZY.js";import{$ as V,Y as w,Z as R,_ as c,aa as z,ba as B,ea as G,ga as L,ha as j,ia as H,ja as U,ka as q,la as $,ma as J,pa as K,ra as Q,sa as W,ta as y,ua as X,za as Y}from"./chunk-YAXADU3R.js";import{j as T,l as P}from"./chunk-7NLJT2D3.js";import"./chunk-XAZLOLJU.js";import{$a as s,Ab as S,Bb as v,Cb as e,Db as t,Eb as a,F as E,Fb as O,Gb as M,Jc as D,Lb as g,Lc as k,O as A,Pc as I,Vb as i,Wb as u,_a as m,bc as h,ka as f,pb as N,tb as p,xc as _,yb as b,z as F}from"./chunk-ZOAWYHVV.js";var C=class l{constructor(o){this.tableFetchService=o}menutableColumns=_(()=>[...this.tableFetchService.tableColumns(),{header:"ACTION",def:"ACTION"}]);menutableData=_(()=>this.tableFetchService.tableData());ngOnInit(){this.tableFetchService.getTableData("getAllAppSetting"),this.tableFetchService.selectedTab.set("app-setting-form")}static \u0275fac=function(r){return new(r||l)(s(y))};static \u0275cmp=f({type:l,selectors:[["app-app-setting-reg"]],standalone:!0,features:[h],decls:9,vars:4,consts:[[1,"container","mt-3"],[1,"heading","fw-bold","fs-5"],[1,"border-bottom","border-secondary"],[1,"container","d-flex","flex-column","flex-grow-1"],[1,"row"],[1,"col-md-6","mt-2","ms-auto"],[3,"columns","dataSource"]],template:function(r,n){r&1&&(e(0,"div",0)(1,"h5",1),i(2,"App Setting Configuration"),t()(),a(3,"div",2),e(4,"div",3)(5,"div",4)(6,"div",5),a(7,"app-generic-filter",6),t()(),a(8,"app-generic-table",6),t()),r&2&&(m(7),p("columns",n.menutableColumns())("dataSource",n.menutableData()),m(),p("columns",n.menutableColumns())("dataSource",n.menutableData()))},dependencies:[Y,X]})};function ne(l,o){if(l&1&&(e(0,"tr"),O(1,56),e(2,"td"),a(3,"input",57),t(),e(4,"td"),a(5,"input",58),t(),M(),t()),l&2){let r=o.index;m(),p("formGroupName",r)}}function oe(l,o){if(l&1&&(e(0,"option",49),i(1),t()),l&2){let r=o.$implicit;p("value",r.ID),m(),u(r.Module)}}function re(l,o){if(l&1&&(e(0,"option",49),i(1),t()),l&2){let r=o.$implicit;p("value",r.ID),m(),u(r.Category)}}function ae(l,o){if(l&1&&(e(0,"option",49),i(1),t()),l&2){let r=o.$implicit;p("value",r.ID),m(),u(r.SubCategory)}}var x=class l{constructor(o,r,n,d,le,me,pe){this.tableFetchService=o;this.fb=r;this.apiService=n;this.route=d;this.router=le;this.location=me;this.snackBarService=pe}settingsForm=new B({});formHeading="App Setting Registration ";featureMapping;loading=!1;mode="add";appSettingData;category;module;subcategory;ngOnInit(){this.getData(),this.route.queryParams.subscribe(o=>{let r=o.mode,n=o.id;r&&n&&(r==="view"&&(this.mode="view"),r==="edit"&&(this.mode="edit"),this.getViewApi("getAppSettingByName",n))}),this.formInitializer()}formInitializer(){this.settingsForm=this.fb.group({mode:[this.mode],data:this.fb.group({settingName:[this.appSettingData?.SettingName||"",c.required],displayName:[this.appSettingData?.DisplayName||"",c.required],description:[this.appSettingData?.Description||"",c.required],dataType:[this.appSettingData?.DataType||"",c.required],dataSize:[this.appSettingData?.DataSize||""],options:this.fb.array([]),isUserConfigurable:[this.appSettingData?.isUserConfigurable||""],defaultValue:[this.appSettingData?.DefaultValue||"",c.required],disablingValue:[this.appSettingData?.DisablingValue||"",c.required],features_Header:[this.appSettingData?.Features_Header||""],features_HelpLink:[this.appSettingData?.Features_HelpLink||""],Category:[this.appSettingData?.Category||""],SubCategory:[this.appSettingData?.SubCategory||""],sn:[this.appSettingData?.SN||""]})}),this.addOption(),this.mode=="view"&&this.settingsForm.disable()}getData(){F({category:this.apiService.get("getCategory"),subCategory:this.apiService.get("getSubCategory"),module:this.apiService.get("getModule")}).subscribe(o=>{console.log(o),o.category?.result?.length>0&&(this.category=o.category.result),o.subCategory?.result?.length>0&&(this.subcategory=o.subCategory.result),o.module?.result?.length>0&&(this.module=o.module.result)})}get(o,r){this.apiService.get(o,r).subscribe(n=>{n?.result&&n.result.length>0&&(this.featureMapping=n.result,console.log("res",n.result))})}getViewApi(o,r){r={settingName:r},this.apiService.get(o,r).subscribe(n=>{n?.result&&n.result.length>0&&(this.appSettingData=n.result[0],this.formInitializer())})}addOption(){if(this.mode==="view"||this.mode==="edit")JSON.parse(this.appSettingData?.Options||"[]")?.forEach(r=>{let n=this.fb.group({key:[r?.Key||""],value:[r?.Value||""]});this.options.push(n)});else{let o=this.fb.group({key:[""],value:[""]});this.options.push(o)}}get options(){return this.settingsForm.get("data.options")}removeOption(o){this.options.removeAt(o)}fieldChange(){this.settingsForm.get("data")?.get("dataType")?.value==="List"?(this.options.enable(),this.settingsForm.get("data.dataSize")?.disable(),this.settingsForm.get("data.dataSize")?.reset()):(this.options.disable(),this.options.reset(),this.settingsForm.get("data.dataSize")?.enable())}submit(){this.settingsForm.get("data.dataType")?.value!=="List"&&this.settingsForm.get("data.options").clear();let o=this.settingsForm.get("data")?.get("isUserConfigurable")?.value;this.settingsForm.get("data")?.get("isUserConfigurable")?.setValue(o?"true":"false");let r=this.settingsForm.getRawValue();this.settingsForm.valid&&this.apiService.post("saveAppSetting",r).pipe(A(()=>this.loading=!1)).pipe(E(n=>(this.snackBarService.showError("Error while saving App Setting Configuration!!"),n))).subscribe(n=>{console.log(n),this.router.navigate(["/app-setting-reg"]),this.snackBarService.showSuccess("App Setting Saved Successfully")})}goBack(){this.location.back()}static \u0275fac=function(r){return new(r||l)(s(y),s(K),s(W),s(T),s(P),s(D),s(Z))};static \u0275cmp=f({type:l,selectors:[["app-app-setting-reg-form"]],standalone:!0,features:[h],decls:145,vars:6,consts:[[1,"my-1","d-flex","justify-content-between","align-items-center"],[1,"col-md-6","px-0"],[1,"mb-0","heading"],[1,"pe-5","col-md-6","d-flex","justify-content-end"],["id","save",1,"btn","me-2","px-4",3,"click","disabled"],["id","back",1,"btn","px-4",3,"click"],[1,"border-bottom","mb-3"],[1,"container"],[3,"ngSubmit","formGroup"],[1,"container",3,"formGroupName"],[1,"row","mb-2"],[1,"col-12","col-md-2"],["for","mainMenu",1,"form-label"],[1,"star"],[1,"col-12","col-md-5"],["type","text","id","mainMenu","formControlName","settingName","autocomplete","off",1,"form-control","px-2","py-1"],["for","subMenu",1,"form-label"],[1,"col-12","col-md-6"],["type","text","id","mainMenu","formControlName","displayName",1,"form-control","px-2","py-1"],["type","text","id","mainMenu","formControlName","features_Header",1,"form-control","px-2","py-1"],["for","parentMenu",1,"form-label"],["type","textarea","formControlName","description",1,"form-control","px-2","py-1"],["for","menuIndex",1,"form-label"],[1,"col-12","col-md-3"],["id","category","formControlName","dataType",1,"form-select","px-2","py-1",3,"change"],["value","Number"],["value","Boolean"],["value","List"],["value","Text"],[1,"col-12","col-md-auto","ps-2","pe-2"],["for","dataSize",1,"form-label"],["type","text","id","dataSize","formControlName","dataSize",1,"form-control","px-2","py-1"],["for","category",1,"form-label"],[1,"col-11","col-md-6"],[1,"option-table"],["formArrayName","options"],[4,"ngFor","ngForOf"],[1,"col-1","d-flex","flex-column","align-items-start","p-0"],["type","button",1,"dialog-button","mt-auto",3,"click","disabled"],["src","assets/images/addButton.png","alt","addicon"],["for","subCategory",1,"form-label"],[1,"col-11","col-md-3"],["type","text","id","Icon","formControlName","defaultValue",1,"form-control","px-2","py-1"],[1,"col-1","col-md-auto","ps-1","mt-1"],["type","checkbox","for","UserConfiguration","formControlName","isUserConfigurable"],[1,"col-1","col-md-4","p-0","mt-1"],["for","modules",1,"form-label"],["type","text","id","Icon","formControlName","disablingValue",1,"form-control","px-2","py-1"],["id","modules",1,"form-select","px-2","py-1"],[3,"value"],["id","modules","formControlName","Category",1,"form-select","px-2","py-1"],["id","modules","formControlName","SubCategory",1,"form-select","px-2","py-1"],["for","Icon",1,"form-label"],["type","text","id","Icon","formControlName","features_HelpLink",1,"form-control","px-2","py-1"],["type","text","id","Icon","formControlName","sn",1,"form-control","px-2","py-1"],[1,"footer","mb-1"],[3,"formGroupName"],["formControlName","key"],["formControlName","value"]],template:function(r,n){if(r&1&&(e(0,"div",0)(1,"div",1)(2,"h4",2),i(3),t()(),e(4,"div",3)(5,"button",4),g("click",function(){return n.submit()}),i(6,"SAVE"),t(),e(7,"button",5),g("click",function(){return n.goBack()}),i(8,"BACK"),t()()(),a(9,"div",6),e(10,"div",7)(11,"form",8),g("ngSubmit",function(){return n.submit()}),e(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12),i(16,"Setting Name:"),e(17,"span",13),i(18,"*"),t()()(),e(19,"div",14),a(20,"input",15),t()(),e(21,"div",10)(22,"div",11)(23,"label",16),i(24,"Display Names: "),e(25,"span",13),i(26,"*"),t()()(),e(27,"div",17),a(28,"input",18),t()(),e(29,"div",10)(30,"div",11)(31,"label",16),i(32,"Feature Header: "),e(33,"span",13),i(34,"*"),t()()(),e(35,"div",17),a(36,"input",19),t()(),e(37,"div",10)(38,"div",11)(39,"label",20),i(40,"Description: "),e(41,"span",13),i(42,"*"),t()()(),e(43,"div",17),a(44,"textarea",21),t()(),e(45,"div",10)(46,"div",11)(47,"label",22),i(48,"Value Type: "),e(49,"span",13),i(50,"*"),t()()(),e(51,"div",23)(52,"select",24),g("change",function(){return n.fieldChange()}),e(53,"option",25),i(54,"Number"),t(),e(55,"option",26),i(56,"Boolean"),t(),e(57,"option",27),i(58,"List"),t(),e(59,"option",28),i(60,"Text"),t()()(),e(61,"div",29)(62,"label",30),i(63,"Data Size: "),e(64,"span",13),i(65,"*"),t()()(),e(66,"div",11),a(67,"input",31),t()(),e(68,"div",10)(69,"div",11)(70,"label",32),i(71,"List Option:"),t()(),e(72,"div",33)(73,"table",34)(74,"thead")(75,"tr")(76,"th"),i(77,"Captions"),t(),e(78,"th"),i(79,"Values"),t()()(),e(80,"tbody",35),N(81,ne,6,1,"tr",36),t()()(),e(82,"div",37)(83,"button",38),g("click",function(){return n.addOption()}),a(84,"img",39),t()()(),e(85,"div",10)(86,"div",11)(87,"label",40),i(88,"Default Value: "),e(89,"span",13),i(90,"*"),t()()(),e(91,"div",41),a(92,"input",42),t(),e(93,"div",43),a(94,"input",44),t(),e(95,"div",45)(96,"label"),i(97," Is User Configuration Setting "),t()()(),e(98,"div",10)(99,"div",11)(100,"label",46),i(101,"Disabling Value"),e(102,"span",13),i(103,"*"),t()()(),e(104,"div",41),a(105,"input",47),t()(),e(106,"div",10)(107,"div",11)(108,"label",46),i(109,"Module"),e(110,"span",13),i(111,"*"),t()()(),e(112,"div",41)(113,"select",48),S(114,oe,2,2,"option",49,b),t()()(),e(116,"div",10)(117,"div",11)(118,"label",22),i(119,"Category: "),t()(),e(120,"div",23)(121,"select",50),S(122,re,2,2,"option",49,b),t()()(),e(124,"div",10)(125,"div",11)(126,"label",22),i(127,"Sub Category: "),t()(),e(128,"div",23)(129,"select",51),S(130,ae,2,2,"option",49,b),t()()(),e(132,"div",10)(133,"div",11)(134,"label",52),i(135,"Setting Header Tagging:"),t()(),e(136,"div",14),a(137,"input",53),t()(),e(138,"div",10)(139,"div",11)(140,"label",52),i(141,"Serial Number:"),t()(),e(142,"div",23),a(143,"input",54),t()()()()(),a(144,"footer",55)),r&2){let d;m(3),u(n.formHeading),m(2),p("disabled",n.mode==="view"),m(6),p("formGroup",n.settingsForm),m(),p("formGroupName","data"),m(69),p("ngForOf",n.options.controls),m(2),p("disabled",(d=n.settingsForm.get("data.options"))==null?null:d.disabled),m(31),v(n.module),m(8),v(n.category),m(8),v(n.subcategory)}},dependencies:[I,k,Q,G,$,J,R,w,q,V,z,L,U,j,H],styles:["h4[_ngcontent-%COMP%]{font-size:20px;font-weight:500}label[_ngcontent-%COMP%], input[type=select][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500}input[type=checkbox][_ngcontent-%COMP%]{line-height:normal;width:20px;height:20px}.heading[_ngcontent-%COMP%]{margin-left:8rem}.star[_ngcontent-%COMP%]{color:red}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff40;box-shadow:0 0 0 .1rem #007bff40}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:14px}#save[_ngcontent-%COMP%]{background-color:#336799;color:#fff;font-size:14px}#back[_ngcontent-%COMP%]{color:#336799;border:1px solid rgba(51,103,153,1);font-size:14px}#back[_ngcontent-%COMP%]:hover, #save[_ngcontent-%COMP%]:hover{background-color:#336899ac;color:#fff;border:none}.dialog-button[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:none}#save[_ngcontent-%COMP%]{background-color:#4081bf;color:#fff;font-size:14px;font-weight:200}#close[_ngcontent-%COMP%]{border:1px solid rgba(64,129,191,1);color:#4081bf;font-size:14px;font-weight:200}.search-button[_ngcontent-%COMP%]{background-color:#3581ca;border:none;border-radius:2px;padding:2px 8px 0;cursor:pointer;box-shadow:2px 2px 4px #717171}.option-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid rgba(22,22,22,.211)}thead[_ngcontent-%COMP%]{background-color:#b9b9b97a}.option-table[_ngcontent-%COMP%]{width:100%}.option-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none}.option-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-size:medium;font-weight:500}"]})};var ke=[{path:"",component:C},{path:"app-setting-form",component:x}];export{ke as AppSetting_routes};
