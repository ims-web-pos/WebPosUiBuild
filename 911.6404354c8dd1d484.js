"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[911],{73965:(P,S,e)=>{e.d(S,{_:()=>h});var n=e(66274),E=e(48083),t=e(76165),d=e(71180);let c=(()=>{class i{constructor(o,R,u){this.router=o,this.http=R,this.state=u;const s=this.state.getGlobalSetting("apiUrl");s&&s.length>0&&(this.apiUrl=s)}authenticateOTP(o){return this.http.get(this.apiUrl+`/authenticateOTP?OTP=${o}`)}}return i.\u0275fac=function(o){return new(o||i)(n.LFG(E.F0),n.LFG(t.eN),n.LFG(d.q))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var f=e(67311),p=e(92752),g=e(7587);function l(i,T){if(1&i){const o=n.EpF();n.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h6",5),n._uU(5,"OTP Authentication"),n.qZA()()(),n.TgZ(6,"div",6)(7,"div",7)(8,"p",8),n._uU(9," OTP Authorization is required to perform selected Action. Please enter OTP Pin to continue. "),n.qZA(),n.TgZ(10,"label"),n._uU(11,"OTP Pin:"),n.qZA(),n.TgZ(12,"input",9),n.NdJ("ngModelChange",function(u){n.CHM(o);const s=n.oxw();return n.KtG(s.otpPin=u)}),n.qZA()()(),n.TgZ(13,"div",10)(14,"div",11)(15,"button",12),n.NdJ("click",function(){n.CHM(o);const u=n.oxw();return n.KtG(u.submit())}),n._uU(16,"SUBMIT"),n.qZA(),n.TgZ(17,"button",13),n.NdJ("click",function(){n.CHM(o);const u=n.oxw();return n.KtG(u.closeDialog())}),n._uU(18,"CANCEL"),n.qZA()()()()()}if(2&i){const o=n.oxw();n.xp6(12),n.Q6J("ngModel",o.otpPin)}}let h=(()=>{class i{constructor(o,R){this.otpService=o,this.alertService=R,this.okClicked=new n.vpe,this.isActive=!1}ngOnInit(){}show(){this.isActive=!0}closeDialog(){this.isActive=!1,this.otpPin=null}submit(){this.otpService.authenticateOTP(this.otpPin).subscribe(o=>{"ok"==o.status?(this.alertService.success(o.result),setTimeout(()=>{this.okClicked.emit(!0)},2e3),this.closeDialog(),this.otpPin=null):(this.alertService.info(o),this.okClicked.emit(!1))})}}return i.\u0275fac=function(o){return new(o||i)(n.Y36(c),n.Y36(f.c))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-otp"]],outputs:{okClicked:"okClicked"},features:[n._Bn([c])],decls:1,vars:1,consts:[["class","confirmation-container",4,"ngIf"],[1,"confirmation-container"],[1,"card"],[1,"card-header",2,"background-color","lightsteelblue","padding","0.5rem 1.25rem"],[1,"row"],[2,"font-size","1.1rem"],[1,"row",2,"margin-top","1rem"],[1,"mx-4"],[2,"font-size","15px","font-weight","500"],["type","number","name","otpPin","id","otpPin",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","center"],[1,"button-group","my-4"],["type","button",1,"btn","btn-info",2,"margin-right","2px","width","75px","font-size","12px",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",2,"margin-right","2px","width","75px","font-size","12px",3,"click"]],template:function(o,R){1&o&&n.YNc(0,l,19,1,"div",0),2&o&&n.Q6J("ngIf",R.isActive)},dependencies:[p.O5,g.Fj,g.wV,g.JJ,g.On],styles:[".confirmation-container[_ngcontent-%COMP%]{position:fixed!important;transform:translate(-50px,-50px);background:#ffffff;z-index:99999;width:33%;top:33%;left:37%}label[_ngcontent-%COMP%]{font-size:14px;font-weight:550}input[_ngcontent-%COMP%]{width:70%}.button-group[_ngcontent-%COMP%]{position:absolute}.card[_ngcontent-%COMP%]{height:15rem;border:2px solid slategray}"]}),i})()},52103:(P,S,e)=>{e.d(S,{l:()=>u});var n=e(19102),E=e(87584),t=e(66274),d=e(64069),c=e(67311),f=e(14970),p=e(92752),g=e(48083),l=e(7587),h=e(28698),i=e(73965);const T=["genericGridAcc"],o=["OtpPopup"];function R(s,_){if(1&s){const C=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"label",18),t._uU(3),t.qZA(),t.TgZ(4,"input",19),t.NdJ("keydown.enter",function(r){const a=t.CHM(C),N=a.index,m=a.$implicit,O=t.oxw();return t.KtG(O.accEnterCommand(r,N,m))})("ngModelChange",function(r){const N=t.CHM(C).$implicit;return t.KtG(N.ACNAME=r)}),t.qZA()()()}if(2&s){const C=_.$implicit;t.xp6(3),t.hij("",C.Caption,":"),t.xp6(1),t.Q6J("disabled","OPTIONAL"!=C.STATUS)("ngModel",C.ACNAME)}}let u=(()=>{class s{constructor(C,A,r){this.taxConfigService=C,this.alertService=A,this.spinnerService=r,this.gridPopupSettingsForAcc=new n.sG,this.spinnerService.show("Loading data...."),this.taxList=this.taxConfigService.taxList(),this.taxConfigService.getTaxConfigChargesList().subscribe(a=>{a&&(this.spinnerService.hide(),this.listfromapi=a?.result,this.taxList.forEach(N=>{const m=this.listfromapi.findIndex(O=>O?.PARTICULARS===N?.PARTICULARS);m>-1&&(N.TRNAC=this.listfromapi[m]?.TRNAC,N.ACNAME=this.listfromapi[m]?.ACNAME)}))},a=>{this.spinnerService.hide(),this.alertService.error(a.error)})}ngOnInit(){}onSave(){this.OtpPopup.show()}getAccList(){this.gridPopupSettingsForAcc={title:"Account List",apiEndpoints:"/getAccountPagedListByMapId/Master/Party Payment Expense",defaultFilterIndex:0,useDefinefilterValue:"",columns:[{key:"ACID",title:"AC CODE",hidden:!1,noSearch:!1},{key:"ACNAME",title:"A/C NAME",hidden:!1,noSearch:!1}]}}accEnterCommand(C,A,r){this.selectedIndex=A,this.taxConfigService.checkTaxConfigCharge(r.TRNAC).subscribe(a=>{console.log("result",a),"ok"==a.status?(this.getAccList(),this.genericGridAcc.show()):this.alertService.error("This account is already used in Transaction. It cannot be updated/deleted!")})}onAccSelected(C){C&&null!==this.selectedIndex&&(this.taxList[this.selectedIndex].ACNAME=C.ACNAME,this.taxList[this.selectedIndex].TRNAC=C.ACID)}confirmationOkClicked(C){1==C?1==confirm("Are you sure you want to save?")&&this.taxConfigService.saveTaxConfigCharges(this.taxList).subscribe(A=>{"ok"==A.status?this.alertService.success(A.result):this.alertService.error(A.result)}):this.alertService.error("OTP Invalid")}}return s.\u0275fac=function(C){return new(C||s)(t.Y36(d.H),t.Y36(c.c),t.Y36(f.V))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-tax-config-view"]],viewQuery:function(C,A){if(1&C&&(t.Gf(T,5),t.Gf(o,5)),2&C){let r;t.iGM(r=t.CRH())&&(A.genericGridAcc=r.first),t.iGM(r=t.CRH())&&(A.OtpPopup=r.first)}},features:[t._Bn([E.p])],decls:20,vars:2,consts:[[1,"row","sticky-top"],[1,"col-md-6"],[1,"page-title"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"row"],[1,"col-md-12","no-padding"],[1,"mx-auto","cardd","mt-2"],[1,"tab-content","mr-5"],["id","general-info",1,"tab-pane","active"],[1,"col-md-12","row","no-padding"],["class","col-md-6 col-sm-12  no-padding",4,"ngFor","ngForOf"],[3,"popupsettings","onItemDoubleClick"],["genericGridAcc",""],[3,"okClicked"],["OtpPopup",""],[1,"col-md-6","col-sm-12","no-padding"],[1,"form-inline"],[1,"col-md-6","col-sm-6","col-5"],["type","text","autocomplete","off","placeholder","Press Enter to select...",1,"form-control","col-md-5","col-sm-5","col-7",2,"height","4vh","width","49%",3,"disabled","ngModel","keydown.enter","ngModelChange"]],template:function(C,A){1&C&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3,"Tax Config Charges"),t.qZA()(),t.TgZ(4,"div",1)(5,"button",3),t.NdJ("click",function(){return A.onSave()}),t._uU(6," Save "),t.qZA(),t.TgZ(7,"button",4),t._uU(8," Back "),t.qZA()()(),t.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),t.YNc(15,R,5,3,"div",11),t.qZA()()()()()(),t.TgZ(16,"generic-popup-grid",12,13),t.NdJ("onItemDoubleClick",function(a){return A.onAccSelected(a)}),t.qZA(),t.TgZ(18,"app-otp",14,15),t.NdJ("okClicked",function(a){return A.confirmationOkClicked(a)}),t.qZA()),2&C&&(t.xp6(15),t.Q6J("ngForOf",A.taxList),t.xp6(1),t.Q6J("popupsettings",A.gridPopupSettingsForAcc))},dependencies:[p.sg,g.rH,l.Fj,l.JJ,l.On,h.Zl,i._],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid #cbcbcb;border-radius:3px;height:4vh;color:#000;font-size:12px}label[_ngcontent-%COMP%]{height:25px;font-size:12px}.cardd[_ngcontent-%COMP%]{overflow:auto;height:76vmin;border:1px solid #d8d8d8;max-width:90%}"]}),s})()},90911:(P,S,e)=>{e.r(S),e.d(S,{TaxConfigModule:()=>h});var n=e(92752),E=e(48083),t=e(52103),d=e(66274);const c=[{path:"",component:t.l}];let f=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[E.Bz.forChild(c),E.Bz]}),i})();var p=e(89953),g=e(53181),l=e(64069);let h=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[l.H],imports:[n.ez,f,p.m,g.Is]}),i})()},64069:(P,S,e)=>{e.d(S,{H:()=>d});var n=e(66274),E=e(76165),t=e(71180);let d=(()=>{class c{constructor(p,g){this.http=p,this.state=g;const l=this.state.getGlobalSetting("apiUrl");l&&l.length>0&&(this.apiUrl=l)}taxList(){return[{PARTICULARS:"SALESAC",Caption:"SALESAC",ACNAME:"",TRNAC:""},{PARTICULARS:"PURCHASEAC",Caption:"PURCHASEAC",ACNAME:"",TRNAC:""},{PARTICULARS:"SALESRETURNAC",Caption:"SALESRETURNAC",ACNAME:"",TRNAC:""},{PARTICULARS:"PURCHASERETURNAC",Caption:"PURCHASERETURNAC",ACNAME:"",TRNAC:""},{PARTICULARS:"DISCOUNTONSALESAC",Caption:"DISCOUNTONSALESAC",ACNAME:"",TRNAC:""},{PARTICULARS:"DISCOUNTONPURCHASEAC",Caption:"DISCOUNTONPURCHASEAC",ACNAME:"",TRNAC:""},{PARTICULARS:"VAT_SALES",Caption:"VAT PAYABLE A/C",ACNAME:"",TRNAC:""},{PARTICULARS:"VAT_PURCHASE",Caption:"VAT RECEIVABLE A/C",ACNAME:"",TRNAC:""},{PARTICULARS:"CASHAC",Caption:"CASHAC",ACNAME:"",TRNAC:""},{PARTICULARS:"BANK",Caption:"BANK",ACNAME:"",TRNAC:""},{PARTICULARS:"CASHINHAND_AC",Caption:"CASHINHAND_AC",ACNAME:"",TRNAC:""},{PARTICULARS:"SUNDRYDEBTORS",Caption:"SUNDRYDEBTORS",ACNAME:"",TRNAC:""},{PARTICULARS:"SUNDRYCREDITORS",Caption:"SUNDRYCREDITORS",ACNAME:"",TRNAC:""},{PARTICULARS:"OPENING STOCK",Caption:"OPENING STOCK",ACNAME:"",TRNAC:""},{PARTICULARS:"CLOSING STOCK",Caption:"CLOSING STOCK",ACNAME:"",TRNAC:""},{PARTICULARS:"STOCK IN HAND",Caption:"STOCK IN HAND",ACNAME:"",TRNAC:""},{PARTICULARS:"TDS_PAYABLE",Caption:"TDS_PAYABLE",ACNAME:"",TRNAC:""},{PARTICULARS:"TDS_RECEIVABLE",Caption:"TDS_RECEIVABLE",ACNAME:"",TRNAC:""},{PARTICULARS:"ACCOUNTFORBALANCINGOPENINGBALANCE",Caption:"ACCOUNTFORBALANCINGOPENINGBALANCE",ACNAME:"",TRNAC:""},{PARTICULARS:"CUSTOMER",Caption:"CUSTOMER",ACNAME:"",TRNAC:""},{PARTICULARS:"SUPPLIER",Caption:"SUPPLIER",ACNAME:"",TRNAC:""},{PARTICULARS:"ROUNDOFFAC",Caption:"ROUNDOFFAC",ACNAME:"",TRNAC:""},{PARTICULARS:"SALESRETURNVOUCHERAC",Caption:"SALESRETURNVOUCHERAC",ACNAME:"",TRNAC:""},{PARTICULARS:"BRANCHTRANSFERIN",Caption:"BRANCHT RANSFER IN",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"BRANCHTRANSFEROUT",Caption:"BRANCHT RANSFER OUT",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"MEMSALESAC",Caption:"MEMBERSHIP SALES AC",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"CELLPAY FEE",Caption:"CellPay Fee",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"IMPORTPURCHASEAC",Caption:"IMPORT PURCHASE AC",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"EXPORTSALESAC",Caption:"",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"FREIGHT SERVICE ITEM",Caption:"Freight Service Item",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"SERVICETAXAC",Caption:"SERVICETAXAC",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"}]}getTaxConfigChargesList(){return this.http.get(this.apiUrl+"/getTaxConfigChargesList")}saveTaxConfigCharges(p){return this.http.post(this.apiUrl+"/saveTaxConfigCharges",p)}checkTaxConfigCharge(p){return this.http.get(this.apiUrl+`/checkTaxConfigCharge?acid=${p}`)}}return c.\u0275fac=function(p){return new(p||c)(n.LFG(E.eN),n.LFG(t.q))},c.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);