"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[9944],{82661:(x,y,n)=>{n.d(y,{C:()=>o});var t=n(26215),T=n(54536),i=n(64537),L=n(88692);let S=(()=>{class r{constructor(l,C){this.dialogref=l,this.data=C,this.heading="Information",this.heading=C.header,this.message$=C.message}authResult(l){this.dialogref.close(l)}}return r.\u0275fac=function(l){return new(l||r)(i.Y36(T.so),i.Y36(T.WI))},r.\u0275cmp=i.Xpm({type:r,selectors:[["result-dialog"]],decls:11,vars:4,consts:[[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header","custom-modal-header"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[2,"display","inline-block"]],template:function(l,C){1&l&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),i._uU(4),i.qZA(),i.TgZ(5,"div",4),i.NdJ("click",function(){return C.authResult(!0)}),i._uU(6,"\xd7"),i.qZA()(),i.TgZ(7,"div",5),i._UZ(8,"div",6),i._uU(9),i.ALo(10,"async"),i.qZA()()()),2&l&&(i.xp6(4),i.Oqu(C.heading),i.xp6(5),i.hij(" ",i.lcZ(10,2,C.message$)," "))},dependencies:[L.Ov],encapsulation:2}),r})();var _=n(67297),A=n(53074),s=n(14970),e=n(7976),f=n(67311);function M(r,g){1&r&&(i.TgZ(0,"h4",5),i._uU(1,"Your Fiscal Year is Changed. Year End Process will generate new sequence for transaction. Would you like to start Inventry year Ending Process ? "),i.qZA())}function u(r,g){1&r&&(i.TgZ(0,"h4",5),i._uU(1,"Your Fiscal Year is Changed.Please do year end process from Online portal and sync the transaction.If you want do back date Sales invoice Click Ok to continue.Thank you... "),i.qZA())}function E(r,g){if(1&r){const l=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){i.CHM(l);const R=i.oxw();return i.KtG(R.YesClick())}),i._uU(1,"Yes"),i.qZA()}}function c(r,g){if(1&r){const l=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){i.CHM(l);const R=i.oxw();return i.KtG(R.NoClick())}),i._uU(1,"No"),i.qZA()}}function O(r,g){if(1&r){const l=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){i.CHM(l);const R=i.oxw();return i.KtG(R.offlinelineOK())}),i._uU(1,"OK"),i.qZA()}}let h=(()=>{class r{constructor(l,C,R,I,b,U){this.dialogref=l,this.authSerice=C,this.masterService=R,this.spinnerService=I,this.router=b,this.alertService=U}YesClick(){1!==this.masterService.userSetting.ENABLEOFFLINESALE&&(this.spinnerService.show("Processing...Please Wait..."),this.masterService.masterGetmethod("/yearEndingInventory").subscribe(l=>{"ok"===l.status?(this.authSerice.setSessionVariable("isIYE",1),this.dialogref.close(),this.alertService.success("The year end for inventory are done successfully..."),setTimeout(()=>{console.log("from logout"),this.router.navigate(["login",{logout:"logout"}]).then(()=>{window.location.reload()})},5e3)):(this.spinnerService.hide(),alert(l.result.error))},l=>{this.spinnerService.hide(),alert(JSON.parse(l._body))}))}NoClick(){this.authSerice.setSessionVariable("isIYE",2),this.dialogref.close()}offlinelineOK(){this.authSerice.setSessionVariable("isIYE",2),this.dialogref.close()}}return r.\u0275fac=function(l){return new(l||r)(i.Y36(T.so),i.Y36(_.e),i.Y36(A.P),i.Y36(s.V),i.Y36(e.F0),i.Y36(f.c))},r.\u0275cmp=i.Xpm({type:r,selectors:[["inventry-yearend-dialog"]],decls:8,vars:5,consts:[[1,"modal-content","modal-content-main-area",2,"width","100%"],[1,"modal-header"],["class","modal-title","id","myModalLabel",4,"ngIf"],[1,"modal-body"],["class","btn btn-info",3,"click",4,"ngIf"],["id","myModalLabel",1,"modal-title"],[1,"btn","btn-info",3,"click"]],template:function(l,C){1&l&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,M,2,0,"h4",2),i.YNc(3,u,2,0,"h4",2),i.qZA(),i.TgZ(4,"div",3),i.YNc(5,E,2,0,"button",4),i.YNc(6,c,2,0,"button",4),i.YNc(7,O,2,0,"button",4),i.qZA()()),2&l&&(i.xp6(2),i.Q6J("ngIf",1!=C.masterService.userSetting.ENABLEOFFLINESALE),i.xp6(1),i.Q6J("ngIf",1==C.masterService.userSetting.ENABLEOFFLINESALE),i.xp6(2),i.Q6J("ngIf",1!=C.masterService.userSetting.ENABLEOFFLINESALE),i.xp6(1),i.Q6J("ngIf",1!=C.masterService.userSetting.ENABLEOFFLINESALE),i.xp6(1),i.Q6J("ngIf",1==C.masterService.userSetting.ENABLEOFFLINESALE))},dependencies:[L.O5],styles:[".md-dialog-container[_ngcontent-%COMP%]{height:auto!important;width:auto!important;overflow:hidden!important;box-shadow:0!important}.mat-dialog-container[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important;margin-left:auto;margin-right:auto;overflow:hidden!important;height:350px!important}.auth-main[_ngcontent-%COMP%]{position:inherit!important;display:inherit!important}.cdk-overlay-pane[_ngcontent-%COMP%], .md-overlay-pane[_ngcontent-%COMP%]{height:auto!important}.cdk-overlay-pane[_ngcontent-%COMP%], .md-overlay-pane[_ngcontent-%COMP%]{flex:1 1 0}"]}),r})();var P=n(71180);let o=(()=>{class r{constructor(l,C,R,I,b){this.gblstate=l,this._authService=C,this.masterService=R,this.router=I,this.dialog=b,this.viewPermission=[],this.userSetting={},this.enableFiscalYearEnd=!1,this.viewPermission=l.getGlobalSetting("View-Permission")||[],this.userSetting=this.masterService.userSetting}canActivate(l,C){const R=new t.X(""),I=R.asObservable(),b=this._authService.getAuth();let U="";null!=l.url[0]&&(U=l.url[0].path),console.log("path",U);let k=l.params.mode;if(void 0===k&&(k="list"),!b||!b.profile){R.next("Your session has expired. You have been logged out of your account in another tab. Please log in again to continue.");const w=this.dialog.open(S,{hasBackdrop:!0,data:{header:"Information",message:I}});return setTimeout(()=>{w.close()},1e4),!1}if(this.masterService.checkUserValid().subscribe(Y=>{if(!1===Y){R.next("Your session has expired. You have been logged out of your account in another tab. Please log in again to continue.");const V=this.dialog.open(S,{hasBackdrop:!0,data:{header:"Information",message:I}});return setTimeout(()=>(V.close(),!1),1e4),!1}}),0===this._authService.getSessionVariable("isIYE")&&(this.dialog.closeAll(),this.dialog.open(h,{hasBackdrop:!0,data:{header:"Information",message:""}}),"dashboard"!==U))return!1;if(b&&b.profile&&"dashboard"===U||"ADMIN"===this._authService.getUserProfile().username.toUpperCase()||"patanjali_user"===this._authService.getUserProfile().username)return!0;if("addsientry"===U||"add-creditnote-itembase"===U){R.next("You are not authorize for this operation");const w=this.dialog.open(S,{hasBackdrop:!0,data:{header:"Information",message:I}});return setTimeout(()=>(w.close(),!1),2e3),!1}if("ADMIN"===this._authService.getUserProfile().username.toUpperCase()||"patanjali_user"===this._authService.getUserProfile().username)return console.log("MENURIGHTBLOCKEDADMIN",U),!0;const B=this._authService.getMenuRight(U,k);return U?!0===B.right||"list"===k&&!0===B.list:!0===B.list||void 0}}return r.\u0275fac=function(l){return new(l||r)(i.LFG(P.q),i.LFG(_.e),i.LFG(A.P),i.LFG(e.F0),i.LFG(T.uw))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},49137:(x,y,n)=>{n.d(y,{C:()=>T});var t=n(64537);let T=(()=>{class i{transform(S,_,A){if(S)return _?S.filter(s=>{let e=s[A];const f=_.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(e?e.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(f))return s}):S}}return i.\u0275fac=function(S){return new(S||i)},i.\u0275pipe=t.Yjl({name:"searchData",type:i,pure:!1}),i})()},55618:(x,y,n)=>{n.d(y,{c:()=>M});var t=n(88692),T=n(71800),i=n(72533),L=n(18488),S=n(53074),_=n(20092),A=n(47766),s=n(64537);let e=(()=>{class u{static forRoot(){return{ngModule:u}}}return u.\u0275fac=function(c){return new(c||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({imports:[t.ez,_.u5,_.UX,i.JX]}),u})();var f=n(48496);let M=(()=>{class u{static forRoot(){return{ngModule:u,providers:[S.P,L.G]}}}return u.\u0275fac=function(c){return new(c||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({imports:[t.ez,T.zk.forRoot(),i.JX,t.ez,_.u5,_.UX,A.e,e.forRoot(),f.z.forRoot()]}),u})()},18488:(x,y,n)=>{n.d(y,{G:()=>A});var t=n(35732),T=n(79765),i=n(64537),L=n(7976),S=n(67297),_=n(71180);let A=(()=>{class s{constructor(f,M,u,E){this.http=f,this.activatedRoute=M,this.authService=u,this.state=E;const c=this.state.getGlobalSetting("apiUrl");c&&c.length>0&&(this.apiUrl=c)}getRequestOption(){return new t.WM({"Content-type":"application/csv",Authorization:this.authService.getAuth().token,"X-Requested-With":"XMLHttpRequest"})}RequestOptionForCSV(){return{headers:new t.WM({Authorization:this.authService.getAuth().token})}}downloadSampleFile(f,M="download"){return this.http.get(this.apiUrl+`${f}`,{headers:this.getRequestOption(),responseType:"blob"})}downloadSampleExcelforPIImport(f){return this.http.post(this.apiUrl+"/downloadSampleExcelforPIImport",f,{responseType:"blob"})}cancelPhysicalStock(f){return this.http.post(`${this.apiUrl}/physicalStockCancel/${f}`,null)}importSelectedFiles(f,M){let u={status:"error",result:"error"},E=new T.xQ;return this.http.post(this.apiUrl+`${f}`,M).subscribe(c=>{E.next(c),E.unsubscribe()},c=>{u.status="error",u.result=c,E.next(u),E.unsubscribe()}),E}}return s.\u0275fac=function(f){return new(f||s)(i.LFG(t.eN),i.LFG(L.gz),i.LFG(S.e),i.LFG(_.q))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})()},48496:(x,y,n)=>{n.d(y,{z:()=>A});var t=n(88692),T=n(71800),i=n(72533),L=n(74417),S=n(20092),_=n(64537);let A=(()=>{class s{static forRoot(){return{ngModule:s}}}return s.\u0275fac=function(f){return new(f||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[t.ez,T.zk.forRoot(),i.JX,L.Cl,S.u5]}),s})()},85245:(x,y,n)=>{n.d(y,{U:()=>O});var t=n(64537),T=n(7976),i=n(67311),L=n(6936),S=n(87584),_=n(88692),A=n(20092),s=n(72533),e=n(49137);function f(h,P){if(1&h){const o=t.EpF();t.TgZ(0,"tr")(1,"td",20),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t._uU(4),t.qZA(),t.TgZ(5,"td",22)(6,"button",23),t.NdJ("click",function(){const l=t.CHM(o).$implicit,C=t.oxw(2);return t.KtG(C.onViewClicked(l))}),t._uU(7," View"),t.qZA(),t.TgZ(8,"a",24),t.NdJ("click",function(){const l=t.CHM(o).$implicit,C=t.oxw(2);return t.KtG(C.onEditClicked(l))}),t._uU(9,"Edit"),t.qZA(),t.TgZ(10,"button",23),t.NdJ("click",function(){const l=t.CHM(o).$implicit,C=t.oxw(2);return t.KtG(C.deleteCustomer(l))}),t._uU(11," Delete"),t.qZA()()()}if(2&h){const o=P.$implicit,r=P.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(o.PAYMENTMODENAME)}}const M=function(h,P,o){return{itemsPerPage:h,currentPage:P,totalItems:o}};function u(h,P){if(1&h&&(t.ynx(0),t.YNc(1,f,12,2,"tr",19),t.ALo(2,"paginate"),t.ALo(3,"searchData"),t.BQk()),2&h){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,t.Dn7(3,4,o.paymentModeLists,o.filter,"PAYMENTMODENAME"),t.kEZ(8,M,o.itemsPerPage,o.currentPage,o.totalCount)))}}function E(h,P){1&h&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",25)(3,"div",26),t._uU(4,"Payment Mode Information are unavailable."),t.qZA()()(),t.BQk())}function c(h,P){if(1&h){const o=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"pagination-controls",30),t.NdJ("pageChange",function(g){t.CHM(o);const l=t.oxw();return t.KtG(l.paymentModePagination(g))}),t.qZA()()()()}if(2&h){const o=t.oxw();t.xp6(3),t.Q6J("directionLinks",o.directionLinks)}}let O=(()=>{class h{constructor(o,r,g,l){this.router=o,this.alertService=r,this.paymentModeService=g,this.transactionService=l,this.paymentModeLists=[],this.isLoader=!0,this.currentPage=1,this.itemsPerPage=20,this.offset=0,this.directionLinks=!0}updown(o){"Escape"===o.code&&(o.preventDefault(),this.router.navigate(["./pages/dashboard"]))}ngOnInit(){this.paymentModeService.getPaymentModesList().subscribe(o=>{o?(this.isLoader=!1,this.paymentModeLists=o||[]):(this.isLoader=!1,this.paymentModeLists=[],this.errorMessage="Something went wrong.")},o=>{this.isLoader=!1,this.paymentModeLists=[],this.errorMessage="Something went wrong."})}onViewClicked(o){this.transactionService.paymentmodeVoucherType="view";try{this.router.navigate(["./pages/masters/payment-mode-master/add-payment-mode",{name:o.PAYMENTMODENAME,mode:this.transactionService.paymentmodeVoucherType,returnUrl:this.router.url}])}catch(r){this.alertService.error(r)}}onEditClicked(o){this.transactionService.paymentmodeVoucherType="edit";try{this.router.navigate(["./pages/masters/payment-mode-master/add-payment-mode",{name:o.PAYMENTMODENAME,mode:this.transactionService.paymentmodeVoucherType,returnUrl:this.router.url}])}catch(r){this.alertService.error(r)}}deleteCustomer(o){confirm("Are you sure you want to delete "+o.PAYMENTMODENAME+" ?")&&this.paymentModeService.deletePaymentMode(o.PAYMENTMODENAME).subscribe(r=>{"ok"==r.status?(this.alertService.info(r.result),this.paymentModeService.getPaymentModesList().subscribe(g=>{g?(this.isLoader=!1,this.paymentModeLists=g||[]):(this.isLoader=!1,this.paymentModeLists=[],this.errorMessage="Something went wrong.")})):this.alertService.error(r.result.error)},r=>{this.alertService.error(r.error)})}paymentModePagination(o){this.isLoader=!0,this.currentPage=o;const r=this;window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{r.isLoader=!1},500)}addPaymentMode(){this.transactionService.paymentmodeVoucherType="new";try{this.router.navigate(["./pages/masters/payment-mode-master/add-payment-mode",{mode:this.transactionService.paymentmodeVoucherType,returnUrl:this.router.url}])}catch(o){this.alertService.error(o)}}}return h.\u0275fac=function(o){return new(o||h)(t.Y36(T.F0),t.Y36(i.c),t.Y36(L.a),t.Y36(S.p))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-payment-mode-list"]],hostBindings:function(o,r){1&o&&t.NdJ("keydown",function(l){return r.updown(l)},!1,t.evT)},decls:33,vars:12,consts:[[1,"row","col-md-12"],[1,"col-md-4"],[1,"col-md-8"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"row",2,"align-items","center"],[1,"col-md-12","col-sm-8",2,"margin-top","0.5rem"],[1,"card",2,"margin","auto","width","63rem"],[1,"card-header"],[2,"width","25%"],["type","search","placeholder","Search...","name","filter","autocomplete","off",1,"form-control",2,"height","1.5rem","font-size","13px",3,"ngModel","ngModelChange"],[1,"card-body"],[1,"table","table-striped"],[2,"position","sticky","top","0","line-height","1.5rem"],["scope","col",2,"width","3%"],["scope","col",2,"width","18%"],["scope","col",2,"text-align","center","width","18%"],[4,"ngIf"],["class","card-footer","style","padding:5px",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"width","3%"],[2,"width","18%"],[2,"width","18%","text-align","center"],["type","button","data-toggle","modal",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px",3,"click"],[1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","color","white",3,"click"],["colspan","7"],[1,"font-weight-bold"],[1,"card-footer",2,"padding","5px"],[1,"pagination"],[2,"margin","auto"],[1,"my-pagination",3,"directionLinks","pageChange"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5"),t._uU(3,"Payment Mode Master"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6,"Back"),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return r.addPaymentMode()}),t._uU(8,"Add Payment Mode"),t.qZA()()(),t.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"span"),t._uU(14,"Payment Mode Lists"),t.qZA(),t.TgZ(15,"div",9)(16,"input",10),t.NdJ("ngModelChange",function(l){return r.filter=l}),t.qZA()()(),t.TgZ(17,"div",11)(18,"table",12)(19,"thead")(20,"tr",13)(21,"th",14),t._uU(22,"S.N"),t.qZA(),t.TgZ(23,"th",15),t._uU(24,"Payment Mode Name"),t.qZA(),t.TgZ(25,"th",16),t._uU(26,"Action"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,u,4,12,"ng-container",17),t.YNc(29,E,5,0,"ng-container",17),t.ALo(30,"searchData"),t.qZA()()(),t.YNc(31,c,4,1,"div",18),t.ALo(32,"searchData"),t.qZA()()()),2&o&&(t.xp6(16),t.Q6J("ngModel",r.filter),t.xp6(12),t.Q6J("ngIf",r.paymentModeLists&&r.paymentModeLists.length>0),t.xp6(1),t.Q6J("ngIf",r.paymentModeLists&&0===t.Dn7(30,4,r.paymentModeLists,r.filter,"PAYMENTMODENAME").length),t.xp6(2),t.Q6J("ngIf",r.paymentModeLists&&t.Dn7(32,8,r.paymentModeLists,r.filter,"PAYMENTMODENAME").length>r.itemsPerPage))},dependencies:[_.sg,_.O5,T.rH,A.Fj,A.JJ,A.On,s.LS,s._s,e.C],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]:after{display:none}.card-body[_ngcontent-%COMP%]{padding:5px!important;max-height:675px!important}.card-footer[_ngcontent-%COMP%]{height:6vh}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;height:59vh;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}th[_ngcontent-%COMP%]{font-size:15px}td[_ngcontent-%COMP%]{font-size:13px}.btn-sm[_ngcontent-%COMP%]{line-height:3px}.card-header[_ngcontent-%COMP%]{padding:10px 20px}.searchBy[_ngcontent-%COMP%]{font-size:13px;margin-left:18rem}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#17a2b8!important;border:transparent!important;border-radius:20px!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover{background:#74d4e2!important;border-radius:20px!important;border:transparent!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#c2c2c2;border-radius:20px!important}"]}),h})()},6936:(x,y,n)=>{n.d(y,{a:()=>S});var t=n(64537),T=n(35732),i=n(67297),L=n(71180);let S=(()=>{class _{constructor(s,e,f){this.http=s,this.authService=e,this.state=f;const M=this.state.getGlobalSetting("apiUrl");M&&M.length>0&&(this.apiUrl=M)}savePaymentMode(s,e){let f={mode:e,data:s};return console.log("datanew",f),this.http.post(this.apiUrl+"/savePaymentModes",f)}getPaymentModesList(){return this.http.get(this.apiUrl+"/getPaymentModesList")}getPaymentModeDetails(s){return this.http.get(`${this.apiUrl}/getPaymentModeDetails?paymentModeName=${s}`)}deletePaymentMode(s){return this.http.get(`${this.apiUrl}/deletePaymentModes?paymentModeName=${s}`)}getACIDList(){return this.http.get(`${this.apiUrl}/getAccountPagedListByMapId/Master/Payment Mode Master`)}}return _.\u0275fac=function(s){return new(s||_)(t.LFG(T.eN),t.LFG(i.e),t.LFG(L.q))},_.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac}),_})()},82716:(x,y,n)=>{n.d(y,{p:()=>M});var t=n(64537),T=n(7976),i=n(67311),L=n(30013),S=n(14970),_=n(88692),A=n(20092),s=n(56707);let e=(()=>{class u{transform(c,O){if(c)return O?c.filter(h=>{const P=O.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(h.INITIAL?h.INITIAL.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(P))return h}):c}}return u.\u0275fac=function(c){return new(c||u)},u.\u0275pipe=t.Yjl({name:"searchData",type:u,pure:!1}),u})();function f(u,E){if(1&u){const c=t.EpF();t.TgZ(0,"tr")(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td",22),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.qZA(),t.TgZ(7,"td",24),t._uU(8),t.qZA(),t.TgZ(9,"td",25),t._uU(10),t.qZA(),t.TgZ(11,"td",25),t._uU(12),t.qZA(),t.TgZ(13,"td",25),t._uU(14),t.qZA(),t.TgZ(15,"td",25),t._uU(16),t.qZA(),t.TgZ(17,"td",26)(18,"button",27),t.NdJ("click",function(){const P=t.CHM(c).$implicit,o=t.oxw();return t.KtG(o.onView(P))}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"a",28),t.NdJ("click",function(){const P=t.CHM(c).$implicit,o=t.oxw();return t.KtG(o.onEdit(P))}),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"button",27),t.NdJ("click",function(){const P=t.CHM(c).$implicit,o=t.oxw();return t.KtG(o.onDelete(P))}),t._uU(25),t.ALo(26,"translate"),t.qZA()()()}if(2&u){const c=E.$implicit,O=E.index;t.xp6(2),t.Oqu(O+1),t.xp6(2),t.Oqu(c.INITIAL),t.xp6(2),t.Oqu(c.NAME),t.xp6(2),t.Oqu(c.ADDRESS2),t.xp6(2),t.Oqu(c.REMARKS),t.xp6(2),t.Oqu(c.ACNAME),t.xp6(2),t.Oqu(c.RateGroup_Name),t.xp6(2),t.Oqu(c.COSTCENTER),t.xp6(3),t.hij(" ",t.lcZ(20,11,"DIVISION_MASTER.table_data.view")," "),t.xp6(3),t.Oqu(t.lcZ(23,13,"DIVISION_MASTER.table_data.edit")),t.xp6(3),t.hij(" ",t.lcZ(26,15,"DIVISION_MASTER.table_data.delete")," ")}}let M=(()=>{class u{constructor(c,O,h,P){this.router=c,this.alertService=O,this.divisionService=h,this.spinnerService=P,this.spinnerService.show("Loading data...."),this.divisionService.getDivisionData().subscribe(o=>{o&&(this.spinnerService.hide(),this.divData=o.result)},o=>{this.alertService.error(o.error),this.spinnerService.hide()})}ngOnInit(){}onView(c){try{this.router.navigate(["./pages/masters/division/add-division",{name:c.INITIAL,mode:"view",returnUrl:this.router.url}])}catch(O){this.alertService.info(O)}}onEdit(c){this.router.navigate(["./pages/masters/division/add-division",{name:c.INITIAL,mode:"edit",returnUrl:this.router.url}])}onDelete(c){confirm("Are you sure you want to delete "+c.NAME+" ?")&&this.divisionService.deleteDivisionMaster(c.INITIAL).subscribe(O=>{"ok"==O.status&&this.divisionService.getDivisionData().subscribe(h=>{h&&(this.divData=h.result?h.result:[])})})}addDivision(){try{this.router.navigate(["./pages/masters/division/add-division",{mode:"add",returnUrl:this.router.url}])}catch(c){this.alertService.info(c)}}}return u.\u0275fac=function(c){return new(c||u)(t.Y36(T.F0),t.Y36(i.c),t.Y36(L.E),t.Y36(S.V))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-division-list"]],decls:51,vars:32,consts:[[1,"row","col-md-12"],[1,"col-md-4"],[1,"col-md-8"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"row",2,"align-items","center"],[1,"col-md-12","col-sm-8",2,"margin-top","0.5rem"],[1,"card",2,"margin","auto","width","88%"],[1,"card-header"],[2,"width","25%"],["type","search","placeholder","Search by Initial...","name","searchByInitial",1,"form-control",2,"height","1.5rem","font-size","13px",3,"ngModel","ngModelChange"],[1,"card-body"],[1,"table","table-striped"],[2,"position","sticky","top","0","line-height","1.5rem"],["scope","col",2,"width","3%"],["scope","col",2,"width","6%"],["scope","col",2,"width","18%"],["scope","col",2,"width","8%"],["scope","col",2,"width","13%"],["scope","col",2,"text-align","center","width","19%"],[4,"ngFor","ngForOf"],[2,"width","3%"],[2,"width","6%"],[2,"width","18%"],[2,"width","8%"],[2,"width","13%"],[2,"width","19%","text-align","center"],["type","button","data-toggle","modal",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px",3,"click"],[1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","color","white",3,"click"]],template:function(c,O){1&c&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",2)(6,"button",3),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return O.addDivision()}),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"span"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",9)(20,"input",10),t.NdJ("ngModelChange",function(P){return O.searchByInitial=P}),t.qZA()()(),t.TgZ(21,"div",11)(22,"table",12)(23,"thead")(24,"tr",13)(25,"th",14),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",15),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",16),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th",17),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th",18),t._uU(38,"Remarks"),t.qZA(),t.TgZ(39,"th",18),t._uU(40,"Branch Account"),t.qZA(),t.TgZ(41,"th",18),t._uU(42,"Rate Group List"),t.qZA(),t.TgZ(43,"th",18),t._uU(44,"Cost Center"),t.qZA(),t.TgZ(45,"th",19),t._uU(46),t.ALo(47,"translate"),t.qZA()()(),t.TgZ(48,"tbody"),t.YNc(49,f,27,17,"tr",20),t.ALo(50,"searchData"),t.qZA()()()()()()),2&c&&(t.xp6(3),t.Oqu(t.lcZ(4,11,"DIVISION_MASTER.title")),t.xp6(4),t.hij(" ",t.lcZ(8,13,"DIVISION_MASTER.button.back")," "),t.xp6(3),t.hij(" ",t.lcZ(11,15,"DIVISION_MASTER.button.add")," "),t.xp6(7),t.Oqu(t.lcZ(18,17,"DIVISION_MASTER.table_heading")),t.xp6(3),t.Q6J("ngModel",O.searchByInitial),t.xp6(6),t.Oqu(t.lcZ(27,19,"DIVISION_MASTER.table_data.sn")),t.xp6(3),t.Oqu(t.lcZ(30,21,"DIVISION_MASTER.table_data.initial")),t.xp6(3),t.Oqu(t.lcZ(33,23,"DIVISION_MASTER.table_data.name")),t.xp6(3),t.Oqu(t.lcZ(36,25,"DIVISION_MASTER.table_data.address")),t.xp6(11),t.Oqu(t.lcZ(47,27,"DIVISION_MASTER.table_data.action")),t.xp6(3),t.Q6J("ngForOf",t.xi3(50,29,O.divData,O.searchByInitial)))},dependencies:[_.sg,T.rH,A.Fj,A.JJ,A.On,s.X$,e],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]:after{display:none}.card-body[_ngcontent-%COMP%]{padding:5px!important;max-height:675px!important}.card-footer[_ngcontent-%COMP%]{height:6vh}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;height:59vh;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}th[_ngcontent-%COMP%]{font-size:15px}td[_ngcontent-%COMP%]{font-size:13px}.btn-sm[_ngcontent-%COMP%]{line-height:3px}.card-header[_ngcontent-%COMP%]{padding:10px 20px}.searchBy[_ngcontent-%COMP%]{font-size:13px;margin-left:18rem}"]}),u})()},30013:(x,y,n)=>{n.d(y,{E:()=>S});var t=n(64537),T=n(35732),i=n(67297),L=n(71180);let S=(()=>{class _{constructor(s,e,f){this.http=s,this.authService=e,this.state=f;const M=this.state.getGlobalSetting("apiUrl");M&&M.length>0&&(this.apiUrl=M)}getDivisionData(){return this.http.get(this.apiUrl+"/getDivisionMasterList")}getDivisionDataByInitial(s){return this.http.get(this.apiUrl+`/getDivisionDetails?initial=${s}`)}getAllRateGroupList(){return this.http.get(this.apiUrl+"/getAllRateGroupList")}saveDivisionMaster(s,e){return this.http.post(this.apiUrl+"/saveDivisionMaster",{mode:e,data:s})}deleteDivisionMaster(s){return this.http.post(this.apiUrl+"/deleteDivisionMaster",{INITIAL:s})}getAllCostCenterList(){return this.http.get(this.apiUrl+"/getAllCostCenterList")}}return _.\u0275fac=function(s){return new(s||_)(t.LFG(T.eN),t.LFG(i.e),t.LFG(L.q))},_.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},52103:(x,y,n)=>{n.d(y,{l:()=>O});var t=n(19102),T=n(87584),i=n(64537),L=n(64069),S=n(67311),_=n(14970),A=n(88692),s=n(7976),e=n(20092),f=n(28698),M=n(73965);const u=["genericGridAcc"],E=["OtpPopup"];function c(h,P){if(1&h){const o=i.EpF();i.TgZ(0,"div",16)(1,"div",17)(2,"label",18),i._uU(3),i.qZA(),i.TgZ(4,"input",19),i.NdJ("keydown.enter",function(g){const l=i.CHM(o),C=l.index,R=l.$implicit,I=i.oxw();return i.KtG(I.accEnterCommand(g,C,R))})("ngModelChange",function(g){const C=i.CHM(o).$implicit;return i.KtG(C.ACNAME=g)}),i.qZA()()()}if(2&h){const o=P.$implicit;i.xp6(3),i.hij("",o.Caption,":"),i.xp6(1),i.Q6J("disabled","OPTIONAL"!=o.STATUS)("ngModel",o.ACNAME)}}let O=(()=>{class h{constructor(o,r,g){this.taxConfigService=o,this.alertService=r,this.spinnerService=g,this.gridPopupSettingsForAcc=new t.sG,this.spinnerService.show("Loading data...."),this.taxList=this.taxConfigService.taxList(),this.taxConfigService.getTaxConfigChargesList().subscribe(l=>{l&&(this.spinnerService.hide(),this.listfromapi=l?.result,this.taxList.forEach(C=>{const R=this.listfromapi.findIndex(I=>I?.PARTICULARS===C?.PARTICULARS);R>-1&&(C.TRNAC=this.listfromapi[R]?.TRNAC,C.ACNAME=this.listfromapi[R]?.ACNAME)}))},l=>{this.spinnerService.hide(),this.alertService.error(l.error)})}ngOnInit(){}onSave(){this.OtpPopup.show()}getAccList(){this.gridPopupSettingsForAcc={title:"Account List",apiEndpoints:"/getAccountPagedListByMapId/Master/Party Payment Expense",defaultFilterIndex:0,useDefinefilterValue:"",columns:[{key:"ACID",title:"AC CODE",hidden:!1,noSearch:!1},{key:"ACNAME",title:"A/C NAME",hidden:!1,noSearch:!1}]}}accEnterCommand(o,r,g){this.selectedIndex=r,this.taxConfigService.checkTaxConfigCharge(g.TRNAC).subscribe(l=>{console.log("result",l),"ok"==l.status?(this.getAccList(),this.genericGridAcc.show()):this.alertService.error("This account is already used in Transaction. It cannot be updated/deleted!")})}onAccSelected(o){o&&null!==this.selectedIndex&&(this.taxList[this.selectedIndex].ACNAME=o.ACNAME,this.taxList[this.selectedIndex].TRNAC=o.ACID)}confirmationOkClicked(o){1==o?1==confirm("Are you sure you want to save?")&&this.taxConfigService.saveTaxConfigCharges(this.taxList).subscribe(r=>{"ok"==r.status?this.alertService.success(r.result):this.alertService.error(r.result)}):this.alertService.error("OTP Invalid")}}return h.\u0275fac=function(o){return new(o||h)(i.Y36(L.H),i.Y36(S.c),i.Y36(_.V))},h.\u0275cmp=i.Xpm({type:h,selectors:[["app-tax-config-view"]],viewQuery:function(o,r){if(1&o&&(i.Gf(u,5),i.Gf(E,5)),2&o){let g;i.iGM(g=i.CRH())&&(r.genericGridAcc=g.first),i.iGM(g=i.CRH())&&(r.OtpPopup=g.first)}},features:[i._Bn([T.p])],decls:20,vars:2,consts:[[1,"row","sticky-top"],[1,"col-md-6"],[1,"page-title"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"row"],[1,"col-md-12","no-padding"],[1,"mx-auto","cardd","mt-2"],[1,"tab-content","mr-5"],["id","general-info",1,"tab-pane","active"],[1,"col-md-12","row","no-padding"],["class","col-md-6 col-sm-12  no-padding",4,"ngFor","ngForOf"],[3,"popupsettings","onItemDoubleClick"],["genericGridAcc",""],[3,"okClicked"],["OtpPopup",""],[1,"col-md-6","col-sm-12","no-padding"],[1,"form-inline"],[1,"col-md-6","col-sm-6","col-5"],["type","text","autocomplete","off","placeholder","Press Enter to select...",1,"form-control","col-md-5","col-sm-5","col-7",2,"height","4vh","width","49%",3,"disabled","ngModel","keydown.enter","ngModelChange"]],template:function(o,r){1&o&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),i._uU(3,"Tax Config Charges"),i.qZA()(),i.TgZ(4,"div",1)(5,"button",3),i.NdJ("click",function(){return r.onSave()}),i._uU(6," Save "),i.qZA(),i.TgZ(7,"button",4),i._uU(8," Back "),i.qZA()()(),i.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),i.YNc(15,c,5,3,"div",11),i.qZA()()()()()(),i.TgZ(16,"generic-popup-grid",12,13),i.NdJ("onItemDoubleClick",function(l){return r.onAccSelected(l)}),i.qZA(),i.TgZ(18,"app-otp",14,15),i.NdJ("okClicked",function(l){return r.confirmationOkClicked(l)}),i.qZA()),2&o&&(i.xp6(15),i.Q6J("ngForOf",r.taxList),i.xp6(1),i.Q6J("popupsettings",r.gridPopupSettingsForAcc))},dependencies:[A.sg,s.rH,e.Fj,e.JJ,e.On,f.Zl,M._],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid #cbcbcb;border-radius:3px;height:4vh;color:#000;font-size:12px}label[_ngcontent-%COMP%]{height:25px;font-size:12px}.cardd[_ngcontent-%COMP%]{overflow:auto;height:76vmin;border:1px solid #d8d8d8;max-width:90%}"]}),h})()},64069:(x,y,n)=>{n.d(y,{H:()=>L});var t=n(64537),T=n(35732),i=n(71180);let L=(()=>{class S{constructor(A,s){this.http=A,this.state=s;const e=this.state.getGlobalSetting("apiUrl");e&&e.length>0&&(this.apiUrl=e)}taxList(){return[{PARTICULARS:"SALESAC",Caption:"SALESAC",ACNAME:"",TRNAC:""},{PARTICULARS:"PURCHASEAC",Caption:"PURCHASEAC",ACNAME:"",TRNAC:""},{PARTICULARS:"SALESRETURNAC",Caption:"SALESRETURNAC",ACNAME:"",TRNAC:""},{PARTICULARS:"PURCHASERETURNAC",Caption:"PURCHASERETURNAC",ACNAME:"",TRNAC:""},{PARTICULARS:"DISCOUNTONSALESAC",Caption:"DISCOUNTONSALESAC",ACNAME:"",TRNAC:""},{PARTICULARS:"DISCOUNTONPURCHASEAC",Caption:"DISCOUNTONPURCHASEAC",ACNAME:"",TRNAC:""},{PARTICULARS:"VAT_SALES",Caption:"VAT PAYABLE A/C",ACNAME:"",TRNAC:""},{PARTICULARS:"VAT_PURCHASE",Caption:"VAT RECEIVABLE A/C",ACNAME:"",TRNAC:""},{PARTICULARS:"CASHAC",Caption:"CASHAC",ACNAME:"",TRNAC:""},{PARTICULARS:"BANK",Caption:"BANK",ACNAME:"",TRNAC:""},{PARTICULARS:"CASHINHAND_AC",Caption:"CASHINHAND_AC",ACNAME:"",TRNAC:""},{PARTICULARS:"SUNDRYDEBTORS",Caption:"SUNDRYDEBTORS",ACNAME:"",TRNAC:""},{PARTICULARS:"SUNDRYCREDITORS",Caption:"SUNDRYCREDITORS",ACNAME:"",TRNAC:""},{PARTICULARS:"OPENING STOCK",Caption:"OPENING STOCK",ACNAME:"",TRNAC:""},{PARTICULARS:"CLOSING STOCK",Caption:"CLOSING STOCK",ACNAME:"",TRNAC:""},{PARTICULARS:"STOCK IN HAND",Caption:"STOCK IN HAND",ACNAME:"",TRNAC:""},{PARTICULARS:"TDS_PAYABLE",Caption:"TDS_PAYABLE",ACNAME:"",TRNAC:""},{PARTICULARS:"TDS_RECEIVABLE",Caption:"TDS_RECEIVABLE",ACNAME:"",TRNAC:""},{PARTICULARS:"ACCOUNTFORBALANCINGOPENINGBALANCE",Caption:"ACCOUNTFORBALANCINGOPENINGBALANCE",ACNAME:"",TRNAC:""},{PARTICULARS:"CUSTOMER",Caption:"CUSTOMER",ACNAME:"",TRNAC:""},{PARTICULARS:"SUPPLIER",Caption:"SUPPLIER",ACNAME:"",TRNAC:""},{PARTICULARS:"ROUNDOFFAC",Caption:"ROUNDOFFAC",ACNAME:"",TRNAC:""},{PARTICULARS:"SALESRETURNVOUCHERAC",Caption:"SALESRETURNVOUCHERAC",ACNAME:"",TRNAC:""},{PARTICULARS:"BRANCHTRANSFERIN",Caption:"BRANCHT RANSFER IN",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"BRANCHTRANSFEROUT",Caption:"BRANCHT RANSFER OUT",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"MEMSALESAC",Caption:"MEMBERSHIP SALES AC",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"CELLPAY FEE",Caption:"CellPay Fee",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"IMPORTPURCHASEAC",Caption:"IMPORT PURCHASE AC",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"EXPORTSALESAC",Caption:"",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"FREIGHT SERVICE ITEM",Caption:"Freight Service Item",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"SERVICETAXAC",Caption:"SERVICETAXAC",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"}]}getTaxConfigChargesList(){return this.http.get(this.apiUrl+"/getTaxConfigChargesList")}saveTaxConfigCharges(A){return this.http.post(this.apiUrl+"/saveTaxConfigCharges",A)}checkTaxConfigCharge(A){return this.http.get(this.apiUrl+`/checkTaxConfigCharge?acid=${A}`)}}return S.\u0275fac=function(A){return new(A||S)(t.LFG(T.eN),t.LFG(i.q))},S.\u0275prov=t.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},9944:(x,y,n)=>{n.r(y),n.d(y,{PrintFileSetupModule:()=>W});var t=n(88692),T=n(69401),i=n(87584),L=n(82661),S=n(54536),_=n(7976),A=n(92340),s=n(20092),e=n(64537),f=n(67311),M=n(35732),u=n(60056),E=n(67297);let c=(()=>{class v{constructor(a,d){this.http=a,this.authService=d}get apiUrl(){return A.N.apiUrl}loadVoucher(){return this.http.get(this.apiUrl+"/getVouchertypeForPrint")}downloadFIle(a){return this.http.get(this.apiUrl+`/getDefaultPrintFile?voucherType=${a}`)}UploadPrintFile(a,d){let m={status:"error",result:"error"},p=new u.Subject;const F={headers:this.getRequestOptionWithoutContent(),method:"post"};return this.http.post(this.apiUrl+`/uploadReportFile?VoucherPrefix=${d}`,a,F).subscribe(Z=>{p.next(Z),p.unsubscribe()},Z=>{m.status="error",m.result=Z,p.next(m),p.unsubscribe()}),p}getRequestOptionWithoutContent(){return new M.WM({Authorization:this.authService.getAuth().token})}resetPrintToDefault(){return this.http.get(this.apiUrl+"/resetPrintToDefault")}resetSelectedPrintToDefault(a){return this.http.get(this.apiUrl+`/resetSelectedPrintToDefault?voucherPrefix=${a}`)}readSettingDescriptionJson(){return this.http.get(this.apiUrl+"/readSettingDescriptionJson")}getVoucherWisePrintFileName(){return this.http.get(this.apiUrl+"/getVoucherWisePrintFileName")}}return v.\u0275fac=function(a){return new(a||v)(e.LFG(M.eN),e.LFG(E.e))},v.\u0275prov=e.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var O=n(14970),h=n(53074),P=n(5615),o=n(73965),r=n(71259);const g=["PrintFileUpload"],l=["OtpPopup"],C=["OtpPopup2"],R=["OTPForUpload"];function I(v,N){if(1&v&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&v){const a=N.$implicit;e.s9C("value",a.VOUCHER_ID),e.xp6(1),e.Oqu(a.VOUCHER_NAME)}}function b(v,N){if(1&v&&(e.TgZ(0,"tr")(1,"td",52),e._uU(2),e.qZA(),e.TgZ(3,"td",53),e._uU(4),e.qZA()()),2&v){const a=N.$implicit;e.xp6(2),e.Oqu(a.VoucherName),e.xp6(2),e.Oqu(a.FileName)}}function U(v,N){if(1&v){const a=e.EpF();e.TgZ(0,"div")(1,"div",41)(2,"div",42)(3,"div",43)(4,"table",44)(5,"thead")(6,"tr")(7,"th",45),e._uU(8,"Voucher Name"),e.qZA(),e.TgZ(9,"th",46),e._uU(10,"Print File Name"),e.qZA(),e.TgZ(11,"th",47)(12,"button",48),e.NdJ("click",function(){e.CHM(a);const m=e.oxw();return e.KtG(m.closePopup())}),e.TgZ(13,"span",49),e._uU(14,"\xd7"),e.qZA()()()()(),e.TgZ(15,"tbody",50),e.YNc(16,b,5,2,"tr",51),e.qZA()()()()()()}if(2&v){const a=e.oxw();e.xp6(16),e.Q6J("ngForOf",a.voucherWisePrintFileList)}}let k=(()=>{class v{constructor(a,d,m,p,F,Z,D,H,z,Q){this.document=a,this.alertService=d,this.router=m,this.printService=p,this.loadingService=F,this.location=Z,this.http=D,this.masterService=H,this.categoryMasterService=z,this.formBuilder=Q,this.href="",this.fileToUpload=null,this.initialTextReadOnly=!1,this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={},this.ShowPrintFileName=0,this.fileList=null,this.ResetDefultForm=this.formBuilder.group({ResetDefult:["",s.kI.required]}),this.printService.readSettingDescriptionJson().subscribe()}ngOnInit(){this.printService.loadVoucher().subscribe(a=>{this.voucherList=a}),this.href=this.router.url,this.dropdownList=[{item_id:"formwiseprintformat",item_text:"Formwise Print Format"},{item_id:"reportcolumnformat",item_text:"Report Column Format"},{item_id:"storedprocedure",item_text:" Update Stored Procedure / Views"},{item_id:"taxchargesconfig",item_text:"Tax Config Charges"},{item_id:"reportmaster",item_text:"Default Report Master & Report Details"},{item_id:"directorapp",item_text:"Directors app Stored Procedure"}],this.selectedItems=[],this.dropdownSettings={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0}}onItemSelect(a){console.log(a)}onSelectAll(a){console.log(a)}onSubmit(){this.OtpPopup2.show()}resetDefault(){this.OtpPopup.show()}closePopup(){this.ShowPrintFileName=0}downloadDefaultFile(){this.printService.downloadFIle(this.SelectedVoucher).subscribe(a=>{this.downloadJS(a.result)},a=>{this.alertService.error(a.error.result),this.loadingService.hide()})}onFileChange(a){this.fileList=a.target.files}uploadFile(){this.OTPForUpload.show()}confirmationOkClickedReset(a){if(1==a){let m=[];this.ResetDefultForm.value.ResetDefult.map((p,F)=>{m.push(p.item_id)}),this.masterService.resetToDefaultValue(m).subscribe(p=>{"ok"==p.status&&(this.alertService.success(p.result),this.ResetDefultForm.reset())},p=>setTimeout(()=>{this.alertService.error(p.error)},5e3))}else this.alertService.error("OTP Invalid")}confirmationOkClicked(a){1==a?(this.loadingService.show("Resetting..."),""==this.SelectedVoucher||null==this.SelectedVoucher||null==this.SelectedVoucher?this.printService.resetPrintToDefault().subscribe(d=>{console.log("after reset",d),"ok"==d.status?(this.loadingService.hide(),this.alertService.success("Print format successfully reset to default")):(this.loadingService.hide(),this.alertService.error("Operation Failed"))}):this.printService.resetSelectedPrintToDefault(this.SelectedVoucher).subscribe(d=>{console.log("after reset",d),"ok"==d.status?(this.loadingService.hide(),this.alertService.success("Print format successfully reset to default")):(this.loadingService.hide(),this.alertService.error("Operation Failed"))})):this.alertService.error("OTP Invalid")}confirmationUploadClicked(a){if(1==a){if(console.log("FILE LIST",this.fileList),null==this.SelectedVoucher||""==this.SelectedVoucher)return void this.alertService.info("Please Select Master.");if(null==this.fileList||0==this.fileList.length)return void this.alertService.info("Please Select File.");if(this.fileList.length>0){let d=this.fileList[0],m=new FormData;m.append("config",d,d.name),this.loadingService.show("Uploading. Please Wait...this may take some time"),this.printService.UploadPrintFile(m,this.SelectedVoucher).subscribe(p=>{console.log("result from print file upload",p),this.loadingService.hide(),console.log("result"),"ok"==p.status?(this.alertService.success("Request Successful"),this.SelectedVoucher="",this.fileList=null,this.PrintFileUpload.nativeElement.value=null):"errorfile"==p.status?this.alertService.error("Some of the rows cannot be saved. Please check 'Upload Status' for more details."):"error"==p.status?this.alertService.error("Error :"+p.result.error):(this.loadingService.hide(),this.alertService.error(p.result))},p=>{this.loadingService.hide(),this.alertService.error(p)})}}else this.alertService.error("OTP Invalid")}cancel(){try{this.router.navigate(["/pages/dashboard"])}catch(a){console.log(a),this.alertService.error(a)}}handleFileInput(a){this.fileToUpload=a.item(0)}downloadJS(a){let p=`${A.N.apiUrl.replace("api","")}${a}`;fetch(p).then(F=>F.blob()).then(F=>{const Z=window.URL.createObjectURL(F),D=document.createElement("a");D.style.display="none",D.href=Z,D.download=a.substring(10),document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(Z),this.alertService.success("your file has downloaded!")}).catch(()=>alert("Download Failed"))}settingClick(){try{this.router.navigate(["./pages/configuration/setting-master"])}catch(a){this.alertService.info(a)}}divisionClick(){try{this.router.navigate(["./pages/configuration/division-master"])}catch(a){this.alertService.info(a)}}taxConfigClick(){try{this.router.navigate(["./pages/configuration/tax-config"])}catch(a){this.alertService.info(a)}}paymentModeClick(){try{this.router.navigate(["./pages/configuration/payment-mode-master"])}catch(a){this.alertService.info(a)}}showPrintFileName(){this.printService.getVoucherWisePrintFileName().subscribe(a=>{this.voucherWisePrintFileList=a.result,console.log("default print file name",a.result,this.voucherWisePrintFileList)})}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(t.K0),e.Y36(f.c),e.Y36(_.F0),e.Y36(c),e.Y36(O.V),e.Y36(t.Ye),e.Y36(M.eN),e.Y36(h.P),e.Y36(P.u),e.Y36(s.qu))},v.\u0275cmp=e.Xpm({type:v,selectors:[["printfile-setup-config"]],viewQuery:function(a,d){if(1&a&&(e.Gf(g,5),e.Gf(l,5),e.Gf(C,5),e.Gf(R,5)),2&a){let m;e.iGM(m=e.CRH())&&(d.PrintFileUpload=m.first),e.iGM(m=e.CRH())&&(d.OtpPopup=m.first),e.iGM(m=e.CRH())&&(d.OtpPopup2=m.first),e.iGM(m=e.CRH())&&(d.OTPForUpload=m.first)}},decls:71,vars:9,consts:[[1,"main-container",2,"margin-top","0px","; margin-bottom","0px","height","auto"],[1,"row"],[1,"col-md-12"],["id","printfilesetups",1,"tabbable"],[1,"nav","nav-tabs",2,"background-color","#d9e5e7"],[1,"nav-item"],["href","#printfilesetup","data-toggle","tab",1,"nav-link","active"],["href","#resetToDefault","data-toggle","tab",1,"nav-link"],["data-toggle","tab",1,"nav-link",3,"click"],[1,"tab-content"],["id","printfilesetup",1,"tab-pane","active"],[1,"row","clearfix"],[1,"col-md-8"],[1,"form-group","row"],["for","voucher",1,"col-md-4","form-control-label"],["name","voucherType","id","Voucher",1,"form-control",2,"color","black","width","86.5%",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","path",1,"col-md-4","form-control-label"],[1,"row",2,"width","100%"],[1,"col-md-7"],["type","file","id","upload",1,"form-control",2,"height","41px","font-size","14px",3,"change"],["PrintFileUpload",""],[1,"col-md-5"],["type","checkbox",2,"width","17px","height","18px",3,"ngModel","change","click","ngModelChange"],[2,"width","auto","margin-left","-23px"],[1,"col-md-8","buttons"],["type","button",1,"btn","btn-info",2,"margin-right","10px",3,"click"],["type","button ",1,"btn","btn-info",2,"margin-right","10px",3,"click"],["id","resetToDefault",1,"tab-pane"],[2,"border","none","margin-top","15px","width","100%","padding","5px 5px"],[1,"form-group","row",3,"formGroup","ngSubmit"],[1,"col-sm-4"],["formControlName","ResetDefult",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"],["type","submit",1,"btn",2,"padding","4px 15px","font-size","13px","background-color","#17A2B8","color","#fff"],[4,"ngIf"],[3,"okClicked"],["OtpPopup",""],["OtpPopup2",""],["OTPForUpload",""],[3,"value"],[1,"modal-sticky"],[1,"all-data-table"],[1,"data-table-2"],[1,"table","table-sm"],["scope","col",2,"width","20%","padding-left","18px"],["scope","col",2,"width","60%"],["scope","col",2,"width","10%"],["aria-label","Close",1,"close",2,"margin-bottom","5px",3,"click"],["aria-hidden","true"],[2,"font-size","13px"],[4,"ngFor","ngForOf"],[1,"voucherName",2,"width","40%"],[2,"width","70%"]],template:function(a,d){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),e._uU(7,"Print File Setup"),e.qZA()(),e.TgZ(8,"li",5)(9,"a",7),e._uU(10,"Reset to default"),e.qZA()(),e.TgZ(11,"li",5)(12,"a",8),e.NdJ("click",function(){return d.settingClick()}),e._uU(13,"Setting Master"),e.qZA()(),e.TgZ(14,"li",5)(15,"a",8),e.NdJ("click",function(){return d.divisionClick()}),e._uU(16,"Division Master"),e.qZA()(),e.TgZ(17,"li",5)(18,"a",8),e.NdJ("click",function(){return d.taxConfigClick()}),e._uU(19,"Tax Config Charges"),e.qZA()(),e.TgZ(20,"li",5)(21,"a",8),e.NdJ("click",function(){return d.paymentModeClick()}),e._uU(22,"Payment Mode Master"),e.qZA()()(),e.TgZ(23,"div",9)(24,"div",10)(25,"div",11)(26,"div",2)(27,"div",12)(28,"div",13)(29,"label",14),e._uU(30,"Select a VoucherType "),e.qZA(),e.TgZ(31,"div",12)(32,"select",15),e.NdJ("ngModelChange",function(p){return d.SelectedVoucher=p}),e._UZ(33,"option",16),e.YNc(34,I,2,2,"option",17),e.qZA()()(),e.TgZ(35,"div",13)(36,"label",18),e._uU(37,"Choose a Path "),e.qZA(),e.TgZ(38,"div",19)(39,"div",20)(40,"input",21,22),e.NdJ("change",function(p){return d.onFileChange(p)}),e.qZA()(),e.TgZ(42,"div",23)(43,"input",24),e.NdJ("change",function(p){return d.ShowPrintFileName=p.target.checked?1:0})("click",function(){return d.showPrintFileName()})("ngModelChange",function(p){return d.ShowPrintFileName=p}),e.qZA(),e.TgZ(44,"label",25),e._uU(45,"Show All Print File Name"),e.qZA()()()()(),e.TgZ(46,"div",26)(47,"button",27),e.NdJ("click",function(){return d.downloadDefaultFile()}),e._uU(48," Download Default Print File "),e.qZA(),e.TgZ(49,"button",27),e.NdJ("click",function(){return d.uploadFile()}),e._uU(50," Upload Print File "),e.qZA(),e.TgZ(51,"button",28),e.NdJ("click",function(){return d.resetDefault()}),e._uU(52," Reset To Default "),e.qZA(),e.TgZ(53,"button",28),e.NdJ("click",function(){return d.cancel()}),e._uU(54," Back "),e.qZA()()()()(),e.TgZ(55,"div",29)(56,"div",11)(57,"div",2)(58,"fieldset",30)(59,"form",31),e.NdJ("ngSubmit",function(){return d.onSubmit()}),e.TgZ(60,"div",32)(61,"ng-multiselect-dropdown",33),e.NdJ("ngModelChange",function(p){return d.selectedItems=p})("onSelect",function(p){return d.onItemSelect(p)})("onSelectAll",function(p){return d.onSelectAll(p)}),e.qZA()(),e.TgZ(62,"button",34),e._uU(63," Reset To Default "),e.qZA()()()()()()()()()(),e.YNc(64,U,17,1,"div",35),e.qZA(),e.TgZ(65,"app-otp",36,37),e.NdJ("okClicked",function(p){return d.confirmationOkClicked(p)}),e.qZA(),e.TgZ(67,"app-otp",36,38),e.NdJ("okClicked",function(p){return d.confirmationOkClickedReset(p)}),e.qZA(),e.TgZ(69,"app-otp",36,39),e.NdJ("okClicked",function(p){return d.confirmationUploadClicked(p)}),e.qZA()),2&a&&(e.xp6(32),e.Q6J("ngModel",d.SelectedVoucher),e.xp6(2),e.Q6J("ngForOf",d.voucherList),e.xp6(9),e.Q6J("ngModel",d.ShowPrintFileName),e.xp6(16),e.Q6J("formGroup",d.ResetDefultForm),e.xp6(2),e.Q6J("placeholder","Select for Reset")("settings",d.dropdownSettings)("data",d.dropdownList)("ngModel",d.selectedItems),e.xp6(3),e.Q6J("ngIf",1==d.ShowPrintFileName))},dependencies:[t.sg,t.O5,s._Y,s.YN,s.Kr,s.Wl,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,o._,r.O],styles:["label[for=voucher][_ngcontent-%COMP%]{margin-top:30px}label[_ngcontent-%COMP%]{font-size:13px}.buttons[_ngcontent-%COMP%]{margin-left:12px}[_nghost-%COMP%]     .multiselect-dropdown .dropdown-btn .selected-item{font-size:13px!important}[_nghost-%COMP%]     .multiselect-dropdown .dropdown-btn .selected-item{max-width:300px!important}[_nghost-%COMP%]     .multiselect-item-checkbox input[type=checkbox]+div{font-size:14px}[_nghost-%COMP%]     .multiselect-dropdown .dropdown-btn{font-size:14px}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500}thead[_ngcontent-%COMP%]{background:#9ccae4;position:sticky;top:0;font-size:13px;background:#628FA5;color:#f8f8ff}.close[_ngcontent-%COMP%]:hover{color:maroon}.voucherName[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.modal-sticky[_ngcontent-%COMP%]{display:block;padding:0;margin-bottom:-5vh;margin-right:64vh;background-color:#fff;overflow-y:scroll;position:fixed;top:16vh;right:-12vh;width:50%;height:75%;z-index:9999999;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px}","input.non-editable[_ngcontent-%COMP%] {\n      border: none;\n      background: #f1f1f1;\n      text-align: left;\n    }\n  \n    .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]:first-child {\n      text-align: left;\n    }\n  \n    input[_ngcontent-%COMP%] {\n      min-width: 90px;\n      height: 23px;\n    }\n  \n    tr[_ngcontent-%COMP%] {\n      height: 30px;\n      line-height: 30px;\n      text-align: center;\n    }\n    .multiselect-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%] {\n    font-size: 13px !important;\n}"]}),v})();var B=n(65778),w=n(82716),Y=n(52103),V=n(85245);const J=[{path:"",component:k,canActivate:[L.C]},{path:"setting-master",component:B.L},{path:"division-master",component:w.p},{path:"tax-config",component:Y.l},{path:"Payment-mode-master",component:V.U}];let G=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({imports:[_.Bz.forChild(J),_.Bz]}),v})();var K=n(55618);let W=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({providers:[L.C,i.p,c,P.u],imports:[t.ez,T.m,S.Is,G,K.c.forRoot(),r.Z.forRoot()]}),v})()}}]);