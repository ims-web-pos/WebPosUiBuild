var $te=Object.defineProperty,Xte=(Oe,J,S)=>J in Oe?$te(Oe,J,{enumerable:!0,configurable:!0,writable:!0,value:S}):Oe[J]=S,u=(Oe,J,S)=>(Xte(Oe,"symbol"!=typeof J?J+"":J,S),S);(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[2044],{71459:(Oe,J,S)=>{"use strict";S.d(J,{J:()=>ie});var v=S(81152),e=S(26320);let ie=(()=>{class Z{}return Z.\u0275fac=function(X){return new(X||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[v.UX,v.u5]}),Z})()},53158:(Oe,J,S)=>{"use strict";S.d(J,{i:()=>pe});var v=S(1298),e=S(68567),ie=S(81152),Z=S(26320);let pe=(()=>{class X{static forRoot(){return{ngModule:X}}}return X.\u0275fac=function(de){return new(de||X)},X.\u0275mod=Z.oAB({type:X}),X.\u0275inj=Z.cJS({imports:[v.ez,ie.u5,ie.UX,e.JX]}),X})()},32044:(Oe,J,S)=>{"use strict";S.r(J),S.d(J,{ReportModule:()=>Qte});var v=S(70477),e=S(26320);let ie=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["report"]],decls:1,vars:0,template:function(t,r){1&t&&e._UZ(0,"router-outlet")},dependencies:[v.lC],encapsulation:2}),n})();var Z=S(70489);function pe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"closing-stock",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function X(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"bill-wise-item-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function xe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-invoice-detail-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function de(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-order-detail-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function vt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"customer-wise-item-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function he(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"item-master",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"stock-settlement-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"item-scheme-master",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Q(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"itemwise-channel-margin",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function z(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-return-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ve(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-order-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function _e(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-bill-cancel-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function fe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"customerwise-salesreturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function it(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"dailycollection-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function We(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"salesreturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ut(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"scheme-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ot(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-order-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function oe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function B(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-order-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function bt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-return-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Fr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"itemwisestockandsalessummary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function w(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"result-purchaseregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function D(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"saleseregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function R(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"opening-stock",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function x(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mrp-change-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function I(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"audit-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function W(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchasereturn-summary-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function V(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"daily-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function U(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"vat-sales-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function te(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"annexure13report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function K(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"vat-purchase-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function se(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"debitnote-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ye(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"creditnote-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Me(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"one-lakh-above-SALES-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ot(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"one-lakh-above-purchase-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function nt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"account-ledger-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ye(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-book-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ge(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"salesreport-itemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ie(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-book-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function zt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchasereport-itemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ct(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-itemwise-detail",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function z4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-report-itemwise-detail",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function B4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"credit-notebook-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function J4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"debit-notebook-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Y4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-report-supplier-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function q4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-customer-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function G4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-supplier-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Q4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"SalesReportProductTypeWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function K4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"PurchaseReportCategoryWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function $4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"PurchaseReportProductTypeWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function X4(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"SalesReportCategoryWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function e6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"salesregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function t6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"stock-summary-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function r6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"requisition-approval-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function i6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"stock-ledger-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function o6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"stock-valuation-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function n6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"membership-point-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function a6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"datereport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function s6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"transreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function l6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"branch-transfer-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function c6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"item-expiry-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function p6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"maximum-stock-level-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function d6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"minimum-stock-level-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function h6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"reorder-level-stock-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function _6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"stockabc-analysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function u6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"pricechange-log-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function g6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-profitabilityanalysis",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function m6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-order-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function f6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-order-outstanding",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function S6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"quotation-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function v6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"salesorderreport-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function O6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"salesorderoutstanding-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function b6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"currentstockwarehousewise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function C6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"grn-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function T6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"repack-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function M6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"requisition-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function A6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"rawdata-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function P6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"stockageing-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function R6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"branch-transferout-vs-inreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function E6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"stock-warehouse-wise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function y6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"consolidatedpurchase-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function I6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"consolidatedsales-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function N6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"consolidatedstock-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function D6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"branch-transfer-in-reportitemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function k6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"branchtransferout-itemwise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function F6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"salescollection-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function j6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"opening-stock-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function L6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"rate-group-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function w6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"salesprice-changelog-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function x6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"opening-stock-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function V6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"VATSalesRegister-ReportNew",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function W6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"vat-purchaseregisterreport-new",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Z6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"stock-issue-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function H6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"creditnote-sales-return-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function U6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"debitnote-purchasereturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function z6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"vat-other-adjustment-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function B6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"shift-close-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function J6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"stock-variance-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Y6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-revenueanalysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function q6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-salesman-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function G6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-membership-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Q6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"proformainvoicereport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function K6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"recurring-transaction-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function $6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"recurring-transaction-analysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function X6(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-flow-report-monthwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ed(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-flow-report-monthwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function td(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"worsesales-analysisreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function rd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"topsales-analysisreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function id(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"sales-revenue-metrics-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function od(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-hourly-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}let Fn=(()=>{class n{constructor(t,r){this.dialogref=t,this.data=r,this.ReportParameters={},this.activeurlpath=r.activeurlpath,this.currentreportparam=r.reportparam}reportdataEmit(t){this.dialogref.close(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.so),e.Y36(Z.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["masterdreportdialog"]],decls:110,vars:110,consts:[[3,"reportdataEmit",4,"ngIf"],[3,"reportdataEmit"]],template:function(t,r){1&t&&(e.YNc(0,pe,1,0,"closing-stock",0),e.YNc(1,X,1,0,"bill-wise-item-sales-report",0),e.YNc(2,xe,1,0,"purchase-invoice-detail-report",0),e.YNc(3,de,1,0,"purchase-order-detail-report",0),e.YNc(4,vt,1,0,"customer-wise-item-sales-report",0),e.YNc(5,he,1,0,"item-master",0),e.YNc(6,Ee,1,0,"stock-settlement-report",0),e.YNc(7,Y,1,0,"item-scheme-master",0),e.YNc(8,Q,1,0,"itemwise-channel-margin",0),e.YNc(9,z,1,0,"purchase-return-report",0),e.YNc(10,Ve,1,0,"sales-order-report",0),e.YNc(11,_e,1,0,"sales-bill-cancel-report",0),e.YNc(12,fe,1,0,"customerwise-salesreturn-report",0),e.YNc(13,it,1,0,"dailycollection-report",0),e.YNc(14,We,1,0,"salesreturn-report",0),e.YNc(15,Ut,1,0,"scheme-report",0),e.YNc(16,Ot,1,0,"purchase-order-summary",0),e.YNc(17,oe,1,0,"purchase-summary",0),e.YNc(18,B,1,0,"sales-order-summary",0),e.YNc(19,bt,1,0,"sales-return-summary",0),e.YNc(20,Fr,1,0,"itemwisestockandsalessummary",0),e.YNc(21,w,1,0,"result-purchaseregisterreport-dialog",0),e.YNc(22,D,1,0,"saleseregisterreport-dialog",0),e.YNc(23,R,1,0,"opening-stock",0),e.YNc(24,x,1,0,"mrp-change-report",0),e.YNc(25,I,1,0,"audit-report",0),e.YNc(26,W,1,0,"purchasereturn-summary-report",0),e.YNc(27,V,1,0,"daily-sales-report",0),e.YNc(28,U,1,0,"vat-sales-register-report",0),e.YNc(29,te,1,0,"annexure13report",0),e.YNc(30,K,1,0,"vat-purchase-register-report",0),e.YNc(31,se,1,0,"debitnote-register-report",0),e.YNc(32,ye,1,0,"creditnote-register-report",0),e.YNc(33,Me,1,0,"one-lakh-above-SALES-report",0),e.YNc(34,ot,1,0,"one-lakh-above-purchase-report",0),e.YNc(35,nt,1,0,"account-ledger-report",0),e.YNc(36,Ye,1,0,"purchase-book-report",0),e.YNc(37,ge,1,0,"salesreport-itemwise",0),e.YNc(38,Ie,1,0,"sales-book-report",0),e.YNc(39,zt,1,0,"purchasereport-itemwise",0),e.YNc(40,Ct,1,0,"sales-report-itemwise-detail",0),e.YNc(41,z4,1,0,"purchase-report-itemwise-detail",0),e.YNc(42,B4,1,0,"credit-notebook-report",0),e.YNc(43,J4,1,0,"debit-notebook-report",0),e.YNc(44,Y4,1,0,"purchase-report-supplier-wise",0),e.YNc(45,q4,1,0,"sales-report-customer-wise",0),e.YNc(46,G4,1,0,"sales-report-supplier-wise",0),e.YNc(47,Q4,1,0,"SalesReportProductTypeWise",0),e.YNc(48,K4,1,0,"PurchaseReportCategoryWise",0),e.YNc(49,$4,1,0,"PurchaseReportProductTypeWise",0),e.YNc(50,X4,1,0,"SalesReportCategoryWise",0),e.YNc(51,e6,1,0,"salesregisterreport-dialog",0),e.YNc(52,t6,1,0,"stock-summary-report",0),e.YNc(53,r6,1,0,"requisition-approval-report",0),e.YNc(54,i6,1,0,"stock-ledger-report",0),e.YNc(55,o6,1,0,"stock-valuation-report",0),e.YNc(56,n6,1,0,"membership-point-report",0),e.YNc(57,a6,1,0,"datereport",0),e.YNc(58,s6,1,0,"transreport",0),e.YNc(59,l6,1,0,"branch-transfer-report",0),e.YNc(60,c6,1,0,"item-expiry-report",0),e.YNc(61,p6,1,0,"maximum-stock-level-report",0),e.YNc(62,d6,1,0,"minimum-stock-level-report",0),e.YNc(63,h6,1,0,"reorder-level-stock-report",0),e.YNc(64,_6,1,0,"stockabc-analysis-report",0),e.YNc(65,u6,1,0,"pricechange-log-report",0),e.YNc(66,g6,1,0,"sales-profitabilityanalysis",0),e.YNc(67,m6,1,0,"purchase-order-report",0),e.YNc(68,f6,1,0,"purchase-order-outstanding",0),e.YNc(69,S6,1,0,"quotation-report-selector",0),e.YNc(70,v6,1,0,"salesorderreport-selector",0),e.YNc(71,O6,1,0,"salesorderoutstanding-selector",0),e.YNc(72,b6,1,0,"currentstockwarehousewise-report",0),e.YNc(73,C6,1,0,"grn-report-selector",0),e.YNc(74,T6,1,0,"repack-report-selector",0),e.YNc(75,M6,1,0,"requisition-report-selector",0),e.YNc(76,A6,1,0,"rawdata-report-selector",0),e.YNc(77,P6,1,0,"stockageing-report-selector",0),e.YNc(78,R6,1,0,"branch-transferout-vs-inreport",0),e.YNc(79,E6,1,0,"stock-warehouse-wise-report",0),e.YNc(80,y6,1,0,"consolidatedpurchase-reportbranchwise",0),e.YNc(81,I6,1,0,"consolidatedsales-reportbranchwise",0),e.YNc(82,N6,1,0,"consolidatedstock-reportbranchwise",0),e.YNc(83,D6,1,0,"branch-transfer-in-reportitemwise",0),e.YNc(84,k6,1,0,"branchtransferout-itemwise-report",0),e.YNc(85,F6,1,0,"salescollection-selector",0),e.YNc(86,j6,1,0,"opening-stock-report-selector",0),e.YNc(87,L6,1,0,"rate-group-report",0),e.YNc(88,w6,1,0,"salesprice-changelog-report",0),e.YNc(89,x6,1,0,"opening-stock-report-selector",0),e.YNc(90,V6,1,0,"VATSalesRegister-ReportNew",0),e.YNc(91,W6,1,0,"vat-purchaseregisterreport-new",0),e.YNc(92,Z6,1,0,"stock-issue-report",0),e.YNc(93,H6,1,0,"creditnote-sales-return-register-report",0),e.YNc(94,U6,1,0,"debitnote-purchasereturn-report",0),e.YNc(95,z6,1,0,"vat-other-adjustment-report",0),e.YNc(96,B6,1,0,"shift-close-report",0),e.YNc(97,J6,1,0,"stock-variance-report",0),e.YNc(98,Y6,1,0,"sales-revenueanalysis-report",0),e.YNc(99,q6,1,0,"sales-report-salesman-wise",0),e.YNc(100,G6,1,0,"sales-report-membership-wise",0),e.YNc(101,Q6,1,0,"proformainvoicereport",0),e.YNc(102,K6,1,0,"recurring-transaction-report",0),e.YNc(103,$6,1,0,"recurring-transaction-analysis-report",0),e.YNc(104,X6,1,0,"sales-flow-report-monthwise",0),e.YNc(105,ed,1,0,"purchase-flow-report-monthwise",0),e.YNc(106,td,1,0,"worsesales-analysisreport",0),e.YNc(107,rd,1,0,"topsales-analysisreport",0),e.YNc(108,id,1,0,"sales-revenue-metrics-report",0),e.YNc(109,od,1,0,"app-hourly-sales-report",0)),2&t&&(e.Q6J("ngIf","closingStock"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","billwiseitemsalesreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseinvoicedetailreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorderdetailreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","customerwiseitemsales"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemMasterreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stockSettlementreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemSchemeMasterreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemwisechannelmarginreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereturnreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorder"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesbillcancelreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","customerwisesalesreturnreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","dailycollectionreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreturnreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","schemereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseordersummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasesummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesordersummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreturnsummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemwisestockandsalessummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseRegisterReport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesRegisterReport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","opening-stock-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","mrp-change-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","audit-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseReturnSummaryReport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","dailysalesreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatsalesregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","annexure13report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatpurchaseregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatdebitnoteregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatcreditnoteregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","onelakhsalesreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","onelakhpurchasereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","accountledgerreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasebookreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesbook-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-itemwise-detail"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-itemwise-detail"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","creditnotebook-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","debitnotebook-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-supplierwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-customerwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-supplierwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","SalesReportProductTypeWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","PurchaseReportCategoryWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","PurchaseReportProductTypeWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","SalesReportCategoryWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","saleseregisterreport-dialog"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-summary-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","requisition-approval-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-ledger-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-valuation-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","membershippointreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","datereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","transreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transfer-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","item-expiry-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","max-stocklevel-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","minimum-stocklevel-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","reorder-levelstock-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-abcanalysis-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","price-changelog-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesprofitability-analysis"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorderreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorder-outstanding"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","quotationreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorderreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorderoutstanding"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","currentstock-warehousewise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","grn-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","repack-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","requisition-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","raw-data-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stockageing-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transferout-vs-inreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-report-warehouse-wise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedpurchase-report-branchwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedsales-report-branchwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedstock-report-branchwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transfer-inreport-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transferout-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-collection-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","openingstockreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","rate-group-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesprice-changelog-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","openingstock-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-saleseregisterreport-new"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-purchaseregisterreport-new"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-issue-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","credit-note-sales-return-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","debitnote-purchasereturn-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-other-adjustment-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","shift-close-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-variance-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesrevenue-analysisreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-salesmanwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-membershipwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","proformainvoicereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","recurring-transaction-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","recurring-transaction-analysis-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-flow-report-monthwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchase-flow-report-monthwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","worsesales-analysisreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","topnsales-analysisreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-revenue-metrics-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","hourly-sales-report"==r.activeurlpath))},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();var Ze=S(26788),Ne=S(8929);class nd{constructor(){this.show=!1}}class ad{constructor(s,t,r){this.label=s,this.value=t,this.subject=r}}var jn=S(89887),f=S(1298),Ln=S(94327),Bt=S(17489),eo=S.n(Bt),sd=S(15439),k=S.n(sd),b=S(53074),P=S(67297),$=S(92340),me=S(17545),ld=S(71180);let A=(()=>{class n{constructor(t,r,o){this.authService=t,this.http=r,this.state=o,this.reportLoadSubject=new Ne.xQ,this.assignPrevioiusDate=!1,this.ReportFilterObject={},this.AccoutLedgerObj={},this.StockSummaryObj={},this.PartyLedgerObj={},this.StockLedgerObj={},this.StockValuationObj={},this.SalesBookObj={},this.PurchaseBookObj={},this.CreditNoteObj={},this.DebitNoteObj={},this.SalesItemWiseObj={},this.PurchaseItemWiseObj={},this.RequisitionApprovalObj={},this.SalesItemWiseDetailObj={},this.PurchaseItemWiseDetailObj={},this.SalesCustomerWiseObj={},this.SalesCategoryWiseObj={},this.PurchaseCategoryWiseObj={},this.SalesProductTypeObj={},this.PurchaseProductTypeObj={},this.SalesSupplierWiseObj={},this.PurchaseSupplierWiseObj={},this.MembershipPointObj={},this.BranchTransferObj={},this.ItemExpiryObj={},this.MaximumStockLevelObj={},this.MinimumStockLevelObj={},this.ReorderLevelStockReport={},this.StockAbcAnalysisObj={},this.PriceChangeLogObj={},this.SalesProfitabilityAnalysisObj={},this.PurchaseOrderReportObj={},this.PurchaseOrderOutstandingObj={},this.QuotationReportObj={},this.SalesOrderReportObj={},this.SalesOrderOutstandingObj={},this.CurrentStockWarehousewiseObj={},this.GrnReportObj={},this.HourlySalesReportObj={},this.RepackReportObj={},this.RequisitionReportObj={},this.RawDataReportObj={},this.RecurringTransactionReportObj={},this.Annexure13ReportObj={},this.StockAgeingObj={},this.BranchtransferoutVsInObj={},this.StockWarehousewiseObj={},this.ConsolidtedPurchaseBranchWiseObj={},this.ConsolidtedSalesBranchWiseObj={},this.ConsolidtedStockBranchWiseObj={},this.BranchTransferInItemWiseObj={},this.BranchTransferOutItemwiseObj={},this.SalesCollectionObj={},this.ConsolidatedStockWarehousewiseObj={},this.OpeningStockObj={},this.RateGroupObj={},this.SalesPricechangeLogObj={},this.StockIssueObj={},this.VATSalesNewObj={},this.VATPurchaseNewObj={},this.CreditNoteSalesReturnObj={},this.DebitNotePurchaseReturnObj={},this.VatOtherAdjustmentObj={},this.ShiftCloseObj={},this.StockVarianceObj={},this.SalesRevenueAnalysisObj={},this.SalesReportSalesmanWiseObj={},this.SalesMembershipWiseObj={},this.ProformaInvoiceWiseObj={},this.RecurringTransactionAnalysisObj={},this.SalesFlowObj={},this.PurchaseFlowObj={},this.WorstSalesObj={},this.TopNSalesObj={},this.SalesRevenueMetricsObj={},this.TransactionLogObj={},this.SelectedAccount="",this.selectedAccountParty="",this.reportDataStore=[],this.previouslyLoadedReportList=[],this.drillParam={},this.reportDataStore=[]}exportReportFormat(t){return this.http.get(this.apiUrl+`/downloadReportFormat?reportName=${t}`)}importReportFormat(t){return this.http.get(this.apiUrl+`/resetReportFormatToDefault?reportName=${t}`)}saveExcelColumnFormate(t,r){let o={status:"error",result:""},i=new Ne.xQ;return new Headers({"Content-Type":"application/json"}),this.http.post(this.apiUrl+r,t).subscribe(l=>{const d=l;"ok"==d.status?(o.status="ok",o.result=d.result,i.next(o),i.unsubscribe()):(o.status="error1",o.result=d.result,i.next(o),i.unsubscribe())},l=>{o.status="error2",o.result=l,i.next(o),i.unsubscribe()}),i}getExcelColumnFormate(t){let r={status:"error",result:""},o=new Ne.xQ;return this.http.get(`${this.apiUrl}/getExcelColumnFormate/${t}`).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getItemImage(t){let r={status:"error",result:""},o=new Ne.xQ;return this.http.get(`${this.apiUrl}/getItemImage/${t}`).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}get apiUrl(){let t=$.N.apiUrl,r="";return!!t&&t.length>0&&(r=t),r}saveReportColumnFormat(t,r){let o={status:"error",result:""},i=new Ne.xQ;return new Headers({"Content-Type":"application/json"}),this.http.post(this.apiUrl+r,t).subscribe(l=>{const d=l;"ok"==d.status?(o.status="ok",o.result=d.result,i.next(o),i.unsubscribe()):(o.status="error1",o.result=d.result,i.next(o),i.unsubscribe())},l=>{o.status="error2",o.result=l,i.next(o),i.unsubscribe()}),i}getReportColumnFormate(t){let r={status:"error",result:""},o=new Ne.xQ;return this.http.get(`${this.apiUrl}/getReportColumnFormate/${t}`).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}drillDown(t,r=""){this.drillParam={},this.drillParam.reportparam={},this.drillParam.reportparam.mode="DRILL",this.drillParam.returnUrl=r}updateReportColumnFormat(t){return this.http.post(this.apiUrl+"/updateReportColumnFormat",t)}refreshReportColumnFormate(t,r){let o={status:"error",result:""},i=new Ne.xQ;return this.http.post(`${this.apiUrl}/refreshReportColumnFormate`,{reportname:t,reportparam:r}).subscribe(l=>{i.next(l),i.unsubscribe()},l=>{o.status="error",o.result=l,i.next(o),i.unsubscribe()}),i}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(P.e),e.LFG(me.eN),e.LFG(ld.q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var wn=S(14970),y=S(67311),T=S(87584),qe=S(76750),De=S(68567),p=S(81152);const cd=["modalcontainer"];function pd(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",5),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.callSubscriber(i))}),e._uU(2),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.label)}}let dd=(()=>{class n{constructor(t){this.changeDetectorRef=t,this.containerPosY=0,this.containerPosX=0,this.isArrowUpward=!0}ngOnInit(){this.changeDetectorRef.detectChanges(),this.prepareContextMenu()}hideContextMenuWithTimer(t){(0,Ze.isNullOrUndefined)(t)&&(t=n.MOUSE_OUT_TIMEOUT_MS),this.autoHideTimer=setTimeout(()=>{this.data.show=!1},t)}clearContextMenuHideTimer(){clearTimeout(this.autoHideTimer)}isValueNullOrUndefined(t){return!!(0,Ze.isNullOrUndefined)(t)}callSubscriber(t){t.subject.next(t)}prepareContextMenu(){try{this.validateData(),this.buildDisplayPositions()}catch(t){this.hideContextMenuWithTimer(0),console.error("unable to prepareContextMenu the context menu due to following exception/error: "+t)}finally{this.data.show&&this.hideContextMenuWithTimer(n.IDLE_TIMEOUT_MS)}}buildDisplayPositions(){const t=this.container.nativeElement;let r=0;(0,Ze.isNullOrUndefined)(t)||(r=t.offsetHeight),r>0&&(this.buildTopPosition(r),this.buildLeftPosition())}validateData(){if((0,Ze.isNullOrUndefined)(this.data))throw new TypeError("context menu info can not be null or undefined");if((0,Ze.isNullOrUndefined)(this.data.mouseEvent))throw new TypeError("context menu should be associated with mouseEvent e.g. mouse left click");if((0,Ze.isNullOrUndefined)(this.data.menuItems))throw new TypeError("action item is missing")}buildLeftPosition(){this.containerPosX=this.data.mouseEvent.clientX}buildTopPosition(t){const r=this.data.mouseEvent.currentTarget.offsetHeight,o=window.innerHeight,i=this.data.mouseEvent.clientY;let l=-10;t+i+r<o?l=i+r:(l=i-(t+r),this.isArrowUpward=!1),l<0&&(l=0),this.containerPosY=l}}return n.IDLE_TIMEOUT_MS=2e4,n.MOUSE_OUT_TIMEOUT_MS=2e4,n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contextmenu"]],viewQuery:function(t,r){if(1&t&&e.Gf(cd,5),2&t){let o;e.iGM(o=e.CRH())&&(r.container=o.first)}},inputs:{data:"data"},decls:5,vars:6,consts:[[1,"modal-container",3,"mouseout","mouseover"],["modalcontainer",""],[1,"modal-tip",3,"ngClass"],["id","left-container",1,"left-container"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0,1),e.NdJ("mouseout",function(i){return r.hideContextMenuWithTimer(i)})("mouseover",function(){return r.clearContextMenuHideTimer()}),e._UZ(2,"div",2),e.TgZ(3,"ul",3),e.YNc(4,pd,3,1,"li",4),e.qZA()()),2&t&&(e.Udp("left",r.containerPosX,"px")("top",r.containerPosY,"px"),e.xp6(2),e.s9C("ngClass",r.isArrowUpward?"modal-tip-upward-arrow":"modal-tip-downward-arrow"),e.xp6(2),e.Q6J("ngForOf",r.data.menuItems))},dependencies:[f.mk,f.sg],styles:['li[_ngcontent-%COMP%]{list-style:none}.modal-container[_ngcontent-%COMP%]{left:40px;position:absolute;z-index:100000}.modal-container[_ngcontent-%COMP%]   .modal-tip[_ngcontent-%COMP%]{content:"";display:block;position:absolute;left:20px;width:8px;height:4px}.modal-container[_ngcontent-%COMP%]   .modal-tip-upward-arrow[_ngcontent-%COMP%]{top:-4px}.modal-container[_ngcontent-%COMP%]   .modal-tip-downward-arrow[_ngcontent-%COMP%]{bottom:-4px;top:auto}.modal-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{float:left;padding:15px;min-width:110px;margin-right:5px;margin-bottom:0;box-shadow:1px 1px 2px #999;border:1px solid #999999;background-color:#fff}.modal-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 0}']}),n})(),hd=(()=>{class n{transform(t,r){return r&&t?n.filter(t,r):t}static filter(t,r){const o=r.toLowerCase();function i(a,l){for(let d in a)if(null!==a[d]&&null!=a[d]&&("object"==typeof a[d]&&i(a[d],l)||a[d].toString().toLowerCase().includes(o)))return!0;return!1}return t.filter(function(a){return i(a,r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),_d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const ud=["childModal"],gd=["body"];function md(n,s){1&n&&(e.TgZ(0,"label",53),e._uU(1,"@As On Dated:\xa0"),e.qZA())}function fd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.engDateFrom," To ",t.engDateTo," ")}}function Sd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("(",t.FromdateInAD," To ",t.TodateInAD,") \xa0")}}function vd(n,s){if(1&n&&(e.TgZ(0,"label",55),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.reportparam.DATE,"\xa0(",t.FromdateInAD,")")}}function Od(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Division: ",t.divisionDisplayName,"\xa0")}}function bd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Warehouse: ",t.warehouseDisplayName,"\xa0")}}function Cd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@F/W: ",t.FromwarehouseName,"\xa0")}}function Td(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@T/W: ",t.ToWarehouseName,"\xa0")}}function Md(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Item Group: ",t.itemGroupDisplayName,"\xa0")}}function Ad(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Category: ",t.categoryDisplayName,"\xa0")}}function Pd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Item: ",t.itemName,"\xa0")}}function Rd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Item Type: ",t.itemTypeDisplay,"\xa0")}}function Ed(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Supplier: ",t.supplierDisplayName,"\xa0")}}function yd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",t.itemDisplayName," (",t.itemDisplaycode,")\xa0")}}function Id(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",t.stockLedgerItemDisplayName," (",t.stockLedgerItemDisplaycode,")\xa0")}}function Nd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",t.itemwiseDisplayName," (",t.itemwiseDisplaycode,")\xa0\xa0")}}function Dd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.labelDisplayName,"\xa0")}}function kd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.reportTypeDisplayName,"\xa0")}}function Fd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Report Mode: ",t.reporModeDisplayName,"\xa0")}}function jd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.includeReturnDisplayName,"\xa0")}}function Ld(n,s){1&n&&(e.TgZ(0,"label",54),e._uU(1," {{creditNoteDisplayName}\xa0}"),e.qZA())}function wd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.debitNoteDisplayName,"\xa0")}}function xd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Report Type: ",t.purchaseItemWiseDisplay,"\xa0")}}function Vd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Cost Center: ",t.costcenterDisplayName,"\xa0")}}function Wd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Customer Name: ",t.customerDisplayName,"\xa0")}}function Zd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Salesman Name: ",t.SalesmanDisplayName,"\xa0")}}function Hd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Recurring Item: ",t.RecurringItemName,"\xa0")}}function Ud(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Recurring Category: ",t.RecurringCategory,"\xa0")}}function zd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Report Option: ",t.RecurringOptionDisplayName,"\xa0")}}function Bd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.reportOptionDisplayName,"\xa0")}}function Jd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Transaction Mode: ",t.recurringTransactionMode,"\xa0")}}function Yd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.showDetailDisplay,"\xa0")}}function qd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.showUserWiseFormat,"\xa0")}}function Gd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.stockshowDetailDisplay,"\xa0")}}function Qd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.showdetalreportdisplay,"\xa0")}}function Kd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.reportTypeDisplay,"\xa0")}}function $d(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Customer Type:",t.customerTypeDisplayName,"\xa0")}}function Xd(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Area:",t.areaDisplayName,"\xa0")}}function e0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Trn Mode:",t.transactionDisplayName,"\xa0")}}function t0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.areaWiseDisplayName,"\xa0")}}function r0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Sales Amount >= ",t.tranAmntDisplayName,"\xa0")}}function o0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Purchase Amount >= ",t.purchasetranAmntDisplayName,"\xa0")}}function n0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Product Type:",t.productTypeDisplay,"\xa0")}}function a0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.purchaseReturnDisplayName,"\xa0")}}function s0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.showReportType,"\xa0")}}function l0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Member Name: ",t.memberDisplayName,"\xa0")}}function c0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Points >= ",t.membershipPointDisplay,"\xa0")}}function p0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.topNsortDisplay,"\xa0")}}function d0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@User: ",t.UserDisplayName,"\xa0")}}function h0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Terminal: ",t.terminalDisplayName,"")}}function _0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" @TimeWiseReport: @From:",t.TimeDisplay," @To: ",t.TimeDisplay2,"")}}function u0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Req From: ",t.REQFROMDISPLAYNAME,"")}}function g0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Requ To: ",t.REQTODISPLAYNAME,"")}}function m0(n,s){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Status: ",t.StatusDisplayName,"")}}function f0(n,s){if(1&n&&(e.ynx(0),e.YNc(1,md,2,0,"label",50),e.YNc(2,fd,2,2,"label",51),e.YNc(3,Sd,2,2,"label",51),e.YNc(4,vd,2,2,"label",52),e.YNc(5,Od,2,1,"label",51),e.YNc(6,bd,2,1,"label",51),e.YNc(7,Cd,2,1,"label",51),e.YNc(8,Td,2,1,"label",51),e.YNc(9,Md,2,1,"label",51),e.YNc(10,Ad,2,1,"label",51),e.YNc(11,Pd,2,1,"label",51),e.YNc(12,Rd,2,1,"label",51),e.YNc(13,Ed,2,1,"label",51),e.YNc(14,yd,2,2,"label",51),e.YNc(15,Id,2,2,"label",51),e.YNc(16,Nd,2,2,"label",51),e.YNc(17,Dd,2,1,"label",51),e.YNc(18,kd,2,1,"label",51),e.YNc(19,Fd,2,1,"label",51),e.YNc(20,jd,2,1,"label",51),e.YNc(21,Ld,2,0,"label",51),e.YNc(22,wd,2,1,"label",51),e.YNc(23,xd,2,1,"label",51),e.YNc(24,Vd,2,1,"label",51),e.YNc(25,Wd,2,1,"label",51),e.YNc(26,Zd,2,1,"label",51),e.YNc(27,Hd,2,1,"label",51),e.YNc(28,Ud,2,1,"label",51),e.YNc(29,zd,2,1,"label",51),e.YNc(30,Bd,2,1,"label",51),e.YNc(31,Jd,2,1,"label",51),e.YNc(32,Yd,2,1,"label",51),e.YNc(33,qd,2,1,"label",51),e.YNc(34,Gd,2,1,"label",51),e.YNc(35,Qd,2,1,"label",51),e.YNc(36,Kd,2,1,"label",51),e.YNc(37,$d,2,1,"label",51),e.YNc(38,Xd,2,1,"label",51),e.YNc(39,e0,2,1,"label",51),e.YNc(40,t0,2,1,"label",51),e.YNc(41,r0,2,1,"label",51),e.YNc(42,o0,2,1,"label",51),e.YNc(43,n0,2,1,"label",51),e.YNc(44,a0,2,1,"label",51),e.YNc(45,s0,2,1,"label",51),e.YNc(46,l0,2,1,"label",51),e.YNc(47,c0,2,1,"label",51),e.YNc(48,p0,2,1,"label",51),e.YNc(49,d0,2,1,"label",51),e.YNc(50,h0,2,1,"label",51),e.YNc(51,_0,2,2,"label",51),e.YNc(52,u0,2,1,"label",51),e.YNc(53,g0,2,1,"label",51),e.YNc(54,m0,2,1,"label",51),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.reportparam.DATE1||t.reportparam.DATE2||t.reportparam.DATE),e.xp6(1),e.Q6J("ngIf",t.reportparam.DATE1&&t.reportparam.DATE2),e.xp6(1),e.Q6J("ngIf",t.reportparam.DATE1&&t.reportparam.DATE2),e.xp6(1),e.Q6J("ngIf",t.reportparam.DATE),e.xp6(1),e.Q6J("ngIf",t.divisionDisplayName),e.xp6(1),e.Q6J("ngIf",t.warehouseDisplayName),e.xp6(1),e.Q6J("ngIf",t.FromwarehouseName),e.xp6(1),e.Q6J("ngIf",t.ToWarehouseName),e.xp6(1),e.Q6J("ngIf",t.itemGroupDisplayName),e.xp6(1),e.Q6J("ngIf",t.categoryDisplayName),e.xp6(1),e.Q6J("ngIf",t.itemName),e.xp6(1),e.Q6J("ngIf",t.itemTypeDisplay),e.xp6(1),e.Q6J("ngIf",t.supplierDisplayName),e.xp6(1),e.Q6J("ngIf",t.itemDisplayName),e.xp6(1),e.Q6J("ngIf",t.stockLedgerItemDisplaycode),e.xp6(1),e.Q6J("ngIf",t.itemwiseDisplaycode),e.xp6(1),e.Q6J("ngIf",t.labelDisplayName),e.xp6(1),e.Q6J("ngIf",t.reportTypeDisplayName),e.xp6(1),e.Q6J("ngIf",t.reporModeDisplayName),e.xp6(1),e.Q6J("ngIf",t.includeReturnDisplayName),e.xp6(1),e.Q6J("ngIf",t.creditNoteDisplayName),e.xp6(1),e.Q6J("ngIf",t.debitNoteDisplayName),e.xp6(1),e.Q6J("ngIf",t.purchaseItemWiseDisplay),e.xp6(1),e.Q6J("ngIf",t.costcenterDisplayName),e.xp6(1),e.Q6J("ngIf",t.customerDisplayName),e.xp6(1),e.Q6J("ngIf",t.SalesmanDisplayName),e.xp6(1),e.Q6J("ngIf",t.RecurringItemName),e.xp6(1),e.Q6J("ngIf",t.RecurringCategory),e.xp6(1),e.Q6J("ngIf",t.RecurringOptionDisplayName),e.xp6(1),e.Q6J("ngIf",t.reportOptionDisplayName),e.xp6(1),e.Q6J("ngIf",t.recurringTransactionMode),e.xp6(1),e.Q6J("ngIf",t.showDetailDisplay),e.xp6(1),e.Q6J("ngIf",t.showUserWiseFormat),e.xp6(1),e.Q6J("ngIf",t.stockshowDetailDisplay),e.xp6(1),e.Q6J("ngIf",t.showdetalreportdisplay),e.xp6(1),e.Q6J("ngIf",t.reportTypeDisplay),e.xp6(1),e.Q6J("ngIf",t.customerTypeDisplayName),e.xp6(1),e.Q6J("ngIf",t.areaDisplayName),e.xp6(1),e.Q6J("ngIf",t.transactionDisplayName),e.xp6(1),e.Q6J("ngIf",t.areaWiseDisplayName),e.xp6(1),e.Q6J("ngIf",t.tranAmntDisplayName),e.xp6(1),e.Q6J("ngIf",t.purchasetranAmntDisplayName),e.xp6(1),e.Q6J("ngIf",t.productTypeDisplay),e.xp6(1),e.Q6J("ngIf",t.purchaseReturnDisplayName),e.xp6(1),e.Q6J("ngIf",t.showReportType),e.xp6(1),e.Q6J("ngIf",t.memberDisplayName),e.xp6(1),e.Q6J("ngIf",t.membershipPointDisplay),e.xp6(1),e.Q6J("ngIf",t.topNsortDisplay),e.xp6(1),e.Q6J("ngIf",t.UserDisplayName),e.xp6(1),e.Q6J("ngIf",t.terminalDisplayName),e.xp6(1),e.Q6J("ngIf",t.TimeDisplay),e.xp6(1),e.Q6J("ngIf",t.REQFROMDISPLAYNAME),e.xp6(1),e.Q6J("ngIf",t.REQTODISPLAYNAME),e.xp6(1),e.Q6J("ngIf",t.StatusDisplayName)}}function S0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",13)(1,"td",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.SaveInReportColumnFormat())}),e.TgZ(2,"i",57),e._UZ(3,"span",58),e.qZA()()()}}function v0(n,s){if(1&n&&(e.TgZ(0,"th",60),e._uU(1),e.qZA()),2&n){const t=s.$implicit,r=e.oxw(2);e.Udp("text-align",t.alignment),e.s9C("width",t.width),e.Q6J("ngClass",("MAIN GROUP"!=t.mappingName&&"MAINGROUP"!=t.mappingName&&"SUB GROUP_A"!=t.mappingName&&"SUBGROUP_A"!=t.mappingName&&"SUB GROUP_B"!=t.mappingName&&"SUBGROUP_B"!=t.mappingName&&"SUB GROUP_C"!=t.mappingName&&"SUBGROUP_C"!=t.mappingName&&"CATEGORY"!=t.mappingName||0!=r.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==t.mappingName&&0==r.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==t.mappingName&&0==r.reportparam.ShowDetail?"notdisplay":"")),e.uIk("colspan",t.colspan),e.xp6(1),e.hij(" ",t.colGroup," ")}}function O0(n,s){if(1&n&&(e.TgZ(0,"thead")(1,"tr",30),e.YNc(2,v0,2,6,"th",59),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.optionalreportHeaders)}}function b0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,a=o.index,l=e.oxw();return e.KtG(l.sortTableData(i.mappingName,"desc",a))}),e.qZA()}}function C0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,a=o.index,l=e.oxw();return e.KtG(l.sortTableData(i.mappingName,"asc",a))}),e.qZA()}}function T0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,a=o.index,l=e.oxw();return e.KtG(l.sortTableData(i.mappingName,"desc",a))}),e.qZA()}}function M0(n,s){if(1&n&&(e.TgZ(0,"th",61),e._uU(1),e.YNc(2,b0,1,0,"i",62),e.YNc(3,C0,1,0,"i",63),e.YNc(4,T0,1,0,"i",62),e.qZA()),2&n){const t=s.$implicit,r=e.oxw();e.s9C("width",t.width),e.Q6J("ngStyle",r.getReportHeadingStyles())("ngClass",("MAIN GROUP"!=t.mappingName&&"MAINGROUP"!=t.mappingName&&"SUB GROUP_A"!=t.mappingName&&"SUBGROUP_A"!=t.mappingName&&"SUB GROUP_B"!=t.mappingName&&"SUBGROUP_B"!=t.mappingName&&"SUB GROUP_C"!=t.mappingName&&"SUBGROUP_C"!=t.mappingName&&"CATEGORY"!=t.mappingName||0!=r.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==t.mappingName&&0==r.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==t.mappingName&&0==r.reportparam.ShowDetail?"notdisplay":"")),e.xp6(1),e.hij(" ",t.colHeader," "),e.xp6(1),e.Q6J("ngIf",null==t.sortOrder||"none"==t.sortOrder),e.xp6(1),e.Q6J("ngIf","asc"==t.sortOrder),e.xp6(1),e.Q6J("ngIf","desc"==t.sortOrder)}}const A0=function(n,s){return[n,s]};function P0(n,s){if(1&n&&(e.TgZ(0,"td",68)(1,"pre",69),e._uU(2),e.qZA()()),2&n){const t=s.$implicit,r=e.oxw().$implicit,o=e.oxw();e.Udp("text-align",0==t.alignment?"inherit":"end"),e.s9C("width",t.width),e.Q6J("ngClass",e.WLB(6,A0,"B"==r.FFLG?"Boldtd":"Regulartd",("MAIN GROUP"!=t.mappingName&&"MAINGROUP"!=t.mappingName&&"SUB GROUP_A"!=t.mappingName&&"SUBGROUP_A"!=t.mappingName&&"SUB GROUP_B"!=t.mappingName&&"SUBGROUP_B"!=t.mappingName&&"SUB GROUP_C"!=t.mappingName&&"SUBGROUP_C"!=t.mappingName&&"CATEGORY"!=t.mappingName||0!=o.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==t.mappingName&&0==o.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==t.mappingName&&0==o.reportparam.ShowDetail?"notdisplay":""))),e.xp6(1),e.Q6J("ngStyle",o.getReportDetailStyles()),e.xp6(1),e.Oqu(r[t.mappingName])}}function R0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",66),e.NdJ("dblclick",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.drillDownReport(i))})("contextmenu",function(o){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onRightClick(o,a))})("click",function(){const i=e.CHM(t).index,a=e.oxw();return e.KtG(a.clicked(i))}),e.YNc(1,P0,3,9,"td",67),e.qZA()}if(2&n){const t=s.$implicit,r=s.index,o=e.oxw();e.ekj("active",r==o.HighlightRow),e.Q6J("ngClass","B"==t.FFLG?"Bold":"Regular"),e.xp6(1),e.Q6J("ngForOf",o.reportHeaders)}}function E0(n,s){if(1&n&&(e.TgZ(0,"td",72)(1,"pre",69),e._uU(2),e.qZA()()),2&n){const t=s.$implicit,r=e.oxw().$implicit,o=e.oxw();e.Udp("text-align",0==t.alignment?"inherit":"end"),e.s9C("width",t.width),e.Q6J("ngClass",("MAIN GROUP"!=t.mappingName&&"MAINGROUP"!=t.mappingName&&"SUB GROUP_A"!=t.mappingName&&"SUBGROUP_A"!=t.mappingName&&"SUB GROUP_B"!=t.mappingName&&"SUBGROUP_B"!=t.mappingName&&"SUB GROUP_C"!=t.mappingName&&"SUBGROUP_C"!=t.mappingName&&"CATEGORY"!=t.mappingName||0!=o.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==t.mappingName&&0==o.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==t.mappingName&&0==o.reportparam.ShowDetail?"notdisplay":"")),e.xp6(1),e.Q6J("ngStyle",o.getReportFooterStyles()),e.xp6(1),e.Oqu(r[t.mappingName])}}function y0(n,s){if(1&n&&(e.TgZ(0,"tr",70),e.YNc(1,E0,3,6,"td",71),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.reportHeaders)}}function I0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.refreshReportColumns())}),e._uU(1,"REFRESH"),e.qZA()}}function N0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",109),e._uU(2),e.qZA(),e.TgZ(3,"td",110)(4,"input",111),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.ColumnName=o)}),e.qZA()(),e.TgZ(5,"td",110)(6,"input",112),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.MappingName=o)}),e.qZA()(),e.TgZ(7,"td",113)(8,"input",114),e.NdJ("change",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.Show=o.target.checked?1:0)})("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.Show=o)}),e.qZA()(),e.TgZ(9,"td",115)(10,"input",116),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.ColWidth=o)}),e.qZA()(),e.TgZ(11,"td",117)(12,"input",118),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.Format=o)}),e.qZA()(),e.TgZ(13,"td",119)(14,"input",116),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.Align=o)}),e.qZA()(),e.TgZ(15,"td",120)(16,"input",116),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.ColumnPosition=o)}),e.qZA()(),e.TgZ(17,"td",120)(18,"input",111),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.ColGroup=o)}),e.qZA()(),e.TgZ(19,"td",120)(20,"input",121),e.NdJ("change",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.GroupSummary=o.target.checked?1:0)})("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.GroupSummary=o)}),e.qZA()(),e.TgZ(21,"td",120)(22,"input",121),e.NdJ("change",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.TableSummary=o.target.checked?1:0)})("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.TableSummary=o)}),e.qZA()()()}if(2&n){const t=s.$implicit,r=s.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Q6J("ngModel",t.ColumnName),e.xp6(2),e.Q6J("readonly",!0)("ngModel",t.MappingName),e.xp6(2),e.Q6J("ngModel",t.Show),e.xp6(2),e.Q6J("ngModel",t.ColWidth),e.xp6(2),e.Q6J("ngModel",t.Format),e.xp6(2),e.Q6J("ngModel",t.Align),e.xp6(2),e.Q6J("ngModel",t.ColumnPosition),e.xp6(2),e.Q6J("ngModel",t.ColGroup),e.xp6(2),e.Q6J("ngModel",t.GroupSummary),e.xp6(2),e.Q6J("ngModel",t.TableSummary)}}function D0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"div",75)(3,"div")(4,"h4",76),e._uU(5,"Report Format "),e.qZA()(),e.TgZ(6,"div")(7,"button",77),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportReportFormat())}),e._uU(8,"EXPORT FORMAT"),e.qZA(),e.TgZ(9,"button",77),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resetToDefault())}),e._uU(10,"RESET DEFAULT"),e.qZA(),e.YNc(11,I0,2,0,"button",78),e.TgZ(12,"button",79),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.OkCommand())}),e._uU(13,"SAVE"),e.qZA(),e.TgZ(14,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelCommand())}),e._uU(15,"CANCEL"),e.qZA()()(),e.TgZ(16,"div",81)(17,"div",82)(18,"div",83)(19,"div",84)(20,"label",85),e._uU(21,"Report Name"),e.qZA(),e.TgZ(22,"div",86)(23,"input",87),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportname=o)}),e.qZA()()(),e.TgZ(24,"div",84)(25,"label",85),e._uU(26,"Report Title"),e.qZA(),e.TgZ(27,"div",86)(28,"input",88),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportTitle=o)}),e.qZA()()()(),e.TgZ(29,"div",89)(30,"div",84)(31,"label",85),e._uU(32,"Rows Per Column"),e.qZA(),e.TgZ(33,"div",86)(34,"input",90),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.rowsperpage=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onRowsPerPageChange(o.target.value))}),e.qZA()()(),e.TgZ(35,"div",84)(36,"label",85),e._uU(37,"Has Dynamic Columns?"),e.qZA(),e.TgZ(38,"div",86)(39,"select",91),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.hasDynamicColumns=o)}),e.TgZ(40,"option",92),e._uU(41,"YES"),e.qZA(),e.TgZ(42,"option",93),e._uU(43,"NO"),e.qZA()()()(),e.TgZ(44,"div",84)(45,"label",85),e._uU(46,"Has Dynamic Headers?"),e.qZA(),e.TgZ(47,"div",86)(48,"select",94),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.hasDynamicHeaders=o)}),e.TgZ(49,"option",92),e._uU(50,"YES"),e.qZA(),e.TgZ(51,"option",93),e._uU(52,"NO"),e.qZA()()()()(),e.TgZ(53,"div",89)(54,"div",84)(55,"label",85),e._uU(56,"Dynamic Column Level"),e.qZA(),e.TgZ(57,"div",86)(58,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dynamicColumnLevel=o)}),e.qZA()()(),e.TgZ(59,"div",84)(60,"label",85),e._uU(61,"Dynamic Column Width"),e.qZA(),e.TgZ(62,"div",86)(63,"input",96),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dynamicColumnWidth=o)}),e.qZA()()(),e.TgZ(64,"div",84)(65,"label",85),e._uU(66,"Merge Header?"),e.qZA(),e.TgZ(67,"div",86)(68,"select",97),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.MergeReportHeader=o)}),e.TgZ(69,"option",92),e._uU(70,"YES"),e.qZA(),e.TgZ(71,"option",93),e._uU(72,"NO"),e.qZA()()()()(),e.TgZ(73,"div",89)(74,"div",84)(75,"label",85),e._uU(76,"Report Rounding Mode"),e.qZA(),e.TgZ(77,"div",86)(78,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.REPORTROUNDINGMODE=o)}),e.qZA()()()()()(),e.TgZ(79,"div",98)(80,"table",99)(81,"thead")(82,"tr")(83,"th",100),e._uU(84,"SI NO "),e.qZA(),e.TgZ(85,"th",101),e._uU(86,"Column Name"),e.qZA(),e.TgZ(87,"th",101),e._uU(88,"Mapping Name"),e.qZA(),e.TgZ(89,"th",102),e._uU(90,"Show"),e.qZA(),e.TgZ(91,"th",103),e._uU(92,"Col Width"),e.qZA(),e.TgZ(93,"th",104),e._uU(94,"Format"),e.qZA(),e.TgZ(95,"th",105),e._uU(96,"Align"),e.qZA(),e.TgZ(97,"th",106),e._uU(98,"Column Position"),e.qZA(),e.TgZ(99,"th",106),e._uU(100,"Merge Header"),e.qZA(),e.TgZ(101,"th",106),e._uU(102,"Group Summary"),e.qZA(),e.TgZ(103,"th",106),e._uU(104,"Table Summary"),e.qZA()()(),e.TgZ(105,"tbody",107),e.YNc(106,N0,23,12,"tr",108),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",t.ReportColumnName.length>0),e.xp6(12),e.Q6J("readonly",!0)("ngModel",t.reportname),e.xp6(5),e.Q6J("ngModel",t.reportTitle),e.xp6(6),e.Q6J("ngModel",t.rowsperpage),e.xp6(5),e.Q6J("ngModel",t.hasDynamicColumns),e.xp6(9),e.Q6J("ngModel",t.hasDynamicHeaders),e.xp6(10),e.Q6J("ngModel",t.dynamicColumnLevel),e.xp6(5),e.Q6J("ngModel",t.dynamicColumnWidth),e.xp6(5),e.Q6J("ngModel",t.MergeReportHeader),e.xp6(10),e.Q6J("ngModel",t.REPORTROUNDINGMODE),e.xp6(28),e.Q6J("ngForOf",t.ReportColumnName)}}function k0(n,s){if(1&n&&(e.TgZ(0,"tr",135)(1,"td",129),e._uU(2),e.qZA(),e.TgZ(3,"td",136),e._uU(4),e.qZA()()),2&n){const t=s.$implicit,r=s.index,o=e.oxw(2);e.ekj("highlighted",r===o.selectedRowIndex),e.xp6(2),e.Oqu(r+1),e.xp6(1),e.Q6J("routerLink",t.activeurlpath),e.xp6(1),e.Oqu(t.reportname)}}function F0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",122)(1,"div",74)(2,"div",123)(3,"div",82)(4,"h6",124),e._uU(5,"Loaded Report List"),e.qZA()()(),e.TgZ(6,"div",125)(7,"table",126)(8,"thead",127)(9,"tr",128)(10,"th",129),e._uU(11,"S.N."),e.qZA(),e.TgZ(12,"th",130),e._uU(13,"Report Name"),e.qZA()()(),e.TgZ(14,"tbody",131),e.YNc(15,k0,5,5,"tr",132),e.qZA()()(),e.TgZ(16,"div",133)(17,"button",134),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelReportList())}),e._uU(18,"Cancel"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.previouslyLoadedReportsList)}}function j0(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",137)(1,"div",74)(2,"div",138)(3,"h5",139),e._uU(4,"View Image"),e.qZA(),e.TgZ(5,"button",140),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeImagePopup())}),e.TgZ(6,"span",141),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",46)(9,"div",81),e._UZ(10,"img",142),e.qZA(),e.TgZ(11,"div",143)(12,"label",144),e._uU(13,"Item Name:"),e.qZA(),e.TgZ(14,"label",145),e._uU(15),e.qZA()(),e.TgZ(16,"div",143)(17,"label",144),e._uU(18,"MRP:"),e.qZA(),e.TgZ(19,"label",145),e._uU(20),e.ALo(21,"currency"),e.qZA()()(),e.TgZ(22,"div",133)(23,"button",134),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeImagePopup())}),e._uU(24,"Close"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(10),e.s9C("src",t.itemObj.IMAGEURL,e.LSH),e.xp6(5),e.AsE("",t.itemObj.ITEMNAME," ( ",t.itemObj.MENUCODE," )"),e.xp6(5),e.Oqu(e.Dn7(21,4,t.itemObj.MRP,"INR","Rs. "))}}function L0(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-contextmenu",146),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("data",t.contextMenuView)}}const w0=function(n){return{"mySidenav-show":n}},x0=function(n){return{"toggler-btn-icon-reverse":n}},V0=function(n,s){return{itemsPerPage:n,currentPage:s}};let M=(()=>{class n{constructor(t,r,o,i,a,l,d,c,h,_){this.router=t,this.masterService=r,this.authService=o,this.arouter=i,this.dialog=a,this.reportMasterService=l,this.spinnerService=d,this.alertService=c,this._hotkeysService=h,this._transactionService=_,this.reportMaster={},this.reportHeaders=[],this.reportData=[],this.reportDetail=[],this.trialUrl=!1,this.paramValue=[],this.page=1,this.hideShow=!1,this.ReportColumnName=[],this.reportFooter=[],this.optionalreportHeaders=[],this.reportContextMenu=[],this.previouslyLoadedReportsList=[],this.hasDynamicColumns="0",this.allHeaders=[],this.itemObj={},this.imgUrl="",this.showItemImage=!1,this.hasDynamicHeaders=0,this.excelColumnName=[],this.mergereportHeaders=[],this.reportColumnFormate=[],this.totalRow={},this.checkedColumnName=[],this.activeurlpath=this.arouter.snapshot.url[0].path,this.userProfile=this.authService.getUserProfile();let m=this.reportMasterService.reportDataStore[this.activeurlpath];this.contextMenuView=new nd,this.reportLoadedSuccess=!1,this.reportMasterService.reportUrlPath=this.activeurlpath;let g=this.masterService.apiUrl;this.imgUrl=g.substring(g.length-3,0),this.arouter.queryParams.subscribe(j=>{if("DRILL"==j.mode&&this.reportMasterService.drillParam.returnUrl)setTimeout(()=>{this.loadReport(this.reportMasterService.drillParam),this.rowsperpage||(this.rowsperpage=100),this.reportparam=this.reportMasterService.drillParam.reportparam,this.reportname=this.reportMasterService.drillParam.reportname,this.ReportCriteriaDisplay(this.reportparam,this.reportname)});else if(null!=m&&null!=m){for(var ue of(this.reportHeaders=m.data.result.headers,this.allHeaders=m.data.result.allHeaders,this.prepareOptionalHeader(this.reportHeaders),this.reportHeaders))ue.width=null==ue.size||0==ue.size?"auto":ue.size+"px";if(this.loadReportDataFromExistingStore(),this.ReportCriteriaDisplay(this.reportparam,this.showReportName),1!=this.hasDynamicHeaders&&0!=this.MergeReportHeader)this.preparereportHeader(this.reportHeaders);else if(1!=this.hasDynamicHeaders&&1!=this.MergeReportHeader)this.mergereportHeaders=this.reportHeaders;else{let L=eo().sortBy(this.reportHeaders,"colPosition");this.mergereportHeaders=L}this.reportMasterService.getReportColumnFormate(this.reportname).subscribe(L=>{"ok"==L.status?(this.reportColumnFormate=L.result,this.rowsperpage=L.result?L.result[0].rowsperpage:"100"):this.reportColumnFormate=[]}),0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(L=>({ReportName:this.reportname,ColumnName:L.colHeader,MappingName:L.mappingName,Show:L.Visible,ColWidth:L.size,Format:L.stringFormat,Align:L.alignment,ColumnPosition:L.colPosition,ColGroup:L.ColGroup,GroupSummary:L.groupSummaryFunction,GSFunction:L.groupSummaryFunction,TableSummary:L.showTables,TSFunction:L.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((L,ce)=>{L.Show=1,L.TableSummary=0,L.GroupSummary=0,L.ColumnPosition=ce+1})):this.ReportColumnName=this.reportColumnFormate.map(L=>({ReportName:this.reportname,ColumnName:L.colHeader,MappingName:L.mappingName,Show:L.Visible,ColWidth:L.size,Format:L.stringFormat,Align:L.alignment,ColumnPosition:L.colPosition,ColGroup:L.ColGroup,GroupSummary:L.groupSummaryFunction,GSFunction:L.groupSummaryFunction,TableSummary:L.showTables,TSFunction:L.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:L.rowsperpage}))}else this.fiterClickEvent()}),this.previouslyLoadedReportsList=this.reportMasterService.previouslyLoadedReportList,this._hotkeysService.add(new jn.qm("shift+tab",j=>(this.showPreviouslyLoadedReports(),!1)))}ngOnInit(){}ngAfterViewInit(){}exportReportFormat(){this.spinnerService.show("Exporting, Please Wait..."),this.reportMasterService.exportReportFormat(this.showReportName).subscribe(t=>{let r=new Blob([JSON.stringify(t)],{type:"text/html"}),o=`${this.showReportName}.txt`;var i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=o.replace(/\s/g,""),a.click(),this.spinnerService.hide()},t=>{console.log("Error message for text",t),this.alertService.info("Exporting Unsuccessfull!!"),this.spinnerService.hide()})}resetToDefault(){console.log("reset to default clicked"),console.log("report name",this.reportname),this.spinnerService.show("Resetting..."),this.reportMasterService.importReportFormat(this.showReportName).subscribe(t=>{console.log("import res",t),t&&(this.spinnerService.hide(),"ok"==t.status?this.alertService.success(t.result):this.alertService.warning("Resetting Unsuccessfull!!"))},t=>{console.log("Error message for reset",t),this.alertService.info("Resetting Unsuccessfull!!"),this.spinnerService.hide()})}fiterClickEvent(){console.log("here is the boom");let t=this.dialog.open(Fn,{panelClass:"custom-report-information-dialog",hasBackdrop:!0,data:{activeurlpath:this.activeurlpath,reportparam:this.reportparam,reportname:this.reportname}});console.log("here is the boom part 2",t),t.afterClosed().subscribe(r=>{void 0!==r&&"ok"==r.status&&(this.reportname=r.data.reportname,this.reportparam=r.data.reportparam,this.showReportName=r.data.REPORTDISPLAYNAME?r.data.REPORTDISPLAYNAME:r.data.reportname,this.loadReport(r.data),console.log("reportdataatatatatata",r),this.ReportCriteriaDisplay(this.reportparam,this.showReportName),this.reportMasterService.getReportColumnFormate(this.reportname).subscribe(o=>{"ok"==o.status?(this.reportColumnFormate=o.result,this.rowsperpage=0==o?.result[0].rowsperpage?100:o?.result[0].rowsperpage):this.reportColumnFormate=[]})),t=null})}onReportDataEmitted(t){this.reportparam=t.reportparam,this.loadReport(t)}RowClick(){}loadReport(t){this.DialogMessage="Report Loading Please Wait...",this.childModal.show(),this.page=1,this.masterService.getReportData(t,"/loadReports").subscribe(r=>{let o=r;if("ok"==o.status){for(var i of(this.prepareReportData(o.result.headers,o.result.data),this.storeAndUpdateReportDataStore(t,o),this.reportHeaders=o.result.headers,this.reportHeaders))i.width=null==i.size||0==i.size?"auto":i.size+"px";if(this.prepareOptionalHeader(this.reportHeaders),this.reportData=o.result.data,this.reportDetail=o.result.repDetails,this.reportFooter=o.result.totalRowData,this.reportmasterDetail=o.result.reportmasterDetail,this.reportContextMenu=o.result.reportContextMenu,this.allHeaders=o.result.allHeaders,this.hasDynamicColumns=this.reportmasterDetail.HASDYNAMICCOLUMNS,this.dynamicColumnLevel=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL,this.dynamicColumnWidth=this.reportmasterDetail.DYNAMICCOLUMNWIDTH,this.hasDynamicHeaders=this.reportmasterDetail.DYNAMICHEADER,this.MergeReportHeader=this.reportmasterDetail.MERGEREPORTHEADER,this.REPORTROUNDINGMODE=this.reportmasterDetail.REPORTROUNDINGMODE,1!=this.hasDynamicHeaders&&0!=this.MergeReportHeader?this.preparereportHeader(this.reportHeaders):1!=this.hasDynamicHeaders&&1!=this.MergeReportHeader&&(this.mergereportHeaders=this.reportHeaders),this.DialogMessage="Report Loaded successfully.",setTimeout(()=>{this.childModal.hide()},2e3),0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(a=>({ReportName:this.reportname,ColumnName:a.colHeader,MappingName:a.mappingName,Show:a.Visible,ColWidth:a.size,Format:a.stringFormat,Align:a.alignment,ColumnPosition:a.colPosition,ColGroup:a.ColGroup,GroupSummary:a.groupSummaryFunction,GSFunction:a.groupSummaryFunction,TableSummary:a.showTables,TSFunction:a.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((a,l)=>{a.Show=1,a.TableSummary=0,a.GroupSummary=0,a.ColumnPosition=l+1})):this.ReportColumnName=this.reportColumnFormate.map(a=>({ReportName:this.reportname,ColumnName:a.ColumnName,MappingName:a.MappingName,Show:a.Show,ColWidth:a.ColWidth,Format:a.Format,Align:a.Align,ColumnPosition:a.ColumnPosition,ColGroup:a.ColGroup,GroupSummary:a.GroupSummary,GSFunction:a.GSFunction,TableSummary:a.TableSummary,TSFunction:a.TSFunction,ReportTitle:this.reportTitle,rowsperpage:a.rowsperpage})),this.reportmasterDetail.HASDYNAMICCOLUMNS){let a="Default";this.allHeaders.forEach((d,c)=>{a=1==this.reportmasterDetail.DYNAMICHEADER&&d.mappingName.includes("~")?d.mappingName.split("~")[1]:"Default",c+1>=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL&&this.reportHeaders.push({alignment:1,allowMerge:!1,colHeader:"Default"==a?d.colHeader:a,colNo:0,colPosition:"Default"==a?c+5e3:c+1,mappingName:d.mappingName,showGroupSummary:!1,showTableSummary:!1,size:Number(this.reportmasterDetail.DYNAMICCOLUMNWIDTH),width:Number(this.reportmasterDetail.DYNAMICCOLUMNWIDTH)+"px",visible:1})});let l=eo().sortBy(this.reportHeaders,"colPosition");this.mergereportHeaders=l,1==this.reportmasterDetail.DYNAMICHEADER&&this.prepareOptionalDynamicHeader(this.allHeaders)}}else setTimeout(()=>{this.childModal.hide()}),this.reportData=[],this.reportHeaders=[],this.optionalreportHeaders=[]},r=>{this.DialogMessage=r,setTimeout(()=>{this.childModal.hide()},3e3)})}getFormattedValue(t){if(null!=t){if("number"==typeof t)return t.toLocaleString("en-us",{minimumFractionDigits:2});if("Invalid Date"!=new Date(t).toString())return t.split("T")[0]}return t}SettingClickEvent(){}ExportReportInExcel(){this.downloadReportPrepareFromAPI()}ExportReportInPdf(){this.downloadpdfPrepareFromAPI()}excelDownloadFromHtml_manualTable(){try{let l='<p style=" text-align:center;font-weight:bold;font-size:16px;">'+this.activeurlpath.toUpperCase()+'</p><p style=" text-align:center;font-weight:bold;font-size:14px;">'+this.userProfile.CompanyInfo.NAME+'</p><p style=" text-align:center;font-weight:bold;font-size:13px">'+this.userProfile.CompanyInfo.ADDRESS+'</p><p style=" text-align:center;font-weight:bold"> PAN No : <label style="letter-spacing:5px">'+this.userProfile.CompanyInfo.VAT+"</label></p>";this.param='<label style=" text-align:center;font-weight:bold;font-size:12px;">'+this.getReportParamForPreviewKey(this.reportparam,this.reportDetail)+"</label>";let d="<table>  <thead>   <tr>";for(let c of this.reportHeaders)d+="<th>"+c.colHeader+"</th>";d+="</tr> </thead>",d+="<tbody>";for(let c of this.reportData){d+="<tr>";for(let h of this.reportHeaders)null==(t=c[h.mappingName])&&(t=""),d+="<td>"+t+"</td>"}for(let c of this.reportFooter){d+="<tr>";for(let h of this.reportHeaders){var t;null==(t=c[h.mappingName])&&(t=""),d+="<td>"+t+"</td>"}}d+="</tbody></table>";var o=new Blob([l+this.param+d],{type:"application/vnd.ms-excel"}),i=URL.createObjectURL(o),a=document.createElement("a");a.href=i,a.download=this.excelReportNameProvide()+".xls",document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(l){alert(l)}}repName(){}excelReportNameProvide(){return this.activeurlpath}excelNameChooser(){try{if("DEBITORSREPORT"==this.reportname)return"DEBTORS REPORT ( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("DEBITORSREPORTEXD"==this.reportname)return"DEBTORS REPORT EXTENDED( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("SALESBOOKREPORT"==this.reportname)return"SALES REPORT ( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("STOCKREPORT"==this.reportname)return"STOCK REPORT ( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("STOCKREPORTEXD"==this.reportname)return"STOCK REPORT EXTENDED( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("DEBITORSREPORT_AGING"==this.reportname)return"DEBTORS AGEING REPORT ( As On Dated: "+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("DEBITORSREPORT_AGINGEXD"==this.reportname)return"DEBTORS AGEING REPORT EXTENDED( As On Dated: "+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("DEBITORSREPORT_AGINGEXD"==this.reportname)return"DEBTORS AGEING REPORT EXTENDED( As On Dated: "+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("STOCKLEDGERREPORT"==this.reportname){let t=this.masterService._itemList.find(r=>r.MCODE==this.reportMaster.reportQuery.find(o=>"MCODE"==o.param).value);if(null!=t)return"STOCK LEDGER REPRT ( "+t.MENUCODE+"  "+t.DESCA+" )"}return this.reportMaster.title}catch{return this.reportMaster.title}}getReportParamForPreviewKey(t,r){let o=Object.keys(t);var i="";for(let d in o){var a=o[d];let c=r.filter(h=>h.PROPNAME==o[d])[0];null!=c&&null!=c.PRINTLABEL&&""!=c.PRINTLABEL&&(a=c.PRINTLABEL),("DATE1"==a||"DATE2"==a)&&(i+=a+":"+t[o[d]]+" , ")}return i}prepareReportData(t,r){this.totalRow={};for(let o in t){let i=0;if(t[o].totalCalculation){for(let a of r)i=this.masterService.nullToZeroConverter(i)+this.masterService.nullToZeroConverter(a[t[o].mappingName]);this.totalRow[t[o].mappingName]=i>0?i.toFixed(2):null}else this.totalRow[t[o].mappingName]=null}}OkCommand(){this.showReportColumnFormatPopup=!1,this.ReportColumnName.forEach(t=>{t.ReportTitle=this.reportTitle,t.rowsperpage=this.rowsperpage}),this.masterService.masterPostmethod("/updateReportMaster",{REPORTNAME:this.reportname,hasDynamicColumns:this.hasDynamicColumns,dynamicColumnLevel:this.dynamicColumnLevel,dynamicColumnWidth:this.dynamicColumnWidth,hasDynamicHeaders:this.hasDynamicHeaders,MergeReportHeader:this.MergeReportHeader,REPORTROUNDINGMODE:this.REPORTROUNDINGMODE}).subscribe(t=>{}),this.spinnerService.show("Data is saving ...."),this.reportMasterService.saveReportColumnFormat(this.ReportColumnName,"/saveReportColumnFormat").subscribe(t=>{"ok"==t.status?(this.spinnerService.hide(),this.alertService.success("Report format is successfully saved"),this.reportColumnFormate=[]):this.spinnerService.hide()},t=>{this.spinnerService.hide()})}SaveInReportColumnFormat(){this.showReportColumnFormatPopup=!0}showPreviouslyLoadedReports(){this.showReportListDialog=!0}CancelReportList(){this.showReportListDialog=!1}CancelCommand(){this.showReportColumnFormatPopup=!1}closeReport(){this.allHeaders=[],this.reportHeaders=[],this.reportData=[],this.reportparam=[],"stock-summary-report"==this.activeurlpath?this.reportMasterService.StockSummaryObj={}:"stock-ledger-report"==this.activeurlpath?this.reportMasterService.StockLedgerObj={}:"stock-valuation-report"==this.activeurlpath?this.reportMasterService.StockValuationObj={}:"salesbook-report"==this.activeurlpath?this.reportMasterService.SalesBookObj={}:"purchasebookreport"==this.activeurlpath?this.reportMasterService.PurchaseBookObj={}:"creditnotebook-report"==this.activeurlpath?this.reportMasterService.CreditNoteObj={}:"debitnotebook-report"==this.activeurlpath?this.reportMasterService.DebitNoteObj={}:"salesreport-itemwise"==this.activeurlpath?this.reportMasterService.SalesItemWiseObj={}:"purchasereport-itemwise"==this.activeurlpath?this.reportMasterService.PurchaseItemWiseObj={}:"salesreport-itemwise-detail"==this.activeurlpath?this.reportMasterService.SalesItemWiseDetailObj={}:"purchasereport-itemwise-detail"==this.activeurlpath?this.reportMasterService.PurchaseItemWiseDetailObj={}:"salesreport-customerwise"==this.activeurlpath?this.reportMasterService.SalesCustomerWiseObj={}:"purchasereport-supplierwise"==this.activeurlpath?this.reportMasterService.PurchaseSupplierWiseObj={}:"SalesReportCategoryWise"==this.activeurlpath?this.reportMasterService.SalesCategoryWiseObj={}:"PurchaseReportCategoryWise"==this.activeurlpath?this.reportMasterService.PurchaseCategoryWiseObj={}:"SalesReportProductTypeWise"==this.activeurlpath?this.reportMasterService.SalesProductTypeObj={}:"PurchaseReportProductTypeWise"==this.activeurlpath?this.reportMasterService.PurchaseProductTypeObj={}:"salesreport-supplierwise"==this.activeurlpath?this.reportMasterService.SalesSupplierWiseObj={}:"branch-transfer-report"==this.activeurlpath?this.reportMasterService.BranchTransferObj={}:"item-expiry-report"==this.activeurlpath?this.reportMasterService.ItemExpiryObj={}:"max-stocklevel-report"==this.activeurlpath?this.reportMasterService.MaximumStockLevelObj={}:"minimum-stocklevel-report"==this.activeurlpath?this.reportMasterService.MinimumStockLevelObj={}:"reorder-levelstock-report"==this.activeurlpath?this.reportMasterService.ReorderLevelStockReport={}:"stock-abcanalysis-report"==this.activeurlpath?this.reportMasterService.StockAbcAnalysisObj={}:"price-changelog-reportt"==this.activeurlpath?this.reportMasterService.PriceChangeLogObj={}:"salesprofitability-analysis"==this.activeurlpath?this.reportMasterService.SalesProfitabilityAnalysisObj={}:"purchaseorderreport"==this.activeurlpath?this.reportMasterService.PurchaseOrderReportObj={}:"purchaseorder-outstanding"==this.activeurlpath?this.reportMasterService.PurchaseOrderOutstandingObj={}:"quotationreport"==this.activeurlpath?this.reportMasterService.QuotationReportObj={}:"salesorderreport"==this.activeurlpath?this.reportMasterService.SalesOrderReportObj={}:"salesorderoutstanding"==this.activeurlpath?this.reportMasterService.SalesOrderOutstandingObj={}:"currentstock-warehousewise"==this.activeurlpath?(this.reportMasterService.CurrentStockWarehousewiseObj={},this.reportMasterService.ConsolidatedStockWarehousewiseObj={}):"grn-report"==this.activeurlpath?this.reportMasterService.GrnReportObj={}:"repack-report"==this.activeurlpath?this.reportMasterService.RepackReportObj={}:"requisition-report"==this.activeurlpath?this.reportMasterService.RequisitionReportObj={}:"raw-data-report"==this.activeurlpath?this.reportMasterService.RawDataReportObj={}:"stockageing-report"==this.activeurlpath?this.reportMasterService.StockAgeingObj={}:"branch-transferout-vs-inreport"==this.activeurlpath?this.reportMasterService.BranchtransferoutVsInObj={}:"stock-report-warehouse-wise"==this.activeurlpath?this.reportMasterService.StockWarehousewiseObj={}:"consolidatedpurchase-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedPurchaseBranchWiseObj={}:"consolidatedsales-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedSalesBranchWiseObj={}:"consolidatedstock-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedStockBranchWiseObj={}:"branch-transfer-inreport-itemwise"==this.activeurlpath?this.reportMasterService.BranchTransferInItemWiseObj={}:"branch-transferout-itemwise"==this.activeurlpath?this.reportMasterService.BranchTransferOutItemwiseObj={}:"sales-collection-report"==this.activeurlpath?this.reportMasterService.SalesCollectionObj={}:"openingstockreport"==this.activeurlpath?this.reportMasterService.OpeningStockObj={}:"stock-issue-report"==this.activeurlpath?this.reportMasterService.StockIssueObj={}:"vat-saleseregisterreport-new"==this.activeurlpath?this.reportMasterService.VATSalesNewObj={}:"vat-purchaseregisterreport-new"==this.activeurlpath?this.reportMasterService.VATPurchaseNewObj={}:"stock-variance-report"==this.activeurlpath?this.reportMasterService.StockVarianceObj={}:"salesrevenue-analysisreport"==this.activeurlpath?this.reportMasterService.SalesRevenueAnalysisObj={}:"salesreport-salesmanwise"==this.activeurlpath?this.reportMasterService.SalesReportSalesmanWiseObj={}:"salesreport-membershipwise"==this.activeurlpath?this.reportMasterService.SalesMembershipWiseObj={}:"recurring-transaction-analysis-report"==this.activeurlpath?this.reportMasterService.RecurringTransactionAnalysisObj={}:"recurring-transaction-report"==this.activeurlpath?this.reportMasterService.RecurringTransactionReportObj={}:"sales-flow-report-monthwise"==this.activeurlpath?this.reportMasterService.SalesFlowObj={}:"purchase-flow-report-monthwise"==this.activeurlpath?this.reportMasterService.PurchaseFlowObj={}:"sales-revenue-metrics-report"==this.activeurlpath?this.reportMasterService.SalesRevenueMetricsObj={}:"transreport"==this.activeurlpath&&(this.reportMasterService.TransactionLogObj={}),this.warehouseDisplayName="",this.categoryDisplayName="",this.itemGroupDisplayName="",this.itemTypeDisplay="",this.supplierDisplayName="",this.itemDisplayName="",this.itemDisplaycode="",this.labelDisplayName="",this.costcenterDisplayName="",this.reportTypeDisplayName="",this.reportModeDisplayName="",this.includeReturnDisplayName="",this.creditNoteDisplayName="",this.customerDisplayName="",this.reportOptionDisplayName="",this.recurringTransactionMode="",this.showDetailDisplay="",this.showUserWiseFormat="",this.reportTypeDisplay="",this.customerTypeDisplayName="",this.areaDisplayName="",this.transactionDisplayName="",this.areaWiseDisplayName="",this.tranAmntDisplayName="",this.productTypeDisplay="",this.purchaseReturnDisplayName="",this.debitNoteDisplayName="",this.purchasetranAmntDisplayName="",this.RecurringCategory="",this.itemName="",this.purchaseItemWiseDisplay="",this.divisionDisplayName="",this.reportMasterService.reportDataStore[this.activeurlpath]=void 0;let t=this.reportMasterService.previouslyLoadedReportList.findIndex(r=>r.activerurlpath2==this.activeurlpath);this.reportMasterService.previouslyLoadedReportList.splice(t,1),this.router.navigate(0==this.reportMasterService.previouslyLoadedReportList.length?["/pages/dashboard"]:[this.reportMasterService.previouslyLoadedReportList[this.reportMasterService.previouslyLoadedReportList.length-1].activeurlpath])}ngOnDestroy(){this.dialog.closeAll()}changeDate(t,r,o){var i=S(82071);if("AD"==o){var a=t.replace("-","/").replace("-","/"),l=i.ad2bs(a),d=r.replace("-","/").replace("-","/"),c=i.ad2bs(d);this.FromdateInAD=("1"==l.en.day||"2"==l.en.day||"3"==l.en.day||"4"==l.en.day||"5"==l.en.day||"6"==l.en.day||"7"==l.en.day||"8"==l.en.day||"9"==l.en.day?"0"+l.en.day:l.en.day)+"/"+l.en.month+"/"+l.en.year,this.TodateInAD=("1"==c.en.day||"2"==c.en.day||"3"==c.en.day||"4"==c.en.day||"5"==c.en.day||"6"==c.en.day||"7"==c.en.day||"8"==c.en.day||"9"==c.en.day?"0"+c.en.day:c.en.day)+"/"+c.en.month+"/"+c.en.year}}getReportHeadingStyles(){return{"font-size.px":this.masterService.userSetting.REPHEADING_FONTSIZE?this.masterService.userSetting.REPHEADING_FONTSIZE:"12","font-family":this.masterService.userSetting.REPHEADING_FONTNAME?this.masterService.userSetting.REPHEADING_FONTNAME:"Roboto, Arial, sans-serif"}}getReportDetailStyles(){return{"font-size.px":this.masterService.userSetting.REPDETAIL_FONTSIZE?this.masterService.userSetting.REPDETAIL_FONTSIZE:"12","font-family":this.masterService.userSetting.REPDETAIL_FONTNAME?this.masterService.userSetting.REPDETAIL_FONTNAME:"Tahoma"}}getReportFooterStyles(){return{"font-size.px":this.masterService.userSetting.REPTOTAL_FONTSIZE?this.masterService.userSetting.REPTOTAL_FONTSIZE:"12","font-family":this.masterService.userSetting.REPTOTAL_FONTNAME?this.masterService.userSetting.REPTOTAL_FONTNAME:"Tahoma"}}prepareOptionalHeader(t=[]){let r=[];if(t.length){for(var o of t)if(o.hasOwnProperty("colGroup")&&""!=o.colGroup&&!(0,Ze.isNullOrUndefined)(o.colGroup)){let h=t.filter(m=>m.colGroup==o.colGroup);r.filter(m=>m.colGroup==o.colGroup).length||r.push({colGroup:o.colGroup,width:a(h)+"px",colspan:Number(h.length),alignment:"center",mappingName:o.mappingName})}else r.push({colGroup:"",colspan:1,width:Number(o.size)+"px",alignment:"left",mappingName:o.mappingName});let l=r.filter(h=>"AGE1"==h.colGroup||"AGE2"==h.colGroup||"AGE3"==h.colGroup||"AGE4"==h.colGroup||"AGE5"==h.colGroup||"AGE6"==h?.colGroup||"AGE7"==h?.colGroup||"AGE8"==h?.colGroup||"AGE9"==h?.colGroup||"AGE10"==h?.colGroup),d=this.masterService.userProfile.userRights.find(h=>"StockAgeingLimit"==h.right).value;for(var i of l)"AGE1"==i.colGroup?i.colGroup="<="+this.reportparam.AGE1+" DAYS":"AGE2"==i.colGroup?i.colGroup="> "+this.reportparam.AGE1+" & <= "+this.reportparam.AGE2+" DAYS":"AGE3"==i.colGroup?i.colGroup="> "+this.reportparam.AGE2+" & <= "+this.reportparam.AGE3+" DAYS":"AGE4"==i.colGroup?i.colGroup="> "+this.reportparam.AGE3+" & <= "+this.reportparam.AGE4+" DAYS":"AGE5"==i.colGroup?i.colGroup=d<5?"OVER "+this.reportparam.AGE4+" DAYS":"> "+this.reportparam.AGE4+" & <= "+this.reportparam.AGE5+" DAYS":"AGE6"==i.colGroup?i.colGroup=d<6?"OVER "+this.reportparam.AGE5+" DAYS":"> "+this.reportparam.AGE5+" & <= "+this.reportparam.AGE6+" DAYS":"AGE7"==i.colGroup?i.colGroup=d<7?"OVER "+this.reportparam.AGE6+" DAYS":"> "+this.reportparam.AGE6+" & <= "+this.reportparam.AGE7+" DAYS":"AGE8"==i.colGroup?i.colGroup=d<8?"OVER "+this.reportparam.AGE7+" DAYS":"> "+this.reportparam.AGE7+" & <= "+this.reportparam.AGE8+" DAYS":"AGE9"==i.colGroup?i.colGroup=d<9?"OVER "+this.reportparam.AGE8+" DAYS":"> "+this.reportparam.AGE8+" & <= "+this.reportparam.AGE9+" DAYS":"AGE10"==i.colGroup&&(i.colGroup=d<10?"OVER "+this.reportparam.AGE9+" DAYS":"> "+this.reportparam.AGE9+" & <= "+this.reportparam.AGE10+" DAYS");let c=r.filter(h=>""!=h.colGroup);this.optionalreportHeaders=c.length?r:[]}function a(l=[]){let d=0;return l.length?(l.forEach(c=>{d+=Number(c.size)}),d):100}}drillDownReport(t){console.log("Drill report 1",t),console.log("reportmaster detail",this.reportmasterDetail),this.reportmasterDetail.hasOwnProperty("DRILLKEY")&&this.reportmasterDetail.hasOwnProperty("DRILLTO")&&this.reportmasterDetail.hasOwnProperty("ISDRILLABLE")&&this.reportmasterDetail.ISDRILLABLE&&("Sales Book Report_2"==this.reportmasterDetail.DRILLTO||"Credit Note Book Report_2"==this.reportmasterDetail.DRILLTO||"Purchase Book Report_2"==this.reportmasterDetail.DRILLTO||"Debit Note Book Report_2"==this.reportmasterDetail.DRILLTO?this.masterService.masterPostmethod("/getStartEndMonthDate",{data:{YEAR:t.YNAME,MONTH:t.MNAME}}).subscribe(i=>{this.startDate=i.result?i.result[0].FROMDATE.split("T")[0]:"",this.endDate=i.result?i.result[0].TODATE.split("T")[0]:"",this.routerToVouchers(t)},i=>{},()=>{}):this.routerToVouchers(t))}onRightClick(t,r){if(t.preventDefault(),!this.reportContextMenu.length)return;let o=new Ne.xQ;this.conTextMenuAction(o,r),this.contextMenuView.mouseEvent=t,this.contextMenuView.menuItems=this.buildContextMenuItems(o),this.contextMenuView.show=!0}conTextMenuAction(t,r){t.asObservable().subscribe(i=>{console.log("RIGHT CLICKEDD CONTEXT",i.value,i),"SHOWIMAGE"==i.value?(console.log("image show",r),this.getItemImage(r)):(this.reportmasterDetail.DRILLTO=i.value,this.drillDownReport(r),this.contextMenuView.show=!0)})}buildContextMenuItems(t){let r=[];for(let o of this.reportContextMenu)r.push(new ad(o.menuname,o.commandname,t));return r}getItemImage(t){console.log("getItemImage",t),t.MCODE&&this.reportMasterService.getItemImage(t.MCODE).subscribe(r=>{if("ok"==r.status){let o=r.result[0];null!=o.ImageUpload?(this.itemObj.MENUCODE=o.MENUCODE,this.itemObj.ITEMNAME=o.DESCA,this.itemObj.IMAGEURL=""+this.imgUrl+o.ImageUpload,this.itemObj.MRP=o.MRP,console.log("image",this.itemObj.IMAGEURL),this.showItemImage=!0):this.alertService.error("No Image found for this item")}else this.alertService.error("Cannot find Image for this item")},r=>{this.alertService.error(r)})}closeImagePopup(){this.showItemImage=!1}sortTableData(t,r,o){this.mergereportHeaders[o].sortOrder="asc"==r?"desc":"asc",this.reportData.sort(function i(a,l="asc"){return function(c,h){if(!c.hasOwnProperty(a)||!h.hasOwnProperty(a))return 0;const _="string"==typeof c[a]?c[a].toUpperCase():c[a],m="string"==typeof h[a]?h[a].toUpperCase():h[a];let g=0;return _>m?g=1:_<m&&(g=-1),"desc"===l?-1*g:g}}(t,r))}resolveDrillDownParam(t,r,o=null){switch(this.reportMasterService.drillParam={},this.reportMasterService.drillParam.reportparam={},this.reportMasterService.drillParam.returnUrl=this.arouter.snapshot._routerState.url,this.reportMasterService.drillParam.reportparam.mode="DRILL",t){case"Stock Ledger Report":case"Stock Ledger Other Report":console.log("CheckChecccc##",this.masterService.PhiscalObj.BeginDate,this.masterService.PhiscalObj.EndDate),this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.masterService.PhiscalObj.BeginDate,this.reportMasterService.drillParam.reportparam.DATE2=this.masterService.PhiscalObj.EndDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.PhiscalObj.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,"GROUP"===o||(this.reportMasterService.drillParam.reportname="Stock Ledger Other Report");let h=this.reportMasterService.previouslyLoadedReportList.findIndex(g=>"Stock Ledger Report"==g.reportname);h>=0&&this.reportMasterService.previouslyLoadedReportList.splice(h,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Stock Ledger Report",activeurlpath:"/pages/reports/stock-ledger-report",activerurlpath2:"stock-ledger-report"});break;case"Stock Summary Report_A":this.reportMasterService.drillParam.reportname="Stock Summary Report_A",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=0,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=this.reportparam.ShowItemInGroupWiseReport,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT;break;case"Stock Summary Report_2":this.reportMasterService.drillParam.reportname="Stock Summary Report_2",this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=1,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=1,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT;break;case"Stock Summary Report_4":this.reportMasterService.drillParam.reportname="Stock Summary Report_4",this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=2,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=1,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=r[this.reportmasterDetail.DRILLKEY];break;case"Membership Point Report_1":this.reportMasterService.drillParam.reportname="Membership Point Report_1",this.reportMasterService.drillParam.reportparam.MEMID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.POINT=this.reportparam.POINT,this.reportMasterService.drillParam.reportparam.SUMMARY=0,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.MEMNAME=r.MEMBER_NAME;break;case"Stock Valuation ReportNONDMS_1":this.reportMasterService.drillParam.reportname="Stock Valuation ReportNONDMS_1",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE=this.reportparam.DATE,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"];break;case"Sales Book Report_2":if(this.reportMasterService.drillParam.reportname="Sales Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD)this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate;else if(0==this.reportparam.INAD){var i=S(82071),a=this.startDate.replace("-","/").replace("-","/"),l=i.bs2ad(a);this.reportMasterService.drillParam.reportparam.DATE1=l.year+"-"+(1==l.month.toString().length?"0"+l.month:l.month)+"-"+(1==l.day.toString().length?"0"+l.day:l.day);var d=this.endDate.replace("-","/").replace("-","/"),c=i.bs2ad(d);this.reportMasterService.drillParam.reportparam.DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Sales Book Report":this.reportMasterService.drillParam.reportname="Sales Book Report",this.datetochange=r.DATE,this.formattedDate=(0,f.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Sales Book Report_1":this.reportMasterService.drillParam.reportname="Sales Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Purchase Book Report_2":this.reportMasterService.drillParam.reportname="Purchase Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(i=S(82071),a=this.startDate.replace("-","/").replace("-","/"),l=i.bs2ad(a),this.reportMasterService.drillParam.reportparam.DATE1=l.year+"-"+(1==l.month.toString().length?"0"+l.month:l.month)+"-"+(1==l.day.toString().length?"0"+l.day:l.day),d=this.endDate.replace("-","/").replace("-","/"),c=i.bs2ad(d),this.reportMasterService.drillParam.reportparam.DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Purchase Book Report":this.reportMasterService.drillParam.reportname="Purchase Book Report",this.datetochange=r.DATE,this.formattedDate=(0,f.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Purchase Book Report_1":this.reportMasterService.drillParam.reportname="Purchase Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Credit Note Book Report_2":this.reportMasterService.drillParam.reportname="Credit Note Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(i=S(82071),a=this.startDate.replace("-","/").replace("-","/"),l=i.bs2ad(a),this.reportMasterService.drillParam.reportparam.DATE1=l.year+"-"+(1==l.month.toString().length?"0"+l.month:l.month)+"-"+(1==l.day.toString().length?"0"+l.day:l.day),d=this.endDate.replace("-","/").replace("-","/"),c=i.bs2ad(d),this.reportMasterService.drillParam.reportparam.DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Credit Note Book Report":this.reportMasterService.drillParam.reportname="Credit Note Book Report",this.datetochange=r.DATE,this.formattedDate=(0,f.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE;break;case"Credit Note Book Report_1":this.reportMasterService.drillParam.reportname="Credit Note Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE;break;case"Debit Note Book Report_2":this.reportMasterService.drillParam.reportname="Debit Note Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(i=S(82071),a=this.startDate.replace("-","/").replace("-","/"),l=i.bs2ad(a),this.reportMasterService.drillParam.reportparam.DATE1=l.year+"-"+(1==l.month.toString().length?"0"+l.month:l.month)+"-"+(1==l.day.toString().length?"0"+l.day:l.day),d=this.endDate.replace("-","/").replace("-","/"),c=i.bs2ad(d),this.reportMasterService.drillParam.reportparam.DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Debit Note Book Report":this.reportMasterService.drillParam.reportname="Debit Note Book Report",this.datetochange=r.DATE,this.formattedDate=(0,f.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE;break;case"Debit Note Book Report_1":this.reportMasterService.drillParam.reportname="Debit Note Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE;break;case"Sales Report Item Wise Detail":"Sales Report Item Wise Detail_2"==this.reportmasterDetail.REPORTNAME?(this.datetochange=r.DATE,this.formattedDate=(0,f.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE):"Sales Report Category Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.CATEGORY,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"]):"Sales Report Product Type Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.PTYPENAME,this.reportMasterService.drillParam.reportparam.MENUCODE=r.UNIT):"Sales Report Supplier Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"]):(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"],this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM NAME"]),this.reportMasterService.drillParam.reportname="Sales Report Item Wise Detail",this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=0;let _=this.reportMasterService.previouslyLoadedReportList.findIndex(g=>"Sales Report Item Wise Detail"==g.reportname);_>=0&&this.reportMasterService.previouslyLoadedReportList.splice(_,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Sales Report Item Wise Detail",activeurlpath:"/pages/reports/salesreport-itemwise-detail",activerurlpath2:"salesreport-itemwise-detail"});break;case"Purchase Report Item Wise Detail":"Purchase Report Item Wise Detail_2"==this.reportmasterDetail.REPORTNAME?(this.datetochange=r.DATE,this.formattedDate=(0,f.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE):"Purchase Report Product Type Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.PTYPENAME,this.reportMasterService.drillParam.reportparam.MENUCODE=r.UNIT):"Purchase Report Category Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.CATEGORY,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"]):(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"],this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM NAME"]),this.reportMasterService.drillParam.reportname="Purchase Report Item Wise Detail",this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=this.reportparam.SHOWDETAIL,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=0;let m=this.reportMasterService.previouslyLoadedReportList.findIndex(g=>"Purchase Report Item Wise Detail"==g.reportname);m>=0&&this.reportMasterService.previouslyLoadedReportList.splice(m,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Purchase Report Item Wise Detail",activeurlpath:"/pages/reports/purchasereport-itemwise-detail",activerurlpath2:"purchasereport-itemwise-detail"});break;case"Sales Report Item Wise_2":this.reportMasterService.drillParam.reportname="Sales Report Item Wise_2",this.reportMasterService.drillParam.reportparam.MGROUP=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=2,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE;break;case"Purchase Report Item Wise_2":this.reportMasterService.drillParam.reportname="Purchase Report Item Wise_2",this.reportMasterService.drillParam.reportparam.MGROUP=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=2,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE;break;case"Sales Report Item Wise_3":"B"!=r.FFLG&&(this.reportMasterService.drillParam.reportname="Sales Report Item Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=3,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE);break;case"Purchase Report Item Wise_3":"B"!=r.FFLG&&(this.reportMasterService.drillParam.reportname="Purchase Report Item Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=3,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MGROUP_NAME);break;case"Sales Report Customer Wise_2":this.reportMasterService.drillParam.reportname="Sales Report Customer Wise_2",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CTYPE=this.reportparam.CTYPE,this.reportMasterService.drillParam.reportparam.AREAID=this.reportparam.AREAID,this.reportMasterService.drillParam.reportparam.TRNMODE=this.reportparam.TRNMODE,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.SHOWAREAWISE=this.reportparam.SHOWAREAWISE,this.reportMasterService.drillParam.reportparam.CUSTID=r.CUSTID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=r["CUSTOMER NAME"],this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Customer Wise_3":this.reportMasterService.drillParam.reportname="Sales Report Customer Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CTYPE=this.reportparam.CTYPE,this.reportMasterService.drillParam.reportparam.AREAID=this.reportparam.AREAID,this.reportMasterService.drillParam.reportparam.TRNMODE=this.reportparam.TRNMODE,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.SHOWAREAWISE=this.reportparam.SHOWAREAWISE,this.reportMasterService.drillParam.reportparam.CUSTID=this.reportparam.CUSTID,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.SHOWDETAIL=2;break;case"Purchase Report Supplier Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Supplier Wise_1",this.reportMasterService.drillParam.reportparam.ACID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=r["SUPPLIER NAME"],this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Supplier Wise_2":this.reportMasterService.drillParam.reportname="Purchase Report Supplier Wise_2",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=2;break;case"Sales Report Category Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Category Wise_1",this.reportMasterService.drillParam.reportparam.MCAT=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Category Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Category Wise_1",this.reportMasterService.drillParam.reportparam.MCAT=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Product Type Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Product Type Wise_1",this.reportMasterService.drillParam.reportparam.PTYPE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Product Type Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Product Type Wise_1",this.reportMasterService.drillParam.reportparam.PTYPE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Supplier Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Supplier Wise_1",this.reportMasterService.drillParam.reportparam.ACID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=r["SUPPLIER NAME"],this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Salesman Wise_1":case"Sales Report Salesman Wise_2":case"Sales Report Salesman Wise_3":this.reportMasterService.drillParam.reportname=t,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SALESMAN=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.SALESMANNAME=r.SALESMAN,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT="Sales Report Salesman Wise_1"==t?"0":"1",this.reportMasterService.drillParam.reportparam.REPORT_TYPE="2";break;case"Sales Report Membership Wise_1":this.reportMasterService.drillParam.reportname=t,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.MEMID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.MEMBERNAME=r["MEMBER NAME"];break;case"Recurring Transaction Analysis Report_2":this.reportMasterService.drillParam.reportname=t,"Recurring Transaction Analysis Report"==this.reportmasterDetail.REPORTNAME&&(this.reportMasterService.drillParam.reportparam.CATNAME=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ITEM=this.reportparam.ITEM,console.log("Catname",this.reportMasterService.drillParam.reportparam.CATNAME),console.log("Item",this.reportMasterService.drillParam.reportparam.ITEM)),"Recurring Transaction Analysis Report_1"==this.reportmasterDetail.REPORTNAME&&(this.reportMasterService.drillParam.reportparam.ITEM=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.CATNAME=this.reportparam.CATNAME,console.log("Catname",this.reportMasterService.drillParam.reportparam.CATNAME),console.log("Item",this.reportMasterService.drillParam.reportparam.ITEM)),this.reportMasterService.drillParam.reportparam.REPORTYPE=2,this.reportMasterService.drillParam.reportparam.REPORTOPTION=this.reportparam.REPORTOPTION,this.reportMasterService.drillParam.reportparam.RECURRINGMODE=this.reportparam.RECURRINGMODE,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID}}getDrillRouteVoucherWise(t,r){let o=t.substring(0,2).toUpperCase();switch(console.log("voucher no",o),o){case"TI":return"/pages/transaction/sales/add-sales-invoice";case"PI":return"/pages/transaction/purchases/add-purchase-invoice";case"CN":return"/pages/transaction/sales/add-creditnote-itembase";case"DN":return"/pages/transaction/purchases/add-debitnote-itembase";case"PO":return"0"==r?"/pages/transaction/purchases/add-purchase-order":"10"==r?"/pages/transaction/purchases/purchase-import-order":"/pages/transaction/purchases/add-purchase-order";case"SO":return"/pages/transaction/sales/salesorder";case"QT":return"/pages/transaction/sales/quotation";case"IS":return"/pages/transaction/inventory/add-stock-issue";case"IR":return"/pages/transaction/inventory/stock-issue-return";case"SI":return"/pages/transaction/sales/abbreviated-sales-invoice";case"GR":return"/pages/transaction/purchases/goods-received-note";case"PP":return"/pages/transaction//sales/performa-invoice";case"RQ":return"/pages/transaction/inventory/requisition-entry";case"RP":return"/pages/transaction/inventory/repack-entry"}}loadReportDataFromExistingStore(){let t=this.reportMasterService.reportDataStore[this.activeurlpath];null!=t&&null!=t&&(this.reportData=t.data.result.data,this.reportDetail=t.data.result.repDetails,this.reportname=t.param.reportname,this.reportparam=t.param.reportparam,this.reportContextMenu=t.data.result.reportContextMenu,this.reportmasterDetail=t.data.result.reportmasterDetail,this.showReportName=t.param.REPORTDISPLAYNAME?t.param.REPORTDISPLAYNAME:t.param.reportname,this.reportFooter=t.data.result.totalRowData,this.hasDynamicHeaders=this.reportmasterDetail.DYNAMICHEADER,this.MergeReportHeader=this.reportmasterDetail.MERGEREPORTHEADER,this.REPORTROUNDINGMODE=this.reportmasterDetail.REPORTROUNDINGMODE)}storeAndUpdateReportDataStore(t,r){this.reportMasterService.reportDataStore[this.activeurlpath]={param:t,data:r}}ReportCriteriaDisplay(t,r){this.showReportName="Annex 5 Report"==r?"Annex 5 Report":r,this.engDateFrom=k()(t.DATE1).format("MM/DD/YYYY"),this.engDateTo=k()(t.DATE2).format("MM/DD/YYYY"),t.DATE1&&t.DATE2?this.changeDate(t.DATE1,t.DATE2,"AD"):t.DATE&&this.changeDate(t.DATE,t.DATE,"AD"),t.DIV&&(t.DIVISIONAME?this.divisionDisplayName=t.DIVISIONAME:"%"==t.DIV?this.divisionDisplayName="All":"%"!=t.DIV?this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(o=>{let i=o.filter(a=>a.Division==t.DIV);this.divisionDisplayName=i&&i.length>0&&i[0]?i[0].NAME:""}):this.divisionDisplayName=""),("Stock Summary Report"==this.showReportName||"Stock Summary Report_A"==this.showReportName||"Stock Summary Report_2"==this.showReportName||"Stock Summary Report_4"==this.showReportName)&&(this.showReportName="Stock Summary Report","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.labelDisplayName="1"==t.ReportMode?" @Stock Report Excluding Zero B/L":"2"==t.ReportMode?" @Negative Stock Report Only":"3"==t.ReportMode?" @Zero B/L Stock Report Only":"",this.stockshowDetailDisplay=1==t.ShowDetail?"@Report with Item Detail":"",this.warehouseDisplayName="%"!=t.WAREHOUSE?t.WAREHOUSE:"ALL","%"!=t.MGROUP&&t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.supplierDisplayName="%"!=t.SUPCODE?t.SUPPLIERNAME:""),"Stock Ledger Report"==this.showReportName&&("%"!=t.MCODE?(this.stockLedgerItemDisplayName=t.ITEMNAME,this.stockLedgerItemDisplaycode=t.MENUCODE):(this.stockLedgerItemDisplayName="",this.stockLedgerItemDisplaycode=""),"%"!=t.ITEMGROUP&&t.ITEMGROUP?this.masterService.getItemGroupName(t.ITEMGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.warehouseDisplayName="%"!=t.WAREHOUSE?t.WAREHOUSE:"",this.showDetailDisplay=1==t.SHOWDETAIL?" @Report with Item Detail":""),("Stock Valuation ReportNONDMS"==this.showReportName||"Stock Valuation ReportNONDMS_1"==this.showReportName||"Stock Valuation Report"==this.showReportName)&&(this.showReportName="Stock Valuation Report","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":""),("Sales Book Report"==this.showReportName||"Sales Book Report_1"==this.showReportName||"Sales Book Report_2"==this.showReportName||"Sales Book Report_3"==this.showReportName)&&(this.showReportName="Sales Book Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==t.REPORT_TYPE?"@Voucher Wise Sales Report":2==t.REPORT_TYPE?"@Day Wise Sales Report":3==t.REPORT_TYPE?"@Month Wise Sales Report":"",1==t.INCLUDE_RETURN?this.includeReturnDisplayName="@Report Including Sales Return":0==t.INCLUDE_RETURN&&(this.includeReturnDisplayName="@Report Excluding Sales Return"),this.showdetalreportdisplay=1==t.REPORT_TYPE?0==t.SHOWDETALREPORT?"@Summary Report":1==t.SHOWDETALREPORT?"@Detail Report":"":""),"Recurring Transaction Report"==this.showReportName&&(this.showReportName="Recurring Transaction Reprt",this.customerDisplayName="%"!=t.ACID?t.CUSTOMER:"",this.RecurringItemName=t.ITEM?"%"==t.ITEM?"ALL":t.ITEM:"",this.RecurringCategory=t.CATEGORY?"%"==t.CATEGORY?"ALL":t.CATEGORY:"",this.RecurringOptionDisplayName=0==t.REPORTOPTION?"Upcoming Recurring Transaction Report":1==t.REPORTOPTION?"Processed Recurring Transaction Report":2==t.REPORTOPTION?"Hold Recurring Transaction Report":3==t.REPORTOPTION?"New Recurring Transaction Report":4==t.REPORTOPTION?"Pending Recurring Transaction Report":""),("Recurring Transaction Analysis Report"==this.showReportName||"Recurring Transaction Analysis Report_1"==this.showReportName||"Recurring Transaction Analysis Report_2"==this.showReportName)&&(console.log("report param",t),this.showReportName="Recurring Transaction Analysis Report",this.reportTypeDisplayName=0==t.REPORTYPE?"@Category Wise Report":1==t.REPORTYPE?"@Item Wise Report":2==t.REPORTYPE?"@Customer Wise Report":3==t.REPORTYPE?"@Yearly Comparision Report":"",this.RecurringOptionDisplayName=0==t.REPORTOPTION?"All Recurring":1==t.REPORTOPTION?"Processed Recurring":2==t.REPORTOPTION?"Non-Processed Recurring":3==t.REPORTOPTION?"New Recurring":"",this.recurringTransactionMode=0==t.RecurringMode?"ALL":1==t.RecurringMode?"Each Month":2==t.RecurringMode?"Each 3 Months":3==t.RecurringMode?"Each 6 Months":4==t.RecurringMode?"Each Year":"",this.categoryDisplayName="%"!=t.CATNAME?t.CATNAME:"",this.itemName="%"!=t.ITEM?t.ITEM:""),("Credit Note Book Report"==this.showReportName||"Credit Note Book Report_1"==this.showReportName||"Credit Note Book Report_2"==this.showReportName)&&(this.showReportName="Credit Note Book Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==t.REPORT_TYPE?"@Voucher Wise Sales Report":2==t.REPORT_TYPE?"@Day Wise Sales Report":3==t.REPORT_TYPE?"@Month Wise Sales Report":"",0==t.CNMODE?this.creditNoteDisplayName="@Item Base Credit Note Only":1==t.CNMODE?this.creditNoteDisplayName="@A/C Base Credit Note Only":2==t.CNMODE&&(this.creditNoteDisplayName=""),this.showdetalreportdisplay=1==t.REPORT_TYPE?0==t.SHOWDETALREPORT?"@Summary Report":1==t.SHOWDETALREPORT?"@Detail Report":"":""),("Sales Report Item Wise"==this.showReportName||"Sales Report Item Wise_2"==this.showReportName||"Sales Report Item Wise_3"==this.showReportName)&&(this.showReportName="Sales Report Item Wise","%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemwiseDisplaycode=t.ITEMNAME,this.itemwiseDisplayName=t.MENUCODE):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.showUserWiseFormat=1==t.SHOWUSERWISE?"@Report with User Wise Format":""),"Sales Report Item Wise Detail"==this.showReportName&&("%"!=t.MCODE?(this.itemwiseDisplaycode=t.MENUCODE,this.itemwiseDisplayName=t.ITEMNAME):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportOptionDisplayName=0==t.REPORT_TYPE?"@Bill Wise Report":1==t.REPORT_TYPE?"@Day Wise Report":"",this.showDetailDisplay=1==t.SHOWDETAIL?"@Report with Item Detail":"",this.showUserWiseFormat=1==t.SHOWUSERWISE?"@Report with User Wise Format":""),("Sales Report Customer Wise"==this.showReportName||"Sales Report Customer Wise_2"==this.showReportName||"Sales Report Customer Wise_3"==this.showReportName)&&(this.showReportName="Sales Report Customer Wise",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report- By Item":2==t.SHOWDETAIL?"@Detail Report- By Sales Bill":"",this.customerDisplayName="%"!=t.CUSTID?t.CUSTOMERNAME:"","%"!=t.CTYPE||(this.customerTypeDisplayName=""),"%"!=t.AREAID||(this.areaDisplayName=""),"%"!=t.TRNMODE?"CREDIT"==t.TRNMODE?this.transactionDisplayName="CREDIT":"NONCREDIT"==t.TRNMODE&&(this.transactionDisplayName="NONCREDIT"):this.transactionDisplayName="",1==t.SHOWAREAWISE?this.areaWiseDisplayName="@Area Wise Report":0==t.SHOWAREAWISE&&(this.areaWiseDisplayName=""),this.tranAmntDisplayName=t.TRANSACTIONAMOUNT?t.TRANSACTIONAMOUNT:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Category Wise"==this.showReportName||"Sales Report Category Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Category Wise",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Product Type Wise"==this.showReportName||"Sales Report Product Type Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Product Type Wise","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.productTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.productTypeDisplay="",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Supplier Wise"==this.showReportName||"Sales Report Supplier Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Supplier Wise",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL||2==t.SHOWDETAIL?"@Detail Report":"",this.supplierDisplayName="%"!=t.ACID?t.SUPPLIERNAME:"",this.tranAmntDisplayName=t.TRANSACTIONAMOUNT?t.TRANSACTIONAMOUNT:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Book Report"==this.showReportName||"Purchase Book Report_1"==this.showReportName||"Purchase Book Report_2"==this.showReportName)&&(this.showReportName="Purchase Book Report",this.reportTypeDisplayName=1==t.REPORT_TYPE?"@Voucher Wise Purchase Report":2==t.REPORT_TYPE?"@Day Wise Purchase Report":3==t.REPORT_TYPE?"@Month Wise Purchase Report":"",this.purchaseReturnDisplayName=1==t.INCLUDE_RETURN?"@Report Including Purchase Return":0==t.INCLUDE_RETURN?"@Report Excluding Purchase Return":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.showdetalreportdisplay=1==t.REPORT_TYPE?0==t.SHOWDETALREPORT?"@Summary Report":1==t.SHOWDETALREPORT?"@Detail Report":"":""),("Debit Note Book Report"==this.showReportName||"Debit Note Book Report_1"==this.showReportName||"Debit Note Book Report_2"==this.showReportName)&&(this.showReportName="Debit Note Book Report","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==t.REPORT_TYPE?"@Voucher Wise Purchase Report":2==t.REPORT_TYPE?"@Day Wise Purchase Report":3==t.REPORT_TYPE?"@Month Wise Purchase Report":"",0==t.DNMODE?this.debitNoteDisplayName="@Item Base Debit Note Only":1==t.DNMODE?this.debitNoteDisplayName="@A/C Base Debit Note Only":2==t.DNMODE&&(this.debitNoteDisplayName=""),this.showdetalreportdisplay=1==t.REPORT_TYPE?0==t.SHOWDETALREPORT?"@Summary Report":1==t.SHOWDETALREPORT?"@Detail Report":"":""),("Purchase Report Item Wise"==this.showReportName||"Purchase Report Item Wise_2"==this.showReportName||"Purchase Report Item Wise_3"==this.showReportName)&&(this.showReportName="Purchase Report Item Wise","%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.supplierDisplayName="%"!=t.ACID?t.SUPPLIERNAME:"","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.purchaseItemWiseDisplay=0==t.ITEMGROUPWISE?"Item Wise":1==t.ITEMGROUPWISE?"Mother Item Wise":"Mother Item Wise with Item Details"),"Purchase Report Item Wise Detail"==this.showReportName&&("%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportOptionDisplayName=0==t.REPORT_TYPE?"@Bill Wise Report":1==t.REPORT_TYPE?"@Day Wise Report":"",this.showDetailDisplay=1==t.SHOWDETAIL?"@Report with Item Detail":""),("Purchase Report Supplier Wise"==this.showReportName||"Purchase Report Supplier Wise_1"==this.showReportName||"Purchase Report Supplier Wise_2"==this.showReportName)&&(this.showReportName="Purchase Report Supplier Wise",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report-By Item":2==t.SHOWDETAIL?"@Detail Report-By Purchase Bill":"",this.supplierDisplayName="%"!=t.ACID?t.SUPPLIERNAME:"",this.purchasetranAmntDisplayName=t.TRANSACTIONAMOUNT?t.TRANSACTIONAMOUNT:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Report Category Wise"==this.showReportName||"Purchase Report Category Wise_1"==this.showReportName)&&(this.showReportName="Purchase Report Category Wise",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Report Product Type Wise"==this.showReportName||"Purchase Report Product Type Wise_1"==this.showReportName)&&(this.showReportName="Purchase Report Product Type Wise","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.productTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.productTypeDisplay="",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Membership Point Report"==this.showReportName||"Membership Point Report_1"==this.showReportName)&&(this.showReportName="Membership Point Report",this.showReportType=1==t.SUMMARY?"@Summary Report":0==t.SUMMARY?"@Detail Report":"",this.memberDisplayName="%"!=t.MEMID?t.MEMNAME:"",this.membershipPointDisplay=t.POINT?t.POINT:"",this.topNsortDisplay=1==t.TOPNSORT?"@Sorted By Top N Order":""),("Sales Profitability Analysis ReportNONDMS"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_1"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_2"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_3"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_4"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_5"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_6"==this.showReportName)&&(this.showReportName="Sales Profitability Analysis Report","%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemwiseDisplaycode=t.ITEMNAME,this.itemwiseDisplayName=t.MENUCODE):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),"Purchase Order Report"==this.showReportName&&(this.showReportName="Purchase Order Report",this.supplierDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"",0==t.SUMMARYREPORT?this.reportTypeDisplay="@Detail Report":1==t.SUMMARYREPORT&&(this.reportTypeDisplay="@Summary Report")),"Purchase Order Outstanding Report"==this.showReportName&&(this.showReportName="Purchase Order Outstanding Report",this.supplierDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",0==t.ITEMWISEREPORT?this.reportTypeDisplay="@Purchase Order Wise Report":1==t.ITEMWISEREPORT&&(this.reportTypeDisplay="@Item Wise Report")),"Quotation Report"==this.showReportName&&(this.showReportName="Quotation Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MCODE):(this.itemDisplayName="",this.itemDisplaycode="")),"Sales Order Report"==this.showReportName&&(this.showReportName="Sales Order Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"",0==t.SUMMARYREPORT?this.reportTypeDisplay="@Detail Report":1==t.SUMMARYREPORT&&(this.reportTypeDisplay="@Summary Report"),this.UserDisplayName="%"!=t.USER?t.USER:"","%"!=t.COSTCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.SalesmanDisplayName="%"!=t.SMANID?t.SALESMANNAME:""),"Sales Order Outstanding Report"==this.showReportName&&(this.showReportName="Sales Order Outstanding Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",0==t.ITEMWISEREPORT?this.reportTypeDisplay="@Sales Order Wise Report":1==t.ITEMWISEREPORT&&(this.reportTypeDisplay="@Item Wise Report")),"Raw Data Report"==this.showReportName&&(this.showReportName="Raw Data Report","%"!=t.REPORT_ID?(console.log("@@reportparam",t.REPORT_NAME),this.reportTypeDisplay=`Report Type: ${t.REPORT_NAME}`):this.reportTypeDisplay=""),"Branch Transfer Report"==this.showReportName&&(this.reportTypeDisplay="TO%"==t.OPT_BRANCHINOUT?"@Report Type: Branch Transfer Out Report":"TR%"==t.OPT_BRANCHINOUT?"@Report Type: Branch Transfer In Report":""),"Stock Ageing Report"==this.showReportName&&(this.reportTypeDisplay=1==t.AGEINGMODE?"@Ageing Type: By Purchase Date":2==t.AGEINGMODE?"@Ageing Type: By Expiry Date":3==t.AGEINGMODE?"@Ageing Type: By Manufacturing Date":""),"Sales Collection Report"==this.showReportName&&(this.reportTypeDisplayName=0==t.REPORTTYPE?"@Summary Report":1==t.REPORTTYPE?"@Detail Report":"",this.reportOptionDisplayName=0==t.REPORTOPTION?"@User Wise Report":1==t.REPORTOPTION?"@Counter Wise Report":2==t.REPORTOPTION?"@Day Wise Report":"",this.UserDisplayName="%"!=t.TRNUSER?t.TRNUSER:"%"==t.TRNUSER&&1==t.ALLUSER?"All Users":"",this.terminalDisplayName="%"!=t.TERMINAL?t.TERMINALNAME:"%"==t.TERMINAL&&1==t.ALLTERMINAL?"All Counters":"",1==t.TIMWISEREPORT&&("00:00"!=t.TIME1&&"00:00"!=t.TIME2?(this.TimeDisplay=t.TIME1,this.TimeDisplay2=t.TIME2):(this.TimeDisplay="",this.TimeDisplay2=""))),("Consolidated Stock Report - Division Wise"==this.showReportName||"Consolidated Stock Report - Warehouse Wise"==this.showReportName||"Consolidated Sales Report - Division Wise"==this.showReportName||"Consolidated Purchase Report - Division Wise"==this.showReportName)&&(this.reportTypeDisplay=t.REPORTOPTIONDISPLAYNAME?t.REPORTOPTIONDISPLAYNAME:"",this.supplierDisplayName=t.SUPPLIERDISPLAYNAME?t.SUPPLIERDISPLAYNAME:"",this.customerDisplayName=t.CUSTOMERDISPLAYNAME?t.CUSTOMERDISPLAYNAME:"",this.categoryDisplayName=t.CATEGORYNAME?t.CATEGORYNAME:"",this.itemDisplayName=t.ITEMNAME?t.ITEMNAME:"",this.itemTypeDisplay=t.ITEMTYPENAME?t.ITEMTYPENAME:"",this.itemGroupDisplayName=t.ITEMGROUPNAME?t.ITEMGROUPNAME:"",this.warehouseDisplayName=t.WAREHOUSENAME?t.WAREHOUSENAME:""),"Opening Stock Report"==this.showReportName&&("%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.labelDisplayName="1"==t.ReportMode?" @Negative Stock Report Only":"",this.stockshowDetailDisplay=1==t.ShowDetail?"@Report with Item Detail":"",this.warehouseDisplayName="%"!=t.WAREHOUSE?t.WAREHOUSE:"",this.itemGroupDisplayName="%"!=t.MGROUP&&t.MGROUP?t.ITEMGROUPNAME:"",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"",this.itemTypeDisplay="100"!=t.PTYPE?t.ITEMTYPENAME:"",this.supplierDisplayName="%"!=t.SUPCODE?t.SUPPLIERNAME:""),"Stock Issue Report"==this.showReportName&&(this.FromwarehouseName=t.FROMWAREHOUSENAME?t.FROMWAREHOUSENAME:"",this.ToWarehouseName=t.TOWAREHOUSENAME?t.TOWAREHOUSENAME:"",this.reportTypeDisplay=t.REPORTOPTIONDISPLAYNAME?t.REPORTOPTIONDISPLAYNAME:""),"Requisition Report"==this.showReportName&&(this.reportTypeDisplay=1==t.ENTRYWISEREPORT?"@Entry Wise Report":2==t.ENTRYWISEREPORT?"@Item WiseReport":"",this.REQFROMDISPLAYNAME=t.REQFROMDISPLAYNAME?t.REQFROMDISPLAYNAME:"",this.REQTODISPLAYNAME=t.REQTODISPLAYNAME?t.REQTODISPLAYNAME:"","%"!=t.MCODE?this.itemwiseDisplaycode=t.ITEMNAME:this.itemwiseDisplayName="",0==t.Status?this.StatusDisplayName="All":1==t.Status?this.StatusDisplayName="Pending":2==t.Status?this.StatusDisplayName="Delivered":3==t.Status&&(this.StatusDisplayName="Force Closed")),"Shift Close Report"==this.showReportName&&(this.UserDisplayName="%"!=t.TRNUSER?t.TRNUSER:"",this.terminalDisplayName="%"!=t.TERMINAL?t.TERMINALNAME:""),"Stock Variance Report"==this.showReportName&&(this.warehouseDisplayName="%"!=t.WAREHOUSE?t.WAREHOUSE:""),"Sales Revenue Metrics Report"==this.showReportName&&(this.reportModeDisplayName=0==t.REPORTMODE?"Daily":1==t.REPORTMODE?"Weekly":"Monthly")}clickNext(){this.body.nativeElement.scrollTop=0}updown(t){"F2"==t.code&&(t.preventDefault(),this.fiterClickEvent()),"F9"==t.code&&(t.preventDefault(),this.ExportReportInExcel()),"F7"==t.code&&(t.preventDefault(),this.ExportReportInPdf()),"Escape"==t.code&&(1==this.reportLoadedSuccess&&(t.preventDefault(),this.closeReport()),1==this.showReportListDialog&&(t.preventDefault(),this.CancelReportList())),null==this.selectedRowIndex&&(this.selectedRowIndex=0),"ArrowDown"===t.code?1==this.showReportListDialog&&(t.preventDefault(),this.selectedRowIndex=this.selectedRowIndex+1,this.selectedRowIndex>this.previouslyLoadedReportsList.length-1&&(this.selectedRowIndex=this.previouslyLoadedReportsList.length-1)):"ArrowUp"===t.code&&1==this.showReportListDialog&&(t.preventDefault(),this.selectedRowIndex=this.selectedRowIndex-1,this.selectedRowIndex<0&&(this.selectedRowIndex=0)),"Enter"!==t.code&&"NumpadEnter"!==t.code||1!=this.showReportListDialog||(t.preventDefault(),null==this.selectedRowIndex||null==this.previouslyLoadedReportsList[this.selectedRowIndex])||this.router.navigate([this.previouslyLoadedReportsList[this.selectedRowIndex].activeurlpath])}routerToVouchers(t){switch(this.reportmasterDetail.DRILLTO){case"Stock Ledger Report":case"Stock Ledger Other Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,t.TYPE),this.router.navigate(["/pages/reports/stock-ledger-report"],{queryParams:{mode:"DRILL"}});break;case"VOUCHER":if((0,Ze.isNullOrUndefined)(t[this.reportmasterDetail.DRILLKEY]))return;this.router.navigate([this.getDrillRouteVoucherWise(t[this.reportmasterDetail.DRILLKEY],t.CNDN_MODE)],{queryParams:{mode:"DRILL",voucher:t[this.reportmasterDetail.DRILLKEY],returnUrl:this.activeurlpath}});break;case"Membership Point Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["/pages/reports/membershippointreport"],{queryParams:{mode:"DRILL"}});break;case"Stock Valuation ReportNONDMS_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/stock-valuation-report"],{queryParams:{mode:"DRILL"}});break;case"Sales Book Report_2":case"Sales Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesbook-report"],{queryParams:{mode:"DRILL"}});break;case"Sales Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesbook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Stock Summary Report_A":case"Stock Summary Report_4":case"Stock Summary Report_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/stock-summary-report"],{queryParams:{mode:"DRILL"}});break;case"Purchase Book Report_2":case"Purchase Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasebookreport"],{queryParams:{mode:"DRILL"}});break;case"Purchase Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasebookreport"],{queryParams:{mode:"DRILL",counter:0}});break;case"Credit Note Book Report_2":case"Credit Note Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/creditnotebook-report"],{queryParams:{mode:"DRILL"}});break;case"Credit Note Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/creditnotebook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Debit Note Book Report_2":case"Debit Note Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/debitnotebook-report"],{queryParams:{mode:"DRILL"}});break;case"Debit Note Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/debitnotebook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Item Wise Detail":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-itemwise-detail"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Item Wise Detail":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-itemwise-detail"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Item Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-itemwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Item Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-itemwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Purchase Report Item Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-itemwise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Item Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-itemwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Customer Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-customerwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Customer Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-customerwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Purchase Report Supplier Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-supplierwise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Supplier Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-supplierwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Category Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/SalesReportCategoryWise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Category Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/PurchaseReportCategoryWise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Product Type Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/SalesReportProductTypeWise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Product Type Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/PurchaseReportProductTypeWise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Supplier Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-supplierwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Salesman Wise_1":case"Sales Report Salesman Wise_2":case"Sales Report Salesman Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-salesmanwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Membership Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-membershipwise"],{queryParams:{mode:"DRILL"}});break;case"Recurring Transaction Analysis Report_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/recurring-transaction-analysis-report"],{queryParams:{mode:"DRILL"}})}}clicked(t){this.HighlightRow=t}downloadReportPrepareFromAPI(){console.log("report rounding mode",this.REPORTROUNDINGMODE,"reports params",this.reportparam);var t=1;let r=this.reportHeaders.map(a=>({SNO:t++,ReportName:this.reportname,ColumnName:a.colHeader,MappingName:a.mappingName,MergeHeader:a.colGroup}));0!=this.REPORTROUNDINGMODE?this.reportparam.REPORTROUNDINGMODE=this.REPORTROUNDINGMODE:(this.reportparam.REPORTROUNDINGMODE=0,delete this.reportparam.REPORTROUNDINGMODE);let i={reportname:this.reportname,reportparam:this.reportparam,columnSetting:r||this.reportHeaders,REPORTDISPLAYNAME:this.showReportName};this.spinnerService.show("Report is downloading..Please wait"),this.masterService.DownLoadAllExcelReportPreparedFromAPI(i).subscribe(a=>{this.spinnerService.hide();let l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),d=i.REPORTDISPLAYNAME?i.REPORTDISPLAYNAME:i.reportname;d&&"Annex 5 Report"==d&&(d="Materialized View Report"),Ln.saveAs(l,`${d}.xlsx`)},a=>{this.spinnerService.hide()})}onRowsPerPageChange(t){t<15&&(this.alertService.error("Minimun value for Rows Per Column must be 15"),this.rowsperpage=15)}downloadpdfPrepareFromAPI(){var t=1;let r=this.reportHeaders.map(a=>({SNO:t++,ReportName:this.reportname,ColumnName:a.colHeader,MappingName:a.mappingName,MergeHeader:a.colGroup})),i={reportname:this.reportname,reportparam:this.reportparam,columnSetting:r||this.reportHeaders,REPORTDISPLAYNAME:this.showReportName};this.spinnerService.show("PDF is downloading...Please wait"),this.masterService.DownLoadAllPdfReportPreparedFromAPI(i).subscribe(a=>{this.spinnerService.hide();let l=new Blob([a],{type:"application/pdf"}),d=i.REPORTDISPLAYNAME?i.REPORTDISPLAYNAME:i.reportname;d&&"Annex 5 Report"==d&&(d="Materialized View Report"),Ln.saveAs(l,`${d}.pdf`)},a=>{this.spinnerService.hide()})}updateReportFormat(){this.reportMasterService.updateReportColumnFormat(this.ReportColumnName).subscribe(t=>{"ok"==t.status&&this.alertService.info("Report format is updated successfully")})}refreshReportColumns(){this.reportMasterService.refreshReportColumnFormate(this.reportname,this.reportparam).subscribe(t=>{"ok"==t.status?(this.reportColumnFormate=t.result,this.rowsperpage=t.result?t.result[0].rowsperpage:"100",0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(r=>({ReportName:this.reportname,ColumnName:r.colHeader,MappingName:r.mappingName,Show:r.Visible,ColWidth:r.size,Format:r.stringFormat,Align:r.alignment,ColumnPosition:r.colPosition,ColGroup:r.ColGroup,GroupSummary:r.groupSummaryFunction,GSFunction:r.groupSummaryFunction,TableSummary:r.showTables,TSFunction:r.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((r,o)=>{r.Show=1,r.TableSummary=0,r.GroupSummary=0,r.ColumnPosition=o+1})):this.ReportColumnName=this.reportColumnFormate.map(r=>({ReportName:this.reportname,ColumnName:r.ColumnName,MappingName:r.MappingName,Show:r.Show,ColWidth:r.ColWidth,Format:r.Format,Align:r.Align,ColumnPosition:r.ColumnPosition,ColGroup:r.ColGroup,GroupSummary:r.GroupSummary,GSFunction:r.GSFunction,TableSummary:r.TableSummary,TSFunction:r.TSFunction,ReportTitle:this.reportTitle,rowsperpage:r.rowsperpage}))):this.reportColumnFormate=[]})}prepareOptionalDynamicHeader(t=[]){let r=[],o=0;if(t.length){for(var i in t){if(this.reportmasterDetail.HASDYNAMICCOLUMNS&&1==this.reportmasterDetail.DYNAMICHEADER){let c,d="Default";d=1==this.reportmasterDetail.DYNAMICHEADER&&t[i].mappingName.includes("~")?t[i].mappingName.split("~")[0]:"Default",c=this.allHeaders.filter(_=>_.mappingName.split("~")[0]==t[i].mappingName.split("~")[0]);let h=r.filter(_=>_.mappingName.split("~")[0]==t[i].mappingName.split("~")[0]);o+1>=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL?h.length||r.push({colGroup:"Default"==d?"":d,width:a(c,this.reportmasterDetail.DYNAMICCOLUMNWIDTH)+"px",colspan:Number(c.length),alignment:"center",mappingName:t[i].mappingName,colPosition:"Default"==d?t[i].colPosition+5e3:t[i].colPosition}):r.push({colGroup:"",colspan:1,width:Number(t[i].size)+"px",alignment:"center",mappingName:t[i].mappingName,colPosition:t[i].colPosition})}o++}r=eo().sortBy(r,"colPosition"),this.optionalreportHeaders=r.length?r:[]}function a(l=[],d){console.log("@@DYNAMICCOLUMNWIDTH",d);let c=0;return l.length?(l.forEach(h=>{c+=Number(d)}),c):100}}preparereportHeader(t=[]){let r=[];if(t.length){for(var o of t)if(o.hasOwnProperty("colHeader")&&""!=o.colHeader&&!(0,Ze.isNullOrUndefined)(o.colHeader)){let a=t.filter(d=>d.colHeader==o.colHeader);r.filter(d=>d.colHeader==o.colHeader).length||r.push({width:i(a)+"px",colspan:Number(a.length),alignment:"center",mappingName:o.mappingName,colHeader:o.colHeader})}else r.push({colHeader:o.colHeader,colspan:1,width:Number(o.size)+"px",alignment:"center",mappingName:o.mappingName});this.mergereportHeaders=r||[]}function i(a=[]){let l=0;return a.length?(a.forEach(d=>{l+=Number(d.size)}),l):100}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.F0),e.Y36(b.P),e.Y36(P.e),e.Y36(v.gz),e.Y36(Z.uw),e.Y36(A),e.Y36(wn.V),e.Y36(y.c),e.Y36(jn.tm),e.Y36(T.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["reportmain"]],viewQuery:function(t,r){if(1&t&&(e.Gf(ud,5),e.Gf(gd,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.body=o.first)}},hostBindings:function(t,r){1&t&&e.NdJ("keydown",function(i){return r.updown(i)},!1,e.evT)},inputs:{reportMaster:"reportMaster",reportname:"reportname"},decls:76,vars:30,consts:[[1,"clearfix"],[1,"row","col-md-12"],[1,"row","col-md-11"],[1,"modal-title","bold_text",2,"font-size","18px","margin-top","0px","margin-left","19px"],[4,"ngIf"],[1,"col-md-1"],["type","button","data-dismiss","modal",1,"close",2,"margin-right","30%","margin-top","5px",3,"click"],[1,"plainBackGround","toggable-sidebar",3,"ngClass"],[1,"btn","btn-info","btn-toggler",3,"click"],[1,"glyphicon","glyphicon-search"],[1,"fa","fa-angle-double-left",3,"ngClass"],["type","text","name","search","placeholder","Search in report",1,"form-control",2,"width","250px","height","25px","margin-right","50px","margin-bottom","10px",3,"ngModel","ngModelChange"],[2,"float","left","margin-left","10px","margin-right","0.5%"],[2,"height","30px","width","30px"],[1,"cell-with-comment",2,"border","1pt solid black",3,"click"],[2,"margin","5px"],["tooltip","Main filters",1,"fa","fa-filter"],[1,"cell-comment"],["style","height:30px;width:30px",4,"ngIf"],[2,"margin","4px"],["tooltip","Main filters",1,"fa","fa-file-export"],["id","pdfWidth",1,"cell-with-comment",2,"border","1pt solid black",3,"click"],[2,"margin","7px"],["tooltip","Main filters",1,"fa","fa-file-pdf"],["tooltip","Main filters",1,"fa","fa-file-alt"],[1,"report-table",2,"width","102%"],[1,"widgets"],[1,"row","table-container"],["id","BlueHeaderResizableTable",1,"reportTabel",2,"font-size","12px","width","98%","height","96%","overflow-x","auto"],["reportHtmlTable",""],[2,"height","25px"],["style","font-weight: bold;text-align: center;",3,"width","ngStyle","ngClass",4,"ngFor","ngForOf"],[2,"width","fit-content"],["body",""],[3,"ngClass","active","dblclick","contextmenu","click",4,"ngFor","ngForOf"],[2,"margin-bottom","0.5%"],["style","font-weight: bold;font-size: inherit;height: 20px !important;color: inherit;",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"pageChange","click"],["bsModal","","role","dialog",1,"modal","fade",2,"position","absolute","top","50%"],["childModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-title"],[1,"modal-body"],["class","modal-sticky","style","overflow-y: auto; overflow-x: hidden; right: 4%;width: 92%;z-index: 9999999",4,"ngIf"],["class","modal-sticky","style","overflow: auto;right: 40%;width: 30%;z-index: 9999999",4,"ngIf"],["class","modal-sticky","style","overflow: auto;right: 20%;width: 40%;z-index: 9999999",4,"ngIf"],["class","bold_text",4,"ngIf"],["class","bold_text","style","width: auto;",4,"ngIf"],["class","bold_text","style","width: 140px;",4,"ngIf"],[1,"bold_text"],[1,"bold_text",2,"width","auto"],[1,"bold_text",2,"width","140px"],[2,"border","1pt solid black",3,"click"],["tooltip-placement","right","tooltip","Main filters",2,"margin","5px"],["tooltip","Main filters",1,"fa","fa-tasks"],[3,"text-align","width","ngClass",4,"ngFor","ngForOf"],[3,"width","ngClass"],[2,"font-weight","bold","text-align","center",3,"width","ngStyle","ngClass"],["class","arrow down",3,"click",4,"ngIf"],["class","arrow up",3,"click",4,"ngIf"],[1,"arrow","down",3,"click"],[1,"arrow","up",3,"click"],[3,"ngClass","dblclick","contextmenu","click"],["style","height: 20px !important;",3,"ngClass","width","text-align",4,"ngFor","ngForOf"],[2,"height","20px !important",3,"ngClass","width"],[2,"margin","0 !important","overflow","hidden",3,"ngStyle"],[2,"font-weight","bold","font-size","inherit","height","20px !important","color","inherit"],["style","height: 30px !important;background: #ABDCFB;",3,"width","text-align","ngClass",4,"ngFor","ngForOf"],[2,"height","30px !important","background","#ABDCFB",3,"width","ngClass"],[1,"modal-sticky",2,"overflow-y","auto","overflow-x","hidden","right","4%","width","92%","z-index","9999999"],[1,"modal-content","modal-content-main-area"],[2,"background-color","#d9e5e7","display","flex","justify-content","space-between","align-items","center"],["id","myModalLabel",1,"modal-title"],["type","button",1,"btn","btn-info",2,"font-size","14px",3,"click"],["type","button","class","btn btn-info","style","font-size: 14px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info",2,"margin-left","115px","margin-top","-6px","font-size","14px",3,"click"],["type","button",1,"btn","btn-info",2,"margin-left","12px","margin-top","-6px","font-size","14px",3,"click"],[1,"row"],[1,"col-md-12"],[1,"row",2,"margin-top","5px","align-items","baseline"],[1,"row","col-md-4",2,"margin-top","5px"],[1,"col-md-4","label",2,"margin","0","padding","0"],[1,"col-md-6"],["type","text",1,"form-control","input-text-element",2,"color","black","height","24px",3,"readonly","ngModel","ngModelChange"],["type","text",1,"form-control","input-text-element",2,"height","24px",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","5px"],["type","text",1,"form-control","input-text-element",3,"ngModel","ngModelChange","change"],["name","dynamic","id","dynamiccolumn",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["name","dynamicheaders","id","dynamicheader",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],["type","number",1,"form-control","input-text-element",3,"ngModel","ngModelChange"],["type","text",1,"form-control","input-text-element",3,"ngModel","ngModelChange"],["name","mergeheader","id","_mergeheader",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"margin-left","5px"],[1,"table",2,"display","grid","font-size","12px"],[2,"width","56px"],["scope","col",2,"width","190px"],["scope","col",2,"width","60px"],["scope","col",2,"width","90px"],["scope","col",2,"width","100px"],["scope","col",2,"width","65px"],["scope","col",2,"width","120px"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],[1,"columformat-class",2,"width","56px"],[1,"columformat-class",2,"width","190px","line-height","32px"],["type","text",1,"form-control",2,"height","26px","margin-top","2px","font-size","12px",3,"ngModel","ngModelChange"],["type","text",1,"form-control",2,"color","black","height","26px","margin-top","2px","font-size","12px",3,"readonly","ngModel","ngModelChange"],[1,"columformat-class",2,"width","60px","line-height","32px"],["type","checkbox",1,"form-control",2,"font-size","2px","margin-top","10%",3,"ngModel","change","ngModelChange"],[1,"columformat-class",2,"width","90px","line-height","32px"],["type","number",1,"form-control",2,"height","26px","margin-top","2px","font-size","12px",3,"ngModel","ngModelChange"],[1,"columformat-class",2,"width","100px","line-height","32px","font-size","12px"],["type","text",1,"form-control",2,"height","26px","margin-top","2px",3,"ngModel","ngModelChange"],[1,"columformat-class",2,"width","65px","line-height","32px"],[1,"columformat-class",2,"width","120px","line-height","32px"],["type","checkbox",1,"form-control",2,"font-size","2px","margin-top","5%",3,"ngModel","change","ngModelChange"],[1,"modal-sticky",2,"overflow","auto","right","40%","width","30%","z-index","9999999"],[2,"height","28px","margin-top","5px"],["id","myModalLabel",1,"modal-title",2,"line-height","15px","font-weight","bold"],[1,"table-responsive"],[1,"table",2,"display","grid"],[2,"width","100%"],[2,"line-height","7px"],[2,"width","1%"],[2,"width","7%"],[2,"height","200px","overflow","auto","font-size","15px"],["style","line-height: 5px;",3,"highlighted",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[2,"line-height","5px"],[2,"width","7%",3,"routerLink"],[1,"modal-sticky",2,"overflow","auto","right","20%","width","40%","z-index","9999999"],[1,"modal-header",2,"padding","0px","background","#87ceeb"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin","auto","height","45vh","width","80vh",3,"src"],[1,"row","col-md-12","pd0"],[2,"font-weight","bold","font-size","14px","width","auto"],[2,"font-size","14px","width","auto"],[3,"data"]],template:function(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"titlecase"),e.qZA(),e.YNc(6,f0,55,54,"ng-container",4),e.qZA(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return r.closeReport()}),e._uU(9,"\xd7"),e.qZA()(),e.TgZ(10,"div",7)(11,"button",8),e.NdJ("click",function(){return r.hideShow=!r.hideShow}),e._UZ(12,"span",9)(13,"i",10),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(a){return r.filter=a}),e.qZA()()()(),e.TgZ(15,"div",0)(16,"div",12)(17,"table")(18,"tr",13)(19,"td",14),e.NdJ("click",function(){return r.fiterClickEvent()}),e.TgZ(20,"i",15),e._UZ(21,"span",16),e.qZA(),e.TgZ(22,"span",17),e._uU(23," View Report Dialog Box [F2] "),e.qZA()()(),e.YNc(24,S0,4,0,"tr",18),e.TgZ(25,"tr",13)(26,"td",14),e.NdJ("click",function(){return r.ExportReportInExcel()}),e.TgZ(27,"i",19),e._UZ(28,"span",20),e.qZA(),e.TgZ(29,"span",17),e._uU(30," Save To Excel [F9] "),e.qZA()()(),e.TgZ(31,"tr",13)(32,"td",21),e.NdJ("click",function(){return r.ExportReportInPdf()}),e.TgZ(33,"i",22),e._UZ(34,"span",23),e.qZA(),e.TgZ(35,"span",17),e._uU(36," Save To PDF [F7] "),e.qZA()()(),e.TgZ(37,"tr",13)(38,"td",14),e.NdJ("click",function(){return r.showPreviouslyLoadedReports()}),e.TgZ(39,"i",22),e._UZ(40,"span",24),e.qZA(),e.TgZ(41,"span",17),e._uU(42," Open Report List [Shift+Tab] "),e.qZA()()()()(),e.TgZ(43,"div",25)(44,"div",26)(45,"div",27)(46,"table",28,29),e.YNc(48,O0,3,1,"thead",4),e.TgZ(49,"thead")(50,"tr",30),e.YNc(51,M0,5,7,"th",31),e.qZA()(),e.TgZ(52,"tbody",32,33),e.YNc(54,R0,2,4,"tr",34),e.ALo(55,"paginate"),e.ALo(56,"filter"),e.qZA(),e.TgZ(57,"tfoot",35),e.YNc(58,y0,2,1,"tr",36),e.qZA(),e.TgZ(59,"div",37)(60,"pagination-controls",38),e.NdJ("pageChange",function(a){return r.page=a})("click",function(){return r.clickNext()}),e.qZA()()()()()()(),e.TgZ(61,"div",39,40)(63,"div",41)(64,"div",42)(65,"div",43)(66,"button",44),e.NdJ("click",function(){e.CHM(o);const a=e.MAs(62);return e.KtG(a.hide())}),e._uU(67,"\xd7"),e.qZA(),e.TgZ(68,"h4",45),e._uU(69,"Information"),e.qZA()(),e.TgZ(70,"div",46),e._uU(71),e.qZA()()()(),e.YNc(72,D0,107,12,"div",47),e.YNc(73,F0,19,1,"div",48),e.YNc(74,j0,25,8,"div",49),e.YNc(75,L0,2,1,"div",4)}2&t&&(e.xp6(4),e.hij("",e.lcZ(5,15,r.showReportName),"\xa0\xa0"),e.xp6(2),e.Q6J("ngIf",r.reportparam&&r.reportname),e.xp6(4),e.Q6J("ngClass",e.VKq(23,w0,r.hideShow)),e.xp6(3),e.Q6J("ngClass",e.VKq(25,x0,r.hideShow)),e.xp6(1),e.Q6J("ngModel",r.filter),e.xp6(10),e.Q6J("ngIf","ADMIN"==r.userProfile.username.toUpperCase()),e.xp6(24),e.Q6J("ngIf",r.optionalreportHeaders.length),e.xp6(3),e.Q6J("ngForOf",r.mergereportHeaders),e.xp6(3),e.Q6J("ngForOf",e.xi3(55,17,e.xi3(56,20,r.reportData,r.filter),e.WLB(27,V0,r.rowsperpage,r.page))),e.xp6(4),e.Q6J("ngForOf",r.reportFooter),e.xp6(13),e.hij(" ",r.DialogMessage," "),e.xp6(1),e.Q6J("ngIf",r.showReportColumnFormatPopup),e.xp6(1),e.Q6J("ngIf",r.showReportListDialog),e.xp6(1),e.Q6J("ngIf",r.showItemImage),e.xp6(1),e.Q6J("ngIf",1==r.contextMenuView.show))},dependencies:[v.rH,qe.oB,De.LS,f.mk,f.sg,f.O5,f.PC,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p.JJ,p.On,dd,De._s,f.rS,f.H9,hd],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:500px!important}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{min-width:100%!important}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;right:0;position:absolute;margin:0}.arrow[_ngcontent-%COMP%]{border:solid black;border-width:0 3px 3px 0;display:inline-block;padding:2px}.right[_ngcontent-%COMP%]{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.up[_ngcontent-%COMP%]{transform:rotate(-135deg);-webkit-transform:rotate(-135deg)}.down[_ngcontent-%COMP%]{transform:rotate(45deg);-webkit-transform:rotate(45deg)}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}",".Regular[_ngcontent-%COMP%] {\n    font-weight: inherit;\n    font-size: inherit;\n    height: 20px !important;\n    color: inherit;\n  }\n\n  .Bold[_ngcontent-%COMP%] {\n    font-weight: bold;\n    font-size: inherit;\n    height: 20px !important;\n    color: inherit;\n  }\n\n  .Regulartd[_ngcontent-%COMP%] {\n    white-space: inherit;\n    \n    line-height: 10px;\n    overflow: hidden;\n    padding-left: 5px;\n    padding-right: 3px\n  }\n\n  .Boldtd[_ngcontent-%COMP%] {\n    white-space: inherit;\n    \n    overflow: hidden;\n    padding-left: 5px;\n    padding-right: 3px;\n    line-height: 10px;\n  }\n\n  .toggable-sidebar[_ngcontent-%COMP%] {\n    position: absolute;\n    right: -280px;\n    transition: 0.3s;\n    padding: 10px;\n    width: 270px;\n    text-decoration: none;\n    font-size: 20px;\n    border-radius: 0 5px 5px 0;\n    background: #c0c0c0;\n    color: #000000;\n    \n    \n    margin: 0px;\n    border: 1px solid #f1ebeb;\n  }\n\n  .mySidenav-show[_ngcontent-%COMP%] {\n    right: 0 !important;\n  }\n\n  .btn-toggler[_ngcontent-%COMP%] {\n    position: absolute;\n    left: -45px;\n    top: 3px;\n    background: #8cccfb !important;\n    border-color: #8cccfb !important;\n    padding: 5px 12px 5px 5px !important;\n    font-size: 10px !important;\n    width: 45px !important;\n  }\n\n  .toggler-btn-icon-reverse[_ngcontent-%COMP%] {\n    transform: rotate(180deg);\n  }\n\n  .bold_text[_ngcontent-%COMP%] {\n    font-weight: bold;\n  }\n\n  .columformat-class[_ngcontent-%COMP%]{\n    padding: 0.25rem;\n  }\n  .noMergerHeader[_ngcontent-%COMP%]{\n    margin-top: 0px;\n  }\n  .MergerHeader[_ngcontent-%COMP%]{\n    margin-top: 10px;\n  }\n\n  .highlighted[_ngcontent-%COMP%]\n  {\n    background: #dbedf9;\n    color: black;\n  }\n\n  .input-text-element[_ngcontent-%COMP%]{\n        width: 216px;\n        height: 24px;\n    }\n\n    .notdisplay[_ngcontent-%COMP%] {\n    display:none;\n  }\n\n  #pdfWidth[_ngcontent-%COMP%]{\n    width:52px; \n    border-left-style: solid;\n    border-left-width: 2px;\n  }"]}),n})();var C=S(82661),le=S(15861),jr=S(75130),W0=S(18275),Tt=S(4826),to=S(23753),Z0=S(57451),H0=S(2994),U0=S(61709),z0=S(7625),xn=S(59973),Vn=S(27221),Jt=S(24850),Ae=S(71764),pl={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Xl={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]};function m3(n,s){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);s&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function N(n){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?m3(Object(t),!0).forEach(function(r){ae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $r(n){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(n)}function f3(n,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ae(n,s,t){return s in n?Object.defineProperty(n,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[s]=t,n}function Go(n,s){return function vj(n){if(Array.isArray(n))return n}(n)||function bj(n,s){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var a,l,r=[],o=!0,i=!1;try{for(t=t.call(n);!(o=(a=t.next()).done)&&(r.push(a.value),!s||r.length!==s);o=!0);}catch(d){i=!0,l=d}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw l}}return r}}(n,s)||S3(n,s)||function Tj(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(n){return function Sj(n){if(Array.isArray(n))return Qo(n)}(n)||function Oj(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||S3(n)||function Cj(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S3(n,s){if(n){if("string"==typeof n)return Qo(n,s);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qo(n,s)}}function Qo(n,s){(null==s||s>n.length)&&(s=n.length);for(var t=0,r=new Array(s);t<s;t++)r[t]=n[t];return r}var v3=function(){},Ko={},O3={},b3=null,C3={mark:v3,measure:v3};try{typeof window<"u"&&(Ko=window),typeof document<"u"&&(O3=document),typeof MutationObserver<"u"&&(b3=MutationObserver),typeof performance<"u"&&(C3=performance)}catch{}var ti,ri,ii,oi,ni,T3=(Ko.navigator||{}).userAgent,M3=void 0===T3?"":T3,Ge=Ko,q=O3,A3=b3,ei=C3,He=!!q.documentElement&&!!q.head&&"function"==typeof q.addEventListener&&"function"==typeof q.createElement,P3=~M3.indexOf("MSIE")||~M3.indexOf("Trident/"),Ue="___FONT_AWESOME___",E3="svg-inline--fa",at="data-fa-i2svg",Xo="data-fa-pseudo-element",en="data-prefix",tn="data-icon",y3="fontawesome-i2svg",Rj=["HTML","HEAD","STYLE","SCRIPT"],I3=function(){try{return!0}catch{return!1}}(),G="classic",re="sharp",rn=[G,re];function er(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[G]}})}var tr=er((ae(ti={},G,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),ae(ti,re,{fa:"solid",fass:"solid","fa-solid":"solid"}),ti)),rr=er((ae(ri={},G,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ae(ri,re,{solid:"fass"}),ri)),ir=er((ae(ii={},G,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ae(ii,re,{fass:"fa-solid"}),ii)),Ej=er((ae(oi={},G,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ae(oi,re,{"fa-solid":"fass"}),oi)),yj=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,N3="fa-layers-text",Ij=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Nj=er((ae(ni={},G,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ae(ni,re,{900:"fass"}),ni)),D3=[1,2,3,4,5,6,7,8,9,10],Dj=D3.concat([11,12,13,14,15,16,17,18,19,20]),kj=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],or=new Set;Object.keys(rr[G]).map(or.add.bind(or)),Object.keys(rr[re]).map(or.add.bind(or));var Fj=[].concat(rn,Xt(or),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(D3.map(function(n){return"".concat(n,"x")})).concat(Dj.map(function(n){return"w-".concat(n)})),nr=Ge.FontAwesomeConfig||{};q&&"function"==typeof q.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var s=Go(n,2),r=s[1],o=function Lj(n){return""===n||"false"!==n&&("true"===n||n)}(function jj(n){var s=q.querySelector("script["+n+"]");if(s)return s.getAttribute(n)}(s[0]));null!=o&&(nr[r]=o)});var k3={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:E3,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};nr.familyPrefix&&(nr.cssPrefix=nr.familyPrefix);var Mt=N(N({},k3),nr);Mt.autoReplaceSvg||(Mt.observeMutations=!1);var F={};Object.keys(k3).forEach(function(n){Object.defineProperty(F,n,{enumerable:!0,set:function(t){Mt[n]=t,ar.forEach(function(r){return r(F)})},get:function(){return Mt[n]}})}),Object.defineProperty(F,"familyPrefix",{enumerable:!0,set:function(s){Mt.cssPrefix=s,ar.forEach(function(t){return t(F)})},get:function(){return Mt.cssPrefix}}),Ge.FontAwesomeConfig=F;var ar=[],ke={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function sr(){for(var n=12,s="";n-- >0;)s+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return s}function At(n){for(var s=[],t=(n||[]).length>>>0;t--;)s[t]=n[t];return s}function on(n){return n.classList?At(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(s){return s})}function F3(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ai(n){return Object.keys(n||{}).reduce(function(s,t){return s+"".concat(t,": ").concat(n[t].trim(),";")},"")}function nn(n){return n.size!==ke.size||n.x!==ke.x||n.y!==ke.y||n.rotate!==ke.rotate||n.flipX||n.flipY}function j3(){var n="fa",s=E3,t=F.cssPrefix,r=F.replacementClass,o=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==s){var i=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),l=new RegExp("\\.".concat(s),"g");o=o.replace(i,".".concat(t,"-")).replace(a,"--".concat(t,"-")).replace(l,".".concat(r))}return o}var L3=!1;function an(){F.autoAddCss&&!L3&&(function Vj(n){if(n&&He){var s=q.createElement("style");s.setAttribute("type","text/css"),s.innerHTML=n;for(var t=q.head.childNodes,r=null,o=t.length-1;o>-1;o--){var i=t[o],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}q.head.insertBefore(s,r)}}(j3()),L3=!0)}var Bj={mixout:function(){return{dom:{css:j3,insertCss:an}}},hooks:function(){return{beforeDOMElementCreation:function(){an()},beforeI2svg:function(){an()}}}},ze=Ge||{};ze[Ue]||(ze[Ue]={}),ze[Ue].styles||(ze[Ue].styles={}),ze[Ue].hooks||(ze[Ue].hooks={}),ze[Ue].shims||(ze[Ue].shims=[]);var Pe=ze[Ue],w3=[],si=!1;function Yj(n){!He||(si?setTimeout(n,0):w3.push(n))}function lr(n){var s=n.tag,t=n.attributes,r=void 0===t?{}:t,o=n.children,i=void 0===o?[]:o;return"string"==typeof n?F3(n):"<".concat(s," ").concat(function Zj(n){return Object.keys(n||{}).reduce(function(s,t){return s+"".concat(t,'="').concat(F3(n[t]),'" ')},"").trim()}(r),">").concat(i.map(lr).join(""),"</").concat(s,">")}function x3(n,s,t){if(n&&n[s]&&n[s][t])return{prefix:s,iconName:t,icon:n[s][t]}}He&&((si=(q.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(q.readyState))||q.addEventListener("DOMContentLoaded",function n(){q.removeEventListener("DOMContentLoaded",n),si=1,w3.map(function(s){return s()})}));var sn=function(s,t,r,o){var d,c,h,i=Object.keys(s),a=i.length,l=void 0!==o?function(s,t){return function(r,o,i,a){return s.call(t,r,o,i,a)}}(t,o):t;for(void 0===r?(d=1,h=s[i[0]]):(d=0,h=r);d<a;d++)h=l(h,s[c=i[d]],c,s);return h};function ln(n){var s=function Gj(n){for(var s=[],t=0,r=n.length;t<r;){var o=n.charCodeAt(t++);if(o>=55296&&o<=56319&&t<r){var i=n.charCodeAt(t++);56320==(64512&i)?s.push(((1023&o)<<10)+(1023&i)+65536):(s.push(o),t--)}else s.push(o)}return s}(n);return 1===s.length?s[0].toString(16):null}function V3(n){return Object.keys(n).reduce(function(s,t){var r=n[t];return r.icon?s[r.iconName]=r.icon:s[t]=r,s},{})}function cn(n,s){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,o=void 0!==r&&r,i=V3(s);"function"!=typeof Pe.hooks.addPack||o?Pe.styles[n]=N(N({},Pe.styles[n]||{}),i):Pe.hooks.addPack(n,V3(s)),"fas"===n&&cn("fa",s)}var li,ci,pi,Pt=Pe.styles,Kj=Pe.shims,$j=(ae(li={},G,Object.values(ir[G])),ae(li,re,Object.values(ir[re])),li),pn=null,W3={},Z3={},H3={},U3={},z3={},Xj=(ae(ci={},G,Object.keys(tr[G])),ae(ci,re,Object.keys(tr[re])),ci);function tL(n,s){var t=s.split("-"),r=t[0],o=t.slice(1).join("-");return r!==n||""===o||function eL(n){return~Fj.indexOf(n)}(o)?null:o}var B3=function(){var s=function(i){return sn(Pt,function(a,l,d){return a[d]=sn(l,i,{}),a},{})};W3=s(function(o,i,a){return i[3]&&(o[i[3]]=a),i[2]&&i[2].filter(function(d){return"number"==typeof d}).forEach(function(d){o[d.toString(16)]=a}),o}),Z3=s(function(o,i,a){return o[a]=a,i[2]&&i[2].filter(function(d){return"string"==typeof d}).forEach(function(d){o[d]=a}),o}),z3=s(function(o,i,a){var l=i[2];return o[a]=a,l.forEach(function(d){o[d]=a}),o});var t="far"in Pt||F.autoFetchSvg,r=sn(Kj,function(o,i){var a=i[0],l=i[1],d=i[2];return"far"===l&&!t&&(l="fas"),"string"==typeof a&&(o.names[a]={prefix:l,iconName:d}),"number"==typeof a&&(o.unicodes[a.toString(16)]={prefix:l,iconName:d}),o},{names:{},unicodes:{}});H3=r.names,U3=r.unicodes,pn=di(F.styleDefault,{family:F.familyDefault})};function dn(n,s){return(W3[n]||{})[s]}function lt(n,s){return(z3[n]||{})[s]}function J3(n){return H3[n]||{prefix:null,iconName:null}}function Ke(){return pn}function di(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=s.family,r=void 0===t?G:t,o=tr[r][n],i=rr[r][n]||rr[r][o],a=n in Pe.styles?n:null;return i||a||null}(function xj(n){ar.push(n)})(function(n){pn=di(n.styleDefault,{family:F.familyDefault})}),B3();var Y3=(ae(pi={},G,Object.keys(ir[G])),ae(pi,re,Object.keys(ir[re])),pi);function hi(n){var s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skipLookups,o=void 0!==r&&r,i=(ae(s={},G,"".concat(F.cssPrefix,"-").concat(G)),ae(s,re,"".concat(F.cssPrefix,"-").concat(re)),s),a=null,l=G;(n.includes(i[G])||n.some(function(c){return Y3[G].includes(c)}))&&(l=G),(n.includes(i[re])||n.some(function(c){return Y3[re].includes(c)}))&&(l=re);var d=n.reduce(function(c,h){var _=tL(F.cssPrefix,h);if(Pt[h]?(h=$j[l].includes(h)?Ej[l][h]:h,a=h,c.prefix=h):Xj[l].indexOf(h)>-1?(a=h,c.prefix=di(h,{family:l})):_?c.iconName=_:h!==F.replacementClass&&h!==i[G]&&h!==i[re]&&c.rest.push(h),!o&&c.prefix&&c.iconName){var m="fa"===a?J3(c.iconName):{},g=lt(c.prefix,c.iconName);m.prefix&&(a=null),c.iconName=m.iconName||g||c.iconName,c.prefix=m.prefix||c.prefix,"far"===c.prefix&&!Pt.far&&Pt.fas&&!F.autoFetchSvg&&(c.prefix="fas")}return c},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(d.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(d.prefix="fad"),!d.prefix&&l===re&&(Pt.fass||F.autoFetchSvg)&&(d.prefix="fass",d.iconName=lt(d.prefix,d.iconName)||d.iconName),("fa"===d.prefix||"fa"===a)&&(d.prefix=Ke()||"fas"),d}var oL=function(){function n(){(function gj(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function mj(n,s,t){s&&f3(n.prototype,s),t&&f3(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=o.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(l){t.definitions[l]=N(N({},t.definitions[l]||{}),a[l]),cn(l,a[l]);var d=ir[G][l];d&&cn(d,a[l]),B3()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var o=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(o).map(function(i){var a=o[i],l=a.prefix,d=a.iconName,c=a.icon,h=c[2];t[l]||(t[l]={}),h.length>0&&h.forEach(function(_){"string"==typeof _&&(t[l][_]=c)}),t[l][d]=c}),t}}]),n}(),q3=[],Rt={},Et={},nL=Object.keys(Et);function _n(n,s){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];var i=Rt[n]||[];return i.forEach(function(a){s=a.apply(null,[s].concat(r))}),s}function ct(n){for(var s=arguments.length,t=new Array(s>1?s-1:0),r=1;r<s;r++)t[r-1]=arguments[r];var o=Rt[n]||[];o.forEach(function(i){i.apply(null,t)})}function Be(){var n=arguments[0],s=Array.prototype.slice.call(arguments,1);return Et[n]?Et[n].apply(null,s):void 0}function un(n){"fa"===n.prefix&&(n.prefix="fas");var s=n.iconName,t=n.prefix||Ke();if(s)return s=lt(t,s)||s,x3(G3.definitions,t,s)||x3(Pe.styles,t,s)}var G3=new oL,lL={i2svg:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return He?(ct("beforeI2svg",s),Be("pseudoElements2svg",s),Be("i2svg",s)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.autoReplaceSvgRoot;!1===F.autoReplaceSvg&&(F.autoReplaceSvg=!0),F.observeMutations=!0,Yj(function(){pL({autoReplaceSvgRoot:t}),ct("watch",s)})}},be={noAuto:function(){F.autoReplaceSvg=!1,F.observeMutations=!1,ct("noAuto")},config:F,dom:lL,parse:{icon:function(s){if(null===s)return null;if("object"===$r(s)&&s.prefix&&s.iconName)return{prefix:s.prefix,iconName:lt(s.prefix,s.iconName)||s.iconName};if(Array.isArray(s)&&2===s.length){var t=0===s[1].indexOf("fa-")?s[1].slice(3):s[1],r=di(s[0]);return{prefix:r,iconName:lt(r,t)||t}}if("string"==typeof s&&(s.indexOf("".concat(F.cssPrefix,"-"))>-1||s.match(yj))){var o=hi(s.split(" "),{skipLookups:!0});return{prefix:o.prefix||Ke(),iconName:lt(o.prefix,o.iconName)||o.iconName}}if("string"==typeof s){var i=Ke();return{prefix:i,iconName:lt(i,s)||s}}}},library:G3,findIconDefinition:un,toHtml:lr},pL=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.autoReplaceSvgRoot,r=void 0===t?q:t;(Object.keys(Pe.styles).length>0||F.autoFetchSvg)&&He&&F.autoReplaceSvg&&be.dom.i2svg({node:r})};function _i(n,s){return Object.defineProperty(n,"abstract",{get:s}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return lr(r)})}}),Object.defineProperty(n,"node",{get:function(){if(He){var r=q.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function gn(n){var s=n.icons,t=s.main,r=s.mask,o=n.prefix,i=n.iconName,a=n.transform,l=n.symbol,d=n.title,c=n.maskId,h=n.titleId,_=n.extra,m=n.watchable,g=void 0!==m&&m,j=r.found?r:t,H=j.width,ue=j.height,L="fak"===o,ce=[F.replacementClass,i?"".concat(F.cssPrefix,"-").concat(i):""].filter(function(rt){return-1===_.classes.indexOf(rt)}).filter(function(rt){return""!==rt||!!rt}).concat(_.classes).join(" "),Se={children:[],attributes:N(N({},_.attributes),{},{"data-prefix":o,"data-icon":i,class:ce,role:_.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(H," ").concat(ue)})},we=L&&!~_.classes.indexOf("fa-fw")?{width:"".concat(H/ue*16*.0625,"em")}:{};g&&(Se.attributes[at]=""),d&&(Se.children.push({tag:"title",attributes:{id:Se.attributes["aria-labelledby"]||"title-".concat(h||sr())},children:[d]}),delete Se.attributes.title);var Te=N(N({},Se),{},{prefix:o,iconName:i,main:t,mask:r,maskId:c,transform:a,symbol:l,styles:N(N({},we),_.styles)}),ft=r.found&&t.found?Be("generateAbstractMask",Te)||{children:[],attributes:{}}:Be("generateAbstractIcon",Te)||{children:[],attributes:{}},kn=ft.attributes;return Te.children=ft.children,Te.attributes=kn,l?function hL(n){var t=n.iconName,r=n.children,o=n.attributes,i=n.symbol,a=!0===i?"".concat(n.prefix,"-").concat(F.cssPrefix,"-").concat(t):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:N(N({},o),{},{id:a}),children:r}]}]}(Te):function dL(n){var s=n.children,t=n.main,r=n.mask,o=n.attributes,i=n.styles,a=n.transform;if(nn(a)&&t.found&&!r.found){var c={x:t.width/t.height/2,y:.5};o.style=ai(N(N({},i),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:o,children:s}]}(Te)}function Q3(n){var s=n.content,t=n.width,r=n.height,o=n.transform,i=n.title,a=n.extra,l=n.watchable,d=void 0!==l&&l,c=N(N(N({},a.attributes),i?{title:i}:{}),{},{class:a.classes.join(" ")});d&&(c[at]="");var h=N({},a.styles);nn(o)&&(h.transform=function Uj(n){var s=n.transform,t=n.width,o=n.height,i=void 0===o?16:o,a=n.startCentered,l=void 0!==a&&a,d="";return d+=l&&P3?"translate(".concat(s.x/16-(void 0===t?16:t)/2,"em, ").concat(s.y/16-i/2,"em) "):l?"translate(calc(-50% + ".concat(s.x/16,"em), calc(-50% + ").concat(s.y/16,"em)) "):"translate(".concat(s.x/16,"em, ").concat(s.y/16,"em) "),(d+="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "))+"rotate(".concat(s.rotate,"deg) ")}({transform:o,startCentered:!0,width:t,height:r}),h["-webkit-transform"]=h.transform);var _=ai(h);_.length>0&&(c.style=_);var m=[];return m.push({tag:"span",attributes:c,children:[s]}),i&&m.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),m}function _L(n){var s=n.content,t=n.title,r=n.extra,o=N(N(N({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),i=ai(r.styles);i.length>0&&(o.style=i);var a=[];return a.push({tag:"span",attributes:o,children:[s]}),t&&a.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),a}var mn=Pe.styles;function fn(n){var s=n[0],t=n[1],i=Go(n.slice(4),1)[0];return{found:!0,width:s,height:t,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(F.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat("primary"),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}var uL={found:!1,width:512,height:512};function Sn(n,s){var t=s;return"fa"===s&&null!==F.styleDefault&&(s=Ke()),new Promise(function(r,o){if(Be("missingIconAbstract"),"fa"===t){var a=J3(n)||{};n=a.iconName||n,s=a.prefix||s}if(n&&s&&mn[s]&&mn[s][n])return r(fn(mn[s][n]));(function gL(n,s){!I3&&!F.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(s,'" is missing.'))})(n,s),r(N(N({},uL),{},{icon:F.showMissingIcons&&n&&Be("missingIconAbstract")||{}}))})}var K3=function(){},vn=F.measurePerformance&&ei&&ei.mark&&ei.measure?ei:{mark:K3,measure:K3},cr='FA "6.2.1"',On_begin=function(s){return vn.mark("".concat(cr," ").concat(s," begins")),function(){return function(s){vn.mark("".concat(cr," ").concat(s," ends")),vn.measure("".concat(cr," ").concat(s),"".concat(cr," ").concat(s," begins"),"".concat(cr," ").concat(s," ends"))}(s)}},ui=function(){};function X3(n){return"string"==typeof(n.getAttribute?n.getAttribute(at):null)}function OL(n){return q.createElementNS("http://www.w3.org/2000/svg",n)}function bL(n){return q.createElement(n)}function e4(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=s.ceFn,r=void 0===t?"svg"===n.tag?OL:bL:t;if("string"==typeof n)return q.createTextNode(n);var o=r(n.tag);Object.keys(n.attributes||[]).forEach(function(a){o.setAttribute(a,n.attributes[a])});var i=n.children||[];return i.forEach(function(a){o.appendChild(e4(a,{ceFn:r}))}),o}var gi={replace:function(s){var t=s[0];if(t.parentNode)if(s[1].forEach(function(o){t.parentNode.insertBefore(e4(o),t)}),null===t.getAttribute(at)&&F.keepOriginalSource){var r=q.createComment(function CL(n){var s=" ".concat(n.outerHTML," ");return"".concat(s,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(s){var t=s[0],r=s[1];if(~on(t).indexOf(F.replacementClass))return gi.replace(s);var o=new RegExp("".concat(F.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(l,d){return d===F.replacementClass||d.match(o)?l.toSvg.push(d):l.toNode.push(d),l},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=r.map(function(l){return lr(l)}).join("\n");t.setAttribute(at,""),t.innerHTML=a}};function t4(n){n()}function r4(n,s){var t="function"==typeof s?s:ui;if(0===n.length)t();else{var r=t4;"async"===F.mutateApproach&&(r=Ge.requestAnimationFrame||t4),r(function(){var o=function vL(){return!0===F.autoReplaceSvg?gi.replace:gi[F.autoReplaceSvg]||gi.replace}(),i=On_begin("mutate");n.map(o),i(),t()})}}var bn=!1;function i4(){bn=!0}function Cn(){bn=!1}var mi=null;function o4(n){if(A3&&F.observeMutations){var s=n.treeCallback,t=void 0===s?ui:s,r=n.nodeCallback,o=void 0===r?ui:r,i=n.pseudoElementsCallback,a=void 0===i?ui:i,l=n.observeMutationsRoot,d=void 0===l?q:l;mi=new A3(function(c){if(!bn){var h=Ke();At(c).forEach(function(_){if("childList"===_.type&&_.addedNodes.length>0&&!X3(_.addedNodes[0])&&(F.searchPseudoElements&&a(_.target),t(_.target)),"attributes"===_.type&&_.target.parentNode&&F.searchPseudoElements&&a(_.target.parentNode),"attributes"===_.type&&X3(_.target)&&~kj.indexOf(_.attributeName))if("class"===_.attributeName&&function fL(n){var s=n.getAttribute?n.getAttribute(en):null,t=n.getAttribute?n.getAttribute(tn):null;return s&&t}(_.target)){var m=hi(on(_.target)),j=m.iconName;_.target.setAttribute(en,m.prefix||h),j&&_.target.setAttribute(tn,j)}else(function SL(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(F.replacementClass)})(_.target)&&o(_.target)})}}),He&&mi.observe(d,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ML(n){var s=n.getAttribute("style"),t=[];return s&&(t=s.split(";").reduce(function(r,o){var i=o.split(":"),a=i[0],l=i.slice(1);return a&&l.length>0&&(r[a]=l.join(":").trim()),r},{})),t}function AL(n){var s=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",o=hi(on(n));return o.prefix||(o.prefix=Ke()),s&&t&&(o.prefix=s,o.iconName=t),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=function rL(n,s){return(Z3[n]||{})[s]}(o.prefix,n.innerText)||dn(o.prefix,ln(n.innerText))),!o.iconName&&F.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=n.firstChild.data)),o}function PL(n){var s=At(n.attributes).reduce(function(o,i){return"class"!==o.name&&"style"!==o.name&&(o[i.name]=i.value),o},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return F.autoA11y&&(t?s["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(r||sr()):(s["aria-hidden"]="true",s.focusable="false")),s}function n4(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=AL(n),r=t.iconName,o=t.prefix,i=t.rest,a=PL(n),l=_n("parseNodeAttributes",{},n),d=s.styleParser?ML(n):[];return N({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:o,transform:ke,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:d,attributes:a}},l)}var EL=Pe.styles;function a4(n){var s="nest"===F.autoReplaceSvg?n4(n,{styleParser:!1}):n4(n);return~s.extra.classes.indexOf(N3)?Be("generateLayersText",n,s):Be("generateSvgReplacementMutation",n,s)}var $e=new Set;function s4(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!He)return Promise.resolve();var t=q.documentElement.classList,r=function(_){return t.add("".concat(y3,"-").concat(_))},o=function(_){return t.remove("".concat(y3,"-").concat(_))},i=F.autoFetchSvg?$e:rn.map(function(h){return"fa-".concat(h)}).concat(Object.keys(EL));i.includes("fa")||i.push("fa");var a=[".".concat(N3,":not([").concat(at,"])")].concat(i.map(function(h){return".".concat(h,":not([").concat(at,"])")})).join(", ");if(0===a.length)return Promise.resolve();var l=[];try{l=At(n.querySelectorAll(a))}catch{}if(!(l.length>0))return Promise.resolve();r("pending"),o("complete");var d=On_begin("onTree"),c=l.reduce(function(h,_){try{var m=a4(_);m&&h.push(m)}catch(g){I3||"MissingIcon"===g.name&&console.error(g)}return h},[]);return new Promise(function(h,_){Promise.all(c).then(function(m){r4(m,function(){r("active"),r("complete"),o("pending"),"function"==typeof s&&s(),d(),h()})}).catch(function(m){d(),_(m)})})}function yL(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a4(n).then(function(t){t&&r4([t],s)})}rn.map(function(n){$e.add("fa-".concat(n))}),Object.keys(tr[G]).map($e.add.bind($e)),Object.keys(tr[re]).map($e.add.bind($e)),$e=Xt($e);var NL=function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,o=void 0===r?ke:r,i=t.symbol,a=void 0!==i&&i,l=t.mask,d=void 0===l?null:l,c=t.maskId,h=void 0===c?null:c,_=t.title,m=void 0===_?null:_,g=t.titleId,j=void 0===g?null:g,H=t.classes,ue=void 0===H?[]:H,L=t.attributes,ce=void 0===L?{}:L,Se=t.styles,we=void 0===Se?{}:Se;if(s){var Te=s.prefix,ft=s.iconName,St=s.icon;return _i(N({type:"icon"},s),function(){return ct("beforeDOMElementCreation",{iconDefinition:s,params:t}),F.autoA11y&&(m?ce["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(j||sr()):(ce["aria-hidden"]="true",ce.focusable="false")),gn({icons:{main:fn(St),mask:d?fn(d.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Te,iconName:ft,transform:N(N({},ke),o),symbol:a,title:m,maskId:h,titleId:j,extra:{attributes:ce,styles:we,classes:ue}})})}},DL={mixout:function(){return{icon:(n=NL,function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(s||{}).icon?s:un(s||{}),o=t.mask;return o&&(o=(o||{}).icon?o:un(o||{})),n(r,N(N({},t),{},{mask:o}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=s4,t.nodeCallback=yL,t}}},provides:function(s){s.i2svg=function(t){var r=t.node,i=t.callback;return s4(void 0===r?q:r,void 0===i?function(){}:i)},s.generateSvgReplacementMutation=function(t,r){var o=r.iconName,i=r.title,a=r.titleId,l=r.prefix,d=r.transform,c=r.symbol,h=r.mask,_=r.maskId,m=r.extra;return new Promise(function(g,j){Promise.all([Sn(o,l),h.iconName?Sn(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(H){var ue=Go(H,2);g([t,gn({icons:{main:ue[0],mask:ue[1]},prefix:l,iconName:o,transform:d,symbol:c,maskId:_,title:i,titleId:a,extra:m,watchable:!0})])}).catch(j)})},s.generateAbstractIcon=function(t){var c,r=t.children,o=t.attributes,i=t.main,a=t.transform,d=ai(t.styles);return d.length>0&&(o.style=d),nn(a)&&(c=Be("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),r.push(c||i.icon),{children:r,attributes:o}}}},kL={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.classes,i=void 0===o?[]:o;return _i({type:"layer"},function(){ct("beforeDOMElementCreation",{assembler:t,params:r});var a=[];return t(function(l){Array.isArray(l)?l.map(function(d){a=a.concat(d.abstract)}):a=a.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(F.cssPrefix,"-layers")].concat(Xt(i)).join(" ")},children:a}]})}}}},FL={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.title,i=void 0===o?null:o,a=r.classes,l=void 0===a?[]:a,d=r.attributes,c=void 0===d?{}:d,h=r.styles,_=void 0===h?{}:h;return _i({type:"counter",content:t},function(){return ct("beforeDOMElementCreation",{content:t,params:r}),_L({content:t.toString(),title:i,extra:{attributes:c,styles:_,classes:["".concat(F.cssPrefix,"-layers-counter")].concat(Xt(l))}})})}}}},jL={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.transform,i=void 0===o?ke:o,a=r.title,l=void 0===a?null:a,d=r.classes,c=void 0===d?[]:d,h=r.attributes,_=void 0===h?{}:h,m=r.styles,g=void 0===m?{}:m;return _i({type:"text",content:t},function(){return ct("beforeDOMElementCreation",{content:t,params:r}),Q3({content:t,transform:N(N({},ke),i),title:l,extra:{attributes:_,styles:g,classes:["".concat(F.cssPrefix,"-layers-text")].concat(Xt(c))}})})}}},provides:function(s){s.generateLayersText=function(t,r){var o=r.title,i=r.transform,a=r.extra,l=null,d=null;if(P3){var c=parseInt(getComputedStyle(t).fontSize,10),h=t.getBoundingClientRect();l=h.width/c,d=h.height/c}return F.autoA11y&&!o&&(a.attributes["aria-hidden"]="true"),Promise.resolve([t,Q3({content:t.innerHTML,width:l,height:d,transform:i,title:o,extra:a,watchable:!0})])}}},LL=new RegExp('"',"ug"),l4=[1105920,1112319];function c4(n,s){var t="".concat("data-fa-pseudo-element-pending").concat(s.replace(":","-"));return new Promise(function(r,o){if(null!==n.getAttribute(t))return r();var a=At(n.children).filter(function(St){return St.getAttribute(Xo)===s})[0],l=Ge.getComputedStyle(n,s),d=l.getPropertyValue("font-family").match(Ij),c=l.getPropertyValue("font-weight"),h=l.getPropertyValue("content");if(a&&!d)return n.removeChild(a),r();if(d&&"none"!==h&&""!==h){var _=l.getPropertyValue("content"),m=~["Sharp"].indexOf(d[2])?re:G,g=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(d[2])?rr[m][d[2].toLowerCase()]:Nj[m][c],j=function wL(n){var s=n.replace(LL,""),t=function Qj(n,s){var o,t=n.length,r=n.charCodeAt(s);return r>=55296&&r<=56319&&t>s+1&&(o=n.charCodeAt(s+1))>=56320&&o<=57343?1024*(r-55296)+o-56320+65536:r}(s,0),r=t>=l4[0]&&t<=l4[1],o=2===s.length&&s[0]===s[1];return{value:ln(o?s[0]:s),isSecondary:r||o}}(_),H=j.value,ue=j.isSecondary,L=d[0].startsWith("FontAwesome"),ce=dn(g,H),Se=ce;if(L){var we=function iL(n){var s=U3[n],t=dn("fas",n);return s||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(H);we.iconName&&we.prefix&&(ce=we.iconName,g=we.prefix)}if(!ce||ue||a&&a.getAttribute(en)===g&&a.getAttribute(tn)===Se)r();else{n.setAttribute(t,Se),a&&n.removeChild(a);var Te=function RL(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ke,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),ft=Te.extra;ft.attributes[Xo]=s,Sn(ce,g).then(function(St){var kn=gn(N(N({},Te),{},{icons:{main:St,mask:{prefix:null,iconName:null,rest:[]}},prefix:g,iconName:Se,extra:ft,watchable:!0})),rt=q.createElement("svg");"::before"===s?n.insertBefore(rt,n.firstChild):n.appendChild(rt),rt.outerHTML=kn.map(function(Kte){return lr(Kte)}).join("\n"),n.removeAttribute(t),r()}).catch(o)}}else r()})}function xL(n){return Promise.all([c4(n,"::before"),c4(n,"::after")])}function VL(n){return!(n.parentNode===document.head||~Rj.indexOf(n.tagName.toUpperCase())||n.getAttribute(Xo)||n.parentNode&&"svg"===n.parentNode.tagName)}function p4(n){if(He)return new Promise(function(s,t){var r=At(n.querySelectorAll("*")).filter(VL).map(xL),o=On_begin("searchPseudoElements");i4(),Promise.all(r).then(function(){o(),Cn(),s()}).catch(function(){o(),Cn(),t()})})}var d4=!1,h4=function(s){return s.toLowerCase().split(" ").reduce(function(r,o){var i=o.toLowerCase().split("-"),a=i[0],l=i.slice(1).join("-");if(a&&"h"===l)return r.flipX=!0,r;if(a&&"v"===l)return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(a){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Tn={x:0,y:0,width:"100%",height:"100%"};function _4(n){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||s)&&(n.attributes.fill="black"),n}!function aL(n,s){var t=s.mixoutsTo;q3=n,Rt={},Object.keys(Et).forEach(function(r){-1===nL.indexOf(r)&&delete Et[r]}),q3.forEach(function(r){var o=r.mixout?r.mixout():{};if(Object.keys(o).forEach(function(a){"function"==typeof o[a]&&(t[a]=o[a]),"object"===$r(o[a])&&Object.keys(o[a]).forEach(function(l){t[a]||(t[a]={}),t[a][l]=o[a][l]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(a){Rt[a]||(Rt[a]=[]),Rt[a].push(i[a])})}r.provides&&r.provides(Et)})}([Bj,DL,kL,FL,jL,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=p4,t}}},provides:function(s){s.pseudoElements2svg=function(t){var r=t.node;F.searchPseudoElements&&p4(void 0===r?q:r)}}},{mixout:function(){return{dom:{unwatch:function(){i4(),d4=!0}}}},hooks:function(){return{bootstrap:function(){o4(_n("mutationObserverCallbacks",{}))},noAuto:function(){!function TL(){!mi||mi.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;d4?Cn():o4(_n("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return h4(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var o=r.getAttribute("data-fa-transform");return o&&(t.transform=h4(o)),t}}},provides:function(s){s.generateAbstractTransformGrouping=function(t){var r=t.main,o=t.transform,a=t.iconWidth,l={transform:"translate(".concat(t.containerWidth/2," 256)")},d="translate(".concat(32*o.x,", ").concat(32*o.y,") "),c="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),h="rotate(".concat(o.rotate," 0 0)"),g={outer:l,inner:{transform:"".concat(d," ").concat(c," ").concat(h)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:N({},g.outer),children:[{tag:"g",attributes:N({},g.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:N(N({},r.icon.attributes),g.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var o=r.getAttribute("data-fa-mask"),i=o?hi(o.split(" ").map(function(a){return a.trim()})):{prefix:null,iconName:null,rest:[]};return i.prefix||(i.prefix=Ke()),t.mask=i,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(s){s.generateAbstractMask=function(t){var n,r=t.children,o=t.attributes,i=t.main,a=t.mask,l=t.maskId,h=i.icon,m=a.icon,g=function Hj(n){var s=n.transform,r=n.iconWidth,o={transform:"translate(".concat(n.containerWidth/2," 256)")},i="translate(".concat(32*s.x,", ").concat(32*s.y,") "),a="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),l="rotate(".concat(s.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(i," ").concat(a," ").concat(l)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:a.width,iconWidth:i.width}),j={tag:"rect",attributes:N(N({},Tn),{},{fill:"white"})},H=h.children?{children:h.children.map(_4)}:{},ue={tag:"g",attributes:N({},g.inner),children:[_4(N({tag:h.tag,attributes:N(N({},h.attributes),g.path)},H))]},L={tag:"g",attributes:N({},g.outer),children:[ue]},ce="mask-".concat(l||sr()),Se="clip-".concat(l||sr()),we={tag:"mask",attributes:N(N({},Tn),{},{id:ce,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[j,L]},Te={tag:"defs",children:[{tag:"clipPath",attributes:{id:Se},children:(n=m,"g"===n.tag?n.children:[n])},we]};return r.push(Te,{tag:"rect",attributes:N({fill:"currentColor","clip-path":"url(#".concat(Se,")"),mask:"url(#".concat(ce,")")},Tn)}),{children:r,attributes:o}}}},{provides:function(s){var t=!1;Ge.matchMedia&&(t=Ge.matchMedia("(prefers-reduced-motion: reduce)").matches),s.missingIconAbstract=function(){var r=[],o={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:N(N({},o),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=N(N({},i),{},{attributeName:"opacity"}),l={tag:"circle",attributes:N(N({},o),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||l.children.push({tag:"animate",attributes:N(N({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:N(N({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:N(N({},o),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:N(N({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:N(N({},o),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:N(N({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var o=r.getAttribute("data-fa-symbol");return t.symbol=null!==o&&(""===o||o),t}}}}],{mixoutsTo:be});var u4=be.parse,qL=be.findIconDefinition,GL=be.icon,Mn=S(35597);const g4=["*"];let m4=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,e.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})(),$L=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t)r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r}addIconPacks(...t){for(const r of t){const o=Object.keys(r).map(i=>r[i]);this.addIcons(...o)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,e.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const f4=n=>{const s={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(s).map(t=>s[t]?t:null).filter(t=>t)};let iw=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[e.TTD]}),n})(),ow=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[e.TTD],ngContentSelectors:g4,decls:1,vars:0,template:function(t,r){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),n})(),S4=(()=>{class n{constructor(t,r,o,i,a){this.sanitizer=t,this.config=r,this.iconLibrary=o,this.stackItem=i,this.classes=[],null!=a&&null==i&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=this.icon??this.config.fallbackIcon,t){const o=this.findIconDefinition(r);if(null!=o){const i=this.buildParams();this.renderIcon(o,i)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,s)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:s,iconName:n}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const o=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);if(null!=o)return o;const i=qL(r);if(null!=i){const a="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+a);else if(!this.config.globalLibrary)throw new Error(a);return i}return(n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?u4.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...f4(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const o=GL(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Mn.H7),e.Y36(m4),e.Y36($L),e.Y36(iw,8),e.Y36(ow,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(e.Ikx("innerHTML",r.renderedIconHTML,e.oJD),e.uIk("title",r.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[e.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),nw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var ne=S(30324),b4=S(24059),Fe=S(67032),aw=S(38906),yt=S(16906),fi=S(79071),sw=S(12499),lw=S(2866),An=S(23964),Pn=S(24216),cw=S(6239),It=S(82238),Nt=S(79126);const pw=["connectionContainer"],dw=["inputContainer"],hw=["label"];function _w(n,s){1&n&&(e.ynx(0),e.TgZ(1,"div",14),e._UZ(2,"div",15)(3,"div",16)(4,"div",17),e.qZA(),e.TgZ(5,"div",18),e._UZ(6,"div",15)(7,"div",16)(8,"div",17),e.qZA(),e.BQk())}function uw(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",19),e.NdJ("cdkObserveContent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateOutlineGap())}),e.Hsn(1,1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function gw(n,s){if(1&n&&(e.ynx(0),e.Hsn(1,2),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(t._control.placeholder)}}function mw(n,s){1&n&&e.Hsn(0,3,["*ngSwitchCase","true"])}function fw(n,s){1&n&&(e.TgZ(0,"span",23),e._uU(1," *"),e.qZA())}function Sw(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"label",20,21),e.NdJ("cdkObserveContent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateOutlineGap())}),e.YNc(2,gw,4,1,"ng-container",12),e.YNc(3,mw,1,0,"ng-content",12),e.YNc(4,fw,2,0,"span",22),e.qZA()}if(2&n){const t=e.oxw();e.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),e.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),e.uIk("for",t._control.id)("aria-owns",t._control.id),e.xp6(2),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function vw(n,s){1&n&&(e.TgZ(0,"div",24),e.Hsn(1,4),e.qZA())}function Ow(n,s){if(1&n&&(e.TgZ(0,"div",25),e._UZ(1,"span",26),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function bw(n,s){if(1&n&&(e.TgZ(0,"div"),e.Hsn(1,5),e.qZA()),2&n){const t=e.oxw();e.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Cw(n,s){if(1&n&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("id",t._hintLabelId),e.xp6(1),e.Oqu(t.hintLabel)}}function Tw(n,s){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,Cw,2,2,"div",28),e.Hsn(2,6),e._UZ(3,"div",29),e.Hsn(4,7),e.qZA()),2&n){const t=e.oxw();e.Q6J("@transitionMessages",t._subscriptAnimationState),e.xp6(1),e.Q6J("ngIf",t.hintLabel)}}const Mw=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Aw=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Pw=new e.OlP("MatError"),Rw={transitionMessages:(0,It.X$)("transitionMessages",[(0,It.SB)("enter",(0,It.oB)({opacity:1,transform:"translateY(0%)"})),(0,It.eR)("void => enter",[(0,It.oB)({opacity:0,transform:"translateY(-5px)"}),(0,It.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Rn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n}),n})();const Ew=new e.OlP("MatHint");let C4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["mat-label"]]}),n})(),yw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Iw=new e.OlP("MatPrefix"),Nw=new e.OlP("MatSuffix");let T4=0;const kw=(0,Fe.pj)(class{constructor(n){this._elementRef=n}},"primary"),Fw=new e.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),A4=new e.OlP("MatFormField");let jw=(()=>{class n extends kw{constructor(t,r,o,i,a,l,d){super(t),this._changeDetectorRef=r,this._dir=o,this._defaults=i,this._platform=a,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new fi.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+T4++,this._labelId="mat-form-field-label-"+T4++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==d,this.appearance=i?.appearance||"legacy",i&&(this._hideRequiredMarker=Boolean(i.hideRequiredMarker),i.color&&(this.color=this.defaultColor=i.color))}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=(0,yt.Ig)(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe((0,An.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,Pn.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Pn.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,sw.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,An.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,An.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Pn.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,lw.R)(this._label.nativeElement,"transitionend").pipe((0,cw.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(i=>"start"===i.align):null,o=this._hintChildren?this._hintChildren.find(i=>"end"===i.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),o&&t.push(o.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,o=".mat-form-field-outline-start",i=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const h=r.querySelectorAll(`${o}, ${i}`);for(let _=0;_<h.length;_++)h[_].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,l=0;const d=r.querySelectorAll(o),c=r.querySelectorAll(i);if(this._label&&this._label.nativeElement.children.length){const h=r.getBoundingClientRect();if(0===h.width&&0===h.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const _=this._getStartEnd(h),m=t.children,g=this._getStartEnd(m[0].getBoundingClientRect());let j=0;for(let H=0;H<m.length;H++)j+=m[H].offsetWidth;a=Math.abs(g-_)-5,l=j>0?.75*j+10:0}for(let h=0;h<d.length;h++)d[h].style.width=`${a}px`;for(let h=0;h<c.length;h++)c[h].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(aw.Is,8),e.Y36(Fw,8),e.Y36(Nt.t4),e.Y36(e.R0b),e.Y36(e.QbO,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,o){if(1&t&&(e.Suo(o,Rn,5),e.Suo(o,Rn,7),e.Suo(o,C4,5),e.Suo(o,C4,7),e.Suo(o,yw,5),e.Suo(o,Pw,5),e.Suo(o,Ew,5),e.Suo(o,Iw,5),e.Suo(o,Nw,5)),2&t){let i;e.iGM(i=e.CRH())&&(r._controlNonStatic=i.first),e.iGM(i=e.CRH())&&(r._controlStatic=i.first),e.iGM(i=e.CRH())&&(r._labelChildNonStatic=i.first),e.iGM(i=e.CRH())&&(r._labelChildStatic=i.first),e.iGM(i=e.CRH())&&(r._placeholderChild=i.first),e.iGM(i=e.CRH())&&(r._errorChildren=i),e.iGM(i=e.CRH())&&(r._hintChildren=i),e.iGM(i=e.CRH())&&(r._prefixChildren=i),e.iGM(i=e.CRH())&&(r._suffixChildren=i)}},viewQuery:function(t,r){if(1&t&&(e.Gf(pw,7),e.Gf(dw,5),e.Gf(hw,5)),2&t){let o;e.iGM(o=e.CRH())&&(r._connectionContainerRef=o.first),e.iGM(o=e.CRH())&&(r._inputContainerRef=o.first),e.iGM(o=e.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&e.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[e._Bn([{provide:A4,useExisting:n}]),e.qOj],ngContentSelectors:Aw,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(e.F$t(Mw),e.TgZ(0,"div",0)(1,"div",1,2),e.NdJ("click",function(i){return r._control.onContainerClick&&r._control.onContainerClick(i)}),e.YNc(3,_w,9,0,"ng-container",3),e.YNc(4,uw,2,1,"div",4),e.TgZ(5,"div",5,6),e.Hsn(7),e.TgZ(8,"span",7),e.YNc(9,Sw,5,16,"label",8),e.qZA()(),e.YNc(10,vw,2,0,"div",9),e.qZA(),e.YNc(11,Ow,2,4,"div",10),e.TgZ(12,"div",11),e.YNc(13,bw,2,1,"div",12),e.YNc(14,Tw,5,2,"div",13),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngIf","outline"==r.appearance),e.xp6(1),e.Q6J("ngIf",r._prefixChildren.length),e.xp6(5),e.Q6J("ngIf",r._hasFloatingLabel()),e.xp6(1),e.Q6J("ngIf",r._suffixChildren.length),e.xp6(1),e.Q6J("ngIf","outline"!=r.appearance),e.xp6(1),e.Q6J("ngSwitch",r._getDisplayedMessages()),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","hint"))},dependencies:[f.O5,f.RF,f.n9,b4.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Rw.transitionMessages]},changeDetection:0}),n})(),En=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.ez,Fe.BQ,b4.Q8,Fe.BQ]}),n})();var Lw=S(85745);const P4=(0,Nt.i$)({passive:!0});let ww=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Lw.E;const r=(0,yt.fI)(t),o=this._monitoredElements.get(r);if(o)return o.subject;const i=new fi.xQ,a="cdk-text-field-autofilled",l=d=>{"cdk-text-field-autofill-start"!==d.animationName||r.classList.contains(a)?"cdk-text-field-autofill-end"===d.animationName&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>i.next({target:d.target,isAutofilled:!1}))):(r.classList.add(a),this._ngZone.run(()=>i.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,P4),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:i,unlisten:()=>{r.removeEventListener("animationstart",l,P4)}}),i}stopMonitoring(t){const r=(0,yt.fI)(t),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Nt.t4),e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const xw=new e.OlP("MAT_INPUT_VALUE_ACCESSOR"),Vw=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ww=0;const Zw=(0,Fe.FD)(class{constructor(n,s,t,r){this._defaultErrorStateMatcher=n,this._parentForm=s,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new fi.xQ}});let Hw=(()=>{class n extends Zw{constructor(t,r,o,i,a,l,d,c,h,_){super(l,i,a,o),this._elementRef=t,this._platform=r,this._autofillMonitor=c,this._formField=_,this._uid="mat-input-"+Ww++,this.focused=!1,this.stateChanges=new fi.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>(0,Nt.qK)().has(j)),this._iOSKeyupListener=j=>{const H=j.target;!H.value&&0===H.selectionStart&&0===H.selectionEnd&&(H.setSelectionRange(1,1),H.setSelectionRange(0,0))};const m=this._elementRef.nativeElement,g=m.nodeName.toLowerCase();this._inputValueAccessor=d||m,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&h.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===g,this._isTextarea="textarea"===g,this._isInFormField=!!_,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,yt.Ig)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(p.kI.required)??!1}set required(t){this._required=(0,yt.Ig)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&(0,Nt.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=(0,yt.Ig)(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,r=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Vw.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(Nt.t4),e.Y36(p.a5,10),e.Y36(p.F,8),e.Y36(p.sg,8),e.Y36(Fe.rD),e.Y36(xw,10),e.Y36(ww),e.Y36(e.R0b),e.Y36(A4,8))},n.\u0275dir=e.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&e.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(e.Ikx("disabled",r.disabled)("required",r.required),e.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),e.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[e._Bn([{provide:Rn,useExisting:n}]),e.qOj,e.TTD]}),n})(),Uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Fe.rD],imports:[R4,En,Fe.BQ,R4,En]}),n})(),zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Fe.si,Fe.BQ,Fe.BQ]}),n})();function Bw(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",12),e.NdJ("change",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.title=o.target.value)}),e.qZA()(),e.TgZ(4,"td")(5,"input",13),e.NdJ("change",function(o){const a=e.CHM(t).$implicit;return a.hidden=!!o.target.checked,e.KtG(a.dirty=1)}),e.qZA()(),e.TgZ(6,"td")(7,"input",13),e.NdJ("change",function(o){const a=e.CHM(t).$implicit;return a.noSearch=!!o.target.checked,e.KtG(a.dirty=1)}),e.qZA()(),e.TgZ(8,"td"),e._UZ(9,"input",14),e.qZA(),e.TgZ(10,"td")(11,"select",15),e.NdJ("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.TgZ(12,"option",16),e._uU(13,"center"),e.qZA(),e.TgZ(14,"option",17),e._uU(15,"left"),e.qZA(),e.TgZ(16,"option",18),e._uU(17,"right"),e.qZA()()(),e.TgZ(18,"td")(19,"select",19),e.NdJ("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.TgZ(20,"option",20),e._uU(21,"Text"),e.qZA(),e.TgZ(22,"option",21),e._uU(23,"Number"),e.qZA(),e.TgZ(24,"option",22),e._uU(25,"Date"),e.qZA(),e.TgZ(26,"option",23),e._uU(27,"RoundingTwoDigit"),e.qZA()()(),e.TgZ(28,"td")(29,"input",12),e.NdJ("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()()(),e.BQk()}if(2&n){const t=s.$implicit;e.xp6(3),e.MGl("formControlName","",t.key,"_title"),e.s9C("placeholder",t.title),e.xp6(2),e.MGl("formControlName","",t.key,"_hidden"),e.Q6J("checked",1==t.hidden),e.xp6(2),e.MGl("formControlName","",t.key,"_noSearch"),e.Q6J("checked",1==t.noSearch),e.xp6(2),e.MGl("formControlName","",t.key,"_width"),e.s9C("placeholder",t.width),e.xp6(2),e.MGl("formControlName","",t.key,"_alignment"),e.xp6(8),e.MGl("formControlName","",t.key,"_formatType"),e.xp6(10),e.MGl("formControlName","",t.key,"_formatString"),e.s9C("placeholder",t.formatString)}}function Jw(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"a",4),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onMenuClick(i))}),e._uU(2),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.name)}}function Yw(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",5),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.s9C("title",t.itemObj[t.fieldName]),e.Q6J("ngStyle",t.item.style),e.xp6(1),e.hij(" ",e.xi3(3,3,t.itemObj[t.fieldName],t.item.formatString)," ")}}function qw(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",5),e._uU(2),e.ALo(3,"number"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.s9C("title",t.itemObj[t.fieldName]),e.Q6J("ngStyle",t.item.style),e.xp6(1),e.hij(" ",e.xi3(3,3,t.itemObj[t.fieldName],"1.2-2")," ")}}function Gw(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",6)(2,"input",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.itemObj[i.fieldName]=o)})("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onFieldChange(o))})("keydown.Enter",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onFieldChange(o))}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.s9C("title",t.itemObj[t.fieldName]),e.Q6J("ngStyle",t.item.style),e.xp6(1),e.Q6J("ngModel",t.itemObj[t.fieldName])}}function Qw(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",8),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onClick(o))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.s9C("title",t.itemObj[t.fieldName]),e.Q6J("ngStyle",t.item.style),e.xp6(1),e.hij(" ",t.itemObj[t.fieldName]," ")}}function Kw(n,s){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2),e.YNc(2,Yw,4,6,"div",3),e.YNc(3,qw,4,6,"div",3),e.YNc(4,Gw,3,3,"div",3),e.YNc(5,Qw,3,3,"div",4),e.qZA()()),2&n){const t=e.oxw();e.Q6J("ngStyle",t.getColStyle(t.fieldName)),e.xp6(1),e.Q6J("ngSwitch",t.item.formatType),e.xp6(1),e.Q6J("ngSwitchCase",t.formatType.Date),e.xp6(1),e.Q6J("ngSwitchCase",t.formatType.RoundingTwoDigit),e.xp6(1),e.Q6J("ngSwitchCase",t.formatType.Editable)}}const $w=["exampleModal"],E4=["inputBox"];function Xw(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showModal())}),e.TgZ(2,"div",46),e._UZ(3,"span",47)(4,"span",47)(5,"span",47),e.qZA()()()}}function ex(n,s){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("value",t.key),e.xp6(1),e.hij(" ",t.title," ")}}function tx(n,s){if(1&n&&(e.ynx(0),e.YNc(1,ex,2,2,"option",53),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function rx(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",48)(2,"select",49),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onFilterOptionChange(o))}),e.TgZ(3,"option",50),e._uU(4,"Select Filter Option"),e.qZA(),e.YNc(5,tx,2,1,"ng-container",33),e.qZA()(),e.TgZ(6,"div",48)(7,"input",51,52),e.NdJ("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.triggerSearch(o,!1))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.masterService.simpleTablesettings.columns),e.xp6(2),e.Q6J("ngModel",t.filterValue)}}function ix(n,s){1&n&&(e.ynx(0),e._UZ(1,"th"),e.BQk())}const ox=function(n){return{mergereportHeaders:n}};function nx(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,ix,2,0,"ng-container",5),e.GkF(3,13),e.qZA(),e.BQk()),2&n){const t=e.oxw(),r=e.MAs(76);e.xp6(2),e.Q6J("ngIf",1==t.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",t.mergeHeaderTemplate||r)("ngTemplateOutletContext",e.VKq(3,ox,t.mergereportHeaders))}}const y4=function(n){return{"text-align":"center","white-space":"normal",width:n}};function ax(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"th",55),e._uU(2," SN "),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(1,y4,t.masterService.simpleTablesettings.serialNoWidth))}}function sx(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"th",55),e._uU(2," Actions "),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",t.masterService.simpleTablesettings.actionColumnStyle)}}const lx=function(n){return{"text-align":"center",width:n}};function cx(n,s){if(1&n&&(e.ynx(0),e._UZ(1,"th",55),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngStyle",e.VKq(1,lx,t.masterService.simpleTablesettings.serialNoWidth))}}const px=function(n,s){return{triggerMultiSearch:n,columns:s}};function dx(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,cx,2,3,"ng-container",5),e.GkF(3,13),e.qZA(),e.BQk()),2&n){const t=e.oxw(),r=e.MAs(80);e.xp6(2),e.Q6J("ngIf",1==t.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchHeaderTemplate||r)("ngTemplateOutletContext",e.WLB(3,px,t.triggerMultiSearch,t.masterService.simpleTablesettings.columns))}}const hx=function(n){return{width:n}};function _x(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"td",55)(2,"div",55),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw().index,r=e.oxw(2);e.xp6(1),e.Q6J("ngStyle",e.VKq(3,hx,r.masterService.simpleTablesettings.serialNoWidth)),e.xp6(1),e.Q6J("ngStyle",r.masterService.simpleTablesettings.serialStyle),e.xp6(1),e.hij(" ",r.getSno(t)," ")}}function ux(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span")(2,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(2),a=i.index,l=i.$implicit,d=e.oxw(2);return e.KtG(d.onActionClicked(o.text,o.confirmMessage,a,l))}),e._uU(3),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.title," ")}}function gx(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span")(2,"label"),e._uU(3),e.qZA()(),e.TgZ(4,"span")(5,"input",59),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2).index,l=e.oxw(2);return e.KtG(l.onActionClicked(i.text,i.confirmMessage,a,o))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(3),e.Oqu(t.selectedField),e.xp6(2),e.Q6J("checked",t.selectedField)}}function mx(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span")(2,"i",60),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2).index,l=e.oxw(2);return e.KtG(l.onActionClicked(i.text,i.confirmMessage,a,o))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Tol(t.icon),e.s9C("title",t.title)}}function fx(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e._UZ(2,"genericButtonmenu",61),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,r=e.oxw(2).$implicit;e.xp6(2),e.Q6J("rowValue",r)("buttonMenus",null==t?null:t.drilldownmenus)("name",null==t?null:t.title)}}function Sx(n,s){if(1&n&&(e.ynx(0),e.YNc(1,ux,4,1,"ng-container",5),e.YNc(2,gx,6,2,"ng-container",5),e.YNc(3,mx,3,4,"ng-container",5),e.YNc(4,fx,3,3,"ng-container",5),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf","button"==t.type),e.xp6(1),e.Q6J("ngIf","checkbox"==t.type),e.xp6(1),e.Q6J("ngIf","icon"==t.type),e.xp6(1),e.Q6J("ngIf","buttonmenu"==t.type)}}function vx(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"td",55),e.YNc(2,Sx,5,4,"ng-container",33),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngStyle",t.masterService.simpleTablesettings.actionColumnStyle),e.xp6(1),e.Q6J("ngForOf",t.masterService.simpleTablesettings.actionKeys)}}const Ox=function(n,s,t){return{columns:n,itemObj:s,isimpleTableConfig:t}};function bx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",57),e.NdJ("contextmenu",function(o){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.onContextMenuClick(o,a))}),e.YNc(1,_x,4,5,"ng-container",5),e.GkF(2,13),e.YNc(3,vx,3,2,"ng-container",5),e.qZA()}if(2&n){const t=s.$implicit,r=s.index,o=e.oxw(2),i=e.MAs(82);e.ekj("selected-row",o.selectedRowIndex==r),e.xp6(1),e.Q6J("ngIf",1==o.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",o.tableDataTemplate||i)("ngTemplateOutletContext",e.kEZ(6,Ox,o.masterService.simpleTablesettings.columns,t,o.isimpleTableConfig)),e.xp6(1),e.Q6J("ngIf",o.masterService.simpleTablesettings.showActionButton&&(null==o.masterService.simpleTablesettings.actionKeys?null:o.masterService.simpleTablesettings.actionKeys.length))}}const I4=function(n,s,t,r){return{id:n,itemsPerPage:s,currentPage:t,totalItems:r}};function Cx(n,s){if(1&n&&(e.ynx(0),e.YNc(1,bx,4,10,"tr",56),e.ALo(2,"paginate"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.itemList,e.l5B(4,I4,t.name,t.pageSize,t.pageNumber,t.totalItems)))}}function Tx(n,s){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",62)(3,"div",63),e._uU(4," Product Lists are unavailable. "),e.qZA()()(),e.BQk())}function Mx(n,s){1&n&&(e.ynx(0),e._UZ(1,"td"),e.BQk())}function Ax(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",64),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.titleGroup=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()(),e.TgZ(4,"td")(5,"input",64),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.title=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()(),e.TgZ(6,"td")(7,"input",65),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.hidden=o)})("change",function(o){const a=e.CHM(t).$implicit,l=e.oxw();return a.hidden=!!o.target.checked,a.dirty=1,e.KtG(l.onHiddenChange(a))}),e.qZA()(),e.TgZ(8,"td")(9,"input",65),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.noSearch=o)})("change",function(o){const a=e.CHM(t).$implicit;return a.noSearch=!!o.target.checked,e.KtG(a.dirty=1)}),e.qZA()(),e.TgZ(10,"td")(11,"input",66),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.colPosition=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()(),e.TgZ(12,"td")(13,"input",64),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.width=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()(),e.TgZ(14,"td")(15,"select",67),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.alignment=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.TgZ(16,"option",68),e._uU(17,"center"),e.qZA(),e.TgZ(18,"option",69),e._uU(19,"left"),e.qZA(),e.TgZ(20,"option",70),e._uU(21,"right"),e.qZA()()(),e.TgZ(22,"td")(23,"select",71),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.formatType=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.TgZ(24,"option",72),e._uU(25,"Text"),e.qZA(),e.TgZ(26,"option",73),e._uU(27,"Number"),e.qZA(),e.TgZ(28,"option",74),e._uU(29,"Date"),e.qZA(),e.TgZ(30,"option",75),e._uU(31,"RoundingTwoDigit"),e.qZA(),e.TgZ(32,"option",76),e._uU(33,"Editable"),e.qZA()()(),e.TgZ(34,"td")(35,"input",64),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.formatString=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()()(),e.BQk()}if(2&n){const t=s.$implicit;e.xp6(3),e.s9C("placeholder",t.title),e.Q6J("ngModel",t.titleGroup),e.xp6(2),e.s9C("placeholder",t.title),e.Q6J("ngModel",t.title),e.xp6(2),e.Q6J("ngModel",t.hidden)("checked",1==t.hidden),e.xp6(2),e.Q6J("ngModel",t.noSearch)("checked",1==t.noSearch),e.xp6(2),e.Q6J("ngModel",t.colPosition),e.xp6(2),e.s9C("placeholder",t.width),e.Q6J("ngModel",t.width),e.xp6(2),e.Q6J("ngModel",t.alignment),e.xp6(8),e.Q6J("ngModel",t.formatType),e.xp6(12),e.s9C("placeholder",t.formatString),e.Q6J("ngModel",t.formatString)}}function Px(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",77),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw().item,l=e.oxw();return e.KtG(l.onContextMenuAction1(i,a))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=s.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Rx(n,s){if(1&n&&e.YNc(0,Px,3,1,"ng-container",33),2&n){const t=e.oxw();e.Q6J("ngForOf",t.masterService.simpleTablesettings.contextMenus)}}const Ex=function(){return{"text-align":"center","white-space":"normal"}};function yx(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"th",55),e._uU(2),e.qZA(),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,Ex)),e.uIk("colspan",t.colspan),e.xp6(1),e.hij(" ",t.groupHeader," ")}}function Ix(n,s){1&n&&(e.YNc(0,yx,3,4,"ng-container",33),e._UZ(1,"th")),2&n&&e.Q6J("ngForOf",s.mergereportHeaders)}function Nx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",83),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),i=o.$implicit,a=o.index,l=e.oxw().sortDataTable;return e.KtG(l(i.key,"desc",a))}),e.qZA()}}function Dx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),i=o.$implicit,a=o.index,l=e.oxw().sortDataTable;return e.KtG(l(i.key,"asc",a))}),e.qZA()}}function kx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"i",85),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),i=o.$implicit,a=o.index,l=e.oxw().sortDataTable;return e.KtG(l(i.key,"desc",a))}),e.qZA()}}const Fx=function(n,s){return{"text-align":n,"white-space":"normal",width:s}};function jx(n,s){if(1&n&&(e.TgZ(0,"th",79),e._uU(1),e.YNc(2,Nx,1,0,"i",80),e.YNc(3,Dx,1,0,"i",81),e.YNc(4,kx,1,0,"i",82),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.WLB(5,Fx,t.alignment,t.width)),e.xp6(1),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("ngIf","asc"!=t.sortOrder&&"desc"!=t.sortOrder),e.xp6(1),e.Q6J("ngIf","asc"==t.sortOrder),e.xp6(1),e.Q6J("ngIf","desc"==t.sortOrder)}}function Lx(n,s){if(1&n&&(e.ynx(0),e.YNc(1,jx,5,8,"th",78),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function wx(n,s){1&n&&e.YNc(0,Lx,2,1,"ng-container",33),2&n&&e.Q6J("ngForOf",s.columns)}function xx(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",88,52),e.NdJ("keyup",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw().triggerMultiSearch;return e.KtG(a(o,i,!1))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",t.title)}}const Si=function(n){return{"text-align":n}};function Vx(n,s){if(1&n&&(e.TgZ(0,"th",87),e.YNc(1,xx,3,1,"div",5),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,Si,t.alignment)),e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function Wx(n,s){if(1&n&&(e.ynx(0),e.YNc(1,Vx,2,4,"th",86),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function Zx(n,s){1&n&&e.YNc(0,Wx,2,1,"ng-container",33),2&n&&e.Q6J("ngForOf",s.columns)}function Hx(n,s){if(1&n&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",93),e.qZA()),2&n){const t=s.$implicit,r=e.oxw(3).$implicit,o=e.oxw().isimpleTableConfig;e.xp6(1),e.Q6J("itemObj",t)("item",r)("isimpleTableConfig",o)}}function Ux(n,s){if(1&n&&(e.TgZ(0,"div")(1,"ul",92),e.YNc(2,Hx,2,3,"li",33),e.qZA()()),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",r[t.key])}}function zx(n,s){if(1&n&&e._UZ(0,"genericSimpleColumn",94),2&n){const t=e.oxw(2).$implicit,r=e.oxw(),i=r.isimpleTableConfig;e.Q6J("itemObj",r.itemObj)("item",t)("fieldName",t.key)("isimpleTableConfig",i)}}function Bx(n,s){if(1&n&&(e.TgZ(0,"td",55),e.YNc(1,Ux,3,1,"div",90),e.YNc(2,zx,1,4,"ng-template",null,91,e.W1O),e.qZA()),2&n){const t=e.MAs(3),r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,Si,r.alignment)),e.xp6(1),e.Q6J("ngIf",r.isListField)("ngIfElse",t)}}function Jx(n,s){if(1&n&&(e.ynx(0),e.YNc(1,Bx,4,5,"td",89),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function Yx(n,s){1&n&&e.YNc(0,Jx,2,1,"ng-container",33),2&n&&e.Q6J("ngForOf",s.columns)}function qx(n,s){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw().TotalData;e.xp6(1),e.hij(" ",e.xi3(2,1,r[t.key],"1.2-2")," ")}}const Gx=function(n){return{"text-align":n,color:"white"}};function Qx(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"td",95),e.YNc(2,qx,3,4,"div",5),e.qZA(),e.BQk()),2&n){const t=s.$implicit,r=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,Gx,t.alignment)),e.xp6(1),e.Q6J("ngIf",r)}}function Kx(n,s){1&n&&e.YNc(0,Qx,3,4,"ng-container",33),2&n&&e.Q6J("ngForOf",s.columns)}const $x=function(n){return{"table-layout":n}},Xx=function(n,s){return{columns:n,sortDataTable:s}},eV=function(n,s){return{TotalData:n,columns:s}},tV=["datePicker"];function rV(n,s){if(1&n&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function iV(n,s){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function oV(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._UZ(2,"input",7),e.TgZ(3,"select",8),e.YNc(4,iV,2,1,"option",9),e.qZA()()()),2&n){const t=e.oxw().intheLastRangeOptions;e.xp6(4),e.Q6J("ngForOf",t)}}function nV(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",10),e.qZA())}function aV(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",11),e.qZA())}function sV(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",12),e.qZA())}function lV(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",13)(2,"input",14),e.qZA())}function cV(n,s){if(1&n&&(e.TgZ(0,"div")(1,"form",2)(2,"div")(3,"select",3),e.YNc(4,rV,2,2,"option",4),e.qZA()(),e.YNc(5,oV,5,1,"div",5),e.YNc(6,nV,2,0,"div",5),e.YNc(7,aV,2,0,"div",5),e.YNc(8,sV,2,0,"div",5),e.YNc(9,lV,3,0,"div",5),e.qZA()()),2&n){const t=s.myForm,r=s.rangelist,o=s.selectedRange;e.xp6(1),e.Q6J("formGroup",t),e.xp6(3),e.Q6J("ngForOf",r),e.xp6(1),e.Q6J("ngIf","in the last"==o),e.xp6(1),e.Q6J("ngIf","on"==o),e.xp6(1),e.Q6J("ngIf","before"==o),e.xp6(1),e.Q6J("ngIf","after"==o),e.xp6(1),e.Q6J("ngIf","between"==o)}}const pV=function(n,s,t,r){return{myForm:n,rangelist:s,selectedRange:t,intheLastRangeOptions:r}};function dV(n,s){1&n&&e.GkF(0)}function hV(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"div",19),e._uU(4),e.TgZ(5,"span",20),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(4);return e.KtG(a.onMultiSelectDelete(i))}),e._UZ(6,"fa-icon",21),e.qZA()()()(),e.BQk()}if(2&n){const t=s.$implicit,r=e.oxw(4);e.xp6(4),e.hij(" ",t.name,""),e.xp6(2),e.Q6J("icon",r.faTrash)}}function _V(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",12)(2,"div",13),e.YNc(3,dV,1,0,"ng-container",14),e.qZA(),e.TgZ(4,"div",15)(5,"div",16)(6,"h4",6),e._uU(7," Selected List "),e.qZA()(),e.TgZ(8,"div",17)(9,"table",17)(10,"thead")(11,"tr")(12,"th"),e._uU(13,"Selected List"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,hV,7,2,"ng-container",18),e.qZA()()()()()()),2&n){e.oxw();const t=e.MAs(12),r=e.oxw(2);e.xp6(3),e.Q6J("ngTemplateOutlet",t),e.xp6(12),e.Q6J("ngForOf",r.multiSelectList)}}function uV(n,s){if(1&n&&e._UZ(0,"div",22),2&n){const t=e.oxw(3);e.Q6J("innerHTML",t.summary,e.oJD)}}function gV(n,s){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("value",t.key),e.xp6(1),e.hij(" ",t.title," ")}}function mV(n,s){if(1&n&&(e.ynx(0),e.YNc(1,gV,2,2,"option",34),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function fV(n,s){if(1&n&&(e.TgZ(0,"th",37),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,Si,t.alignment)),e.xp6(1),e.hij(" ",t.title," ")}}function SV(n,s){if(1&n&&(e.ynx(0),e.YNc(1,fV,2,4,"th",36),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function vV(n,s){1&n&&(e.ynx(0),e._UZ(1,"th"),e.BQk())}function OV(n,s){if(1&n&&(e.TgZ(0,"td")(1,"div",40),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit,r=e.oxw().$implicit;e.xp6(1),e.s9C("title",r[t.title]),e.Q6J("ngStyle",e.VKq(3,Si,t.alignment)),e.xp6(1),e.hij(" ",r[t.title]," ")}}function bV(n,s){if(1&n&&(e.ynx(0),e.YNc(1,OV,3,5,"td",4),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function CV(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"td")(2,"span",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(5);return e.KtG(i.onMultiSelectAdd(o))}),e._UZ(3,"fa-icon",21),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(6);e.xp6(3),e.Q6J("icon",t.faArrowRight)}}function TV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",39),e.NdJ("dblclick",function(){const i=e.CHM(t).$implicit,a=e.oxw(5);return e.KtG(a.doubleClick(i))})("keydown.enter",function(){const i=e.CHM(t).$implicit,a=e.oxw(5);return e.KtG(a.doubleClick(i))})("click",function(){const i=e.CHM(t).index,a=e.oxw(5);return e.KtG(a.singleClick(i))}),e.YNc(1,bV,2,1,"ng-container",18),e.YNc(2,CV,4,1,"ng-container",4),e.qZA()}if(2&n){const t=s.index,r=e.oxw(5);e.ekj("selected-row",r.selectedRowIndex==t),e.xp6(1),e.Q6J("ngForOf",r.popupsettings.columns),e.xp6(1),e.Q6J("ngIf",r.popupsettings.multiSelect)}}function MV(n,s){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,TV,3,4,"tr",38),e.ALo(2,"paginate"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.itemList,e.l5B(4,I4,t.tabindex,t.pageSize,t.pageNumber,t.totalItems)))}}function AV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"pagination-controls",43),e.NdJ("pageChange",function(o){e.CHM(t);const i=e.oxw(4);return e.KtG(i.onPageChange(o))}),e.qZA()()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("id",t.tabindex)("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)}}function PV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"select",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.triggerSearch(o,!0))}),e.TgZ(4,"option",27),e._uU(5,"Select Filter Option"),e.qZA(),e.YNc(6,mV,2,1,"ng-container",18),e.qZA()(),e.TgZ(7,"div",25)(8,"input",28,29),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.filterValue=o)})("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.triggerSearch(o,!1))}),e.qZA()()()(),e.TgZ(10,"div",30)(11,"table",17)(12,"thead")(13,"tr",31),e.YNc(14,SV,2,1,"ng-container",18),e.YNc(15,vV,2,0,"ng-container",4),e.qZA()(),e.YNc(16,MV,3,9,"tbody",4),e.qZA(),e.TgZ(17,"div",32),e.YNc(18,AV,2,5,"div",33),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.filterOption),e.xp6(3),e.Q6J("ngForOf",t.popupsettings.columns),e.xp6(2),e.Q6J("ngModel",t.filterValue),e.xp6(6),e.Q6J("ngForOf",t.popupsettings.columns),e.xp6(1),e.Q6J("ngIf",t.popupsettings.multiSelect),e.xp6(1),e.Q6J("ngIf",t.itemList.length),e.xp6(2),e.Q6J("ngIf",t.itemList.length)}}function RV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"div",5)(3,"div")(4,"h4",6),e._uU(5),e.qZA()(),e.TgZ(6,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.hide())}),e.TgZ(7,"span",8),e._uU(8,"\xd7"),e.qZA()()(),e.YNc(9,_V,16,2,"div",9),e.qZA(),e.YNc(10,uV,1,1,"div",10),e.YNc(11,PV,19,7,"ng-template",null,11,e.W1O),e.qZA()}if(2&n){const t=e.MAs(12),r=e.oxw(2);e.xp6(5),e.hij(" ",r.popupsettings.title," "),e.xp6(4),e.Q6J("ngIf",r.popupsettings.multiSelect)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf",r.summary)}}function EV(n,s){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3),e.YNc(2,RV,13,4,"div",4),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.popupsettings)}}const yV=["genericGridList"];function IV(n,s){if(1&n&&(e.TgZ(0,"span")(1,"label",4),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.label)}}const NV=["filterTemplate"];function DV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ul",15)(1,"li",16),e._uU(2),e.TgZ(3,"div",17),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.deleteReport(i.reportName))}),e._UZ(4,"span",18),e.qZA(),e.TgZ(5,"ul",19)(6,"li")(7,"a",20),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.deleteReport(i.reportName))}),e._uU(8,"Delete"),e.qZA()()()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.hij(" ",t.reportName," ")}}function kV(n,s){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function FV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.operatorValue=o)}),e.YNc(2,kV,2,1,"option",29),e.qZA(),e.TgZ(3,"input",30),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngModel",t.operatorValue),e.xp6(1),e.Q6J("ngForOf",t.operators),e.xp6(1),e.Q6J("ngModel",t.fieldValue)}}function jV(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,FV,4,3,"div",25),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.selected)}}function LV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"generic-checkbox",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA(),e.TgZ(2,"label",32),e._uU(3),e.qZA()()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngModel",t.fieldValue)("label",t.fieldName)("showLabel",1),e.xp6(2),e.Oqu(t.fieldName)}}function wV(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,LV,4,4,"div",25),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.selected)}}function xV(n,s){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function VV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.operatorValue=o)}),e.YNc(2,xV,2,1,"option",29),e.qZA(),e.TgZ(3,"dropdown-multiselect",34,35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)})("onItemSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.onItemSelect(o,i))})("onItemDeSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.onItemSelect(o,i))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.operatorValue),e.xp6(1),e.Q6J("ngForOf",t.operators),e.xp6(1),e.Q6J("data",t.fieldSelectionValues.fieldvalues)("ngModel",t.fieldValue)}}function WV(n,s){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function ZV(n,s){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function HV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.operatorValue=o)}),e.YNc(2,WV,2,1,"option",29),e.qZA(),e.TgZ(3,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldvalue=o)}),e.YNc(4,ZV,2,2,"option",37),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.operatorValue),e.xp6(1),e.Q6J("ngForOf",t.operators),e.xp6(1),e.Q6J("ngModel",t.fieldvalue),e.xp6(1),e.Q6J("ngForOf",t.fieldSelectionValues.fieldvalues)}}function UV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",27)(2,"generic-daterange-picker",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.fieldValue)("FiscalBeginDate",r.ReportFilterSetting.fiscalBeginDate)}}function zV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"input",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.fieldValue)}}function BV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"generic-multiselect",42),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.onMultiSelect(o,i))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",t.fieldSelectionValues.fieldvalues)}}function JV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label")(2,"input",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.selected=o)})("change",function(o){e.CHM(t);const i=e.oxw(4);return e.KtG(i.selectChangeHandler(o))}),e.qZA(),e._uU(3),e.qZA(),e.YNc(4,jV,2,1,"div",23),e.YNc(5,wV,2,1,"div",23),e.YNc(6,VV,5,4,"div",25),e.YNc(7,HV,5,4,"div",25),e.YNc(8,UV,3,2,"div",23),e.YNc(9,zV,2,1,"div",26),e.YNc(10,BV,2,1,"div",26),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngModel",t.selected)("disabled",t.required),e.xp6(1),e.Oqu(t.fieldName),e.xp6(1),e.Q6J("ngIf","text"==t.controlType),e.xp6(1),e.Q6J("ngIf","checkbox"==t.controlType),e.xp6(1),e.Q6J("ngIf","dropdownmultiselect"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","dropdown"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","daterange"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","date"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","multiselect"==t.controlType&&t.selected)}}function YV(n,s){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,JV,11,10,"div",23),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",0==t.isFieldDisabled)}}function qV(n,s){1&n&&e.YNc(0,YV,2,1,"div",21),2&n&&e.Q6J("ngForOf",s.fields)}const yn=function(n){return{fields:n}};function GV(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div")(3,"span",4)(4,"strong",5),e._uU(5,"Custom Reports"),e.qZA()(),e.YNc(6,DV,9,1,"ul",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleAccordian(o))}),e._UZ(9,"span",9),e._uU(10," \xa0Selected fields "),e.qZA(),e.TgZ(11,"div",10),e.GkF(12,0),e.qZA()(),e.TgZ(13,"div",7)(14,"button",8),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleAccordian(o))}),e._UZ(15,"span",9),e._uU(16," \xa0Required fields "),e.qZA(),e.TgZ(17,"div",10),e.GkF(18,0),e.qZA()(),e.TgZ(19,"div",7)(20,"button",8),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleAccordian(o))}),e._UZ(21,"span",9),e._uU(22," \xa0Optional fields "),e.qZA(),e.GkF(23,0),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,qV,1,1,"ng-template",null,11,e.W1O),e.qZA(),e.TgZ(27,"div",12)(28,"button",13),e.NdJ("click",function(){const i=e.CHM(t).applyFiltering;return e.KtG(i())}),e._uU(29," Apply filter "),e.qZA(),e.TgZ(30,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.excelDownload())}),e._uU(31," Download "),e.qZA()()()()}if(2&n){const t=s.UserReportList,r=s.selectedFields,o=s.requiredFields,i=s.optionalFields,a=e.MAs(26);e.xp6(6),e.Q6J("ngForOf",t),e.xp6(6),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.VKq(7,yn,r)),e.xp6(6),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.VKq(9,yn,o)),e.xp6(5),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.VKq(11,yn,i))}}const QV=function(n,s,t,r,o,i){return{UserReportList:n,selectedFields:s,requiredFields:t,optionalFields:r,applyFiltering:o,excelDownloading:i}},vr=class{constructor(){}};let vi=vr;u(vi,"\u0275fac",function(t){return new(t||vr)}),u(vi,"\u0275prov",e.Yz7({token:vr,factory:vr.\u0275fac,providedIn:"root"}));const Fi=class{constructor(){}ngOnInit(){}};let Oi=Fi;u(Oi,"\u0275fac",function(t){return new(t||Fi)}),u(Oi,"\u0275cmp",e.Xpm({type:Fi,selectors:[["lib-ngReportGrid"]],decls:2,vars:0,template:function(t,r){1&t&&(e.TgZ(0,"p"),e._uU(1,"ng-report-grid works!"),e.qZA())},encapsulation:2}));const ji=class{constructor(){u(this,"ngControl"),u(this,"field")}ngOnInit(){this.ngControl&&this.ngControl?.control?.dirty&&(this.field.dirty=1),console.log({directivecotrol:this.ngControl,field:this.field})}};let bi=ji;u(bi,"\u0275fac",function(t){return new(t||ji)}),u(bi,"\u0275dir",e.lG2({type:ji,selectors:[["","checkDirty",""]],viewQuery:function(t,r){if(1&t&&e.Gf(p.a5,7),2&t){let o;e.iGM(o=e.CRH())&&(r.ngControl=o.first)}},inputs:{field:"field"}}));const Li=class{constructor(s,t){u(this,"el"),u(this,"renderer"),u(this,"subscription"),u(this,"start"),u(this,"offset",{x:0,y:0}),this.el=s,this.renderer=t}ngAfterViewInit(){setTimeout(()=>{this.makeItDraggable()})}makeItDraggable(){const s=this.el.nativeElement.closest(".modal-dialog");if(!s)return void console.error("DragModalDirective cannot find the parent element with class modal-dialog");this.renderer.setStyle(this.el.nativeElement,"user-select","none"),this.renderer.setStyle(this.el.nativeElement,"cursor","move"),this.renderer.setStyle(s,"transition","none");const t=(0,to.R)(this.el.nativeElement,"mousedown"),r=(0,to.R)(document,"mousemove"),o=(0,to.R)(document,"mouseup"),i=t.pipe((0,H0.b)(a=>{this.start={x:a.clientX-this.offset.x,y:a.clientY-this.offset.y}}),(0,U0.zg)(a=>r.pipe((0,z0.R)(o))));this.subscription=i.subscribe(a=>{this.offset={x:a.clientX-this.start?.x,y:a.clientY-this.start?.y},this.renderer.setStyle(s,"transform",`translate(${this.offset.x}px, ${this.offset.y}px)`)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}};let Dt=Li;u(Dt,"\u0275fac",function(t){return new(t||Li)(e.Y36(e.SBq),e.Y36(e.Qsj))}),u(Dt,"\u0275dir",e.lG2({type:Li,selectors:[["",8,"modal-header"]]}));class N4{constructor(){u(this,"name","Context1"),u(this,"reportName",""),u(this,"reportType",""),u(this,"_id",""),u(this,"fields",[]),u(this,"fiscalBeginDate","")}}var Ce=(()=>{return(n=Ce||(Ce={}))[n.LocalDatasource=0]="LocalDatasource",n[n.ServerDataSource=1]="ServerDataSource",n[n.ExternalDataSource=2]="ExternalDataSource",Ce;var n})();class D4{constructor(){u(this,"_id",""),u(this,"reportName",""),u(this,"reportType",""),u(this,"reportUser",""),u(this,"fields",[]),u(this,"recordsPerPage",0),u(this,"currentPage",1),u(this,"totalItems",0),u(this,"dataSourceType",Ce.LocalDatasource)}}class Xe{constructor(){u(this,"fieldgroupName","SystemFields"),u(this,"fieldSno",1),u(this,"fieldName",""),u(this,"fieldId",""),u(this,"fieldIdSecond",""),u(this,"controlType","multiselection"),u(this,"required",!1),u(this,"fieldType","string"),u(this,"operators",["like","is","notlike","isnot"]),u(this,"fieldSelectionValues"),u(this,"selected",!1),u(this,"fieldValue",""),u(this,"operatorValue",""),u(this,"isFieldDisabled",!1),u(this,"drilldownFieldId",""),u(this,"drilldownFieldFrom",""),u(this,"filterParameterValue")}}class In{constructor(){u(this,"groupId",""),u(this,"groupSno",0),u(this,"groupName",""),u(this,"filterFields",[])}}class kt{constructor(){u(this,"fieldValuetype","static"),u(this,"fieldvalues"),u(this,"fieldqueryurl",""),u(this,"fieldvalue","id"),u(this,"fieldDatatype","int"),u(this,"fieldtype",""),u(this,"isDbSql",!1),u(this,"query",""),u(this,"dataSourceType",0),u(this,"apiURL",""),u(this,"searchURL","")}}var je=(()=>{return(n=je||(je={}))[n.NoFilter=0]="NoFilter",n[n.OneFilterAtTop=1]="OneFilterAtTop",n[n.ColumnWiseMultiFilter=2]="ColumnWiseMultiFilter",je;var n})();class Ci{constructor(){u(this,"reportName",""),u(this,"reportType",""),u(this,"queryType",""),u(this,"querySplit",""),u(this,"_id",""),u(this,"fieldgroup",[]),u(this,"fiscalBeginDate",""),u(this,"projectionfieldFormats",[]),u(this,"drilldownmenus",[]),u(this,"reportSort",""),u(this,"table",""),u(this,"reportUser",""),u(this,"recordsPerPage",0),u(this,"currentPage",0),u(this,"totalItems",0),u(this,"dataSourceType",0),u(this,"searchFilterOption",je.OneFilterAtTop)}}var Le=(()=>{return(n=Le||(Le={}))[n.Text=0]="Text",n[n.Number=1]="Number",n[n.Date=2]="Date",n[n.RoundingTwoDigit=3]="RoundingTwoDigit",n[n.Editable=4]="Editable",Le;var n})();class Ti{constructor(){u(this,"key"),u(this,"title"),u(this,"titleGroup",""),u(this,"hidden",!1),u(this,"noSearch",!1),u(this,"alignment","left"),u(this,"style",""),u(this,"width",""),u(this,"formatType",Le.Text),u(this,"formatString",""),u(this,"isListField",!1),u(this,"listFieldName",""),u(this,"sortOrder",""),u(this,"dirty",0),u(this,"colPosition")}}class Mi{constructor(){u(this,"title"),u(this,"apiEndpoints"),u(this,"columns",[]),u(this,"defaultColumns",[]),u(this,"defaultFilterIndex",0),u(this,"showActionButton",!1),u(this,"actionKeys",[]),u(this,"DataSource",Ce.LocalDatasource),u(this,"LocalData",[]),u(this,"TotalData"),u(this,"pageSize",0),u(this,"totalItems",0),u(this,"showSerialNo",!1),u(this,"serialStyle"),u(this,"actionColumnStyle"),u(this,"serialNoWidth"),u(this,"currentPageNo",0),u(this,"filterOption",je.NoFilter),u(this,"showSettingButton",!1),u(this,"hidePaginationControl",!1),u(this,"contextMenus",[]),u(this,"projectionfieldFormats",[])}}class Ai{constructor(){u(this,"reportName",""),u(this,"apiUrl",""),u(this,"simpleTablesettings",new Mi),u(this,"authToken",""),u(this,"columnSettingSaveApi",""),u(this,"columnSettingGetApi","")}}const wi=class{constructor(s,t){u(this,"datepipe"),u(this,"decimalPipe"),this.datepipe=s,this.decimalPipe=t}transform(s,t,r){switch(s.formatType){case Number(Le.Date):var o=this.datepipe.transform(t[r],s.formatString);return console.log({pipeValue:s,pipeItemObj:t,pipeFieldName:r,val:o}),o||"";case Number(Le.Number):return console.log({type:"number",pipeValue:s,pipeItemObj:t,pipeFieldName:r}),t[r]||"";case Number(Le.RoundingTwoDigit):return console.log({type:"round",pipeValue:s,pipeItemObj:t,pipeFieldName:r}),this.decimalPipe.transform(t[r],"1.2-2")||"";default:return console.log({type:"default",pipeValue:s,pipeItemObj:t,pipeFieldName:r}),t[r]||""}}};let Pi=wi;u(Pi,"\u0275fac",function(t){return new(t||wi)(e.Y36(f.uU,16),e.Y36(f.JJ,16))}),u(Pi,"\u0275pipe",e.Yjl({name:"columnvalue",type:wi,pure:!0}));const xi=class{constructor(s){u(this,"modalRef"),u(this,"modalForm"),u(this,"simpleTableSettings"),this.modalRef=s}ngOnInit(){console.log({modalform:this.modalForm,tablesetting:this.simpleTableSettings})}};let pr=xi;u(pr,"\u0275fac",function(t){return new(t||xi)(e.Y36(qe.UZ))}),u(pr,"\u0275cmp",e.Xpm({type:xi,selectors:[["modal-column-setting"]],decls:30,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"table"],[1,"thead-dark"],[2,"height","30vh"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","text",2,"width","90%","border","1px solid #ddd",3,"formControlName","placeholder","change"],["type","checkbox",3,"formControlName","checked","change"],["type","text",2,"width","90%","border","1px solid #ddd",3,"formControlName","placeholder"],["placeholder","item.alignment",3,"formControlName","change"],["value","center"],["value","left"],["value","right"],[3,"formControlName","change"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Column Setting"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return r.modalRef.hide()}),e.TgZ(4,"span",3),e._uU(5,"x"),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5)(8,"table",6)(9,"thead",7)(10,"tr")(11,"th"),e._uU(12,"Column Title"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Hidden"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Nosearch"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Width"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Alignment"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"FormatType"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"FormatString"),e.qZA()()(),e.TgZ(25,"tbody",8),e.YNc(26,Bw,30,12,"ng-container",9),e.qZA()()()(),e.TgZ(27,"div",10)(28,"button",11),e.NdJ("click",function(){return r.modalRef.hide()}),e._uU(29," OK "),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",r.modalForm),e.xp6(19),e.Q6J("ngForOf",r.simpleTableSettings.columns))},dependencies:[f.sg,p._Y,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.JL,p.sg,p.u,Dt],encapsulation:2}));const Vi=class{constructor(s){u(this,"router"),u(this,"name","more"),u(this,"buttonMenus",[]),u(this,"rowValue"),u(this,"commonValues",""),this.router=s}ngOnInit(){if(console.log({btns:this.buttonMenus}),this.buttonMenus&&0==this.buttonMenus.length){var s=new N4;s.name="testmenu",this.buttonMenus.push(s)}}onMenuClick(s){console.log({menuclick:s,url:s})}};let dr=Vi;u(dr,"\u0275fac",function(t){return new(t||Vi)(e.Y36(v.F0))}),u(dr,"\u0275cmp",e.Xpm({type:Vi,selectors:[["genericButtonmenu"]],inputs:{name:"name",buttonMenus:"buttonMenus",rowValue:"rowValue",commonValues:"commonValues"},decls:5,vars:2,consts:[[1,"dropdown"],["type","button",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","height","27px","margin-right","2px"],[1,"dropdown-content"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,Jw,3,1,"div",3),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",r.name," "),e.xp6(2),e.Q6J("ngForOf",r.buttonMenus))},dependencies:[f.sg],styles:[".dropbtn[_ngcontent-%COMP%] {\n    border: none;\n    cursor: pointer;\n  }\n\n  .dropdown[_ngcontent-%COMP%] {\n    position: relative;\n    display: inline-block;\n  }\n\n  .dropdown-content[_ngcontent-%COMP%] {\n    display: none;\n    position: absolute;\n    background-color: #f9f9f9;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n    z-index: 1;\n    left: -100px;\n  }\n\n  .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    color: black;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n  }\n\n  .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n    background-color: #f1f1f1;\n  }\n\n  .dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%] {\n    display: block;\n    cursor: pointer;\n  }\n\n  .dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%] {\n    background-color: #3e8e41;\n  }"]}));const Or=class{constructor(s){u(this,"injector"),u(this,"ItemList_Available","0"),u(this,"authToken",""),u(this,"simpleTableConfig",new Ai),u(this,"simpleTablesettings",new Mi),u(this,"_http"),this.injector=s,this._http=this.injector.get(me.eN)}getRequestOption(s){""==s&&(s="application/json");const t={headers:new me.WM({Authorization:this.simpleTableConfig.authToken,"Content-Type":s})};return console.log({httpoption:t}),t}onColumnSettingSave(){var s={reportName:this.simpleTableConfig.reportName,reportType:"",reportUser:"",columns:this.simpleTablesettings.columns};return this.saveColumnSetting(s),s}saveColumnSetting(s){var t=this;return(0,le.Z)(function*(){yield t._http.post(t.simpleTableConfig.columnSettingSaveApi,s,t.getRequestOption("")).pipe((0,xn.X)(2),(0,Vn.K)(o=>(console.log({savecolumnError:o}),o))).subscribe(o=>o)})()}};let Je=Or;u(Je,"\u0275fac",function(t){return new(t||Or)(e.LFG(e.zs3))}),u(Je,"\u0275prov",e.Yz7({token:Or,factory:Or.\u0275fac}));const Wi=class{constructor(s){u(this,"masterService"),u(this,"itemObj"),u(this,"item"),u(this,"fieldName",""),u(this,"isimpleTableConfig"),u(this,"formatType",Le),u(this,"totalRStock",0),u(this,"daysSales",0),u(this,"totalDaysSales",0),this.masterService=s}onFieldChange(s){"R.STOCK"==this.item.key&&(this.itemObj["R.STOCK"]?(this.itemObj["DAYS SALES"]=this.nullToZeroConverter(parseFloat(this.itemObj["R.STOCK"]))/parseFloat(this.itemObj.PER_DAY),this.itemObj["TOTAL DAYS SALES"]=parseFloat(this.itemObj.FINDAYS)+parseFloat(this.itemObj["DAYS SALES"])):(this.itemObj["DAYS SALES"]=0,this.itemObj["TOTAL DAYS SALES"]=0)),this.calculateTotal(),console.log(this.totalRStock,this.daysSales,this.totalDaysSales)}onClick(s){}calculateTotal(){this.totalRStock=0,this.daysSales=0,this.totalDaysSales=0,this.isimpleTableConfig.simpleTablesettings.LocalData.forEach(t=>{this.totalRStock+=this.nullToZeroConverter(t["R.STOCK"]),this.daysSales+=this.nullToZeroConverter(t["DAYS SALES"]??0),this.totalDaysSales+=this.nullToZeroConverter(t["TOTAL DAYS SALES"]??0)});let s={"R.STOCK":this.totalRStock.toFixed(2),DESCA:"TOTAL","DAYS SALES":this.daysSales.toFixed(2),"TOTAL DAYS SALES":this.totalDaysSales.toFixed(2)};this.isimpleTableConfig.simpleTablesettings.TotalData=s}nullToZeroConverter(s){return void 0===s||null==s||null===s||""===s||"Infinity"===s||"NaN"===s||Number.isNaN(s)||isNaN(parseFloat(s))?0:parseFloat(s)}getRowStyle(){if(this.itemObj.row_style)return JSON.parse(this.itemObj.row_style)||{}}getColStyle(s){var t={};if(this.itemObj.col_style){var o=JSON.parse(this.itemObj.col_style);if(o){var i=o.find(d=>d.fieldId==s);i&&(t=i.style)}}return{...this.getRowStyle(),...t}}};let pt=Wi;u(pt,"\u0275fac",function(t){return new(t||Wi)(e.Y36(Je))}),u(pt,"\u0275cmp",e.Xpm({type:Wi,selectors:[["genericSimpleColumn"]],inputs:{itemObj:"itemObj",item:"item",fieldName:"fieldName",isimpleTableConfig:"isimpleTableConfig"},features:[e._Bn([Je])],decls:1,vars:1,consts:[[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"title","ngStyle"],[2,"white-space","pre","overflow","auto",3,"title","ngStyle"],["type","number",2,"width","100%",3,"ngModel","ngModelChange","change","keydown.Enter"],[2,"white-space","pre","overflow","auto",3,"title","ngStyle","click"]],template:function(t,r){1&t&&e.YNc(0,Kw,6,5,"div",0),2&t&&e.Q6J("ngIf",r.itemObj)},dependencies:[f.O5,f.PC,f.RF,f.n9,f.ED,p.Fj,p.wV,p.JJ,p.On,f.JJ,f.uU],encapsulation:2}));const Zi=class{constructor(s){u(this,"paginationService"),u(this,"id","DEFAULT_PAGINATION_ID"),u(this,"pageSize",1),u(this,"currentPage",10),u(this,"currentPageChange",new e.vpe),u(this,"totalRecord",100),u(this,"totalRecordChange",new e.vpe),u(this,"clickLesser",new e.vpe),u(this,"clickGreater",new e.vpe),u(this,"pageSizeChanged",new e.vpe),u(this,"instance"),u(this,"changeSub"),this.paginationService=s,this.changeSub=this.paginationService.change.subscribe(t=>{if(this.id===t){this.instance=s.getInstance(this.id),this.currentPage=this.paginationService.getCurrentPage(this.id);var r=this.instance.totalItems??0;this.totalRecord=r<1?1:Math.ceil(r/this.instance.itemsPerPage),this.pageSize=this.instance.itemsPerPage,console.log({pageinstance:this.instance,id:t,thisid:this.id})}})}ngOnDestroy(){this.changeSub.unsubscribe()}pagesizeChange(s){console.log({pagesizeEvent:s.target.value}),this.pageSize=s.target.value,this.pageSizeChanged.emit(s.target.value)}clickGreaterthan(){this.clickGreater.emit({pageSize:this.pageSize,currentPage:this.currentPage,totalRecord:this.totalRecord})}clickLessthan(){this.clickLesser.emit({pageSize:this.pageSize,currentPage:this.currentPage,totalRecord:this.totalRecord})}};let hr=Zi;u(hr,"\u0275fac",function(t){return new(t||Zi)(e.Y36(De.N2))}),u(hr,"\u0275cmp",e.Xpm({type:Zi,selectors:[["report-paging"]],inputs:{id:"id",pageSize:"pageSize",currentPage:"currentPage",totalRecord:"totalRecord"},outputs:{currentPageChange:"currentPageChange",totalRecordChange:"totalRecordChange",clickLesser:"clickLesser",clickGreater:"clickGreater",pageSizeChanged:"pageSizeChanged"},decls:20,vars:3,consts:[[2,"border","1px solid #ddd","border-radius","5px",3,"ngModel","change","ngModelChange"],["value","5"],["value","10"],["value","20"],["value","30"],["value","40"],["value","50"],[1,"glyphicon","glyphicon-menu-left","round",3,"click"],[1,"glyphicon","glyphicon-menu-right","round",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div")(1,"select",0),e.NdJ("change",function(i){return r.pagesizeChange(i)})("ngModelChange",function(i){return r.pageSize=i}),e.TgZ(2,"option",1),e._uU(3,"5 records per page"),e.qZA(),e.TgZ(4,"option",2),e._uU(5,"10 records per page"),e.qZA(),e.TgZ(6,"option",3),e._uU(7,"20 records per page"),e.qZA(),e.TgZ(8,"option",4),e._uU(9,"30 records per page"),e.qZA(),e.TgZ(10,"option",5),e._uU(11,"40 records per page"),e.qZA(),e.TgZ(12,"option",6),e._uU(13,"50 records per page"),e.qZA()(),e.TgZ(14,"span"),e._uU(15),e.qZA(),e.TgZ(16,"a")(17,"span",7),e.NdJ("click",function(){return r.clickLessthan()}),e.qZA()(),e.TgZ(18,"a")(19,"span",8),e.NdJ("click",function(){return r.clickGreaterthan()}),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngModel",r.pageSize),e.xp6(14),e.AsE("page ",r.currentPage," of ",r.totalRecord,""))},dependencies:[p.YN,p.Kr,p.EJ,p.JJ,p.On],styles:["span[_ngcontent-%COMP%] {\n    text-decoration: none;\n    display: inline-block;\n    padding: 8px 8px;\n  }\n\n  span[_ngcontent-%COMP%]:hover {\n    background-color: #ddd;\n    color: black;\n  }\n  .round[_ngcontent-%COMP%] {\n    border-radius: 50%;\n  }\n  select[_ngcontent-%COMP%]:focus-visible {\n    outline: none !important;\n  }"]}));const Hi=class{constructor(s,t,r){u(this,"injector"),u(this,"masterService"),u(this,"modalService"),u(this,"childModal"),u(this,"contextMenu"),u(this,"modalRef"),u(this,"DialogMessage","Saving data please wait ..."),u(this,"showTableHead",!1),u(this,"requestUrl",""),u(this,"isActive",!1),u(this,"itemList",[]),u(this,"filteredItemList",[]),u(this,"selectedRowIndex",0),u(this,"tabindex","list"),u(this,"onPopUpClose",new e.vpe),u(this,"onItemDoubleClick",new e.vpe),u(this,"onDeleteClick",new e.vpe),u(this,"onActionClick",new e.vpe),u(this,"onCurrentPageChange",new e.vpe),u(this,"columnSettingChange",new e.vpe),u(this,"onContextMenu",new e.vpe),u(this,"isimpleTableConfig",new Ai),u(this,"summary"),u(this,"name","simple"),u(this,"inputBox",{}),u(this,"mergeHeaderTemplate"),u(this,"headerTemplate"),u(this,"searchHeaderTemplate"),u(this,"tableDataTemplate"),u(this,"footerTemplate"),u(this,"filterDisplayOption",je),u(this,"formatType",Le),u(this,"currentPage",1),u(this,"totalPage",0),u(this,"pageSize",10),u(this,"pageNumber",1),u(this,"totalPages",1),u(this,"totalItems",0),u(this,"sortKey",""),u(this,"sortOrder",""),u(this,"sortIndex",0),u(this,"isFilterMode",!1),u(this,"gridSummary"),u(this,"isTableLoading",!1),u(this,"filterValueArray",new Map),u(this,"filterValue",""),u(this,"filterField",""),u(this,"_http"),u(this,"trueValue",!0),u(this,"sizeValue",9),u(this,"defaultButtonMenus",[]),u(this,"modalref"),u(this,"modalForm"),u(this,"mergereportHeaders",[]),u(this,"columnSubject",new Ne.xQ),u(this,"triggerMultiSearch",(s,t,r)=>{this.sortOrder="",this.isFilterMode=!0,console.log({multiTriggerevent:s,item:t,filterOption:r}),1==r&&(this.filterValue=""),this.filterValueArray.set(t.key,s.target.value),console.log({method:"trigger Multi search",filtervaluarray:this.filterValueArray,filtervalue:this.filterValue}),this.refreshPage(),this.refresh(!1)}),u(this,"pagingconfig",{id:this.name,itemsPerPage:this.pageSize,currentPage:this.pageNumber,totalItems:0==this.masterService?.simpleTablesettings?.totalItems}),u(this,"contextMenuPosition",{x:"0px",y:"0px"}),u(this,"sortTableData",(s,t,r)=>{this.sortKey=s,this.sortOrder=t,this.sortIndex=r,this.masterService.simpleTablesettings.DataSource!=Ce.ExternalDataSource?(this.itemList.sort(function o(i,a="asc"){return function(d,c){if(!d.hasOwnProperty(i)||!c.hasOwnProperty(i))return 0;const h="string"==typeof d[i]?d[i].toUpperCase():d[i],_="string"==typeof c[i]?c[i].toUpperCase():c[i];let m=0;return h>_?m=1:h<_&&(m=-1),"desc"===a?-1*m:m}}(s,t)),this.changeSortOrder(this.sortOrder,this.sortIndex)):this.onCurrentPageChange.emit({currentPage:1,pageSize:this.pageSize,triggerFrom:"onNgxPageChange",sortKey:s,sortOrder:t,index:r,changeSortOrder:this.changeSortOrder})}),u(this,"changeSortOrder",(s,t)=>{console.log({sortOrder:s,index:t}),this.masterService.simpleTablesettings.columns.forEach(r=>r.sortOrder="none"),""!=s&&(this.masterService.simpleTablesettings.columns[t].sortOrder="asc"==s?"desc":"asc")}),this.injector=s,this.masterService=t,this.modalService=r,this._http=this.injector.get(me.eN),this.masterService.ItemList_Available="0",this.triggerMultiSearch=(0,Bt.debounce)(this.triggerMultiSearch,1e3),this.triggerSearch=(0,Bt.debounce)(this.triggerSearch,1e3),this.masterService.simpleTableConfig=this.isimpleTableConfig,this.masterService.simpleTablesettings=this.isimpleTableConfig.simpleTablesettings}refreshPage(){this.pageNumber=1,this.totalPages=1}refresh(s=!0){1==s&&(this.sortOrder="",this.isFilterMode=!1,this.filterValue="",this.filterField="",this.filterValueArray=new Map),this.getData()}onPageChange(s){this.pageNumber=s||1,this.refresh(!1)}onShowModalSetting(){this.childModal.show()}onHideModalSetting(){this.childModal.hide()}onSaveModalSetting(){this.masterService.simpleTablesettings.columns.sort((s,t)=>0===s.colPosition&&0!==t.colPosition?1:0!==s.colPosition&&0===t.colPosition?-1:s.colPosition-t.colPosition),this.columnSettingChange.emit(this.masterService.simpleTablesettings.columns),this.childModal.hide()}ngOnInit(){this.masterService.simpleTablesettings=this.isimpleTableConfig.simpleTablesettings,this.masterService.authToken=this.isimpleTableConfig.authToken,console.log({simpltetablesettingPassed:this.masterService.simpleTablesettings}),this.initModalForm(),this.reactiveFormOnchange()}setFilterOption(){if(this.masterService.simpleTablesettings&&this.masterService.simpleTablesettings.columns.length){let s=this.masterService.simpleTablesettings.defaultFilterIndex?this.masterService.simpleTablesettings.defaultFilterIndex:0;if(this.masterService.simpleTablesettings.columns.length<=s)return;this.filterValue="",this.filterField=this.masterService.simpleTablesettings.columns[s].key}}onFilterOptionChange(s){this.filterField=s.target.value,this.filterValue="",console.log({onfilterchange:s,filteroption:this.filterField,filtervalue:this.filterValue}),this.getData()}createMultiFilterOptions(){this.masterService.simpleTablesettings.columns.forEach(s=>{this.filterValueArray.set(s.key,"")})}getData(){this.masterService.simpleTableConfig=this.isimpleTableConfig,this.masterService.simpleTablesettings=this.isimpleTableConfig.simpleTablesettings,console.log({getdata:this.masterService.simpleTablesettings.LocalData||"empty",datasource:this.masterService.simpleTablesettings}),this.pageSize=0==this.masterService.simpleTablesettings.pageSize?10:this.masterService.simpleTablesettings.pageSize,this.totalItems=this.masterService.simpleTablesettings.totalItems,this.totalPage=Math.floor(Math.abs(this.totalItems/this.pageSize)+(this.totalItems%this.pageSize>0?1:0)),null!=this.masterService.simpleTablesettings.currentPageNo&&null!=this.masterService.simpleTablesettings.currentPageNo&&this.masterService.simpleTablesettings.currentPageNo>=1&&(this.pageNumber=this.masterService.simpleTablesettings.currentPageNo),console.log({totalpage:this.totalPage,totalitems:this.totalItems,pagesize:this.pageSize,datasource:this.masterService.simpleTablesettings.DataSource}),this.masterService.simpleTablesettings.DataSource==Ce.ServerDataSource?this.serverDataSource():this.localDataSource(),this.checkGroupHeader(),this.masterService.simpleTablesettings.currentPageNo=1,this.defaultButtonMenus=this.masterService.simpleTablesettings.contextMenus,this.changeSortOrder(this.sortOrder,this.sortIndex),console.log({items:this.itemList,totalitems:this.totalItems,columns:this.masterService.simpleTablesettings.columns})}checkGroupHeader(){if(this.mergereportHeaders=[],this.masterService.simpleTablesettings.columns.length>0&&this.masterService.simpleTablesettings.columns.find(o=>o.titleGroup?.length>0)){var t=0,r=this.masterService.simpleTablesettings.columns[0].titleGroup;for(let o=0;o<this.masterService.simpleTablesettings.columns.length;o++){const i=this.masterService.simpleTablesettings.columns[o];r==i.titleGroup?i.hidden||(t+=1):(this.mergereportHeaders.push({groupHeader:r,colspan:t,sortOrder:"asc",width:"",alignment:"center"}),r=i.titleGroup,t=1)}r&&this.mergereportHeaders.push({groupHeader:r,colspan:t,sortOrder:"asc",width:"",alignment:"center"}),console.log({groupcolumn:this.mergereportHeaders})}}serverDataSource(){return console.log("get data",this.filterField,this.filterValue),this.summary="",this.selectedRowIndex=0,this.requestUrl=this.getFilterOption(`${this.masterService.simpleTableConfig.apiUrl}${this.masterService.simpleTablesettings.apiEndpoints}?pageNumber=${this.pageNumber}&maxResultCount=${this.pageSize}`),console.log({ServerUrl:this.requestUrl}),this._http.get(this.requestUrl,this.masterService.getRequestOption("")).pipe((0,Jt.U)(r=>r)).subscribe(r=>{console.log("grid result",r),this.totalItems=this.masterService.simpleTablesettings.totalItems,0==this.masterService.simpleTablesettings.totalItems&&(this.totalItems=r?r.totalCount:0),this.itemList=r?r.result:[],console.log({itemList:this.itemList,totalItems:this.totalItems}),this.masterService.ItemList_Available=this.itemList.length>0?"1":"0",this.itemList.forEach(function(o){null!=o.TRNDATE&&null!=o.TRNDATE&&(o.TRNDATE=o.TRNDATE.toString().substring(0,10)),null!=o.DATE&&null!=o.DATE&&(o.DATE=o.DATE.toString().substring(0,10))}),this.itemList.length>0&&0==this.selectedRowIndex&&this.itemList[this.selectedRowIndex].itemSummary&&(this.summary=this.itemList[this.selectedRowIndex].itemSummary),0==this.masterService.simpleTablesettings.columns.length&&(0==this.masterService.simpleTablesettings.defaultColumns.length?this.getDefaultColumns():this.masterService.simpleTablesettings.columns=this.masterService.simpleTablesettings.defaultColumns)},r=>{alert(JSON.stringify(r))})}localDataSource(){return console.log({localData:this.masterService.simpleTablesettings}),null==this.masterService.simpleTablesettings.LocalData?(this.masterService.simpleTablesettings.LocalData=[],this.itemList=[],void(this.totalItems=this.itemList.length)):this.masterService.simpleTablesettings.LocalData&&!this.masterService.simpleTablesettings.LocalData.length?(this.itemList=[],this.totalItems=this.itemList.length,void console.log({localDataItemlist:this.itemList})):(this.itemList=this.masterService.simpleTablesettings.LocalData,this.getFilterOptionLocal(),this.totalItems=this.itemList.length!=this.masterService.simpleTablesettings.totalItems&&0==this.masterService.simpleTablesettings.DataSource?this.itemList.length:this.masterService.simpleTablesettings.totalItems,console.log({localDataItemlist:this.itemList}),this.filteredItemList=this.itemList,void this.getDefaultColumns())}getColumnSettingsFromServer(){this._http.get(`${this.masterService.simpleTableConfig.columnSettingGetApi}?reportName=${this.masterService.simpleTableConfig.reportName}?`,this.masterService.getRequestOption("")).pipe((0,xn.X)(2),(0,Vn.K)(r=>(this.getDefaultColumns(),[]))).subscribe(r=>(this.masterService.simpleTablesettings.columns=r,r))}getColumns(){""==this.masterService.simpleTableConfig.columnSettingGetApi?this.getDefaultColumns():this.getColumnSettingsFromServer()}getDefaultColumns(){if(1!=this.isFilterMode||this.masterService.simpleTablesettings.DataSource!=Ce.LocalDatasource){if(this.itemList.length>0&&0==this.masterService.simpleTablesettings.columns?.length){this.masterService.simpleTablesettings.columns=[];var s=Object.keys(this.itemList[0]);console.log({propertyNames:s}),s.forEach(t=>{var r=t,o=new Ti;o.key=r,o.hidden=!1,o.noSearch=!1,o.title=r;var i=this.setColumnFormatSetting(o);this.masterService.simpleTablesettings.columns.push(i)}),this.masterService.simpleTablesettings.columns.sort((t,r)=>0===t.colPosition&&0!==r.colPosition?1:0!==t.colPosition&&0===r.colPosition?-1:t.colPosition-r.colPosition)}console.log({defaulcolum:this.masterService.simpleTablesettings.columns})}}setColumnFormatSetting(s){return 0==this.masterService.simpleTablesettings.projectionfieldFormats.length?s:this.masterService.simpleTablesettings.projectionfieldFormats.find(r=>r.key==s.key)||s}getMultiFilterOption(s){console.log({InMultiFilterOption:this.filterValueArray,url:s});let t=[];return 0==this.filterValueArray.size?s:(this.filterValueArray.forEach((r,o)=>{""!=r&&null!=r&&null!=r&&t.push({Field:o,Value:r}),console.log(`Map key is:${o} and value is:${r}`)}),console.log({multiFilterOption:this.filterValueArray,filter:t}),`${s}&filter=${JSON.stringify(t)}`)}getFilterOption(s){if(this.masterService.simpleTablesettings.filterOption==this.filterDisplayOption.ColumnWiseMultiFilter){var t=this.getMultiFilterOption(s);return console.log({filterdUrl:t}),t}let r=[];return null==this.filterField||null==this.filterField||""==this.filterField||null==this.filterValue||null==this.filterValue||""==this.filterValue?s:(r.push({Field:this.filterField,Value:this.filterValue}),`${s}&filter=${JSON.stringify(r)}`)}getFilterOptionLocal(){if(this.masterService.simpleTablesettings.DataSource==Ce.LocalDatasource)if(this.masterService.simpleTablesettings.filterOption!=this.filterDisplayOption.ColumnWiseMultiFilter){if(console.log({filterOpt:this.filterField,filtervalue:this.filterValue}),this.itemList=this.masterService.simpleTablesettings.LocalData,null!=this.filterField&&null!=this.filterField&&""!=this.filterField&&null!=this.filterValue&&null!=this.filterValue&&""!=this.filterValue){var t=this.masterService.simpleTablesettings.LocalData,r=new RegExp(this.filterValue,"i");this.itemList=t.filter(o=>o[this.filterField].toString().match(r)),console.log({getFilterOptionLocal_regxp:r,localData:t,list:this.itemList})}}else this.getMultiFilterOptionLocal()}getMultiFilterOptionLocal(){console.log({multifilterOpt:this.filterField,filtervalue:this.filterValueArray}),0!=this.filterValueArray.size&&this.filterValueArray.forEach((t,r,o)=>{if(null!=t&&null!=t&&""!=t){console.log({filterkey:r,filtervalue:t});var i=new RegExp(t,"i");this.itemList=this.itemList.filter(a=>a[r]?.toString().match(i)),console.log({regxp:i,localData:this.itemList,list:this.itemList})}})}setPageLocalData(){var s=(this.pageNumber-1)*this.pageSize,t=this.pageSize;null!=this.itemList&&this.itemList.length>0&&null!=this.itemList&&(this.itemList=this.itemList.slice(s,t+s)),console.log({pageNumber:this.pageNumber,toskip:s,limit:t,lst:this.itemList})}triggerSearch(s,t){console.log({triggersearch:this.filterField,filtervalue:this.filterValue,event:s}),this.sortOrder="",this.filterValue=s.target.value,null!=this.filterField&&null!=this.filterField&&""!=this.filterField&&(1==t&&(this.filterValue=""),this.isFilterMode=!0,this.refreshPage(),this.refresh(!1))}onNgxPageChange(s){this.masterService.simpleTablesettings.DataSource!=Ce.ExternalDataSource?(this.pagingconfig.currentPage=s,this.pageNumber=s,this.masterService.simpleTablesettings.currentPageNo=s,this.refresh(!1),this.changeSortOrder(this.sortOrder,this.sortIndex),console.log({nextpageevent:s,pagingconfig:this.pagingconfig,thispageNumber:this.pageNumber})):this.onCurrentPageChange.emit({currentPage:s,pageSize:this.pageSize,triggerFrom:"onNgxPageChange",sortKey:this.sortKey,sortOrder:this.sortOrder,index:this.sortIndex,changeSortOrder:this.changeSortOrder})}ngOnChanges(s){this.masterService.simpleTablesettings=s.simpleTablesettings?.currentValue}getSno(s){return this.pageNumber*this.pageSize-this.pageSize+(s+1)}resizeMethod(){var s=document.getElementById("resizeTable");console.log("console here for resize",s,document.getElementById("resizeTable"))}onDeleteTableColumn(){document.getElementsByClassName("table")}onChange(s,t){}onShowHide(){console.log("show hide",document.getElementById("exampleModal"))}onActionClicked(s,t,r=0,o){if(""!=s&&null!=s&&null!=s){let i=s.toLowerCase();if(""==t||null==t||null==t)return this.onActionClick.emit({action:i,value:o,event:o}),console.log("ACTION",i),console.log("Value",this.itemList[r]),void console.log("event",o);if(confirm(t))return void this.onActionClick.emit({action:i,value:o,event:o})}}onModalAlignChange(s){console.log({onAlignmentChange:s})}clickLesser(s){console.log({lesserEvent:s,currentPage:s.currentPage,thisPagesize:this.pageSize,thisCurPage:this.currentPage}),this.currentPage=s.currentPage-1,console.log({currentpage:this.currentPage}),this.masterService.simpleTablesettings.currentPageNo=this.currentPage,console.log({currentpage:this.currentPage,simpletablepage:this.masterService.simpleTablesettings.currentPageNo}),this.masterService.simpleTablesettings.pageSize=this.pageSize,this.refresh(!1)}clickGreater(s){console.log({greaterEvent:s}),this.currentPage=s.currentPage+1,this.masterService.simpleTablesettings.currentPageNo=this.currentPage,this.masterService.simpleTablesettings.pageSize=this.pageSize,this.refresh(!1)}pageSizeChanged(s){this.pageSize=s,this.masterService.simpleTablesettings.DataSource!=Ce.ExternalDataSource?(this.masterService.simpleTablesettings.currentPageNo=1,this.masterService.simpleTablesettings.pageSize=this.pageSize,this.totalPage=Math.abs(this.totalItems/this.pageSize)+(this.totalItems%this.pageSize>0?1:0),this.refresh(!1),this.changeSortOrder(this.sortOrder,this.sortIndex),console.log({thissimpleTableListConfig:this.masterService.simpleTablesettings})):this.onCurrentPageChange.emit({currentPage:this.currentPage,pageSize:this.pageSize,triggerFrom:"onNgxPageChange",sortKey:this.sortKey,sortOrder:this.sortOrder,index:this.sortIndex,changeSortOrder:this.changeSortOrder})}onContextMenuClick(s,t){console.log({event:s,item:t}),s.preventDefault(),0!=this.masterService.simpleTablesettings.contextMenus.length&&(console.log({mouseposition:s,item:t}),this.contextMenuPosition.x=s.clientX+"px",this.contextMenuPosition.y=s.clientY+"px",this.contextMenu.menuData={item:t},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}onContextMenuAction1(s,t){console.log({menuName:s,item:t}),this.onContextMenu.emit({menuName:s,item:t})}onContextMenuAction2(s){alert(`Click on Action 2 for ${s||""}`)}initModalForm(){let s={},r=this.masterService.simpleTablesettings.columns[0];if(r){var o=Object.keys(r);console.log({keys:o,tobject:r}),this.masterService.simpleTablesettings.columns.forEach(i=>{o.forEach(a=>{var l=`${i.key}_${a}`;s[l]=new p.NI(""),console.log({controlName:l,form:s})})})}this.modalForm=new p.cw(s)}showModal(){this.childModal.show()}openModal(s){this.initModalForm();const t={modalForm:this.modalForm,simpleTableSettings:this.masterService.simpleTablesettings};console.log({initialModalForm:this.modalForm}),this.modalRef=this.modalService.show(pr,{initialState:t})}reactiveFormOnchange(){this.modalForm.valueChanges.subscribe(s=>{console.log({formControlChange:s})})}onHiddenChange(s){if(this.mergereportHeaders?.length>0){let t=this.masterService.simpleTablesettings.columns;this.mergereportHeaders.find(r=>r.groupHeader===s.titleGroup).colspan=t.filter(r=>r.titleGroup===s.titleGroup&&!r.hidden).length}}};let dt=Hi;u(dt,"\u0275fac",function(t){return new(t||Hi)(e.Y36(e.zs3),e.Y36(Je),e.Y36(qe.tT))}),u(dt,"\u0275cmp",e.Xpm({type:Hi,selectors:[["report-grid"]],viewQuery:function(t,r){if(1&t&&(e.Gf($w,5),e.Gf(Tt.p6,5),e.Gf(E4,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.contextMenu=o.first),e.iGM(o=e.CRH())&&(r.inputBox=o.first)}},inputs:{isimpleTableConfig:["simpleTableConfig","isimpleTableConfig"],summary:"summary",name:"name",mergeHeaderTemplate:"mergeHeaderTemplate",headerTemplate:["HeaderTemplate","headerTemplate"],searchHeaderTemplate:["SearchHeaderTemplate","searchHeaderTemplate"],tableDataTemplate:["TableDataTemplate","tableDataTemplate"],footerTemplate:["FooterTemplate","footerTemplate"]},outputs:{onPopUpClose:"onPopUpClose",onItemDoubleClick:"onItemDoubleClick",onDeleteClick:"onDeleteClick",onActionClick:"onActionClick",onCurrentPageChange:"onCurrentPageChange",columnSettingChange:"columnSettingChange",onContextMenu:"onContextMenu"},features:[e._Bn([Je]),e.TTD],decls:85,vars:38,consts:[[1,"row",2,"height","100%"],[1,"card"],[1,"card-header",2,"display","flex","align-items","center","justify-content","space-between"],[1,"flex"],[2,"position","relative","float","right",3,"id","pageSizeChanged"],[4,"ngIf"],[1,"row","clearfix"],[1,"col-md-12"],[1,"card-body","table-responsive"],["id","resizeTable","tableResize","",1,"table","table-striped",3,"ngStyle"],[2,"top","0","line-height","1.5rem"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngStyle"],[2,"margin-bottom","0.5%"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card-footer"],["previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",2,"margin-top","10px","text-align","center",3,"id","maxSize","directionLinks","autoHide","responsive","pageChange"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"height","100vh"],["exampleModal","bs-modal"],["rzHandles","all","role","document",1,"modal-dialog","modal-lg",2,"top","2%","left","25%"],["block",""],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"hide-show-model-title"],[1,"modal-body",2,"overflow","auto","height","500px"],[1,"table"],[1,"thead-dark",2,"text-align","center"],[2,"width","70px"],[2,"width","80px"],[2,"width","100px"],[2,"height","30vh"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["contextMenu","matMenu"],["matMenuContent",""],["defaultmergeHeaderTemplate",""],["defaultHeaderTemplate",""],["defaultSearchHeaderTemplate",""],["defaultTableDataTemplate",""],["defaultFooterTemplate",""],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary",2,"margin-bottom","10px","background","none !important","border","none !important","padding","0","margin-right","40px",3,"click"],[1,"dotted-menu"],[1,"dot"],[1,"col-md-6",2,"margin","2px 0px"],[2,"width","100%",3,"change"],["value","","selected",""],["type","text","placeholder","item.title",2,"width","100%",3,"ngModel","keyup"],["inputBox",""],[3,"value",4,"ngIf"],[3,"value"],[3,"ngStyle"],["class","highlight",3,"selected-row","contextmenu",4,"ngFor","ngForOf"],[1,"highlight",3,"contextmenu"],["type","button","data-toggle","modal",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","height","27px","margin-right","2px",3,"click"],["type","checkbox","data-toggle","modal",2,"width","60px","height","27px","margin-right","2px","margin-top","10px",3,"checked","click"],[3,"title","click"],[3,"rowValue","buttonMenus","name"],["colspan","6"],[1,"font-weight-bold"],["type","text",2,"width","90%","border","1px solid #ddd",3,"ngModel","placeholder","ngModelChange","change"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],["type","number",2,"width","90%","border","1px solid #ddd",3,"ngModel","ngModelChange","change"],["placeholder","item.alignment",3,"ngModel","ngModelChange","change"],["value","center"],["value","left"],["value","right"],[3,"ngModel","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["mat-menu-item","",3,"click"],["resizable","",3,"ngStyle",4,"ngIf"],["resizable","",3,"ngStyle"],["class","fa fa-sort",3,"click",4,"ngIf"],["class","fa fa-sort-asc",3,"click",4,"ngIf"],["class","fa fa-sort-desc",3,"click",4,"ngIf"],[1,"fa","fa-sort",3,"click"],[1,"fa","fa-sort-asc",3,"click"],[1,"fa","fa-sort-desc",3,"click"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","1px 0px 1px 3px",3,"placeholder","keyup"],[3,"ngStyle",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item","isimpleTableConfig"],[3,"itemObj","item","fieldName","isimpleTableConfig"],["ngIf","!item.hidden",3,"ngStyle"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div",3)(7,"report-paging",4),e.NdJ("pageSizeChanged",function(i){return r.pageSizeChanged(i)}),e.qZA(),e.YNc(8,Xw,6,0,"div",5),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7),e.YNc(11,rx,9,2,"ng-container",5),e.qZA()(),e.TgZ(12,"div",8)(13,"table",9)(14,"thead"),e.YNc(15,nx,4,5,"ng-container",5),e.TgZ(16,"tr",10),e.YNc(17,ax,3,3,"ng-container",5),e.GkF(18,11),e.YNc(19,sx,3,1,"ng-container",5),e.qZA(),e.YNc(20,dx,4,6,"ng-container",5),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,Cx,3,9,"ng-container",5),e.YNc(23,Tx,5,0,"ng-container",5),e.qZA(),e.TgZ(24,"tfoot",12)(25,"tr"),e.YNc(26,Mx,2,0,"ng-container",5),e.GkF(27,13),e.qZA()()()(),e.TgZ(28,"div",14)(29,"pagination-controls",15),e.NdJ("pageChange",function(i){return r.onNgxPageChange(i)}),e.qZA()()()(),e.TgZ(30,"div",16,17)(32,"div",18,19)(34,"div",20)(35,"div",21)(36,"h5",22),e._uU(37," Column format Configuration "),e.qZA(),e.TgZ(38,"button",23),e.NdJ("click",function(){return r.childModal.hide()}),e.TgZ(39,"span",24),e._uU(40,"\xd7"),e.qZA()()(),e.TgZ(41,"div",25)(42,"div",26)(43,"table",27)(44,"thead",28)(45,"tr")(46,"th"),e._uU(47,"Group Header"),e.qZA(),e.TgZ(48,"th"),e._uU(49,"Column Title"),e.qZA(),e.TgZ(50,"th",29),e._uU(51,"Hidden"),e.qZA(),e.TgZ(52,"th",30),e._uU(53,"Nosearch"),e.qZA(),e.TgZ(54,"th",31),e._uU(55,"ColPosition"),e.qZA(),e.TgZ(56,"th",31),e._uU(57,"Width"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"Alignment"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"FormatType"),e.qZA(),e.TgZ(62,"th"),e._uU(63,"FormatString"),e.qZA()()(),e.TgZ(64,"tbody",32),e.YNc(65,Ax,36,15,"ng-container",33),e.qZA()()(),e.TgZ(66,"div",34)(67,"button",35),e.NdJ("click",function(){return r.onHideModalSetting()}),e._uU(68," OK "),e.qZA(),e.TgZ(69,"button",36),e.NdJ("click",function(){return r.onSaveModalSetting()}),e._uU(70," Save "),e.qZA()()()()()(),e._UZ(71,"div",37),e.TgZ(72,"mat-menu",null,38),e.YNc(74,Rx,1,1,"ng-template",39),e.qZA(),e.YNc(75,Ix,2,1,"ng-template",null,40,e.W1O),e.YNc(77,wx,1,1,"ng-template",null,41,e.W1O),e.YNc(79,Zx,1,1,"ng-template",null,42,e.W1O),e.YNc(81,Yx,1,1,"ng-template",null,43,e.W1O),e.YNc(83,Kx,1,1,"ng-template",null,44,e.W1O)),2&t){const o=e.MAs(73),i=e.MAs(78),a=e.MAs(84);e.xp6(5),e.Oqu(r.masterService.simpleTablesettings.title),e.xp6(2),e.Q6J("id",r.name),e.xp6(1),e.Q6J("ngIf",r.masterService.simpleTablesettings.showSettingButton),e.xp6(3),e.Q6J("ngIf",r.masterService.simpleTablesettings.filterOption==r.filterDisplayOption.OneFilterAtTop&&0==r.masterService.simpleTablesettings.DataSource),e.xp6(2),e.Q6J("ngStyle",e.VKq(28,$x,r.mergereportHeaders.length>0?"auto":null)),e.xp6(2),e.Q6J("ngIf",r.mergereportHeaders.length>0),e.xp6(2),e.Q6J("ngIf",1==r.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",i||i)("ngTemplateOutletContext",e.WLB(30,Xx,r.masterService.simpleTablesettings.columns,r.sortTableData))("ngStyle",e.VKq(33,y4,r.masterService.simpleTablesettings.serialNoWidth)),e.xp6(1),e.Q6J("ngIf",r.masterService.simpleTablesettings.showActionButton&&(null==r.masterService.simpleTablesettings.actionKeys?null:r.masterService.simpleTablesettings.actionKeys.length)),e.xp6(1),e.Q6J("ngIf",r.masterService.simpleTablesettings.filterOption==r.filterDisplayOption.ColumnWiseMultiFilter),e.xp6(2),e.Q6J("ngIf",r.itemList&&r.itemList.length>0),e.xp6(1),e.Q6J("ngIf",r.itemList&&0===r.itemList.length),e.xp6(3),e.Q6J("ngIf",1==r.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",r.footerTemplate||a)("ngTemplateOutletContext",e.WLB(35,eV,r.masterService.simpleTablesettings.TotalData,r.masterService.simpleTablesettings.columns)),e.xp6(2),e.Q6J("id",r.name)("maxSize",r.sizeValue)("directionLinks",r.trueValue)("autoHide",r.trueValue)("responsive",r.trueValue),e.xp6(36),e.Q6J("ngForOf",r.masterService.simpleTablesettings.columns),e.xp6(6),e.Udp("left",r.contextMenuPosition.x)("top",r.contextMenuPosition.y),e.Q6J("matMenuTriggerFor",o)}},dependencies:[f.sg,f.O5,f.tP,f.PC,De.LS,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p.JJ,p.On,qe.oB,Tt.VK,Tt.OP,Tt.p6,Tt.KA,dr,pt,hr,Dt,f.JJ,De._s],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-family:Lato,sans-serif;border-top-left-radius:15px!important;border-top-right-radius:15px!important;padding:0 0 0 40px!important}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-right:.5px solid #ddd;white-space:break-spaces!important}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:11px}.card-header[_ngcontent-%COMP%]:after{display:none}.card[_ngcontent-%COMP%]{border-radius:15px!important}.card-footer[_ngcontent-%COMP%]{border-bottom-left-radius:15px!important;border-bottom-right-radius:15px!important}.card-body[_ngcontent-%COMP%]{padding:0!important;height:62vh}.card-footer[_ngcontent-%COMP%]{height:42px;padding:.35rem 1.25rem}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.2rem!important;border-bottom:.5px solid #ddd!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:.5px solid #ddd!important}thead[_ngcontent-%COMP%]{border-right:.5px solid #ddd;border-left:.5px solid #ddd}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:initial!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;overflow:auto;border-right:.5px solid #ddd;border-left:.5px solid #ddd}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%}.my-pagination[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:#17a2b8!important;border:transparent!important;border-radius:20px!important}.my-pagination[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]:hover{background:#74d4e2!important;border-radius:20px!important;border:transparent!important}.my-pagination[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-radius:20px!important}@media only screen and (min-width: 1024px) and (min-height: 768px){.card[_ngcontent-%COMP%]{display:inline-block}.card-body[_ngcontent-%COMP%]{height:74vh}.row[_ngcontent-%COMP%]{margin-top:0rem}}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;font-weight:600}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#313949}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:7px!important}tbody[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{transition:.4s ease-in-out}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}tbody[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:hover{transform:scale(1)!important;background-color:#209e91}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{line-height:20px!important;padding:1px!important}ul.ngx-pagination[_ngcontent-%COMP%]{margin-top:.6rem}.pagination-next[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .card-footer[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .card-footer[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:none!important}.card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}table[_ngcontent-%COMP%]   .thead[_ngcontent-%COMP%]{width:99.6%!important}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-right:.5px solid #ddd!important}.form-control[_ngcontent-%COMP%]::-webkit-input-placeholder{font-weight:100!important}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:break-word}tr.highlight[_ngcontent-%COMP%]:hover{background-color:#edf0f4;transition:.3s}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{color:#209e91!important}@media screen and (max-width: 1200px){th[_ngcontent-%COMP%]{white-space:pre-wrap!important}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}.scroll[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:scroll}.sidenav[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;z-index:1;top:0;left:0;background-color:#1a242f;overflow-x:hidden;transition:.5s;padding-top:60px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px 8px 8px 32px;text-decoration:none;font-size:25px;color:#818181;display:block;transition:.3s}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .offcanvas[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#f1f1f1}.sidenav[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{position:absolute;top:0;right:25px;font-size:36px;margin-left:50px}.content[_ngcontent-%COMP%]{transition:margin-left .5s}.fa-bars[_ngcontent-%COMP%]{font-size:25px;cursor:pointer;margin-left:5px}button[disabled][_ngcontent-%COMP%]{cursor:not-allowed;opacity:.65}.modal[_ngcontent-%COMP%]{padding-right:17px;padding-left:17px}.modal-dialog[_ngcontent-%COMP%]{margin:0}.modal-content[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.modal-body[_ngcontent-%COMP%]{padding:0}.modal-footer[_ngcontent-%COMP%]{padding-bottom:15px;padding-top:15px;border-top:0px}#header-fixed[_ngcontent-%COMP%]{position:fixed;top:0;display:none;background-color:#fff}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=date][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=date][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 2px;cursor:default;font-weight:700}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 2px;border-top:0px;line-height:31px}tbody[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid #cbcbcb;border-radius:3px;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:23px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=date][_ngcontent-%COMP%]{line-height:inherit}.ledger-bottom-padding[_ngcontent-%COMP%]{padding-bottom:0}.content-top[_ngcontent-%COMP%]{padding-top:0;padding-bottom:13px}button[_ngcontent-%COMP%]{margin-top:4px}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}@media (min-width: 992px){.modal-lg[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.fa[_ngcontent-%COMP%]{display:none}#mobile-top[_ngcontent-%COMP%]{margin-top:80px}#content[_ngcontent-%COMP%]{margin-left:0}}fieldset[_ngcontent-%COMP%]{padding:1em;font:80%/1 sans-serif}label[_ngcontent-%COMP%]{float:left;width:25%;margin-right:.5em;padding-top:.2em;text-align:right;font-weight:700}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#b9b9b9!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.flex[_ngcontent-%COMP%]{display:flex;align-items:center}  .ngx-pagination li a{font-size:14px!important}",".dotted-menu[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%] {\n    height: 6px;\n    width: 6px;\n    background-color: #209e91;\n    border-radius: 50%;\n    display: inline-block;\n    margin-right: 3px;\n  }\n  .dotted-menu[_ngcontent-%COMP%] {\n    margin-left: 7px;\n  }\n  [_ngcontent-%COMP%]::-webkit-scrollbar {\n    cursor: pointer !important;\n  }\n  [_ngcontent-%COMP%]::-webkit-scrollbar {\n    \n    background: #336799;\n    cursor: pointer;\n    height: 10px;\n    border-radius: calc(15px / 2);\n  }\n\n  [_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n    background: #336799;\n    border-radius: calc(15px / 2);\n    cursor: pointer;\n  }\n  .btn[_ngcontent-%COMP%] {\n    line-height: 0.9 !important;\n  }\n  .example-box[_ngcontent-%COMP%] {\n    width: 200px;\n    height: 200px;\n    border: solid 1px #ccc;\n    color: rgba(0, 0, 0, 0.87);\n    cursor: move;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    background: #fff;\n    border-radius: 4px;\n    position: relative;\n    z-index: 1;\n    transition: box-shadow 200ms cubic-bezier(0, 0, 0.2, 1);\n    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n      0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n  }\n\n  .example-box[_ngcontent-%COMP%]:active {\n    box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\n      0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\n  }\n  thead[_ngcontent-%COMP%] {\n    display: table-header-group !important;\n    vertical-align: middle;\n    border-color: inherit;\n  }\n\n  thead[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%] {\n    background-color: #3f87a6;\n    color: #fff;\n  }\n  thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    color: #fff !important;\n    \n  }\n  tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\npadding: initial !important;\n  \n}\n  \n\n  tbody[_ngcontent-%COMP%] {\n    background-color: #e4f0f5;\n    display: table-row-group !important;\n  }\n\n  caption[_ngcontent-%COMP%] {\n    padding: 10px;\n    caption-side: bottom;\n  }\n\n  table[_ngcontent-%COMP%] {\n    border-collapse: collapse;\n    \n    letter-spacing: 1px;\n    font-family: sans-serif;\n    font-size: 0.8rem;\n    display: table !important;\n  table-layout: fixed;\n  background-color: #336799 ;\n  \n  }\n\n  td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\n    border: 1px solid rgb(190, 190, 190);\n    padding: 5px 10px;\n  }\n\n  td[_ngcontent-%COMP%] {\n    text-align: center;\n  }\n  tfoot[_ngcontent-%COMP%] {\n    display: table-footer-group !important;\n  }\n  thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    background-color: #336799 !important;\n    width: 150px;\n \n  }\n  tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\n    background-color: #336799 !important;\n    color: #fff;\n  }\n  tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n    color: #fff;\n  }\n  tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\n    display: table-row !important;\n  }\n\n  .card[_ngcontent-%COMP%]{\n    width: 99%;\n  }\n  thead[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{\n    position: sticky;\n    top: 0;\n  }"]}));const Ui=class{};let Ft=Ui;u(Ft,"\u0275fac",function(t){return new(t||Ui)}),u(Ft,"\u0275mod",e.oAB({type:Ui})),u(Ft,"\u0275inj",e.cJS({providers:[Je,me.eN,f.uU,f.JJ],imports:[f.ez,De.JX,p.u5,p.UX,me.JF,qe.zk.forRoot(),Tt.Tx,W0.eL]}));const k4=()=>{},br=class{constructor(s,t){u(this,"fBuilder"),u(this,"cdr"),u(this,"valueChange",new e.vpe),u(this,"DateFormat","YYYY-MM-DD"),u(this,"defaultTemplate"),u(this,"newTemplate"),u(this,"currentTemplate"),u(this,"selectedValue"),u(this,"FBeginDate",new Date),u(this,"rangelist",["in the last","on","before","after","between","Today","Yesterday","This Week","This Month","Last Week","Last Month","This Year"]),u(this,"intheLastRangeOptions",["days","weeks","months","years"]),u(this,"selectedRange","in the last"),u(this,"intheLast",0),u(this,"on"),u(this,"before"),u(this,"after"),u(this,"startBetween"),u(this,"endBetween"),u(this,"intheLastRange","days"),u(this,"between",{startdate:Date,endDate:Date}),u(this,"dateRangeValue"),u(this,"myForm"),u(this,"currDate"),u(this,"onChangeCallback",k4),u(this,"onTouchedCallback",k4),this.fBuilder=s,this.cdr=t}set FiscalBeginDate(s){this.FBeginDate=""!=s&&null!=s?Ae(s).toDate():new Date}ngAfterViewInit(){this.currentTemplate=this.defaultTemplate,this.newTemplate&&(this.currentTemplate=this.newTemplate)}writeValue(s){if(s){var t=s.split(",");t.length>1?(this.myForm.controls.selectedrange.setValue("between"),this.myForm.controls.startbetween.setValue(t[0]),this.myForm.controls.endbetween.setValue(t[1]?t[1]:this.currDate)):(this.myForm.controls.selectedrange.setValue("on"),this.myForm.controls.on.setValue(t[0]))}this.onChangeCallback(s),this.cdr.detectChanges(),console.log({WriteDaterRangChange:this.startBetween,objin:s})}registerOnChange(s){this.onChangeCallback=s}registerOnTouched(s){this.onTouchedCallback=s}ngOnInit(){this.myForm=this.fBuilder.group({on:"",before:"",after:"",startbetween:"",endbetween:"",inthelastno:"",inthelastrange:"",selectedrange:""}),this.reativeOnChanges();const s=new Date;this.currDate=(0,f.p6)(s,"yyyy-MM-dd","en-US")}reativeOnChanges(){this.myForm.valueChanges.subscribe(s=>{this.selectedRange=s.selectedrange,this.on=s.on,this.before=s.before,this.after=s.after,this.intheLast=s.inthelastno,this.intheLastRange=s.inthelastrange,this.startBetween=s.startbetween,this.endBetween=s.endbetween,this.dateRangeValue=this.getDateRangeValue();var t=this.dateRangeValue;this.valueChange.emit(this.dateRangeValue),this.selectedValue=t,console.log({DaterRangChange:this.selectedValue}),this.onChangeCallback(this.dateRangeValue.fieldValue)})}betweenChange(){this.between={startdate:this.startBetween,endDate:this.endBetween}}onChange(){var s=this.getDateRangeValue();this.selectedValue=s,this.onChangeCallback(this.getDateRangeValue())}setDateRangeValue(s){var t=s.split(",");this.selectedRange="between",this.startBetween=Ae(t[0]).toDate(),this.endBetween=Ae(t[1]).toDate()}getDateRangeValue(){var i,s=new Date,r=(new Date,{Operator:"between",value:this.between,fieldValue:""}),o=Ae(s);if("in the last"==this.selectedRange)return"days"==this.intheLastRange&&(i=o.subtract(this.intheLast,"days").format(this.DateFormat)),"weeks"==this.intheLastRange&&(i=o.subtract(this.intheLast,"weeks").format(this.DateFormat)),"months"==this.intheLastRange&&(i=o.subtract(this.intheLast,"months").format(this.DateFormat)),"years"==this.intheLastRange&&(i=o.subtract(this.intheLast,"years").format(this.DateFormat)),{Operator:"between",value:i,value1:o.format(this.DateFormat),fieldValue:`${i},${o.format(this.DateFormat)}`};if("between"==this.selectedRange)return{Operator:"between",value:this.startBetween.toString(),value1:this.endBetween.toString(),fieldValue:`${this.startBetween},${this.endBetween}`};if("on"==this.selectedRange)return{Operator:"between",value:this.on?.toString()||"",value1:this.on?.toString()||"",fieldValue:`${this.on},${this.on}`};if("before"==this.selectedRange)return{Operator:"between",value:Ae(this.FBeginDate).format(this.DateFormat),value1:this.before?.toString()||"",fieldValue:`${Ae(this.FBeginDate).format(this.DateFormat)},${this.before}`};if("after"==this.selectedRange)return{Operator:"between",value:this.after?.toString()||"",value1:o.format(this.DateFormat),fieldValue:`${this.after},${o.format(this.DateFormat)}`};if("Today"==this.selectedRange)return{Operator:"between",value:o.format(this.DateFormat),value1:o.format(this.DateFormat),fieldValue:`${o.format(this.DateFormat)},${o.format(this.DateFormat)}`};if("Yesterday"==this.selectedRange)return{Operator:"between",value:o.subtract(1,"days").format(this.DateFormat),value1:o.subtract(1,"days").format(this.DateFormat),fieldValue:`${o.subtract(1,"days").format(this.DateFormat)},${o.subtract(1,"days").format(this.DateFormat)}`};if("This Week"==this.selectedRange){var a=o.day();return console.log({dayofweek:a}),r={Operator:"between",value:o.subtract(a,"days").format(this.DateFormat),value1:o.format(this.DateFormat),fieldValue:`${o.subtract(a,"days").format(this.DateFormat)},${o.format(this.DateFormat)}`},console.log({thisweek:r}),r}if("This Month"==this.selectedRange)return o.date(),{Operator:"between",value:Ae(new Date(o.year(),o.month(),1)).format(this.DateFormat),value1:o.format(this.DateFormat),fieldValue:`${Ae(new Date(o.year(),o.month(),1)).format(this.DateFormat)},${o.format(this.DateFormat)}`};if("Last Week"==this.selectedRange){a=o.day();var d=o.subtract(a+1,"days"),c=d.subtract(1,"week");return r={Operator:"between",value:c.format(this.DateFormat),value1:d.format(this.DateFormat),fieldValue:`${c.format(this.DateFormat)},${d.format(this.DateFormat)}`},console.log({lastweek:r}),r}if("Last Month"==this.selectedRange){var h=o.subtract(o.date(),"days"),_=h.subtract(1,"months");return{Operator:"between",value:_.add(1,"days").format(this.DateFormat),value1:h.format(this.DateFormat),fieldValue:`${_.add(1,"days").format(this.DateFormat)},${h.format(this.DateFormat)}`}}if("This Year"==this.selectedRange){var m=o,g=Ae(new Date(o.year(),0,1));return{Operator:"between",value:g.format(this.DateFormat),value2:m.format(this.DateFormat),fieldValue:`${g.format(this.DateFormat)},${m.format(this.DateFormat)}`}}return r}};let jt=br;u(jt,"\u0275fac",function(t){return new(t||br)(e.Y36(p.qu),e.Y36(e.sBO))}),u(jt,"\u0275cmp",e.Xpm({type:br,selectors:[["generic-daterange-picker"]],viewQuery:function(t,r){if(1&t&&e.Gf(tV,5),2&t){let o;e.iGM(o=e.CRH())&&(r.defaultTemplate=o.first)}},inputs:{DateFormat:"DateFormat",FiscalBeginDate:"FiscalBeginDate",newTemplate:"newTemplate"},outputs:{valueChange:"valueChange"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>br),multi:!0}])],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["datePicker",""],[3,"formGroup"],["formControlName","selectedrange"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngValue"],["type","text","formControlName","inthelastno"],["formControlName","inthelastrange"],[4,"ngFor","ngForOf"],["type","date","formControlName","on"],["type","date","formControlName","before"],["type","date","formControlName","after"],["type","date","formControlName","startbetween"],["type","date","formControlName","endbetween"]],template:function(t,r){1&t&&(e.GkF(0,0),e.YNc(1,cV,10,7,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngTemplateOutlet",r.currentTemplate)("ngTemplateOutletContext",e.l5B(2,pV,r.myForm,r.rangelist,r.selectedRange,r.intheLastRangeOptions))},dependencies:[p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,f.sg,f.O5,f.tP,p.sg,p.u],encapsulation:2,changeDetection:0}));var Lt=(()=>{return(n=Lt||(Lt={}))[n.LocalDatasource=0]="LocalDatasource",n[n.ServerDataSource=1]="ServerDataSource",Lt;var n})();class KV{constructor(){u(this,"title"),u(this,"authToken"),u(this,"apiEndpoints"),u(this,"searchApiEndpoint"),u(this,"columns",[]),u(this,"defaultFilterIndex",0),u(this,"showActionButton",!1),u(this,"DataSource"),u(this,"LocalData",[]),u(this,"pageSize",0),u(this,"callingControlId",""),u(this,"multiSelect",!1)}}const Cr=class{constructor(s){u(this,"http"),u(this,"majorGroupList",[]),u(this,"divisionList",[]),u(this,"productList",[]),u(this,"warehouseList",[]),u(this,"userList",[]),u(this,"reports",[]),u(this,"reportMenus",[]),u(this,"GroupListInTreeForm",[]),u(this,"Vlist",[]),u(this,"JobList",[]),u(this,"Blist",[]),u(this,"JobEndList",[]),u(this,"apiUrl",""),u(this,"authToken",""),this.http=s}ngOnInit(){}setDialog(s){return[]}getDialog(s){return this.reports.find(r=>r.name==s),this.setDialog("test")}getReport(s){return console.log({reports:this.reports}),0==this.reports.length?null:this.reports.find(r=>r.name==s)||null}getReportParam(s,t,r){return this.http.get(`${this.apiUrl}/reportapi/api/v2/getReportParam?Reportname=${s}&ReportType=${t}&User=${r}`,this.getRequestOption())}getDesignTimeReportParam(s,t,r){return this.http.get(`${this.apiUrl}/reportapi/api/v2/getDesignTimeReportParam?Reportname=${s}&ReportType=${t}&User=${r}`,this.getRequestOption())}getDynamicReport(s){return console.log({api:`${this.apiUrl}/reportapi/api/v2/getReport`,param:s}),this.http.post(`${this.apiUrl}/reportapi/api/v2/getReport`,s).toPromise()}getDynamicReportForDesign(s){return this.http.post(`${this.apiUrl}/reportapi/api/v2/getReportForDesign`,s).toPromise()}downloadExcelReport(s,t){return this.http.post(`${this.apiUrl}/reportapi/api/v2/DownLoadExcelReport`,s,{responseType:"blob",observe:"response",headers:t}).pipe((0,Jt.U)(o=>(console.log(o),o)))}checkfilterReportForDesign(s){s.fieldgroup.forEach(t=>t.filterFields.forEach(r=>{"daterange"==r.controlType&&null!=r.fieldValue&&(console.log({fieldvalue:r.fieldValue}),r.fieldValue=r.fieldValue)}))}getDynamicReportinXls(s){return this.http.post(`${this.apiUrl}/reportapi/api/v2/getReportInXl`,s,{responseType:"blob",headers:this.getRequestHeaders(),observe:"response"}).pipe((0,Jt.U)(t=>(console.log(t),t)))}saveReportParam(s){var t=this;return(0,le.Z)(function*(){yield t.http.post(`${t.apiUrl}/reportapi/api/v2/SaveReportParam`,s,t.getRequestOption()).toPromise()})()}saveReportObject(s){var t=this;return(0,le.Z)(function*(){yield t.http.post(`${t.apiUrl}/reportapi/api/v2/SaveDesignTimeReportParam`,s,t.getRequestOption()).toPromise()})()}saveDesignTimeReportParam(s){var t=this;return(0,le.Z)(function*(){yield t.http.post(`${t.apiUrl}/reportapi/api/v2/SaveDesignTimeReportParam`,s,t.getRequestOption()).toPromise()})()}deleteReportParam(s){var t=this;return(0,le.Z)(function*(){yield t.http.delete(`${t.apiUrl}/reportapi/api/v2/DeleteReportParam?reportName=${s}`,t.getRequestOption()).toPromise()})()}getReports(s,t){return this.http.post(this.apiUrl+t,s,this.getRequestOption()).pipe((0,Jt.U)(r=>r))}getRequestOption(){return{"Content-Type":"application/json",headers:new me.WM({Authorization:this.authToken})}}getRequestHeaders(){return new me.WM({Authorization:this.authToken})}getActionList(){let s=[{action:"New"},{action:"Edit"}];return new Z0.y(t=>t.next(s))}saveColumnSetting(s="",t){return console.log({url:s,columns:t}),this.http.post(""==s?`${this.apiUrl}/reportapi/api/v2/saveColumnSettings`:`${this.apiUrl}/${s}`,t,this.getRequestOption()).pipe((0,Jt.U)(o=>o.result))}};let ht=Cr;u(ht,"\u0275fac",function(t){return new(t||Cr)(e.LFG(me.eN))}),u(ht,"\u0275prov",e.Yz7({token:Cr,factory:Cr.\u0275fac,providedIn:"root"}));const zi=class{constructor(s,t,r){u(this,"_http"),u(this,"fb"),u(this,"reportService"),u(this,"faArrowRight",pl),u(this,"faTrash",Xl),u(this,"onPopUpClose",new e.vpe),u(this,"onItemDoubleClick",new e.vpe),u(this,"popupsettings"),u(this,"inputVchrType",""),u(this,"inputVchrno",""),u(this,"summary"),u(this,"multiSelectList",[]),u(this,"inputBox",{}),u(this,"requestUrl",""),u(this,"isActive",!1),u(this,"itemList",[]),u(this,"selectedRowIndex",0),u(this,"tabindex","list"),u(this,"billTo",""),u(this,"isForCancelOrder",!1),u(this,"tag",""),u(this,"hostElementid",""),u(this,"three",3),u(this,"ItemList_Available",0),u(this,"pageSize",10),u(this,"pageNumber",1),u(this,"totalPages",1),u(this,"totalItems",0),u(this,"gridSummary"),u(this,"isTableLoading",!1),u(this,"filterValueArray",new Map),u(this,"filterValue",""),u(this,"filterOption",""),u(this,"gridForm"),this._http=s,this.fb=t,this.reportService=r,this.ItemList_Available=0,this.gridForm=this.fb.group({columnField:[{value:""}],valueField:[{value:""}]})}show(s="",t=!1,r="",o=""){console.log("popup show",this.popupsettings),this.hostElementid=o,setTimeout(()=>{this.inputBox.nativeElement.focus()},10),this.summary="",this.billTo=s,this.isForCancelOrder=t,this.itemList=[],this.isActive=!0,this.selectedRowIndex=0,this.tag=r,this.setFilterOption(),setTimeout(()=>{this.setFilterOption(),this.refreshPage(),this.refresh()},100)}setFilterOption(){if(this.popupsettings&&this.popupsettings.columns.length){let s=this.popupsettings.defaultFilterIndex?this.popupsettings.defaultFilterIndex:0;if(this.popupsettings.columns.length<=s)return;this.filterValue="",this.filterOption=this.popupsettings.columns[s].key}}refreshPage(){this.pageNumber=1,this.totalPages=1}refresh(){this.getData()}getData(){console.log("popupsetting",this.popupsettings),this.popupsettings.DataSource==Lt.ServerDataSource?this.serverDataSource():this.localDataSource()}serverDataSource(){console.log("get data",this.filterOption,this.filterValue),this.summary="",this.selectedRowIndex=0;let s=this.popupsettings.apiEndpoints;console.log({CheckInputForm:this.inputVchrType,vchrno:this.inputVchrno});let t=`${s}?currentPage=${this.pageNumber}&maxResultCount=${this.pageSize}`;return"dispatchin"==this.inputVchrType.toLowerCase()&&(t+=`&dataFrom=dispatchin&vchrno=${this.inputVchrno}`),this.requestUrl=this.getFilterOption(t),this._http.get(this.requestUrl,this.getRequestOption()).subscribe(r=>{console.log("grid result",r),this.totalItems=r?r.totalCount:0,this.itemList=r?r.data:[],console.log("itemList",this.itemList),this.ItemList_Available=this.itemList.length>0?1:0,this.itemList.forEach(function(o){null!=o.TRNDATE&&null!=o.TRNDATE&&(o.TRNDATE=o.TRNDATE.toString().substring(0,10)),null!=o.DATE&&null!=o.DATE&&(o.DATE=o.DATE.toString().substring(0,10))}),this.itemList.length>0&&0==this.selectedRowIndex&&this.itemList[this.selectedRowIndex].itemSummary&&(this.summary=this.itemList[this.selectedRowIndex].itemSummary)},r=>{console.log(r)})}getRequestOption(){return{"Content-Type":"application/json",headers:new me.WM({Authorization:this.popupsettings.authToken})}}localDataSource(){console.log({localData:this.popupsettings}),null!=this.popupsettings.LocalData?this.popupsettings.LocalData&&!this.popupsettings.LocalData.length||(this.totalItems=this.popupsettings.LocalData.length,this.itemList=this.popupsettings.LocalData,this.getFilterOptionLocal(),this.setPageLocalData()):this.popupsettings.LocalData=[]}getFilterOption(s){let t=[],r=this.reportService.apiUrl.substring(0,this.reportService.apiUrl.lastIndexOf("/"));return null==this.filterOption||null==this.filterOption||""==this.filterOption?s:null==this.filterValue||null==this.filterValue||""==this.filterValue?r+"/"+s:(t.push({Field:this.filterOption,Value:this.filterValue}),r+`/${s}&filters=${JSON.stringify(t)}`)}getFilterOptionLocal(){if(console.log({filterOpt:this.filterOption,filtervalue:this.filterValue}),this.itemList=this.popupsettings.LocalData,null!=this.filterOption&&null!=this.filterOption&&""!=this.filterOption&&null!=this.filterValue&&null!=this.filterValue&&""!=this.filterValue){var t=this.popupsettings.LocalData,r=new RegExp(this.filterValue,"i");this.itemList=t.filter(o=>o[this.filterOption].toString().match(r)),console.log({regxp:r,localData:t,list:this.itemList})}}setPageLocalData(){var s=(this.pageNumber-1)*this.pageSize,t=this.pageSize;this.itemList=this.itemList.slice(s,t+s),console.log({pageNumber:this.pageNumber,toskip:s,limit:t,lst:this.itemList})}onPageChange(s){this.pageNumber=s||1,this.refresh()}hide(){this.itemList=[],this.pageNumber=1,this.totalItems=0,this.isActive=!1,console.log("hide button",this.isActive)}onMultiSelectAdd(s){this.multiSelectList.find(t=>t.value==s.value)||this.multiSelectList.push(s),this.onItemDoubleClick.emit(this.multiSelectList),console.log({multiseleList:this.multiSelectList,item:s})}onMultiSelectDelete(s){var t=this.multiSelectList.findIndex(r=>r.value==s.value);this.multiSelectList.splice(t,1),this.onItemDoubleClick.emit(this.multiSelectList),console.log({multiseleList:this.multiSelectList,item:s})}triggerSearch(s,t){console.log("trigger search",this.filterOption,this.filterValue),null!=this.filterOption&&null!=this.filterOption&&""!=this.filterOption&&(1==t&&(this.filterValue=""),this.refreshPage(),this.refresh())}singleClick(s){this.selectedRowIndex=s,this.summary=this.itemList[s].itemSummary}doubleClick(s){this.popupsettings.callingControlId?this.onItemDoubleClick.emit({event:s,callingControlId:this.popupsettings.callingControlId}):1==this.popupsettings.multiSelect?this.onItemDoubleClick.emit(this.multiSelectList):(this.onItemDoubleClick.emit(s),this.hide()),this.focusAnyControl("")}focusAnyControl(s){let t=document.getElementById(s);null!=t&&setTimeout(()=>{t.focus()})}};let _r=zi;u(_r,"\u0275fac",function(t){return new(t||zi)(e.Y36(me.eN),e.Y36(p.qu),e.Y36(ht))}),u(_r,"\u0275cmp",e.Xpm({type:zi,selectors:[["generic-popup-grid"]],viewQuery:function(t,r){if(1&t&&e.Gf(E4,5),2&t){let o;e.iGM(o=e.CRH())&&(r.inputBox=o.first)}},inputs:{popupsettings:"popupsettings",inputVchrType:"inputVchrType",inputVchrno:"inputVchrno",summary:"summary",multiSelectList:"multiSelectList"},outputs:{onPopUpClose:"onPopUpClose",onItemDoubleClick:"onItemDoubleClick"},decls:2,vars:2,consts:[[3,"formGroup"],["class","modal","style","display: block; padding: 0px; margin-bottom: 25px",4,"ngIf"],[1,"modal",2,"display","block","padding","0px","margin-bottom","25px"],[1,"modal-content","modal-content-main-area",2,"width","50%"],[4,"ngIf"],[1,"modal-header",2,"padding","0px 15px","background","#57afa6","color","#353535","align-items","center"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[4,"ngIf","ngIfElse"],["style","margin-left: 25px",3,"innerHTML",4,"ngIf"],["selectTableTemplate",""],[1,"row"],[1,"col-md-7",2,"position","relative","min-height","1px","padding-left","0px","padding-right","0px"],[4,"ngTemplateOutlet"],[1,"col-md-5",2,"position","relative","min-height","1px","padding-left","0px","padding-right","0px"],[1,"modal-header",2,"margin","0%","padding","0px","background","#57afa6","color","#353535"],[1,"table"],[4,"ngFor","ngForOf"],[2,"padding","5px 15px 0px 0px"],[1,"btn","btn-danger",2,"float","right","padding","0%","width","15%",3,"click"],[3,"icon"],[2,"margin-left","25px",3,"innerHTML"],[1,"row","clearfix"],[1,"col-md-12","row","pl-1"],[1,"col-md-6","p-1",2,"margin","2px 0px"],["formControlName","columnField",2,"width","100%",3,"ngModel","ngModelChange"],["value","","selected",""],["type","text","placeholder","Enter keyword to search","formControlName","valueField",2,"width","100%",3,"ngModel","ngModelChange"],["inputBox",""],[1,"col-md-12","table-scroll",2,"position","relative","padding","0 6px"],[2,"background","#57afa6","color","#353535"],[1,"row","clearfix",2,"float","center","margin","4px 0px"],["class","col-md-12","style","width: 100%",4,"ngIf"],[3,"value",4,"ngIf"],[3,"value"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["class","highlight","title","double click for detail view",3,"selected-row","dblclick","keydown.enter","click",4,"ngFor","ngForOf"],["title","double click for detail view",1,"highlight",3,"dblclick","keydown.enter","click"],[3,"title","ngStyle"],[1,"btn","btn-primary","float-right",2,"padding","0%","width","100%","float","left",3,"click"],[1,"col-md-12",2,"width","100%"],["previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",2,"font-size","0.8rem",3,"id","maxSize","directionLinks","autoHide","responsive","pageChange"]],template:function(t,r){1&t&&(e.TgZ(0,"form",0),e.YNc(1,EV,3,1,"div",1),e.qZA()),2&t&&(e.Q6J("formGroup",r.gridForm),e.xp6(1),e.Q6J("ngIf",r.isActive))},dependencies:[f.sg,f.O5,f.tP,f.PC,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.sg,p.u,De.LS,S4,De._s],styles:[".modal-content[_ngcontent-%COMP%] {\n    padding: 1px;\n    margin: 0px;\n    float: right;\n  }\n\n  tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:hover {\n    background-color: #f3f5f4;\n    cursor: pointer;\n  }\n\n  tr[_ngcontent-%COMP%] {\n    font-size: 11px;\n  }\n\n  .selected-row[_ngcontent-%COMP%] {\n    background-color: #ced6d3 !important;\n  }\n\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n    line-height: 30px !important;\n    padding: 0px;\n  }\n\n  .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\n    line-height: 5px !important;\n  }\n\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%]:first-child {\n    text-align: left !important;\n    padding: 0px 0px 0px 11px !important;\n  }\n\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child() {\n    text-align: right !important;\n  }\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%]:last-child {\n    padding-right: 5px !important;\n  }\n  .modal-content[_ngcontent-%COMP%] {\n    box-shadow: -10px 0px 10px 1px #aaaaaa;\n  }\n\n  .modal-content-main-area[_ngcontent-%COMP%] {\n    max-height: 100%;\n    height: 30rem;\n    overflow: auto;\n    overflow-x: hidden;\n    width: 30rem;\n    top: 9.5rem;\n\n    margin-right: 20rem;\n  }\n\n  .modal-content-summary-area[_ngcontent-%COMP%] {\n    max-height: 20%;\n    height: 20%;\n    overflow: auto;\n    overflow-x: hidden;\n  }\n\n  .ellipsis[_ngcontent-%COMP%] {\n    \n    white-space: nowrap;\n  }\n  .glyphicon.glyphicon-arrow-right[_ngcontent-%COMP%]:hover {\n    background-color: #b81616;\n    color: cornsilk;\n    transition: 0.7s;\n    border-radius: 50%;\n  }\n\n  .glyphicon.glyphicon-minus-sign[_ngcontent-%COMP%]:hover {\n    background-color: #b81616;\n    transition: 0.7s;\n    color: cornsilk;\n    cursor: pointer;\n    border-radius: 50%;\n  }\n  \n  \n\n  @media only screen and (min-width: 768px) {\n    .modal-content-main-area[_ngcontent-%COMP%] {\n      top: 25rem;\n      margin-right: 1rem;\n    }\n  }\n\n  @media only screen and (min-width: 1024px) {\n    .modal-content-main-area[_ngcontent-%COMP%] {\n      top: 8rem;\n      margin-right: 1rem;\n    }\n  }\n\n    #tabindex ul{\n      padding: 0;\n    }"]}));const Bi=class{constructor(s){u(this,"fb"),u(this,"genericGridList"),u(this,"onSelect",new e.vpe),u(this,"fieldName",""),u(this,"fieldId",""),u(this,"dataSource",[]),u(this,"singleSelect",!1),u(this,"objValues"),u(this,"popupsetting",new KV),u(this,"formGroup"),this.fb=s}ngOnInit(){this.formGroup=this.fb.group({textControl:[""]})}ngAfterViewInit(){console.log({dsource:this.dataSource,singleselect:this.singleSelect,reportObj:this.objValues})}showPopUp(s){this.popupsetting.LocalData=this.dataSource,this.genericGridList.popupsettings=this.popupsetting,console.log({popseting:this.popupsetting}),this.genericGridList.show()}onSelectList(s){if(console.log({popupselect:s}),this.popupsetting.multiSelect){var t=s,r="";if(t.length>0){for(var o=0;o<3&&!(o>=t.length);o++)r=r+t[o].name+",";r=r.substring(0,r.length-1),t.length>3&&(r=r+" + "+(t.length-3)+" item(s)")}this.formGroup.get("textControl")?.patchValue(r);var i=t.map(a=>a.value).join();this.onSelect.emit({id:i,value:i})}else this.formGroup.get("textControl")?.patchValue(s.name),this.onSelect.emit({id:s.value,value:s.value})}ngOnChanges(s){s.dataSource.previousValue!=s.dataSource.currentValue&&this.changeGridSetting(s.fieldName.currentValue)}changeGridSetting(s){console.log(this.objValues),this.popupsetting={title:s,multiSelect:!this.singleSelect,apiEndpoints:this.objValues?.apiURL?this.objValues.apiURL:"",authToken:"",DataSource:"1"==this.objValues?.dataSourceType?Lt.ServerDataSource:Lt.LocalDatasource,defaultFilterIndex:0,LocalData:[],columns:[{key:"1"==this.objValues?.dataSourceType?"DESCA":"name",title:"name",hidden:!1,noSearch:!1},{key:"value",title:"value",hidden:!1,noSearch:!1}]}}};let wt=Bi;u(wt,"\u0275fac",function(t){return new(t||Bi)(e.Y36(p.qu))}),u(wt,"\u0275cmp",e.Xpm({type:Bi,selectors:[["generic-multiselect"]],viewQuery:function(t,r){if(1&t&&e.Gf(yV,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridList=o.first)}},inputs:{fieldName:"fieldName",fieldId:"fieldId",dataSource:"dataSource",singleSelect:"singleSelect",objValues:"objValues"},outputs:{onSelect:"onSelect"},features:[e.TTD],decls:4,vars:1,consts:[[3,"formGroup"],["formControlName","textControl","type","text","placeholder","Enter keydown to select ","readonly","",2,"width","100%",3,"keydown.enter"],[3,"onItemDoubleClick"],["genericGridList",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"input",1),e.NdJ("keydown.enter",function(i){return r.showPopUp(i)}),e.qZA()(),e.TgZ(2,"generic-popup-grid",2,3),e.NdJ("onItemDoubleClick",function(i){return r.onSelectList(i)}),e.qZA()),2&t&&e.Q6J("formGroup",r.formGroup)},dependencies:[p.Fj,p.JJ,p.JL,p.sg,p.u,_r],encapsulation:2}));const F4=()=>{},Tr=class{constructor(s){u(this,"cdr"),u(this,"ngValue",""),u(this,"placeholder",""),u(this,"data"),u(this,"onItemSelect",new e.vpe),u(this,"onItemDeSelect",new e.vpe),u(this,"dropdownSettings",{}),u(this,"multiSelected"),u(this,"datavalue",[]),u(this,"selectedItems",[]),u(this,"onTouchedCallback",F4),u(this,"onChangeCallback",F4),this.cdr=s}set value(s){this.selectedItems=[],s&&s.split(",").forEach(r=>{this.selectedItems.push({name:r,value:r})}),this.onChangeCallback(s),this.onTouchedCallback(),console.log({setValue:s})}writeValue(s){this.selectedItems=[],s&&s.split(",").forEach(r=>{this.selectedItems.push({name:r,value:r})}),this.onChangeCallback(s),this.cdr.detectChanges(),console.log({writeValue:s,selectedItems:this.selectedItems})}registerOnChange(s){this.onChangeCallback=s}registerOnTouched(s){this.onTouchedCallback=s}ngOnInit(){this.dropdownSettings={idField:"value",singleSelection:!1,textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,enableCheckAll:!1,limitSelection:10}}ngOnChanges(s){if(console.log({changes:s}),s.selectedItems?.previousValue!=s.selectedItems?.currentValue){var t="";this.selectedItems.forEach(r=>{t=""==t?r.value:t+","+r.value})}}onSelect(s){this.onItemSelect.emit(s),this.onChangeCallback(this.emittedValue(this.selectedItems))}onDeSelect(s){this.onItemDeSelect.emit(s),this.onChangeCallback(this.emittedValue(this.selectedItems))}emittedValue(s){var t="";if(Array.isArray(s))s.forEach(r=>{t=""==t?r.value.toString():t+","+r.value.toString()});else if(s)return s;return t}};let xt=Tr;u(xt,"\u0275fac",function(t){return new(t||Tr)(e.Y36(e.sBO))}),u(xt,"\u0275cmp",e.Xpm({type:Tr,selectors:[["dropdown-multiselect"]],inputs:{placeholder:"placeholder",data:"data"},outputs:{onItemSelect:"onItemSelect",onItemDeSelect:"onItemDeSelect"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>Tr),multi:!0}]),e.TTD],decls:1,vars:4,consts:[[3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"ng-multiselect-dropdown",0),e.NdJ("onSelect",function(i){return r.onSelect(i)})("onDeSelect",function(i){return r.onDeSelect(i)})("ngModelChange",function(i){return r.selectedItems=i}),e.qZA()),2&t&&e.Q6J("placeholder","")("settings",r.dropdownSettings)("data",r.data)("ngModel",r.selectedItems)},dependencies:[ne.O,p.JJ,p.On],encapsulation:2,changeDetection:0}));const j4=()=>{},Mr=class{constructor(s,t){u(this,"cdr"),u(this,"fb"),u(this,"checkvalue",!1),u(this,"label",""),u(this,"showLabel",0),u(this,"myform"),u(this,"onChangeCallback",j4),u(this,"onTouchedCallback",j4),this.cdr=s,this.fb=t}ngOnInit(){this.myform=this.fb.group({chkBox:!1}),this.reactiveOnChanges(),console.log({inti:this.myform})}reactiveOnChanges(){this.myform.valueChanges.subscribe(s=>{this.checkvalue=s.chkBox,console.log({reactivevalue:s}),this.onChangeCallback(this.booleanToNumber(this.checkvalue))})}booleanToNumber(s){return 1==s?1:0}writeValue(s){s&&(this.checkvalue=0!=s,this.myform.controls.chkBox.setValue(this.checkvalue)),this.onChangeCallback(s),this.cdr.detectChanges(),console.log({writecheck:s,chkval:this.checkvalue})}registerOnChange(s){this.onChangeCallback=s}registerOnTouched(s){this.onTouchedCallback=s}};let ur=Mr;u(ur,"\u0275fac",function(t){return new(t||Mr)(e.Y36(e.sBO),e.Y36(p.qu))}),u(ur,"\u0275cmp",e.Xpm({type:Mr,selectors:[["generic-checkbox"]],inputs:{label:"label",showLabel:"showLabel"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>Mr),multi:!0}])],decls:4,vars:2,consts:[[1,"formgroup",3,"formGroup"],["formControlName","chkBox","type","checkbox"],["checkboxInput",""],[4,"ngIf"],["for","checkboxInput"]],template:function(t,r){1&t&&(e.TgZ(0,"form",0),e._UZ(1,"input",1,2),e.YNc(3,IV,3,1,"span",3),e.qZA()),2&t&&(e.Q6J("formGroup",r.myform),e.xp6(3),e.Q6J("ngIf",1==r.showLabel))},dependencies:[f.O5,p._Y,p.Wl,p.JJ,p.JL,p.sg,p.u],encapsulation:2,changeDetection:0}));const Ji=class{constructor(s){u(this,"dialog"),u(this,"dropdownValue"),u(this,"selectedBox",""),u(this,"valueCheck",!1),u(this,"selectedItems",[]),u(this,"CheckedValue",[]),u(this,"dropdownSettings",{}),u(this,"ClickFilter",new e.vpe),u(this,"downloadExcel",new e.vpe),u(this,"SaveReport",new e.vpe),u(this,"DeleteReport",new e.vpe),u(this,"ReportFilterSetting"),u(this,"filterdisplay"),u(this,"UserReportList",[]),u(this,"reportObject"),u(this,"isShown",!0),u(this,"multiSelected"),u(this,"selected",{stardate:Ae.Dayjs,enddate:Ae.Dayjs}),u(this,"selectedFields",[]),u(this,"requiredFields",[]),u(this,"optionalFields",[]),u(this,"multiDropDownSetting",{}),u(this,"currentTemplate"),u(this,"defaultTemplate"),u(this,"newTemplate"),u(this,"applyFilter",()=>{var s=this.getFilterParam();1!=this.checkIfRequiredInValid()?this.ClickFilter.emit(s):alert("Required field(s) cannot be empty")}),u(this,"excelDownload",()=>{var s=this.getFilterParam();this.downloadExcel.emit(s)}),u(this,"filterContext",{UserReportList:this.UserReportList,selectedFields:this.selectedFields,optionalFields:this.optionalFields,requiredFields:this.requiredFields,applyFilter:this.applyFilter,downloadtoExcel:this.excelDownload}),this.dialog=s;var t=document.getElementById("detailsField");console.log("ya value k aaucha",t)}ngAfterViewInit(){setTimeout(()=>{this.seperateSelectedFields()},0)}booleanToNumber(s){return 1==s?1:0}multiSelectToString(s){console.log({multiselect:s});var t="";return s&&(t="'"+s.map(o=>o.value).join("','")+"'",console.log({arraystring:t})),t}ngOnInit(){new Xe,this.multiSelected={},this.dropdownSettings={idField:"value",singleSelection:!1,textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,enableCheckAll:!1,limitSelection:10},console.log({reportfilterlist:this.ReportFilterSetting,UserReportList:this.UserReportList})}seperateSelectedFields(){this.requiredFields=this.ReportFilterSetting?.fieldgroup[0]?.filterFields.filter(t=>0==t.selected),this.optionalFields=this.ReportFilterSetting?.fieldgroup[1]?.filterFields.filter(t=>0==t.selected),this.selectedFields=[],this.selectedFields=this.ReportFilterSetting?.fieldgroup[0]?.filterFields.filter(t=>1==t.selected);var s=this.ReportFilterSetting?.fieldgroup[1]?.filterFields.filter(t=>1==t.selected);this.selectedFields?.length>0?s.forEach(t=>{this.selectedFields.push(t)}):this.selectedFields=s,console.log({fieldgroup:this.ReportFilterSetting?.fieldgroup,requiredfields:this.requiredFields,filterfieds:this.optionalFields,selectedfields:this.selectedFields,optSele:s})}getFilterParam(){var s={fields:[]};return this.CheckedValue=[],s.reportName=this.ReportFilterSetting.reportName,s.reportType=this.ReportFilterSetting.reportType,s._id=this.ReportFilterSetting._id,s.reportUser=this.ReportFilterSetting.reportUser,this.filterdisplay=this.ReportFilterSetting,this.ReportFilterSetting.fieldgroup.forEach(t=>{console.log({groupId:t.groupId}),t.filterFields.forEach(r=>{if(console.log("FLD",r),1==r.selected){console.log({Checked:this.CheckedValue});var o={fieldgroupName:r.fieldgroupName,fieldId:r.fieldId,fieldIdSecond:r.fieldIdSecond,fieldName:r.fieldName,controlType:r.controlType,fieldtype:r.fieldType,fieldValue:r.fieldValue,operatorValue:r.operatorValue,selected:r.selected,filterParamValue:r.filterParameterValue};"daterange"==r.controlType&&null!=r.fieldValue&&(console.log({fieldvalue:r.fieldValue}),o.fieldValue=r.fieldValue,console.log({fieldvalueafter:o.fieldValue})),"numberrange"==r.controlType&&(o.fieldValue=r.filterParameterValue.value+","+r.filterParameterValue.value1),s.fields.push(o)}})}),console.log({Report:this.ReportFilterSetting,ReportParam:s}),s}checkIfRequiredInValid(){let s=!1;return console.log({reportIsvalidCheck:this.ReportFilterSetting}),this.ReportFilterSetting.fieldgroup.forEach(t=>{t.filterFields.forEach(r=>{if(1==r.required&&(null==r.fieldValue||""==r.fieldValue))return 0==s&&(s=!0),void console.log({isinvalid:s,Filterfield:r})})}),s}addFieldGroup(s){if(0!=s.length){console.log("SelectedField",s);var t=this.ReportFilterSetting.fieldgroup.find(r=>"selectedField"==r.groupId);null==t&&((t=new In).groupId="selectedField",t.groupName="Selected Fields",this.ReportFilterSetting.fieldgroup.unshift(t),console.log({newFieldGroup:t,reportFiletersetting:this.ReportFilterSetting})),this.ReportFilterSetting.fieldgroup[0].filterFields=s,console.log("reportfilter",this.ReportFilterSetting,this.ReportFilterSetting.fieldgroup),this.ReportFilterSetting.fieldgroup.forEach(r=>{"Selected Fields"!=r.groupName?(console.log("GROUPNAME",r.groupName),console.log("FILTERFIELD",r.filterFields),r.filterFields.forEach(o=>{1==o.selected&&(o.isFieldDisabled=!0,o.selected=!1)})):r.filterFields.forEach(o=>{0==o.selected&&(o.isFieldDisabled=!0)})}),console.log("Selected Field",t)}}enableIsFieldDisabled(s){this.ReportFilterSetting.fieldgroup.filter(t=>"selectedField"!=t.groupId).forEach(t=>{t.filterFields.filter(r=>r.fieldId==s.fieldId)?.forEach(r=>r.isFieldDisabled=!1),console.log({enabledisablefield:t})})}aplyFilter_old(){this.filterdisplay=this.ReportFilterSetting,this.ReportFilterSetting.fieldgroup.forEach(s=>{s.filterFields.forEach(t=>{("text"==t.controlType||"date"==t.controlType)&&(this.reportObject={...this.reportObject,[t.fieldId]:t.fieldValue}),"daterange"==t.controlType&&(this.reportObject.Date1=t.filterParameterValue.value,this.reportObject.Date2=t.filterParameterValue.value1)})}),this.ClickFilter.emit(this.reportObject)}openDatepicker(){}dtPickerChange(s){console.log({daterange:s,ReportFilterSetting:this.ReportFilterSetting})}selectChangeHandler(s){this.seperateSelectedFields()}selectedCheckedbox(s,t){}saveReport(){var s=new Z.vA;s.hasBackdrop=!1,s.disableClose=!1,s.autoFocus=!0,s.data={title:"Save Report",description:this.ReportFilterSetting.reportName}}deleteReport(s){var t=s;console.log({deleteevent:s}),1==confirm(`Do you want to delete the ${t} ?`)&&this.DeleteReport.emit(t)}toggleAccordian(s){var t=s.target;console.log("event value",s),t.parentElement.classList.toggle("active")}toggleReport(s,t){s.target.parentElement.classList.toggle("reportOption")}onItemSelect(s,t){console.log({onItemSelect:s,fieldvalue:this.dropdownValue})}onItemDeSelect(s,t){console.log({onItemDeSelect:s,selectedItems:this.dropdownValue})}changeDateRangeValue(s,t){t.fieldValue=s.fieldValue,t.filterParameterValue=s,console.log({daterangeChange:s,fld:t})}onMultiSelectChange(s){}onMultiSelect(s,t){console.log({multiselect:s,fld:t}),t.fieldValue=s.value,console.log({multiselect:s,fld:t})}refresh(){}};let Vt=Ji;u(Vt,"\u0275fac",function(t){return new(t||Ji)(e.Y36(Z.uw))}),u(Vt,"\u0275cmp",e.Xpm({type:Ji,selectors:[["report-filter"]],viewQuery:function(t,r){if(1&t&&e.Gf(NV,5),2&t){let o;e.iGM(o=e.CRH())&&(r.defaultTemplate=o.first)}},inputs:{ReportFilterSetting:"ReportFilterSetting",UserReportList:"UserReportList",newTemplate:"newTemplate"},outputs:{ClickFilter:"ClickFilter",downloadExcel:"downloadExcel",SaveReport:"SaveReport",DeleteReport:"DeleteReport"},decls:3,vars:9,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["filterTemplate",""],["id","filterindex",1,"row",2,"height","70vh","background","#ffffff","transition","0.5s","border","2px solid #ddd","border-radius","10px","overflow-y","scroll","overflow-x","hidden"],[1,"row",2,"padding","6%","display","flex","flex-direction","column","margin-bottom","20px","justify-content","space-between"],[2,"padding-left","15px","padding-bottom","15px","display","block","padding-bottom","6px"],[2,"border-bottom","1px solid #ddd","font-size","24px"],["style","\n            list-style: none;\n            padding-left: 5px;\n            padding-top: 10px;\n            padding-bottom: 10px;\n            padding-left: 15px;\n            background-color: #f0f3f4;\n            border-left: 3px solid #393434;\n            margin-left: 2px;\n          ",4,"ngFor","ngForOf"],[2,"padding-top","0px","padding-bottom","6px","padding-left","15px"],[1,"accordion",3,"click"],[1,"glyphicon","glyphicon","glyphicon-triangle-bottom",2,"top","-1px"],[1,"panel-wrapper"],["fieldList",""],[1,"button-wrapper",2,"padding-left","15px"],[1,"btn","btn-info",2,"margin-top","2%","margin-left","2px","margin-right","2px",3,"click"],[1,"btn","btn-info",2,"margin-top","2%",3,"click"],[2,"list-style","none","padding-left","5px","padding-top","10px","padding-bottom","10px","padding-left","15px","background-color","#f0f3f4","border-left","3px solid #393434","margin-left","2px"],[2,"display","flex","align-items","center","position","relative"],[1,"dotted-menu",2,"margin-left","auto","cursor","pointer","margin-top","-3px",3,"click"],[1,"dot"],[1,"reportPopup"],["href","#",3,"click"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],[4,"ngIf"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],["style","margin-left: 8%",4,"ngIf"],["style","margin-top: 2%",4,"ngIf"],[2,"margin-left","8%"],[1,"",2,"margin-bottom","2%","width","30%",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm",1,"",2,"margin-bottom","10%","width","90%",3,"ngModel","ngModelChange"],["id","checkbox",3,"ngModel","label","showLabel","ngModelChange"],["for","checkbox"],[2,"margin-bottom","2%","width","30%",3,"ngModel","ngModelChange"],[3,"data","ngModel","ngModelChange","onItemSelect","onItemDeSelect"],["dropdown","ngModel"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModel","FiscalBeginDate","ngModelChange"],[2,"margin-top","2%"],["type","date",1,"form-control",2,"margin-top","1%","width","90%","margin-bottom","3%",3,"ngModel","ngModelChange"],["fieldName","name","fieldId","value",3,"dataSource","onSelect"]],template:function(t,r){if(1&t&&(e.GkF(0,0),e.YNc(1,GV,32,13,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngTemplateOutlet",r.newTemplate||o)("ngTemplateOutletContext",e.HTZ(2,QV,r.UserReportList,r.selectedFields,r.requiredFields,r.optionalFields,r.applyFilter,r.excelDownload))}},dependencies:[f.sg,f.O5,f.tP,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,jt,wt,xt,ur],styles:['.shadow1[_ngcontent-%COMP%]{-moz-box-shadow:5px 5px 5px rgba(68,68,68,.6);-webkit-box-shadow:5px 5px 5px rgba(68,68,68,.6);box-shadow:5px 5px 5px #4449;-webkit-tap-highlight-color:transparent;filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=3,MakeShadow=true,ShadowOpacity=.3);-ms-filter:"progid:DXImageTransform.Microsoft.Blur(PixelRadius=3,MakeShadow=true,ShadowOpacity=0.30)";zoom:1}@media screen and (max-width: 1200px){#filterindex[_ngcontent-%COMP%]{margin:0 auto 30px!important;width:auto!important;overflow-x:hidden;position:relative!important}.button-wrapper[_ngcontent-%COMP%]{width:100%!important;box-shadow:none!important;justify-content:start!important}}',"#filterindex[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n    border: none;\n    \n    font-weight: 700;\n  }\n\n  .panel[_ngcontent-%COMP%] {\n    margin-left: 20px;\n  }"]}));const Yi=class{transform(s,...t){console.log({FieldValueTransform:s});const r=s.map(o=>({item_id:o.value,item_text:o.name}));return console.log({fieldValueConvert:r}),r}};let Ri=Yi;u(Ri,"\u0275fac",function(t){return new(t||Yi)}),u(Ri,"\u0275pipe",e.Yjl({name:"FieldValueConvert",type:Yi,pure:!0}));const qi=class{transform(s,...t){return"1"==s}};let Ei=qi;u(Ei,"\u0275fac",function(t){return new(t||qi)}),u(Ei,"\u0275pipe",e.Yjl({name:"NumberToBoolean",type:qi,pure:!0}));const Gi=class{transform(s,...t){return s?"1":"0"}};let yi=Gi;u(yi,"\u0275fac",function(t){return new(t||Gi)}),u(yi,"\u0275pipe",e.Yjl({name:"BooleanToNumber",type:Gi,pure:!0}));const Ar=class{static forRoot(){return{ngModule:Ar}}};let Wt=Ar;u(Wt,"\u0275fac",function(t){return new(t||Ar)}),u(Wt,"\u0275mod",e.oAB({type:Ar})),u(Wt,"\u0275inj",e.cJS({imports:[f.ez,p.UX,qe.zk.forRoot(),me.JF,De.JX,nw]}));const Pr=class{static forRoot(){return{ngModule:Pr}}};let _t=Pr;u(_t,"\u0275fac",function(t){return new(t||Pr)}),u(_t,"\u0275mod",e.oAB({type:Pr})),u(_t,"\u0275inj",e.cJS({imports:[p.u5,p.UX,Wt]}));const Rr=class{static forRoot(){return{ngModule:Rr}}};let ut=Rr;u(ut,"\u0275fac",function(t){return new(t||Rr)}),u(ut,"\u0275mod",e.oAB({type:Rr})),u(ut,"\u0275inj",e.cJS({imports:[p.u5,f.ez,p.UX]}));const Er=class{remove(s){window.sessionStorage.removeItem(s)}exist(s){return null!=window.sessionStorage.getItem(s)}get(s){if(!this.exist(s))return null;let t=window.sessionStorage.getItem(s);return JSON.parse(t)}set(s,t){window.sessionStorage.setItem(s,JSON.stringify(t))}checkUserRight(s){let r,t=window.sessionStorage.getItem("USER_PROFILE");var o;return t&&(r=t.userRights,r&&(o=r[s])),o}};let gr=Er;u(gr,"\u0275fac",function(t){return new(t||Er)}),u(gr,"\u0275prov",e.Yz7({token:Er,factory:Er.\u0275fac,providedIn:"root"}));const yr=class{constructor(s){u(this,"cacheService"),u(this,"cache_constant",{}),u(this,"_subscriptions",[]),u(this,"RightObj",{}),u(this,"rightObject"),u(this,"menuName"),u(this,"add",!1),u(this,"edit",!1),u(this,"delete",!1),u(this,"view",!1),u(this,"user"),u(this,"canActive",!1),this.cacheService=s}ngOnInit(){}isAuthorized(s){let t=this.getUserProfile();return this.isAuthenticated(t)}removeAuth(){this.cacheService.remove("USER_PROFILE"),this.cacheService.remove("TOKEN")}isAuthenticated(s){return!!s}setAuth(s){this.cacheService.set("USER_PROFILE",s.profile),this.cacheService.set("TOKEN",s.token),this.cacheService.set("setting",s.setting)}setSessionVariable(s,t){this.cacheService.exist(s)&&this.cacheService.remove(s),this.cacheService.set(s,t)}getSessionVariable(s){return this.cacheService.exist(s)?this.cacheService.get(s):null}removeSessionVariable(s){this.cacheService.remove(s)}getAuth(){let s={profile:this.cacheService.get("USER_PROFILE"),token:this.cacheService.get("TOKEN")};return console.log({gettoken:s}),s}getUserProfile(){if(!this.cacheService.exist("USER_PROFILE"))return null;let s=this.cacheService.get("USER_PROFILE");return this.user=this.cacheService.get("USER_PROFILE"),s}checkUserRight(s){let r,t=this.getUserProfile();var o=[];return t&&(r=t.userRights,r&&(o=r[s])),o}getMenuRight(s,t){var r={list:!1,right:!1};if(console.log("MenuName",s),""==s)return r;let o=this.getUserProfile(),i=[];var a=!1,l=!1;if(o&&(i=o.menuRights,console.log("MenuRights",i,s),i))for(var d in i)if(console.log("Reached1",i[d].menu,s),i[d].menu==s)for(var c in console.log("Reached2"),this.RightObj=i[d],this.rightObject=i[d],this.menuName=s,console.log("RRRR",this.RightObj),console.log({menu:s,menus:i[d]}),i[d].right.length>0&&(a=!0),i[d].right)i[d].right[c]==t&&(this.canActive=!0,l=!0);return console.log(this.RightObj,"RRRRRRRRRR"),console.log(this.rightObject,"lllllll"),r={list:a,right:l},console.log(r,"resulttttt"),r}checkMenuRight(s,t){let r=this.getUserProfile(),o=[];var i=!1;if(r&&(o=r.menuRights,o))for(var a in o)if(o[a].menu==s)for(var l in o[a].right)o[a].right[l]==t&&(this.canActive=i,i=!0);return i}getSetting(){return this.cacheService.exist("setting")?this.cacheService.get("setting").EnableRealTimeStockCheck:void 0}getCookie(){}getRequestHeaders(){return new me.WM({Authorization:this.getAuth().token})}getRequestOption(){return{"Content-Type":"application/json",headers:new me.WM({Authorization:this.getAuth().token})}}ngOnDestroy(){this._subscriptions.forEach(s=>{s.unsubscribe()})}};let mr=yr;u(mr,"\u0275fac",function(t){return new(t||yr)(e.LFG(gr))}),u(mr,"\u0275prov",e.Yz7({token:yr,factory:yr.\u0275fac,providedIn:"root"}));const Ir=class{constructor(){u(this,"_subjectData",{}),u(this,"_data",new Ne.xQ),u(this,"_dataStream$",this._data.asObservable()),u(this,"_globalSettings",new Map),u(this,"_subscriptions",new Map),console.log({datastream:"initiated"}),this._dataStream$.subscribe(s=>this._onEvent(s))}notifyDataChanged(s,t){console.log({notifyDataChanged:{event:s,value:t,subjectData:this._subjectData}});let r=this._subjectData[s];r!==t&&(this._subjectData[s]=t,console.log("4"),console.log({subjectdata:this._subjectData,current:r,value:t}),this._data.next({event:s,data:this._subjectData}))}subscribe(s,t){let r=this._subscriptions.get(s)||[];r.push(t),this._subscriptions.set(s,r),console.log({subscribeevent:s,value:t})}_onEvent(s){(this._subscriptions.get(s.event)||[]).forEach(r=>{r.call(null,s.data)})}setGlobalSetting(s,t){this._globalSettings.set(s,t)}getGlobalSetting(s){var t=[];return this._globalSettings.get(s)&&(t=this._globalSettings.get(s)),t}};let fr=Ir;u(fr,"\u0275fac",function(t){return new(t||Ir)}),u(fr,"\u0275prov",e.Yz7({token:Ir,factory:Ir.\u0275fac,providedIn:"root"}));const Qi=class{transform(s,...t){var r=[];return s&&s.split(",").forEach(i=>{r.push({name:i,value:i})}),console.log({arraytoMultiselect:r,array:s}),r}};let Ii=Qi;u(Ii,"\u0275fac",function(t){return new(t||Qi)}),u(Ii,"\u0275pipe",e.Yjl({name:"ArrayToMultiSelect",type:Qi,pure:!0}));const Nr=class{static forRoot(){return{ngModule:Nr}}};let gt=Nr;u(gt,"\u0275fac",function(t){return new(t||Nr)}),u(gt,"\u0275mod",e.oAB({type:Nr})),u(gt,"\u0275inj",e.cJS({imports:[ne.Z,f.ez,p.u5,p.UX]}));const Dr=class{static forRoot(){return{ngModule:Dr}}};let mt=Dr;u(mt,"\u0275fac",function(t){return new(t||Dr)}),u(mt,"\u0275mod",e.oAB({type:Dr})),u(mt,"\u0275inj",e.cJS({imports:[f.ez,p.u5,p.UX]}));const Ki=class{};let Zt=Ki;u(Zt,"\u0275fac",function(t){return new(t||Ki)}),u(Zt,"\u0275mod",e.oAB({type:Ki})),u(Zt,"\u0275inj",e.cJS({providers:[fr,mr],imports:[f.ez,p.u5,p.UX,ut,Z.Is,_t,ne.Z,gt,mt]}));const $i=class{constructor(s,t,r){u(this,"dialogRef"),u(this,"data"),u(this,"fb"),u(this,"saveDialogClick",new e.vpe),u(this,"form"),u(this,"title",""),u(this,"Description",""),this.dialogRef=s,this.data=t,this.fb=r,this.Description=t.description,this.title=t.title}ngOnInit(){this.form=this.fb.group({title:[this.title,[]],description:[this.Description,[]]})}onSaveDialogClick(){this.dialogRef.close(this.form.value)}onClose(){this.dialogRef.close()}};let Ni=$i;u(Ni,"\u0275fac",function(t){return new(t||$i)(e.Y36(Z.so),e.Y36(Z.WI),e.Y36(p.qu))}),u(Ni,"\u0275cmp",e.Xpm({type:$i,selectors:[["report-filter-save-dialog"]],outputs:{saveDialogClick:"saveDialogClick"},decls:11,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],["MatFormFieldControl","description"],["matInput","","formControlName","description",3,"placeholder"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"form",1)(3,"mat-dialog-content")(4,"mat-form-field",2),e._UZ(5,"input",3),e.qZA()(),e.TgZ(6,"mat-dialog-actions")(7,"button",4),e.NdJ("click",function(){return r.onClose()}),e._uU(8,"Close"),e.qZA(),e.TgZ(9,"button",5),e.NdJ("click",function(){return r.onSaveDialogClick()}),e._uU(10,"Save"),e.qZA()()()),2&t&&(e.xp6(1),e.Oqu(r.title),e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(3),e.Q6J("placeholder",r.Description))},dependencies:[jw,Hw,Z.uh,Z.xY,Z.H8,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u],styles:["[_nghost-%COMP%]{display:grid;justify-content:center;align-items:center;background-color:#fff;position:absolute;top:10em;height:12em;width:16em;padding:15px;box-shadow:0 0 5px #00000045}.mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto 2px}"]}));const kr=class{static forRoot(){return{ngModule:kr}}};let Sr=kr;u(Sr,"\u0275fac",function(t){return new(t||kr)}),u(Sr,"\u0275mod",e.oAB({type:kr})),u(Sr,"\u0275inj",e.cJS({providers:[Z.so],imports:[En,Uw,Z.Is,zw,p.UX,p.u5]}));const Xi=class{transform(s,...t){var r="";return s&&(r="'"+s.join("','")+"'",console.log({arraystring:r})),r}};let Di=Xi;u(Di,"\u0275fac",function(t){return new(t||Xi)}),u(Di,"\u0275pipe",e.Yjl({name:"MultiToArray",type:Xi,pure:!0}));var E=S(23470),et=S(31722);const $V=["childModal"],XV=["genericDatePicker"],eW=["reportFilter"],tW=["genericSimpleTable"],rW=function(n){return{"mySidenav-show":n}},iW=function(n){return{"toggler-btn-icon-reverse":n}};function oW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideShow=!o.hideShow)}),e._uU(2," F10 "),e._UZ(3,"i",11),e.qZA(),e.TgZ(4,"div")(5,"report-filter",12,13),e.NdJ("ClickFilter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter(o,1))})("downloadExcel",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.downloadExcel(o))})("SaveReport",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onSaveReport(o))})("DeleteReport",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onDeleteReport(o))}),e.qZA()()()}if(2&n){const t=e.oxw(),r=e.MAs(4);e.Q6J("ngClass",e.VKq(5,rW,t.hideShow)),e.xp6(3),e.Q6J("ngClass",e.VKq(7,iW,t.hideShow)),e.xp6(2),e.Q6J("ReportFilterSetting",t.reportObj)("UserReportList",t.userReportList)("newTemplate",r)}}function nW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"report-grid",15,16),e.NdJ("onActionClick",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onActionClick(o))})("onCurrentPageChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onPageChange(o))})("columnSettingChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onColumnSettingChange(o))})("onContextMenu",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onContextMenuClick(o))}),e.qZA()()}if(2&n){const t=e.oxw(),r=e.MAs(12);e.xp6(1),e.Q6J("simpleTableConfig",t.genericSimpleTableConfig)("FooterTemplate",r)}}function aW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ul",38)(1,"li",39),e._uU(2),e.TgZ(3,"div",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.deleteReport(i.reportName))}),e._UZ(4,"span",41),e.qZA(),e.TgZ(5,"ul",42)(6,"li")(7,"a",43),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.deleteReport(i.reportName))}),e._uU(8,"Delete"),e.qZA()()()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.hij(" ",t.reportName," ")}}function sW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",56),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.selectChangeHandler(o,i))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("checked",1==t.fieldValue||t.selected)("disabled",t.required)}}function lW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngModel",t.fieldValue)}}function cW(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,lW,3,1,"div",57),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.selected)}}function pW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",58)(2,"div",62)(3,"dropdown-multiselect",63,64),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)})("onItemSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.onItemSelect(o,i))})("onItemDeSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.onItemSelect(o,i))}),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Q6J("data",t.fieldSelectionValues.fieldvalues)("ngModel",t.fieldValue)}}function dW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",70)(1,"ims-custom-form",71),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(3).$implicit,i=e.oxw(3);return e.KtG(i.onChange(o))}),e.qZA()()}if(2&n){const t=e.oxw(6);e.xp6(1),e.Q6J("service",t.masterService)}}function hW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",65)(1,"div",58)(2,"div",66)(3,"app-simple-suggest",67),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(5);return e.KtG(i.masterService.prodAttSearchObj.DEPARTMENT=o)})("selectOption",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.filters(o,i))}),e.qZA()(),e.TgZ(4,"div",68),e.YNc(5,dW,2,1,"div",69),e.qZA()()()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw(3);e.xp6(3),e.Q6J("options",t.fieldSelectionValues.fieldvalues)("labelKey","name")("valueKey","name")("ngModel",r.masterService.prodAttSearchObj.DEPARTMENT),e.xp6(2),e.Q6J("ngIf",(""!=r.masterService.prodAttSearchObj.DEPARTMENT||null!=r.masterService.prodAttSearchObj.DEPARTMENT||null!=r.masterService.prodAttSearchObj.DEPARTMENT)&&r.masterService.prodAttSearchObj.DEPARTMENT)}}function _W(n,s){if(1&n&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function uW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"select",73),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldvalue=o)}),e.YNc(2,_W,2,2,"option",74),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.fieldvalue),e.xp6(1),e.Q6J("ngForOf",t.fieldSelectionValues.fieldvalues)}}function gW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"generic-daterange-picker",76,77),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw(3),o=e.MAs(14);e.xp6(2),e.Q6J("ngModel",t.fieldValue)("FiscalBeginDate",r.reportObj.fiscalBeginDate)("newTemplate",o)}}function mW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"input",79),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.fieldValue)}}function fW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"generic-multiselect",81),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.onMultiSelect(o,i))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",t.fieldSelectionValues.fieldvalues)}}function SW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"generic-multiselect",82),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.onMultiSelect(o,i))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",t.fieldSelectionValues.fieldvalues)("singleSelect",!0)}}const vW=function(n){return{width:n}};function OW(n,s){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,sW,1,2,"input",48),e.TgZ(2,"label",49),e._uU(3),e.qZA(),e.YNc(4,cW,2,1,"div",50),e.YNc(5,pW,5,2,"div",51),e.YNc(6,hW,6,5,"div",52),e.YNc(7,uW,3,2,"div",53),e.YNc(8,gW,4,3,"div",50),e.YNc(9,mW,2,1,"div",54),e.YNc(10,fW,2,1,"div",55),e.YNc(11,SW,2,2,"div",55),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw().showCheckbox;e.xp6(1),e.Q6J("ngIf","checkbox"==t.controlType||r),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,vW,"checkbox"==t.controlType?"60%":"12%")),e.xp6(1),e.Oqu(t.fieldName),e.xp6(1),e.Q6J("ngIf","text"==t.controlType),e.xp6(1),e.Q6J("ngIf","dropdownmultiselect"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","attributes"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","dropdown"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","daterange"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","date"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","multiselect"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","singleselect"==t.controlType&&t.selected)}}function bW(n,s){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,OW,12,13,"div",46),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",0==t.isFieldDisabled)}}function CW(n,s){1&n&&e.YNc(0,bW,2,1,"div",44),2&n&&e.Q6J("ngForOf",s.fields)}function TW(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",83),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.excelExport())}),e._uU(2," Download "),e.qZA(),e.BQk()}}function MW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",83),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().excelDownloading;return e.KtG(o())}),e._uU(1," Download "),e.qZA()}}const L4=function(n,s){return{"glyphicon-chevron-down":n,"glyphicon-chevron-up":s}},AW=function(n,s){return{fields:n,showCheckbox:s}},PW=function(n){return{fields:n,showCheckbox:!0}};function RW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div")(3,"div",19)(4,"div")(5,"span",20),e._uU(6),e.qZA(),e._UZ(7,"br")(8,"br"),e.TgZ(9,"span")(10,"strong",21),e._uU(11,"Report Filter"),e.qZA()()(),e.YNc(12,aW,9,1,"ul",22),e.qZA(),e.TgZ(13,"accordion",23)(14,"accordion-group",24,25)(16,"div",26),e._uU(17," Required Fields "),e._UZ(18,"i",27),e.qZA(),e.TgZ(19,"div",28),e.GkF(20,29),e.qZA()(),e.TgZ(21,"accordion-group",30,31)(23,"div",26),e._uU(24," Optional Fields "),e._UZ(25,"i",27),e.qZA(),e.TgZ(26,"div",28),e.GkF(27,29),e.qZA()()()(),e.TgZ(28,"div",32),e.YNc(29,CW,1,1,"ng-template",null,33,e.W1O),e.qZA(),e.TgZ(31,"div",34)(32,"button",35),e.NdJ("click",function(){const i=e.CHM(t).applyFiltering;return e.KtG(i())}),e._uU(33," Apply filter "),e.qZA(),e.YNc(34,TW,3,0,"ng-container",36),e.YNc(35,MW,2,0,"ng-template",null,37,e.W1O),e.qZA()()()}if(2&n){const t=s.UserReportList,r=s.selectedFields,o=s.requiredFields,i=e.MAs(15),a=e.MAs(22),l=e.MAs(30),d=e.MAs(36),c=e.oxw();e.xp6(6),e.Oqu(c.reportTitle),e.xp6(6),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("closeOthers",!1),e.xp6(1),e.Q6J("isOpen",!0),e.xp6(4),e.Q6J("ngClass",e.WLB(13,L4,null==i?null:i.isOpen,!i.isOpen)),e.xp6(2),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.WLB(16,AW,r,"checkbox"===r.controlType)),e.xp6(1),e.Q6J("isOpen",!1),e.xp6(4),e.Q6J("ngClass",e.WLB(19,L4,null==a?null:a.isOpen,!a.isOpen)),e.xp6(2),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.VKq(22,PW,o)),e.xp6(7),e.Q6J("ngIf",c.clientSideDownload())("ngIfElse",d)}}const EW=function(){return{"text-align":"center","white-space":"normal","background-color":"red"}};function yW(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"th",85),e._uU(2),e.qZA(),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,EW)),e.uIk("colspan",t.colspan),e.xp6(1),e.hij(" ",t.groupHeader," ")}}function IW(n,s){1&n&&e.YNc(0,yW,3,4,"ng-container",84),2&n&&e.Q6J("ngForOf",s.mergereportHeaders)}function NW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",88,89),e.NdJ("keyup",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw().triggerMultiSearch;return e.KtG(a(o,i,!1))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",t.title)}}const w4=function(n){return{"text-align":n}};function DW(n,s){if(1&n&&(e.TgZ(0,"th",87),e.YNc(1,NW,3,1,"div",50),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,w4,t.alignment)),e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function kW(n,s){if(1&n&&(e.ynx(0),e.YNc(1,DW,2,4,"th",86),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function FW(n,s){1&n&&e.YNc(0,kW,2,1,"ng-container",84),2&n&&e.Q6J("ngForOf",s.columns)}function jW(n,s){if(1&n&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",93),e.qZA()),2&n){const t=s.$implicit,r=e.oxw(3).$implicit;e.xp6(1),e.Q6J("itemObj",t)("item",r)}}function LW(n,s){if(1&n&&(e.TgZ(0,"div")(1,"ul",92),e.YNc(2,jW,2,2,"li",84),e.qZA()()),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",r[t.key])}}const wW=function(n,s,t){return{itemObj:n,item:s,fieldName:t}};function xW(n,s){if(1&n&&e.GkF(0,29),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj,o=e.oxw();e.Q6J("ngTemplateOutlet",o.dataColumnTemplate)("ngTemplateOutletContext",e.kEZ(2,wW,r,t,t.key))}}function VW(n,s){if(1&n&&(e.TgZ(0,"td",85),e.YNc(1,LW,3,1,"div",36),e.YNc(2,xW,1,6,"ng-template",null,91,e.W1O),e.qZA()),2&n){const t=e.MAs(3),r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,w4,r.alignment)),e.xp6(1),e.Q6J("ngIf",r.isListField)("ngIfElse",t)}}function WW(n,s){if(1&n&&(e.ynx(0),e.YNc(1,VW,4,5,"td",90),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function ZW(n,s){1&n&&e.YNc(0,WW,2,1,"ng-container",84),2&n&&e.Q6J("ngForOf",s.columns)}function HW(n,s){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw().TotalData;e.xp6(1),e.hij(" ",r[t.key]," ")}}const UW=function(n){return{"text-align":n,padding:"0.35rem"}};function zW(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"td",85),e.YNc(2,HW,2,1,"div",50),e.qZA(),e.BQk()),2&n){const t=s.$implicit,r=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,UW,t.alignment)),e.xp6(1),e.Q6J("ngIf",r)}}function BW(n,s){1&n&&e.YNc(0,zW,3,4,"ng-container",84),2&n&&e.Q6J("ngForOf",s.columns)}function JW(n,s){if(1&n&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function YW(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",102),e.qZA())}function qW(n,s){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"input",104),e.qZA())}function GW(n,s){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"input",105),e.qZA())}function QW(n,s){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"input",106),e.qZA())}const x4=function(){return{standalone:!0}};function KW(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",107),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeEntryDate(o.target.value,"AD","start"))}),e.qZA(),e.TgZ(2,"nepali-date-picker",108),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeEntryDate(o.detail.value,"BS","start"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.startNepaliDate=o)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.s9C("min",t.minDate),e.xp6(1),e.Q6J("id","nepaliDatefrom")("ngModelOptions",e.DdM(5,x4))("label","From")("ngModel",t.startNepaliDate)}}function $W(n,s){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t," ")}}function XW(n,s){if(1&n&&(e.TgZ(0,"div")(1,"select",109),e.YNc(2,$W,2,1,"option",84),e.qZA()()),2&n){const t=e.oxw(2).intheLastRangeOptions;e.xp6(2),e.Q6J("ngForOf",t)}}function eZ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",110),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.changeEntryDate(o.target.value,"AD","end"))}),e.qZA(),e.TgZ(2,"nepali-date-picker",111),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.changeEntryDate(o.detail.value,"BS","end"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.endNepaliDate=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("id","nepaliDateto")("ngModelOptions",e.DdM(4,x4))("label","To")("ngModel",t.endNepaliDate)}}function tZ(n,s){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,XW,3,1,"div",50),e.YNc(2,eZ,3,5,"div",50),e.qZA()),2&n){const t=e.oxw().selectedRange;e.xp6(1),e.Q6J("ngIf","in the last"==t),e.xp6(1),e.Q6J("ngIf","between"==t)}}function rZ(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div"),e.TgZ(2,"form",94)(3,"div",58)(4,"div",95)(5,"select",96),e.YNc(6,JW,2,2,"option",97),e.qZA()(),e.TgZ(7,"div",98),e.YNc(8,YW,2,0,"div",50),e.YNc(9,qW,2,0,"div",99),e.YNc(10,GW,2,0,"div",99),e.YNc(11,QW,2,0,"div",99),e.YNc(12,KW,3,6,"div",50),e.qZA(),e.YNc(13,tZ,3,2,"div",100),e.qZA()()()),2&n){const t=s.myForm,r=s.rangelist,o=s.selectedRange;e.xp6(2),e.Q6J("formGroup",t),e.xp6(4),e.Q6J("ngForOf",r),e.xp6(2),e.Q6J("ngIf","in the last"==o),e.xp6(1),e.Q6J("ngIf","on"==o),e.xp6(1),e.Q6J("ngIf","before"==o),e.xp6(1),e.Q6J("ngIf","after"==o),e.xp6(1),e.Q6J("ngIf","between"==o),e.xp6(1),e.Q6J("ngIf","in the last"==o||"between"==o)}}let V4=(()=>{class n{constructor(t,r,o,i,a,l){this.reportService=t,this.alertService=r,this.spinnerService=o,this.masterService=i,this.activatedRoute=a,this.router=l,this.hideShow=!0,this.reportObj=new Ci,this.filterReport=new Ci,this.currentReportParam=new D4,this.simpleTableSettings=new Mi,this.genericSimpleTableConfig=new Ai,this.reportName="",this.reportUser="",this.reportType="",this.currentPage=1,this.reportTitle="",this.reportList=[],this.totalList=[],this.totalPage=1,this.pageSize=20,this.dropdownSettings={},this.userReportList=[],this.isFirstLoadReport=!1,this.showFilter=!1,this.showTable=!1,this.showGrid=!1,this.title="ReportFilterWorkspace",this.showFilterTab=!0,this.filter="Hide Filter",this.reportService.apiUrl=$.N.apiUrl.substring(0,$.N.apiUrl.lastIndexOf("/"));var d=this.masterService.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.minDate=d}handleKeyDownEvent(t){"F10"==t.code&&(t.preventDefault(),this.hideShow=!this.hideShow)}ngOnInit(){this.dropdownSettings={itemsShowLimit:0,singleSelection:!1,allowSearchFilter:!1,selectAllText:"Select All",unSelectAllText:"UnSelect All"};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this.assignReportParam(),this.routerSubscription=this.router.events.subscribe(r=>{r instanceof v.m2&&r.url.includes("report-master")&&this.assignReportParam()})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}assignReportParam(){this.onLoadReportParam(this.activatedRoute.snapshot.params.name,this.activatedRoute.snapshot.params.type,"a")}onLoadReport(){this.onLoadReportParam(this.reportName,this.reportType,this.reportUser)}applyFilter(t,r=0){var o=this;return(0,le.Z)(function*(){o.isFirstLoadReport=!1,1==r&&(o.currentPage=1,o.pageSize=20,o.isFirstLoadReport=!0),o.spinnerService.show("Report Loading please wait.....");try{o.showGrid=!0,o.reportObj.currentPage=o.currentPage,o.reportObj.recordsPerPage=o.pageSize,o.reportObj.fieldgroup[0].filterFields.forEach(l=>{"attributes"==l.controlType&&l.selected&&""==l.fieldValue&&(l.fieldValue="%")});var i=yield o.reportService.getDynamicReport(o.reportObj);if(0==i?.result?.length)return o.showGrid=!1,o.alertService.info("Data not found with the given filters!"),void o.spinnerService.hide();o.reportList=i.result,o.totalList=o.convertPropery(i.result2),console.log({evetdata:t,reportData:i}),o.reportObj.totalItems=i.totalRecord,0==o.reportObj.totalItems&&(o.reportObj.totalItems=o.reportList.length),o.totalPage=Math.abs(o.reportObj.totalItems/o.pageSize)+(o.reportObj.totalItems%o.pageSize>0?1:0),o.simpleTableListConfig(),o.hideShow=!1,o.spinnerService.hide()}catch(a){o.spinnerService.hide(),console.log("log error",a),o.alertService.error(a.error.message)}})()}applyDrillFilter(t,r=0){var o=this;return(0,le.Z)(function*(){1==r&&(o.currentPage=1,o.pageSize=20),o.spinnerService.show("Report Loading please wait.....");try{t.currentPage=o.currentPage,t.recordsPerPage=o.pageSize;var i=yield o.reportService.getDynamicReport(t),a=i.result,l=o.convertPropery(i.result2);t.totalItems=i.totalRecord,0==t.totalItems&&(t.totalItems=a.length),o.totalPage=Math.abs(t.totalItems/o.pageSize)+(t.totalItems%o.pageSize>0?1:0),o.simpleTableListConfigDrill(t,a,l),o.spinnerService.hide()}catch{o.spinnerService.hide(),o.showGrid=!1,o.alertService.error("Error in loading report")}})()}onDeleteReport(t){var r=this;return(0,le.Z)(function*(){console.log({dialogEvent:t,newsetting:r.reportFilterSetting})})()}convertPropery(t){try{var o;return Object.keys(t).forEach(i=>{let a=i.substring(3,i.length);o[a]=t[i]}),o}catch{return t}}getdrillReportForDesign(t,r){this.reportService.getReportParam(t.reportName,t.reportType,this.reportObj.reportUser).subscribe(o=>{if(null!=o.result){var i=o.result;this.setDrillValues(i,t,r),this.applyDrillFilter(i,1),this.reportObj=i,this.refresh()}},o=>{this.alertService.error("error loading data")})}setDrillValues(t,r,o){r.fields.forEach(i=>{"fromfilter"==i.drilldownFieldFrom?this.reportObj.fieldgroup.forEach(a=>a.filterFields.forEach(l=>{l.fieldName==i.drilldownFieldId&&(i.fieldValue=l.fieldValue)})):"fromgrid"==i.drilldownFieldFrom&&(i.fieldValue=o[i.drilldownFieldId])}),t.fieldgroup.forEach(i=>{i.filterFields.forEach(a=>{a.fieldValue=r.fields.find(l=>l.fieldName==a.fieldName)?.fieldValue||""})})}onLoadReportParam(t,r,o){this.spinnerService.show("Loading report, please wait...."),this.reportService.getReportParam(t,r,o).subscribe(a=>{if(a.result){this.spinnerService.hide(),a.result.fieldgroup[0].filterFields.find(d=>"daterange"===d.controlType)&&(a.result.fieldgroup[0].filterFields.find(d=>"daterange"===d.controlType).fieldValue=`${this.minDate},${this.currDate}`),this.hideShow=!0,this.showFilter=!0,this.reportObj=a.result,this.reportTitle=a.result.reportName;let l=this.reportObj.fieldgroup[0].filterFields.find(d=>"daterange"===d.controlType)?.fieldValue.split(",");l&&l[0]&&this.changeEntryDate(l[0],"AD","start"),l&&l[1]&&this.changeEntryDate(l[1],"AD","end"),this.refresh()}},a=>{throw this.spinnerService.hide(),this.refresh(),a})}refresh(){this.reportFilterComponent?.ReportFilterSetting&&(this.reportFilterComponent.ReportFilterSetting=this.reportObj),this.reportFilterComponent?.seperateSelectedFields?.()}onSaveReport(t){var r=this;return(0,le.Z)(function*(){r.reportFilterSetting.reportName=t.description})()}downloadExcel(t){var r=this;return(0,le.Z)(function*(){r.currentReportParam=t,r.spinnerService.show("Report Downloading please wait..."),r.reportService.downloadExcelReport(r.reportObj).subscribe(o=>{o.headers.get("content-disposition");const a=t.reportName+".xlsx",d=window.URL.createObjectURL(o.body),c=document.createElement("a");c.download=a,c.href=d,c.click()},o=>{r.spinnerService.hide(),r.alertService.error("Download Error!"),console.log({error:"error downloading file",log:o})},()=>{r.spinnerService.hide(),r.alertService.success("Download Complete")})})()}simpleTableListConfig(){this.simpleTableSettings={title:this.reportTitle,apiEndpoints:"/V2/getProductList",DataSource:this.reportObj.dataSourceType,defaultColumns:[],contextMenus:this.getContextMenu(this.reportObj),LocalData:this.reportList,TotalData:this.totalList,defaultFilterIndex:0,currentPageNo:this.currentPage,pageSize:this.pageSize,totalItems:this.reportObj.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:je.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}simpleTableListConfigDrill(t,r,o){var i=t.dataSourceType;this.isFirstLoadReport=!0,this.simpleTableSettings={title:this.reportTitle,apiEndpoints:"/V2/getProductList",DataSource:i,defaultColumns:[],contextMenus:this.getContextMenu(t),LocalData:r,TotalData:o,defaultFilterIndex:0,currentPageNo:t.currentPage,pageSize:this.pageSize,totalItems:t.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:je.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}onActionClick(t){}onPageChange(t){var r=this;return(0,le.Z)(function*(){r.currentPage=t.currentPage;var o=0,i="";null!=t.sortKey&&null!=t.sortOrder&&(r.reportObj.reportSort=`${t.sortKey} ${t.sortOrder}`,o=t.index,i=t.sortOrder),"getData"!=t.triggerFrom&&(r.pageSize=t.pageSize,yield r.applyFilter("")),null!=t.sortKey&&null!=t.sortOrder&&setTimeout(()=>{t.changeSortOrder(i,o)},0)})()}getContextMenu(t){return t.drilldownmenus}onColumnSettingChange(t){var r=t.filter(i=>1==i.dirty),o={reportName:this.reportObj.reportName,reportType:this.reportObj.reportType,reportUser:this.reportObj.reportUser,columns:r=t};this.genericSimpleTableConfig.simpleTablesettings.columns=r,this.simpleTable.refresh(this.isFirstLoadReport),console.log({columnSaveObject:o}),this.reportService.saveColumnSetting("",o).subscribe(i=>{console.log(i)},i=>{throw console.log(i),i})}onContextMenuClick(t){this.getdrillReportForDesign(t.menuName,t.item)}excelExport(){let t=this.reportObj.fieldgroup[0].filterFields.find(l=>"daterange"===l.controlType).fieldValue.split(","),r=this.reportObj.fieldgroup[0].filterFields.find(l=>"PHISCALID"===l.fieldId).fieldValue,o=t[0]!=t[1]?`${t[0]} to ${t[1]}`:`${t[0]}`,i={},a=(0,Bt.cloneDeep)(this.genericSimpleTableConfig.simpleTablesettings.LocalData);Object.keys(a[0]).forEach(l=>{i[l]=l}),a.splice(0,0,{MENUCODE:`${this.genericSimpleTableConfig.simpleTablesettings.title}`},{MENUCODE:`CompanyName: ${this.masterService.userProfile.CompanyInfo.NAME}, VATNO: ${this.masterService.userProfile.CompanyInfo.VAT}, Address: ${this.masterService.userProfile.CompanyInfo.ADDRESS}`},{},{},{},{MENUCODE:`As On Dated: ${o},  Fiscal Year: ${r}`},{},i),S.e(574).then(S.bind(S,80574)).then(l=>{const d=l.utils.json_to_sheet(a,{skipHeader:!0});d["!rows"]=[{hpx:30},{hpx:30}],d["!merges"]=[{s:{r:0,c:0},e:{r:0,c:24}},{s:{r:1,c:0},e:{r:3,c:24}},{s:{r:5,c:0},e:{r:5,c:24}}];const h=l.write({Sheets:{data:d},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(h,this.genericSimpleTableConfig.simpleTablesettings.title)})}saveAsExcelFile(t,r){const a=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),l=URL.createObjectURL(a),d=document.createElement("a");d.href=l,d.download=r+(new Date).getTime()+".xlsx",d.click()}clientSideDownload(){return!!this.activatedRoute.snapshot.params.name.toUpperCase().includes("PORDER".toUpperCase())}filters(t,r){let o={};o.Department=this.masterService.prodAttSearchObj.DEPARTMENT,o.CustomValues=[],r.fieldValue=JSON.stringify(o),r.fieldType="json",this.getCustomField("",t.name)}getCustomField(t,r){return this.masterService.getCustomFields(t,r).subscribe(o=>{var i=[];o.result.forEach(a=>{i.push((new jr.o4).deserialize(a))}),this.customForm.setForm(i)})}onChange(t){this.masterService.CustomValues=this.customForm?.getValues("1");let r={};r.Department=this.masterService.prodAttSearchObj.DEPARTMENT,r.CustomValues=(0,Bt.cloneDeep)(this.masterService.CustomValues.filter(o=>o.Value&&(""!==o.Value||void 0!==o.Value))),t.fieldValue=JSON.stringify(r),t.fieldType="json"}onMultiSelect(t,r){r.fieldValue=t.id}selectChangeHandler(t,r){"checkbox"===r.controlType&&(r.fieldValue=t.target.checked?1:0),r.selected=!!t.target.checked}changeEntryDate(t,r,o){var i=S(82071);if("AD"==r){var a=t.replace("-","/").replace("-","/"),l=i.ad2bs(a);let _=("1"==l.en.day||"2"==l.en.day||"3"==l.en.day||"4"==l.en.day||"5"==l.en.day||"6"==l.en.day||"7"==l.en.day||"8"==l.en.day||"9"==l.en.day?"0"+l.en.day:l.en.day)+"/"+l.en.month+"/"+l.en.year;"start"==o?this.startNepaliDate=_:this.endNepaliDate=_}else if("BS"==r){var d=t.split("/"),c=(a=i.bs2ad(d[2]+"/"+d[1]+"/"+d[0])).year+"-"+(1==a.month.toString().length?"0"+a.month:a.month)+"-"+(1==a.day.toString().length?"0"+a.day:a.day);if(1!=this.masterService.ValidateNepaliDate(c))return void this.alertService.error("Date Exceed to Current Phiscal Year !");{var h=i.bs2ad(d[2]+"/"+d[1]+"/"+d[0]);const H=h.year+"-"+(1==h.month.toString().length?"0"+h.month:h.month)+"-"+(1==h.day.toString().length?"0"+h.day:h.day);"start"==o?this.genericDatePicker.myForm.get("startbetween").setValue(H):this.genericDatePicker.myForm.get("endbetween").setValue(H)}}}isChecked(t){return"1"==t.fieldValue}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ht),e.Y36(y.c),e.Y36(wn.V),e.Y36(b.P),e.Y36(v.gz),e.Y36(v.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-master"]],viewQuery:function(t,r){if(1&t&&(e.Gf($V,5),e.Gf(XV,5),e.Gf(jr.q0,5),e.Gf(eW,5),e.Gf(tW,5,dt)),2&t){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.genericDatePicker=o.first),e.iGM(o=e.CRH())&&(r.customForm=o.first),e.iGM(o=e.CRH())&&(r.reportFilterComponent=o.first),e.iGM(o=e.CRH())&&(r.simpleTable=o.first)}},hostBindings:function(t,r){1&t&&e.NdJ("keydown",function(i){return r.handleKeyDownEvent(i)},!1,e.evT)},features:[e._Bn([])],decls:15,vars:2,consts:[["class","toggable-sidebar",3,"ngClass",4,"ngIf"],[1,"report-container"],["class","col-lg-12","style","height: 100%",4,"ngIf"],["newTemplate",""],["mergeHeaderTemplate",""],["SearchHeaderTemplate",""],["TableDataTemplate",""],["FooterTemplate",""],["datePicker",""],[1,"toggable-sidebar",3,"ngClass"],[1,"btn","btn-info","btn-toggler",3,"click"],[1,"fa","fa-angle-double-left",3,"ngClass"],[3,"ReportFilterSetting","UserReportList","newTemplate","ClickFilter","downloadExcel","SaveReport","DeleteReport"],["reportFilter",""],[1,"col-lg-12",2,"height","100%"],[3,"simpleTableConfig","FooterTemplate","onActionClick","onCurrentPageChange","columnSettingChange","onContextMenu"],["genericSimpleTable",""],["id","filterindex",1,"row",2,"background","#ffffff","transition","0.5s","border","2px solid #ddd","border-radius","10px","width","100%","overflow-y","auto","overflow-x","hidden","height","540px"],[1,"row",2,"padding","1% 1% 0 1%","display","flex","width","100%","flex-direction","column","margin-bottom","15px","justify-content","space-between"],[1,"mb-3",2,"display","flex","align-items","center","justify-content","space-between"],[2,"font-size","15px","font-weight","600"],[2,"border-bottom","1px solid #ddd","font-size","14px"],["style","\n            list-style: none;\n            padding-left: 5px;\n            padding-top: 10px;\n            padding-bottom: 10px;\n            padding-left: 15px;\n            background-color: #f0f3f4;\n            border-left: 3px solid #393434;\n            margin-left: 2px;\n          ",4,"ngFor","ngForOf"],[3,"closeOthers"],[3,"isOpen"],["group1",""],["accordion-heading","",2,"width","100%","font-size","12px","font-weight","500"],[1,"pull-right","float-xs-right","glyphicon",3,"ngClass"],[2,"padding-top","0px","padding-bottom","6px","padding-left","15px"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"margin-top","5px",3,"isOpen"],["group2",""],[1,"panel-wrapper"],["fieldList",""],[1,"button-wrapper"],[1,"btn","btn-info",2,"margin-top","2%","margin-left","2px","margin-right","2px",3,"click"],[4,"ngIf","ngIfElse"],["serverSideDownload",""],[2,"list-style","none","padding-left","5px","padding-top","10px","padding-bottom","10px","padding-left","15px","background-color","#f0f3f4","border-left","3px solid #393434","margin-left","2px"],[2,"display","flex","align-items","center","position","relative"],[1,"dotted-menu",2,"margin-left","auto","cursor","pointer","margin-top","-3px",3,"click"],[1,"dot"],[1,"reportPopup"],["href","#",3,"click"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],["style","display: flex;\n            align-items: center;",4,"ngIf"],[2,"display","flex","align-items","center"],["type","checkbox","style","width: 15px;\n                  height: 15px;\n                  background: #6599FF;",3,"checked","disabled","change",4,"ngIf"],[2,"margin-top","6px","margin-left","10px",3,"ngStyle"],[4,"ngIf"],["style","margin-left: 4%",4,"ngIf"],["style","width: 100%",4,"ngIf"],["style","display: flex; align-items: center; width: 27%",4,"ngIf"],["style","margin-top: 2%",4,"ngIf"],["style","width: 26%",4,"ngIf"],["type","checkbox",2,"width","15px","height","15px","background","#6599FF",3,"checked","disabled","change"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-10"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm",1,"",3,"ngModel","ngModelChange"],[2,"margin-left","4%"],[1,"col-md-10",2,"width","500px"],[3,"data","ngModel","ngModelChange","onItemSelect","onItemDeSelect"],["dropdown","ngModel"],[2,"width","100%"],[1,"col-md-4",2,"display","flex","align-items","center"],["id","department",2,"width","100%",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[1,"col-md-8",2,"width","500px"],["class","form-group",4,"ngIf"],[1,"form-group"],["id","customForm",3,"service","change"],[2,"display","flex","align-items","center","width","27%"],[2,"width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModel","FiscalBeginDate","newTemplate","ngModelChange"],["genericDatePicker",""],[2,"margin-top","2%"],["type","date",1,"form-control",2,"margin-top","1%","width","90%","margin-bottom","3%",3,"ngModel","ngModelChange"],[2,"width","26%"],["fieldName","name","fieldId","value",3,"dataSource","onSelect"],["fieldName","name","fieldId","value",3,"dataSource","singleSelect","onSelect"],[1,"btn","btn-info",2,"margin-top","2%",3,"click"],[4,"ngFor","ngForOf"],[3,"ngStyle"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","10px 0px 10px 3px","background-color","aqua",3,"placeholder","keyup"],["inputBox",""],[3,"ngStyle",4,"ngIf"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item"],[3,"formGroup"],[1,"col-md-3","pd0"],["formControlName","selectedrange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-4"],["class","ml-4",4,"ngIf"],["class","col-md-4",4,"ngIf"],[3,"ngValue"],["type","text","formControlName","inthelastno"],[1,"ml-4"],["type","date","formControlName","on"],["type","date","formControlName","before"],["type","date","formControlName","after"],["type","date","formControlName","startbetween",3,"min","change"],["name","nepaliDateFrom",1,"dateFormat",3,"id","ngModelOptions","label","ngModel","change","ngModelChange"],["formControlName","inthelastrange"],["type","date","formControlName","endbetween",3,"change"],["name","nepaliDateto",1,"dateFormat",3,"id","ngModelOptions","label","ngModel","change","ngModelChange"]],template:function(t,r){1&t&&(e.YNc(0,oW,7,9,"div",0),e.TgZ(1,"div",1),e.YNc(2,nW,3,2,"div",2),e.qZA(),e.YNc(3,RW,37,24,"ng-template",null,3,e.W1O),e.YNc(5,IW,1,1,"ng-template",null,4,e.W1O),e.YNc(7,FW,1,1,"ng-template",null,5,e.W1O),e.YNc(9,ZW,1,1,"ng-template",null,6,e.W1O),e.YNc(11,BW,1,1,"ng-template",null,7,e.W1O),e.YNc(13,rZ,14,8,"ng-template",null,8,e.W1O)),2&t&&(e.Q6J("ngIf",r.reportObj&&r.showFilter),e.xp6(2),e.Q6J("ngIf",r.showGrid))},dependencies:[f.mk,f.sg,f.O5,f.tP,f.PC,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,E.v,et.c,dt,pt,Vt,xt,jt,wt,jr.q0],styles:[".m0[_ngcontent-%COMP%]{margin:0}.flex[_ngcontent-%COMP%]{display:flex}.center[_ngcontent-%COMP%]{align-items:center}.report-container[_ngcontent-%COMP%]{overflow-x:hidden;height:86vh;overflow-y:auto}.rotate[_ngcontent-%COMP%]{transform:rotate(180deg);transition:.3s ease;display:inline-block;margin-top:-3px;margin-right:10px}.noRotate[_ngcontent-%COMP%]{transform:rotate(360deg);transition:.3s ease;display:inline-block;margin-right:10px}.toggable-sidebar[_ngcontent-%COMP%]{position:fixed;left:-50%;transition:.3s;width:260px;text-decoration:none;font-size:11px;border-radius:0 5px 5px 0;color:#000;height:100%;width:50%;margin:0;z-index:99}@media (max-width: 1191px){.toggable-sidebar[_ngcontent-%COMP%]{left:-20%}}.mySidenav-show[_ngcontent-%COMP%]{left:0}.btn-toggler[_ngcontent-%COMP%]{position:absolute;right:-45px;top:-3px;background:#81DAAC!important;border-color:#81daac!important;padding:5px!important;font-size:10px!important;width:45px!important}.toggler-btn-icon-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}  .ims-custom-select{width:160px;padding:0 .75rem;font-size:12px;height:23px}.dateFormat[_ngcontent-%COMP%]{width:94%;margin-top:2%;display:inherit}  .custom-form-control{padding:5px!important}  .fa-calendar{right:7px!important}"]}),n})();const iZ=["childModal"],oZ=["addProjection"],nZ=["addSystemFields"],aZ=["addOptionalFields"],sZ=["reportFilter"],lZ=["genericSimpleTable"],cZ=function(n,s){return{rfield:n,idx:s}};function pZ(n,s){if(1&n&&e.GkF(0,82),2&n){const t=s.$implicit,r=s.index;e.oxw();const o=e.MAs(99);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(2,cZ,t,r))}}const dZ=function(n,s,t){return{fld:n,i:s,operatorList:t}};function hZ(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.GkF(1,70),e.TgZ(2,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onDeleteProjection(o.reportObj.projectionfieldFormats,1))}),e._uU(3," Delete Projection "),e.qZA(),e.BQk()}if(2&n){const t=s.$implicit,r=s.index,o=e.oxw(),i=e.MAs(103);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.kEZ(2,dZ,t,r,o.operatorsList))}}const _Z=function(n,s){return{menu:n,idx:s}};function uZ(n,s){if(1&n&&(e.ynx(0),e.GkF(1,70),e.BQk()),2&n){const t=s.$implicit,r=s.index;e.oxw();const o=e.MAs(101);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(2,_Z,t,r))}}function gZ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",83)(1,"div",15)(2,"label",84),e._uU(3,"Field Name"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldName=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Field Id"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldId=o)}),e.qZA()(),e.TgZ(9,"div",15)(10,"label",84),e._uU(11,"Second Field Id"),e.qZA(),e.TgZ(12,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldIdSecond=o)}),e.qZA()(),e.TgZ(13,"div",15)(14,"label",84),e._uU(15,"Control Type"),e.qZA(),e.TgZ(16,"select",86),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.controlType=o)}),e.TgZ(17,"option",87),e._uU(18,"text"),e.qZA(),e.TgZ(19,"option",88),e._uU(20,"multiselect"),e.qZA(),e.TgZ(21,"option",89),e._uU(22,"singleselect"),e.qZA(),e.TgZ(23,"option",90),e._uU(24,"daterange"),e.qZA(),e.TgZ(25,"option",91),e._uU(26,"dropdownmultiselect"),e.qZA(),e.TgZ(27,"option",92),e._uU(28,"dropdown"),e.qZA(),e.TgZ(29,"option",93),e._uU(30,"checkbox"),e.qZA(),e.TgZ(31,"option",94),e._uU(32,"attributes"),e.qZA()()(),e.TgZ(33,"div",15)(34,"label",84),e._uU(35,"Field Type"),e.qZA(),e.TgZ(36,"select",86),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldType=o)}),e.TgZ(37,"option",95),e._uU(38,"string"),e.qZA(),e.TgZ(39,"option",96),e._uU(40,"number"),e.qZA(),e.TgZ(41,"option",97),e._uU(42,"date"),e.qZA(),e.TgZ(43,"option",98),e._uU(44,"boolean"),e.qZA()()(),e.TgZ(45,"div",99)(46,"input",100),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.isFieldDisabled=o)}),e.qZA(),e.TgZ(47,"label",84),e._uU(48,"IsFieldDisabled"),e.qZA()(),e.TgZ(49,"div",15)(50,"label",101),e._uU(51,"Operators"),e.qZA(),e.TgZ(52,"ng-multiselect-dropdown",102),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.operators=o)}),e.qZA()(),e._UZ(53,"br"),e.TgZ(54,"h5"),e._uU(55,"Selection Criteria"),e.qZA(),e.TgZ(56,"div",15)(57,"label",84),e._uU(58,"Selection Type"),e.qZA(),e.TgZ(59,"select",86),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldtype=o)}),e.TgZ(60,"option",103),e._uU(61,"static"),e.qZA(),e.TgZ(62,"option",104),e._uU(63,"dynamic"),e.qZA()()(),e.TgZ(64,"div",15)(65,"label",84),e._uU(66,"FieldValues"),e.qZA(),e.TgZ(67,"field-values",105),e.NdJ("fieldValuesChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldvalues=o)}),e.qZA()(),e.TgZ(68,"div",15)(69,"label",106),e._uU(70,"Value"),e.qZA(),e.TgZ(71,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldvalue=o)}),e.qZA()(),e.TgZ(72,"div",15)(73,"label",84),e._uU(74,"Value Type"),e.qZA(),e.TgZ(75,"select",86),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldvaluetype=o)}),e.TgZ(76,"option",95),e._uU(77,"string"),e.qZA(),e.TgZ(78,"option",96),e._uU(79,"number"),e.qZA(),e.TgZ(80,"option",97),e._uU(81,"date"),e.qZA()()(),e.TgZ(82,"div",15)(83,"label",84),e._uU(84,"DataSource Type:"),e.qZA(),e.TgZ(85,"select",86),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.dataSourceType=o)}),e.TgZ(86,"option",29),e._uU(87,"Local DataSource"),e.qZA(),e.TgZ(88,"option",30),e._uU(89,"Server DataSource"),e.qZA(),e.TgZ(90,"option",31),e._uU(91,"External DataSource"),e.qZA()()(),e.TgZ(92,"div",15)(93,"label",84),e._uU(94,"API URL:"),e.qZA(),e.TgZ(95,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.apiURL=o)}),e.qZA()(),e.TgZ(96,"div",15)(97,"label",84),e._uU(98,"Search URL:"),e.qZA(),e.TgZ(99,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.searchURL=o)}),e.qZA()(),e.TgZ(100,"div",99)(101,"input",100),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.isDbSql=o)}),e.qZA(),e.TgZ(102,"label",84),e._uU(103,"Is Query from Db"),e.qZA(),e._UZ(104,"br"),e.qZA(),e.TgZ(105,"div",15)(106,"label",84),e._uU(107,"Query string "),e.qZA(),e.TgZ(108,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.query=o)}),e.qZA()(),e.TgZ(109,"div",15)(110,"label",84),e._uU(111,"Query api url "),e.qZA(),e.TgZ(112,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldqueryurl=o)}),e.qZA()(),e.TgZ(113,"div",15)(114,"label",84),e._uU(115,"Field value "),e.qZA(),e.TgZ(116,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldValue=o)}),e.qZA()(),e.TgZ(117,"button",12),e.NdJ("click",function(){const o=e.CHM(t),i=o.rfield,a=o.idx,l=e.oxw();return e.KtG(l.deleteSystemField(i,a))}),e._uU(118,"Delete"),e.qZA()()}if(2&n){const t=s.rfield,r=s.idx,o=e.oxw();e.xp6(2),e.MGl("for","fieldName_",r,""),e.xp6(2),e.MGl("id","fieldName_",r,""),e.Q6J("ngModel",t.fieldName),e.xp6(2),e.MGl("for","fieldId_",r,""),e.xp6(2),e.MGl("id","fieldId_",r,""),e.Q6J("ngModel",t.fieldId),e.xp6(2),e.MGl("for","fieldIdSecond_",r,""),e.xp6(2),e.MGl("id","fieldIdSecond_",r,""),e.Q6J("ngModel",t.fieldIdSecond),e.xp6(2),e.MGl("for","controlType_",r,""),e.xp6(2),e.MGl("id","controlType_",r,""),e.Q6J("ngModel",t.controlType),e.xp6(18),e.MGl("for","fieldType_",r,""),e.xp6(2),e.MGl("id","fieldType_",r,""),e.Q6J("ngModel",t.fieldType),e.xp6(10),e.MGl("id","isFieldDisabled_",r,""),e.Q6J("ngModel",t.isFieldDisabled),e.xp6(1),e.MGl("for","isFieldDisabled_",r,""),e.xp6(5),e.MGl("id","operators_",r,""),e.Q6J("data",o.operatorsList)("ngModel",t.operators)("settings",o.dropdownSettings),e.xp6(5),e.MGl("for","fieldtype_",r,""),e.xp6(2),e.MGl("id","fieldtype_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldtype),e.xp6(6),e.MGl("for","fieldvalues_",r,""),e.xp6(2),e.MGl("id","fieldValues_",r,""),e.Q6J("fieldValues",t.fieldSelectionValues.fieldvalues),e.xp6(4),e.MGl("id","fieldvalues_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvalue),e.xp6(2),e.MGl("for","fieldvaluetype_",r,""),e.xp6(2),e.MGl("id","fieldvaluetype_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvaluetype),e.xp6(8),e.MGl("for","datasourceType_",r,""),e.xp6(2),e.MGl("id","dataSourceType_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.dataSourceType),e.xp6(8),e.MGl("for","apiurl_",r,""),e.xp6(2),e.MGl("id","apiUrl_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.apiURL),e.xp6(2),e.MGl("for","searchurl_",r,""),e.xp6(2),e.MGl("id","searchUrl_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.searchURL),e.xp6(2),e.MGl("id","isDbSql_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.isDbSql),e.xp6(1),e.MGl("for","isDbSql_",r,""),e.xp6(4),e.MGl("for","sQuery_",r,""),e.xp6(2),e.MGl("id","sQuery_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.query),e.xp6(2),e.MGl("for","queryUrl",r,""),e.xp6(2),e.MGl("id","queryUrl",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldqueryurl),e.xp6(2),e.MGl("for","fieldvalue",r,""),e.xp6(2),e.MGl("id","fieldvalue",r,""),e.Q6J("ngModel",t.fieldValue)}}function mZ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",107)(1,"div",15)(2,"label",84),e._uU(3,"Menu Name"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).menu;return e.KtG(a.name=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Drill To Report Name"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).menu;return e.KtG(a.reportName=o)}),e.qZA()(),e.TgZ(9,"div",15)(10,"label",84),e._uU(11,"Drill To Report Type"),e.qZA(),e.TgZ(12,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).menu;return e.KtG(a.reportType=o)}),e.qZA()(),e.TgZ(13,"div")(14,"label",84),e._uU(15,"Report Parameters"),e.qZA(),e._UZ(16,"drill-menu",108),e.qZA(),e.TgZ(17,"div")(18,"button",12),e.NdJ("click",function(){const i=e.CHM(t).menu,a=e.oxw();return e.KtG(a.addDrilldownfield(i))}),e._uU(19,"Add"),e.qZA()(),e.TgZ(20,"button",12),e.NdJ("click",function(){const i=e.CHM(t).menu,a=e.oxw();return e.KtG(a.deleteDrilldownMenu(i))}),e._uU(21,"Delete menu"),e.qZA()()}if(2&n){const t=s.menu,r=s.idx;e.xp6(2),e.MGl("for","menuname",r,""),e.xp6(2),e.MGl("id","menuname",r,""),e.Q6J("ngModel",t.name),e.xp6(2),e.MGl("for","reportName",r,""),e.xp6(2),e.MGl("id","reportName",r,""),e.Q6J("ngModel",t.reportName),e.xp6(2),e.MGl("for","reportType",r,""),e.xp6(2),e.MGl("id","reportType",r,""),e.Q6J("ngModel",t.reportType),e.xp6(2),e.MGl("for","reportdrii",r,""),e.xp6(2),e.Q6J("drilldownmenu",t)}}function fZ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",109)(1,"div",15)(2,"label",84),e._uU(3,"Key"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.key=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.title=o)}),e.qZA()(),e.TgZ(9,"div",110)(10,"input",100),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.hidden=o)}),e.qZA(),e.TgZ(11,"label",111),e._uU(12,"hidden"),e.qZA()(),e.TgZ(13,"div",110)(14,"input",100),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.noSearch=o)}),e.qZA(),e.TgZ(15,"label",111),e._uU(16,"No Search"),e.qZA()(),e.TgZ(17,"div",15)(18,"label",84),e._uU(19,"Width"),e.qZA(),e.TgZ(20,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.width=o)}),e.qZA()(),e.TgZ(21,"div",15)(22,"label",84),e._uU(23,"Style"),e.qZA(),e.TgZ(24,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.style=o)}),e.qZA()(),e.TgZ(25,"div",15)(26,"label",84),e._uU(27,"Alignment"),e.qZA(),e.TgZ(28,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.alignment=o)}),e.qZA()(),e.TgZ(29,"div",15)(30,"input",100),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.isListField=o)}),e.qZA(),e.TgZ(31,"label",111),e._uU(32,"is ListField"),e.qZA()(),e.TgZ(33,"div",15)(34,"label",84),e._uU(35,"List FieldName"),e.qZA(),e.TgZ(36,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.listFieldName=o)}),e.qZA()(),e.TgZ(37,"div",15)(38,"label",84),e._uU(39,"Format Type:"),e.qZA(),e.TgZ(40,"select",112),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).fld;return e.KtG(a.formatType=o)}),e.TgZ(41,"option",29),e._uU(42,"Text"),e.qZA(),e.TgZ(43,"option",30),e._uU(44,"Number"),e.qZA(),e.TgZ(45,"option",31),e._uU(46,"Rounding Two Digit"),e.qZA(),e.TgZ(47,"option",113),e._uU(48,"Editable"),e.qZA()()()()}if(2&n){const t=s.fld,r=s.i;e.xp6(2),e.MGl("for","key_",r,""),e.xp6(2),e.MGl("id","Key_",r,""),e.Q6J("ngModel",t.key),e.xp6(2),e.MGl("for","title_",r,""),e.xp6(2),e.MGl("id","title_",r,""),e.Q6J("ngModel",t.title),e.xp6(2),e.MGl("id","hidden_",r,""),e.Q6J("ngModel",t.hidden),e.xp6(1),e.MGl("for","hidden_",r,""),e.xp6(3),e.MGl("id","noSearch_",r,""),e.Q6J("ngModel",t.noSearch),e.xp6(1),e.MGl("for","noSearch_",r,""),e.xp6(3),e.MGl("for","width_",r,""),e.xp6(2),e.MGl("id","width_",r,""),e.Q6J("ngModel",t.width),e.xp6(2),e.MGl("for","style_",r,""),e.xp6(2),e.MGl("id","style_",r,""),e.Q6J("ngModel",t.style),e.xp6(2),e.MGl("for","alignment_",r,""),e.xp6(2),e.MGl("id","alignment_",r,""),e.Q6J("ngModel",t.alignment),e.xp6(2),e.MGl("id","isListField_",r,""),e.Q6J("ngModel",t.isListField),e.xp6(1),e.MGl("for","isListField_",r,""),e.xp6(3),e.MGl("for","listFieldName_",r,""),e.xp6(2),e.MGl("id","listFieldName_",r,""),e.Q6J("ngModel",t.listFieldName),e.xp6(2),e.MGl("for","formatType_",r,""),e.xp6(2),e.MGl("id","formatType_",r,""),e.Q6J("ngModel",t.formatType)}}function SZ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",114)(1,"div",115)(2,"div",15)(3,"label",84),e._uU(4,"Field Name"),e.qZA(),e.TgZ(5,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldName=o)}),e.qZA()(),e.TgZ(6,"div",15)(7,"label",84),e._uU(8,"Field Id"),e.qZA(),e.TgZ(9,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldId=o)}),e.qZA()(),e.TgZ(10,"div",15)(11,"label",84),e._uU(12,"Control Type"),e.qZA(),e.TgZ(13,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.controlType=o)}),e.qZA()(),e.TgZ(14,"div",15)(15,"label",84),e._uU(16,"Field Type"),e.qZA(),e.TgZ(17,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldType=o)}),e.qZA()(),e.TgZ(18,"div",99)(19,"input",100),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.isFieldDisabled=o)}),e.qZA(),e.TgZ(20,"label",84),e._uU(21,"IsFieldDisabled"),e.qZA(),e._UZ(22,"input",116),e.TgZ(23,"label",101),e._uU(24,"Operators"),e.qZA(),e._UZ(25,"input",117),e.TgZ(26,"label",118),e._uU(27,"Selection Criteria"),e.qZA(),e._UZ(28,"input",119),e.TgZ(29,"label",84),e._uU(30,"Selection Type"),e.qZA()(),e.TgZ(31,"div",15)(32,"label",84),e._uU(33,"FieldValues"),e.qZA(),e.TgZ(34,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldtype=o)}),e.qZA()()(),e.TgZ(35,"div",120)(36,"div",15)(37,"label",84),e._uU(38,"Value"),e.qZA(),e.TgZ(39,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldvalues=o)}),e.qZA()(),e.TgZ(40,"div",15)(41,"label",84),e._uU(42,"Value Type"),e.qZA(),e.TgZ(43,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldvalue=o)}),e.qZA()(),e.TgZ(44,"div",15)(45,"label",84),e._uU(46,"Is Query from Db"),e.qZA(),e.TgZ(47,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldvaluetype=o)}),e.qZA()(),e.TgZ(48,"div",15)(49,"input",100),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.isDbSql=o)}),e.qZA()(),e.TgZ(50,"div",15)(51,"label",84),e._uU(52,"Query api url "),e.qZA(),e.TgZ(53,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.fieldqueryurl=o)}),e.qZA()(),e.TgZ(54,"div",15)(55,"label",84),e._uU(56,"Query string "),e.qZA(),e.TgZ(57,"input",85),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).rfield;return e.KtG(a.fieldSelectionValues.query=o)}),e.qZA()()()()}if(2&n){const t=s.rfield,r=s.idx;e.xp6(3),e.MGl("for","fieldName_o",r,""),e.xp6(2),e.MGl("id","fieldName_o",r,""),e.Q6J("ngModel",t.fieldName),e.xp6(2),e.MGl("for","fieldId_o",r,""),e.xp6(2),e.MGl("id","fieldId_o",r,""),e.Q6J("ngModel",t.fieldId),e.xp6(2),e.MGl("for","controlType_o",r,""),e.xp6(2),e.MGl("id","controlType_o",r,""),e.Q6J("ngModel",t.controlType),e.xp6(2),e.MGl("for","fieldtype_o",r,""),e.xp6(2),e.MGl("id","fieldtype_o",r,""),e.Q6J("ngModel",t.fieldType),e.xp6(2),e.MGl("id","isFieldDisabled_o",r,""),e.Q6J("ngModel",t.isFieldDisabled),e.xp6(1),e.MGl("for","isFieldDisabled_o",r,""),e.xp6(8),e.MGl("id","fieldtype_o",r,""),e.xp6(1),e.MGl("for","fieldtype_o",r,""),e.xp6(3),e.MGl("for","fieldvalues_o",r,""),e.xp6(2),e.MGl("id","fieldtype_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldtype),e.xp6(3),e.MGl("for","fieldvalue_o",r,""),e.xp6(2),e.MGl("id","fieldvalues_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvalues),e.xp6(2),e.MGl("for","fieldvaluetype_o",r,""),e.xp6(2),e.MGl("id","fieldvalue_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvalue),e.xp6(2),e.MGl("for","isDbSql_o",r,""),e.xp6(2),e.MGl("id","fieldvaluetype_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvaluetype),e.xp6(2),e.MGl("id","isDbSql_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.isDbSql),e.xp6(2),e.MGl("for","queryUrl",r,""),e.xp6(2),e.MGl("id","queryUrl",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldqueryurl),e.xp6(2),e.MGl("for","sQuery_o",r,""),e.xp6(2),e.MGl("id","sQuery_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.query)}}function vZ(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"div"),e.qZA())}const OZ=function(){return{"text-align":"center","white-space":"normal","background-color":"red"}};function bZ(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"th",121),e._uU(2),e.qZA(),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,OZ)),e.uIk("colspan",t.colspan),e.xp6(1),e.hij(" ",t.groupHeader," ")}}function CZ(n,s){1&n&&e.YNc(0,bZ,3,4,"ng-container",45),2&n&&e.Q6J("ngForOf",s.mergereportHeaders)}function TZ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",125,126),e.NdJ("keyup",function(o){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw().triggerMultiSearch;return e.KtG(a(o,i,!1))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",t.title)}}const W4=function(n){return{"text-align":n}};function MZ(n,s){if(1&n&&(e.TgZ(0,"th",123),e.YNc(1,TZ,3,1,"div",124),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,W4,t.alignment)),e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function AZ(n,s){if(1&n&&(e.ynx(0),e.YNc(1,MZ,2,4,"th",122),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function PZ(n,s){1&n&&e.YNc(0,AZ,2,1,"ng-container",45),2&n&&e.Q6J("ngForOf",s.columns)}function RZ(n,s){if(1&n&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",131),e.qZA()),2&n){const t=s.$implicit,r=e.oxw(3).$implicit;e.xp6(1),e.Q6J("itemObj",t)("item",r)}}function EZ(n,s){if(1&n&&(e.TgZ(0,"div")(1,"ul",130),e.YNc(2,RZ,2,2,"li",45),e.qZA()()),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",r[t.key])}}const yZ=function(n,s,t){return{itemObj:n,item:s,fieldName:t}};function IZ(n,s){if(1&n&&e.GkF(0,70),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj;e.oxw();const o=e.MAs(175);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.kEZ(2,yZ,r,t,t.key))}}function NZ(n,s){if(1&n&&(e.TgZ(0,"td",121),e.YNc(1,EZ,3,1,"div",128),e.YNc(2,IZ,1,6,"ng-template",null,129,e.W1O),e.qZA()),2&n){const t=e.MAs(3),r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,W4,r.alignment)),e.xp6(1),e.Q6J("ngIf",r.isListField)("ngIfElse",t)}}function DZ(n,s){if(1&n&&(e.ynx(0),e.YNc(1,NZ,4,5,"td",127),e.BQk()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function kZ(n,s){1&n&&e.YNc(0,DZ,2,1,"ng-container",45),2&n&&e.Q6J("ngForOf",s.columns)}function FZ(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&n){const t=e.oxw(2),r=t.itemObj,o=t.fieldName,i=t.item;e.xp6(1),e.s9C("title",r[o]),e.Q6J("ngStyle",i.style),e.xp6(1),e.hij(" ",e.xi3(3,3,r[o],i.formatString)," ")}}function jZ(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.ALo(3,"number"),e.qZA()()),2&n){const t=e.oxw(2),r=t.itemObj,o=t.fieldName,i=t.item;e.xp6(1),e.s9C("title",r[o]),e.Q6J("ngStyle",i.style),e.xp6(1),e.hij(" ",e.xi3(3,3,r[o],"1.2-2")," ")}}function LZ(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2),r=t.itemObj,o=t.fieldName,i=t.item;e.xp6(1),e.s9C("title",r[o]),e.Q6J("ngStyle",i.style),e.xp6(1),e.hij(" ",r[o]," ")}}function wZ(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",132),e.YNc(2,FZ,4,6,"div",133),e.YNc(3,jZ,4,6,"div",133),e.YNc(4,LZ,3,3,"div",134),e.qZA()()),2&n){const t=e.oxw().item;e.xp6(1),e.Q6J("ngSwitch",t.formatType),e.xp6(1),e.Q6J("ngSwitchCase",2),e.xp6(1),e.Q6J("ngSwitchCase",3)}}function xZ(n,s){1&n&&e.YNc(0,wZ,5,3,"div",124),2&n&&e.Q6J("ngIf",s.itemObj)}function VZ(n,s){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw().TotalData;e.xp6(1),e.hij(" ",e.xi3(2,1,r[t.key],"1.2-2")," ")}}const WZ=function(n){return{"text-align":n,"background-color":"green"}};function ZZ(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"td",121),e.YNc(2,VZ,3,4,"div",124),e.qZA(),e.BQk()),2&n){const t=s.$implicit,r=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,WZ,t.alignment)),e.xp6(1),e.Q6J("ngIf",r)}}function HZ(n,s){1&n&&e.YNc(0,ZZ,3,4,"ng-container",45),2&n&&e.Q6J("ngForOf",s.columns)}const ki=function(){return{backdrop:"static"}},UZ=function(n){return{fld:n,i:1e3}},Z4=function(n){return{rfield:n,idx:1e3}};let H4=(()=>{class n{constructor(t){this.reportService=t,this.simpleTableSettings=new Mi,this.filterReport=new Ci,this.reportTitle="",this.reportType="",this.currentPage=1,this.genericSimpleTableConfig=new Ai,this.title="ReportFilterWorkspace",this.reportObj=new Ci,this.currentReportParam=new D4,this.DialogMessage="You are not authorized",this.reportList=[],this.totalList=[],this.totalPage=1,this.pageSize=20,this.newSystemField=new Xe,this.newOptionalField=new Xe,this.reportName="",this.reportUser="",this.dropdownSettings={},this.operatorsList=[],this.userReportList=[],this.formatType=Le,this.isFirstLoadReport=!1,this.newProjection=new Ti,this.reportService.apiUrl=$.N.apiUrl.substring(0,$.N.apiUrl.lastIndexOf("/")),this.newSystemField.fieldSelectionValues=new kt,this.newOptionalField.fieldSelectionValues=new kt,this.intializeReportObj(this.reportObj)}intializeReportObj(t){t.fieldgroup=[];var r=new In;r.groupId="SystemFields",r.groupName="SystemFields",r.filterFields=[];var o=new Xe;o.fieldSelectionValues=new kt,r.filterFields.push(o),this.reportObj.fieldgroup.push(r);var i=new In;i.groupId="FilterFields",i.groupName="FilterFields",i.filterFields=[];var a=new Xe;a.fieldSelectionValues=new kt,i.filterFields.push(a),t.fieldgroup.push(i);var l=new Ti;t.projectionfieldFormats=[],t.projectionfieldFormats.push(l),t.drilldownmenus=[],console.log({reportObj:t,operatorslist:this.operatorsList})}applyFilter(t,r=0){var o=this;return(0,le.Z)(function*(){o.isFirstLoadReport=!1,1==r&&(o.currentPage=1,o.pageSize=20,o.isFirstLoadReport=!0),o.DialogMessage="Report Loading please wait......",o.childModal.show(),console.log({reportParamEvent:t});try{o.reportObj.currentPage=o.currentPage,o.reportObj.recordsPerPage=o.pageSize;var i=yield o.reportService.getDynamicReportForDesign(o.reportObj);console.log({reportParamEvent1:t,data:i}),o.reportList=i.result,o.totalList=o.convertPropery(i.result2),console.log({evetdata:t,reportData:i}),o.reportObj.totalItems=i.totalRecord,0==o.reportObj.totalItems&&(o.reportObj.totalItems=o.reportList.length),o.totalPage=Math.abs(o.reportObj.totalItems/o.pageSize)+(o.reportObj.totalItems%o.pageSize>0?1:0),console.log({beforeField:o.reportObj.fieldgroup[0].filterFields[0].fieldId,beforeRepObj:o.reportObj.fieldgroup[0].filterFields[0].fieldValue}),o.simpleTableListConfig(),o.DialogMessage="",o.childModal.hide(),console.log({afterapplyrobject:o.reportObj.fieldgroup[0].filterFields[0].fieldId,afterApplyRObject:o.reportObj.fieldgroup[0].filterFields[0].fieldValue})}catch(a){throw o.DialogMessage="error in loading report",setTimeout(()=>{},2e3),a}})()}applyDrillFilter(t,r=0){var o=this;return(0,le.Z)(function*(){1==r&&(o.currentPage=1,o.pageSize=20),o.DialogMessage="Report Loading please wait......",o.childModal.show(),console.log({reportParamEvent:event});try{t.currentPage=o.currentPage,t.recordsPerPage=o.pageSize;var i=yield o.reportService.getDynamicReportForDesign(t);console.log({reportParamEvent1:event,data:i});var a=i.result,l=o.convertPropery(i.result2);console.log({evetdata:event,reportData:i}),t.totalItems=i.totalRecord,0==t.totalItems&&(t.totalItems=a.length),o.totalPage=Math.abs(t.totalItems/o.pageSize)+(t.totalItems%o.pageSize>0?1:0),console.log({beforeField:t.fieldgroup[0].filterFields[0].fieldId,beforeRepObj:t.fieldgroup[0].filterFields[0].fieldValue}),o.simpleTableListConfigDrill(t,a,l),o.DialogMessage="",o.childModal.hide(),console.log({afterapplyrobject:t.fieldgroup[0].filterFields[0].fieldId,afterApplyRObject:t.fieldgroup[0].filterFields[0].fieldValue})}catch(d){throw o.DialogMessage="error in loading report",setTimeout(()=>{},2e3),d}})()}getNewReport(){}getSelectionList(t){console.log({query:t})}convertPropery(t){try{console.log({toconvert:t});var o,r=Object.keys(t);return console.log({keys:r}),r.forEach(i=>{if(i.length>3&&"sum"==i.slice(0,3).toLowerCase()){let a=i.substring(3,i.length);o[a]=t[i]}else o[i]=t[i]}),console.log({objectConverted:o}),o}catch(i){return console.log({ERROR:i}),t}}onDeleteReport(t){var r=this;return(0,le.Z)(function*(){console.log({dialogEvent:t,newsetting:r.reportFilterSetting})})()}onLoadReport(){this.reportService.getDesignTimeReportParam(this.reportObj.reportName,this.reportObj.reportType,this.reportObj.reportUser).subscribe(r=>{null!=r.result&&(console.log({before:r.result}),this.reportObj=r.result,this.refresh())},r=>{throw this.intializeReportObj(this.reportObj),this.refresh(),this.reportObj.table="error in report fetch, Check the reportname or reporttype or user",console.log({error:r}),r})}getdrillReportForDesign(t,r){this.reportService.getDesignTimeReportParam(t.reportName,t.reportType,this.reportObj.reportUser).subscribe(o=>{if(null!=o.result){console.log({before:o.result});var i=o.result;this.setDrillValues(i,t,r),this.applyDrillFilter(i,1),this.reportObj=i,this.refresh()}},o=>{throw o})}setDrillValues(t,r,o){r.fields.forEach(i=>{"fromfilter"==i.drilldownFieldFrom?this.reportObj.fieldgroup.forEach(a=>a.filterFields.forEach(l=>{l.fieldName==i.drilldownFieldId&&(i.fieldValue=l.fieldValue)})):"fromgrid"==i.drilldownFieldFrom&&(i.fieldValue=o[i.drilldownFieldId])}),t.fieldgroup.forEach(i=>{i.filterFields.forEach(a=>{a.fieldValue=r.fields.find(l=>l.fieldName==a.fieldName)?.fieldValue||""})})}refresh(){this.reportFilterComponent.ReportFilterSetting=this.reportObj,this.reportFilterComponent.seperateSelectedFields()}onSaveReport(t){var r=this;return(0,le.Z)(function*(){r.reportFilterSetting.reportName=t.description,console.log({dialogEvent:t,newsetting:r.reportFilterSetting})})()}downloadExcel(t){var r=this;return(0,le.Z)(function*(){r.currentReportParam=t,r.DialogMessage="Report Downloading please wait......",r.childModal.show()})()}ngOnInit(){this.dropdownSettings={singleSelection:!1,selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:0,allowSearchFilter:!1},this.operatorsList=["is","=","like","notlike","isnot","between","greate than","less than",">","<",">=","<=","in"]}ngAfterViewInit(){}simpleTableListConfig(){this.simpleTableSettings={title:" this.reportTitle",apiEndpoints:"/V2/getProductList",DataSource:this.reportObj.dataSourceType,defaultColumns:this.reportObj.projectionfieldFormats,contextMenus:this.getContextMenu(this.reportObj),LocalData:this.reportList,TotalData:this.totalList,defaultFilterIndex:0,currentPageNo:this.currentPage,pageSize:this.pageSize,totalItems:this.reportObj.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:je.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}simpleTableListConfigDrill(t,r,o){this.isFirstLoadReport=!0,this.simpleTableSettings={title:" this.reportTitle",apiEndpoints:"/V2/getProductList",DataSource:t.dataSourceType,defaultColumns:[],contextMenus:this.getContextMenu(t),LocalData:r,TotalData:o,defaultFilterIndex:0,currentPageNo:t.currentPage,pageSize:this.pageSize,totalItems:t.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:je.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}onActionClick(t){}onPageChange(t){var r=this;return(0,le.Z)(function*(){r.currentPage=t.currentPage;var o=0,i="";null!=t.sortKey&&null!=t.sortOrder&&(r.reportObj.reportSort=`${t.sortKey} ${t.sortOrder}`,o=t.index,i=t.sortOrder,console.log({onPageevent:t,index:o,sortorder:i})),"getData"!=t.triggerFrom&&(r.pageSize=t.pageSize,yield r.applyFilter("")),null!=t.sortKey&&null!=t.sortOrder&&setTimeout(()=>{t.changeSortOrder(i,o)},0),console.log({pagechangeEvent:t})})()}getContextMenu(t){return t.drilldownmenus}onColumnSettingChange(t){var r=t.filter(i=>1==i.dirty),o={reportName:this.reportObj.reportName,reportType:this.reportObj.reportType,reportUser:this.reportObj.reportUser,columns:r};console.log({columnSaveObject:o}),this.reportService.saveColumnSetting("",o).subscribe(i=>{console.log(i)},i=>{throw console.log(i),i})}onContextMenuClick(t){console.log({event:t}),this.getdrillReportForDesign(t.menuName,t.item)}onProjectionAdd(){this.newProjection=new Ti,this.addProjectionModal.show()}onDeleteProjection(t,r){t.splice(r-1,1)}newProjectionHide(){this.addProjectionModal.hide(),this.reportObj.projectionfieldFormats.push(this.newProjection),console.log({projectionadded:"added",projections:this.reportObj.projectionfieldFormats})}onSystemFieldAdd(){this.newSystemField=new Xe,this.newSystemField.fieldgroupName="SystemFields",this.newSystemField.fieldSelectionValues=new kt,this.addSystemFieldModal.show()}newSystemFieldSave(){this.addSystemFieldModal.hide(),this.reportObj.fieldgroup[0].filterFields.push(this.newSystemField),this.refresh(),console.log({projectionadded:"added",projections:this.reportObj.fieldgroup[0].filterFields})}deleteSystemField(t,r){this.reportObj.fieldgroup[0].filterFields.splice(r,1)}onOptionalFieldAdd(){this.newOptionalField=new Xe,this.newOptionalField.fieldgroupName="FilterFields",this.newOptionalField.fieldSelectionValues=new kt,this.addOptionalFieldModal.show()}newOptionalFieldSave(){this.addOptionalFieldModal.hide(),this.reportObj.fieldgroup[1].filterFields.push(this.newSystemField),this.refresh(),console.log({projectionadded:"added",projections:this.reportObj.fieldgroup[1].filterFields})}saveReportObject(){var t=this;return(0,le.Z)(function*(){t.reportService.authToken="abc";var r=yield t.reportService.saveDesignTimeReportParam(t.reportObj);alert("Report Saved"),console.log({tosaveReportObject:t.reportObj,savedReportParam:r})})()}addDrilldownMenu(){var t=new N4;t.fields=[],this.reportObj.drilldownmenus.push(t)}deleteDrilldownMenu(t){var r=this.reportObj.drilldownmenus.findIndex(o=>o.name=t.name);this.reportObj.drilldownmenus.splice(r,1)}addDrilldownfield(t){var r=new Xe;t.fields||(t.fields=[]),t.fields.push(r),console.log({driilmenu:t,reportObje:this.reportObj})}deleteDrilldownfield(t,r){var o=t.fields.findIndex(i=>i.fieldId==r.fieldId);t.fields.splice(o,1)}arrayToOperatorList(t){}deleteReport(t){console.log({onDeleteReport:event})}toggleAccordian(t){var r=t.target;console.log("event value",t),r.parentElement.classList.toggle("active")}toggleReport(t,r){t.target.parentElement.classList.toggle("reportOption")}selectChangeHandler(t){this.reportFilterComponent.seperateSelectedFields()}onItemSelect(t,r){console.log({event:t,fld:r})}onMultiSelect(t,r){console.log({event:t,fld:r})}downloadExecl(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ht))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-designer"]],viewQuery:function(t,r){if(1&t&&(e.Gf(iZ,5),e.Gf(oZ,5),e.Gf(nZ,5),e.Gf(aZ,5),e.Gf(sZ,5),e.Gf(lZ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.addProjectionModal=o.first),e.iGM(o=e.CRH())&&(r.addSystemFieldModal=o.first),e.iGM(o=e.CRH())&&(r.addOptionalFieldModal=o.first),e.iGM(o=e.CRH())&&(r.reportFilterComponent=o.first),e.iGM(o=e.CRH())&&(r.simpleTable=o.first)}},decls:178,vars:40,consts:[[1,"container"],[1,"row",2,"padding-top","20px"],[1,"col-lg-3"],[3,"ReportFilterSetting","UserReportList","ClickFilter","downloadExcel","SaveReport","DeleteReport"],["reportFilter",""],[1,"col-md-9"],[3,"simpleTableConfig","mergeHeaderTemplate","SearchHeaderTemplate","TableDataTemplate","FooterTemplate","onActionClick","onCurrentPageChange","columnSettingChange","onContextMenu"],["genericSimpleTable",""],[1,"row"],["type","text","id","reportName",3,"ngModel","ngModelChange"],["type","text","id","reportType",3,"ngModel","ngModelChange"],["type","text","id","reportUser",3,"ngModel","ngModelChange"],[3,"click"],[1,"row",2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","margin-top","15px","margin-bottom","20px"],[1,"col-lg-4"],[1,"form-group"],["for","queryType"],["id","queryType","placeholder","QueryType",1,"form-control",3,"ngModel","ngModelChange"],["value","parameterquery"],["value","storedprocedure"],["value","consolidatedstoredprocedure"],["value","rawquery"],["value","api"],["for","querySplit"],["id","querySplit","type","text","placeholder","Spllit table on",1,"form-control",3,"ngModel","ngModelChange"],["for","reportSort"],["id","reportSort","type","text","placeholder","Sort Report by",1,"form-control",3,"ngModel","ngModelChange"],["for","dataSourceType"],["id","dataSourceType","placeholder","DataSource",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["for","FiscalBeginDate"],["id","FiscalBeginDate","type","text","placeholder","Fiscal Year Begin",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-8"],["for","Query"],["id","Query","rows","8",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"row",2,"height","600px"],[1,"col-lg-4",2,"border","1px solid black"],[2,"text-align","center"],[1,"row",2,"overflow","scroll","height","500px","margin-bottom","30px"],[1,"row",2,"width","100%"],["style","width: -webkit-fill-available",3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[1,"row",2,"margin-bottom","15px"],[1,"btn","btn-info",3,"click"],[4,"ngFor","ngForOf"],[1,"row",2,"align-content","center"],[1,"btn","btn-info",2,"text-align","center",3,"click"],[2,"position","sticky"],[1,"row",2,"height","500px","overflow","scroll","margin-bottom","30px"],[1,"btn","btn-info",2,"margin-bottom","10 px","padding","10px",3,"click"],[1,"row",2,"margin-top","35px"],[1,"col-lg-12"],[1,"btn","btn-info",2,"margin-left","15px",3,"click"],["RequiredFields",""],["drilldownTemplate",""],["projectionField",""],["OptionalFields",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","mySmallModalLabel","aria-hidden","true",1,"modal","fade",3,"config"],["childModal","bs-modal"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-title"],[1,"modal-body"],["addProjection","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content",2,"height","655px","overflow-x","hidden","overflow-y","auto"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["addSystemFields","bs-modal"],[1,"btn","btn-info",2,"margin-top","15px",3,"click"],[1,"btn","btn-info",2,"margin-left","15px","margin-top","15px",3,"click"],["addOptionalFields","bs-modal"],[1,"btn","btn-info",2,"margin-top","15px","margin-left","15px",3,"click"],["datePicker",""],["mergeHeaderTemplate",""],["SearchHeaderTemplate",""],["TableDataTemplate",""],["dataColumnTemplate",""],["FooterTemplate",""],[2,"width","-webkit-fill-available",3,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px 15px 1px 15px","width","100%","margin-bottom","20px"],[3,"for"],["type","text",1,"form-control",3,"id","ngModel","ngModelChange"],[1,"form-control",3,"id","ngModel","ngModelChange"],["value","text"],["value","multiselect"],["value","singleselect"],["value","daterange"],["value","dropdownmultiselect"],["value","dropdown"],["value","checkbox"],["value","attributes"],["value","string"],["value","number"],["value","date"],["value","boolean"],[1,"form-group","checkbox"],["type","checkbox",3,"id","ngModel","ngModelChange"],["for","operators"],[3,"data","id","ngModel","settings","ngModelChange"],["value","static"],["value","dynamic"],[3,"id","fieldValues","fieldValuesChange"],["for","fieldvalue"],[2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px 15px 1px 15px","width","-webkit-fill-available","margin-bottom","20px"],[3,"drilldownmenu"],[1,"projectionFieldWrapper",2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","margin-bottom","20px","width","-webkit-fill-available"],[1,"form-group",2,"margin-bottom","0"],[2,"margin-left","10px",3,"for"],["placeholder","QueryType",1,"form-control",3,"id","ngModel","ngModelChange"],["value","3"],[1,"d-flex",2,"justify-content","space-between","box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","width","-webki-fill-available"],[1,"left-optfield",2,"flex","0 0 49%"],["type","checkbox","id","operators"],["type","checkbox","id","SelectionCriteria"],["for","SelectionCriteria"],["type","checkbox",3,"id"],[1,"right-OptField",2,"flex","0 0 49%"],[3,"ngStyle"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],[4,"ngIf"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","10px 0px 10px 3px","background-color","aqua",3,"placeholder","keyup"],["inputBox",""],[3,"ngStyle",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"title","ngStyle"]],template:function(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"report-filter",3,4),e.NdJ("ClickFilter",function(a){return r.applyFilter(a,1)})("downloadExcel",function(a){return r.downloadExcel(a)})("SaveReport",function(a){return r.onSaveReport(a)})("DeleteReport",function(a){return r.onDeleteReport(a)}),e.qZA()(),e.TgZ(5,"div",5)(6,"report-grid",6,7),e.NdJ("onActionClick",function(a){return r.onActionClick(a)})("onCurrentPageChange",function(a){return r.onPageChange(a)})("columnSettingChange",function(a){return r.onColumnSettingChange(a)})("onContextMenu",function(a){return r.onContextMenuClick(a)}),e.qZA()()(),e.TgZ(8,"div",8)(9,"span")(10,"span"),e._uU(11,"Report Name"),e.TgZ(12,"span")(13,"input",9),e.NdJ("ngModelChange",function(a){return r.reportObj.reportName=a}),e.qZA()()(),e.TgZ(14,"span"),e._uU(15,"Report Type"),e.TgZ(16,"span")(17,"input",10),e.NdJ("ngModelChange",function(a){return r.reportObj.reportType=a}),e.qZA()()(),e.TgZ(18,"span"),e._uU(19,"Report User"),e.TgZ(20,"span")(21,"input",11),e.NdJ("ngModelChange",function(a){return r.reportObj.reportUser=a}),e.qZA()()(),e.TgZ(22,"span")(23,"button",12),e.NdJ("click",function(){return r.onLoadReport()}),e._uU(24,"Load Report"),e.qZA()()()(),e.TgZ(25,"div",13)(26,"div",14)(27,"div",15)(28,"label",16),e._uU(29,"Query Type : "),e.qZA(),e.TgZ(30,"select",17),e.NdJ("ngModelChange",function(a){return r.reportObj.queryType=a}),e.TgZ(31,"option",18),e._uU(32,"parameterquery"),e.qZA(),e.TgZ(33,"option",19),e._uU(34,"storedprocedure"),e.qZA(),e.TgZ(35,"option",20),e._uU(36,"consolidatedstoredprocedure"),e.qZA(),e.TgZ(37,"option",21),e._uU(38,"rawquery"),e.qZA(),e.TgZ(39,"option",22),e._uU(40,"api"),e.qZA()()(),e.TgZ(41,"div",15)(42,"label",23),e._uU(43,"Split Table on : "),e.qZA(),e.TgZ(44,"input",24),e.NdJ("ngModelChange",function(a){return r.reportObj.querySplit=a}),e.qZA()(),e.TgZ(45,"div",15)(46,"label",25),e._uU(47,"Report Sort : "),e.qZA(),e.TgZ(48,"input",26),e.NdJ("ngModelChange",function(a){return r.reportObj.reportSort=a}),e.qZA()(),e.TgZ(49,"div",15)(50,"label",27),e._uU(51,"DataSource Type : "),e.qZA(),e.TgZ(52,"select",28),e.NdJ("ngModelChange",function(a){return r.reportObj.dataSourceType=a}),e.TgZ(53,"option",29),e._uU(54,"Local DataSource"),e.qZA(),e.TgZ(55,"option",30),e._uU(56,"Server DataSource"),e.qZA(),e.TgZ(57,"option",31),e._uU(58,"External DataSource"),e.qZA()()(),e.TgZ(59,"div",15)(60,"label",32),e._uU(61,"Fiscal Year Begin Date : "),e.qZA(),e.TgZ(62,"input",33),e.NdJ("ngModelChange",function(a){return r.reportObj.fiscalBeginDate=a}),e.qZA()()(),e.TgZ(63,"div",34)(64,"div",15)(65,"label",35),e._uU(66,"Query"),e.qZA(),e.TgZ(67,"textarea",36),e.NdJ("ngModelChange",function(a){return r.reportObj.table=a}),e.qZA()()()(),e.TgZ(68,"div",37)(69,"div",38)(70,"div",8)(71,"h2",39),e._uU(72,"Filter Fields"),e.qZA()(),e.TgZ(73,"div",40)(74,"div",41),e.YNc(75,pZ,1,5,"ng-container",42),e.qZA()(),e.TgZ(76,"div",43)(77,"button",44),e.NdJ("click",function(){return r.onSystemFieldAdd()}),e._uU(78," Add Filter "),e.qZA()()(),e.TgZ(79,"div",38)(80,"h2",39),e._uU(81,"Projection Fields"),e.qZA(),e.TgZ(82,"div",40),e.YNc(83,hZ,4,6,"ng-container",45),e.qZA(),e.TgZ(84,"div",46)(85,"button",47),e.NdJ("click",function(){return r.onProjectionAdd()}),e._uU(86," Add Projection "),e.qZA()()(),e.TgZ(87,"div",38)(88,"h2",48),e._uU(89,"Drilldown Menu"),e.qZA(),e.TgZ(90,"div",49),e.YNc(91,uZ,2,5,"ng-container",45),e.qZA(),e.TgZ(92,"button",50),e.NdJ("click",function(){return r.addDrilldownMenu()}),e._uU(93," Add Drilldown "),e.qZA()()(),e.TgZ(94,"div",51)(95,"div",52)(96,"button",53),e.NdJ("click",function(){return r.saveReportObject()}),e._uU(97," Save Report Object "),e.qZA()()()(),e.YNc(98,gZ,119,54,"ng-template",null,54,e.W1O),e.YNc(100,mZ,22,11,"ng-template",null,55,e.W1O),e.YNc(102,fZ,49,30,"ng-template",null,56,e.W1O),e.YNc(104,SZ,58,37,"ng-template",null,57,e.W1O),e.TgZ(106,"div",58,59)(108,"div",60)(109,"div",61)(110,"div",62)(111,"button",63),e.NdJ("click",function(){e.CHM(o);const a=e.MAs(107);return e.KtG(a.hide())}),e.TgZ(112,"span",64),e._uU(113,"\xd7"),e.qZA()(),e.TgZ(114,"h4",65),e._uU(115,"Information18"),e.qZA()(),e.TgZ(116,"div",66),e._uU(117),e.qZA()()()(),e.TgZ(118,"div",58,67)(120,"div",68)(121,"div",69)(122,"div",62)(123,"h4",65),e._uU(124,"Add Projection"),e.qZA(),e.TgZ(125,"button",63),e.NdJ("click",function(){return r.addProjectionModal.hide()}),e.TgZ(126,"span",64),e._uU(127,"\xd7"),e.qZA()()(),e.TgZ(128,"div",66),e.GkF(129,70),e.TgZ(130,"button",44),e.NdJ("click",function(){return r.newProjectionHide()}),e._uU(131,"Save"),e.qZA(),e.TgZ(132,"button",53),e.NdJ("click",function(){return r.addProjectionModal.hide()}),e._uU(133," Cancel "),e.qZA()()()()(),e.TgZ(134,"div",58,71)(136,"div",68)(137,"div",69)(138,"div",62)(139,"h4",65),e._uU(140,"Add System Fields"),e.qZA(),e.TgZ(141,"button",63),e.NdJ("click",function(){return r.addSystemFieldModal.hide()}),e.TgZ(142,"span",64),e._uU(143,"\xd7"),e.qZA()()(),e.TgZ(144,"div",66),e.GkF(145,70),e.TgZ(146,"button",72),e.NdJ("click",function(){return r.newSystemFieldSave()}),e._uU(147," Save "),e.qZA(),e.TgZ(148,"button",73),e.NdJ("click",function(){return r.addSystemFieldModal.hide()}),e._uU(149," Cancel "),e.qZA()()()()(),e.TgZ(150,"div",58,74)(152,"div",68)(153,"div",61)(154,"div",62)(155,"h4",65),e._uU(156,"Add Optional Fields"),e.qZA(),e.TgZ(157,"button",63),e.NdJ("click",function(){return r.addOptionalFieldModal.hide()}),e.TgZ(158,"span",64),e._uU(159,"\xd7"),e.qZA()()(),e.TgZ(160,"div",66),e.GkF(161,70),e.TgZ(162,"button",72),e.NdJ("click",function(){return r.newOptionalFieldSave()}),e._uU(163," Save "),e.qZA(),e.TgZ(164,"button",75),e.NdJ("click",function(){return r.addOptionalFieldModal.hide()}),e._uU(165," Cancel "),e.qZA()()()()(),e.YNc(166,vZ,2,0,"ng-template",null,76,e.W1O),e.YNc(168,CZ,1,1,"ng-template",null,77,e.W1O),e.YNc(170,PZ,1,1,"ng-template",null,78,e.W1O),e.YNc(172,kZ,1,1,"ng-template",null,79,e.W1O),e.YNc(174,xZ,1,1,"ng-template",null,80,e.W1O),e.YNc(176,HZ,1,1,"ng-template",null,81,e.W1O)}if(2&t){const o=e.MAs(99),i=e.MAs(103),a=e.MAs(169),l=e.MAs(171),d=e.MAs(173),c=e.MAs(177);e.xp6(3),e.Q6J("ReportFilterSetting",r.reportObj)("UserReportList",r.userReportList),e.xp6(3),e.Q6J("simpleTableConfig",r.genericSimpleTableConfig)("mergeHeaderTemplate",a)("SearchHeaderTemplate",l)("TableDataTemplate",d)("FooterTemplate",c),e.xp6(7),e.Q6J("ngModel",r.reportObj.reportName),e.xp6(4),e.Q6J("ngModel",r.reportObj.reportType),e.xp6(4),e.Q6J("ngModel",r.reportObj.reportUser),e.xp6(9),e.Q6J("ngModel",r.reportObj.queryType),e.xp6(14),e.Q6J("ngModel",r.reportObj.querySplit),e.xp6(4),e.Q6J("ngModel",r.reportObj.reportSort),e.xp6(4),e.Q6J("ngModel",r.reportObj.dataSourceType),e.xp6(10),e.Q6J("ngModel",r.reportObj.fiscalBeginDate),e.xp6(5),e.Q6J("ngModel",r.reportObj.table),e.xp6(8),e.Q6J("ngForOf",r.reportObj.fieldgroup[0].filterFields),e.xp6(8),e.Q6J("ngForOf",r.reportObj.projectionfieldFormats),e.xp6(8),e.Q6J("ngForOf",r.reportObj.drilldownmenus),e.xp6(15),e.Q6J("config",e.DdM(30,ki)),e.xp6(11),e.Oqu(r.DialogMessage),e.xp6(1),e.Q6J("config",e.DdM(31,ki)),e.xp6(11),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(32,UZ,r.newProjection)),e.xp6(5),e.Q6J("config",e.DdM(34,ki)),e.xp6(11),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(35,Z4,r.newSystemField)),e.xp6(5),e.Q6J("config",e.DdM(37,ki)),e.xp6(11),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(38,Z4,r.newOptionalField))}},dependencies:[qe.oB,f.sg,f.O5,f.tP,f.PC,f.RF,f.n9,f.ED,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,ne.O,dt,pt,Vt,f.JJ,f.uU],styles:["@media (min-width: 1400px) {\n      .container[_ngcontent-%COMP%] {\n        max-width: 1340px;\n      }\n    }\n    .checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n      margin-left: 5px;\n      margin-right: 10px;\n    }\n\n    .container[_ngcontent-%COMP%]{\n        height: 80vh;\n        overflow: auto;\n    }\n\n    label[_ngcontent-%COMP%]{\n      width: 100px;\n    }"]}),n})();const BZ=v.Bz.forChild([{path:"",component:ie,children:[{path:"reportmain",component:M,canActivate:[C.C]},{path:"closingStock",component:M,canActivate:[C.C]},{path:"purchasebookreport",component:M,canActivate:[C.C]},{path:"salesreport-itemwise",component:M,canActivate:[C.C]},{path:"salesbook-report",component:M,canActivate:[C.C]},{path:"SalesReportProductTypeWise",component:M,canActivate:[C.C]},{path:"PurchaseReportProductTypeWise",component:M,canActivate:[C.C]},{path:"SalesReportCategoryWise",component:M,canActivate:[C.C]},{path:"PurchaseReportCategoryWise",component:M,canActivate:[C.C]},{path:"saleseregisterreport-dialog",component:M,canActivate:[C.C]},{path:"purchasereport-itemwise",component:M,canActivate:[C.C]},{path:"salesreport-itemwise-detail",component:M,canActivate:[C.C]},{path:"purchasereport-itemwise-detail",component:M,canActivate:[C.C]},{path:"creditnotebook-report",component:M,canActivate:[C.C]},{path:"debitnotebook-report",component:M,canActivate:[C.C]},{path:"purchasereport-supplierwise",component:M,canActivate:[C.C]},{path:"salesreport-customerwise",component:M,canActivate:[C.C]},{path:"salesreport-supplierwise",component:M,canActivate:[C.C]},{path:"salesregisterreport-dialog",component:M,canActivate:[C.C]},{path:"purchaseRegisterReport",component:M,canActivate:[C.C]},{path:"onelakhpurchasereport",component:M,canActivate:[C.C]},{path:"onelakhsalesreport",component:M,canActivate:[C.C]},{path:"stock-summary-report",component:M,canActivate:[C.C]},{path:"requisition-approval-report",component:M,canActivate:[C.C]},{path:"report-master",component:V4,canActivate:[C.C]},{path:"report-designer",component:H4,canActivate:[C.C]},{path:"stock-ledger-report",component:M,canActivate:[C.C]},{path:"stock-valuation-report",component:M,canActivate:[C.C]},{path:"membershippointreport",component:M,canActivate:[C.C]},{path:"datereport",component:M,canActivate:[C.C]},{path:"transreport",component:M,canActivate:[C.C]},{path:"branch-transfer-report",component:M,canActivate:[C.C]},{path:"item-expiry-report",component:M,canActivate:[C.C]},{path:"max-stocklevel-report",component:M,canActivate:[C.C]},{path:"minimum-stocklevel-report",component:M,canActivate:[C.C]},{path:"reorder-levelstock-report",component:M,canActivate:[C.C]},{path:"stock-abcanalysis-report",component:M,canActivate:[C.C]},{path:"price-changelog-report",component:M,canActivate:[C.C]},{path:"salesprofitability-analysis",component:M,canActivate:[C.C]},{path:"purchaseorderreport",component:M,canActivate:[C.C]},{path:"purchaseorder-outstanding",component:M,canActivate:[C.C]},{path:"quotationreport",component:M,canActivate:[C.C]},{path:"salesorderreport",component:M,canActivate:[C.C]},{path:"salesorderoutstanding",component:M,canActivate:[C.C]},{path:"currentstock-warehousewise",component:M,canActivate:[C.C]},{path:"grn-report",component:M,canActivate:[C.C]},{path:"repack-report",component:M,canActivate:[C.C]},{path:"requisition-report",component:M,canActivate:[C.C]},{path:"raw-data-report",component:M,canActivate:[C.C]},{path:"recurring-transaction-report",component:M,canActivate:[C.C]},{path:"recurring-transaction-analysis-report",component:M,canActivate:[C.C]},{path:"report-master",component:V4,canActivate:[C.C]},{path:"stockageing-report",component:M,canActivate:[C.C]},{path:"branch-transferout-vs-inreport",component:M,canActivate:[C.C]},{path:"stock-report-warehouse-wise",component:M,canActivate:[C.C]},{path:"consolidatedpurchase-report-branchwise",component:M,canActivate:[C.C]},{path:"consolidatedsales-report-branchwise",component:M,canActivate:[C.C]},{path:"consolidatedstock-report-branchwise",component:M,canActivate:[C.C]},{path:"branch-transfer-inreport-itemwise",component:M,canActivate:[C.C]},{path:"branch-transferout-itemwise",component:M,canActivate:[C.C]},{path:"sales-collection-report",component:M,canActivate:[C.C]},{path:"openingstockreport",component:M,canActivate:[C.C]},{path:"rate-group-report",component:M,canActivate:[C.C]},{path:"salesprice-changelog-report",component:M,canActivate:[C.C]},{path:"openingstock-report",component:M,canActivate:[C.C]},{path:"salesprice-changelog-report",component:M,canActivate:[C.C]},{path:"vat-saleseregisterreport-new",component:M,canActivate:[C.C]},{path:"vat-purchaseregisterreport-new",component:M,canActivate:[C.C]},{path:"stock-issue-report",component:M,canActivate:[C.C]},{path:"credit-note-sales-return-report",component:M,canActivate:[C.C]},{path:"vat-other-adjustment-report",component:M,canActivate:[C.C]},{path:"debitnote-purchasereturn-report",component:M,canActivate:[C.C]},{path:"shift-close-report",component:M,canActivate:[C.C]},{path:"stock-variance-report",component:M,canActivate:[C.C]},{path:"salesrevenue-analysisreport",component:M,canActivate:[C.C]},{path:"salesreport-salesmanwise",component:M,canActivate:[C.C]},{path:"salesreport-membershipwise",component:M,canActivate:[C.C]},{path:"proformainvoicereport",component:M,canActivate:[C.C]},{path:"sales-flow-report-monthwise",component:M,canActivate:[C.C]},{path:"purchase-flow-report-monthwise",component:M,canActivate:[C.C]},{path:"annexure13report",component:M,canActivate:[C.C]},{path:"worsesales-analysisreport",component:M,canActivate:[C.C]},{path:"topnsales-analysisreport",component:M,canActivate:[C.C]},{path:"sales-revenue-metrics-report",component:M,canActivate:[C.C]},{path:"hourly-sales-report",component:M,canActivate:[C.C]},{path:"report-designer",component:H4,canActivate:[C.C]}]}]);var ve=S(85864);function JZ(n,s){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function YZ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,JZ,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let qZ=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Order Detail",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYTYPE:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportparam.COMPANYTYPE=this.masterService.userProfile.CompanyInfo.ORG_TYPE;let t=this.calendarForm.value;this.repObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-detail-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Order Detail Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,YZ,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})(),GZ=(()=>{class n{constructor(t,r,o,i){this.masterService=t,this._transactionService=r,this.fb=o,this.reportMainService=i,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",division:"",REPMODE:0}},this.reportdataEmit=new e.vpe,this.ClosingStockReport={},this.repObj.reportparam.division=this.masterService.userProfile.userDivision,this.masterService.reportName="Closing Stock",this.reportMainService.reportName="Closing Stock",this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ClosingStockReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.ClosingStockReport.DATE1,"AD"),this.ClosingStockReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.ClosingStockReport.DATE,"AD"),this.ranges=this.masterService.dateFilterRange}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.ClosingStockReport.BSDATE1=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.ClosingStockReport.DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.ClosingStockReport.BSDATE2=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.ClosingStockReport.DATE=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}onload(){this.repObj.reportname="Closing Stock",this.repObj.reportparam.REPMODE="0"==this.REPORTMODE?0:1,this.repObj.reportparam.DATE2=this.ClosingStockReport.DATE,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.repObj})}ngOnInit(){}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["closing-stock"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:37,vars:2,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#ffffff"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"smallBoldLabel"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Closing Stock Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"fieldset")(16,"legend",11),e._uU(17,"Date Range Selection :"),e.qZA(),e.TgZ(18,"table")(19,"tr")(20,"td")(21,"label",12),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",12)(26,"input",13),e.NdJ("ngModelChange",function(i){return r.ClosingStockReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(27,"tr")(28,"td")(29,"label",12)(30,"input",14),e.NdJ("ngModelChange",function(i){return r.ClosingStockReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()()()()()(),e._UZ(31,"hr",15),e.TgZ(32,"div",16)(33,"button",17),e.NdJ("click",function(){return r.onload()}),e._uU(34,"RUN"),e.qZA(),e.TgZ(35,"button",18),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(36,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.ClosingStockReport.DATE),e.xp6(4),e.Q6J("ngModel",r.ClosingStockReport.BSDATE2))},dependencies:[p.Fj,p.JJ,p.On],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function QZ(n,s){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function KZ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,QZ,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let $Z=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Invoice Detail",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYTYPE:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportparam.COMPANYTYPE=this.masterService.userProfile.CompanyInfo.ORG_TYPE;let t=this.calendarForm.value;this.repObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-invoice-detail-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Invoice Detail Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,KZ,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function XZ(n,s){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function eH(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.PHISCALID=o)}),e.YNc(4,XZ,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let tH=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.reportdataEmit=new e.vpe,this.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.reportdataEmit.emit({status:"ok",data:{reportname:"Customer Wise Item Sales Detail",reportparam:{PHISCALID:this.PHISCALID,COMPANYTYPE:this.masterService.userProfile.CompanyInfo.ORG_TYPE,DATE1:k()(t.selectedDate.startDate).format("MM-DD-YYYY"),DATE2:k()(t.selectedDate.endDate).format("MM-DD-YYYY")}}})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["customer-wise-item-sales-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Customerwise item sales Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,eH,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function rH(n,s){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function iH(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dailySalesObj.reportparam.PHISCALID=o)}),e.YNc(4,rH,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.dailySalesObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let oH=(()=>{class n{constructor(t,r,o){this.masterService=t,this._transactionService=r,this.fb=o,this.dailySalesObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.dailySalesObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.dailySalesObj.reportname="DAILY SALES REPORT";let t=this.calendarForm.value;this.dailySalesObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.dailySalesObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.dailySalesObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.dailySalesObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["daily-sales-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Daily Sales Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,iH,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})(),nH=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.reportObj={reportname:"STOCK SETTLEMENT",reportparam:{DATE1:"",DATE2:""}},this.reportdataEmit=new e.vpe,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.reportObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-settlement-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:4,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Stock Settlement Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(15),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function aH(n,s){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function sH(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,aH,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let lH=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"PURCHASE RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-return-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Return Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,sH,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function cH(n,s){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function pH(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,cH,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let dH=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportname="SALES ORDER";let t=this.calendarForm.value;this.repObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-order-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Order Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,pH,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function hH(n,s){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function _H(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,hH,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let uH=(()=>{class n{constructor(t,r,o){this.masterService=t,this._transactionService=r,this.fb=o,this.repObj={reportname:"CUSTOMERWISE SALES RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["customerwise-salesreturn-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," CustomerWise SalesReturn Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,_H,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function gH(n,s){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function mH(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportObj.reportparam.PHISCALID=o)}),e.YNc(4,gH,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.reportObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let fH=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.reportObj={reportname:"SALES RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.reportObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.reportObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesreturn-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Return Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,mH,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function SH(n,s){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function vH(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,SH,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let OH=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Order Summary",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-summary"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Order Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,vH,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function bH(n,s){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function CH(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,bH,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let TH=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Summary",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-summary"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,CH,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function MH(n,s){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function AH(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportObj.reportparam.PHISCALID=o)}),e.YNc(4,MH,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.reportObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let PH=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.reportObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.reportObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.reportObj.reportname="Sales Return Summary";let t=this.calendarForm.value;this.reportObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-return-summary"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Return Summary Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,AH,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const RH=["division"];function EH(n,s){if(1&n&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let yH=(()=>{class n{constructor(t,r,o,i){if(this.masterService=t,this._trnMainService=r,this._alertService=o,this._authService=i,this.purchaseRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var a=new Date;a.setMonth(a.getMonth()-1),this.purchaseRegisterReport.DATE1=a.toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD")}else this.purchaseRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.purchaseRegisterReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD")):(this.purchaseRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD")),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.purchaseRegisterReport.isPI=!0,this.purchaseRegisterReport.isCP=!0,this.purchaseRegisterReport.isDN=!0,this.purchaseRegisterReport.isCN=!0;var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const d=new Date;this.currDate=(0,f.p6)(d,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.purchaseRegisterReport.V1=1==this.purchaseRegisterReport.isPI?"PI":"",this.purchaseRegisterReport.V3=1==this.purchaseRegisterReport.isCP?"CP":"",this.purchaseRegisterReport.V2=1==this.purchaseRegisterReport.isDN?"DN":"",this.purchaseRegisterReport.V4=1==this.purchaseRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:t,data:{reportname:"VAT Purchase Register Report",reportparam:{DATE1:this.purchaseRegisterReport.DATE1,DATE2:this.purchaseRegisterReport.DATE,DIVISION:this.purchaseRegisterReport.DIV?this.purchaseRegisterReport.DIV:"%",PHISCALID:this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:" ",V1:this.purchaseRegisterReport.V1,V2:this.purchaseRegisterReport.V2,V3:this.purchaseRegisterReport.V3}}})}divisionChanged(){this.purchaseRegisterReport.DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.purchaseRegisterReport.BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.purchaseRegisterReport.DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.purchaseRegisterReport.BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.purchaseRegisterReport.DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["result-purchaseregisterreport-dialog"]],viewQuery:function(t,r){if(1&t&&e.Gf(RH,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:60,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","100%"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Purchase Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.purchaseRegisterReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.purchaseRegisterReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DIV=i})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,EH,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"div",19)(44,"label",20)(45,"input",21),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isPI=i}),e.qZA(),e._uU(46," Trading Purchase Transaction "),e.qZA()(),e.TgZ(47,"div",22)(48,"label",20)(49,"input",23),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isCP=i}),e.qZA(),e._uU(50," Capital Purchase Transaction "),e.qZA()(),e.TgZ(51,"div",22)(52,"label",20)(53,"input",23),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isDN=i}),e.qZA(),e._uU(54," Debit Note Transaction "),e.qZA()()(),e.TgZ(55,"div",24)(56,"button",25),e.NdJ("click",function(){return r.onload()}),e._uU(57,"RUN"),e.qZA(),e.TgZ(58,"button",26),e.NdJ("click",function(){return r.cancel()}),e._uU(59,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.purchaseRegisterReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.purchaseRegisterReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.purchaseRegisterReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.purchaseRegisterReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isPI),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isCP),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isDN))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})(),IH=(()=>{class n{constructor(t){this.masterService=t,this.isActive=!1,this.closingStock={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe}onload(){this.closingStock.reportname="Opening Stock",this.closingStock.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.closingStock})}ngOnInit(){}dateChanged(){this.closingStock.reportparam.DATE1=k()(this.selectedDate.startDate).format("MM-DD-YYYY"),this.closingStock.reportparam.DATE2=k()(this.selectedDate.endDate).format("MM-DD-YYYY")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.closingStock})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["opening-stock"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:14,vars:0,consts:[[2,"height","200px"],[1,"modal-content","modal-content-main-area","mx-auto;"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Opening Stock Report "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.onload()}),e._uU(11,"RUN"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(13,"Close"),e.qZA()()()())},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}",".modal-content-main-area[_ngcontent-%COMP%] {\n    width: 100% !important;\n  }"]}),n})(),NH=(()=>{class n{constructor(t){this.masterService=t,this.isActive=!1,this.audit={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe}onload(){this.audit.reportname="Audit Report",this.audit.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.audit})}ngOnInit(){}dateChanged(t){this.audit.reportparam.DATE1=k()(this.selectedDate.startDate).format("MM-DD-YYYY"),this.audit.reportparam.DATE2=k()(this.selectedDate.endDate).format("MM-DD-YYYY")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.audit})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["audit-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:14,vars:0,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Audit Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.onload()}),e._uU(11,"RUN"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(13,"Close"),e.qZA()()()())},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function DH(n,s){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function kH(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,DH,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let FH=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Return Summary Report",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:k()(),endDate:k()()},p.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=k()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=k()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchasereturn-summary-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Return Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,kH,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[f.sg,f.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.sg,p.u,ve.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();var jH=S(46543);const LH=["division"];function wH(n,s){if(1&n&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij(" ",t.NAME," ")}}let xH=(()=>{class n{constructor(t,r){this.masterService=t,this._trnMainService=r,this.VATsalesRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.VATsalesRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD"),this.VATsalesRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.VATsalesRegisterReport.DIV="%",this.VATsalesRegisterReport.SUMMARYREPORT=1,this.VATsalesRegisterReport.isSI=!0,this.VATsalesRegisterReport.isCN=!0}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.VATsalesRegisterReport.V1=1==this.VATsalesRegisterReport.isSI?"SI":"",this.VATsalesRegisterReport.V2=1==this.VATsalesRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:t,data:{reportname:"VAT Sales Register Report",reportparam:{DATE1:this.VATsalesRegisterReport.DATE1,DATE2:this.VATsalesRegisterReport.DATE,DIV:this.VATsalesRegisterReport.DIV?this.VATsalesRegisterReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,REPMODE:"1"==this.VATsalesRegisterReport.SUMMARYREPORT?1:0,V1:this.VATsalesRegisterReport.V1,V2:this.VATsalesRegisterReport.V2,V3:"XX"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.VATsalesRegisterReport.BSDATE1=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.VATsalesRegisterReport.DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.VATsalesRegisterReport.BSDATE2=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.VATsalesRegisterReport.DATE=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-sales-register-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(LH,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:74,vars:12,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"width","100%"],[2,"width","inherit !important"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDatefrom","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],["id","nepaliDateto","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"radio",2,"width","inherit !important"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat Sales Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend"),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table",10)(16,"tr")(17,"td")(18,"label",11),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label",11),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",14),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",15,16),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DIV=i}),e.TgZ(43,"option",17),e._uU(44,"ALL"),e.qZA(),e.YNc(45,wH,2,2,"option",18),e.qZA()()(),e.TgZ(46,"div",9)(47,"fieldset")(48,"legend",19),e._uU(49,"Report Mode:"),e.qZA(),e.TgZ(50,"div",20)(51,"label",11)(52,"input",21),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(53," Summary Report"),e.qZA()(),e.TgZ(54,"div",20)(55,"label",11)(56,"input",21),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(57," Detail Report"),e.qZA()()()(),e.TgZ(58,"div",9)(59,"fieldset")(60,"div",22)(61,"label",11)(62,"input",23),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.isSI=i}),e.qZA(),e._uU(63," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(64,"div",22)(65,"label",11)(66,"input",23),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.isCN=i}),e.qZA(),e._uU(67," Show Credit Note "),e.qZA()()()()()()()(),e._UZ(68,"hr",24),e.TgZ(69,"div",25)(70,"button",26),e.NdJ("click",function(){return r.onload()}),e._uU(71,"RUN"),e.qZA(),e.TgZ(72,"button",27),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(73,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.VATsalesRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.VATsalesRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("value",1)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(4),e.Q6J("value",0)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",r.VATsalesRegisterReport.isSI),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.isCN))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),n})();const VH=["division"];function WH(n,s){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij(" ",t.NAME," ")}}let ZH=(()=>{class n{constructor(t,r){this.masterService=t,this._trnMainService=r,this.purchaseRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.purchaseRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD"),this.purchaseRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.purchaseRegisterReport.DIV="%",this.purchaseRegisterReport.isPI=!0,this.purchaseRegisterReport.isCP=!0,this.purchaseRegisterReport.isDN=!0,this.purchaseRegisterReport.isCN=!0}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.purchaseRegisterReport.V1=1==this.purchaseRegisterReport.isPI?"PI":"",this.purchaseRegisterReport.V3=1==this.purchaseRegisterReport.isCP?"CP":"",this.purchaseRegisterReport.V2=1==this.purchaseRegisterReport.isDN?"DN":"",this.purchaseRegisterReport.V4=1==this.purchaseRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:t,data:{reportname:"VAT Purchase Register Report",reportparam:{DATE1:this.purchaseRegisterReport.DATE1,DATE2:this.purchaseRegisterReport.DATE,DIVISION:this.purchaseRegisterReport.DIV?this.purchaseRegisterReport.DIV:"%",PHISCALID:this._trnMainService.userProfile.CompanyInfo.PhiscalID?this._trnMainService.userProfile.CompanyInfo.PhiscalID:" ",V1:this.purchaseRegisterReport.V1,V2:this.purchaseRegisterReport.V2,V3:this.purchaseRegisterReport.V3}}})}divisionChanged(){this.purchaseRegisterReport.DIV=this.division.nativeElement.value}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.purchaseRegisterReport.BSDATE1=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.purchaseRegisterReport.DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.purchaseRegisterReport.BSDATE2=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.purchaseRegisterReport.DATE=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-purchase-register-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(VH,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:66,vars:9,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat Purchase Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DIV=i}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,WH,2,2,"option",17),e.qZA()()(),e.TgZ(46,"div",9)(47,"fieldset")(48,"div",18)(49,"label",11)(50,"input",19),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isPI=i}),e.qZA(),e._uU(51," Trading Purchase Transaction "),e.qZA()(),e.TgZ(52,"div",18)(53,"label",11)(54,"input",20),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isCP=i}),e.qZA(),e._uU(55," Capital Purchase Transaction "),e.qZA()(),e.TgZ(56,"div",18)(57,"label",11)(58,"input",20),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isDN=i}),e.qZA(),e._uU(59," Debit Note Transaction "),e.qZA()()()()()()()(),e._UZ(60,"hr",21),e.TgZ(61,"div",22)(62,"button",23),e.NdJ("click",function(){return r.onload()}),e._uU(63,"RUN"),e.qZA(),e.TgZ(64,"button",24),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(65,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.purchaseRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.purchaseRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.purchaseRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.purchaseRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r.purchaseRegisterReport.isPI),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isCP),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isDN))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),n})();const HH=["division"];function UH(n,s){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.Oqu(t.NAME)}}let zH=(()=>{class n{constructor(t,r){this.masterService=t,this._trnMainService=r,this.CreditNoteRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.CreditNoteRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.CreditNoteRegisterReport.DATE1,"AD"),this.CreditNoteRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.CreditNoteRegisterReport.DATE,"AD"),this.CreditNoteRegisterReport.DIV="%",this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.reportdataEmit.emit({status:t,data:{reportname:"Credit Note Register Report",reportparam:{DATE1:this.CreditNoteRegisterReport.DATE1,DATE2:this.CreditNoteRegisterReport.DATE,DIV:this.CreditNoteRegisterReport.DIV?this.CreditNoteRegisterReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.CreditNoteRegisterReport.BSDATE1=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.CreditNoteRegisterReport.DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.CreditNoteRegisterReport.BSDATE2=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.CreditNoteRegisterReport.DATE=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["creditnote-register-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(HH,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:52,vars:6,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat CreditNote Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection :"),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.DIV=i}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,UH,2,2,"option",17),e.qZA()()()()()()(),e._UZ(46,"hr",18),e.TgZ(47,"div",19)(48,"button",20),e.NdJ("click",function(){return r.onload()}),e._uU(49,"RUN"),e.qZA(),e.TgZ(50,"button",21),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(51,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.CreditNoteRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.CreditNoteRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.CreditNoteRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.CreditNoteRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.CreditNoteRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.On],styles:["legend[_ngcontent-%COMP%] {\n    font-size: 11px;\n    font-weight: bold;\n    width: auto;\n\n  }"]}),n})();const BH=["division"];function JH(n,s){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij(" ",t.NAME,"")}}let YH=(()=>{class n{constructor(t,r){this.masterService=t,this._trnMainService=r,this.DebitNoteRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.DebitNoteRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.DebitNoteRegisterReport.DATE1,"AD"),this.DebitNoteRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.DebitNoteRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.DebitNoteRegisterReport.DIV="%"}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.reportdataEmit.emit({status:t,data:{reportname:"Debit Note Register Report",reportparam:{DATE1:this.DebitNoteRegisterReport.DATE1,DATE2:this.DebitNoteRegisterReport.DATE,DIVISION:this.DebitNoteRegisterReport.DIV,COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,PHISCALID:" "}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.DebitNoteRegisterReport.BSDATE1=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.DebitNoteRegisterReport.DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.DebitNoteRegisterReport.BSDATE2=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this.DebitNoteRegisterReport.DATE=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["debitnote-register-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(BH,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:52,vars:6,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat DebitNote Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.DIV=i}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,JH,2,2,"option",17),e.qZA()()()()()()(),e._UZ(46,"hr",18),e.TgZ(47,"div",19)(48,"button",20),e.NdJ("click",function(){return r.onload()}),e._uU(49,"RUN"),e.qZA(),e.TgZ(50,"button",21),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(51,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.DebitNoteRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.DebitNoteRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.DebitNoteRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.DebitNoteRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.DebitNoteRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),n})();function qH(n,s){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let GH=(()=>{class n{constructor(t,r,o,i){if(this.masterService=t,this._trnMainService=r,this._alertService=o,this._authService=i,this.OneLakhAbovePurchaseReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var a=new Date;a.setMonth(a.getMonth()-1),this.OneLakhAbovePurchaseReport.DATE1=a.toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAbovePurchaseReport.DATE1,"AD")}else this.OneLakhAbovePurchaseReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAbovePurchaseReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.OneLakhAbovePurchaseReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.OneLakhAbovePurchaseReport.DATE,"AD")):(this.OneLakhAbovePurchaseReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.OneLakhAbovePurchaseReport.DATE,"AD")),this.OneLakhAbovePurchaseReport.DIV="%",this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.OneLakhAbovePurchaseReport.isR1=!0,this.OneLakhAbovePurchaseReport.isR2=!0,this.OneLakhAbovePurchaseReport.isR3=!0;var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const d=new Date;this.currDate=(0,f.p6)(d,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.OneLakhAbovePurchaseReport.R1=1==this.OneLakhAbovePurchaseReport.isR1?"1":"",this.OneLakhAbovePurchaseReport.R2=1==this.OneLakhAbovePurchaseReport.isR2?"1":"",this.OneLakhAbovePurchaseReport.R3=1==this.OneLakhAbovePurchaseReport.isR3?"1":"",this.reportdataEmit.emit({status:t,data:{reportname:"One Lakh Above Purchase Report",reportparam:{DATE1:this.OneLakhAbovePurchaseReport.DATE1,DATE2:this.OneLakhAbovePurchaseReport.DATE,DIV:this.OneLakhAbovePurchaseReport.DIV?this.OneLakhAbovePurchaseReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,R1:this.OneLakhAbovePurchaseReport.R1,R2:this.OneLakhAbovePurchaseReport.R2,R3:this.OneLakhAbovePurchaseReport.R3,DETAIL:"0",PARTY:"%",VATNO:"%"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.OneLakhAbovePurchaseReport.BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.OneLakhAbovePurchaseReport.DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.OneLakhAbovePurchaseReport.BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.OneLakhAbovePurchaseReport.DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["one-lakh-above-purchase-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:59,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","inherit"],[2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","inherit"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"One Lakh Above Purchase Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.cancel()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.DIV=i}),e.TgZ(38,"option",16),e._uU(39,"ALL"),e.qZA(),e.YNc(40,qH,2,2,"option",17),e.qZA()(),e.TgZ(41,"fieldset")(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.isR1=i}),e.qZA(),e._uU(45," Credit Purchases Only "),e.qZA()(),e.TgZ(46,"div",21)(47,"label",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.isR2=i}),e.qZA(),e._uU(49," Non Credit Purchases With Pan No Only "),e.qZA()(),e.TgZ(50,"div",21)(51,"label",19)(52,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.isR3=i}),e.qZA(),e._uU(53," Non Credit Purchases Without Pan No Only "),e.qZA()()(),e.TgZ(54,"div",22)(55,"button",23),e.NdJ("click",function(){return r.onload()}),e._uU(56,"RUN"),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(){return r.cancel()}),e._uU(58,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.OneLakhAbovePurchaseReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.OneLakhAbovePurchaseReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.isR1),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.isR2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.isR3))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function QH(n,s){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let KH=(()=>{class n{constructor(t,r,o,i){if(this.masterService=t,this._trnMainService=r,this._alertService=o,this._authService=i,this.OneLakhAboveSalesReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var a=new Date;a.setMonth(a.getMonth()-1),this.OneLakhAboveSalesReport.DATE1=a.toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAboveSalesReport.DATE1,"AD")}else this.OneLakhAboveSalesReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAboveSalesReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.OneLakhAboveSalesReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.OneLakhAboveSalesReport.DATE,"AD")):(this.OneLakhAboveSalesReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.OneLakhAboveSalesReport.DATE,"AD")),this.OneLakhAboveSalesReport.DIV="%",this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.OneLakhAboveSalesReport.isR1=!0,this.OneLakhAboveSalesReport.isR2=!0,this.OneLakhAboveSalesReport.isR3=!0;var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const d=new Date;this.currDate=(0,f.p6)(d,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.OneLakhAboveSalesReport.R1=1==this.OneLakhAboveSalesReport.isR1?"1":"",this.OneLakhAboveSalesReport.R2=1==this.OneLakhAboveSalesReport.isR2?"1":"",this.OneLakhAboveSalesReport.R3=1==this.OneLakhAboveSalesReport.isR3?"1":"",this.reportdataEmit.emit({status:t,data:{reportname:"One Lakh Above Sales Report",reportparam:{DATE1:this.OneLakhAboveSalesReport.DATE1,DATE2:this.OneLakhAboveSalesReport.DATE,DIV:this.OneLakhAboveSalesReport.DIV?this.OneLakhAboveSalesReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,R1:this.OneLakhAboveSalesReport.R1,R2:this.OneLakhAboveSalesReport.R2,R3:this.OneLakhAboveSalesReport.R3,DETAIL:"0",PARTY:"%",VATNO:"%"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.OneLakhAboveSalesReport.BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.OneLakhAboveSalesReport.DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.OneLakhAboveSalesReport.BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.OneLakhAboveSalesReport.DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["one-lakh-above-SALES-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:59,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","inherit"],[2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","inherit"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"One Lakh Above Sales Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.cancel()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.OneLakhAboveSalesReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.OneLakhAboveSalesReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.DIV=i}),e.TgZ(38,"option",16),e._uU(39,"ALL"),e.qZA(),e.YNc(40,QH,2,2,"option",17),e.qZA()(),e.TgZ(41,"fieldset")(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.isR1=i}),e.qZA(),e._uU(45," Credit Sales Only "),e.qZA()(),e.TgZ(46,"div",21)(47,"label",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.isR2=i}),e.qZA(),e._uU(49," Non Credit Sales With Pan No Only "),e.qZA()(),e.TgZ(50,"div",21)(51,"label",19)(52,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.isR3=i}),e.qZA(),e._uU(53," Non Credit Sales Without Pan No Only "),e.qZA()()(),e.TgZ(54,"div",22)(55,"button",23),e.NdJ("click",function(){return r.onload()}),e._uU(56,"RUN"),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(){return r.cancel()}),e._uU(58,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAboveSalesReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.OneLakhAboveSalesReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAboveSalesReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.OneLakhAboveSalesReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.isR1),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.isR2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.isR3))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();var $H=S(71606),O=S(28698);const XH=["PLedgerChild"],eU=["genericGridAccountLedger"],tU=["genericGridMultipleAccountLedger"];function rU(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij(" ",t.NAME," ")}}function iU(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function oU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",11)(2,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.SHOWNARATION=o)}),e.qZA(),e._uU(3," Show Narration in Summary "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.SHOWNARATION)}}function nU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",11)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",48)(6,"button",49),e.NdJ("click",function(){const i=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.deleteAccount(i))}),e._uU(7,"Delete"),e.qZA()()()}if(2&n){const t=s.$implicit,r=s.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.ACNAME)}}function aU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"fieldset")(2,"legend")(3,"label",11),e._uU(4,"\xa0Ledger Wise"),e.qZA()(),e.TgZ(5,"div")(6,"div",35)(7,"input",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.multipleACNAME=o)})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.MultipleAccountEnterClicked(o))})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.MultipleAccountEnterClicked(o))}),e.qZA()(),e.TgZ(8,"div",37)(9,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addAccountToList())}),e._uU(10,"Add"),e.qZA()(),e.TgZ(11,"div",39)(12,"table",40)(13,"tr",11)(14,"th",41),e._uU(15,"S.No."),e.qZA(),e.TgZ(16,"th",42),e._uU(17,"Account"),e.qZA(),e.TgZ(18,"th",43),e._uU(19,"Action"),e.qZA()(),e.YNc(20,nU,8,2,"tr",44),e.qZA()()(),e.TgZ(21,"div",17)(22,"label",11)(23,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.MERGEREPORT=o)}),e.qZA(),e._uU(24," Merge Combined Ledger "),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)("ngModel",t._reportFilterService.AccoutLedgerObj.multipleACNAME),e.xp6(2),e.Q6J("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(11),e.Q6J("ngForOf",t._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.MERGEREPORT)("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function sU(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"area-list"),e.qZA())}function lU(n,s){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t.COSTCENTERNAME," ")}}function cU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addCostcenterToList())}),e._uU(1,"Add"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function pU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",11)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",48)(6,"button",49),e.NdJ("click",function(){const i=e.CHM(t).index,a=e.oxw(3);return e.KtG(a.deleteCostcenter(i))}),e._uU(7,"Delete"),e.qZA()()()}if(2&n){const t=s.$implicit,r=s.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.COSTCENTERNAME)}}function dU(n,s){if(1&n&&(e.TgZ(0,"div",39)(1,"table",55)(2,"tr",11)(3,"th",41),e._uU(4,"S.No."),e.qZA(),e.TgZ(5,"th",42),e._uU(6,"Cost Center"),e.qZA(),e.TgZ(7,"th",43),e._uU(8,"Action"),e.qZA()(),e.YNc(9,pU,8,2,"tr",44),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(9),e.Q6J("ngForOf",t._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter)}}function hU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",11)(2,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts=o)})("change",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.checkCostCenterValue())}),e.qZA(),e._uU(3," Show All Cost Center "),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts)("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function _U(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"fieldset")(2,"legend")(3,"label",11),e._uU(4,"\xa0Cost Center Wise"),e.qZA()(),e.TgZ(5,"div")(6,"div",35)(7,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.CCENTER=o)}),e.YNc(8,lU,2,2,"option",51),e.qZA()(),e.TgZ(9,"div",37),e.YNc(10,cU,2,1,"button",52),e.qZA(),e.YNc(11,dU,10,1,"div",53),e.qZA(),e.YNc(12,hU,4,2,"div",19),e.TgZ(13,"div",17)(14,"label",11)(15,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.MERGEREPORT=o)}),e.qZA(),e._uU(16," Merge Combined Ledger "),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.CCENTER)("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(1),e.Q6J("ngForOf",t.CostcenterList),e.xp6(2),e.Q6J("ngIf",t.showMultipleCC),e.xp6(1),e.Q6J("ngIf",t.showMultipleCC),e.xp6(1),e.Q6J("ngIf",t._reportFilterService.showAllcontactsInCC),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.MERGEREPORT)("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}let uU=(()=>{class n{constructor(t,r,o,i,a){this.masterService=t,this._authService=r,this.alertService=o,this._reportFilterService=i,this.arouter=a,this.acname="",this.accode="",this.account=[],this.division=[],this.CostcenterList=[],this.reportdataEmit=new e.vpe,this.gridPopupSettingsForAccountLedgerList=new O.im,this.gridPopupSettingsForMultipleAccountLedgerList=new O.im,this.dropListItem=l=>new $H.Observable(d=>{this.masterService.getAccountListACIDNotLikePA().map(c=>(this.result=c.result,this.result.filter(h=>h.ACNAME.toUpperCase().indexOf(l.toUpperCase())>-1))).subscribe(c=>{d.next(c)})}),this.masterService.reportName="Account Ledger report",this._reportFilterService.showAllcontactsInCC=!0,this._reportFilterService.AccoutLedgerObj.Reportnameis="accountledger",this._reportFilterService.AccoutLedgerObj.Reportnameis="accountledger",this.userProfile=this._authService.getUserProfile(),this.reportNameFormatWise="Account Ledger Report",this.masterService.getAccountListACIDNotLikePA().subscribe(l=>{this.account=l.data,this.AccLedger_result=0!=this.account.length}),this.division=[],this.masterService.getAllDivisions().subscribe(l=>{this.division.push(l)},l=>{this.masterService.resolveError(l,"divisions - getDivisions")}),this.masterService.getCostcenter().subscribe(l=>{this.CostcenterList=l}),this.showMultipleCC=!0,this.getReportTitle(),this.checkValueForCombine()}ngOnInit(){1!=this._reportFilterService.AccoutLedgerObj.assignPrevioiusDate&&(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.userProfile.CompanyInfo.ActualFY==this.masterService.PhiscalObj.PhiscalID?(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,"AD")):(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.changeEndDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,"AD")),this._reportFilterService.AccoutLedgerObj.AccLedger_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter="%",this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=2,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[],this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[],this.checkValue(),1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&this.checkValue()),this.changeEntryDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1,"AD")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else"BS"==r&&(a=t.replace("-","/").replace("-","/"),i=o.bs2ad(a),this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day))}onload(){if(1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger||2!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts&&0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.length)if(1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger||4!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||0!=this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts&&void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter&&0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.length)if(!(1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts)||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount&&""!=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount)if(1!=this.AccLedger_result||void 0!==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&0!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger)this.DialogClosedResult("ok");else{if(void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount||""==this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount||""==this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME)return void this.alertService.info("Please Select Account");this.DialogClosedResult("ok")}else this.alertService.info("Please Select Account");else this.alertService.info("Please Select Costcenter");else this.alertService.info("Please Select Account")}getReportTitle(){this.masterService.getReportTitle(this.reportNameFormatWise).subscribe(t=>{"ok"==t.status&&(this.reportNameFormatWise=t.result)})}DialogClosedResult(t){let r=[],o="";void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter?o=this._reportFilterService.AccoutLedgerObj.CCENTER:0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.length?this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.forEach(a=>{r.push(a.CCID),o+=`${r},`}):o=this._reportFilterService.AccoutLedgerObj.CCENTER;let i=[];if(void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts?this._reportFilterService.SelectedAccount=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount:0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.length?this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.forEach(a=>{i.push(a.ACID),this._reportFilterService.SelectedAccount+=`${i},`}):this._reportFilterService.SelectedAccount=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount,4!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(o=this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter),1==this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC?(this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=1,this.reportNameFormatWise="Account Ledger Report_1"):(this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=0,this.reportNameFormatWise="Account Ledger Report"),this._reportFilterService.AccoutLedgerObj.SHOWNDATE=1==this._reportFilterService.AccoutLedgerObj.SHOWNDATE?1:0,this._reportFilterService.AccoutLedgerObj.MERGEREPORT=1==this._reportFilterService.AccoutLedgerObj.MERGEREPORT?1:0,this._reportFilterService.AccoutLedgerObj.SHOWNARATION=1==this._reportFilterService.AccoutLedgerObj.SHOWNARATION?1:0,1==this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=3,o="%"),1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&(this._reportFilterService.selectedAccountParty=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount,o=this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter,this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=0),2!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(this._reportFilterService.selectedAccountParty=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount),"ok"==t){this._reportFilterService.AccoutLedgerObj.assignPrevioiusDate=!0;let l,a=this.arouter.url.split("/");a&&a.length&&(l=a[a.length-1]);let d=this._reportFilterService.previouslyLoadedReportList.findIndex(c=>"Account Ledger Report"==c.reportname);d>=0&&this._reportFilterService.previouslyLoadedReportList.splice(d,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:"Account Ledger Report",activeurlpath:this.arouter.url,activerurlpath2:l})}this.reportdataEmit.emit({status:t,data:{reportname:this.reportNameFormatWise,reportparam:{DATE1:this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1,DATE2:this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,DIV:this._reportFilterService.AccoutLedgerObj.AccLedger_DIV?this._reportFilterService.AccoutLedgerObj.AccLedger_DIV:"%",COSTCENTER:o||"%",AREA:this._reportFilterService.AccoutLedgerObj.AccLedger_Areawise?this._reportFilterService.AccoutLedgerObj.AccLedger_Areawise:0,COMID:this.masterService.userProfile.CompanyInfo.COMPANYID,REPORTTYPE:this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType:0,IGNOREOPPOSITAC:this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC,SHOWNDATE:this._reportFilterService.AccoutLedgerObj.SHOWNDATE,ACID:this._reportFilterService.SelectedAccount?this._reportFilterService.SelectedAccount:"%",MERGEREPORT:this._reportFilterService.AccoutLedgerObj.MERGEREPORT,SHOWNARATION:this._reportFilterService.AccoutLedgerObj.SHOWNARATION,ACNAME:this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME}}})}closeReportBox(){this.DialogClosedResult("cancel")}checkValue(){2==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?(this.showLedgerTable=!0,this.acname=this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",this.accode=this._reportFilterService.AccoutLedgerObj.AccLedger_ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID="",this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount="",this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[]):(this.showLedgerTable=!1,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=this.acname,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=this.accode,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=this.accode),this.showAreaTable=1==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType,4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?(this.showCCtable=!0,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[]):this.showCCtable=!1}checkValueForCombine(){1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger?(this.showCombineLedgerList=!0,this.showMergeCombineLedger=!0,this.acname=this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",this.accode=this._reportFilterService.AccoutLedgerObj.AccLedger_ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID="",this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount="",2==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?this.showLedgerTable=!0:4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(this.showCCtable=!0)):(this.showCombineLedgerList=!1,this.showMergeCombineLedger=!1,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[],this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[])}accodeChanged(t){var r;r=this.masterService.accountList.find(o=>o.ACCODE==t),this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",r&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=t=r.ACNAME)}onEnterAcnameChange(t){this.accodeChanged(t)}itemChanged(t){"object"==typeof t&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=t.ACNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCODE=t.ACCODE,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=t.ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=t.ACID)}AccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridAccountLedger.show()}dblClickAccountSelect(t){this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=t.ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=t.ACNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=t.ACID}checkCostCenterValue(){this.showMultipleCC=1!=this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts}addCostcenterToList(){const t=this._reportFilterService.AccoutLedgerObj.CCENTER;this._reportFilterService.AccoutLedgerObj.CCENTER=t&&t.CCID?t.CCID:"";let r=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.filter(o=>o.COSTCENTERNAME==t.COSTCENTERNAME);""===t.COSTCENTERNAME||null==t.COSTCENTERNAME||0===r.length&&this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.push({CCID:t.CCID,COSTCENTERNAME:t.COSTCENTERNAME})}deleteCostcenter(t){this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.splice(t,1)}addAccountToList(){let t=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.filter(r=>r.ACNAME==this._reportFilterService.AccoutLedgerObj.multipleACNAME);""===this._reportFilterService.AccoutLedgerObj.multipleACNAME||null==this._reportFilterService.AccoutLedgerObj.multipleACNAME||0===t.length&&(this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.push({ACID:this._reportFilterService.AccoutLedgerObj.multipleACID,ACNAME:this._reportFilterService.AccoutLedgerObj.multipleACNAME}),this._reportFilterService.AccoutLedgerObj.multipleACNAME="",this._reportFilterService.AccoutLedgerObj.multipleACCODE="")}deleteAccount(t){this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.splice(t,1)}MultipleAccountEnterClicked(){this.gridPopupSettingsForMultipleAccountLedgerList=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridMultipleAccountLedger.show()}dblClickMultipleAccountSelect(t){this._reportFilterService.AccoutLedgerObj.multipleACID=t.ACID,this._reportFilterService.AccoutLedgerObj.multipleACNAME=t.ACNAME}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(P.e),e.Y36(y.c),e.Y36(A),e.Y36(v.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["account-ledger-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(XH,5),e.Gf(eU,5),e.Gf(tU,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.PLedgerChild=o.first),e.iGM(o=e.CRH())&&(r.genericGridAccountLedger=o.first),e.iGM(o=e.CRH())&&(r.genericGridMultipleAccountLedger=o.first)}},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:37,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header",2,"border","0px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-12",2,"padding-top","2%"],[1,"col-md-6"],[2,"font-size","11px","font-weight","bold","width","auto","margin-bottom","-4px"],[1,"td-class"],[1,"smallBoldLabel"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar","date-input","form-control",2,"text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],["class","checkbox","style","padding-top:5px;width:200px;",4,"ngIf"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control",2,"font-weight","bold",3,"ngModel","ngModelChange","keydown.Tab","keydown.enter"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","disabled","ngModelChange","change"],["value","2"],["value","4"],[4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[1,"reportpopup",2,"width","90%"],[3,"popupsettings","onItemDoubleClick"],["genericGridAccountLedger",""],["genericGridMultipleAccountLedger",""],[3,"value"],[1,"col-md-10"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control",2,"font-weight","bold",3,"disabled","ngModel","ngModelChange","keydown.Tab","keydown.enter"],[1,"col-md-2"],["type","button",1,"btn","btn-info",3,"disabled","click"],[1,"col-md-12"],[2,"height","175px"],[2,"width","3px","font-weight","bold"],[2,"width","10px","font-weight","bold"],[2,"width","4px","font-weight","bold"],["class","smallBoldLabel",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","disabled","ngModelChange"],[2,"width","3px"],[2,"width","10px"],[2,"width","4px"],["type","button",1,"action-btn",3,"click"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button","class","btn btn-info",3,"disabled","click",4,"ngIf"],["class","col-md-12",4,"ngIf"],[3,"ngValue"],[2,"height","150px"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"button",5),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(7,"\xd7"),e.qZA(),e.TgZ(8,"h4",6),e._uU(9),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"fieldset")(13,"legend",9),e._uU(14,"Date Range Selection :"),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td",10)(18,"label",11),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td",10)(21,"label",11),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td",10)(25,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.ALo(26,"date"),e.ALo(27,"date"),e.qZA()(),e.TgZ(28,"td",10)(29,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.ALo(30,"date"),e.ALo(31,"date"),e.qZA()()(),e.TgZ(32,"tr")(33,"td",10)(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()(),e.TgZ(35,"td",10)(36,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()(),e.TgZ(37,"fieldset")(38,"legend"),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_DIV=i}),e.TgZ(41,"option",15),e._uU(42,"ALL"),e.qZA(),e.YNc(43,rU,2,2,"option",16),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend"),e._uU(46,"Cost Center:"),e.qZA(),e.TgZ(47,"select",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter=i}),e._UZ(48,"option",15),e.YNc(49,iU,2,2,"option",16),e.qZA()(),e.TgZ(50,"div",17)(51,"label",11)(52,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.SHOWNDATE=i}),e.qZA(),e._uU(53," Show BS Date In Report "),e.qZA()(),e.TgZ(54,"div",17)(55,"label",11)(56,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=i}),e.qZA(),e._uU(57," Show Ledger Report in Summary "),e.qZA()(),e.YNc(58,oU,4,1,"div",19),e.qZA(),e.TgZ(59,"div",20)(60,"fieldset")(61,"legend"),e._uU(62,"Account Selection :"),e.qZA(),e.TgZ(63,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=i})("keydown.Tab",function(){return r.AccountEnterClicked()})("keydown.enter",function(){return r.AccountEnterClicked()}),e.qZA()(),e.TgZ(64,"fieldset")(65,"legend")(66,"label",11)(67,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.EnableCombineLedger=i})("change",function(){return r.checkValueForCombine()}),e.qZA(),e._uU(68," Show Combined Ledger"),e.qZA()(),e.TgZ(69,"select",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=i})("change",function(){return r.checkValue()}),e.TgZ(70,"option",24),e._uU(71,"Multi Ledger Wise"),e.qZA(),e.TgZ(72,"option",25),e._uU(73,"Cost Center Wise"),e.qZA()()(),e.YNc(74,aU,25,6,"div",26),e.YNc(75,sU,2,0,"div",26),e.YNc(76,_U,17,8,"div",26),e.qZA()(),e.TgZ(77,"div",27)(78,"button",28),e.NdJ("click",function(){return r.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",29),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()(),e.TgZ(82,"div",30)(83,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickAccountSelect(i)}),e.qZA()(),e.TgZ(85,"div",30)(86,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(i){return r.dblClickMultipleAccountSelect(i)}),e.qZA()()),2&t&&(e.xp6(9),e.Oqu(r.reportNameFormatWise),e.xp6(16),e.s9C("max",e.xi3(26,25,r.masterService.date1,"yyyy-MM-dd")),e.s9C("min",e.xi3(27,28,r.masterService.date2,"yyyy-MM-dd")),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_DATE1),e.xp6(4),e.s9C("max",e.xi3(30,31,r.masterService.date1,"yyyy-MM-dd")),e.s9C("min",e.xi3(31,34,r.masterService.date2,"yyyy-MM-dd")),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_DATE2),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_DIV),e.xp6(3),e.Q6J("ngForOf",r.division),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter),e.xp6(2),e.Q6J("ngForOf",r.CostcenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.SHOWNDATE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_ReportType)("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(5),e.Q6J("ngIf",r.showLedgerTable),e.xp6(1),e.Q6J("ngIf",r.showAreaTable&&r.showCombineLedgerList),e.xp6(1),e.Q6J("ngIf",r.showCCtable),e.xp6(7),e.Q6J("popupsettings",r.gridPopupSettingsForAccountLedgerList),e.xp6(3),e.Q6J("popupsettings",r.gridPopupSettingsForMultipleAccountLedgerList))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,f.uU],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}",".action-btn[_ngcontent-%COMP%] {\n        width: 80%;\n        height: 80%;\n        display: block;\n        margin: 0 auto;\n        background-color: inherit;\n        border: none;\n    }\n    .input-text[_ngcontent-%COMP%]{\n        width : 100%; \n        \n        font-weight: bold;\n    }\n    .td-class[_ngcontent-%COMP%]{\n        border: none !important;\n    }\n    .date-input[_ngcontent-%COMP%]{\n        width: 93%;\n        font-size: 12px !important;\n        height: 30px !important;\n    }"]}),n})();const gU=["genericGridSupplierPopup"];function mU(n,s){1&n&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function fU(n,s){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function SU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=o)}),e.YNc(4,mU,2,0,"option",40),e.YNc(5,fU,2,2,"option",41),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function vU(n,s){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function OU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER=o)}),e._UZ(4,"option",44),e.TgZ(5,"option",42),e._uU(6," ALL "),e.qZA(),e.YNc(7,vU,2,2,"option",41),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function bU(n,s){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function CU(n,s){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function TU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",45)(5,"select",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,bU,2,2,"option",41),e.qZA()(),e.TgZ(7,"div",19)(8,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES=o)}),e._UZ(9,"option",42),e.YNc(10,CU,2,2,"option",41),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}function MU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",29)(4,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",29)(8,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_INAD),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_INAD)}}function AU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Report Filter Option :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",45)(5,"label",49),e._uU(6,"Purchase Type :"),e.qZA()(),e.TgZ(7,"div",19)(8,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE=o)}),e.TgZ(9,"option",50),e._uU(10,"All"),e.qZA(),e.TgZ(11,"option",51),e._uU(12,"Local Purchase"),e.qZA(),e.TgZ(13,"option",52),e._uU(14,"Import Purchase"),e.qZA()()()(),e.TgZ(15,"div",1)(16,"div",45)(17,"label",49),e._uU(18,"Invoice Type :"),e.qZA()(),e.TgZ(19,"div",19)(20,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE=o)}),e.TgZ(21,"option",51),e._uU(22,"All"),e.qZA(),e.TgZ(23,"option",52),e._uU(24,"Trading"),e.qZA(),e.TgZ(25,"option",53),e._uU(26,"Non-Trading"),e.qZA(),e.TgZ(27,"option",54),e._uU(28,"Mixed"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE),e.xp6(12),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE)}}let PU=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CUSTOMERNAME:"",params:"%",DIVISIONNAME:"",REPORTOPTIONDISPLAYNAME:"",INCLUDERETURNDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",SUPPLIERDISPLAYNAME:"",PURCHASETYPE:0,SHOWREVERESEENTRYONLY:0,INVOICETYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new O.im,this.AppMode=$.N.appMode,this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("FORM AUTHSERVICE",this._authService.getUserProfile().PhiscalYearInfo),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),i.PurchaseBookObj.PurchaseBook_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="2",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0"):"Purchase Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0"):"Purchase Book Report_1"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="1"),this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER=this._reportFilterService.drillParam.reportparam.COSTCENTER,this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.PurchaseBookObj.PurchaseBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,"AD")):(1!=this._reportFilterService.PurchaseBookObj.assignPreviousValue&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0",this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=0,this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD="1",this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE=100,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=0,this._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE=0),this.changeVariant(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,"AD"))})}changeEntryDate(t,r){t>this.currDate&&"AD"==r&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate,t=this.currDate);var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){t>this.currDate&&"AD"==r&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.currDate,t=this.currDate);var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER||null==this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV&&"%"==this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV)this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV&&"%"!=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV){let a=this.divisionList.filter(l=>l.Division==this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV);this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME=a&&a.length>0&&a[0]?a[0].NAME:""}else this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER?this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV?this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN?this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE?this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT?this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE?this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE:"%",this.repObj.reportparam.INAD=this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD?this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD:1,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME?this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER?this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER?this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE?this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE:100,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE??0,this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE?this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE:0;let t={};this.variantmaster.length>0?(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT||(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT]=this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES?this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?"@Voucher Wise Purchase Report":2==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Purchase Report":3==this.repObj.reportparam.REPORT_TYPE?"@Month Wise Purchase Report":"",this.repObj.reportparam.INCLUDERETURNDISPLAYNAME=1==this.repObj.reportparam.INCLUDE_RETURN?"@Report Including Purchase Return":0==this.repObj.reportparam.INCLUDE_RETURN?"@Report Excluding Purchase Return":"",this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?0==this.repObj.reportparam.SHOWDETALREPORT?"@Summary Report":1==this.repObj.reportparam.SHOWDETALREPORT?"@Detail Report":"":"",1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Purchase Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Purchase Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Purchase Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Book Report_3"),this.repObj.REPORTDISPLAYNAME="Purchase Book Report",this._reportFilterService.PurchaseBookObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE=t.ACID,this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onReportOptionChange(){3==this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-book-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(gU,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:30,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],["value","100"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,SU,6,3,"fieldset",15),e.YNc(38,OU,8,2,"fieldset",15),e.TgZ(39,"div",16)(40,"div",17)(41,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=i})("change",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=i.target.checked?1:0}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",20),e._uU(44,"Include Purchase Return (Debit Note) Transaction Also"),e.qZA()()()(),e.TgZ(45,"div",21)(46,"fieldset")(47,"legend",10),e._uU(48,"Supplier Selection :"),e.qZA(),e.TgZ(49,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.YNc(50,TU,11,4,"fieldset",15),e.TgZ(51,"fieldset",23),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(52,"legend",10),e._uU(53,"Report Option :"),e.qZA(),e.TgZ(54,"div",24)(55,"div",25)(56,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(57,"label"),e._uU(58,"Voucher Wise"),e.qZA()(),e.TgZ(59,"div",25)(60,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(61,"label"),e._uU(62,"Day Wise"),e.qZA()(),e.TgZ(63,"div",25)(64,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Month Wise"),e.qZA()()()(),e.TgZ(67,"fieldset")(68,"legend",10),e._uU(69,"Report Type :"),e.qZA(),e.TgZ(70,"div",29)(71,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Summary Report"),e.qZA()(),e.TgZ(74,"div",29)(75,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(76,"label"),e._uU(77,"Detail Report"),e.qZA()()(),e.YNc(78,MU,11,2,"fieldset",15),e.TgZ(79,"div",32)(80,"div",17)(81,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=i})("change",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(82,"div",19)(83,"label",33),e._uU(84,"Show Reverse Entry Only"),e.qZA()()(),e.YNc(85,AU,29,2,"fieldset",15),e.qZA()()(),e.TgZ(86,"div",34)(87,"button",35),e.NdJ("click",function(){return r.onload()}),e._uU(88,"RUN"),e.qZA(),e.TgZ(89,"button",36),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(90,"Close"),e.qZA()()()()()(),e.TgZ(91,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN)("checked",1==r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE)("checked",1==r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function RU(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function EU(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function yU(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function IU(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function NU(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function DU(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function kU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",30)(5,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,NU,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",32)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,DU,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let FU=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",SHOWDETAIL:0,PTYPE:100,params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.PTypeList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),i.SalesProductTypeObj.SalesProductType_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Product Type Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,"AD")):(1!=this._reportFilterService.SalesProductTypeObj.assignPreviousValue&&(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL="0"),this.changeVariant(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT),this.changeEntryDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER||null==this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER?this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV?this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE?this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE:100,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL?this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL:0;let t={};this.variantmaster.length>0?(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT||(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT]=this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES?this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Product Type Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Product Type Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Product Type Wise",this._reportFilterService.SalesProductTypeObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["SalesReportProductTypeWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:76,vars:22,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["value","100"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"],[1,"col"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Product Type Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=i}),e.YNc(41,RU,2,0,"option",16),e.YNc(42,EU,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,yU,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Product Type Selection:"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE=i}),e._UZ(56,"option",21),e.YNc(57,IU,2,2,"option",17),e.qZA()(),e.YNc(58,kU,11,4,"fieldset",22),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Type :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Summary Report"),e.qZA()(),e.TgZ(67,"div",23)(68,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Detail Report"),e.qZA()()()()()()(),e.TgZ(71,"div",26)(72,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",28),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const jU=["genericGridCustomerPopup"],LU=["genericGridUserListPopup"];function wU(n,s){1&n&&(e.TgZ(0,"option",53),e._uU(1,"ALL"),e.qZA())}function xU(n,s){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function VU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_DIV=o)}),e.YNc(4,wU,2,0,"option",51),e.YNc(5,xU,2,2,"option",52),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function WU(n,s){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function ZU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_CCENTER=o)}),e._UZ(4,"option",55),e.TgZ(5,"option",53),e._uU(6," All "),e.qZA(),e.YNc(7,WU,2,2,"option",52),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function HU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",36)(1,"legend",10),e._uU(2,"Order Mode Selection :"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_ORDERMODE=o)}),e.TgZ(4,"option",56),e._uU(5,"ALL"),e.qZA(),e.TgZ(6,"option",57),e._uU(7,"TAKE AWAY"),e.qZA(),e.TgZ(8,"option",58),e._uU(9,"DELIVERY"),e.qZA(),e.TgZ(10,"option",59),e._uU(11,"DINE IN"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_ORDERMODE)}}function UU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",36)(1,"legend",10),e._uU(2,"Sales Type :"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_SALESTYPE=o)}),e.TgZ(4,"option",60),e._uU(5,"ALL"),e.qZA(),e.TgZ(6,"option",61),e._uU(7,"RETAIL SALES"),e.qZA(),e.TgZ(8,"option",62),e._uU(9,"WHOLESALE SALES"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_SALESTYPE)}}function zU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",26)(4,"label",27),e._uU(5,"Show Item Details Also"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL)("checked",1==t._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL)}}function BU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",37)(4,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",37)(8,"input",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_INAD),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_INAD)}}let JU=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CUSTOMERNAME:"",params:"%",DIVISIONNAME:"",REPORTOPTIONDISPLAYNAME:"",INCLUDERETURNDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",CUSTOMERDISPLAYNAME:"",ORDERMODE:"",SHOWITEMDETAIL:0,SHOWREVERESEENTRYONLY:0,SALESTYPE:"",CUSTID:"",TRNUSER:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForCustomer=new O.im,this.gridPopupSettingsForUserList=new O.im,this.AppMode=$.N.appMode,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{const o=r.mode;"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="1",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD"),this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="2",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):(1!=this._reportFilterService.SalesBookObj.assignPreviousValue&&(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesBookObj.SalesBook_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesBookObj.SalesBook_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=0,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=0,this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE="0",this._reportFilterService.SalesBookObj.SalesBook_INAD="1"),this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesBookObj.SalesBook_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesBookObj.SalesBook_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesBookObj.SalesBook_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesBookObj.SalesBook_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesBookObj.SalesBook_CCENTER||null==this._reportFilterService.SalesBookObj.SalesBook_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesBookObj.SalesBook_DIV&&"%"==this._reportFilterService.SalesBookObj.SalesBook_DIV)this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME="All";else if(this._reportFilterService.SalesBookObj.SalesBook_DIV&&"%"!=this._reportFilterService.SalesBookObj.SalesBook_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.SalesBookObj.SalesBook_DIV);this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesBookObj.SalesBook_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesBookObj.SalesBook_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesBookObj.SalesBook_CCENTER?this._reportFilterService.SalesBookObj.SalesBook_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesBookObj.SalesBook_DIV?this._reportFilterService.SalesBookObj.SalesBook_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN?this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE?this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT?this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesBookObj.SalesBook_ACID?this._reportFilterService.SalesBookObj.SalesBook_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesBookObj.SalesBook_CUSTID?this._reportFilterService.SalesBookObj.SalesBook_CUSTID:"%",this.repObj.reportparam.INAD=this._reportFilterService.SalesBookObj.SalesBook_INAD?this._reportFilterService.SalesBookObj.SalesBook_INAD:1,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME?this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER?this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER?this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER:"",this.repObj.reportparam.ORDERMODE=this._reportFilterService.SalesBookObj.SalesBook_ORDERMODE?this._reportFilterService.SalesBookObj.SalesBook_ORDERMODE:"",this.repObj.reportparam.SHOWITEMDETAIL=this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL?this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL:0,this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE?this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE:0,this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE?this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesBookObj.SalesBook_USERNAME?this._reportFilterService.SalesBookObj.SalesBook_USERNAME:"%",3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.SHOWDETALREPORT&&(this.repObj.reportparam.SHOWITEMDETAIL=0),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?"@Voucher Wise Sales Report":2==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Sales Report":3==this.repObj.reportparam.REPORT_TYPE?"@Month Wise Sales Report":"",this.repObj.reportparam.INCLUDERETURNDISPLAYNAME=1==this.repObj.reportparam.INCLUDE_RETURN?"@Report Including Sales Return":0==this.repObj.reportparam.INCLUDE_RETURN?"@Report Excluding Sales Return":"",this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?0==this.repObj.reportparam.SHOWDETALREPORT?"@Summary Report":1==this.repObj.reportparam.SHOWDETALREPORT?"@Detail Report":"":"",1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Sales Book Report_3"),this.repObj.REPORTDISPLAYNAME="Sales Book Report",this._reportFilterService.SalesBookObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=t.CUSTID,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=t.CUSTNAME,this._reportFilterService.SalesBookObj.SalesBook_ACID=t.ACID,this._reportFilterService.SalesBookObj.SalesBook_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}onchangeReportType(){0==this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT&&(this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=0)}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesBookObj.SalesBook_USERNAME=t.UNAME}Change(){1==this._reportFilterService.SalesBookObj.SalesBook_ALLUSER&&(this._reportFilterService.SalesBookObj.SalesBook_USERNAME="")}onReportOptionChange(){3==this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-book-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(jU,5),e.Gf(LU,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:112,vars:35,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[2,"width","100%"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange","change"],["style","width: 100%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;width:200px;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["value","%","selected",""],["value","TAKE AWAY"],["value","DELIVERY"],["value","DINE IN"],["value","0"],["value","1"],["value","2"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,VU,6,3,"fieldset",15),e.YNc(38,ZU,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Filter Option :"),e.qZA(),e.TgZ(42,"div",1)(43,"div",16)(44,"label",17),e._uU(45,"User Name :"),e.qZA()(),e.TgZ(46,"div",18)(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(49,"input",21),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_ALLUSER=i}),e.qZA(),e.TgZ(50,"label",22),e._uU(51,"All User"),e.qZA()()()()(),e.TgZ(52,"div",23)(53,"div",24)(54,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=i})("change",function(i){return r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=i.target.checked?1:0}),e.qZA()(),e.TgZ(55,"div",26)(56,"label",27),e._uU(57,"Include Sales Return (Credit Note) Transaction Also"),e.qZA()()()(),e.TgZ(58,"div",28)(59,"fieldset")(60,"legend",10),e._uU(61,"Customer Selection :"),e.qZA(),e.TgZ(62,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(63,"fieldset",30),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(64,"legend",10),e._uU(65,"Report Option :"),e.qZA(),e.TgZ(66,"div",31)(67,"div",32)(68,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Voucher Wise"),e.qZA()(),e.TgZ(71,"div",32)(72,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(73,"label"),e._uU(74,"Day Wise"),e.qZA()(),e.TgZ(75,"div",32)(76,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(77,"label"),e._uU(78,"Month Wise"),e.qZA()()()(),e.TgZ(79,"div",1)(80,"div",5)(81,"fieldset",36)(82,"legend",10),e._uU(83,"Report Type :"),e.qZA(),e.TgZ(84,"div",37)(85,"input",38),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT=i})("change",function(){return r.onchangeReportType()}),e.qZA(),e.TgZ(86,"label"),e._uU(87,"Summary Report"),e.qZA()(),e.TgZ(88,"div",37)(89,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT=i})("change",function(){return r.onchangeReportType()}),e.qZA(),e.TgZ(90,"label"),e._uU(91,"Detail Report"),e.qZA()()()(),e.TgZ(92,"div",5),e.YNc(93,HU,12,1,"fieldset",40),e.YNc(94,UU,10,1,"fieldset",40),e.qZA()(),e.YNc(95,zU,6,2,"div",41),e.YNc(96,BU,11,2,"fieldset",15),e.TgZ(97,"div",42)(98,"div",24)(99,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=i})("change",function(i){return r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(100,"div",26)(101,"label",43),e._uU(102,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(103,"div",44)(104,"button",45),e.NdJ("click",function(){return r.onload()}),e._uU(105,"RUN"),e.qZA(),e.TgZ(106,"button",46),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(107,"Close"),e.qZA()()()()()(),e.TgZ(108,"generic-popup-grid",47,48),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(110,"generic-popup-grid",47,49),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesBookObj.SalesBook_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesBookObj.SalesBook_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_USERNAME)("disabled",1==r._reportFilterService.SalesBookObj.SalesBook_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_ALLUSER),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN)("checked",1==r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",3==r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE)("checked",1==r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();var ee=S(38011),tt=S(72661),Nn=S(77220),Dn=S(63666);function YU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",12),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.check(i,!i.data.check,o))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("indeterminate",t.data.indeterminate)("checked",t.data.check)}}function qU(n,s){if(1&n&&(e.YNc(0,YU,1,2,"input",8),e.TgZ(1,"span",9),e._UZ(2,"img",10),e.TgZ(3,"label",11),e._uU(4),e.qZA()()),2&n){const t=s.$implicit,r=e.oxw();e.Q6J("ngIf",r.multiselect),e.xp6(1),e.s9C("title",t.data.subTitle),e.xp6(3),e.Oqu(null==t.data?null:t.data.name)}}let GU=(()=>{class n{constructor(t,r,o){this.brandService=t,this.masterService=r,this.productMasterService=o,this.selectedNode=new e.vpe,this.multiselect=!1,this.mainGroupList=[],this.actionMapping={mouse:{click:(i,a,l)=>{this.multiselect&&this.afterSelect(a.data,l)}}},this.selectedItems=[],this.asyncChildren=[{name:"child2.1",subTitle:"new and improved"},{name:"child2.2",subTitle:"new and improved2"}],this.customTemplateStringOptions={displayField:"name",isExpandedField:"expanded",idField:"uuid",getChildren:this.getChildren.bind(this),allowDrag:!1},this.initTree(),this.productMasterService.getMainGroupList().subscribe(i=>{console.log("MainGroup",i),i.length>0?(this.mainGroupList=i,this.masterService.mainGroupList=i):(this.mainGroupList=[],this.masterService.mainGroupList=[])})}ngOnInit(){this.masterService.updateBrandTreeSubject.subscribe(t=>{console.log("init function ho hai"),console.log("init ma k hudaicha",t),this.initTree()}),this.multiselect&&(this.customTemplateStringOptions.actionMapping=this.actionMapping)}afterSelect(t,r){console.log("DATA on select",t,r.target.checked),r.target.checked?this.selectedItems.push(t):this.selectedItems=this.selectedItems.filter(c=>c!==t);let o="",i="";this.selectedItems.forEach(c=>{o+=`${c.id},`,i+=`${c.name},`});let a=o.substring(0,o.length-1),l=i.substring(0,i.length-1);this.selectedNode.emit({id:a,name:l})}onselect(t,r){this.selectedNode.emit(t.treeModel.getFocusedNode().data),console.log("selected node",this.selectedNode)}initTree(){this.nodes=[],this.busy=this.brandService.getBrandTree().subscribe(t=>{console.log("busy log",t),this.nodes=t[0],console.log("res0 ko log",this.nodes),null!=this.tree&&this.tree.treeModel.update()},t=>{var r=this.masterService.resolveError(t,"error");r&&alert(r)})}filterNodes(t){try{this.tree.treeModel.filterNodes(t,!0)}catch(r){console.log("Filter Not Working",r)}}getChildren(t){return new Promise((r,o)=>{setTimeout(()=>r(this.asyncChildren.map(i=>Object.assign({},i,{hasChildren:t.level<5}))),1e3)})}check(t,r){this.updateChildNodeCheckbox(t,r),this.updateParentNodeCheckbox(t.realParent)}updateChildNodeCheckbox(t,r){t.data.check=r,t.children&&t.children.forEach(o=>this.updateChildNodeCheckbox(o,r))}updateParentNodeCheckbox(t){if(!t)return;let r=!0,o=!0;for(const i of t.children)(!i.data.check||i.data.indeterminate)&&(r=!1),i.data.check&&(o=!1);r?(t.data.check=!0,t.data.indeterminate=!1):o?(t.data.check=!1,t.data.indeterminate=!1):(t.data.check=!0,t.data.indeterminate=!0),this.updateParentNodeCheckbox(t.parent)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(tt.c),e.Y36(b.P),e.Y36(Nn.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-tree"]],viewQuery:function(t,r){if(1&t&&e.Gf(Dn.qr,5),2&t){let o;e.iGM(o=e.CRH())&&(r.tree=o.first)}},inputs:{multiselect:"multiselect"},outputs:{selectedNode:"selectedNode"},features:[e._Bn([Nn.L])],decls:9,vars:2,consts:[[1,"plainBackground"],[1,"mx-auto"],["name","filter","placeholder","Search Item Group",1,"filterclass",3,"keyup"],["filter",""],[1,"tree"],[1,"reverse",3,"nodes","options","activate"],["tree",""],["treeNodeTemplate",""],["type","checkbox",3,"indeterminate","checked","change",4,"ngIf"],[3,"title"],["src","../../../assets/Folder.jpg","alt","Group","height","20","width","20",2,"margin-top","-2px"],[2,"padding-top","0px !important","width","auto !important","height","15px !important"],["type","checkbox",3,"indeterminate","checked","change"]],template:function(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("keyup",function(){e.CHM(o);const a=e.MAs(3);return e.KtG(r.filterNodes(a.value))}),e.qZA()(),e.TgZ(4,"div",4)(5,"tree-root",5,6),e.NdJ("activate",function(a){e.CHM(o);const l=e.MAs(6);return e.KtG(r.onselect(l,a))}),e.YNc(7,qU,5,3,"ng-template",null,7,e.W1O),e.qZA()()()}2&t&&(e.xp6(5),e.Q6J("nodes",r.nodes)("options",r.customTemplateStringOptions))},dependencies:[f.O5,Dn.qr],styles:[".tree[_ngcontent-%COMP%]{overflow:auto;border:black;border-width:2px;height:70vh;width:96%;background:white;margin:10px;font-size:12px}.plainBackground[_ngcontent-%COMP%]{border:2px solid #e6e6e6;padding:5px;margin-left:5px!important;margin-right:5px!important;background-color:#f7f7f7;width:98%}.filterclass[_ngcontent-%COMP%]{width:90%;padding:10px}"]}),n})();function QU(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hide())}),e._uU(6," \xd7 "),e.qZA()()()(),e.TgZ(7,"app-report-tree",7),e.NdJ("selectedNode",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.getTreeNodeValue(o))}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("multiselect",t.multiselect)}}let Ht=(()=>{class n{constructor(){this.isActive=!1,this.treeNodeValue=new e.vpe}ngOnInit(){}show(){this.isActive=!0}getTreeNodeValue(t){console.log("tree ko valueee",t),console.log("name matraaaa",t.name),this.treeNodeValue.emit(t)}hide(){console.log("helloStockLedger"),this.isActive=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-popup"]],inputs:{multiselect:"multiselect"},outputs:{treeNodeValue:"treeNodeValue"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row",2,"margin-left","-15px !important"],[1,"col-12","col-md-12"],[1,"row"],[1,"modal-header","col-md-12",2,"border","0px"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"mx-auto",2,"width","100%",3,"multiselect","selectedNode"]],template:function(t,r){1&t&&e.YNc(0,QU,8,1,"div",0),2&t&&e.Q6J("ngIf",r.isActive)},dependencies:[f.O5,GU],styles:[".container[_ngcontent-%COMP%]{position:fixed!important;transform:translate(-50px,-50px);background:#ffffff;z-index:99999;width:30.5%;top:17%;left:39%;height:85%;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px}"]}),n})();const KU=["reportPopup"],$U=["genericGridCustomerPopup"],XU=["genericGridItemPopup"],ez=["genericGridUserListPopup"],tz=["multiselectGenericGrid"];function rz(n,s){1&n&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function iz(n,s){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function oz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=o)}),e.YNc(4,rz,2,0,"option",73),e.YNc(5,iz,2,2,"option",43),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function nz(n,s){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function az(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER=o)}),e._UZ(4,"option",75),e.TgZ(5,"option",42),e._uU(6," ALL "),e.qZA(),e.YNc(7,nz,2,2,"option",43),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function sz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"input",76),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkValue(5))}),e.qZA()(),e.TgZ(3,"div",21)(4,"label",22),e._uU(5,"Cost Center Wise Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT)}}function lz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",77)(1,"div",17)(2,"div",18)(3,"div",78)(4,"input",79),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",21)(6,"label",22),e._uU(7,"Show Item Group Only"),e.qZA()()(),e.TgZ(8,"div",18)(9,"div",78)(10,"input",80),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",21)(12,"label",22),e._uU(13,"Show Item Within Groups"),e.qZA()()(),e.TgZ(14,"div",18)(15,"div",78)(16,"input",81),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(17,"div",21)(18,"label",22),e._uU(19,"Show All Item Group Hierarchy"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE)}}function cz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",82)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT)("checked",1==t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT)}}function pz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show User Wise Format"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER)("checked",1==t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER)}}function dz(n,s){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function hz(n,s){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function _z(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE=o)}),e._UZ(6,"option",45),e.YNc(7,hz,2,2,"option",43),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function uz(n,s){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function gz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER=o)}),e._UZ(6,"option",42),e.YNc(7,uz,2,2,"option",43),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}function mz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE=o)}),e.TgZ(6,"option",47),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",46),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",83),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE)}}function fz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"input",84),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",85),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems)}}function Sz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",101)(1,"ng-multiselect-dropdown",102),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function vz(n,s){if(1&n&&(e.TgZ(0,"div",97)(1,"div",98)(2,"label",99),e._uU(3),e.qZA()(),e.YNc(4,Sz,2,4,"div",100),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function Oz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",86)(2,"div",87)(3,"div",88)(4,"h5",89),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",91),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",92)(10,"div",93),e.YNc(11,vz,5,2,"div",94),e.qZA()(),e.TgZ(12,"div",95)(13,"button",96),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",96),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let bz=(()=>{class n{constructor(t,r,o,i,a,l,d,c,h){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.brandService=h,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",CUSTOMERNAME:"",MENUCODE:"",params:"%",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",CUSTOMERDISPLAYNAME:"",VATMODE:"",MANUFACTURER:"%",SALESTYPE:"",ITEMGROUP:"",VCHR1:0,VCHR2:0,CUSTID:"",TRNUSER:"",SHOWUSERWISE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForCustomer=new O.im,this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForUserList=new O.im,this.multiselectPopupSettings=new ee.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.AppMode=$.N.appMode,this.masterService.getAllCostCenter().subscribe(m=>{this.costCenterList=m&&m||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(m=>{this.divisionList=m}),this.masterService.getMCatList().subscribe(m=>{this.MCatList=m}),this.masterService.getPTypeList().subscribe(m=>{m&&(this.PTypeList=m)}),this.masterService.getItemGroup().subscribe(m=>{m&&(this.ItemGroupList=m)}),this.masterService.getProductGroupList().subscribe(m=>{m&&(this.ProductGroupList=m)}),this.masterService.getManufacturerList().subscribe(m=>{m&&(this.ManufacturerList=m)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(m=>{m.result&&m.result.length&&(this.categorywiseConfigurationdetails=m.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let j=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof j&&j&&j.length?j:[]}}))},m=>{});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Item Wise_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="2"):"Sales Report Item Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="3"),this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,"AD")):(1!=this._reportFilterService.SalesItemWiseObj.assignPreviousValue&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE="100",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE="0"),this.changeVariant(this._reportFilterService.SalesItemWiseObj.SalesItemWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");const h=l[2]+"/"+l[1]+"/"+l[0];i=o.bs2ad(h);var d=(i=o.bs2ad(h)).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(console.log("saels item wise",this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER),1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER||null==this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV)this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME="All";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV);this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP)this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP);this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE&&"100"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP)this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME="";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE&&"100"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE);this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?"All":this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV?this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER:"",this.repObj.reportparam.VATMODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER:"%",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME:"%",this.repObj.reportparam.SHOWUSERWISE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER:0,this._reportFilterService.SalesItemWiseObj.VCHR1>this._reportFilterService.SalesItemWiseObj.VCHR2)return void this._alertService.warning("Range selection of From must be less the To");this.repObj.reportparam.VCHR1=this._reportFilterService.SalesItemWiseObj.VCHR1,this.repObj.reportparam.VCHR2=this._reportFilterService.SalesItemWiseObj.VCHR2,console.log("to and from",this.repObj.reportparam.VCHR1,this.repObj.reportparam.VCHR2),this.repObj.reportparam.params=1==this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_4":5==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Sales Report Item Wise_5"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_VARIANT":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_1_VARIANT":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_2_VARIANT":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_3_VARIANT":4==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_4_VARIANT":5==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Sales Report Item Wise_5_VARIANT")),this.repObj.REPORTDISPLAYNAME="Sales Report Item Wise",this._reportFilterService.SalesItemWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMERCODE=t.CUSTID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=t.CUSTNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID=t.ACID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}ItemEnterCommand(t){this.getItemList(),console.log("selected itemd",this.selectMultiItems),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}changeMultiSelect(t){console.log("events",t),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE="",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM="",this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE="",this.selectMultiItems=1==t.target.checked?1:0}dblClickPopupItem(t){this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=t.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=t.DESCA,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE=t.MENUCODE}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=t.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){0==t&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="0",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),1==t&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),4==t&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="4",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),5==t&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="5",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0)}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesItemWiseObj.SalesItemWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=t.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=t.DESCA}treeNodeSelected(t){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",t),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=t.id,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=t.name}voucherRange(){this._reportFilterService.SalesItemWiseObj.VCHR1>this._reportFilterService.SalesItemWiseObj.VCHR2&&this._alertService.warning("Range selection of From must be less the To")}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME=t.UNAME}Change(){1==this._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME="")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c),e.Y36(tt.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesreport-itemwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(KU,5),e.Gf($U,5),e.Gf(XU,5),e.Gf(ez,5),e.Gf(tz,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:165,vars:46,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[2,"margin-top","0"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","1%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-top","2%","margin-bottom","2%"],[1,"row",2,"margin-bottom","-5%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],[1,"col-md-1",2,"margin-left","-20%","margin-bottom","-1%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],["class","row","style","margin-bottom: -5%;",4,"ngIf"],["style","width: 127%; margin-left: -8%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex","margin-left","19%"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","mt-2"],[2,"display","flex"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],["genericGridUserListPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["type","radio","name","reportType","value","5",3,"ngModel","ngModelChange","change"],[2,"width","127%","margin-left","-8%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","3",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],["value","2"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr",8),e.TgZ(13,"div",9)(14,"div",10)(15,"div",5)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,oz,6,3,"fieldset",16),e.YNc(38,az,8,2,"fieldset",16),e.TgZ(39,"fieldset")(40,"legend",11),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div",12)(43,"div",5)(44,"div",17)(45,"div",18)(46,"div",19)(47,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(48,"div",21)(49,"label",22),e._uU(50,"Item Wise Report"),e.qZA()()(),e.TgZ(51,"div",18)(52,"div",23)(53,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(54,"div",21)(55,"label",22),e._uU(56,"Item Group Wise Report"),e.qZA()()(),e.TgZ(57,"div",18)(58,"div",19)(59,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(4)}),e.qZA()(),e.TgZ(60,"div",21)(61,"label",22),e._uU(62,"Day Wise Report"),e.qZA()()(),e.YNc(63,sz,6,1,"div",26),e.qZA()(),e.TgZ(64,"div",5),e.YNc(65,lz,20,3,"fieldset",27),e.qZA()()(),e.YNc(66,cz,6,2,"div",28),e.TgZ(67,"div",29)(68,"div",30)(69,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(70,"div",32)(71,"label",33),e._uU(72,"Show Item Grouping Hierarchy"),e.qZA()()(),e.YNc(73,pz,6,2,"div",34),e.qZA(),e.TgZ(74,"div",35)(75,"fieldset")(76,"legend"),e._uU(77,"Report Filter Option :"),e.qZA(),e.TgZ(78,"div",1)(79,"div",36)(80,"label",37),e._uU(81,"Item Group :"),e.qZA()(),e.TgZ(82,"div",38)(83,"app-simple-suggest",39),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=i}),e.qZA(),e.TgZ(84,"button",40),e.NdJ("click",function(){return r.reportTree()}),e._uU(85,"+"),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",36)(88,"label",37),e._uU(89,"Item Category :"),e.qZA()(),e.TgZ(90,"div",32)(91,"select",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT=i}),e._UZ(92,"option",42),e.YNc(93,dz,2,2,"option",43),e.qZA()()(),e.YNc(94,_z,8,2,"div",44),e.YNc(95,gz,8,2,"div",44),e.TgZ(96,"div",1)(97,"div",36)(98,"label",37),e._uU(99,"Vat Mode :"),e.qZA()(),e.TgZ(100,"div",32)(101,"select",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE=i}),e._UZ(102,"option",45),e.TgZ(103,"option",46),e._uU(104,"VATABLE ITEM"),e.qZA(),e.TgZ(105,"option",47),e._uU(106,"NON-VATABLE ITEM"),e.qZA()()()(),e.YNc(107,mz,12,1,"div",44),e.TgZ(108,"div",1)(109,"div",36)(110,"label",48),e._uU(111,"Customer Name :"),e.qZA()(),e.TgZ(112,"div",32)(113,"input",49),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(114,"div",1)(115,"div",50)(116,"label",51),e._uU(117,"User Name :"),e.qZA()(),e.TgZ(118,"div",52)(119,"div",53)(120,"input",54),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(121,"input",55),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER=i}),e.qZA(),e.TgZ(122,"label",56),e._uU(123,"All User"),e.qZA()()()()(),e.TgZ(124,"fieldset")(125,"legend",11),e._uU(126,"Item Selection :"),e.qZA(),e.TgZ(127,"div",1)(128,"div",36)(129,"label",37),e._uU(130,"Item Name :"),e.qZA()(),e.TgZ(131,"div",32)(132,"input",57),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.YNc(133,fz,5,2,"div",44),e.qZA(),e.TgZ(134,"fieldset")(135,"legend",11),e._uU(136,"Voucher Range Selection:"),e.qZA(),e.TgZ(137,"div",58)(138,"div",12)(139,"div",13)(140,"div",59)(141,"label"),e._uU(142," From: "),e.qZA(),e.TgZ(143,"input",60),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.VCHR1=i}),e.qZA()()(),e.TgZ(144,"div",5)(145,"div",59)(146,"label"),e._uU(147," To: "),e.qZA(),e.TgZ(148,"input",61),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.VCHR2=i})("change",function(){return r.voucherRange()}),e.qZA()()()()()()()()(),e.TgZ(149,"div",62)(150,"button",63),e.NdJ("click",function(){return r.onload()}),e._uU(151,"RUN"),e.qZA(),e.TgZ(152,"button",64),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(153,"Close"),e.qZA()()()()()(),e.TgZ(154,"generic-popup-grid",65,66),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(156,"generic-popup-grid",65,67),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(158,"multiselect-generic-grid",68,69),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(160,"generic-popup-grid",65,70),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.YNc(162,Oz,17,1,"div",16),e.TgZ(163,"app-report-popup",71,72),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING)("checked",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING),e.xp6(4),e.Q6J("ngIf",0==r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(10),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE),e.xp6(6),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME)("disabled",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.VCHR1),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.VCHR2),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ee.ky,Ht,et.c,ne.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Cz=["genericGridCustomerPopup"],Tz=["genericGridUserListPopup"];function Mz(n,s){1&n&&(e.TgZ(0,"option",52),e._uU(1,"ALL"),e.qZA())}function Az(n,s){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Pz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_DIV=o)}),e.YNc(4,Mz,2,0,"option",50),e.YNc(5,Az,2,2,"option",51),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function Rz(n,s){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function Ez(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_CCENTER=o)}),e._UZ(4,"option",54),e.TgZ(5,"option",52),e._uU(6," ALL "),e.qZA(),e.YNc(7,Rz,2,2,"option",51),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function yz(n,s){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function Iz(n,s){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function Nz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",55)(5,"select",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,yz,2,2,"option",51),e.qZA()(),e.TgZ(7,"div",41)(8,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES=o)}),e._UZ(9,"option",52),e.YNc(10,Iz,2,2,"option",51),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}function Dz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",16)(4,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",16)(8,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_INAD),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_INAD)}}let kz=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CNMODE:0,CUSTOMERNAME:"",params:"%",SHOWREVERESEENTRYONLY:0,CUSTID:"",TRNUSER:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.CreditNotebookReport={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new O.im,this.gridPopupSettingsForUserList=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.AppMode=$.N.appMode,this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),i.CreditNoteObj.CreditNote_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Credit Note Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="2",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0"):"Credit Note Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0"):"Credit Note Book Report_1"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="1"),this._reportFilterService.CreditNoteObj.CreditNote_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.CreditNoteObj.CreditNote_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.CreditNoteObj.CreditNote_CNMODE=this._reportFilterService.drillParam.reportparam.CNMODE,this._reportFilterService.CreditNoteObj.CreditNote_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE2,"AD")):(1!=this._reportFilterService.CreditNoteObj.assignPreviousValue&&(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.CreditNoteObj.CreditNote_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0",this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN=0,this._reportFilterService.CreditNoteObj.CreditNote_INAD="1",this._reportFilterService.CreditNoteObj.CreditNote_CNMODE="2",this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=0),this.changeVariant(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT),this.changeEntryDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.CreditNoteObj.CreditNote_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CreditNoteObj.CreditNote_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.CreditNoteObj.CreditNote_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CreditNoteObj.CreditNote_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.CreditNoteObj.CreditNote_CCENTER||null==this._reportFilterService.CreditNoteObj.CreditNote_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.CreditNoteObj.CreditNote_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CreditNoteObj.CreditNote_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.CreditNoteObj.CreditNote_CCENTER?this._reportFilterService.CreditNoteObj.CreditNote_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.CreditNoteObj.CreditNote_DIV?this._reportFilterService.CreditNoteObj.CreditNote_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN?this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE?this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT?this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.CreditNoteObj.CreditNote_ACID?this._reportFilterService.CreditNoteObj.CreditNote_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.CreditNoteObj.CreditNote_CUSTID?this._reportFilterService.CreditNoteObj.CreditNote_CUSTID:"%",this.repObj.reportparam.INAD=this._reportFilterService.CreditNoteObj.CreditNote_INAD?this._reportFilterService.CreditNoteObj.CreditNote_INAD:1,this.repObj.reportparam.CNMODE=this._reportFilterService.CreditNoteObj.CreditNote_CNMODE?this._reportFilterService.CreditNoteObj.CreditNote_CNMODE:2,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER?this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER:"",this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE?this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE:0,this.repObj.reportparam.TRNUSER=this._reportFilterService.CreditNoteObj.CreditNote_USERNAME?this._reportFilterService.CreditNoteObj.CreditNote_USERNAME:"%";let t={};this.variantmaster.length>0?(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT||(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.CreditNoteObj.CreditNote_VARIANT]=this._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES?this._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Credit Note Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Credit Note Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Credit Note Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Credit Note Book Report_3"),this.repObj.REPORTDISPLAYNAME="Credit Note Book Report",this._reportFilterService.CreditNoteObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMERCODE=t.CUSTID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=t.CUSTNAME,this._reportFilterService.CreditNoteObj.CreditNote_ACID=t.ACID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.CreditNoteObj.CreditNote_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.CreditNoteObj.CreditNote_USERNAME=t.UNAME}Change(){1==this._reportFilterService.CreditNoteObj.CreditNote_ALLUSER&&(this._reportFilterService.CreditNoteObj.CreditNote_USERNAME="")}onReportOptionChange(){3==this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["credit-notebook-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Cz,5),e.Gf(Tz,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:116,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","creditNoteOption","value","2",2,"font-size","11px",3,"ngModel","ngModelChange"],["type","radio","name","creditNoteOption","value","0",2,"font-size","11px",3,"ngModel","ngModelChange"],[2,"width","50%"],["type","radio","name","creditNoteOption","value","1",2,"font-size","11px",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Credit Note Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,Pz,6,3,"fieldset",15),e.YNc(38,Ez,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Credit Note Type Selection:"),e.qZA(),e.TgZ(42,"div",16)(43,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_CNMODE=i}),e.qZA(),e.TgZ(44,"label"),e._uU(45,"Both"),e.qZA()(),e.TgZ(46,"div",16)(47,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_CNMODE=i}),e.qZA(),e.TgZ(48,"label",19),e._uU(49,"Item Base Credit Note"),e.qZA()(),e.TgZ(50,"div",16)(51,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_CNMODE=i}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"A/C Base Credit Note"),e.qZA()()()(),e.TgZ(54,"div",21)(55,"fieldset")(56,"legend",10),e._uU(57,"Customer Selection :"),e.qZA(),e.TgZ(58,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"label",24),e._uU(65,"User Name :"),e.qZA()(),e.TgZ(66,"div",25)(67,"div",26)(68,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(69,"input",28),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_ALLUSER=i}),e.qZA(),e.TgZ(70,"label",29),e._uU(71,"All User"),e.qZA()()()()(),e.YNc(72,Nz,11,4,"fieldset",15),e.TgZ(73,"fieldset",30),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(74,"legend",10),e._uU(75,"Report Option :"),e.qZA(),e.TgZ(76,"div",31)(77,"div",32)(78,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(79,"label"),e._uU(80,"Voucher Wise"),e.qZA()(),e.TgZ(81,"div",32)(82,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(83,"label"),e._uU(84,"Day Wise"),e.qZA()(),e.TgZ(85,"div",32)(86,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(87,"label"),e._uU(88,"Month Wise"),e.qZA()()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Report Type :"),e.qZA(),e.TgZ(92,"div",16)(93,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(94,"label"),e._uU(95,"Summary Report"),e.qZA()(),e.TgZ(96,"div",16)(97,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(98,"label"),e._uU(99,"Detail Report"),e.qZA()()(),e.YNc(100,Dz,11,2,"fieldset",15),e.TgZ(101,"div",38)(102,"div",39)(103,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=i})("change",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(104,"div",41)(105,"label",42),e._uU(106,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(107,"div",43)(108,"button",44),e.NdJ("click",function(){return r.onload()}),e._uU(109,"RUN"),e.qZA(),e.TgZ(110,"button",45),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(111,"Close"),e.qZA()()()()()(),e.TgZ(112,"generic-popup-grid",46,47),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(114,"generic-popup-grid",46,48),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_USERNAME)("disabled",1==r._reportFilterService.CreditNoteObj.CreditNote_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_ALLUSER),e.xp6(3),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE)("checked",1==r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Fz=["genericGridSupplierPopup"];function jz(n,s){1&n&&(e.TgZ(0,"option",44),e._uU(1,"ALL"),e.qZA())}function Lz(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function wz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_DIV=o)}),e.YNc(4,jz,2,0,"option",42),e.YNc(5,Lz,2,2,"option",43),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function xz(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function Vz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_CCENTER=o)}),e._UZ(4,"option",46),e.TgZ(5,"option",44),e._uU(6," ALL "),e.qZA(),e.YNc(7,xz,2,2,"option",43),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function Wz(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function Zz(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function Hz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",47)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,Wz,2,2,"option",43),e.qZA()(),e.TgZ(7,"div",34)(8,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES=o)}),e._UZ(9,"option",44),e.YNc(10,Zz,2,2,"option",43),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}function Uz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",16)(4,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",16)(8,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_INAD),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_INAD)}}function zz(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Report Filter Option :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",47)(5,"label",51),e._uU(6,"Invoice Type :"),e.qZA()(),e.TgZ(7,"div",34)(8,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE=o)}),e.TgZ(9,"option",52),e._uU(10,"All"),e.qZA(),e.TgZ(11,"option",53),e._uU(12,"Trading"),e.qZA(),e.TgZ(13,"option",54),e._uU(14,"Non-Trading"),e.qZA(),e.TgZ(15,"option",55),e._uU(16,"Mixed"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE)}}let Bz=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,DNMODE:0,CUSTOMERNAME:"",params:"%",SHOWREVERESEENTRYONLY:0,INVOICETYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.DebitNotebookReport={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new O.im,this.AppMode=$.N.appMode,this.userSetting=c.getSetting(),this.userprofile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),i.DebitNoteObj.DebitNote_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userprofile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Debit Note Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="2",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0"):"Debit Note Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0"):"Debit Note Book Report"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="1"),this._reportFilterService.DebitNoteObj.DebitNote_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.DebitNoteObj.DebitNote_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.DebitNoteObj.DebitNote_DNMODE=this._reportFilterService.drillParam.reportparam.DNMODE,this._reportFilterService.DebitNoteObj.DebitNote_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE2,"AD")):(1!=this._reportFilterService.DebitNoteObj.assignPreviousValue&&(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.currDate>this.userprofile.PhiscalYearInfo.EndDate?this.userprofile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this.currDate>this.userprofile.PhiscalYearInfo.EndDate?this.userprofile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.DebitNoteObj.DebitNote_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0",this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN=0,this._reportFilterService.DebitNoteObj.DebitNote_INAD="1",this._reportFilterService.DebitNoteObj.DebitNote_DNMODE="2",this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=0,this._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE=0),this.changeVariant(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT),this.changeEntryDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.DebitNoteObj.DebitNote_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.DebitNoteObj.DebitNote_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.DebitNoteObj.DebitNote_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.DebitNoteObj.DebitNote_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.DebitNoteObj.DebitNote_CCENTER||null==this._reportFilterService.DebitNoteObj.DebitNote_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.DebitNoteObj.DebitNote_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.DebitNoteObj.DebitNote_DATE2,this.repObj.reportparam.PHISCALID=this.userprofile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.DebitNoteObj.DebitNote_CCENTER?this._reportFilterService.DebitNoteObj.DebitNote_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.DebitNoteObj.DebitNote_DIV?this._reportFilterService.DebitNoteObj.DebitNote_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN?this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE?this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT?this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE?this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE:"%",this.repObj.reportparam.INAD=this._reportFilterService.DebitNoteObj.DebitNote_INAD?this._reportFilterService.DebitNoteObj.DebitNote_INAD:1,this.repObj.reportparam.DNMODE=this._reportFilterService.DebitNoteObj.DebitNote_DNMODE?this._reportFilterService.DebitNoteObj.DebitNote_DNMODE:2,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER?this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER:"",this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE?this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE:0,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE??0;let t={};this.variantmaster.length>0?(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT||(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.DebitNoteObj.DebitNote_VARIANT]=this._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES?this._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Debit Note Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Debit Note Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Debit Note Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Debit Note Book Report_3"),this.repObj.REPORTDISPLAYNAME="Debit Note Book Report",this._reportFilterService.DebitNoteObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getSuppliersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE=t.ACID,this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=t.ACNAME}getSuppliersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.DebitNoteObj.DebitNote_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onReportOptionChange(){3==this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["debit-notebook-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(Fz,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","creditNoteOption","value","2",2,"font-size","11px",3,"ngModel","ngModelChange"],["type","radio","name","creditNoteOption","value","0",2,"font-size","11px",3,"ngModel","ngModelChange"],[2,"width","50%"],["type","radio","name","creditNoteOption","value","1",2,"font-size","11px",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Debit Note Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,wz,6,3,"fieldset",15),e.YNc(38,Vz,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Debit Note Type Selection:"),e.qZA(),e.TgZ(42,"div",16)(43,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DNMODE=i}),e.qZA(),e.TgZ(44,"label"),e._uU(45,"Both"),e.qZA()(),e.TgZ(46,"div",16)(47,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DNMODE=i}),e.qZA(),e.TgZ(48,"label",19),e._uU(49,"Item Base Debit Note"),e.qZA()(),e.TgZ(50,"div",16)(51,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DNMODE=i}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"A/C Base Debit Note"),e.qZA()()()(),e.TgZ(54,"div",21)(55,"fieldset")(56,"legend",10),e._uU(57,"Supplier Selection :"),e.qZA(),e.TgZ(58,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.YNc(59,Hz,11,4,"fieldset",15),e.TgZ(60,"fieldset",23),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(61,"legend",10),e._uU(62,"Report Option :"),e.qZA(),e.TgZ(63,"div",24)(64,"div",25)(65,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(66,"label"),e._uU(67,"Voucher Wise"),e.qZA()(),e.TgZ(68,"div",25)(69,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(70,"label"),e._uU(71,"Day Wise"),e.qZA()(),e.TgZ(72,"div",25)(73,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(74,"label"),e._uU(75,"Month Wise"),e.qZA()()()(),e.TgZ(76,"fieldset")(77,"legend",10),e._uU(78,"Report Type :"),e.qZA(),e.TgZ(79,"div",16)(80,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(81,"label"),e._uU(82,"Summary Report"),e.qZA()(),e.TgZ(83,"div",16)(84,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Detail Report"),e.qZA()()(),e.YNc(87,Uz,11,2,"fieldset",15),e.YNc(88,zz,17,1,"fieldset",15),e.TgZ(89,"div",31)(90,"div",32)(91,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=i})("change",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(92,"div",34)(93,"label",35),e._uU(94,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(95,"div",36)(96,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE)("checked",1==r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Jz=["multiselectGenericGrid"],Yz=["reportPopup"],qz=["genericGridSupplierPopup"],Gz=["genericGridItemPopup"];function Qz(n,s){1&n&&(e.TgZ(0,"option",51),e._uU(1,"ALL"),e.qZA())}function Kz(n,s){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function $z(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=o)}),e.YNc(4,Qz,2,0,"option",49),e.YNc(5,Kz,2,2,"option",50),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function Xz(n,s){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function eB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER=o)}),e._UZ(4,"option",53),e.TgZ(5,"option",51),e._uU(6," ALL "),e.qZA(),e.YNc(7,Xz,2,2,"option",50),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function tB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",18)(2,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkValue(4))}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",21),e._uU(5,"Day Wise Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT)}}function rB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",55)(1,"div",56)(2,"div",1)(3,"div",57)(4,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",20)(6,"label",21),e._uU(7,"Show Item Group Only"),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",57)(10,"input",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",20)(12,"label",21),e._uU(13,"Show Item Within Groups"),e.qZA()()(),e.TgZ(14,"div",1)(15,"div",57)(16,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(17,"div",20)(18,"label",21),e._uU(19,"Show All Item Group Hierarchy"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE)}}function iB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT)("checked",1==t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT)}}function oB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",65)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=o.target.checked?1:0)})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onChangeEvent(o))}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Item Details Also"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO)("checked",1==t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO)}}function nB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",29)(2,"label",30),e._uU(3,"Purchase Type :"),e.qZA()(),e.TgZ(4,"div",34)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP=o)}),e.TgZ(6,"option",66),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",67),e._uU(9,"IMPORT PURCHASE"),e.qZA(),e.TgZ(10,"option",68),e._uU(11,"LOCAL PURCHASE"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP)}}function aB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",29)(2,"label",30),e._uU(3,"Invoice Type :"),e.qZA()(),e.TgZ(4,"div",34)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE=o)}),e.TgZ(6,"option",68),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",67),e._uU(9,"TRADING"),e.qZA(),e.TgZ(10,"option",69),e._uU(11,"NON-TRADING"),e.qZA(),e.TgZ(12,"option",70),e._uU(13,"MIXED"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE)}}function sB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"input",71),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",72),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems)}}function lB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE)("checked",1==t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE)}}function cB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",89)(1,"ng-multiselect-dropdown",90),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function pB(n,s){if(1&n&&(e.TgZ(0,"div",85)(1,"div",86)(2,"label",87),e._uU(3),e.qZA()(),e.YNc(4,cB,2,4,"div",88),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function dB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",74)(2,"div",75)(3,"div",76)(4,"h5",77),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",79),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",80)(10,"div",81),e.YNc(11,pB,5,2,"div",82),e.qZA()(),e.TgZ(12,"div",83)(13,"button",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let hB=(()=>{class n{constructor(t,r,o,i,a,l,d,c,h){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.brandService=h,this.categorywiseConfigurationdetails=[],this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",SUPPLIERNAME:"",MENUCODE:"",params:"%",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",VATMODE:"",MANUFACTURER:"%",PURCHASETYPE:"",ITEMGROUP:"",SHOWBATCHWISESTOCK:0,INVOICETYPE:0,DEPARTMENT:"",MOTHERITEM:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.PurchaseReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.resultList=[],this.showVariantPopup=!1,this.multiselectPopupSettings=new ee.oe,this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.finalParam={},this.AppMode=$.N.appMode,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(m=>{this.costCenterList=m&&m||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(m=>{this.divisionList=m}),this.masterService.getMCatList().subscribe(m=>{this.MCatList=m}),this.masterService.getPTypeList().subscribe(m=>{m&&(this.PTypeList=m)}),this.masterService.getItemGroup().subscribe(m=>{m&&(this.ItemGroupList=m)}),this.masterService.getProductGroupList().subscribe(m=>{m&&(this.ProductGroupList=m)}),this.masterService.getManufacturerList().subscribe(m=>{m&&(this.ManufacturerList=m)}),this.masterService.getDepartmentList().subscribe(m=>{this.masterService.departmentList=m}),this.masterService.getMotherItemList().subscribe(m=>{this.masterService.motherItemList=m.result}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(m=>{m.result&&m.result.length&&(this.categorywiseConfigurationdetails=m.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let j=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof j&&j&&j.length?j:[]}}))},m=>{}),console.log("this.categorywiseConfigurationdetails",this.categorywiseConfigurationdetails);var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Report Item Wise_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="2"):"Purchase Report Item Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="3"),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,"AD")):(1!=this._reportFilterService.PurchaseItemWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE="100",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP="100",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=0,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE=0),this.changeVariant(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,"AD"))})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(t=>{this.resss=t[0],this.resultList=this.resss[0]})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeMultiSelect(t){console.log("events",t),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE="",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM="",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE="",this.selectMultiItems=1==t.target.checked?1:0}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER||null==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME="";if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME="";if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE&&"100"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME="";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE&&"100"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME="";this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?"All":this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWGROUPING?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME:"",this.repObj.reportparam.VATMODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MANUFACTURER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MANUFACTURER:"%",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE??0,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE??0,this.repObj.reportparam.DEPARTMENT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT:"%",this.repObj.reportparam.MOTHERITEM=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM:"%",this.repObj.reportparam.params=1==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=4),0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Purchase Report Item Wise_4"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_VARIANT":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_1_VARIANT":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_2_VARIANT":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_3_VARIANT":4==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Purchase Report Item Wise_4_VARIANT")),this.repObj.REPORTDISPLAYNAME="Purchase Report Item Wise",this._reportFilterService.PurchaseItemWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE=t.ACID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=t.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=t.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=t.DESCA,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){console.log("value check value",t),0==t&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="0"),1==t&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=0),4==t&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="4")}onChangeEvent(t){console.log("k ho esto",t),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=1==t?"2":"1"}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}reportTree(){this.reportPopup.show()}selectedValue(t){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=t.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP=t.DESCA}filterForDepartment(t){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWise_DEPARTMENT=t.DepartmentName}filterForMotherItem(t){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM=t.ID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME=t.MOTHERITEMNAME}treeNodeSelected(t){this.reportPopup.hide(),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=t.id,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP=t.name}showVariantFilter(t){1==t.target.checked?(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e),e.Y36(tt.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchasereport-itemwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Jz,5),e.Gf(Yz,5),e.Gf(qz,5),e.Gf(Gz,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:111,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-5"],[2,"margin-top","2%","margin-bottom","2%","margin-left","-15%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["class","row",4,"ngIf"],[1,"col-md-7"],["style","width: 115%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[2,"margin-left","-10%","width","100%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"treeNodeValue"],["reportPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],[2,"width","115%"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","3",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox"],["value","100"],["value","1"],["value","0"],["value","2"],["value","3"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"row","checkbox",2,"margin-top","5px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,$z,6,3,"fieldset",15),e.YNc(38,eB,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div",11)(43,"div",16)(44,"div",17)(45,"div",1)(46,"div",18)(47,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(48,"div",20)(49,"label",21),e._uU(50,"Item Wise Report"),e.qZA()()(),e.TgZ(51,"div",1)(52,"div",18)(53,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(54,"div",20)(55,"label",21),e._uU(56,"Mother Item Wise Report"),e.qZA()()(),e.YNc(57,tB,6,1,"div",23),e.qZA()(),e.TgZ(58,"div",24),e.YNc(59,rB,20,3,"fieldset",25),e.qZA()()(),e.YNc(60,iB,6,2,"div",26),e.YNc(61,oB,6,2,"div",27),e.qZA(),e.TgZ(62,"div",28)(63,"fieldset")(64,"legend"),e._uU(65,"Report Filter Option :"),e.qZA(),e.TgZ(66,"div",1)(67,"div",29)(68,"label",30),e._uU(69,"Department :"),e.qZA()(),e.TgZ(70,"div",31)(71,"app-simple-suggest",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT=i})("selectOption",function(i){return r.filterForDepartment(i)}),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",29)(74,"label",30),e._uU(75,"Main Item :"),e.qZA()(),e.TgZ(76,"div",31)(77,"app-simple-suggest",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME=i})("selectOption",function(i){return r.filterForMotherItem(i)}),e.qZA()()(),e.YNc(78,nB,12,1,"div",23),e.YNc(79,aB,14,1,"div",23),e.TgZ(80,"div",1)(81,"div",29)(82,"label",33),e._uU(83,"Supplier Name :"),e.qZA()(),e.TgZ(84,"div",34)(85,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(86,"fieldset")(87,"legend",10),e._uU(88,"Item Selection :"),e.qZA(),e.TgZ(89,"div",1)(90,"div",29)(91,"label",30),e._uU(92,"Item Name :"),e.qZA()(),e.TgZ(93,"div",34)(94,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.YNc(95,sB,5,2,"div",23),e.qZA(),e.YNc(96,lB,6,2,"div",37),e.qZA()()(),e.TgZ(97,"div",38)(98,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(99,"RUN"),e.qZA(),e.TgZ(100,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(101,"Close"),e.qZA()()()()()(),e.TgZ(102,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(104,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(106,"multiselect-generic-grid",44,45),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(108,"app-report-popup",46,47),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA(),e.YNc(110,dB,17,1,"div",15)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(10),e.Q6J("options",r.masterService.departmentList)("labelKey","DepartmentName")("valueKey","DepartmentName")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT),e.xp6(6),e.Q6J("options",r.masterService.motherItemList)("labelKey","MOTHERITEMNAME")("valueKey","MOTHERITEMNAME")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(4),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ee.ky,Ht,et.c,ne.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const _B=["genericGridItemPopup"],uB=["genericGridUserListPopup"];function gB(n,s){1&n&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function mB(n,s){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function fB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=o)}),e.YNc(4,gB,2,0,"option",53),e.YNc(5,mB,2,2,"option",30),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function SB(n,s){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function vB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER=o)}),e._UZ(4,"option",55),e.TgZ(5,"option",29),e._uU(6," ALL "),e.qZA(),e.YNc(7,SB,2,2,"option",30),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function OB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",23),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT)("checked",1==t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT)}}function bB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"div",18)(2,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",23),e._uU(5,"Show User Wise Format"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER)("checked",1==t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER)}}function CB(n,s){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function TB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",25)(2,"label",26),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",20)(5,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE=o)}),e.TgZ(6,"option",57),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",58),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",59),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE)}}function MB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",75)(1,"ng-multiselect-dropdown",76),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function AB(n,s){if(1&n&&(e.TgZ(0,"div",71)(1,"div",72)(2,"label",73),e._uU(3),e.qZA()(),e.YNc(4,MB,2,4,"div",74),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function PB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",60)(2,"div",61)(3,"div",62)(4,"h5",63),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",65),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",66)(10,"div",67),e.YNc(11,AB,5,2,"div",68),e.qZA()(),e.TgZ(12,"div",69)(13,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let RB=(()=>{class n{constructor(t,r,o,i,a,l,d,c,h){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=a,this.arouter=l,this._ActivatedRoute=d,this._authService=c,this._alertservice=h,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORT_TYPE:0,VCHR:"",BARCODE:"",SHOWDETAIL:0,MCODE:"",ITEMGROUPWISE:0,ITEMGROUP:"",ITEMNAME:"",MENUCODE:"",params:"%",DIVISIONNAME:"",ITEMGROUPNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SEGREGATEBYITEM:0,ShowDetail:0,SALESTYPE:"",VCHR1:0,VCHR2:0,TRNUSER:"",SHOWUSERWISE:0,SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForUserList=new O.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(m=>{this.costCenterList=m&&m||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(m=>{this.divisionList=m}),this.masterService.getItemGroup().subscribe(m=>{m&&(this.ItemGroupList=m)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(m=>{m.result&&m.result.length&&(this.categorywiseConfigurationdetails=m.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let j=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof j&&j&&j.length?j:[]}}))},m=>{});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList(),this.AppMode=$.N.appMode}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?"Sales Report Item Wise Detail"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETAIL,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE="0",this.changeEntryDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,"AD")):(1!=this._reportFilterService.SalesItemWiseDetailObj.assignPreviousValue&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=0,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE="0",this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=0,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE="0"),this.changeVariant(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_VARIANT),this.changeEntryDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER||null==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV&&"%"==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME="All";else if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV&&"%"!=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME="";if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP&&"%"==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP&&"%"!=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME="";if(this.repObj.reportparam.DATE1=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL??0,this.repObj.reportparam.ShowDetail=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL??0,this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPWISE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME:"",this.repObj.reportparam.SEGREGATEBYITEM=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION??0,this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME:"%",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING??0,this.repObj.reportparam.SHOWUSERWISE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER??0,this._reportFilterService.SalesItemWiseDetailObj.VCHR1>this._reportFilterService.SalesItemWiseDetailObj.VCHR2)return void this._alertService.warning("Range selection of From must be less the To");this.repObj.reportparam.VCHR1=this._reportFilterService.SalesItemWiseDetailObj.VCHR1,this.repObj.reportparam.VCHR2=this._reportFilterService.SalesItemWiseDetailObj.VCHR2,this.repObj.reportparam.params=1==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORT_TYPE?"@Bill Wise Report":1==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Report":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_1":1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_2":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM&&(this.repObj.reportname="Sales Report Item Wise Detail_3"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_VARIANT":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_1_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_2_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM&&(this.repObj.reportname="Sales Report Item Wise Detail_3_VARIANT")),this.repObj.REPORTDISPLAYNAME="Sales Report Item Wise Detail",this._reportFilterService.SalesItemWiseDetailObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE=t.MCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=t.DESCA,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}voucherRange(){this._reportFilterService.SalesItemWiseDetailObj.VCHR1>this._reportFilterService.SalesItemWiseDetailObj.VCHR2&&this._alertService.warning("Range selection of From must be less the To")}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME=t.UNAME}Change(){1==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME="")}checkValue(t){(0==t||1==t)&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-itemwise-detail"]],viewQuery:function(t,r){if(1&t&&(e.Gf(_B,5),e.Gf(uB,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:124,vars:36,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],["class","row checkbox",4,"ngIf"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex","margin-left","19%"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","change"],[1,"row","mt-2"],[2,"display","flex"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridUserListPopup",""],["value","%",4,"ngIf"],[3,"value"],["value",""],[1,"row","checkbox"],["value","0"],["value","1"],["value","2"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Item Wise Detail"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,fB,6,3,"fieldset",15),e.YNc(38,vB,8,2,"fieldset",15),e.YNc(39,OB,6,2,"div",16),e.TgZ(40,"div",17)(41,"div",18)(42,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=i})("change",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(43,"div",20)(44,"label",21),e._uU(45,"Show Item Detail In Report"),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",18)(48,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=i})("change",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=i.target.checked?1:0}),e.qZA()(),e.TgZ(49,"div",20)(50,"label",21),e._uU(51,"Show Report Without Item Wise Segregation"),e.qZA()()(),e.YNc(52,bB,6,2,"div",22),e.TgZ(53,"div",17)(54,"div",18)(55,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(56,"div",20)(57,"label",23),e._uU(58,"Show Item Grouping Hierarchy"),e.qZA()()()(),e.TgZ(59,"div",24)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Filter Option :"),e.qZA(),e.TgZ(63,"div",1)(64,"div",25)(65,"label",26),e._uU(66,"Item Name :"),e.qZA()(),e.TgZ(67,"div",20)(68,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",25)(71,"label",26),e._uU(72,"Item Group :"),e.qZA()(),e.TgZ(73,"div",20)(74,"select",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP=i}),e._UZ(75,"option",29),e.YNc(76,CB,2,2,"option",30),e.qZA()()(),e.YNc(77,TB,12,1,"div",31),e.TgZ(78,"div",1)(79,"div",32)(80,"label",33),e._uU(81,"User Name :"),e.qZA()(),e.TgZ(82,"div",34)(83,"div",35)(84,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(85,"input",37),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER=i}),e.qZA(),e.TgZ(86,"label",38),e._uU(87,"All User"),e.qZA()()()()(),e.TgZ(88,"fieldset")(89,"legend",10),e._uU(90,"Report Option :"),e.qZA(),e.TgZ(91,"div",39)(92,"div",40)(93,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE=i})("change",function(){return r.checkValue(0)}),e.qZA(),e.TgZ(94,"label"),e._uU(95,"Bill Wise Report"),e.qZA()(),e.TgZ(96,"div",40)(97,"input",42),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE=i})("change",function(){return r.checkValue(1)}),e.qZA(),e.TgZ(98,"label"),e._uU(99,"Day Wise Report"),e.qZA()()()(),e.TgZ(100,"fieldset")(101,"legend",10),e._uU(102,"Voucher Range Selection:"),e.qZA(),e.TgZ(103,"div",43)(104,"div",40)(105,"div",44)(106,"label"),e._uU(107," From: "),e.qZA(),e.TgZ(108,"input",45),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.VCHR1=i}),e.qZA()()(),e.TgZ(109,"div",40)(110,"div",44)(111,"label"),e._uU(112," To: "),e.qZA(),e.TgZ(113,"input",46),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.VCHR2=i})("change",function(){return r.voucherRange()}),e.qZA()()()()()()()(),e.TgZ(114,"div",47)(115,"button",48),e.NdJ("click",function(){return r.onload()}),e._uU(116,"RUN"),e.qZA(),e.TgZ(117,"button",49),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(118,"Close"),e.qZA()()()()()(),e.TgZ(119,"generic-popup-grid",50,51),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(121,"generic-popup-grid",50,52),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.YNc(123,PB,17,1,"div",15)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION),e.xp6(4),e.Q6J("ngIf",0==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME)("disabled",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.VCHR1),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.VCHR2),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ne.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const EB=["genericGridSupplierPopup"],yB=["genericMultiSelectItems"];function IB(n,s){1&n&&(e.TgZ(0,"option",22),e._uU(1,"ALL"),e.qZA())}function NB(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function DB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=o)}),e.YNc(4,IB,2,0,"option",38),e.YNc(5,NB,2,2,"option",23),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function kB(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function FB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER=o)}),e._UZ(4,"option",40),e.TgZ(5,"option",22),e._uU(6," ALL "),e.qZA(),e.YNc(7,kB,2,2,"option",23),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function jB(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function LB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",17)(2,"label",18),e._uU(3,"Purchase Type :"),e.qZA()(),e.TgZ(4,"div",19)(5,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE=o)}),e.TgZ(6,"option",41),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",42),e._uU(9,"IMPORT PURCHASE"),e.qZA(),e.TgZ(10,"option",43),e._uU(11,"LOCAL PURCHASE"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE)}}function wB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",19)(4,"label",47),e._uU(5,"Show Item Detail In Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL)("checked",1==t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL)}}function xB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",19)(4,"label",47),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT)("checked",1==t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT)}}function VB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",63)(1,"ng-multiselect-dropdown",64),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function WB(n,s){if(1&n&&(e.TgZ(0,"div",59)(1,"div",60)(2,"label",61),e._uU(3),e.qZA()(),e.YNc(4,VB,2,4,"div",62),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function ZB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",48)(2,"div",49)(3,"div",50)(4,"h5",51),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",53),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",54)(10,"div",55),e.YNc(11,WB,5,2,"div",56),e.qZA()(),e.TgZ(12,"div",57)(13,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let HB=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=a,this.arouter=l,this._ActivatedRoute=d,this._authService=c,this.categorywiseConfigurationdetails=[],this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{SUPPLIERDISPLAYNAME:"",CUSTOMERNAME:"",ACID:"",DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORT_TYPE:0,VCHR:"",BARCODE:"",SHOWDETAIL:0,MCODE:"",ITEMGROUPWISE:0,ITEMGROUP:"",ITEMNAME:"",MENUCODE:"",params:"%",DIVISIONNAME:"",ITEMGROUPNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",PURCHASETYPE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.showVariantPopup=!1,this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForMultipleItems=new ee.oe,this.finalParam={},this.AppMode=$.N.appMode,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),a.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{})}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?"Purchase Report Item Wise Detail"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETAIL,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE="0",this.changeEntryDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,"AD")):(1!=this._reportFilterService.PurchaseItemWiseDetailObj.assignPreviousValue&&(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=0,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE="0",this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE="100"),this.changeVariant(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER||null==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(""==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||void 0===this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||null==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||null===this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM)return void this._alertService.info("Please Select Item");if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV&&"%"==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV&&"%"!=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME="";if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP&&"%"==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP&&"%"!=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL:0,this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPWISE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE:"",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE||"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER||"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER||"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.params=1==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORT_TYPE?"@Bill Wise Report":1==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Report":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_1":1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Report Item Wise Detail_2"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_VARIANT":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_1_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Report Item Wise Detail_2_VARIANT")),this.repObj.REPORTDISPLAYNAME="Purchase Report Item Wise Detail",this._reportFilterService.PurchaseItemWiseDetailObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemsEnterCommand(){this.getMultiItemsList(),this.genericMultiSelectItems.show()}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(t){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE=t.ACID,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=t.ACNAME}onMultiItemsSelected(t){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE=t.MCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=t.DESCA}getMultiItemsList(){this.gridPopupSettingsForMultipleItems=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){1==t.target.checked?(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-report-itemwise-detail"]],viewQuery:function(t,r){if(1&t&&(e.Gf(EB,5),e.Gf(yB,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericMultiSelectItems=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:86,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter to select Items",1,"form-control","input-text",2,"background","white",3,"ngModel","readonly","ngModelChange","keydown.enter"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["type","text","placeholder","Press Enter for Account List",1,"form-control","input-text",2,"background","white",3,"readonly","ngModel","ngModelChange","keydown.enter"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"popupsettings","onItemsSelected"],["genericMultiSelectItems",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["value","100"],["value","1"],["value","0"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Item Wise Detail"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,DB,6,3,"fieldset",15),e.YNc(38,FB,8,2,"fieldset",15),e.qZA(),e.TgZ(39,"div",16)(40,"fieldset")(41,"legend",10),e._uU(42,"Item Selection :"),e.qZA(),e.TgZ(43,"div",1)(44,"div",17)(45,"label",18),e._uU(46,"Item Name :"),e.qZA()(),e.TgZ(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=i})("keydown.enter",function(){return r.ItemsEnterCommand()}),e.qZA()()(),e.TgZ(49,"div",1)(50,"div",17)(51,"label",18),e._uU(52,"Item Group :"),e.qZA()(),e.TgZ(53,"div",19)(54,"select",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP=i}),e._UZ(55,"option",22),e.YNc(56,jB,2,2,"option",23),e.qZA()()(),e.YNc(57,LB,12,1,"div",24),e.qZA(),e.TgZ(58,"fieldset")(59,"legend",10),e._uU(60,"Supplier Selection :"),e.qZA(),e.TgZ(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)}),e.qZA()(),e.TgZ(62,"fieldset")(63,"legend",10),e._uU(64,"Report Option :"),e.qZA(),e.TgZ(65,"div",26)(66,"div",27)(67,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE=i}),e.qZA(),e.TgZ(68,"label"),e._uU(69,"Bill Wise Report"),e.qZA()(),e.TgZ(70,"div",27)(71,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE=i}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Day Wise Report"),e.qZA()()()(),e.YNc(74,wB,6,2,"div",30),e.YNc(75,xB,6,2,"div",30),e.qZA()()(),e.TgZ(76,"div",31)(77,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(83,"multiselect-generic-grid",36,37),e.NdJ("onItemsSelected",function(i){return r.onMultiItemsSelected(i)}),e.qZA(),e.YNc(85,ZB,17,1,"div",15)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM)("readonly",!0),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("readonly",!0)("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForMultipleItems),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ee.ky,ne.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const UB=["genericGridItemPopup"],zB=["genericGridSupplierPopup"];function BB(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function JB(n,s){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function YB(n,s){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function qB(n,s){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function GB(n,s){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function QB(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",25)(5,"select",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,qB,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",27)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,GB,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let KB=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,VCHR:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,ACID:"",SHOWBILLDETAIL:0,SUPPLIERNAME:"",ITEMNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForSupplier=new O.im,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),i.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Report Supplier Wise_1"==this._reportFilterService.drillParam.reportname?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="1":"Purchase Report Supplier Wise_2"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="2"),this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE):(1!=this._reportFilterService.PurchaseSupplierWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="0",this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=0,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL=0),this.changeVariant(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER||null==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT:0,this.repObj.reportparam.SHOWBILLDETAIL=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM:"";let t={};this.variantmaster.length>0?(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT||(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT]=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),(1==this.repObj.reportparam.SHOWDETAIL||2==this.repObj.reportparam.SHOWDETAIL)&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0),this.repObj.reportparam.SHOWBILLDETAIL=2==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL?1:0,0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Supplier Wise":1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Supplier Wise_1":2==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Supplier Wise_2"),this.repObj.REPORTDISPLAYNAME="Purchase Report Supplier Wise",this._reportFilterService.PurchaseSupplierWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE=t.MCODE,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=t.DESCA}dblClickPopupParty(t){this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID=t.ACID,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=t.ACNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-report-supplier-wise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(UB,5),e.Gf(zB,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:104,vars:30,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","3%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","col-md-8"],[1,"col-md-2"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"width","85%"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Supplier Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=i}),e.YNc(41,BB,2,0,"option",16),e.YNc(42,JB,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,YB,2,2,"option",17),e.qZA()(),e.TgZ(51,"div",1)(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=i})("change",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"fieldset")(58,"legend",10),e._uU(59,"Supplier Selection :"),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Item Selection :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"label",26),e._uU(67,"Item Name :"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(70,"div",1),e._UZ(71,"div",25),e.TgZ(72,"div",29),e._UZ(73,"div",30),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Transaction >= Amount :"),e.qZA()(),e.TgZ(77,"div",5)(78,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT=i}),e.qZA()()()()(),e.YNc(79,QB,11,4,"fieldset",32),e.TgZ(80,"fieldset")(81,"legend",10),e._uU(82,"Report Type :"),e.qZA(),e.TgZ(83,"div",33)(84,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Summary Report"),e.qZA()(),e.TgZ(87,"div",33)(88,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(89,"label",36),e._uU(90,"Detail Report - By Item"),e.qZA()(),e.TgZ(91,"div",33)(92,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(93,"label",36),e._uU(94,"Detail Report - By Purchase Bill"),e.qZA()()()()()(),e.TgZ(95,"div",38)(96,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(102,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT)("checked",1==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT)("disabled",1==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL||2==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL||2==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const $B=["genericGridItemPopup"],XB=["genericGridCustomerPopup"];function eJ(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function tJ(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function rJ(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function iJ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=o.target.checked?1:0)}),e.qZA(),e.TgZ(2,"label",22),e._uU(3,"List Customer Name By Customer Type"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE)("checked",1==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE)("disabled",0!=t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL)}}function oJ(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.OrgTypeCode),e.xp6(1),e.hij(" ",t.OrgTypeName,"")}}function nJ(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.AREA_ID),e.xp6(1),e.hij(" ",t.AREA_NAME," ")}}function aJ(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.ACID),e.xp6(1),e.hij(" ",t.PARTYTYPE,"")}}function sJ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",32)(2,"label",34),e._uU(3,"Customer Type :"),e.qZA()(),e.TgZ(4,"div",28)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE=o)}),e._UZ(6,"option",19),e.YNc(7,aJ,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE),e.xp6(2),e.Q6J("ngForOf",t.CustomerTypeList)}}function lJ(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function cJ(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function pJ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",32)(5,"select",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,lJ,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",28)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,cJ,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let dJ=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,CUSTID:"",CTYPE:"",VCHR:"",AREAID:"",TRNMODE:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,SHOWBILLDETAIL:0,SHOWAREAWISE:0,ITEMNAME:"",CUSTOMERNAME:"",params:"%",PARTYTYPE:"%",SHOWCTYPEWISE:0,ACID:"%",WITHOUTCUSTOMERWISESEGRATION:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.areaLists=[],this.GeoList=[],this.variantmaster=[],this.variantvaluesList=[],this.CustomerTypeList=[],this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForCustomer=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getAreaGroup().subscribe(_=>{this.areaLists="ok"==_.status&&_.result?_.result:[]}),this.masterService.getGeoList().subscribe(_=>{"ok"==_.status&&(this.GeoList=_.result)}),this.masterService.getCustomerType().subscribe(_=>{_&&(this.CustomerTypeList=_)}),i.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Customer Wise_2"==this._reportFilterService.drillParam.reportname?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="1":"Sales Report Customer Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="2"),this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE=this._reportFilterService.drillParam.reportparam.CTYPE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=this._reportFilterService.drillParam.reportparam.SHOWAREAWISE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE=this._reportFilterService.drillParam.reportparam.TRNMODE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID=this._reportFilterService.drillParam.reportparam.AREAID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID=this._reportFilterService.drillParam.reportparam.CUSTID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this.changeEntryDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,"AD")):(1!=this._reportFilterService.SalesCustomerWiseObj.assignPreviousValue&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="0",this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=0),this.changeVariant(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER||null==this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL:0,this.repObj.reportparam.ACID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID:"%",this.repObj.reportparam.CTYPE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE:"%",this.repObj.reportparam.AREAID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID:0,this.repObj.reportparam.TRNMODE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT:0,this.repObj.reportparam.SHOWBILLDETAIL=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL:0,this.repObj.reportparam.SHOWAREAWISE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER:"",this.repObj.reportparam.PARTYTYPE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE:"%",0!=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=0),this.repObj.reportparam.SHOWCTYPEWISE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE:0,this.repObj.reportparam.WITHOUTCUSTOMERWISESEGRATION=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION:0;let t={};this.variantmaster.length>0?(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT||(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT]=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",(1==this.repObj.reportparam.SHOWDETAIL||2==this.repObj.reportparam.SHOWDETAIL)&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0,this.repObj.reportparam.SHOWAREAWISE=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.CUSTID="%"),0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWAREAWISE?this.repObj.reportname="Sales Report Customer Wise":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWAREAWISE?this.repObj.reportname="Sales Report Customer Wise_1":1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Customer Wise_2":2==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Customer Wise_3":3==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Customer Wise_4"),this.repObj.REPORTDISPLAYNAME="Sales Report Customer Wise",this._reportFilterService.SalesCustomerWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE=t.MCODE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=t.DESCA}dblClickPopupParty(t){this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=t.ACID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID=t.CUSTID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=t.CUSTNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=t.ACID}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onChangeValue(){0!=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-customer-wise"]],viewQuery:function(t,r){if(1&t&&(e.Gf($B,5),e.Gf(XB,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:143,vars:44,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","-9%","margin-left","5%","font-weight","bold","width","110%"],[1,"col",2,"padding-left","5px","margin-top","-5%"],[2,"font-size","11px","margin-left","5%","font-weight","bold","width","110%","margin-top","-9%"],["class","col","style","padding-left:5px;margin-top: -5%;",4,"ngIf"],[1,"row","checkbox",2,"padding-left","5px"],[1,"col-sm-1",2,"margin-left","-3%"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%","width","100% !important"],[2,"margin-left","-10%"],["value","0"],[1,"row","col-md-8"],[1,"form-control",2,"width","140%","margin-left","-9%","margin-top","8%","height","30px",3,"ngModel","ngModelChange"],["value","CREDIT"],["value","NONCREDIT"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change","click"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change","click"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridCustomerPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report- Customer Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=i}),e.YNc(41,eJ,2,0,"option",16),e.YNc(42,tJ,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49,"ALL "),e.qZA(),e.YNc(50,rJ,2,2,"option",17),e.qZA()(),e.TgZ(51,"div")(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=i})("change",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"List Customer Name By Area"),e.qZA()(),e.TgZ(56,"div",23)(57,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=i})("change",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(58,"label",24),e._uU(59,"Sort in Top N Basis"),e.qZA()(),e.YNc(60,iJ,4,3,"div",25),e.TgZ(61,"div",26)(62,"div",27)(63,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=i})("change",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=i.target.checked?1:0}),e.qZA()(),e.TgZ(64,"div",28)(65,"label",29),e._uU(66,"Show Report Without Customer Wise Record Segregation"),e.qZA()()()()(),e.TgZ(67,"div",30)(68,"fieldset")(69,"legend",10),e._uU(70,"Customer Selection :"),e.qZA(),e.TgZ(71,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(72,"fieldset")(73,"div",1)(74,"div",32)(75,"label",33),e._uU(76,"Customer Category :"),e.qZA()(),e.TgZ(77,"div",28)(78,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE=i}),e._UZ(79,"option",19),e.YNc(80,oJ,2,2,"option",17),e.qZA()()(),e.TgZ(81,"div",1)(82,"div",32)(83,"label",34),e._uU(84,"Area :"),e.qZA()(),e.TgZ(85,"div",28)(86,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID=i}),e._UZ(87,"option",35),e.YNc(88,nJ,2,2,"option",17),e.qZA()()(),e.TgZ(89,"div",1)(90,"div",32)(91,"label",33),e._uU(92,"Transaction Mode :"),e.qZA()(),e.TgZ(93,"div",36)(94,"div",32)(95,"select",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE=i}),e._UZ(96,"option",19),e.TgZ(97,"option",38),e._uU(98,"Credit"),e.qZA(),e.TgZ(99,"option",39),e._uU(100,"Non Credit"),e.qZA()()(),e.TgZ(101,"div",32)(102,"label",34),e._uU(103,"Transaction >= Amount :"),e.qZA()(),e.TgZ(104,"div",32)(105,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=i}),e.qZA()()()(),e.TgZ(106,"div",1)(107,"div",32)(108,"label",34),e._uU(109,"Item Name :"),e.qZA()(),e.TgZ(110,"div",28)(111,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.YNc(112,sJ,8,2,"div",42),e.qZA(),e.YNc(113,pJ,11,4,"fieldset",43),e.TgZ(114,"fieldset")(115,"legend",10),e._uU(116,"Report Type :"),e.qZA(),e.TgZ(117,"div")(118,"div",44)(119,"input",45),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return r.onChangeValue()}),e.qZA(),e.TgZ(120,"label",46),e._uU(121,"Summary Report - By Customer"),e.qZA()(),e.TgZ(122,"div",44)(123,"input",47),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return r.onChangeValue()}),e.qZA(),e.TgZ(124,"label",46),e._uU(125,"Summary Report - Day Wise"),e.qZA()(),e.TgZ(126,"div",44)(127,"input",48),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return r.onChangeValue()})("click",function(){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=null}),e.qZA(),e.TgZ(128,"label",46),e._uU(129,"Detail Report - By Item"),e.qZA()(),e.TgZ(130,"div",44)(131,"input",49),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return r.onChangeValue()})("click",function(){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=null}),e.qZA(),e.TgZ(132,"label",46),e._uU(133,"Detail Report - By Sales Bill"),e.qZA()()()()()()(),e.TgZ(134,"div",50)(135,"button",51),e.NdJ("click",function(){return r.onload()}),e._uU(136,"RUN"),e.qZA(),e.TgZ(137,"button",52),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(138,"Close"),e.qZA()()()()()(),e.TgZ(139,"generic-popup-grid",53,54),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(141,"generic-popup-grid",53,55),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE)("disabled",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT)("disabled",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(3),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION)("disabled",0==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||3==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE),e.xp6(2),e.Q6J("ngForOf",r.GeoList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID),e.xp6(2),e.Q6J("ngForOf",r.areaLists),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const hJ=["genericGridItemPopup"],_J=["genericGridSupplierPopup"];function uJ(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function gJ(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function mJ(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function fJ(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function SJ(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function vJ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",25)(5,"select",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,fJ,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",27)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,SJ,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let OJ=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._alertService=l,this._ActivatedRoute=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,VCHR:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,ACID:"",SHOWBILLDETAIL:0,SUPPLIERNAME:"",ITEMNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForSupplier=new O.im,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),i.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Supplier Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,"AD")):(1!=this._reportFilterService.SalesSupplierWiseObj.assignPreviousValue&&(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL="0",this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=0,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWBILLDETAIL=0),this.changeVariant(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER||null==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(1==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL&&(""==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||void 0===this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||null==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||null===this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER))return void this._alertService.info("Please Select Supplier");this.repObj.reportparam.DATE1=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM:"";let t={};this.variantmaster.length>0?(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT||(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT]=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0),0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Supplier Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Supplier Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Supplier Wise",this._reportFilterService.SalesSupplierWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE=t.MCODE,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=t.DESCA}dblClickPopupParty(t){this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID=t.ACID,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=t.ACNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(y.c),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-supplier-wise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(hJ,5),e.Gf(_J,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:100,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","2%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","col-md-8"],[1,"col-md-2"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Supplier Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=i}),e.YNc(41,uJ,2,0,"option",16),e.YNc(42,gJ,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,mJ,2,2,"option",17),e.qZA()(),e.TgZ(51,"div",1)(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=i})("change",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"fieldset")(58,"legend",10),e._uU(59,"Supplier Selection :"),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Item Selection :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"label",26),e._uU(67,"Item Name :"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(70,"div",1),e._UZ(71,"div",25),e.TgZ(72,"div",29),e._UZ(73,"div",30),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Transaction >= Amount :"),e.qZA()(),e.TgZ(77,"div",5)(78,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT=i}),e.qZA()()()()(),e.YNc(79,vJ,11,4,"fieldset",32),e.TgZ(80,"fieldset")(81,"legend",10),e._uU(82,"Report Type :"),e.qZA(),e.TgZ(83,"div",33)(84,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Summary Report"),e.qZA()(),e.TgZ(87,"div",33)(88,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(89,"label"),e._uU(90,"Detail Report"),e.qZA()()()()()(),e.TgZ(91,"div",36)(92,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(93,"RUN"),e.qZA(),e.TgZ(94,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(95,"Close"),e.qZA()()()()()(),e.TgZ(96,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(98,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT)("checked",1==r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT)("disabled",1==r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function bJ(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function CJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function TJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function MJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function AJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function PJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function RJ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",34)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,AJ,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",25)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,PJ,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let EJ=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",MCAT:"",SHOWREPORT_ON_EXTRA_CATEGORY:0,SHOWDETAIL:0,VCHR:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),i.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Category Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,"AD")):(1!=this._reportFilterService.SalesCategoryWiseObj.assignPreviousValue&&(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL="0",this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=0),this.changeVariant(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day),this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day),this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER||null==this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV:"%",this.repObj.reportparam.MCAT=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT:"%",this.repObj.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let t={};this.variantmaster.length>0?(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT||(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT]=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Category Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Category Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Category Wise",this._reportFilterService.SalesCategoryWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["SalesReportCategoryWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:82,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Category Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=i}),e.YNc(41,bJ,2,0,"option",16),e.YNc(42,CJ,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,TJ,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Category Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT=i}),e._UZ(56,"option",19),e.YNc(57,MJ,2,2,"option",17),e.qZA()(),e.YNc(58,RJ,11,4,"fieldset",21),e.TgZ(59,"div",22)(60,"div",23)(61,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i})("change",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i.target.checked?1:0}),e.qZA()(),e.TgZ(62,"div",25)(63,"label",26),e._uU(64,"Show Report Of Extra Category"),e.qZA()()(),e.TgZ(65,"fieldset")(66,"legend",10),e._uU(67,"Report Type :"),e.qZA(),e.TgZ(68,"div",1)(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(71,"label"),e._uU(72,"Summary Report"),e.qZA()(),e.TgZ(73,"div",27)(74,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(75,"label"),e._uU(76,"Detail Report"),e.qZA()()()()()()(),e.TgZ(77,"div",30)(78,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",32),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY)("checked",1==r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const yJ=["division"];function IJ(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let NJ=(()=>{class n{constructor(t,r,o,i){if(this.masterService=t,this._trnMainService=r,this._alertService=o,this._authService=i,this.VATsalesRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",REPMODE:"",V1:"",V2:"",V3:""},REPORTDISPLAYNAME:""},this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var a=new Date;a.setMonth(a.getMonth()-1),this.VATsalesRegisterReport.DATE1=a.toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD")}else this.VATsalesRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.VATsalesRegisterReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD")):(this.VATsalesRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD")),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.VATsalesRegisterReport.isSI=!0,this.VATsalesRegisterReport.isCN=!0,this.VATsalesRegisterReport.SUMMARYREPORT=0;var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const d=new Date;this.currDate=(0,f.p6)(d,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.VATsalesRegisterReport.V1=1==this.VATsalesRegisterReport.isSI?"SI":"",this.VATsalesRegisterReport.V2=1==this.VATsalesRegisterReport.isCN?"CN":"",this.repObj.reportparam.DATE1=this.VATsalesRegisterReport.DATE1,this.repObj.reportparam.DATE2=this.VATsalesRegisterReport.DATE,this.repObj.reportparam.DIV=this.VATsalesRegisterReport.DIV?this.VATsalesRegisterReport.DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.REPMODE=this.VATsalesRegisterReport.SUMMARYREPORT,this.repObj.reportparam.V1=this.VATsalesRegisterReport.V1,this.repObj.reportparam.V2=this.VATsalesRegisterReport.V2,this.repObj.reportparam.V3="XX","1"==this.repObj.reportparam.REPMODE?this.repObj.reportname="VAT Sales Register Report":"0"==this.repObj.reportparam.REPMODE&&(this.repObj.reportname="VAT Sales Register Report_1"),this.repObj.REPORTDISPLAYNAME="VAT Sales Register Report",this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this.VATsalesRegisterReport.DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.VATsalesRegisterReport.BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.VATsalesRegisterReport.DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.VATsalesRegisterReport.BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.VATsalesRegisterReport.DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesregisterreport-dialog"]],viewQuery:function(t,r){if(1&t&&e.Gf(yJ,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:69,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff","width","69%","margin-left","280px"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"radio",2,"width","152px"],[1,"smallBoldLabel",2,"width","100%"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[2,"display","flex"],[1,"checkbox",2,"padding-top","5px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","152px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Sales Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.VATsalesRegisterReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.VATsalesRegisterReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DIV=i})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,IJ,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",9),e._uU(44,"Report Mode:"),e.qZA(),e.TgZ(45,"div",19)(46,"label",20)(47,"input",21),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(48," Summary Report"),e.qZA()(),e.TgZ(49,"div",19)(50,"label",20)(51,"input",21),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(52," Detail Report"),e.qZA()()(),e.TgZ(53,"fieldset")(54,"div",22)(55,"div")(56,"div",23)(57,"label",20)(58,"input",24),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.isSI=i}),e.qZA(),e._uU(59," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(60,"div",25)(61,"label",20)(62,"input",24),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.isCN=i}),e.qZA(),e._uU(63," Show Credit Note "),e.qZA()()()()(),e.TgZ(64,"div",26)(65,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(66,"RUN"),e.qZA(),e.TgZ(67,"button",28),e.NdJ("click",function(){return r.cancel()}),e._uU(68,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.VATsalesRegisterReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.VATsalesRegisterReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("value",1)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(4),e.Q6J("value",0)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(7),e.Q6J("ngModel",r.VATsalesRegisterReport.isSI),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.isCN))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,E.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function DJ(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function kJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function FJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function jJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function LJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function wJ(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function xJ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",34)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,LJ,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",24)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,wJ,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let VJ=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",MCAT:"",SHOWREPORT_ON_EXTRA_CATEGORY:0,SHOWDETAIL:0,VCHR:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),i.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Purchase Report Category Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,"AD")):(1!=this._reportFilterService.PurchaseCategoryWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL="0",this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=0),this.changeVariant(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER||null==this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV:"%",this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT:"%",this.repObj.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let t={};this.variantmaster.length>0?(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT||(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT]=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Category Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Category Wise_1"),this.repObj.REPORTDISPLAYNAME="Purchase Report Category Wise",this._reportFilterService.PurchaseCategoryWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["PurchaseReportCategoryWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:82,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Category Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=i}),e.YNc(41,DJ,2,0,"option",16),e.YNc(42,kJ,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,FJ,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Category Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT=i}),e._UZ(56,"option",19),e.YNc(57,jJ,2,2,"option",17),e.qZA()(),e.TgZ(58,"div",21)(59,"div",22)(60,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i})("change",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i.target.checked?1:0}),e.qZA()(),e.TgZ(61,"div",24)(62,"label",25),e._uU(63,"Show Report Of Extra Category"),e.qZA()()(),e.YNc(64,xJ,11,4,"fieldset",26),e.TgZ(65,"fieldset")(66,"legend",10),e._uU(67,"Report Type :"),e.qZA(),e.TgZ(68,"div",1)(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(71,"label"),e._uU(72,"Summary Report"),e.qZA()(),e.TgZ(73,"div",27)(74,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(75,"label"),e._uU(76,"Detail Report"),e.qZA()()()()()()(),e.TgZ(77,"div",30)(78,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",32),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY)("checked",1==r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY),e.xp6(4),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const WJ=["genericGridSupplierPopup"];function ZJ(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function HJ(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME,"\n")}}function UJ(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function zJ(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function BJ(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function JJ(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function YJ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",32)(5,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,BJ,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",34)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,JJ,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let qJ=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",SHOWDETAIL:0,PTYPE:100,params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.PTypeList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new O.im,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),i.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Purchase Report Product Type Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,"AD")):(1!=this._reportFilterService.PurchaseProductTypeObj.assignPreviousValue&&(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL="0"),this.changeVariant(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER||null==this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE:100,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let t={};this.variantmaster.length>0?(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT||(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT]=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Product Type Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Product Type Wise_1"),this.repObj.REPORTDISPLAYNAME="Purchase Report Product Type Wise",this._reportFilterService.PurchaseProductTypeObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CUSTOMERCODE=t.ACID,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["PurchaseReportProductTypeWise"]],viewQuery:function(t,r){if(1&t&&e.Gf(WJ,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:78,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["value","100"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"],[1,"col"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report Product Type Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=i}),e.YNc(41,ZJ,2,0,"option",16),e.YNc(42,HJ,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,UJ,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Product Type Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE=i}),e._UZ(56,"option",21),e.YNc(57,zJ,2,2,"option",17),e.qZA()(),e.YNc(58,YJ,11,4,"fieldset",22),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Type :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Summary Report"),e.qZA()(),e.TgZ(67,"div",23)(68,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Detail Report"),e.qZA()()()()()()(),e.TgZ(71,"div",26)(72,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",28),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()(),e.TgZ(76,"generic-popup-grid",29,30),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();var GJ=S(63321),Re=S(63213);const QJ=["reportPopup"],KJ=["genericGridSupplierPopup"],$J=["genericGridItemPopup"],XJ=["multiselectGenericGrid"];function eY(n,s){1&n&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function tY(n,s){if(1&n&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function rY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",68),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_DIV=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelectDivision(o))}),e.YNc(4,eY,2,0,"option",69),e.YNc(5,tY,2,2,"option",43),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function iY(n,s){1&n&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function oY(n,s){1&n&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function nY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20),e.YNc(4,iY,2,0,"label",71),e.YNc(5,oY,2,0,"label",71),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE)}}function aY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",31)(2,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",33)(4,"label",34),e._uU(5,"Show Variant Filters Popup"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT)}}function sY(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ng-multiselect-dropdown",73),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=o)}),e.ALo(2,"disableField"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Warehouse ")("settings",t.warehousedropdownSettings)("data",t.warehouseList)("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE)("disabled",e.lcZ(2,5,"disableWareHouse"))}}function lY(n,s){if(1&n&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function cY(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",74),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=o)}),e.ALo(2,"disableField"),e._UZ(3,"option",42),e.YNc(4,lY,2,2,"option",43),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE)("disabled",e.lcZ(2,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList)}}function pY(n,s){if(1&n&&(e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Warehouse Selection:"),e.qZA(),e.YNc(3,sY,3,7,"ng-container",15),e.YNc(4,cY,5,5,"ng-container",15),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",0==t.userSetting.UserWiseWarehouse),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.UserWiseWarehouse)}}function dY(n,s){if(1&n&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function hY(n,s){if(1&n&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function _Y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",33)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_PTYPE=o)}),e._UZ(6,"option",75),e.YNc(7,hY,2,2,"option",43),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function uY(n,s){if(1&n&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function gY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",49)(2,"label",37),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",33)(5,"select",76),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER=o)}),e._UZ(6,"option",42),e.YNc(7,uY,2,2,"option",43),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}function mY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"input",77),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",78),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems)}}function fY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Format :"),e.qZA(),e.TgZ(3,"div",79)(4,"div",80)(5,"input",81),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT=o)}),e.qZA(),e.TgZ(6,"label"),e._uU(7,"Summary Report"),e.qZA()(),e.TgZ(8,"div",80)(9,"input",82),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT=o)}),e.qZA(),e.TgZ(10,"label"),e._uU(11,"Detail Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT)}}function SY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",83)(1,"div",84)(2,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",33)(4,"label",34),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE)}}function vY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",1)(2,"div",84)(3,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",33)(5,"label",34),e._uU(6,"Show Alt Unit Stock Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)}}function OY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",83)(1,"div",1)(2,"div",84)(3,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",33)(5,"label",34),e._uU(6,"Show Alt Unit Stock Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)}}function bY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",84)(1,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL)}}function CY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",100)(1,"ng-multiselect-dropdown",101),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function TY(n,s){if(1&n&&(e.TgZ(0,"div",96)(1,"div",97)(2,"label",98),e._uU(3),e.qZA()(),e.YNc(4,CY,2,4,"div",99),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function MY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",85)(2,"div",86)(3,"div",87)(4,"h5",88),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",89),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",90),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",91)(10,"div",92),e.YNc(11,TY,5,2,"div",93),e.qZA()(),e.TgZ(12,"div",94)(13,"button",95),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",95),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let AY=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0,MANUFACTURER:"%",DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",SHOWLCOSTFORLOCALPURCHASE:0,ITEMGROUP:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.multiselectPopupSettings=new ee.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.variantparamters2={},this.finalParam={},this.AppMode=$.N.appMode,this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getProductGroupList().subscribe(_=>{_&&(this.ProductGroupList=_)}),this.masterService.getWarehouseListByDivision(this._reportFilterService.StockSummaryObj.StockSummary_DIV??"").subscribe(_=>{this.warehouseList=_.result},_=>{this.warehouseList=[]}),this.masterService.getManufacturerList().subscribe(_=>{_&&(this.ManufacturerList=_)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100},this.warehousedropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"NAME",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:200};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?"Stock Summary Report_A"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):"Stock Summary Report_4"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="2",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):"Stock Summary Report_2"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="1",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):(1!=this._reportFilterService.StockSummaryObj.assignPreviousValue&&(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockSummaryObj.StockSummary_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":"lite"==this.AppMode?this.masterService.userProfile.userDivision:this.masterService.PhiscalObj.Div,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=0,this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=1==this.userSetting.UserWiseWarehouse?this.userProfile.userWarehouse:"%",this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=0),"lite"==this.AppMode&&(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this.masterService.userProfile.userWarehouse),this.changeVariant(this._reportFilterService.StockSummaryObj.StockSummary_VARIANT),this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD"))})}onSelectDivision(t){this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE="%",this.masterService.getWarehouseListByDivision(t.target.value).subscribe(r=>{this.warehouseList=r.result},r=>{this.warehouseList=[]})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockSummaryObj.StockSummary_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockSummaryObj.StockSummary_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockSummaryObj.StockSummary_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockSummaryObj.StockSummary_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeMultiSelect(t){console.log("events",t),this._reportFilterService.StockSummaryObj.StockSummary_MCODE="",this._reportFilterService.StockSummaryObj.StockSummary_ITEM="",this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE="",this.selectMultiItems=1==t.target.checked?1:0}onload(){let t=[];if(0==this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE.length&&(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE="%"),"%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE.forEach(a=>{t.push(a.NAME)}),this._reportFilterService.StockSummaryObj.StockSummary_DIV&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_DIV)this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME="All";else if(this._reportFilterService.StockSummaryObj.StockSummary_DIV&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_DIV){let a=this.divisionList.filter(l=>l.Division==this._reportFilterService.StockSummaryObj.StockSummary_DIV);this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME=a&&a.length>0&&a[0]?a[0].NAME:""}else this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME="";if(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSENAME=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?"All":this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE:"",this._reportFilterService.StockSummaryObj.StockSummary_MGROUP&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP)this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME="All";else if(this._reportFilterService.StockSummaryObj.StockSummary_MGROUP&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_MGROUP){let a=this.ProductGroupList.filter(l=>l.MCODE==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP);this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME=a&&a.length>0&&a[0]?a[0].DESCA:""}else this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME="";if(this._reportFilterService.StockSummaryObj.StockSummary_PTYPE&&"100"==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP)this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME="";else if(this._reportFilterService.StockSummaryObj.StockSummary_PTYPE&&"100"!=this._reportFilterService.StockSummaryObj.StockSummary_PTYPE){let a=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.StockSummaryObj.StockSummary_PTYPE);this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME=a&&a.length>0&&a[0]?a[0].PTYPENAME:""}else this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME="";this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME=this._reportFilterService.StockSummaryObj.StockSummary_MCAT&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_MCAT?"All":this._reportFilterService.StockSummaryObj.StockSummary_MCAT&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_MCAT?this._reportFilterService.StockSummaryObj.StockSummary_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockSummaryObj.StockSummary_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockSummaryObj.StockSummary_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockSummaryObj.StockSummary_DIV?this._reportFilterService.StockSummaryObj.StockSummary_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.DETAILFORMAT=this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT?this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT:0,this.repObj.reportparam.SUPCODE=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockSummaryObj.StockSummary_MCODE?this._reportFilterService.StockSummaryObj.StockSummary_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE?this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE:0,this.repObj.reportparam.ReportMode=this._reportFilterService.StockSummaryObj.StockSummary_ReportMode?this._reportFilterService.StockSummaryObj.StockSummary_ReportMode:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport?this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport:0,this.repObj.reportparam.WAREHOUSE="%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?t.toString():"%",this.repObj.reportparam.MGROUP=this._reportFilterService.StockSummaryObj.StockSummary_MGROUP?this._reportFilterService.StockSummaryObj.StockSummary_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockSummaryObj.StockSummary_PTYPE?this._reportFilterService.StockSummaryObj.StockSummary_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockSummaryObj.StockSummary_MCAT?this._reportFilterService.StockSummaryObj.StockSummary_MCAT:"%",this.repObj.reportparam.ShowDetail=this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL?this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEM?this._reportFilterService.StockSummaryObj.StockSummary_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE?this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE?this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE:0,this.repObj.reportparam.ShowAltUnitStockReport=this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT?this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING?this._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME?this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSENAME?t.toString():"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME?this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME?this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME?this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER?this._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER:"%",this.repObj.reportparam.SHOWLCOSTFORLOCALPURCHASE=this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL?this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP?this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP:"",this.repObj.reportparam.params=1==this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.ReportMode?" @Stock Report Excluding Zero B/L":2==this.repObj.reportparam.ReportMode?" @Negative Stock Report Only":3==this.repObj.reportparam.ReportMode?" @Zero B/L Stock Report Only":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.ShowDetail?"@Report with Item Detail":"",1==this.masterService.userSetting.EnableVariantCategory?(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A_VARIANT"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A_VARIANT")):1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A_SBATCH"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A_SBATCH")):(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A")),this.repObj.REPORTDISPLAYNAME="Stock Summary Report",this._reportFilterService.StockSummaryObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=t.ACID,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.StockSummaryObj.StockSummary_MCODE=t.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.StockSummaryObj.StockSummary_MCODE=t.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=t.DESCA,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockSummaryObj.StockSummary_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=t.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=t.DESCA}changeValue(t){(""==t||null==t||null==t)&&(this._reportFilterService.StockSummaryObj.StockSummary_MGROUP="%")}treeNodeSelected(t){console.log("stock ledger ma data ayoo",t),this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=t.id,this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=t.name}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-summary-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(QJ,5),e.Gf(KJ,5),e.Gf($J,5),e.Gf(XJ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:167,vars:48,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["class","row","style","margin-bottom: -3%",4,"ngIf"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center","margin-right","1%"],[2,"width","95%","margin-left","8.2%",3,"options","labelKey","valueKey","ngModel","selectOption","change","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"form-control","input-text",2,"width","91%","margin-left","8%",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","120%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"width","91%","margin-left","8%",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],["class","row checkbox","style","margin-top:-10px;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","-10px"],["class","col-sm-1","style","margin-left: -10px;",4,"ngIf"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-3%"],[1,"col-sm-1",2,"margin-left","-10px","margin-top","4%"],[2,"font-size","12px","width","175px","margin-top","5%","margin-left","-10px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"multiselect","treeNodeValue"],["reportPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["value","%",4,"ngIf"],[3,"value"],["style","width: 100%;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","disabled","onSelect","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","100"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"row",2,"margin-top","-2%","margin-bottom","-1%"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Summary Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,rY,6,3,"fieldset",15),e.TgZ(38,"fieldset")(39,"legend",10),e._uU(40,"Report Type Selection :"),e.qZA(),e.TgZ(41,"div",16)(42,"div",17)(43,"div",18)(44,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=i}),e.qZA()(),e.TgZ(45,"div",20)(46,"label",21),e._uU(47,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(48,"div",17)(49,"div",18)(50,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=i}),e.qZA()(),e.TgZ(51,"div",20)(52,"label",21),e._uU(53,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(54,"div",17)(55,"div",18)(56,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=i}),e.qZA()(),e.TgZ(57,"div",20)(58,"label",21),e._uU(59,"Item Category Wise Stock Report"),e.qZA()()(),e.YNc(60,nY,6,4,"div",24),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Report Option :"),e.qZA(),e.TgZ(64,"div",16)(65,"div",17)(66,"div",18)(67,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(68,"div",20)(69,"label",21),e._uU(70,"Show All Item Stock Report"),e.qZA()()(),e.TgZ(71,"div",17)(72,"div",18)(73,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(74,"div",20)(75,"label",21),e._uU(76,"Show Stock Report Excluding Zero B/L"),e.qZA()()(),e.TgZ(77,"div",17)(78,"div",18)(79,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(80,"div",20)(81,"label",21),e._uU(82,"Show Negative Stock B/L Item Only"),e.qZA()()(),e.TgZ(83,"div",17)(84,"div",18)(85,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(86,"div",20)(87,"label",21),e._uU(88,"Show Zero Stock B/L Item Only"),e.qZA()()()()(),e.YNc(89,aY,6,2,"div",29),e.TgZ(90,"div",30)(91,"div",31)(92,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=i})("change",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=i.target.checked?1:0}),e.qZA()(),e.TgZ(93,"div",33)(94,"label",34),e._uU(95,"Show Landing Cost For Local Purchase Item as Well"),e.qZA()()()(),e.TgZ(96,"div",35),e.YNc(97,pY,5,2,"fieldset",15),e.TgZ(98,"fieldset")(99,"legend"),e._uU(100,"Report Filter Option :"),e.qZA(),e.TgZ(101,"div",8)(102,"div",36)(103,"label",37),e._uU(104,"Item Group :"),e.qZA()(),e.TgZ(105,"div",38)(106,"app-simple-suggest",39),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("change",function(i){return r.changeValue(i)})("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=i}),e.qZA(),e.TgZ(107,"button",40),e.NdJ("click",function(){return r.reportTree()}),e._uU(108,"+"),e.qZA()()(),e.TgZ(109,"div",1)(110,"div",36)(111,"label",37),e._uU(112,"Item Category :"),e.qZA()(),e.TgZ(113,"div",33)(114,"select",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_MCAT=i}),e._UZ(115,"option",42),e.YNc(116,dY,2,2,"option",43),e.qZA()()(),e.YNc(117,_Y,8,2,"div",44),e.YNc(118,gY,8,2,"div",44),e.TgZ(119,"div",45)(120,"div",36)(121,"label",46),e._uU(122,"Supplier Name :"),e.qZA()(),e.TgZ(123,"div",33)(124,"input",47),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(125,"fieldset")(126,"legend",10),e._uU(127,"Item Selection :"),e.qZA(),e.TgZ(128,"div",48)(129,"div",49)(130,"label",37),e._uU(131,"Item Name :"),e.qZA()(),e.TgZ(132,"div",33)(133,"input",50),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.YNc(134,mY,5,2,"div",44),e.qZA(),e.YNc(135,fY,12,2,"fieldset",15),e.TgZ(136,"div"),e.YNc(137,SY,6,2,"div",51),e.YNc(138,vY,7,2,"div",52),e.YNc(139,OY,7,2,"div",51),e.TgZ(140,"div",53)(141,"div",1),e.YNc(142,bY,2,2,"div",54),e.TgZ(143,"div",33)(144,"label",55),e._uU(145,"Show Item Detail In Report"),e.qZA()()(),e.TgZ(146,"div",53)(147,"div",1)(148,"div",56)(149,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(150,"div",33)(151,"label",57),e._uU(152,"Show Item Grouping Hierarchy"),e.qZA()()()()()()()()(),e.TgZ(153,"div",58)(154,"button",59),e.NdJ("click",function(){return r.onload()}),e._uU(155,"RUN"),e.qZA(),e.TgZ(156,"button",60),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(157,"Close"),e.qZA()()()()()(),e.YNc(158,MY,17,1,"div",15),e.TgZ(159,"generic-popup-grid",61,62),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(161,"generic-popup-grid",61,63),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(163,"multiselect-generic-grid",64,65),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(165,"app-report-popup",66,67),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0!=r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(4),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL),e.xp6(5),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(3),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING),e.xp6(9),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("multiselect",!0))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ee.ky,Ht,et.c,ne.O,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const PY=["reportPopup"],RY=["genericGridItemPopup"],EY=["multiselectGenericGrid"];function yY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT)("checked",1==t._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT)}}function IY(n,s){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function NY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Warehouse Selection:"),e.qZA(),e.TgZ(3,"select",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=o)}),e.ALo(4,"disableField"),e._UZ(5,"option",35),e.YNc(6,IY,2,2,"option",36),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE)("disabled","lite"==t.AppMode||e.lcZ(4,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList)}}function DY(n,s){1&n&&(e.TgZ(0,"option",35),e._uU(1,"ALL"),e.qZA())}function kY(n,s){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function FY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_DIV=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelectDivision(o))}),e.YNc(4,DY,2,0,"option",39),e.YNc(5,kY,2,2,"option",36),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_DIV)("disabled","lite"==t.AppMode),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function jY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Type:"),e.qZA(),e.TgZ(3,"div",40)(4,"div",41)(5,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE=o)}),e.qZA(),e.TgZ(6,"label",43),e._uU(7,"Detail Report"),e.qZA()(),e.TgZ(8,"div",41)(9,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE=o)}),e.qZA(),e.TgZ(10,"label",43),e._uU(11,"Summary Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE)}}function LY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Option"),e.qZA(),e.TgZ(3,"div",40)(4,"div",5)(5,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE=o)}),e.qZA(),e.TgZ(6,"label",43),e._uU(7,"Item Wise Report"),e.qZA()(),e.TgZ(8,"div",5)(9,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE=o)}),e.qZA(),e.TgZ(10,"label",47),e._uU(11,"Item Group Wise Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE)}}function wY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"input",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",54),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems)}}function xY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",48)(1,"legend",10),e._uU(2,"Item Selection :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",49)(5,"label",50),e._uU(6,"Item Name :"),e.qZA()(),e.TgZ(7,"div",32)(8,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEM=o)})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keypress",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()(),e.YNc(9,wY,5,2,"div",52),e.qZA()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode)}}function VY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",48)(1,"legend",10),e._uU(2,"Item Group Selection :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",55)(5,"label",50),e._uU(6,"Item Group :"),e.qZA()(),e.TgZ(7,"div",56)(8,"app-simple-suggest",57),e.NdJ("selectOption",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedValue(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=o)}),e.qZA(),e.TgZ(9,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.reportTree())}),e._uU(10,"+"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("options",t.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME)}}function WY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE)("checked",1==t._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE)}}function ZY(n,s){1&n&&(e.TgZ(0,"div",32)(1,"label",33),e._uU(2,"Show Batch Wise Stock Report"),e.qZA()())}function HY(n,s){if(1&n&&(e.TgZ(0,"div",59),e.YNc(1,WY,2,2,"div",60),e.YNc(2,ZY,3,0,"div",61),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(1),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE)}}function UY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",62)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show Item Detail In Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL)("checked",1==t._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL)}}function zY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"ng-multiselect-dropdown",79),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function BY(n,s){if(1&n&&(e.TgZ(0,"div",74)(1,"div",75)(2,"label",76),e._uU(3),e.qZA()(),e.YNc(4,zY,2,4,"div",77),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function JY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",63)(2,"div",64)(3,"div",65)(4,"h5",66),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",68),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",69)(10,"div",70),e.YNc(11,BY,5,2,"div",71),e.qZA()(),e.TgZ(12,"div",72)(13,"button",73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let YY=(()=>{class n{constructor(t,r,o,i,a,l,d,c,h,_){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=a,this.arouter=l,this._ActivatedRoute=d,this._authService=c,this.brandService=h,this.productMasterService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MCODE:"",WAREHOUSE:"",ITEMGROUPWISE:0,ITEMGROUP:"",SHOWDETAIL:0,ITEMNAME:"",MENUCODE:"",params:"%",SHOWBATCH:0,DIVISIONNAME:"",WAREHOUSENAME:"",SHOWITEMDETAILDISPLAY:"",REPORTYPE:0,ITEMGROUPNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.mainGroupList=[],this.resultList=[],this.gridPopupSettingsForItem=new O.im,this.multiselectPopupSettings=new ee.oe,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.showVariantPopup=!1,this.variantparamters2={},this.finalParam={},this.AppMode=$.N.appMode,this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(g=>{this.costCenterList=g&&g||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(g=>{this.divisionList=g}),this.masterService.getItemGroup().subscribe(g=>{g&&(this.ItemGroupList=g)}),this.masterService.getWarehouseListByDivision(this._reportFilterService.StockLedgerObj.StockLedger_DIV??"").subscribe(g=>{this.warehouseList=g.result},g=>{this.warehouseList=[]}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(g=>{g.result&&g.result.length&&(this.categorywiseConfigurationdetails=g.result,this.categorywiseConfigurationdetails.forEach(j=>{if(j.SELECTEDMCAT=[],j.finalSelectedMCAT=[],j.hasOwnProperty("VARIANTVALUES")){let H=JSON.parse(j.VARIANTVALUES);j.VARIANTVALUES="object"==typeof H&&H&&H.length?H:[]}}))},g=>{});var m=this.userProfile.PhiscalYearInfo.BeginDate;m=m.substring(0,10),this.date2=m,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(console.log("drill to stock leedget",this._reportFilterService.drillParam.returnUrl,this._reportFilterService.drillParam),this._reportFilterService.StockLedgerObj.StockLedger_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this._reportFilterService.drillParam.reportparam.DATE1?this._reportFilterService.drillParam.reportparam.DATE1.toString().substring(0,10):"",this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this._reportFilterService.drillParam.reportparam.DATE2?this._reportFilterService.drillParam.reportparam.DATE2.toString().substring(0,10):"",this._reportFilterService.StockLedgerObj.StockLedger_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE="0",this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=0,this.changeEntryDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE2,"AD")):(1!=this._reportFilterService.StockLedgerObj.assignPreviousValue&&(this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this.userProfile.userWarehouse),1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?this._reportFilterService.StockLedgerObj.StockLedger_DIV="%":"lite"==this.AppMode?(this._reportFilterService.StockLedgerObj.StockLedger_DIV=this.masterService.userProfile.userDivision,this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this.masterService.userProfile.userWarehouse):this._reportFilterService.StockLedgerObj.StockLedger_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE="0",this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=0,this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0,this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=0,this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE="1"),this.changeVariant(this._reportFilterService.StockLedgerObj.StockLedger_VARIANT),this.changeEntryDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockLedgerObj.StockLedger_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockLedgerObj.StockLedger_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockLedgerObj.StockLedger_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockLedgerObj.StockLedger_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeMultiSelect(t){console.log("events",t),this._reportFilterService.StockLedgerObj.StockLedger_MCODE="",this._reportFilterService.StockLedgerObj.StockLedger_ITEM="",this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE="",this.selectMultiItems=1==t.target.checked?1:0}onload(){if(0==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE&&(""==this._reportFilterService.StockLedgerObj.StockLedger_ITEM||void 0===this._reportFilterService.StockLedgerObj.StockLedger_ITEM||null==this._reportFilterService.StockLedgerObj.StockLedger_ITEM||null===this._reportFilterService.StockLedgerObj.StockLedger_ITEM))return void this._alertService.info("Please Select Item");if(1==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE&&("%"==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||void 0===this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||""==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||null==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||null===this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP))return void this._alertService.info("Please Select Item Group first!");if(this._reportFilterService.StockLedgerObj.StockLedger_DIV&&"%"==this._reportFilterService.StockLedgerObj.StockLedger_DIV)this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME="All";else if(this._reportFilterService.StockLedgerObj.StockLedger_DIV&&"%"!=this._reportFilterService.StockLedgerObj.StockLedger_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.StockLedgerObj.StockLedger_DIV);this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME="";this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE&&"%"==this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?"All":this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE&&"%"!=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockLedgerObj.StockLedger_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockLedgerObj.StockLedger_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockLedgerObj.StockLedger_DIV?this._reportFilterService.StockLedgerObj.StockLedger_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockLedgerObj.StockLedger_MCODE?this._reportFilterService.StockLedgerObj.StockLedger_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL?this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEM?this._reportFilterService.StockLedgerObj.StockLedger_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE?this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE:"",this.repObj.reportparam.SHOWBATCH=this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE?this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME?this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME:"",this.repObj.reportparam.REPORTYPE=this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE?this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE:0,this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME:"",console.log("this.repObj.reportparam.ITEMGROUPNAME",this.repObj.reportparam.ITEMGROUPNAME),this.repObj.reportparam.params=1==this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT&&this.abc.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportparam.ITEMGROUP="%":1==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportparam.MCODE="%",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME,console.log("loglolglglglglg",this.repObj.reportparam.ITEMGROUPNAME)),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_SBATCH":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_1_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_2_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH&&(this.repObj.reportname="Stock Ledger Other Report_3_SBATCH"),0==this.repObj.reportparam.REPORTYPE&&(this.repObj.reportname="Stock Ledger Other Report_4_SBATCH")):(0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_1":1==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_2":1==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH&&(this.repObj.reportname="Stock Ledger Other Report_3"),0==this.repObj.reportparam.REPORTYPE&&(this.repObj.reportname="Stock Ledger Other Report_4")),this.repObj.REPORTDISPLAYNAME="Stock Ledger Report",this._reportFilterService.StockLedgerObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.StockLedgerObj.StockLedger_MCODE=t.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.StockLedgerObj.StockLedger_MCODE=t.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=t.DESCA,this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockLedgerObj.StockLedger_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP=t.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=t.DESCA}treeNodeSelected(t){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",t),this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP=t.id,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=t.name}onSelectDivision(t){this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE="%",this.masterService.getWarehouseListByDivision(t.target.value).subscribe(r=>{this.warehouseList=r.result},r=>{this.warehouseList=[]})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(tt.c),e.Y36(Nn.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-ledger-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(PY,5),e.Gf(RY,5),e.Gf(EY,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:60,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[4,"ngIf"],[1,"col-md-6","filter-part"],["style","width: 96%;",4,"ngIf"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"treeNodeValue"],["reportPopup",""],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange","change"],["value","%",4,"ngIf"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reporttype","value","1",3,"ngModel","ngModelChange"],[2,"width","85% !important"],["type","radio","name","reporttype","value","0",3,"ngModel","ngModelChange"],["type","radio","name","itemgroup","value","0",3,"ngModel","ngModelChange"],["type","radio","name","itemgroup","value","1",3,"ngModel","ngModelChange"],[2,"width","88% !important"],[2,"width","96%"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row",4,"ngIf"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-3"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"row","checkbox",2,"margin-top","5px"],["class","col-sm-1","style","margin-left: -10px;",4,"ngIf"],["class","col",4,"ngIf"],[1,"col-sm-1",2,"margin-left","-10px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Ledger Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,yY,6,2,"div",15),e.YNc(38,NY,7,5,"fieldset",16),e.YNc(39,FY,6,4,"fieldset",16),e.qZA(),e.TgZ(40,"div",17),e.YNc(41,jY,12,2,"fieldset",16),e.YNc(42,LY,12,2,"fieldset",16),e.TgZ(43,"div",1),e.YNc(44,xY,10,2,"fieldset",18),e.YNc(45,VY,11,4,"fieldset",18),e.qZA(),e.YNc(46,HY,3,2,"div",19),e.YNc(47,UY,6,2,"div",15),e.qZA()()(),e.TgZ(48,"div",20)(49,"button",21),e.NdJ("click",function(){return r.onload()}),e._uU(50,"RUN"),e.qZA(),e.TgZ(51,"button",22),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(52,"Close"),e.qZA()()()()()(),e.YNc(53,JY,17,1,"div",16),e.TgZ(54,"generic-popup-grid",23,24),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(56,"multiselect-generic-grid",25,26),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(58,"app-report-popup",27,28),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_BSDATE2),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",0==r._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE),e.xp6(6),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ee.ky,Ht,et.c,ne.O,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const qY=["genericGridItemPopup"];function GY(n,s){1&n&&(e.TgZ(0,"option",37),e._uU(1,"ALL"),e.qZA())}function QY(n,s){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function KY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockValuation_DIV=o)}),e.YNc(4,GY,2,0,"option",35),e.YNc(5,QY,2,2,"option",36),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockValuation_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function $Y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",26)(2,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",23)(4,"label",28),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT)("checked",1==t._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT)}}function XY(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",55)(1,"ng-multiselect-dropdown",56),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function eq(n,s){if(1&n&&(e.TgZ(0,"div",51)(1,"div",52)(2,"label",53),e._uU(3),e.qZA()(),e.YNc(4,XY,2,4,"div",54),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function tq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",40)(2,"div",41)(3,"div",42)(4,"h5",43),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",45),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",46)(10,"div",47),e.YNc(11,eq,5,2,"div",48),e.qZA()(),e.TgZ(12,"div",49)(13,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let rq=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMID:"",DIV:"",BARCODE:"",MCODE:"",MENUCODE:"",SHOWDETAIL:0,ITEMNAME:"",params:"%",SHOWLCOSTFORLOCALPURCHASE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new O.im,this.showVariantPopup=!1,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.categorywiseConfigurationdetails=[],this.variantparamters2={},this.finalParam={},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100},this.AppMode=$.N.appMode;const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.StockValuationObj.StockValuation_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockValuationObj.StockValuation_DATE1=this._reportFilterService.drillParam.reportparam.DATE,this._reportFilterService.StockValuationObj.StockValuation_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL="1",this._reportFilterService.StockValuationObj.StockValuation_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this.changeEntryDate(this._reportFilterService.StockValuationObj.StockValuation_DATE1,"AD")):(1!=this._reportFilterService.StockValuationObj.assignPreviousValue&&(this._reportFilterService.StockValuationObj.StockValuation_DATE1=(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]:this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.StockValuationObj.StockValuation_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL="0",this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=0),this.changeVariant(this._reportFilterService.StockValuationObj.StockValuation_VARIANT),this.changeEntryDate(this._reportFilterService.StockValuationObj.StockValuation_DATE1,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockValuationObj.StockValuation_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockValuationObj.StockValuation_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockValuationObj.StockValuation_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockValuationObj.StockValuation_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.StockValuationObj.StockValuation_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockValuationObj.StockValuation_DIV?this._reportFilterService.StockValuationObj.StockValuation_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockValuationObj.StockValuation_MCODE?this._reportFilterService.StockValuationObj.StockValuation_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL?this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockValuationObj.StockValuation_ITEM?this._reportFilterService.StockValuationObj.StockValuation_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockValuationObj.StockValuation_MENUCODE?this._reportFilterService.StockValuationObj.StockValuation_MENUCODE:"",this.repObj.reportparam.SHOWLCOSTFORLOCALPURCHASE=this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL?this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL:0;let t={};this.variantmaster.length>0?(this._reportFilterService.StockValuationObj.StockValuation_VARIANT||(this._reportFilterService.StockValuationObj.StockValuation_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.StockValuationObj.StockValuation_VARIANT]=this._reportFilterService.StockValuationObj.StockValuation_VARIANTVALUES?this._reportFilterService.StockValuationObj.StockValuation_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Stock Valuation ReportNONDMS_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Stock Valuation ReportNONDMS_1_SBATCH"):0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Stock Valuation ReportNONDMS":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Stock Valuation ReportNONDMS_1"),this.repObj.REPORTDISPLAYNAME="Stock Valuation Report",this._reportFilterService.StockValuationObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.StockValuationObj.StockValuation_MCODE=t.MCODE,this._reportFilterService.StockValuationObj.StockValuation_ITEM=t.DESCA,this._reportFilterService.StockValuationObj.StockValuation_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockValuationObj.StockValuation_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];this.abc=this.categorywiseConfigurationdetails.filter(o=>o.SELECTEDMCAT.length>0),this.abc.forEach(o=>{r.push(o.VARIANTNAME)}),this.abc.forEach(o=>{t="",r.forEach(i=>{o.VARIANTNAME==i&&(o.SELECTEDMCAT.forEach(a=>{t+=`${a.NAME},`,this.finalParam[i]=t}),this.finalParam[i]=this.finalParam[i].slice(0,-1))})})}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-valuation-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(qY,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:65,vars:15,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Valuation Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_BSDATE1=i}),e.qZA()()()()()(),e.YNc(27,KY,6,3,"fieldset",15),e.TgZ(28,"fieldset")(29,"legend",10),e._uU(30,"Report Type :"),e.qZA(),e.TgZ(31,"div",1)(32,"div",16)(33,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL=i}),e.qZA(),e.TgZ(34,"label"),e._uU(35,"Summary Report"),e.qZA()(),e.TgZ(36,"div",16)(37,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL=i}),e.qZA(),e.TgZ(38,"label"),e._uU(39,"Detail Report"),e.qZA()()()(),e.YNc(40,$Y,6,2,"div",19),e.qZA(),e.TgZ(41,"div",20)(42,"fieldset")(43,"legend",10),e._uU(44,"Item Selection :"),e.qZA(),e.TgZ(45,"div",1)(46,"div",21)(47,"label",22),e._uU(48,"Item Name :"),e.qZA()(),e.TgZ(49,"div",23)(50,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(51,"div",25)(52,"div",26)(53,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=i})("change",function(i){return r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=i.target.checked?1:0}),e.qZA()(),e.TgZ(54,"div",23)(55,"label",28),e._uU(56,"Show Landing Cost For Purchase Item As Well "),e.qZA()()()()()(),e.TgZ(57,"div",29)(58,"button",30),e.NdJ("click",function(){return r.onload()}),e._uU(59,"RUN"),e.qZA(),e.TgZ(60,"button",31),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(61,"Close"),e.qZA()()()()()(),e.YNc(62,tq,17,1,"div",15),e.TgZ(63,"generic-popup-grid",32,33),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockValuationObj.StockValuation_BSDATE1),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL),e.xp6(3),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_ITEM),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL)("checked",1==r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL),e.xp6(9),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ne.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const iq=["genericGridMemberPopup"];function oq(n,s){1&n&&(e.TgZ(0,"option",39),e._uU(1,"ALL"),e.qZA())}function nq(n,s){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let aq=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MEMID:"",TOPNSORT:0,POINT:0,SUMMARY:1,MEMNAME:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.gridPopupSettingsForMember=new O.im,this.userProfile=this._authService.getUserProfile(),this.userSetting=c.getSetting(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID=this._reportFilterService.drillParam.reportparam.MEMID,this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.MembershipPointObj.MembershipPoint_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY="0",this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.MembershipPointObj.MembershipPoint_POINT=this._reportFilterService.drillParam.reportparam.POINT,this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=this._reportFilterService.drillParam.reportparam.MEMNAME,this.changeEntryDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,"AD")):(1!=this._reportFilterService.MembershipPointObj.assignPreviousValue&&(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.MembershipPointObj.MembershipPoint_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY="1",this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=0),this.changeEntryDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MembershipPointObj.MembershipPoint_DIV?this._reportFilterService.MembershipPointObj.MembershipPoint_DIV:"%",this.repObj.reportparam.MEMID=this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID?this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID:"%",this.repObj.reportparam.POINT=this._reportFilterService.MembershipPointObj.MembershipPoint_POINT?this._reportFilterService.MembershipPointObj.MembershipPoint_POINT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT?this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT:0,this.repObj.reportparam.SUMMARY=this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY?this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY:1,this.repObj.reportparam.MEMNAME=this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME?this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME:"",""==this.repObj.reportparam.MEMNAME&&(this.repObj.reportparam.MEMID="%"),1==this.repObj.reportparam.SUMMARY?this.repObj.reportname="Membership Point Report":0==this.repObj.reportparam.SUMMARY&&(this.repObj.reportname="Membership Point Report_1"),this.repObj.REPORTDISPLAYNAME="Membership Point Report",this._reportFilterService.MembershipPointObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}memberEnterCommand(t){this.getMembersList(),this.genericGridMemberPopup.show()}dblClickPopupParty(t){this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID=t.MEMID,this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=null==t.LNAME?t.FNAME:t.FNAME+" "+t.LNAME}getMembersList(){this.gridPopupSettingsForMember=this.masterService.getGenericGridPopUpSettings("AllMemberList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["membership-point-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(iq,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridMemberPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:79,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-5"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keypress"],[1,"row",2,"padding-top","5px","width","90%"],[2,"width","60%"],[2,"width","100%","font-weight","bold"],[2,"width","20%"],["type","text",1,"form-control","input-text",2,"width","100%",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridMemberPopup",""],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Membership Point Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_DIV=i}),e.YNc(41,oq,2,0,"option",16),e.YNc(42,nq,2,2,"option",17),e.qZA()()(),e.TgZ(43,"div",18)(44,"fieldset")(45,"legend",10),e._uU(46,"Report Type :"),e.qZA(),e.TgZ(47,"div",19)(48,"div",20)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY=i}),e.qZA(),e.TgZ(50,"label"),e._uU(51,"Summary Report"),e.qZA()(),e.TgZ(52,"div",20)(53,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY=i}),e.qZA(),e.TgZ(54,"label"),e._uU(55,"Detail Report"),e.qZA()()()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Member Name Selection :"),e.qZA(),e.TgZ(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=i})("keydown.enter",function(i){return r.memberEnterCommand(i)})("keydown.Tab",function(i){return r.memberEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(60,"div",24)(61,"div",25)(62,"label",26),e._uU(63,"Show Report having Points >= "),e.qZA()(),e.TgZ(64,"div",27)(65,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_POINT=i}),e.qZA()()(),e.TgZ(66,"div",29)(67,"div",30)(68,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=i})("change",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=i.target.checked?1:0}),e.qZA()(),e.TgZ(69,"div",32)(70,"label",33),e._uU(71,"Sort Report by Top N order"),e.qZA()()()()()(),e.TgZ(72,"div",34)(73,"button",35),e.NdJ("click",function(){return r.onload()}),e._uU(74,"RUN"),e.qZA(),e.TgZ(75,"button",36),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(76,"Close"),e.qZA()()()()()(),e.TgZ(77,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_POINT),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForMember))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function sq(n,s){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let lq=(()=>{class n{constructor(t,r,o,i){this.masterService=t,this._alertService=r,this._transactionService=o,this._authService=i,this.Annex5Report={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),this.Annex5Report.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.Annex5Report.DATE1,"AD"),this.Annex5Report.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.Annex5Report.DATE,"AD");var a=this.userProfile.PhiscalYearInfo.BeginDate;a=a.substring(0,10),this.date2=a;const l=new Date;this.currDate=(0,f.p6)(l,"yyyy-MM-dd","en-US"),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.Annex5Report.DIV="%"}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.reportdataEmit.emit({status:t,data:{reportname:"Annex 5 Report",reportparam:{DATE1:this.Annex5Report.DATE1,DATE2:this.Annex5Report.DATE,DIV:this.Annex5Report.DIV?this.Annex5Report.DIV:"%"}}})}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.Annex5Report.BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.Annex5Report.DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this.Annex5Report.BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.Annex5Report.DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(y.c),e.Y36(T.p),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["datereport"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:50,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-12"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Materialized View Report (Annex 5)"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return r.Annex5Report.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.Annex5Report.BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",14),e.NdJ("ngModelChange",function(i){return r.Annex5Report.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.Annex5Report.BSDATE2=i}),e.qZA()()()()()()(),e.TgZ(37,"div",10)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(i){return r.Annex5Report.DIV=i}),e.TgZ(42,"option",17),e._uU(43,"ALL"),e.qZA(),e.YNc(44,sq,2,2,"option",18),e.qZA()()(),e.TgZ(45,"div",19)(46,"button",20),e.NdJ("click",function(){return r.onload()}),e._uU(47,"RUN"),e.qZA(),e.TgZ(48,"button",21),e.NdJ("click",function(){return r.cancel()}),e._uU(49,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.Annex5Report.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.Annex5Report.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.Annex5Report.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.Annex5Report.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.Annex5Report.DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function cq(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.UserId),e.xp6(1),e.Oqu(t.UserId)}}function pq(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.FormName),e.xp6(1),e.Oqu(t.FormName)}}function dq(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.HostName),e.xp6(1),e.Oqu(t.HostName)}}function hq(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.TrnMode),e.xp6(1),e.Oqu(t.TrnMode)}}let _q=(()=>{class n{constructor(t,r,o,i,a){this.masterService=t,this._alertService=r,this._authService=o,this._reportFilterService=i,this.arouter=a,this.usersList=[],this.FormNameList=[],this.HostNameList=[],this.ActionList=[],this.repObj={reportname:"",reportparam:{SDate:"",EDate:"",Flg:1,UserID:"",HostNM:"",FormNM:"",ActionNM:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),this.masterService.getUsersFromLog().subscribe(c=>{"ok"==c.status&&(this.usersList=c.result)});var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const d=new Date;this.currDate=(0,f.p6)(d,"yyyy-MM-dd","en-US")}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),console.log("check",this._reportFilterService.TransactionLogObj.assignPreviousValue),1!=this._reportFilterService.TransactionLogObj.assignPreviousValue&&(this._reportFilterService.TransactionLogObj.transLog_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.TransactionLogObj.transLog_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=1,this._reportFilterService.TransactionLogObj.transLog_USERID="",this._reportFilterService.TransactionLogObj.transLog_HOSTNM="",this._reportFilterService.TransactionLogObj.transLog_FORMNM="",this._reportFilterService.TransactionLogObj.transLog_ACTIONNM="",this.changeEntryDate(this._reportFilterService.TransactionLogObj.transLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.TransactionLogObj.transLog_DATE2,"AD"))}onUserChange(){this.userID=this._reportFilterService.TransactionLogObj.transLog_USERID,this.masterService.getFormNameFromLog(this.userID).subscribe(t=>{this.FormNameList=t.result}),this.masterService.getHostNameFromLog(this.userID).subscribe(t=>{this.HostNameList=t.result}),this.masterService.getActionFromLog(this.userID).subscribe(t=>{this.ActionList=t.result})}onload(){this.repObj.reportparam.SDate=this._reportFilterService.TransactionLogObj.transLog_DATE1,this.repObj.reportparam.EDate=this._reportFilterService.TransactionLogObj.transLog_DATE2,this.repObj.reportparam.Flg=this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT?this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT:1,this.repObj.reportparam.UserID=this._reportFilterService.TransactionLogObj.transLog_USERID?this._reportFilterService.TransactionLogObj.transLog_USERID:"%",this.repObj.reportparam.HostNM=this._reportFilterService.TransactionLogObj.transLog_HOSTNM?this._reportFilterService.TransactionLogObj.transLog_HOSTNM:"%",this.repObj.reportparam.FormNM=this._reportFilterService.TransactionLogObj.transLog_FORMNM?this._reportFilterService.TransactionLogObj.transLog_FORMNM:"%",this.repObj.reportparam.ActionNM=this._reportFilterService.TransactionLogObj.transLog_ACTIONNM?this._reportFilterService.TransactionLogObj.transLog_ACTIONNM:"%",this.repObj.reportname="Transaction Activity Log Report",this.repObj.REPORTDISPLAYNAME="Transaction Activity Log Report",this._reportFilterService.TransactionLogObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}hide(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.TransactionLogObj.transLog_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.TransactionLogObj.transLog_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.TransactionLogObj.transLog_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.TransactionLogObj.transLog_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}cancel(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(y.c),e.Y36(P.e),e.Y36(A),e.Y36(v.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["transreport"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:26,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","form-group"],[1,"col-sm-4"],[1,"radio"],[1,"smallBoldLabel",2,"padding-right","10px"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"form-group","row"],[1,"col-md-3","smallBoldLabel"],[1,"col-md-9"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Transaction Activity Log Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",15),e._uU(39,"Report Mode:"),e.qZA(),e.TgZ(40,"div",16)(41,"div",17)(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=i}),e.qZA(),e._uU(45," Summary (User Wise)"),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",18)(48,"label",19)(49,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=i}),e.qZA(),e._uU(50," Summary"),e.qZA()()(),e.TgZ(51,"div",17)(52,"div",18)(53,"label",19)(54,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=i}),e.qZA(),e._uU(55," Detail"),e.qZA()()()()()(),e.TgZ(56,"div",21)(57,"fieldset")(58,"div",22)(59,"label",23),e._uU(60,"User"),e.qZA(),e.TgZ(61,"div",24)(62,"select",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_USERID=i})("change",function(){return r.onUserChange()}),e.YNc(63,cq,2,2,"option",26),e.qZA()()()(),e.TgZ(64,"fieldset")(65,"div",22)(66,"label",23),e._uU(67,"Entry Form"),e.qZA(),e.TgZ(68,"div",24)(69,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_FORMNM=i}),e.YNc(70,pq,2,2,"option",26),e.qZA()()(),e.TgZ(71,"div",22)(72,"label",23),e._uU(73,"Computer Name"),e.qZA(),e.TgZ(74,"div",24)(75,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_HOSTNM=i}),e.YNc(76,dq,2,2,"option",26),e.qZA()()(),e.TgZ(77,"div",22)(78,"label",23),e._uU(79,"Action"),e.qZA(),e.TgZ(80,"div",24)(81,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_ACTIONNM=i}),e.YNc(82,hq,2,2,"option",26),e.qZA()()()()(),e.TgZ(83,"div",28)(84,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",30),e.NdJ("click",function(){return r.cancel()}),e._uU(87,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.TransactionLogObj.transLog_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.TransactionLogObj.transLog_BSDATE2),e.xp6(8),e.Q6J("value",1)("ngModel",r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(5),e.Q6J("value",2)("ngModel",r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(5),e.Q6J("value",3)("ngModel",r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_USERID),e.xp6(1),e.Q6J("ngForOf",r.usersList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_FORMNM),e.xp6(1),e.Q6J("ngForOf",r.FormNameList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_HOSTNM),e.xp6(1),e.Q6J("ngForOf",r.HostNameList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_ACTIONNM),e.xp6(1),e.Q6J("ngForOf",r.ActionList))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function uq(n,s){1&n&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function gq(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function mq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",36)(4,"label",37),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT)("checked",1==t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT)}}function fq(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij("",t.NAME," ")}}function Sq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",36)(4,"label",37),e._uU(5,"Show InTransit Branch Transfer In Transaction Only"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT)("checked",1==t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT)("disabled","TO%"==t._reportFilterService.BranchTransferObj.BranchTransfer_VNO)}}function vq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",59)(1,"ng-multiselect-dropdown",60),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function Oq(n,s){if(1&n&&(e.TgZ(0,"div",55)(1,"div",56)(2,"label",57),e._uU(3),e.qZA()(),e.YNc(4,vq,2,4,"div",58),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function bq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",44)(2,"div",45)(3,"div",46)(4,"h5",47),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",49),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",50)(10,"div",51),e.YNc(11,Oq,5,2,"div",52),e.qZA()(),e.TgZ(12,"div",53)(13,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let Cq=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",OPT_BRANCHINOUT:"",ITEMWISE:0,IGNOREBRANCH:0,SHOWINTRANSIT:0,COMID:"",DIV:"",STATUS:0,BRANCH:"%",PHISCALID:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getNotLoginDivisionList().subscribe(_=>{this.transferToList=_}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.BranchTransferObj.assignPreviousValue&&(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferObj.BranchTransfer_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.BranchTransferObj.BranchTransfer_VNO="TO%",this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE="0",this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS="0"),this.changeVariant(this._reportFilterService.BranchTransferObj.BranchTransfer_VARIANT),this.changeEntryDate(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.BranchTransferObj.BranchTransfer_DIV?this._reportFilterService.BranchTransferObj.BranchTransfer_DIV:"%",this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferObj.BranchTransfer_DIV?this._reportFilterService.BranchTransferObj.BranchTransfer_DIV:"%",this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.BRANCH=this._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH?this._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH:"%",this.repObj.reportparam.OPT_BRANCHINOUT=this._reportFilterService.BranchTransferObj.BranchTransfer_VNO?this._reportFilterService.BranchTransferObj.BranchTransfer_VNO:"TR%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ITEMWISE=this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE?this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE:0,this.repObj.reportparam.STATUS=this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS?this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS:0,this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH?this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH:0,this.repObj.reportparam.SHOWINTRANSIT=this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT?this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT:0,this.repObj.reportparam.params=1==this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportparam.IGNOREBRANCH=0),"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&(this.repObj.reportparam.SHOWINTRANSIT=0),"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&(this.repObj.reportparam.STATUS=0),"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&1==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_2":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&0==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer In Report_1":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer Out Report":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportname="Branch Transfer Out Report_1"),1===this.masterService.userSetting.EnableVariantCategory&&("TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&1==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_2_VARIANT":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&0==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_VARIANT":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer In Report_1_VARIANT":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer Out Report_VARIANT":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportname="Branch Transfer Out Report_1_VARIANT")),this.repObj.REPORTDISPLAYNAME="Branch Transfer Report",this._reportFilterService.BranchTransferObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}TransferInOutChange(t){"TO%"==this._reportFilterService.BranchTransferObj.BranchTransfer_VNO&&(this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=0),"TR%"==this._reportFilterService.BranchTransferObj.BranchTransfer_VNO&&(this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS="0")}ItemWiseChange(t){0==this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE&&(this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=0)}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.BranchTransferObj.BranchTransfer_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branch-transfer-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:33,consts:[[1,"container",2,"width","58rem"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-left","4%"],["type","radio","name","reportOption","value","TO%",3,"ngModel","ngModelChange","change"],[2,"width","auto"],["type","radio","name","reportOption","value","TR%",3,"ngModel","ngModelChange","change"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],[2,"width","88%"],["value","%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[4,"ngIf"],[3,"value"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_DIV=i}),e.YNc(41,uq,2,0,"option",16),e.YNc(42,gq,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Report Option :"),e.qZA(),e.TgZ(46,"div",18)(47,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_VNO=i})("change",function(i){return r.TransferInOutChange(i)}),e.qZA(),e.TgZ(48,"label",20),e._uU(49,"Branch Transfer Out Report"),e.qZA()(),e.TgZ(50,"div",18)(51,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_VNO=i})("change",function(i){return r.TransferInOutChange(i)}),e.qZA(),e.TgZ(52,"label",20),e._uU(53,"Branch Transfer In Report"),e.qZA()()(),e.YNc(54,mq,6,2,"div",22),e.qZA(),e.TgZ(55,"div",23)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE=i})("change",function(i){return r.ItemWiseChange(i)}),e.qZA(),e.TgZ(62,"label",26),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",24)(65,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE=i}),e.qZA(),e.TgZ(66,"label",28),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Branch Transfer to/from:"),e.qZA(),e.TgZ(71,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH=i}),e._UZ(72,"option",29),e.YNc(73,fq,2,2,"option",17),e.qZA()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Report Type :"),e.qZA(),e.TgZ(77,"div",18)(78,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=i}),e.qZA(),e.TgZ(79,"label",26),e._uU(80,"Show All"),e.qZA()(),e.TgZ(81,"div",18)(82,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=i}),e.qZA(),e.TgZ(83,"label",26),e._uU(84,"Show Closed Transaction Only"),e.qZA()(),e.TgZ(85,"div",18)(86,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=i}),e.qZA(),e.TgZ(87,"label",26),e._uU(88,"Show Pending Transaction Only"),e.qZA()()(),e.TgZ(89,"div",33)(90,"div",34)(91,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=i})("change",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=i.target.checked?1:0}),e.qZA()(),e.TgZ(92,"div",36)(93,"label",37),e._uU(94,"Disable Branch Wise Segragation In Report"),e.qZA()()(),e.YNc(95,Sq,6,3,"div",22),e.qZA()()(),e.TgZ(96,"div",38)(97,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(98,"RUN"),e.qZA(),e.TgZ(99,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(100,"Close"),e.qZA()()()()()(),e.YNc(101,bq,17,1,"div",41)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(3),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH),e.xp6(2),e.Q6J("ngForOf",r.transferToList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH)("checked",1==r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH)("disabled",0==r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(4),e.Q6J("ngIf","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(6),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,E.v,ne.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Tq=["genericGridSupplierPopup"];function Mq(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function Aq(n,s){1&n&&(e.TgZ(0,"option",16),e._uU(1,"ALL"),e.qZA())}function Pq(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Rq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",25)(4,"label",45),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT)("checked",1==t._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT)}}function Eq(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function yq(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function Iq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"ng-multiselect-dropdown",62),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function Nq(n,s){if(1&n&&(e.TgZ(0,"div",57)(1,"div",58)(2,"label",59),e._uU(3),e.qZA()(),e.YNc(4,Iq,2,4,"div",60),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function Dq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",46)(2,"div",47)(3,"div",48)(4,"h5",49),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",51),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",52)(10,"div",53),e.YNc(11,Nq,5,2,"div",54),e.qZA()(),e.TgZ(12,"div",55)(13,"button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let kq=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,WAREHOUSE:"%",MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",SUPPLIERNAME:"",FROMDATE:"",TODATE:"",CURRENTDATE:"",COMID:"",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new O.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getWarehouseList().subscribe(_=>{this.warehouseList=_}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ItemExpiryObj.assignPreviousValue&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE="0"),this.changeVariant(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT),this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,this.repObj.reportparam.CURRENTDATE=(new Date).toJSON().split("T")[0],this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV?this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID?this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE?this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE:0,this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE?this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP?this._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT?this._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT:"%",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER?this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER:"";let t={};this.variantmaster.length>0?(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT||(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT]=this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANTVALUES?this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),1==this.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report SBATCH":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report SBATCH_1"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report SBATCH_VARIANT":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report SBATCH_1_VARIANT"))):(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report_1"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report_VARIANT":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report_1_VARIANT"))),this.repObj.REPORTDISPLAYNAME="Item Expiry Report",this._reportFilterService.ItemExpiryObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID=t.ACID,this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}daysSelection(t){let r=t.target.value;(""==r||null==r||null==r)&&(r=0),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt(r)),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.date.toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD")}disableDaysSelection(t){1==this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection="",this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD")),0==this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD"))}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["item-expiry-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(Tq,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:106,vars:32,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],[2,"margin-left","3%","width","100%"],["type","number",2,"width","50px",3,"ngModel","disabled","ngModelChange","input"],[1,"col"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange","change"],[2,"width","88%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Item Expiry Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Warehouse Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE=i}),e.ALo(41,"disableField"),e._UZ(42,"option",16),e.YNc(43,Mq,2,2,"option",17),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend",10),e._uU(46,"Division Selection:"),e.qZA(),e.TgZ(47,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_DIV=i}),e.YNc(48,Aq,2,0,"option",19),e.YNc(49,Pq,2,2,"option",17),e.qZA()(),e.YNc(50,Rq,6,2,"div",20),e.qZA(),e.TgZ(51,"div",21)(52,"fieldset")(53,"legend",10),e._uU(54,"Days Selection :"),e.qZA(),e.TgZ(55,"div",1)(56,"div",22)(57,"label",23),e._uU(58,"Going To Expire With In "),e.TgZ(59,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection=i})("input",function(i){return r.daysSelection(i)}),e.qZA(),e._uU(60," Days"),e.qZA()()()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Report Format :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE=i})("change",function(i){return r.disableDaysSelection(i)}),e.qZA(),e.TgZ(67,"label",27),e._uU(68,"Near To Expire Report"),e.qZA()(),e.TgZ(69,"div",25)(70,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE=i})("change",function(i){return r.disableDaysSelection(i)}),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"Already Expired Report"),e.qZA()()()(),e.TgZ(73,"fieldset")(74,"legend"),e._uU(75,"Report Filter Option :"),e.qZA(),e.TgZ(76,"div",8)(77,"div",30)(78,"label",31),e._uU(79,"Item Group :"),e.qZA()(),e.TgZ(80,"div",25)(81,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP=i}),e._UZ(82,"option",16),e.YNc(83,Eq,2,2,"option",17),e.qZA()()(),e.TgZ(84,"div",1)(85,"div",30)(86,"label",31),e._uU(87,"Item Category :"),e.qZA()(),e.TgZ(88,"div",25)(89,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT=i}),e._UZ(90,"option",16),e.YNc(91,yq,2,2,"option",17),e.qZA()()(),e.TgZ(92,"div",32)(93,"div",30)(94,"label",33),e._uU(95,"Supplier Name :"),e.qZA()(),e.TgZ(96,"div",25)(97,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(98,"div",35)(99,"button",36),e.NdJ("click",function(){return r.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",37),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",38,39),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.YNc(105,Dq,17,1,"div",40)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE)("disabled",e.lcZ(41,30,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection)("disabled",1==r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ne.O,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Fq=["genericGridSupplierPopup"];function jq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function Lq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function wq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function xq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT)("checked",1==t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT)}}function Vq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function Wq(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Zq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Hq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function Uq(n,s){if(1&n&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,Hq,2,4,"div",53),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function zq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,Uq,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let Bq=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new O.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getWarehouseList().subscribe(_=>{this.warehouseList=_}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.MaximumStockLevelObj.assignPreviousValue&&(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_REPORTTYPE="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ReportMode="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DETAILFORMAT="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.ACID=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE:"100",this.repObj.reportparam.CATEGORY=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ITEM?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MENUCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MENUCODE:"";let t={};this.variantmaster.length>0?(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT||(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT]=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANTVALUES?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Maximum Stock Level Report",this.repObj.REPORTDISPLAYNAME="Maximum Stock Level Report",this._reportFilterService.MaximumStockLevelObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE=t.ACID,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["maximum-stock-level-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(Fq,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Maximum Stock Level Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP=i}),e._UZ(36,"option",19),e.YNc(37,jq,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT=i}),e._UZ(44,"option",19),e.YNc(45,Lq,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE=i}),e._UZ(52,"option",21),e.YNc(53,wq,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.YNc(60,xq,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE=i}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,Vq,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV=i}),e.YNc(74,Wq,2,0,"option",27),e.YNc(75,Zq,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.YNc(83,zq,17,1,"div",33)),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v,ne.O,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Jq=["genericGridSupplierPopup"];function Yq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function qq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function Gq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function Qq(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT)("checked",1==t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT)}}function Kq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function $q(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Xq(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function eG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function tG(n,s){if(1&n&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,eG,2,4,"div",53),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function rG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,tG,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let iG=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new O.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getWarehouseList().subscribe(_=>{this.warehouseList=_}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.MinimumStockLevelObj.assignPreviousValue&&(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_REPORTTYPE="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ReportMode="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DETAILFORMAT="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.ACID=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE:"100",this.repObj.reportparam.ITEMNAME=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ITEM?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MENUCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MENUCODE:"";let t={};this.variantmaster.length>0?(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT||(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT]=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANTVALUES?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Minimum Stock Level Report",this.repObj.REPORTDISPLAYNAME="Minimum Stock Level Report",this._reportFilterService.MinimumStockLevelObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE=t.ACID,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["minimum-stock-level-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(Jq,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Minimum Stock Level Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP=i}),e._UZ(36,"option",19),e.YNc(37,Yq,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT=i}),e._UZ(44,"option",19),e.YNc(45,qq,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE=i}),e._UZ(52,"option",21),e.YNc(53,Gq,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.YNc(60,Qq,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE=i}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,Kq,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV=i}),e.YNc(74,$q,2,0,"option",27),e.YNc(75,Xq,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.YNc(83,rG,17,1,"div",33)),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v,ne.O,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const oG=["genericGridSupplierPopup"];function nG(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function aG(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function sG(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function lG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT)("checked",1==t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT)}}function cG(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function pG(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function dG(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function hG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function _G(n,s){if(1&n&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,hG,2,4,"div",53),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function uG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,_G,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let gG=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new O.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getWarehouseList().subscribe(_=>{this.warehouseList=_}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ReorderLevelStockReport.assignPreviousValue&&(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_REPORTTYPE="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ReportMode="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.DETAILFORMAT=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT:0,this.repObj.reportparam.ACID=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE:"100",this.repObj.reportparam.CATEGORY=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ITEM?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MENUCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MENUCODE:"";let t={};this.variantmaster.length>0?(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT||(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT]=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANTVALUES?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Reorder Level Stock Report",this.repObj.REPORTDISPLAYNAME="Reorder Level Stock Report",this._reportFilterService.ReorderLevelStockReport.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE=t.ACID,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["reorder-level-stock-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(oG,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Reorder Level Stock Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP=i}),e._UZ(36,"option",19),e.YNc(37,nG,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT=i}),e._UZ(44,"option",19),e.YNc(45,aG,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE=i}),e._UZ(52,"option",21),e.YNc(53,sG,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.YNc(60,lG,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE=i}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,cG,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV=i}),e.YNc(74,pG,2,0,"option",27),e.YNc(75,dG,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.YNc(83,uG,17,1,"div",33)),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v,ne.O,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const mG=["reportPopup"],fG=["genericGridSupplierPopup"],SG=["genericGridItemPopup"];function vG(n,s){1&n&&(e.TgZ(0,"option",32),e._uU(1,"ALL"),e.qZA())}function OG(n,s){if(1&n&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function bG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV=o)}),e.YNc(4,vG,2,0,"option",48),e.YNc(5,OG,2,2,"option",33),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function CG(n,s){1&n&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function TG(n,s){1&n&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function MG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20),e.YNc(4,CG,2,0,"label",51),e.YNc(5,TG,2,0,"label",51),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport)("checked",1==t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE)}}function AG(n,s){if(1&n&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function PG(n,s){if(1&n&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function RG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",25)(2,"label",26),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",30)(5,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE=o)}),e._UZ(6,"option",52),e.YNc(7,PG,2,2,"option",33),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function EG(n,s){if(1&n&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function yG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",25)(2,"label",26),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",30)(5,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER=o)}),e._UZ(6,"option",32),e.YNc(7,EG,2,2,"option",33),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}let IG=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._alertService=l,this._authService=d,this.brandService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",MANUFACTURER:"%",ITEMGROUP:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.ManufacturerList=[],this.resultList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.AppMode=$.N.appMode,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getProductGroupList().subscribe(_=>{_&&(this.ProductGroupList=_)}),this.masterService.getManufacturerList().subscribe(_=>{_&&(this.ManufacturerList=_)}),o.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockAbcAnalysisObj.assignPreviousValue&&(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE="0",this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=0),this.changeVariant(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT),this.changeEntryDate(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2,"AD"))})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(t=>{console.log("dataaaaaa",t[0]),this.resss=t[0],this.resultList=this.resss[0],console.log("dataaaaaaChildren",this.resss[0].children),console.log("LEVELS",this.resss[0].LEVELS),console.log("name",this.resss[0].name)})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER:"%",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP:"%";let t={};this.variantmaster.length>0?(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT||(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT]=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Stock Abc Analysis Report_SBATCH":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_1_SBATCH":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_2_SBATCH":2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_3_SBATCH":2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&(this.repObj.reportname="Stock Abc Analysis Report_4_SBATCH"):0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Stock Abc Analysis Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_1":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_2":2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_3":2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&(this.repObj.reportname="Stock Abc Analysis Report_4"),this.repObj.REPORTDISPLAYNAME="Stock Movement Analysis Report",this._reportFilterService.StockAbcAnalysisObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE=t.ACID,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE=t.MCODE,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM=t.DESCA,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP=t.MCODE,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=t.DESCA}treeNodeSelected(t){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",t),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP=t.id,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=t.name}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e),e.Y36(tt.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stockabc-analysis-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(mG,5),e.Gf(fG,5),e.Gf(SG,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:109,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["class","row","style","margin-bottom: -3%",4,"ngIf"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],["style","width: 100%;",4,"ngIf"],["value","100"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Movement Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,bG,6,3,"fieldset",15),e.qZA(),e.TgZ(38,"div",16)(39,"fieldset")(40,"legend",10),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div")(43,"div",17)(44,"div",18)(45,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(46,"div",20)(47,"label",21),e._uU(48,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(49,"div",17)(50,"div",18)(51,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(52,"div",20)(53,"label",21),e._uU(54,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(55,"div",17)(56,"div",18)(57,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(58,"div",20)(59,"label",21),e._uU(60,"Item Category Wise Stock Report"),e.qZA()()(),e.YNc(61,MG,6,4,"div",24),e.qZA()(),e.TgZ(62,"fieldset")(63,"legend"),e._uU(64,"Report Filter Option :"),e.qZA(),e.TgZ(65,"div",8)(66,"div",25)(67,"label",26),e._uU(68,"Item Group :"),e.qZA()(),e.TgZ(69,"div",27)(70,"app-simple-suggest",28),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=i}),e.qZA(),e.TgZ(71,"button",29),e.NdJ("click",function(){return r.reportTree()}),e._uU(72,"+"),e.qZA()()(),e.TgZ(73,"div",1)(74,"div",25)(75,"label",26),e._uU(76,"Item Category :"),e.qZA()(),e.TgZ(77,"div",30)(78,"select",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT=i}),e._UZ(79,"option",32),e.YNc(80,AG,2,2,"option",33),e.qZA()()(),e.YNc(81,RG,8,2,"div",34),e.YNc(82,yG,8,2,"div",34),e.TgZ(83,"div",35)(84,"div",25)(85,"label",36),e._uU(86,"Supplier Name :"),e.qZA()(),e.TgZ(87,"div",30)(88,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Item Selection :"),e.qZA(),e.TgZ(92,"div",38)(93,"div",25)(94,"label",26),e._uU(95,"Item Name :"),e.qZA()(),e.TgZ(96,"div",30)(97,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(98,"div",40)(99,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(105,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(107,"app-report-popup",46,47),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0!=r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(9),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,Ht,et.c],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();var NG=S(14422);const DG=["genericGridCustomerPopup"];function kG(n,s){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.UNAME),e.xp6(1),e.hij(" ",t.UNAME," ")}}let FG=(()=>{class n{constructor(t,r,o,i,a,l){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._alertService=a,this._ActivatedRoute=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",USERNAME:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.usernameList=[],this.gridPopupSettingsForCustomer=new O.im,this.masterService.getUsername().subscribe(h=>{console.log("@@response",h),this.usernameList=h});var d=this.masterService.PhiscalObj.BeginDate;d=d.substring(0,10),this.date2=d;const c=new Date;this.currDate=(0,f.p6)(c,"yyyy-MM-dd","en-US")}ngOnInit(){1!=this._reportFilterService.PriceChangeLogObj.assignPreviousValue&&(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2,"AD")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.USERNAME=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME?this._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME:"%",this.repObj.reportname="Price Change Log Report",this.repObj.REPORTDISPLAYNAME="Price Change Log Report",this._reportFilterService.PriceChangeLogObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(y.c),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pricechange-log-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(DG,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:49,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-9"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-3"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-12"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Price Change Log Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"fieldset")(17,"legend",12),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",13)(21,"div",14)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",16),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",17)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",16),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",12),e._uU(39,"Username Selection:"),e.qZA(),e.TgZ(40,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME=i}),e.TgZ(41,"option",19),e._uU(42,"ALL"),e.qZA(),e.YNc(43,kG,2,2,"option",20),e.qZA()()()()(),e.TgZ(44,"div",21)(45,"button",22),e.NdJ("click",function(){return r.onload()}),e._uU(46,"RUN"),e.qZA(),e.TgZ(47,"button",23),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(48,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME),e.xp6(3),e.Q6J("ngForOf",r.usernameList))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();var jG=S(71459);const LG=["genericGridCustomerPopup"],wG=["genericGridItemPopup"],xG=["genericGridSalesMan"];function VG(n,s){1&n&&(e.TgZ(0,"option",36),e._uU(1,"ALL"),e.qZA())}function WG(n,s){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function ZG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=o)}),e.YNc(4,VG,2,0,"option",49),e.YNc(5,WG,2,2,"option",37),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function HG(n,s){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function UG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER=o)}),e._UZ(4,"option",51),e.TgZ(5,"option",36),e._uU(6," ALL "),e.qZA(),e.YNc(7,HG,2,2,"option",37),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function zG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Salesman Selection :"),e.qZA(),e.TgZ(3,"input",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN=o)})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.salesmanEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.salesmanEnterCommand(o))})("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.salesmanEnterCommand(o))})("keypress",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN)}}function BG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",55)(2,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(3,"div",25)(4,"label",26),e._uU(5,"Show Item With Group Hierarchy"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE)}}function JG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",53)(1,"div",54)(2,"div",1)(3,"div",55)(4,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",25)(6,"label",26),e._uU(7,"Show Summary Only"),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",55)(10,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",25)(12,"label",26),e._uU(13,"Show Item Detail Also"),e.qZA()()(),e.YNc(14,BG,6,1,"div",39),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE),e.xp6(4),e.Q6J("ngIf",1==t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT)}}function YG(n,s){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function qG(n,s){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function GG(n,s){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function QG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",33)(2,"label",34),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",19)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE=o)}),e.TgZ(6,"option",59),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",60),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",61),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE)}}function KG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",77)(1,"ng-multiselect-dropdown",78),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function $G(n,s){if(1&n&&(e.TgZ(0,"div",73)(1,"div",74)(2,"label",75),e._uU(3),e.qZA()(),e.YNc(4,KG,2,4,"div",76),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function XG(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",62)(2,"div",63)(3,"div",64)(4,"h5",65),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",67),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",68)(10,"div",69),e.YNc(11,$G,5,2,"div",70),e.qZA()(),e.TgZ(12,"div",71)(13,"button",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let eQ=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",SHOWITEMDETAIL:0,REPORTYTYPE:0,ITEMNAME:"",CUSTOMERNAME:"",MENUCODE:"",params:"%",SALESMAN:0,SALESMANNAME:"",SALESTYPE:"",showGrouping:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new O.im,this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForSalesMan=new O.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.AppMode=$.N.appMode,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,"AD")):(1!=this._reportFilterService.SalesProfitabilityAnalysisObj.assignPreviousValue&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER||null==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP:"%",this.repObj.reportparam.SHOWITEMDETAIL=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE:0,this.repObj.reportparam.REPORTYTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER:"",this.repObj.reportparam.SALESMAN=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID:0,this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN:"",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE:"",this.repObj.reportparam.showGrouping=this._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping??0,this.repObj.reportparam.params=1==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT&&this.abc.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.REPORTYTYPE&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS":1!=this.repObj.reportparam.REPORTYTYPE||0!=this.repObj.reportparam.SHOWITEMDETAIL&&1!=this.repObj.reportparam.SHOWITEMDETAIL?1==this.repObj.reportparam.REPORTYTYPE&&2==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_2":2==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_3":3==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_4":4==this.repObj.reportparam.REPORTYTYPE&&0==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_5":4==this.repObj.reportparam.REPORTYTYPE&&1==this.repObj.reportparam.SHOWITEMDETAIL&&(this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_6"):this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_1",this.repObj.REPORTDISPLAYNAME="Sales Profitability Analysis Report",this._reportFilterService.SalesProfitabilityAnalysisObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){console.log("supplier ma k aaucha",t),this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE=t.ACID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCODE=t.MCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEM=t.DESCA,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){0==t&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="0"),0!=t&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="1")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){1==t.target.checked?(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}salesmanEnterCommand(t){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(t){this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID=t.SALESMANID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN=t.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-profitabilityanalysis"]],viewQuery:function(t,r){if(1&t&&(e.Gf(LG,5),e.Gf(wG,5),e.Gf(xG,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:131,vars:35,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%","margin-left","-10%"],[1,"col-md-1",2,"margin-left","-16%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],[1,"col-md-6",2,"margin-left","-5%"],["style","width: 130%;",4,"ngIf"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],["class","row",4,"ngIf"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],["genericGridSalesMan",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"width","130%"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Profitability Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,ZG,6,3,"fieldset",15),e.YNc(38,UG,8,2,"fieldset",15),e.YNc(39,zG,4,1,"fieldset",15),e.TgZ(40,"div",16)(41,"div",17)(42,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping=i})("change",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping=i.target.checked?1:0}),e.qZA()(),e.TgZ(43,"div",19)(44,"label",20),e._uU(45,"Show Item Hierarchy"),e.qZA()()()(),e.TgZ(46,"div",21)(47,"fieldset")(48,"legend",10),e._uU(49,"Report Type Selection :"),e.qZA(),e.TgZ(50,"div",11)(51,"div",5)(52,"div",22)(53,"div",1)(54,"div",23)(55,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(56,"div",25)(57,"label",26),e._uU(58,"Item Wise Report"),e.qZA()()(),e.TgZ(59,"div",1)(60,"div",23)(61,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(62,"div",25)(63,"label",26),e._uU(64,"Item Group Wise Report"),e.qZA()()(),e.TgZ(65,"div",1)(66,"div",23)(67,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(2)}),e.qZA()(),e.TgZ(68,"div",25)(69,"label",26),e._uU(70,"Item Category Wise"),e.qZA()()(),e.TgZ(71,"div",1)(72,"div",23)(73,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(3)}),e.qZA()(),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Supplier Wise Report"),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",23)(79,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(4)}),e.qZA()(),e.TgZ(80,"div",25)(81,"label",26),e._uU(82,"Day Wise Report"),e.qZA()()()()(),e.TgZ(83,"div",31),e.YNc(84,JG,15,3,"fieldset",32),e.qZA()()(),e.TgZ(85,"fieldset")(86,"legend"),e._uU(87,"Report Filter Option :"),e.qZA(),e.TgZ(88,"div",1)(89,"div",33)(90,"label",34),e._uU(91,"Item Group :"),e.qZA()(),e.TgZ(92,"div",19)(93,"select",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP=i}),e._UZ(94,"option",36),e.YNc(95,YG,2,2,"option",37),e.qZA()()(),e.TgZ(96,"div",1)(97,"div",33)(98,"label",34),e._uU(99,"Item Category :"),e.qZA()(),e.TgZ(100,"div",19)(101,"select",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT=i}),e._UZ(102,"option",36),e.YNc(103,qG,2,2,"option",37),e.qZA()()(),e.TgZ(104,"div",1)(105,"div",33)(106,"label",34),e._uU(107,"Item Type :"),e.qZA()(),e.TgZ(108,"div",19)(109,"select",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE=i}),e._UZ(110,"option",38),e.YNc(111,GG,2,2,"option",37),e.qZA()()(),e.YNc(112,QG,12,1,"div",39),e.TgZ(113,"div",1)(114,"div",33)(115,"label",40),e._uU(116,"Supplier Name :"),e.qZA()(),e.TgZ(117,"div",19)(118,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(119,"div",42)(120,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(121,"RUN"),e.qZA(),e.TgZ(122,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(123,"Close"),e.qZA()()()()()(),e.TgZ(124,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(126,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(128,"generic-popup-grid",45,48),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSalesman(i)}),e.qZA(),e.YNc(130,XG,17,1,"div",15)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping)("checked",1==r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(5),e.Q6J("ngIf",0!=r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ne.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const tQ=["genericGridSupplierPopup"];function rQ(n,s){1&n&&(e.TgZ(0,"option",40),e._uU(1,"ALL"),e.qZA())}function iQ(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let oQ=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",FROMEXPDATE:"",TOEXPDATE:"",ACID:"%",SUMMARYREPORT:0,STATUS:100,POTYPE:100,REPORTMODE:0,CUSTOMERNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.gridPopupSettingsForSupplier=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.PurchaseOrderReportObj.assignPreviousValue&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT="0",this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE,"AD"),this.changeFromExpiryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE,"AD"),this.changeToExpiryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeFromDeliveryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeToDeliveryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeFromExpiryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeToExpiryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE,this.repObj.reportparam.FROMEXPDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE,this.repObj.reportparam.TOEXPDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV:"%",this.repObj.reportparam.SUMMARYREPORT=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT:0,this.repObj.reportparam.STATUS=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS:100,this.repObj.reportparam.POTYPE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE:100,this.repObj.reportparam.ACID=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER:"",0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=1:0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE&&(this.repObj.reportparam.REPORTMODE=2),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.reportname=0==this.repObj.reportparam.SUMMARYREPORT?"Purchase Order Report":"Purchase Order Report_1",this.repObj.REPORTDISPLAYNAME="Purchase Order Report",this._reportFilterService.PurchaseOrderReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID=t.ACID,this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}checkDeliveryDate(){1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE=!1)}checkExpiryDate(){1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE=!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(tQ,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:144,vars:47,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],["name","nepaliDateTo",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","0"],["value","1"],["value","2"],["value","3"],["value","10"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Order Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE=i})("change",function(){return r.checkDeliveryDate()}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=i})("change",function(i){return r.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=i})("change",function(i){return r.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",16),e.NdJ("change",function(i){return r.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE=i}),e.qZA()()()()()(),e.TgZ(59,"fieldset")(60,"legend",10)(61,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE=i})("change",function(){return r.checkExpiryDate()}),e.qZA(),e._uU(62,"Order Expiry Date Range Selection : "),e.qZA(),e.TgZ(63,"div",1)(64,"div",11)(65,"div",12)(66,"div")(67,"label"),e._uU(68," From:(AD) "),e.qZA()(),e.TgZ(69,"div")(70,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=i})("change",function(i){return r.changeFromExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(71,"div")(72,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE=i}),e.qZA()()(),e.TgZ(73,"div",5)(74,"div")(75,"label"),e._uU(76," To:(AD) "),e.qZA()(),e.TgZ(77,"div")(78,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=i})("change",function(i){return r.changeToExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(79,"div")(80,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeToExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE=i}),e.qZA()()()()()()(),e.TgZ(81,"div",17)(82,"fieldset")(83,"legend",10),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",1)(86,"div",18)(87,"label",19),e._uU(88,"Supplier :"),e.qZA()(),e.TgZ(89,"div",20)(90,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(91,"div",1)(92,"div",18)(93,"label",19),e._uU(94,"PO Status :"),e.qZA()(),e.TgZ(95,"div",20)(96,"select",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS=i}),e._UZ(97,"option",23),e.TgZ(98,"option",24),e._uU(99,"New/Pending PO"),e.qZA(),e.TgZ(100,"option",25),e._uU(101,"Confirmed PO"),e.qZA(),e.TgZ(102,"option",26),e._uU(103,"Non Confirmed PO"),e.qZA(),e.TgZ(104,"option",27),e._uU(105,"Cancelled PO"),e.qZA(),e.TgZ(106,"option",28),e._uU(107,"Delivered PO"),e.qZA()()()(),e.TgZ(108,"div",1)(109,"div",18)(110,"label",19),e._uU(111,"PO Type :"),e.qZA()(),e.TgZ(112,"div",20)(113,"select",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE=i}),e._UZ(114,"option",23),e.TgZ(115,"option",24),e._uU(116,"PO - Local"),e.qZA(),e.TgZ(117,"option",25),e._uU(118,"PO - Import"),e.qZA()()()()(),e.TgZ(119,"fieldset")(120,"legend",10),e._uU(121,"Report Type :"),e.qZA(),e.TgZ(122,"div",29)(123,"div",30)(124,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(125,"label"),e._uU(126,"Detail Report"),e.qZA()(),e.TgZ(127,"div",30)(128,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(129,"label"),e._uU(130,"Summary Report"),e.qZA()()()(),e.TgZ(131,"fieldset")(132,"legend",10),e._uU(133,"Division Selection:"),e.qZA(),e.TgZ(134,"select",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV=i}),e.YNc(135,rQ,2,0,"option",33),e.YNc(136,iQ,2,2,"option",34),e.qZA()()()()(),e.TgZ(137,"div",35)(138,"button",36),e.NdJ("click",function(){return r.onload()}),e._uU(139,"RUN"),e.qZA(),e.TgZ(140,"button",37),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(141,"Close"),e.qZA()()()()()(),e.TgZ(142,"generic-popup-grid",38,39),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE),e.xp6(2),e.Q6J("id","from")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE),e.xp6(2),e.Q6J("id","to")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS),e.xp6(17),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const nQ=["genericGridSupplierPopup"],aQ=["genericGridItemPopup"];function sQ(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function lQ(n,s){1&n&&(e.TgZ(0,"option",36),e._uU(1,"ALL"),e.qZA())}function cQ(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let pQ=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",ACID:"%",REPORTMODE:0,CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",MGROUP:"",REPORTTYPE:0,ITEMWISEREPORT:0,SHOWITEMWISESUMMARY:0,SHOWSUPPLIERWISEITEM:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.PurchaseOrderOutstandingObj.assignPreviousValue&&(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT="0",this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeFromDeliveryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeToDeliveryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.checkValue(),this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE:0,this.repObj.reportparam.ITEMWISEREPORT=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT:0,this.repObj.reportparam.SHOWITEMWISESUMMARY=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY:0,this.repObj.reportparam.SHOWSUPPLIERWISEITEM=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM:0,0==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE&&(this.repObj.reportparam.REPORTMODE=1),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMWISEREPORT?this.repObj.reportname="Purchase Order Outstanding Report":1==this.repObj.reportparam.ITEMWISEREPORT&&0==this.repObj.reportparam.SHOWITEMWISESUMMARY?this.repObj.reportname="Purchase Order Outstanding Report_1":1==this.repObj.reportparam.ITEMWISEREPORT&&1==this.repObj.reportparam.SHOWITEMWISESUMMARY&&(this.repObj.reportname="Purchase Order Outstanding Report_2"),this.repObj.REPORTDISPLAYNAME="Purchase Order Outstanding Report",this._reportFilterService.PurchaseOrderOutstandingObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID=t.ACID,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE=t.MCODE,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(){0==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT&&(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=0,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-outstanding"]],viewQuery:function(t,r){if(1&t&&(e.Gf(nQ,5),e.Gf(aQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:153,vars:43,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"col-md-1",2,"margin-left","-8%"],["type","checkbox","name","reportTypeSelection",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-5"],[2,"margin-left","-7%","width","100%"],[1,"col"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Order - Outstanding Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE=i})("change",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE=i.target.checked?1:0}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=i})("change",function(i){return r.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=i})("change",function(i){return r.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE=i}),e.qZA()()()()()()(),e.TgZ(59,"div",16)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Type Selection :"),e.qZA(),e.TgZ(63,"div",11)(64,"div",5)(65,"div",17)(66,"div",1)(67,"div",18)(68,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(69,"div",20)(70,"label",21),e._uU(71,"Purchase Order Wise"),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",18)(74,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77,"Item Wise Report"),e.qZA()()()()(),e.TgZ(78,"div",5)(79,"div",17)(80,"div",1)(81,"div",23)(82,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=i})("change",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=i.target.checked?1:0}),e.qZA()(),e.TgZ(83,"div",20)(84,"label",21),e._uU(85,"Show Item Wise Summary"),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",23)(88,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=i})("change",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=i.target.checked?1:0}),e.qZA()(),e.TgZ(89,"div",20)(90,"label",21),e._uU(91,"Show Supplier Wise Item"),e.qZA()()()()()()(),e.TgZ(92,"fieldset")(93,"legend",10),e._uU(94,"Report Filter Option :"),e.qZA(),e.TgZ(95,"div",1)(96,"div",25)(97,"label",26),e._uU(98,"PO Delivery Status :"),e.qZA()(),e.TgZ(99,"div",27)(100,"div",1)(101,"div",18)(102,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(103,"div",20)(104,"label",21),e._uU(105,"Outstanding Only"),e.qZA()()(),e.TgZ(106,"div",1)(107,"div",18)(108,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(109,"div",20)(110,"label",21),e._uU(111,"Delivered Only"),e.qZA()()(),e.TgZ(112,"div",1)(113,"div",18)(114,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(115,"div",20)(116,"label",21),e._uU(117,"Both"),e.qZA()()()()(),e.TgZ(118,"div",1)(119,"div",31)(120,"label",32),e._uU(121,"Supplier :"),e.qZA()(),e.TgZ(122,"div",27)(123,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(124,"div",1)(125,"div",31)(126,"label",32),e._uU(127,"Item Name :"),e.qZA()(),e.TgZ(128,"div",27)(129,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(130,"div",1)(131,"div",31)(132,"label",32),e._uU(133,"Item Group :"),e.qZA()(),e.TgZ(134,"div",27)(135,"select",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP=i}),e._UZ(136,"option",36),e.YNc(137,sQ,2,2,"option",37),e.qZA()()()(),e.TgZ(138,"fieldset")(139,"legend",10),e._uU(140,"Division Selection:"),e.qZA(),e.TgZ(141,"select",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV=i}),e.YNc(142,lQ,2,0,"option",38),e.YNc(143,cQ,2,2,"option",37),e.qZA()()()()(),e.TgZ(144,"div",39)(145,"button",40),e.NdJ("click",function(){return r.onload()}),e._uU(146,"RUN"),e.qZA(),e.TgZ(147,"button",41),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(148,"Close"),e.qZA()()()()()(),e.TgZ(149,"generic-popup-grid",42,43),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(151,"generic-popup-grid",42,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY)("disabled",0==r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM)("disabled",0==r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(14),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();var dQ=S(30334);const hQ=["genericGridCustomerPopup"],_Q=["genericGridItemPopup"],uQ=["genericGridSalesMan"];function gQ(n,s){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.ID),e.xp6(1),e.Oqu(t.STATUS)}}function mQ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",16)(2,"label",17),e._uU(3," Decline Remarks : "),e.qZA()(),e.TgZ(4,"div",18)(5,"select",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedOption=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onStatusChange())}),e.YNc(6,gQ,2,2,"option",39),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.selectedOption),e.xp6(1),e.Q6J("ngForOf",t.remarksList)}}function fQ(n,s){1&n&&(e.TgZ(0,"option",41),e._uU(1,"ALL"),e.qZA())}function SQ(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let vQ=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._paymentTermsService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",ACID:"%",CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",SMANID:"%",SALESMANNAME:"",STATUS:100,CUSTID:"",declinemode:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new O.im,this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForSalesMan=new O.im,this.remarksList=[],this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.getDeclineStatusRemarks()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.QuotationReportObj.assignPreviousValue&&(this._reportFilterService.QuotationReportObj.QuotationReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.QuotationReportObj.QuotationReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.QuotationReportObj.QuotationReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.QuotationReportObj.QuotationReport_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.QuotationReportObj.QuotationReport_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.QuotationReportObj.QuotationReport_DIV?this._reportFilterService.QuotationReportObj.QuotationReport_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.QuotationReportObj.QuotationReport_ACID?this._reportFilterService.QuotationReportObj.QuotationReport_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID?this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER?this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.QuotationReportObj.QuotationReport_ITEM?this._reportFilterService.QuotationReportObj.QuotationReport_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.QuotationReportObj.QuotationReport_MCODE?this._reportFilterService.QuotationReportObj.QuotationReport_MCODE:"%",this.repObj.reportparam.SMANID=this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID?this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID:"%",this.repObj.reportparam.SALESMANNAME=this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN?this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN:"",this.repObj.reportparam.STATUS=this._reportFilterService.QuotationReportObj.QuotationReport_STATUS?this._reportFilterService.QuotationReportObj.QuotationReport_STATUS:100,this.repObj.reportparam.declinemode=this.selectedOption,""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SMANID="%"),this.repObj.reportname="Quotation Report",this.repObj.REPORTDISPLAYNAME="Quotation Report",this._reportFilterService.QuotationReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.QuotationReportObj.QuotationReport_ACID=t.ACID,this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER=t.ACNAME,this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.QuotationReportObj.QuotationReport_MCODE=t.MCODE,this._reportFilterService.QuotationReportObj.QuotationReport_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(t){this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID=t.SALESMANID,this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN=t.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}getDeclineStatusRemarks(){this._paymentTermsService.getDeclineStatusRemarks().subscribe(t=>{this.remarksList=t.result})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(dQ.S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["quotation-report-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(hQ,5),e.Gf(_Q,5),e.Gf(uQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%","width","110% !important"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","2"],["value","1"],["value","0"],["class","row",4,"ngIf"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],["genericGridSalesMan",""],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["value","",3,"value",4,"ngFor","ngForOf"],["value","",3,"value"],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Quotation Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2=i}),e.qZA()()()()()()(),e.TgZ(37,"div",15)(38,"fieldset")(39,"legend",10),e._uU(40,"Report Filter Option :"),e.qZA(),e.TgZ(41,"div",1)(42,"div",16)(43,"label",17),e._uU(44,"Quotation Status : "),e.qZA()(),e.TgZ(45,"div",18)(46,"select",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_STATUS=i}),e._UZ(47,"option",20),e.TgZ(48,"option",21),e._uU(49,"Declined Quotation"),e.qZA(),e.TgZ(50,"option",22),e._uU(51,"SO Converted Quotation"),e.qZA(),e.TgZ(52,"option",23),e._uU(53,"SO Pending Quotation"),e.qZA()()()(),e.YNc(54,mQ,7,2,"div",24),e.TgZ(55,"div",1)(56,"div",16)(57,"label",25),e._uU(58,"Customer :"),e.qZA()(),e.TgZ(59,"div",18)(60,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(61,"div",1)(62,"div",16)(63,"label",25),e._uU(64,"Item Name :"),e.qZA()(),e.TgZ(65,"div",18)(66,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(67,"div",1)(68,"div",16)(69,"label",25),e._uU(70,"Salesman :"),e.qZA()(),e.TgZ(71,"div",18)(72,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN=i})("keydown.enter",function(){return r.salesmanEnterCommand()})("keydown.Tab",function(){return r.salesmanEnterCommand()})("keyup",function(){return r.salesmanEnterCommand()})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(73,"fieldset")(74,"legend",10),e._uU(75,"Division Selection:"),e.qZA(),e.TgZ(76,"select",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_DIV=i}),e.YNc(77,fQ,2,0,"option",29),e.YNc(78,SQ,2,2,"option",30),e.qZA()()()()(),e.TgZ(79,"div",31)(80,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(81,"RUN"),e.qZA(),e.TgZ(82,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(83,"Close"),e.qZA()()()()()(),e.TgZ(84,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(86,"generic-popup-grid",34,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(88,"generic-popup-grid",34,37),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSalesman(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_STATUS),e.xp6(8),e.Q6J("ngIf",2==r._reportFilterService.QuotationReportObj.QuotationReport_STATUS),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const OQ=["genericGridCustomerPopup"],bQ=["genericGridUserListPopup"],CQ=["genericGridSalesMan"];function TQ(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function MQ(n,s){1&n&&(e.TgZ(0,"option",30),e._uU(1,"ALL"),e.qZA())}function AQ(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let PQ=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",FROMEXPDATE:"",TOEXPDATE:"",ACID:"%",SUMMARYREPORT:0,STATUS:100,REPORTMODE:0,CUSTOMERNAME:"",USER:"",CCENTER:"",COSTCENTER:"",SALESMANNAME:"",SMANID:"%",CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.costCenterList=[],this.gridPopupSettingsForCustomer=new O.im,this.gridPopupSettingsForUserList=new O.im,this.gridPopupSettingsForSalesMan=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]})}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesOrderReportObj.assignPreviousValue&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT="0",this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE,"AD"),this.changeFromExpiryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE,"AD"),this.changeToExpiryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeFromDeliveryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeToDeliveryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeFromExpiryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeToExpiryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE,this.repObj.reportparam.FROMEXPDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE,this.repObj.reportparam.TOEXPDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COSTCENTER=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV:"%",this.repObj.reportparam.SUMMARYREPORT=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT:0,this.repObj.reportparam.STATUS=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS:100,this.repObj.reportparam.ACID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER:"",this.repObj.reportparam.USER=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER:"%",this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN:"",this.repObj.reportparam.SMANID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID:"%",0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=1:0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE&&(this.repObj.reportparam.REPORTMODE=2),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SMANID="%"),0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT?this.repObj.reportname="Sales Order Report":1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT&&(this.repObj.reportname="Sales Order Report_1"),this.repObj.REPORTDISPLAYNAME="Sales Order Report",this._reportFilterService.SalesOrderReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID=t.ACID,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER=t.ACNAME,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getAccountPagedListByPType/PA/C",defaultFilterIndex:this.userSetting.FilterIndexForCustomer,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ACCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}checkDeliveryDate(){1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE=!1)}checkExpiryDate(){1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE=!1)}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER=t.UNAME}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(t){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID=t.SALESMANID,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN=t.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesorderreport-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(OQ,5),e.Gf(bQ,5),e.Gf(CQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:159,vars:52,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","0"],["value","20"],["value","30"],["value","10"],["value","1"],["value","2"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],["genericGridSalesMan",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Order Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE=i})("change",function(){return r.checkDeliveryDate()}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=i})("change",function(i){return r.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=i})("change",function(i){return r.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE=i}),e.qZA()()()()()(),e.TgZ(59,"fieldset")(60,"legend",10)(61,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE=i})("change",function(){return r.checkExpiryDate()}),e.qZA(),e._uU(62,"Order Expiry Date Range Selection : "),e.qZA(),e.TgZ(63,"div",1)(64,"div",11)(65,"div",12)(66,"div")(67,"label"),e._uU(68," From:(AD) "),e.qZA()(),e.TgZ(69,"div")(70,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=i})("change",function(i){return r.changeFromExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(71,"div")(72,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE=i}),e.qZA()()(),e.TgZ(73,"div",5)(74,"div")(75,"label"),e._uU(76," To:(AD) "),e.qZA()(),e.TgZ(77,"div")(78,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=i})("change",function(i){return r.changeToExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(79,"div")(80,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeToExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE=i}),e.qZA()()()()()()(),e.TgZ(81,"div",16)(82,"fieldset")(83,"legend",10),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",1)(86,"div",17)(87,"label",18),e._uU(88,"Customer :"),e.qZA()(),e.TgZ(89,"div",19)(90,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(91,"div",1)(92,"div",17)(93,"label",18),e._uU(94,"User Name :"),e.qZA()(),e.TgZ(95,"div",19)(96,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(97,"div",1)(98,"div",17)(99,"label",18),e._uU(100,"SO Status :"),e.qZA()(),e.TgZ(101,"div",19)(102,"select",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS=i}),e._UZ(103,"option",23),e.TgZ(104,"option",24),e._uU(105,"New/Pending SO "),e.qZA(),e.TgZ(106,"option",25),e._uU(107,"Delivered SO"),e.qZA(),e.TgZ(108,"option",26),e._uU(109,"Partial Delivered SO"),e.qZA(),e.TgZ(110,"option",27),e._uU(111,"Force Closed SO"),e.qZA(),e.TgZ(112,"option",28),e._uU(113,"Confirmed SO"),e.qZA(),e.TgZ(114,"option",29),e._uU(115,"NonConfirmed SO"),e.qZA()()()(),e.TgZ(116,"div",1)(117,"div",17)(118,"label",18),e._uU(119,"Cost Center:"),e.qZA()(),e.TgZ(120,"div",19)(121,"select",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER=i}),e._UZ(122,"option",30),e.YNc(123,TQ,2,2,"option",31),e.qZA()()(),e.TgZ(124,"div",1)(125,"div",17)(126,"label",18),e._uU(127,"Salesman :"),e.qZA()(),e.TgZ(128,"div",19)(129,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN=i})("keydown.enter",function(){return r.salesmanEnterCommand()})("keydown.Tab",function(){return r.salesmanEnterCommand()})("keyup",function(){return r.salesmanEnterCommand()})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(130,"fieldset")(131,"legend",10),e._uU(132,"Report Type :"),e.qZA(),e.TgZ(133,"div",33)(134,"div",34)(135,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(136,"label"),e._uU(137,"Detail Report"),e.qZA()(),e.TgZ(138,"div",34)(139,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(140,"label"),e._uU(141,"Summary Report"),e.qZA()()()(),e.TgZ(142,"fieldset")(143,"legend",10),e._uU(144,"Division Selection:"),e.qZA(),e.TgZ(145,"select",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV=i}),e.YNc(146,MQ,2,0,"option",37),e.YNc(147,AQ,2,2,"option",31),e.qZA()()()()(),e.TgZ(148,"div",38)(149,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(150,"RUN"),e.qZA(),e.TgZ(151,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(152,"Close"),e.qZA()()()()()(),e.TgZ(153,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(155,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.TgZ(157,"generic-popup-grid",41,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSalesman(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE),e.xp6(2),e.Q6J("id","Datefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE),e.xp6(2),e.Q6J("id","Dateto")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS),e.xp6(19),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER),e.xp6(2),e.Q6J("ngForOf",r.costCenterList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const RQ=["genericGridCustomerPopup"],EQ=["genericGridItemPopup"];function yQ(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function IQ(n,s){1&n&&(e.TgZ(0,"option",38),e._uU(1,"ALL"),e.qZA())}function NQ(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let DQ=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",ACID:"%",REPORTMODE:0,CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",MGROUP:"",REPORTTYPE:0,ITEMWISEREPORT:0,SHOWITEMWISESUMMARY:0,SHOWCUSTOMERWISEITEM:0,CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new O.im,this.gridPopupSettingsForItem=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesOrderOutstandingObj.assignPreviousValue&&(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT="0",this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeFromDeliveryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeToDeliveryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.checkValue(),this.repObj.reportparam.DATE1=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE:0,this.repObj.reportparam.ITEMWISEREPORT=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT:0,this.repObj.reportparam.SHOWITEMWISESUMMARY=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY:0,this.repObj.reportparam.SHOWCUSTOMERWISEITEM=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM:0,this.repObj.reportparam.CUSTID=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID:"%",0==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE&&(this.repObj.reportparam.REPORTMODE=1),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMWISEREPORT?this.repObj.reportname="Sales Order Outstanding Report":1==this.repObj.reportparam.ITEMWISEREPORT&&0==this.repObj.reportparam.SHOWITEMWISESUMMARY?this.repObj.reportname="Sales Order Outstanding Report_1":1==this.repObj.reportparam.ITEMWISEREPORT&&1==this.repObj.reportparam.SHOWITEMWISESUMMARY&&(this.repObj.reportname="Sales Order Outstanding Report_2"),this.repObj.REPORTDISPLAYNAME="Sales Order Outstanding Report",this._reportFilterService.SalesOrderOutstandingObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID=t.ACID,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER=t.ACNAME,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getAccountPagedListByPType/PA/C",defaultFilterIndex:this.userSetting.FilterIndexForCustomer,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ACCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE=t.MCODE,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(){0==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT&&(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=0,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesorderoutstanding-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(RQ,5),e.Gf(EQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:159,vars:44,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"row",2,"flex-wrap","nowrap"],[1,"col-md-1",2,"margin-left","-8%"],["type","checkbox","name","reportTypeSelection",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-5"],[2,"margin-left","-7%","width","100%"],[1,"col"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Order - Outstanding Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE=i})("change",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE=i.target.checked?1:0}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=i})("change",function(i){return r.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=i})("change",function(i){return r.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE=i}),e.qZA()()()()()()(),e.TgZ(59,"div",16)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Type Selection :"),e.qZA(),e.TgZ(63,"div",11)(64,"div",5)(65,"div",17)(66,"div",1)(67,"div",18)(68,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(69,"div",20)(70,"label",21),e._uU(71,"Sales Order Wise"),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",18)(74,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77,"Item Wise Report"),e.qZA()()()()(),e.TgZ(78,"div",5)(79,"div",17)(80,"div",23)(81,"div",24)(82,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=i})("change",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=i.target.checked?1:0}),e.qZA()(),e.TgZ(83,"div",20)(84,"label",21),e._uU(85,"Show Item Wise Summary"),e.qZA()()(),e.TgZ(86,"div",23)(87,"div",24)(88,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=i})("change",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=i.target.checked?1:0}),e.qZA()(),e.TgZ(89,"div",20)(90,"label",21),e._uU(91,"Show Customer Wise Item"),e.qZA()()()()()()(),e.TgZ(92,"fieldset")(93,"legend",10),e._uU(94,"Report Filter Option :"),e.qZA(),e.TgZ(95,"div",1)(96,"div",26)(97,"label",27),e._uU(98,"SO Delivery Status :"),e.qZA()(),e.TgZ(99,"div",28)(100,"div",1)(101,"div",18)(102,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(103,"div",20)(104,"label",21),e._uU(105,"Outstanding Only"),e.qZA()()(),e.TgZ(106,"div",1)(107,"div",18)(108,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(109,"div",20)(110,"label",21),e._uU(111,"Delivered Only"),e.qZA()()(),e.TgZ(112,"div",1)(113,"div",18)(114,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(115,"div",20)(116,"label",21),e._uU(117,"Both"),e.qZA()()(),e.TgZ(118,"div",1)(119,"div",18)(120,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(121,"div",20)(122,"label",21),e._uU(123,"Force Closed Only "),e.qZA()()()()(),e.TgZ(124,"div",1)(125,"div",33)(126,"label",34),e._uU(127,"Customer :"),e.qZA()(),e.TgZ(128,"div",28)(129,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(130,"div",1)(131,"div",33)(132,"label",34),e._uU(133,"Item Name :"),e.qZA()(),e.TgZ(134,"div",28)(135,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(136,"div",1)(137,"div",33)(138,"label",34),e._uU(139,"Item Group :"),e.qZA()(),e.TgZ(140,"div",28)(141,"select",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP=i}),e._UZ(142,"option",38),e.YNc(143,yQ,2,2,"option",39),e.qZA()()()(),e.TgZ(144,"fieldset")(145,"legend",10),e._uU(146,"Division Selection:"),e.qZA(),e.TgZ(147,"select",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV=i}),e.YNc(148,IQ,2,0,"option",40),e.YNc(149,NQ,2,2,"option",39),e.qZA()()()()(),e.TgZ(150,"div",41)(151,"button",42),e.NdJ("click",function(){return r.onload()}),e._uU(152,"RUN"),e.qZA(),e.TgZ(153,"button",43),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(154,"Close"),e.qZA()()()()()(),e.TgZ(155,"generic-popup-grid",44,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(157,"generic-popup-grid",44,46),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY)("disabled",0==r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM)("disabled",0==r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(14),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const kQ=["genericGridSupplierPopup"],FQ=["genericGridItemPopup"];function jQ(n,s){1&n&&(e.TgZ(0,"option",20),e._uU(1,"ALL"),e.qZA())}function LQ(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function wQ(n,s){1&n&&(e.TgZ(0,"option",30),e._uU(1,"Main Warehouse"),e.qZA())}function xQ(n,s){if(1&n&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t.NAME),e.xp6(1),e.Oqu(t.NAME)}}function VQ(n,s){if(1&n&&(e.ynx(0),e.YNc(1,xQ,2,2,"option",31),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.warehouseList)}}function WQ(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",2)(6,"div",5)(7,"div",6)(8,"h5",7),e._uU(9,"Consolidated Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(10,"div",6)(11,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(12,"\xd7"),e.qZA()()()(),e._UZ(13,"hr"),e.TgZ(14,"div",9)(15,"div",10)(16,"div",6)(17,"fieldset")(18,"legend",11),e._uU(19,"Date Range Selection : "),e.qZA(),e.TgZ(20,"div",2)(21,"div",12)(22,"div",13)(23,"div")(24,"label"),e._uU(25," From:(AD) "),e.qZA()(),e.TgZ(26,"div")(27,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(28,"div")(29,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1=o)}),e.qZA()()(),e.TgZ(30,"div",6)(31,"div")(32,"label"),e._uU(33," To:(AD) "),e.qZA()(),e.TgZ(34,"div")(35,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(36,"div")(37,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2=o)}),e.qZA()()()()()(),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV=o)}),e.YNc(42,jQ,2,0,"option",17),e.YNc(43,LQ,2,2,"option",18),e.qZA()()(),e.TgZ(44,"div",19)(45,"fieldset")(46,"legend",11),e._uU(47,"Company Selection:"),e.qZA(),e.TgZ(48,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY=o)}),e.TgZ(49,"option",20),e._uU(50,"All"),e.qZA(),e.TgZ(51,"option",21),e._uU(52,"Nestle"),e.qZA(),e.TgZ(53,"option",22),e._uU(54,"Non-Nestle"),e.qZA()()(),e.TgZ(55,"fieldset")(56,"legend",11),e._uU(57,"Warehouse Type:"),e.qZA(),e.TgZ(58,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE=o)}),e.TgZ(59,"option",20),e._uU(60,"All"),e.qZA(),e.TgZ(61,"option",23),e._uU(62,"Saleable"),e.qZA(),e.TgZ(63,"option",24),e._uU(64,"Unsaleable"),e.qZA()()(),e.TgZ(65,"fieldset")(66,"legend",11),e._uU(67,"Warehouse Selection:"),e.qZA(),e.TgZ(68,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE=o)}),e.TgZ(69,"option",20),e._uU(70,"All"),e.qZA(),e.YNc(71,wQ,2,0,"option",25),e.YNc(72,VQ,2,1,"ng-container",0),e.qZA()()()()(),e.TgZ(73,"div",26)(74,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onload())}),e._uU(75,"RUN"),e.qZA(),e.TgZ(76,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(77,"Close"),e.qZA()()()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(27),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE),e.xp6(3),e.Q6J("ngIf","sellable"==t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE),e.xp6(1),e.Q6J("ngIf","nonsellable"==t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE)}}function ZQ(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function HQ(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",46)(2,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObjSHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",48)(4,"label",49),e._uU(5,"Show Batch Wise Stock Report "),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE)("checked",1==t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObjSHOWBATCHWISE)}}function UQ(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function zQ(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function BQ(n,s){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function JQ(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",2)(6,"div",5)(7,"div",6)(8,"h5",33),e._uU(9,"Consolidated Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(10,"div",6)(11,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(12,"\xd7"),e.qZA()()()(),e._UZ(13,"hr"),e.TgZ(14,"div",9)(15,"div",10)(16,"div",6)(17,"fieldset")(18,"legend",11),e._uU(19,"Date Range Selection : "),e.qZA(),e.TgZ(20,"div",2)(21,"div",12)(22,"div",13)(23,"div")(24,"label"),e._uU(25," From:(AD) "),e.qZA()(),e.TgZ(26,"div")(27,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(28,"div")(29,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1=o)}),e.qZA()()(),e.TgZ(30,"div",6)(31,"div")(32,"label"),e._uU(33," To:(AD) "),e.qZA()(),e.TgZ(34,"div")(35,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(36,"div")(37,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2=o)}),e.qZA()()()()()(),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV=o)}),e.TgZ(42,"option",20),e._uU(43,"ALL"),e.qZA(),e.YNc(44,ZQ,2,2,"option",18),e.qZA()(),e.TgZ(45,"fieldset")(46,"legend",11),e._uU(47,"Report Option :"),e.qZA(),e.TgZ(48,"div",35)(49,"div",36)(50,"div",37)(51,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(52,"div",39)(53,"label",40),e._uU(54,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(55,"div",36)(56,"div",37)(57,"input",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(58,"div",39)(59,"label",40),e._uU(60,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(61,"div",36)(62,"div",37)(63,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(64,"div",39)(65,"label",40),e._uU(66,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(67,"fieldset",43),e.YNc(68,HQ,6,2,"div",44),e.TgZ(69,"div",45)(70,"div",46)(71,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObj_ZEROBALSTOCKALSO=o.target.checked?1:0)}),e.qZA()(),e.TgZ(72,"div",48)(73,"label",49),e._uU(74,"Show Zero Balance Stock Also "),e.qZA()()()()(),e.TgZ(75,"div",50)(76,"fieldset")(77,"legend"),e._uU(78,"Report Filter Option :"),e.qZA(),e.TgZ(79,"div",9)(80,"div",51)(81,"label",52),e._uU(82,"Item Group :"),e.qZA()(),e.TgZ(83,"div",48)(84,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP=o)}),e._UZ(85,"option",20),e.YNc(86,UQ,2,2,"option",18),e.qZA()()(),e.TgZ(87,"div",2)(88,"div",51)(89,"label",52),e._uU(90,"Item Category :"),e.qZA()(),e.TgZ(91,"div",48)(92,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT=o)}),e._UZ(93,"option",20),e.YNc(94,zQ,2,2,"option",18),e.qZA()()(),e.TgZ(95,"div",2)(96,"div",51)(97,"label",52),e._uU(98,"Item Type :"),e.qZA()(),e.TgZ(99,"div",48)(100,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE=o)}),e._UZ(101,"option",53),e.YNc(102,BQ,2,2,"option",18),e.qZA()()(),e.TgZ(103,"div",54)(104,"div",51)(105,"label",55),e._uU(106,"Supplier Name :"),e.qZA()(),e.TgZ(107,"div",48)(108,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER=o)})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.customerEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.customerEnterCommand(o))})("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.customerEnterCommand(o))})("keypress",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()()(),e.TgZ(109,"fieldset")(110,"legend",11),e._uU(111,"Item Selection :"),e.qZA(),e.TgZ(112,"div",57)(113,"div",51)(114,"label",52),e._uU(115,"Item Name :"),e.qZA()(),e.TgZ(116,"div",48)(117,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM=o)})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keypress",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()()()()()(),e.TgZ(118,"div",26)(119,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onload())}),e._uU(120,"RUN"),e.qZA(),e.TgZ(121,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(122,"Close"),e.qZA()()()()()(),e.TgZ(123,"generic-popup-grid",59,60),e.NdJ("onItemDoubleClick",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dblClickPopupParty(o))}),e.qZA(),e.TgZ(125,"generic-popup-grid",59,61),e.NdJ("onItemDoubleClick",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dblClickPopupItem(o))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(27),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(5),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO)("checked",1==t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObj_ZEROBALSTOCKALSO),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem)}}let YQ=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._alertService=l,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",date1:"",date2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"%",PhiscalID:"",DIVISION:"%",Warehouse:"%",WarehouseType:"%",Company:"%",MCODE:"",REPORTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",SUPPLIERDISPLAYNAME:"",params:"%",SHOWBATCHWISESTOCK:0,WAREHOUSE:"",DIVISIONWISEREPORT:0,DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",ZEROBALSTOCKALSO:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.warehouseList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.allwarehouseList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("HASANOTHER_PCL",this.userSetting.HASANOTHER_PCL),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getUnsaleableWarehouseList().subscribe(h=>{this.warehouseList=h});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList(),0==this.userSetting.HASANOTHER_PCL&&(this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}))}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.CurrentStockWarehousewiseObj.assignPreviousValue&&(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV="%",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV="%"):(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV=this.masterService.PhiscalObj.Div),this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY="%",this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE="%",this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE="%",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode="0",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE=0,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO=0),this.changeEntryDate(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,"AD"),this.changeEntryDate(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day),this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day),this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.userSetting.HASANOTHER_PCL)this.repObj.reportparam.DATE1=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,this.repObj.reportparam.date1=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,this.repObj.reportparam.date2=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.PhiscalID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV:"%",this.repObj.reportparam.DIVISION=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV:"%",this.repObj.reportparam.Warehouse=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE:"%",this.repObj.reportparam.Company=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY:"%",this.repObj.reportparam.WarehouseType=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE:"%",this.repObj.reportname="Current Stock Warehousewise ReportNONDMS";else{if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME="";if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSENAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?"All":this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE:"",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE&&"100"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE&&"100"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME="";this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?"All":this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE:"%",this.repObj.reportparam.REPORTYPE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE:"",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE:"%",this.repObj.reportparam.params="%",this.repObj.reportparam.DIVISIONWISEREPORT=0,this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE:0,this.repObj.reportparam.ZEROBALSTOCKALSO=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_SBATCH"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_1_SBATCH"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_2_SBATCH"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="":0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_1"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=""}this.repObj.REPORTDISPLAYNAME="Consolidated Stock Report - Warehouse Wise",this._reportFilterService.CurrentStockWarehousewiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE=t.ACID,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE=t.MCODE,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM=t.DESCA,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["currentstockwarehousewise-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(kQ,5),e.Gf(FQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","400px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","315px"],["value","%"],["value","Nestle"],["value","Non Nestle"],["value","sellable"],["value","nonsellable"],["value","Main Warehouse",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],["value","Main Warehouse"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"modal-title",2,"padding-left","3%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[2,"display","flex","border","none","padding-bottom","20px"],["class","row checkbox","style","margin-top:5px; ",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""]],template:function(t,r){1&t&&(e.YNc(0,WQ,78,20,"ng-container",0),e.YNc(1,JQ,127,26,"ng-container",0)),2&t&&(e.Q6J("ngIf",1==r.userSetting.HASANOTHER_PCL),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.HASANOTHER_PCL))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const qQ=["genericGridSupplierPopup"];function GQ(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function QQ(n,s){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function KQ(n,s){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}let $Q=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._alertService=l,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,VCHR:"",ACID:"",CUSTOMERNAME:"",STATUS:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForSupplier=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.GrnReportObj.assignPreviousValue&&(this._reportFilterService.GrnReportObj.GrnReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.GrnReportObj.GrnReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.GrnReportObj.GrnReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT="0",this._reportFilterService.GrnReportObj.GrnReport_STATUS="0"),this.changeEntryDate(this._reportFilterService.GrnReportObj.GrnReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.GrnReportObj.GrnReport_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.GrnReportObj.GrnReport_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.GrnReportObj.GrnReport_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.GrnReportObj.GrnReport_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.GrnReportObj.GrnReport_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.GrnReportObj.GrnReport_CCENTER||null==this._reportFilterService.GrnReportObj.GrnReport_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.GrnReportObj.GrnReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.GrnReportObj.GrnReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.GrnReportObj.GrnReport_CCENTER?this._reportFilterService.GrnReportObj.GrnReport_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.GrnReportObj.GrnReport_DIV?this._reportFilterService.GrnReportObj.GrnReport_DIV:"%",this.repObj.reportparam.STATUS=this._reportFilterService.GrnReportObj.GrnReport_STATUS?this._reportFilterService.GrnReportObj.GrnReport_STATUS:0,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT?this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE?this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER?this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER:"",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.reportname="Grn Report",this.repObj.REPORTDISPLAYNAME="Grn Report",this._reportFilterService.GrnReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE=t.ACID,this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["grn-report-selector"]],viewQuery:function(t,r){if(1&t&&e.Gf(qQ,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4","pd0"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],[2,"width","100px"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","100",2,"margin-left","20px",3,"ngModel","ngModelChange"],[2,"width","50px"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"GRN Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_DIV=i}),e.YNc(41,GQ,2,0,"option",16),e.YNc(42,QQ,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,KQ,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Supplier Selection :"),e.qZA(),e.TgZ(55,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Report Option :"),e.qZA(),e.TgZ(59,"div",22)(60,"div",23)(61,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(62,"label",25),e._uU(63,"Pending GRN Only"),e.qZA()(),e.TgZ(64,"div",23)(65,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(66,"label"),e._uU(67,"Billed GRN Only"),e.qZA()(),e.TgZ(68,"div",23)(69,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(70,"label",28),e._uU(71,"All GRN"),e.qZA()()()(),e.TgZ(72,"fieldset")(73,"legend",10),e._uU(74,"Report Type :"),e.qZA(),e.TgZ(75,"div",29)(76,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(77,"label"),e._uU(78,"Summary Report"),e.qZA()(),e.TgZ(79,"div",29)(80,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(81,"label"),e._uU(82,"Detail Report"),e.qZA()()()()()(),e.TgZ(83,"div",32)(84,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(87,"Close"),e.qZA()()()()()(),e.TgZ(88,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.GrnReportObj.GrnReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.GrnReportObj.GrnReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const XQ=["genericGridItemPopup"],eK=["genericGridParentItemPopup"];function tK(n,s){1&n&&(e.TgZ(0,"option",38),e._uU(1,"ALL"),e.qZA())}function rK(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let iK=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._alertService=l,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",MCODE:"",REPORTTYPE:0,ITEMNAME:"",MENUCODE:"",COMID:"",PMCODE:"",PITEMSEGREGATION:0,PITEMNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForParentItem=new O.im,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RepackReportObj.assignPreviousValue&&(this._reportFilterService.RepackReportObj.RepackReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RepackReportObj.RepackReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RepackReportObj.RepackReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE="0",this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=0),this.changeEntryDate(this._reportFilterService.RepackReportObj.RepackReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RepackReportObj.RepackReport_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.RepackReportObj.RepackReport_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RepackReportObj.RepackReport_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.RepackReportObj.RepackReport_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RepackReportObj.RepackReport_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RepackReportObj.RepackReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RepackReportObj.RepackReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RepackReportObj.RepackReport_DIV?this._reportFilterService.RepackReportObj.RepackReport_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RepackReportObj.RepackReport_MCODE?this._reportFilterService.RepackReportObj.RepackReport_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE?this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RepackReportObj.RepackReport_ITEM?this._reportFilterService.RepackReportObj.RepackReport_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RepackReportObj.RepackReport_MENUCODE?this._reportFilterService.RepackReportObj.RepackReport_MENUCODE:"%",this.repObj.reportparam.PMCODE=this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE?this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE:"%",this.repObj.reportparam.PITEMNAME=this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM?this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM:"%",this.repObj.reportparam.PITEMSEGREGATION=this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION?this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.PITEMNAME&&(this.repObj.reportparam.PMCODE="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Repack Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.PITEMSEGREGATION?this.repObj.reportname="Repack Report_1":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.PITEMSEGREGATION&&(this.repObj.reportname="Repack Report_2"),this.repObj.REPORTDISPLAYNAME="Repack Report",this._reportFilterService.RepackReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.RepackReportObj.RepackReport_MCODE=t.MCODE,this._reportFilterService.RepackReportObj.RepackReport_ITEM=t.DESCA,this._reportFilterService.RepackReportObj.RepackReport_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ParentItemEnterCommand(t){this.gridPopupSettingsForParentItem=this.masterService.getGenericGridPopUpSettings("ParentItemsList"),this.genericGridParentItemPopup.show()}dblClickPopupParentItem(t){this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE=t.MCODE,this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM=t.DESCA,this._reportFilterService.RepackReportObj.RepackReport_PARENTMENUCODE=t.MENUCODE}reportTypeChange(){0==this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE&&(this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["repack-report-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(XQ,5),e.Gf(eK,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridParentItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Parent Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridParentItemPopup",""],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Repack Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_DIV=i}),e.YNc(41,tK,2,0,"option",16),e.YNc(42,rK,2,2,"option",17),e.qZA()()(),e.TgZ(43,"div",18)(44,"fieldset")(45,"legend",10),e._uU(46,"Report Type Selection :"),e.qZA(),e.TgZ(47,"div")(48,"div",19)(49,"div",20)(50,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE=i})("change",function(){return r.reportTypeChange()}),e.qZA()(),e.TgZ(51,"div",22)(52,"label",23),e._uU(53,"Entry Wise Report"),e.qZA()()(),e.TgZ(54,"div",19)(55,"div",20)(56,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE=i})("change",function(){return r.reportTypeChange()}),e.qZA()(),e.TgZ(57,"div",22)(58,"label",23),e._uU(59,"Item Wise Report"),e.qZA()()(),e.TgZ(60,"div",19)(61,"div",20)(62,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=i})("change",function(i){return r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=i.target.checked?1:0}),e.qZA()(),e.TgZ(63,"div",22)(64,"label",23),e._uU(65,"Do Parent Item Wise Segregation"),e.qZA()()()()(),e.TgZ(66,"fieldset")(67,"legend",10),e._uU(68,"Report Filter Option:"),e.qZA(),e.TgZ(69,"div",26)(70,"div",27)(71,"label",28),e._uU(72,"Item Name :"),e.qZA()(),e.TgZ(73,"div",29)(74,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(75,"div",26)(76,"div",27)(77,"label",28),e._uU(78,"Parent Item Name :"),e.qZA()(),e.TgZ(79,"div",29)(80,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_PARENTITEM=i})("keydown.enter",function(i){return r.ParentItemEnterCommand(i)})("keydown.Tab",function(i){return r.ParentItemEnterCommand(i)})("keyup",function(i){return r.ParentItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(81,"div",32)(82,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(83,"RUN"),e.qZA(),e.TgZ(84,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(85,"Close"),e.qZA()()()()()(),e.TgZ(86,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(88,"generic-popup-grid",35,37),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParentItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RepackReportObj.RepackReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RepackReportObj.RepackReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION)("checked",1==r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION)("disabled",0==r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_PARENTITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForParentItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const oK=["genericGridItemPopup"];function nK(n,s){1&n&&(e.TgZ(0,"option",47),e._uU(1,"ALL"),e.qZA())}function aK(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function sK(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij("",t.NAME," ")}}function lK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=o)}),e._UZ(2,"option",47),e.YNc(3,sK,2,2,"option",17),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM),e.xp6(2),e.Q6J("ngForOf",t.reqdivisionList)}}function cK(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij("",t.NAME," ")}}function pK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=o)}),e.ALo(2,"disableField"),e._UZ(3,"option",47),e.YNc(4,cK,2,2,"option",17),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM)("disabled",e.lcZ(2,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList)}}function dK(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij("",t.NAME," ")}}function hK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO=o)}),e._UZ(2,"option",47),e.YNc(3,dK,2,2,"option",17),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO),e.xp6(2),e.Q6J("ngForOf",t.reqdivisionList)}}function _K(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij("",t.NAME," ")}}function uK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO=o)}),e._UZ(2,"option",47),e.YNc(3,_K,2,2,"option",17),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO),e.xp6(2),e.Q6J("ngForOf",t.warehouseList)}}function gK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"div",51)(2,"input",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",30)(4,"label",53),e._uU(5),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH)("checked",1==t._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH),e.xp6(3),e.hij("Disable ",t.typeWise," Wise Segragation In Report")}}let mK=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._alertService=l,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",ENTRYWISEREPORT:"",REQTYPE:"",Status:"",IGNOREBRANCH:"",REQFROM:"",REQTO:"",REQFROMDISPLAYNAME:"",REQTODISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.warehouseList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.reqdivisionList=[],this.userProfile={},this.typeWise="Division",this.gridPopupSettingsForItem=new O.im,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("this.userProfile",this.userProfile),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getDivisionWiseWarehouseList(this._transactionService.userProfile.userDivision).subscribe(h=>{this.warehouseList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getNotLoginDivisionList().subscribe(h=>{this.reqdivisionList=h});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RequisitionReportObj.assignPreviousValue&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RequisitionReportObj.RequisitionReport_ShowItemInGroupWiseReport=0,this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT="1",this._reportFilterService.RequisitionReportObj.RequisitionReport_Status="0",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM="%",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO="%",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE="0"),this.changeEntryDate(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM&&"%"==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM)this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME="All";else if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM&&"%"!=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM){let i=this.reqdivisionList.filter(a=>a.INITIAL==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM);this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME="";if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO&&"%"==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO)this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME="All";else if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO&&"%"!=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO){let i=this.reqdivisionList.filter(a=>a.INITIAL==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO);this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV?this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE?this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.RequisitionReportObj.RequisitionReport_MGROUP?this._reportFilterService.RequisitionReportObj.RequisitionReport_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.RequisitionReportObj.RequisitionReport_PTYPE?this._reportFilterService.RequisitionReportObj.RequisitionReport_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.RequisitionReportObj.RequisitionReport_MCAT?this._reportFilterService.RequisitionReportObj.RequisitionReport_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM?this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE?this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE:"",this.repObj.reportparam.ENTRYWISEREPORT=this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT?this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT:"",this.repObj.reportparam.REQTYPE=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE:"0",this.repObj.reportparam.Status=this._reportFilterService.RequisitionReportObj.RequisitionReport_Status?this._reportFilterService.RequisitionReportObj.RequisitionReport_Status:"",this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH?this._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH:0,this.repObj.reportparam.REQFROM=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM:"%",this.repObj.reportparam.REQTO=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO:"%",this.repObj.reportparam.REQFROMDISPLAYNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME:"",this.repObj.reportparam.REQTODISPLAYNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),1==this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT?this.repObj.reportname="Requisition Report":2==this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT&&(this.repObj.reportname="Requisition Report_1"),this.repObj.REPORTDISPLAYNAME="Requisition Report",this._reportFilterService.RequisitionReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}onChangeReqType(t){0==t&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM="%",this.typeWise="Division"),1==t&&(1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=this.userProfile.userWarehouse),this.typeWise="Warehouse")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE=t.MCODE,this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM=t.DESCA,this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ItemWiseChange(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["requisition-report-selector"]],viewQuery:function(t,r){if(1&t&&e.Gf(oK,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:130,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reqType","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reqType","value","1",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","2",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%","width","100px !important"],["class","col",4,"ngIf"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-bottom","-3%"],[1,"col-sm-1","pd0"],["type","radio","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","value","1",3,"ngModel","ngModelChange"],["type","radio","value","2",3,"ngModel","ngModelChange"],["type","radio","value","3",3,"ngModel","ngModelChange"],["type","radio","value","4",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["value","%"],[3,"value"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Requisition Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_DIV=i}),e.YNc(41,nK,2,0,"option",16),e.YNc(42,aK,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Requisition Type:"),e.qZA(),e.TgZ(46,"div",1)(47,"div",18)(48,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE=i})("change",function(){return r.onChangeReqType(0)}),e.qZA(),e.TgZ(49,"label",20),e._uU(50,"Transfer Out"),e.qZA()(),e.TgZ(51,"div",18)(52,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE=i})("change",function(){return r.onChangeReqType(1)}),e.qZA(),e.TgZ(53,"label",20),e._uU(54,"Stock Issue"),e.qZA()()()()(),e.TgZ(55,"div",22)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",18)(61,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT=i}),e.qZA(),e.TgZ(62,"label",20),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",18)(65,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT=i}),e.qZA(),e.TgZ(66,"label",20),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Report Filter Option :"),e.qZA(),e.TgZ(71,"div",25)(72,"div",26)(73,"label",27),e._uU(74,"Requisition From :"),e.qZA()(),e.YNc(75,lK,4,2,"div",28),e.YNc(76,pK,5,5,"div",28),e.qZA(),e.TgZ(77,"div",25)(78,"div",26)(79,"label",29),e._uU(80,"Requisition To :"),e.qZA()(),e.YNc(81,hK,4,2,"div",28),e.YNc(82,uK,4,2,"div",28),e.qZA(),e.TgZ(83,"div",25)(84,"div",26)(85,"label",29),e._uU(86,"Item Name :"),e.qZA()(),e.TgZ(87,"div",30)(88,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Requisition Status :"),e.qZA(),e.TgZ(92,"div",32)(93,"div",33)(94,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(95,"div",35)(96,"label",36),e._uU(97,"All"),e.qZA()()(),e.TgZ(98,"div",32)(99,"div",33)(100,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(101,"div",35)(102,"label",36),e._uU(103,"Pending"),e.qZA()()(),e.TgZ(104,"div",32)(105,"div",33)(106,"input",38),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(107,"div",35)(108,"label",36),e._uU(109,"Delivered"),e.qZA()()(),e.TgZ(110,"div",32)(111,"div",33)(112,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(113,"div",35)(114,"label",36),e._uU(115,"Force Closed"),e.qZA()()(),e.TgZ(116,"div",32)(117,"div",33)(118,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(119,"div",35)(120,"label",36),e._uU(121,"Partial"),e.qZA()()()()(),e.YNc(122,gK,6,3,"div",41),e.qZA()()(),e.TgZ(123,"div",42)(124,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(125,"RUN"),e.qZA(),e.TgZ(126,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(127,"Close"),e.qZA()()()()()(),e.TgZ(128,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(10),e.Q6J("ngIf","0"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(1),e.Q6J("ngIf","1"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(5),e.Q6J("ngIf","0"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(1),e.Q6J("ngIf","1"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(4),e.Q6J("ngIf",2==r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function fK(n,s){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function SK(n,s){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.ID),e.xp6(1),e.hij(" ",t.REPORTNAME," ")}}function vK(n,s){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function OK(n,s){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function bK(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"fieldset")(2,"legend",10),e._uU(3,"From Division:"),e.qZA(),e.TgZ(4,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV=o)}),e.TgZ(5,"option",16),e._uU(6,"ALL"),e.qZA(),e.YNc(7,vK,2,2,"option",17),e.qZA()(),e.TgZ(8,"fieldset")(9,"legend",10),e._uU(10,"To Division:"),e.qZA(),e.TgZ(11,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RawDataReportObj.RawDataReport_TODIV=o)}),e.TgZ(12,"option",16),e._uU(13,"ALL"),e.qZA(),e.YNc(14,OK,2,2,"option",17),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_TODIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList)}}let CK=(()=>{class n{constructor(t,r,o,i,a,l){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",COMID:"",REPORT_ID:1,REPORT_NAME:"",FROMDIV:"%",TODIV:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.rawdatareportList=[],this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getRawDataReportList().subscribe(c=>{this.rawdatareportList=c});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10)}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RawDataReportObj.assignPreviousValue&&(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RawDataReportObj.RawDataReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RawDataReportObj.RawDataReport_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV=!1),this.changeEntryDate(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RawDataReportObj.RawDataReport_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.RawDataReportObj.RawDataReport_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.RawDataReportObj.RawDataReport_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RawDataReportObj.RawDataReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RawDataReportObj.RawDataReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RawDataReportObj.RawDataReport_DIV?this._reportFilterService.RawDataReportObj.RawDataReport_DIV:"%",this.repObj.reportparam.REPORT_ID=this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID?this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID:1,this.repObj.reportparam.REPORT_NAME=this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME?this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME:"",this.repObj.reportparam.FROMDIV=this._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV?this._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV:"%",this.repObj.reportparam.TODIV=this._reportFilterService.RawDataReportObj.RawDataReport_TODIV?this._reportFilterService.RawDataReportObj.RawDataReport_TODIV:"%",this.repObj.reportname=`Raw Data Report_${this.repObj.reportparam.REPORT_ID}`,this.repObj.REPORTDISPLAYNAME="Raw Data Report",this._reportFilterService.RawDataReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}showFromToDiv(){let t=this.rawdatareportList.filter(r=>r.ID==this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID);t.length>0&&(this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME=t[0].REPORTNAME,this._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV=!(!t[0].SHOWFROMTODIV||1!=t[0].SHOWFROMTODIV))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["rawdata-report-selector"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:56,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","310px"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Raw Data Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_DIV=i}),e.TgZ(41,"option",16),e._uU(42,"ALL"),e.qZA(),e.YNc(43,fK,2,2,"option",17),e.qZA()()(),e.TgZ(44,"div",18)(45,"fieldset")(46,"legend",10),e._uU(47,"Report Type:"),e.qZA(),e.TgZ(48,"select",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID=i})("change",function(){return r.showFromToDiv()}),e.YNc(49,SK,2,2,"option",17),e.qZA()(),e.YNc(50,bK,15,4,"ng-container",20),e.qZA()()(),e.TgZ(51,"div",21)(52,"button",22),e.NdJ("click",function(){return r.onload()}),e._uU(53,"RUN"),e.qZA(),e.TgZ(54,"button",23),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(55,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID),e.xp6(1),e.Q6J("ngForOf",r.rawdatareportList),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const TK=["genericGridSupplierPopup"],MK=["genericGridItemPopup"];function AK(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function PK(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function RK(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function EK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE5=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE5)}}function yK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE6=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE6)}}function IK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE7=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE7)}}function NK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE8=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE8)}}function DK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE9=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE9)}}function kK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE10=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE10)}}function FK(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function jK(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function LK(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function wK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",31)(2,"label",32),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",23)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_PTYPE=o)}),e._UZ(6,"option",48),e.YNc(7,LK,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function xK(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function VK(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",31)(2,"label",32),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",23)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER=o)}),e._UZ(6,"option",19),e.YNc(7,xK,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}let WK=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._alertService=l,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",AGE1:30,AGE2:60,AGE3:90,AGE4:120,AGE5:150,AGE6:180,AGE7:210,AGE8:240,AGE9:270,AGE10:300,AGEINGMODE:0,SHOWBATCHWISEAGEING:0,SHOWGROUPING:0,WAREHOUSE:"%",MANUFACTURER:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.ManufacturerList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.getManufacturerList().subscribe(h=>{h&&(this.ManufacturerList=h)});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){let t={};t=this.masterService.userProfile.userRights.find(o=>"StockAgeingLimit"==o.right),this.AgingValue=t.value,console.log("AGINGVALUE",this.AgingValue);const r=new Date;this.currDate=(0,f.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(o=>{"DRILL"==o.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockAgeingObj.assignPreviousValue&&(this._reportFilterService.StockAgeingObj.StockAgeing_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.StockAgeingObj.StockAgeing_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockAgeingObj.StockAgeing_AGE1=30,this._reportFilterService.StockAgeingObj.StockAgeing_AGE2=60,this._reportFilterService.StockAgeingObj.StockAgeing_AGE3=90,this._reportFilterService.StockAgeingObj.StockAgeing_AGE4=120,this._reportFilterService.StockAgeingObj.StockAgeing_AGE5=150,this._reportFilterService.StockAgeingObj.StockAgeing_AGE6=180,this._reportFilterService.StockAgeingObj.StockAgeing_AGE7=210,this._reportFilterService.StockAgeingObj.StockAgeing_AGE8=240,this._reportFilterService.StockAgeingObj.StockAgeing_AGE9=270,this._reportFilterService.StockAgeingObj.StockAgeing_AGE10=300,this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE=1,this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING=0,this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING=0),this.changeEntryDate(this._reportFilterService.StockAgeingObj.StockAgeing_DATE1,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockAgeingObj.StockAgeing_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.StockAgeingObj.StockAgeing_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockAgeingObj.StockAgeing_DIV?this._reportFilterService.StockAgeingObj.StockAgeing_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE?this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockAgeingObj.StockAgeing_MCODE?this._reportFilterService.StockAgeingObj.StockAgeing_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.StockAgeingObj.StockAgeing_MGROUP?this._reportFilterService.StockAgeingObj.StockAgeing_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockAgeingObj.StockAgeing_PTYPE?this._reportFilterService.StockAgeingObj.StockAgeing_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockAgeingObj.StockAgeing_MCAT?this._reportFilterService.StockAgeingObj.StockAgeing_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockAgeingObj.StockAgeing_ITEM?this._reportFilterService.StockAgeingObj.StockAgeing_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER?this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE?this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE:"",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE?this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE:"%",this.repObj.reportparam.AGE1=this._reportFilterService.StockAgeingObj.StockAgeing_AGE1?this._reportFilterService.StockAgeingObj.StockAgeing_AGE1:30,this.repObj.reportparam.AGE2=this._reportFilterService.StockAgeingObj.StockAgeing_AGE2?this._reportFilterService.StockAgeingObj.StockAgeing_AGE2:60,this.repObj.reportparam.AGE3=this._reportFilterService.StockAgeingObj.StockAgeing_AGE3?this._reportFilterService.StockAgeingObj.StockAgeing_AGE3:90,this.repObj.reportparam.AGE4=this._reportFilterService.StockAgeingObj.StockAgeing_AGE4?this._reportFilterService.StockAgeingObj.StockAgeing_AGE4:120,this.repObj.reportparam.AGE5=this.AgingValue>=5?this._reportFilterService.StockAgeingObj.StockAgeing_AGE5?this._reportFilterService.StockAgeingObj.StockAgeing_AGE5:150:0,this.repObj.reportparam.AGE6=this.AgingValue>=6?this._reportFilterService.StockAgeingObj.StockAgeing_AGE6?this._reportFilterService.StockAgeingObj.StockAgeing_AGE6:180:0,this.repObj.reportparam.AGE7=this.AgingValue>=7?this._reportFilterService.StockAgeingObj.StockAgeing_AGE7?this._reportFilterService.StockAgeingObj.StockAgeing_AGE7:210:0,this.repObj.reportparam.AGE8=this.AgingValue>=8?this._reportFilterService.StockAgeingObj.StockAgeing_AGE8?this._reportFilterService.StockAgeingObj.StockAgeing_AGE8:240:0,this.repObj.reportparam.AGE9=this.AgingValue>=9?this._reportFilterService.StockAgeingObj.StockAgeing_AGE9?this._reportFilterService.StockAgeingObj.StockAgeing_AGE9:270:0,this.repObj.reportparam.AGE10=this.AgingValue>=10?this._reportFilterService.StockAgeingObj.StockAgeing_AGE10?this._reportFilterService.StockAgeingObj.StockAgeing_AGE10:300:0,this.repObj.reportparam.AGEINGMODE=this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE?this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE:1,this.repObj.reportparam.SHOWBATCHWISEAGEING=this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING?this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING?this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING:0,this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER?this._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER:"%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?1==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_SBATCH":1==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_1_SBATCH":2==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_2_SBATCH":2==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_3_SBATCH":3==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_4_SBATCH":3==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING&&(this.repObj.reportname="Stock Ageing ReportNONDMS_5_SBATCH"):1==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS":1==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_1":2==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_2":2==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_3":3==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_4":3==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING&&(this.repObj.reportname="Stock Ageing ReportNONDMS_5"),this.repObj.REPORTDISPLAYNAME="Stock Ageing Report",this._reportFilterService.StockAgeingObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r});const i=this.storeInLargestAgeKeyTheLargetsAgeValue({...this.repObj.reportparam}),a={...this.repObj,reportparam:i};this.reportdataEmit.emit({status:"ok",data:a})}storeInLargestAgeKeyTheLargetsAgeValue(t){let r=0,o=0;const i=Object.entries(t);for(const[a,l]of i){let c;if(null!==(c=/(AGE)(\d+)/.exec(a))&&"number"==typeof l){if(c[2]){const h=+c[2];h>o&&(o=h)}l>r&&(r=l)}}return t[`AGE${o}`]=r,{...t}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE=t.ACID,this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.StockAgeingObj.StockAgeing_MCODE=t.MCODE,this._reportFilterService.StockAgeingObj.StockAgeing_ITEM=t.DESCA,this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stockageing-report-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(TK,5),e.Gf(MK,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:127,vars:39,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"padding-top","0px"],[1,"col-md-6","filter-part"],[2,"margin-left","50px"],["type","text",1,"ageing","form-control",3,"ngModel","ngModelChange"],["type","text","class","ageing form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","1"],["value","2"],["value","3"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"],["value","100"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Ageing Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_DIV=i}),e.YNc(31,AK,2,0,"option",16),e.YNc(32,PK,2,2,"option",17),e.qZA()(),e.TgZ(33,"fieldset")(34,"legend",10),e._uU(35,"Warehouse Selection:"),e.qZA(),e.TgZ(36,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE=i}),e.ALo(37,"disableField"),e._UZ(38,"option",19),e.YNc(39,RK,2,2,"option",17),e.qZA()(),e.TgZ(40,"div",20)(41,"div",21)(42,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING=i}),e.qZA()(),e.TgZ(43,"div",23)(44,"label",24),e._uU(45,"Show Batch In Ageing Report"),e.qZA()()(),e.TgZ(46,"div",25)(47,"div",21)(48,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING=i}),e.qZA()(),e.TgZ(49,"div",23)(50,"label",24),e._uU(51,"Show Item Grouping Hierarchy"),e.qZA()()()(),e.TgZ(52,"div",26)(53,"fieldset")(54,"legend",10),e._uU(55,"Ageing Parameter"),e.qZA(),e.TgZ(56,"div",27)(57,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE1=i}),e.qZA(),e.TgZ(58,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE2=i}),e.qZA(),e.TgZ(59,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE3=i}),e.qZA(),e.TgZ(60,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE4=i}),e.qZA(),e.YNc(61,EK,1,1,"input",29),e.YNc(62,yK,1,1,"input",29),e.YNc(63,IK,1,1,"input",29),e.YNc(64,NK,1,1,"input",29),e.YNc(65,DK,1,1,"input",29),e.YNc(66,kK,1,1,"input",29),e.qZA()(),e.TgZ(67,"fieldset")(68,"legend",10),e._uU(69,"Ageing Type Selection :"),e.qZA(),e.TgZ(70,"div",30)(71,"div",31)(72,"label",32),e._uU(73,"Ageing Type:"),e.qZA()(),e.TgZ(74,"div",23)(75,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE=i}),e.TgZ(76,"option",33),e._uU(77,"By Purchase Date"),e.qZA(),e.TgZ(78,"option",34),e._uU(79,"By Expiry Date"),e.qZA(),e.TgZ(80,"option",35),e._uU(81,"By Manufacturing Date"),e.qZA()()()()(),e.TgZ(82,"fieldset")(83,"legend"),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",8)(86,"div",31)(87,"label",32),e._uU(88,"Item Group :"),e.qZA()(),e.TgZ(89,"div",23)(90,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_MGROUP=i}),e._UZ(91,"option",19),e.YNc(92,FK,2,2,"option",17),e.qZA()()(),e.TgZ(93,"div",1)(94,"div",31)(95,"label",32),e._uU(96,"Item Category :"),e.qZA()(),e.TgZ(97,"div",23)(98,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_MCAT=i}),e._UZ(99,"option",19),e.YNc(100,jK,2,2,"option",17),e.qZA()()(),e.YNc(101,wK,8,2,"div",36),e.YNc(102,VK,8,2,"div",36),e.TgZ(103,"div",37)(104,"div",31)(105,"label",38),e._uU(106,"Supplier Name :"),e.qZA()(),e.TgZ(107,"div",23)(108,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(109,"fieldset")(110,"legend",10),e._uU(111,"Item Selection :"),e.qZA(),e.TgZ(112,"div",30)(113,"div",31)(114,"label",32),e._uU(115,"Item Name :"),e.qZA()(),e.TgZ(116,"div",23)(117,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(118,"div",41)(119,"button",42),e.NdJ("click",function(){return r.onload()}),e._uU(120,"RUN"),e.qZA(),e.TgZ(121,"button",43),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(122,"Close"),e.qZA()()()()()(),e.TgZ(123,"generic-popup-grid",44,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(125,"generic-popup-grid",44,46),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE)("disabled",e.lcZ(37,37,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING)("checked",1==r._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING)("checked",1==r._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE1),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE2),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE3),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE4),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=5),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=6),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=7),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=8),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=9),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=10),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE),e.xp6(15),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const ZK=["genericGridSupplierPopup"],HK=["genericGridItemPopup"];function UK(n,s){1&n&&(e.TgZ(0,"option",27),e._uU(1,"ALL"),e.qZA())}function zK(n,s){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function BK(n,s){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function JK(n,s){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function YK(n,s){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let qK=(()=>{class n{constructor(t,r,o,i,a,l){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",FROMDATE:"",TODATE:"",FROMDIV:"",SHOWINTRANSITONLY:0,COMID:"",SHOWBATCHWISE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.userSetting=l.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)}),this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.BranchtransferoutVsInObj.assignPreviousValue&&(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=0,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=0,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=0),this.changeEntryDate(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,"AD")})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}onload(){console.log("@@reporttype",this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit),this.repObj.reportparam.DATE1=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM:"",this.repObj.reportparam.FROMDATE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,this.repObj.reportparam.FROMDIV=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV:"%",this.repObj.reportparam.SHOWINTRANSITONLY=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit:0,this.repObj.reportparam.REPORTTYPE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE:"%",this.repObj.reportparam.SHOWBATCHWISE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_1":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_2":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_3":0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_4":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_5":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_6":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE&&(this.repObj.reportname="Branch Transfer Out Vs In Report_7"),this.repObj.REPORTDISPLAYNAME="Branch Transfer Out Vs In Report",this._reportFilterService.BranchtransferoutVsInObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_SUPPLIERCODE=t.ACID,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE=t.MCODE,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM=t.DESCA,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branch-transferout-vs-inreport"]],viewQuery:function(t,r){if(1&t&&(e.Gf(ZK,5),e.Gf(HK,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:107,vars:25,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","%"],["value","100"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Out Vs In Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV=i}),e.YNc(41,UK,2,0,"option",16),e.YNc(42,zK,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",18)(44,"div",19)(45,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=i})("change",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=i.target.checked?1:0}),e.qZA()(),e.TgZ(46,"div",21)(47,"label",22),e._uU(48,"Show value in Report Also"),e.qZA()()(),e.TgZ(49,"div",23)(50,"div",1)(51,"div",19)(52,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=i})("change",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=i.target.checked?1:0}),e.qZA()(),e.TgZ(53,"div",21)(54,"label",22),e._uU(55,"Show Item In Transit only"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"div",1)(58,"div",19)(59,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=i})("change",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=i.target.checked?1:0}),e.qZA()(),e.TgZ(60,"div",21)(61,"label",22),e._uU(62,"Show Batch Wise Report"),e.qZA()()()()(),e.TgZ(63,"div",24)(64,"fieldset")(65,"legend"),e._uU(66,"Report Filter Option :"),e.qZA(),e.TgZ(67,"div",8)(68,"div",25)(69,"label",26),e._uU(70,"Item Group :"),e.qZA()(),e.TgZ(71,"div",21)(72,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP=i}),e._UZ(73,"option",27),e.YNc(74,BK,2,2,"option",17),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",25)(77,"label",26),e._uU(78,"Item Category :"),e.qZA()(),e.TgZ(79,"div",21)(80,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT=i}),e._UZ(81,"option",27),e.YNc(82,JK,2,2,"option",17),e.qZA()()(),e.TgZ(83,"div",1)(84,"div",25)(85,"label",26),e._uU(86,"Item Type :"),e.qZA()(),e.TgZ(87,"div",21)(88,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE=i}),e._UZ(89,"option",28),e.YNc(90,YK,2,2,"option",17),e.qZA()()()(),e.TgZ(91,"fieldset")(92,"legend",10),e._uU(93,"Item Selection :"),e.qZA(),e.TgZ(94,"div",29)(95,"div",25)(96,"label",26),e._uU(97,"Item Name :"),e.qZA()(),e.TgZ(98,"div",21)(99,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(100,"div",31)(101,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(102,"RUN"),e.qZA(),e.TgZ(103,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(104,"Close"),e.qZA()()()()()(),e.TgZ(105,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport)("checked",1==r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit)("checked",1==r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise)("checked",1==r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const GK=["genericGridSupplierPopup"],QK=["genericGridItemPopup"];function KK(n,s){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function $K(n,s){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function XK(n,s){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function e$(n,s){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let t$=(()=>{class n{constructor(t,r,o,i,a,l){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.categorywiseConfigurationdetails=[],this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.StockWarehousewiseObj.assignPreviousValue&&(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2,"AD")})}changeEntryDate(t,r){console.log("Value in date",t);var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE:"%",this.repObj.reportparam.ReportMode=this._reportFilterService.StockWarehousewiseObj.StockSummary_ReportMode?this._reportFilterService.StockWarehousewiseObj.StockSummary_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Stock Report Warehouse Wise",this.repObj.REPORTDISPLAYNAME="Stock Report Warehouse Wise",this._reportFilterService.StockWarehousewiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE=t.ACID,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE=t.MCODE,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM=t.DESCA,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-warehouse-wise-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(GK,5),e.Gf(QK,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:114,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"margin-top","5px","float","right"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV=i}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,KK,2,2,"option",17),e.qZA()(),e.TgZ(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=i}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=i}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=i}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(56,"div",26)(57,"div",27)(58,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SHOWBATCHWISE=i}),e.qZA()(),e.TgZ(59,"div",29)(60,"label",30),e._uU(61,"Show Batch Wise Stock Report "),e.qZA()()()(),e.TgZ(62,"div",31)(63,"fieldset")(64,"legend"),e._uU(65,"Report Filter Option :"),e.qZA(),e.TgZ(66,"div",8)(67,"div",32)(68,"label",33),e._uU(69,"Item Group :"),e.qZA()(),e.TgZ(70,"div",29)(71,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP=i}),e._UZ(72,"option",16),e.YNc(73,$K,2,2,"option",17),e.qZA()()(),e.TgZ(74,"div",1)(75,"div",32)(76,"label",33),e._uU(77,"Item Category :"),e.qZA()(),e.TgZ(78,"div",29)(79,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT=i}),e._UZ(80,"option",16),e.YNc(81,XK,2,2,"option",17),e.qZA()()(),e.TgZ(82,"div",1)(83,"div",32)(84,"label",33),e._uU(85,"Item Type :"),e.qZA()(),e.TgZ(86,"div",29)(87,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE=i}),e._UZ(88,"option",34),e.YNc(89,e$,2,2,"option",17),e.qZA()()(),e.TgZ(90,"div",35)(91,"div",32)(92,"label",36),e._uU(93,"Supplier Name :"),e.qZA()(),e.TgZ(94,"div",29)(95,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(96,"fieldset")(97,"legend",10),e._uU(98,"Item Selection :"),e.qZA(),e.TgZ(99,"div",38)(100,"div",32)(101,"label",33),e._uU(102,"Item Name :"),e.qZA()(),e.TgZ(103,"div",29)(104,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(105,"div",40)(106,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(107,"RUN"),e.qZA(),e.TgZ(108,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(109,"Close"),e.qZA()()()()()(),e.TgZ(110,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(112,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SHOWBATCHWISE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const r$=["genericGridSupplierPopup"],i$=["genericGridItemPopup"];function o$(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function n$(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function a$(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let s$=(()=>{class n{constructor(t,r,o,i,a,l){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",REPORTOPTIONDISPLAYNAME:"",SUPPLIERDISPLAYNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE="0",this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}onload(){if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Wise Report",this.repObj.reportname="Consolidated Purchase Report Division Wise"):1==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Group Wise Report",this.repObj.reportname="Consolidated Purchase Report Division Wise_1"):2==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Category Wise Report",this.repObj.reportname="Consolidated Purchase Report Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Purchase Report - Division Wise",this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE=t.ACID,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE=t.MCODE,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM=t.DESCA,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["consolidatedpurchase-reportbranchwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(r$,5),e.Gf(i$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:111,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Purchase Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Type Selection :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Item Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Item Group Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Item Category Wise Report"),e.qZA()()()()()(),e.TgZ(59,"div",23)(60,"fieldset")(61,"legend"),e._uU(62,"Report Filter Option :"),e.qZA(),e.TgZ(63,"div",8)(64,"div",24)(65,"label",25),e._uU(66,"Item Group :"),e.qZA()(),e.TgZ(67,"div",26)(68,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP=i}),e._UZ(69,"option",28),e.YNc(70,o$,2,2,"option",29),e.qZA()()(),e.TgZ(71,"div",1)(72,"div",24)(73,"label",25),e._uU(74,"Item Category :"),e.qZA()(),e.TgZ(75,"div",26)(76,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT=i}),e._UZ(77,"option",28),e.YNc(78,n$,2,2,"option",29),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",24)(81,"label",25),e._uU(82,"Item Type :"),e.qZA()(),e.TgZ(83,"div",26)(84,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE=i}),e._UZ(85,"option",30),e.YNc(86,a$,2,2,"option",29),e.qZA()()(),e.TgZ(87,"div",31)(88,"div",24)(89,"label",32),e._uU(90,"Supplier Name :"),e.qZA()(),e.TgZ(91,"div",26)(92,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(93,"fieldset")(94,"legend",10),e._uU(95,"Item Selection :"),e.qZA(),e.TgZ(96,"div",34)(97,"div",24)(98,"label",25),e._uU(99,"Item Name :"),e.qZA()(),e.TgZ(100,"div",26)(101,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(102,"div",36)(103,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(104,"RUN"),e.qZA(),e.TgZ(105,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(106,"Close"),e.qZA()()()()()(),e.TgZ(107,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(109,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const l$=["genericGridCustomerPopup"],c$=["genericGridItemPopup"];function p$(n,s){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function d$(n,s){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function h$(n,s){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let _$=(()=>{class n{constructor(t,r,o,i,a,l){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",MENUCODE:"",CUSTOMERNAME:"",REPORTOPTIONDISPLAYNAME:"",CUSTOMERDISPLAYNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new O.im,this.gridPopupSettingsForItem=new O.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}onload(){if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping??0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Wise Report",this.repObj.reportname="Consolidated Sales Report Division Wise"):1==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Group Wise Report",this.repObj.reportname="Consolidated Sales Report Division Wise_1"):2==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Category Wise Report",this.repObj.reportname="Consolidated Sales Report Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Sales Report - Division Wise",this._reportFilterService.ConsolidtedSalesBranchWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE=t.CUSTID,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER=t.CUSTNAME}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE=t.MCODE,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM=t.DESCA,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["consolidatedsales-reportbranchwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(l$,5),e.Gf(c$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:117,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Sales Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Type Selection :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Item Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Item Group Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Item Category Wise Report"),e.qZA()()()()(),e.TgZ(59,"div",23)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping=i})("change",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping=i.target.checked?1:0}),e.qZA()(),e.TgZ(62,"div",26)(63,"label",27),e._uU(64,"Show Item Hierarchy"),e.qZA()()()(),e.TgZ(65,"div",28)(66,"fieldset")(67,"legend"),e._uU(68,"Report Filter Option :"),e.qZA(),e.TgZ(69,"div",8)(70,"div",29)(71,"label",30),e._uU(72,"Item Group :"),e.qZA()(),e.TgZ(73,"div",26)(74,"select",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP=i}),e._UZ(75,"option",32),e.YNc(76,p$,2,2,"option",33),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",29)(79,"label",30),e._uU(80,"Item Category :"),e.qZA()(),e.TgZ(81,"div",26)(82,"select",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT=i}),e._UZ(83,"option",32),e.YNc(84,d$,2,2,"option",33),e.qZA()()(),e.TgZ(85,"div",1)(86,"div",29)(87,"label",30),e._uU(88,"Item Type :"),e.qZA()(),e.TgZ(89,"div",26)(90,"select",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE=i}),e._UZ(91,"option",34),e.YNc(92,h$,2,2,"option",33),e.qZA()()(),e.TgZ(93,"div",35)(94,"div",29)(95,"label",36),e._uU(96,"Customer Name :"),e.qZA()(),e.TgZ(97,"div",26)(98,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(99,"fieldset")(100,"legend",10),e._uU(101,"Item Selection :"),e.qZA(),e.TgZ(102,"div",38)(103,"div",29)(104,"label",30),e._uU(105,"Item Name :"),e.qZA()(),e.TgZ(106,"div",26)(107,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(108,"div",40)(109,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(110,"RUN"),e.qZA(),e.TgZ(111,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(112,"Close"),e.qZA()()()()()(),e.TgZ(113,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(115,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping)("checked",1==r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const u$=["genericGridSupplierPopup"],g$=["genericGridItemPopup"];function m$(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",28)(4,"label",29),e._uU(5,"Show Batch Wise Stock Report "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE)("checked",1==t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE)}}function f$(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function S$(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function v$(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let O$=(()=>{class n{constructor(t,r,o,i,a,l){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",MCODE:"",REPORTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",WAREHOUSE:"",DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",params:"%",DIVISIONWISEREPORT:1,SHOWBATCHWISESTOCK:0,ZEROBALSTOCKALSO:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedStockBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE="0",this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=0,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=0,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.userProfile.CompanyInfo.INITIAL),this.changeEntryDate(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}onload(){if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSENAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?"All":this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE:"",this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE:"%",this.repObj.reportparam.REPORTYPE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE:"",this.repObj.reportparam.params="%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE:"%",this.repObj.reportparam.DIVISIONWISEREPORT=1,this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE:0,this.repObj.reportparam.ZEROBALSTOCKALSO=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_SBATCH"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_1_SBATCH"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_2_SBATCH"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="":0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_1"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Stock Report - Division Wise",this._reportFilterService.ConsolidtedStockBranchWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE=t.ACID,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE=t.MCODE,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM=t.DESCA,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["consolidatedstock-reportbranchwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(u$,5),e.Gf(g$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:119,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[2,"display","flex","border","none","padding-bottom","20px"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Stock Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Option :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(59,"fieldset",23),e.YNc(60,m$,6,2,"div",24),e.TgZ(61,"div",25)(62,"div",26)(63,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=i})("change",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=i.target.checked?1:0}),e.qZA()(),e.TgZ(64,"div",28)(65,"label",29),e._uU(66,"Show Zero Balance Stock Also "),e.qZA()()()()(),e.TgZ(67,"div",30)(68,"fieldset")(69,"legend"),e._uU(70,"Report Filter Option :"),e.qZA(),e.TgZ(71,"div",8)(72,"div",31)(73,"label",32),e._uU(74,"Item Group :"),e.qZA()(),e.TgZ(75,"div",28)(76,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP=i}),e._UZ(77,"option",34),e.YNc(78,f$,2,2,"option",35),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",31)(81,"label",32),e._uU(82,"Item Category :"),e.qZA()(),e.TgZ(83,"div",28)(84,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT=i}),e._UZ(85,"option",34),e.YNc(86,S$,2,2,"option",35),e.qZA()()(),e.TgZ(87,"div",1)(88,"div",31)(89,"label",32),e._uU(90,"Item Type :"),e.qZA()(),e.TgZ(91,"div",28)(92,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE=i}),e._UZ(93,"option",36),e.YNc(94,v$,2,2,"option",35),e.qZA()()(),e.TgZ(95,"div",37)(96,"div",31)(97,"label",38),e._uU(98,"Supplier Name :"),e.qZA()(),e.TgZ(99,"div",28)(100,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(101,"fieldset")(102,"legend",10),e._uU(103,"Item Selection :"),e.qZA(),e.TgZ(104,"div",40)(105,"div",31)(106,"label",32),e._uU(107,"Item Name :"),e.qZA()(),e.TgZ(108,"div",28)(109,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(110,"div",42)(111,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(112,"RUN"),e.qZA(),e.TgZ(113,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(114,"Close"),e.qZA()()()()()(),e.TgZ(115,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(117,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(5),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO)("checked",1==r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const b$=["genericGridSupplierPopup"],C$=["genericGridItemPopup"];function T$(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function M$(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function A$(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function P$(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let R$=(()=>{class n{constructor(t,r,o,i,a){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(l=>{this.divisionList=l}),this.masterService.getMCatList().subscribe(l=>{this.MCatList=l}),this.masterService.getPTypeList().subscribe(l=>{l&&(this.PTypeList=l)}),this.masterService.getItemGroup().subscribe(l=>{l&&(this.ItemGroupList=l)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.BranchTransferOutItemwiseObj.assignPreviousValue&&(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE="0",this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport=0,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Branch Transfer Out Item Wise Report",this.repObj.REPORTDISPLAYNAME="Branch Transfer Out - Item Wise Report",this._reportFilterService.BranchTransferOutItemwiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE=t.ACID,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE=t.MCODE,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM=t.DESCA,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branchtransferout-itemwise-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(b$,5),e.Gf(C$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:108,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Out - Item Wise Report "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV=i}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,T$,2,2,"option",17),e.qZA()(),e.TgZ(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=i}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Show All"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=i}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Show Closed Transfer Out Only"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=i}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Show Open Transfer Out Only"),e.qZA()()()()()(),e.TgZ(56,"div",26)(57,"fieldset")(58,"legend"),e._uU(59,"Report Filter Option :"),e.qZA(),e.TgZ(60,"div",8)(61,"div",27)(62,"label",28),e._uU(63,"Item Group :"),e.qZA()(),e.TgZ(64,"div",29)(65,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP=i}),e._UZ(66,"option",16),e.YNc(67,M$,2,2,"option",17),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",27)(70,"label",28),e._uU(71,"Item Category :"),e.qZA()(),e.TgZ(72,"div",29)(73,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT=i}),e._UZ(74,"option",16),e.YNc(75,A$,2,2,"option",17),e.qZA()()(),e.TgZ(76,"div",1)(77,"div",27)(78,"label",28),e._uU(79,"Item Type :"),e.qZA()(),e.TgZ(80,"div",29)(81,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE=i}),e._UZ(82,"option",30),e.YNc(83,P$,2,2,"option",17),e.qZA()()(),e.TgZ(84,"div",31)(85,"div",27)(86,"label",32),e._uU(87,"Supplier Name :"),e.qZA()(),e.TgZ(88,"div",29)(89,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(90,"fieldset")(91,"legend",10),e._uU(92,"Item Selection :"),e.qZA(),e.TgZ(93,"div",34)(94,"div",27)(95,"label",28),e._uU(96,"Item Name :"),e.qZA()(),e.TgZ(97,"div",29)(98,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(99,"div",36)(100,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(101,"RUN"),e.qZA(),e.TgZ(102,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(103,"Close"),e.qZA()()()()()(),e.TgZ(104,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(106,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const E$=["genericGridSupplierPopup"],y$=["genericGridItemPopup"];function I$(n,s){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function N$(n,s){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function D$(n,s){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function k$(n,s){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let F$=(()=>{class n{constructor(t,r,o,i,a,l){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.categorywiseConfigurationdetails=[],this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.BranchTransferInItemWiseObj.assignPreviousValue&&(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchTransferInItemWiseObj.StockWarehousewise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2,"AD")})}changeEntryDate(t,r){console.log("Value in date",t);var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2=i.year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SUPCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE:"%",this.repObj.reportparam.ReportMode=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ReportMode?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchTransferInItemWiseObj.BranchtransferoutVsIn_MGROUP?this._reportFilterService.BranchTransferInItemWiseObj.BranchtransferoutVsIn_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Branch Transfer In Item Wise Report",this.repObj.REPORTDISPLAYNAME="Branch Transfer In - Item Wise Report",this._reportFilterService.BranchTransferInItemWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE=t.ACID,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE=t.MCODE,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM=t.DESCA,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branch-transfer-in-reportitemwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(E$,5),e.Gf(y$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:92,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"margin-top","5px","float","right"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer In Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV=i}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,I$,2,2,"option",17),e.qZA()(),e.TgZ(34,"div",18)(35,"div",19)(36,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SHOWTRANSITWISE=i}),e.qZA()(),e.TgZ(37,"div",21)(38,"label",22),e._uU(39,"Show Batch Wise Stock Report "),e.qZA()()()(),e.TgZ(40,"div",23)(41,"fieldset")(42,"legend"),e._uU(43,"Report Filter Option :"),e.qZA(),e.TgZ(44,"div",8)(45,"div",24)(46,"label",25),e._uU(47,"Item Group :"),e.qZA()(),e.TgZ(48,"div",21)(49,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MGROUP=i}),e._UZ(50,"option",16),e.YNc(51,N$,2,2,"option",17),e.qZA()()(),e.TgZ(52,"div",1)(53,"div",24)(54,"label",25),e._uU(55,"Item Category :"),e.qZA()(),e.TgZ(56,"div",21)(57,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT=i}),e._UZ(58,"option",16),e.YNc(59,D$,2,2,"option",17),e.qZA()()(),e.TgZ(60,"div",1)(61,"div",24)(62,"label",25),e._uU(63,"Item Type :"),e.qZA()(),e.TgZ(64,"div",21)(65,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE=i}),e._UZ(66,"option",26),e.YNc(67,k$,2,2,"option",17),e.qZA()()(),e.TgZ(68,"div",27)(69,"div",24)(70,"label",28),e._uU(71,"Supplier Name :"),e.qZA()(),e.TgZ(72,"div",21)(73,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Item Selection :"),e.qZA(),e.TgZ(77,"div",30)(78,"div",24)(79,"label",25),e._uU(80,"Item Name :"),e.qZA()(),e.TgZ(81,"div",21)(82,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(83,"div",32)(84,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(87,"Close"),e.qZA()()()()()(),e.TgZ(88,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(90,"generic-popup-grid",35,37),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SHOWTRANSITWISE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const j$=["genericGridUserListPopup"],L$=["genericGridCounterListPopup"];function w$(n,s){1&n&&(e.TgZ(0,"option",51),e._uU(1,"ALL"),e.qZA())}function x$(n,s){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function V$(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_DIV=o)}),e.YNc(4,w$,2,0,"option",49),e.YNc(5,x$,2,2,"option",50),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function W$(n,s){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function Z$(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER=o)}),e._UZ(4,"option",53),e.TgZ(5,"option",51),e._uU(6," ALL "),e.qZA(),e.YNc(7,W$,2,2,"option",50),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function H$(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10)(2,"input",54),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.ChangeTime())})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=o.target.checked?1:0)}),e.qZA(),e._uU(3,"Time Wise Report :"),e.qZA(),e.TgZ(4,"div",1)(5,"div",22)(6,"label"),e._uU(7,"From Time:"),e.qZA(),e.TgZ(8,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP=o)}),e.qZA(),e.TgZ(9,"label",56),e._uU(10,"To Time:"),e.qZA(),e.TgZ(11,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP=o)}),e.qZA()()(),e._UZ(12,"div",1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT)("checked",1==t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP)("disabled",1!=t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP)("disabled",1!=t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT)}}let U$=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",COSTCENTER:"",REPORTOPTION:1,REPORTTYPE:0,TRNUSER:"",TERMINAL:"",TIMWISEREPORT:0,FROM_TIMESTAMP:0,TO_TIMESTAMP:0,COMPANYID:"",TIME1:"",TIME2:"",TERMINALNAME:"",ALLUSER:0,ALLTERMINAL:0,DIVISIONAME:"",REPORTOPTIONDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",USERDISPLAYNAME:"",TERMINALDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",TIME1DISPLAY:"",TIME2DISPLAY:"",SHOWONLINEPAYMODE_INDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForUserList=new O.im,this.gridPopupSettingsForCounterList=new O.im,this.AppMode=$.N.appMode,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.SalesCollectionObj.assignPreviousValue&&(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCollectionObj.SalesCollection_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0",this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE="0",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=0),this.changeEntryDate(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2,"AD")})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER||null==this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&1!=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&("%"==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||void 0===this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||""==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||null==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||null===this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME))return void this._alertService.info("Please Select User Name first!");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&1!=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&("%"==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL||void 0===this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||""==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||null==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||null===this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME))return void this._alertService.info("Please Select Counter Name first!");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%"),1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=""),this._reportFilterService.SalesCollectionObj.SalesCollection_DIV&&"%"==this._reportFilterService.SalesCollectionObj.SalesCollection_DIV)this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME="All";else if(this._reportFilterService.SalesCollectionObj.SalesCollection_DIV&&"%"!=this._reportFilterService.SalesCollectionObj.SalesCollection_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.SalesCollectionObj.SalesCollection_DIV);this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER?this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER:"%",this.repObj.reportparam.COSTCENTER=this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER?this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCollectionObj.SalesCollection_DIV?this._reportFilterService.SalesCollectionObj.SalesCollection_DIV:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE?this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE:0,this.repObj.reportparam.REPORTOPTION=this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION?this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION:0,this.repObj.reportparam.TIMWISEREPORT=this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT?this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT:0,this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME:"%",this.repObj.reportparam.TERMINAL=this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL?this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL:"%",this.repObj.reportparam.TIME1=this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP?this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP:"00:00",this.repObj.reportparam.TIME2=this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP?this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP:"00:00",this.repObj.reportparam.TERMINALNAME=this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME:"",this.repObj.reportparam.ALLUSER=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER?this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER:0,this.repObj.reportparam.ALLTERMINAL=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER?this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER:0,this.repObj.reportparam.DIVISIONAME=this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME:"",this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL=this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL?this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL:0,this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=0==this.repObj.reportparam.REPORTTYPE?"@Summary Report":1==this.repObj.reportparam.REPORTTYPE?"@Detail Report":"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORTOPTION?"@User Wise Report":1==this.repObj.reportparam.REPORTOPTION?"@Counter Wise Report":2==this.repObj.reportparam.REPORTOPTION?"@Day Wise Report":"",this.repObj.reportparam.USERDISPLAYNAME="%"!=this.repObj.reportparam.TRNUSER?this.repObj.reportparam.TRNUSER:"%"==this.repObj.reportparam.TRNUSER&&1==this.repObj.reportparam.ALLUSER?"All Users":"",this.repObj.reportparam.TERMINALDISPLAYNAME="%"!=this.repObj.reportparam.TERMINAL?this.repObj.reportparam.TERMINALNAME:"%"==this.repObj.reportparam.TERMINAL&&1==this.repObj.reportparam.ALLTERMINAL?"All Counters":"",1==this.repObj.reportparam.TIMWISEREPORT&&(this.repObj.reportparam.SHOWITEMDETAILDISPLAY="@TimeWiseReport","00:00"!=this.repObj.reportparam.TIME1&&"00:00"!=this.repObj.reportparam.TIME2?(this.repObj.reportparam.TIME1DISPLAY=this.repObj.reportparam.TIME1,this.repObj.reportparam.TIME2DISPLAY=this.repObj.reportparam.TIME2):(this.repObj.reportparam.TIME1DISPLAY="",this.repObj.reportparam.TIME2DISPLAY="")),console.log("REPORTTYPE",this.repObj.reportparam.REPORTTYPE,this.repObj.reportparam.REPORTOPTION,this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL),0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_1":0==this.repObj.reportparam.REPORTTYPE&&2==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_2":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_3":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_4":0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_1":0==this.repObj.reportparam.REPORTTYPE&&2==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_2":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_3":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL&&(this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_4"),this.repObj.REPORTDISPLAYNAME="Sales Collection Report",this._reportFilterService.SalesCollectionObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=t.UNAME}CounterListEnter(t){this.gridPopupSettingsForCounterList={title:"Counter List",apiEndpoints:"/getSalesCounterList",defaultFilterIndex:0,columns:[{key:"INITIAL",title:"INITIAL",hidden:!1,noSearch:!1},{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridCounterListPopup.show()}onCounterListSelected(t){this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL=t.INITIAL,this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=t.NAME}Change(){1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=""),1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="")}changeDeatil(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0),1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0),2==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0)}ChangeTime(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT&&(this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP="",this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP="")}ChangeSum(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&(this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0"),1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&(this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0"),this.changeDeatil()}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}showOnlinePayment(t){console.log("show online",t.target.checked),this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL=1==t.target.checked?1:0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salescollection-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(j$,5),e.Gf(L$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCounterListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:107,vars:33,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[2,"display","flex"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],[2,"margin-left","10%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","2",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"margin-left","-22px"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","disabled","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"col-md-4",2,"margin-left","-56px"],[2,"margin-left","52%"],["type","text","placeholder","Press Enter for Counter List",1,"form-control","input-text",2,"background","white","width","182px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","1",2,"margin-top","10px","margin-left","21px",3,"ngModel","disabled","change","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridUserListPopup",""],["genericGridCounterListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["type","checkbox",3,"ngModel","checked","change","ngModelChange"],["type","time",2,"width","100px","margin-left","-16px","margin-top","4px",3,"ngModel","disabled","ngModelChange"],[2,"margin-left","57px"],["type","time",2,"width","100px","margin-left","-35px","margin-top","4px",3,"ngModel","disabled","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Collection Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,V$,6,3,"fieldset",15),e.YNc(38,Z$,8,2,"fieldset",15),e.TgZ(39,"div",16)(40,"div",17)(41,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL=i})("change",function(i){return r.showOnlinePayment(i)}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",20),e._uU(44,"Show Credit Card Online Bill Payment Detail"),e.qZA()()()(),e.TgZ(45,"div",21)(46,"fieldset")(47,"legend",10),e._uU(48,"Report Type :"),e.qZA(),e.TgZ(49,"div",22)(50,"div",23)(51,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE=i})("change",function(){return r.ChangeSum()}),e.qZA(),e.TgZ(52,"label"),e._uU(53,"Summary Report"),e.qZA()(),e.TgZ(54,"div",25)(55,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE=i})("change",function(){return r.ChangeSum()}),e.qZA(),e.TgZ(56,"label"),e._uU(57,"Detail Report"),e.qZA()()()(),e.TgZ(58,"fieldset")(59,"legend",10),e._uU(60,"Report Option :"),e.qZA(),e.TgZ(61,"div",27)(62,"div",28)(63,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=i})("change",function(){return r.changeDeatil()}),e.qZA(),e.TgZ(64,"label"),e._uU(65,"User Wise"),e.qZA()(),e.TgZ(66,"div",28)(67,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=i})("change",function(){return r.changeDeatil()}),e.qZA(),e.TgZ(68,"label"),e._uU(69,"Counter Wise"),e.qZA()(),e.TgZ(70,"div",28)(71,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=i})("change",function(){return r.changeDeatil()}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Day Wise"),e.qZA()()()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Filter Option :"),e.qZA(),e.TgZ(77,"div",1)(78,"div",32)(79,"label",33),e._uU(80,"User Name :"),e.qZA()(),e.TgZ(81,"div",34)(82,"div",22)(83,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(84,"input",36),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=i}),e.qZA(),e.TgZ(85,"label",37),e._uU(86,"All User"),e.qZA()()()(),e.TgZ(87,"div",1)(88,"div",38)(89,"label",39),e._uU(90,"Counter Name :"),e.qZA()(),e.TgZ(91,"div",19)(92,"div",22)(93,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=i})("keydown.enter",function(i){return r.CounterListEnter(i)})("keydown.Tab",function(i){return r.CounterListEnter(i)})("keyup",function(i){return r.CounterListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(94,"input",41),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=i}),e.qZA(),e.TgZ(95,"label",37),e._uU(96,"All Counter"),e.qZA()()()()(),e.YNc(97,H$,13,6,"fieldset",15),e.qZA()()(),e.TgZ(98,"div",42)(99,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.TgZ(105,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(i){return r.onCounterListSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL)("checked",1==r._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION)("disabled",1==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME)("disabled",1==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||1==r._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER)("disabled",1==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME)("disabled",0==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||1==r._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER)("disabled",0==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(3),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCounterList))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const z$=["reportPopup"],B$=["genericGridSupplierPopup"],J$=["genericGridItemPopup"];function Y$(n,s){1&n&&(e.TgZ(0,"option",34),e._uU(1,"ALL"),e.qZA())}function q$(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function G$(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_DIV=o)}),e.YNc(4,Y$,2,0,"option",55),e.YNc(5,q$,2,2,"option",35),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function Q$(n,s){1&n&&(e.TgZ(0,"label",17),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function K$(n,s){1&n&&(e.TgZ(0,"label",17),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function $$(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",16),e.YNc(4,Q$,2,0,"label",57),e.YNc(5,K$,2,0,"label",57),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport)("checked",1==t._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE)}}function X$(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",60),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE)("checked",1==t._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE)}}function eX(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",1)(2,"div",59)(3,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",32)(5,"label",62),e._uU(6,"Show Alt Unit Stock Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT)("checked",1==t._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT)}}function tX(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",1)(2,"div",59)(3,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",32)(5,"label",63),e._uU(6,"Show Item Detail In Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL)("checked",1==t._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL)}}function rX(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function iX(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Warehouse Selection:"),e.qZA(),e.TgZ(3,"select",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE=o)}),e.ALo(4,"disableField"),e._UZ(5,"option",34),e.YNc(6,rX,2,2,"option",35),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE)("disabled",e.lcZ(4,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList)}}function oX(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function nX(n,s){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let aX=(()=>{class n{constructor(t,r,o,i,a,l,d,c,h){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.brandService=h,this.isActive=!1,this.repObj={reportname:"",reportparam:{PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0,DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",ITEMGROUP:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.resultList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.AppMode=$.N.appMode,this.userSetting=c.getSetting(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getProductGroupList().subscribe(_=>{_&&(this.ProductGroupList=_)}),this.masterService.getWarehouseList().subscribe(_=>{this.warehouseList=_}),this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.OpeningStockObj.assignPreviousValue&&(this._reportFilterService.OpeningStockObj.OpeningStock_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE="0",this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode="0",this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=0,this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE=1==this.userSetting.UserWiseWarehouse?this.masterService.userProfile.userWarehouse:"%")})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(t=>{console.log("dataaaaaa",t[0]),this.resss=t[0],this.resultList=this.resss[0],console.log("dataaaaaaChildren",this.resss[0].children),console.log("LEVELS",this.resss[0].LEVELS),console.log("name",this.resss[0].name)})}onload(){if(this._reportFilterService.OpeningStockObj.OpeningStock_DIV&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_DIV)this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME="All";else if(this._reportFilterService.OpeningStockObj.OpeningStock_DIV&&"%"!=this._reportFilterService.OpeningStockObj.OpeningStock_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.OpeningStockObj.OpeningStock_DIV);this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME="";if(this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?"All":this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE:"",this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP)this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME="All";else if(this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP&&"%"!=this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP);this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME="";if(this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE&&"100"==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP)this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME="";else if(this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE&&"100"!=this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE);this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME="";this._reportFilterService.OpeningStockObj.OpeningStock_CATEGORYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?"All":this._reportFilterService.OpeningStockObj.OpeningStock_MCAT&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"",this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.OpeningStockObj.OpeningStock_DIV?this._reportFilterService.OpeningStockObj.OpeningStock_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.OpeningStockObj.OpeningStock_MCODE?this._reportFilterService.OpeningStockObj.OpeningStock_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE?this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE:0,this.repObj.reportparam.ReportMode=this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode?this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport?this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport:0,this.repObj.reportparam.WAREHOUSE=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP?this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE?this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"%",this.repObj.reportparam.ShowDetail=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEM?this._reportFilterService.OpeningStockObj.OpeningStock_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE?this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE:0,this.repObj.reportparam.ShowAltUnitStockReport=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME?this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS":1==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS_1":2==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS_2":3==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Opening Stock ReportNONDMS_3"),this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.ShowDetail?"@Report with Item Detail":"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.ReportMode?" @Negative Stock Report Only":"",this.repObj.REPORTDISPLAYNAME="Opening Stock Report",this._reportFilterService.OpeningStockObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE=t.ACID,this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.OpeningStockObj.OpeningStock_MCODE=t.MCODE,this._reportFilterService.OpeningStockObj.OpeningStock_ITEM=t.DESCA,this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}Change(){(0==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||1==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||3==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE)&&(this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode="0")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP=t.MCODE,this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=t.DESCA}treeNodeSelected(t){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",t),this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP=t.id,this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=t.name}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e),e.Y36(tt.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["opening-stock-report-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(z$,5),e.Gf(B$,5),e.Gf(J$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:128,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[4,"ngIf"],[1,"legend-class"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["class","row","style","margin-bottom: -3%",4,"ngIf"],["type","radio","name","reportOption","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","disabled","ngModelChange"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],["class","row checkbox","style","margin-top:-10px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","114%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","-5%"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","342%","margin-top","0%","margin-left","-18%"],[1,"col-sm-1",2,"margin-left","50px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["style","width: 100%;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-6%"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-7%"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Opening Stock Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5),e.YNc(16,G$,6,3,"fieldset",10),e.TgZ(17,"fieldset")(18,"legend",11),e._uU(19,"Report Type Selection :"),e.qZA(),e.TgZ(20,"div",12)(21,"div",13)(22,"div",14)(23,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(24,"div",16)(25,"label",17),e._uU(26,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(27,"div",13)(28,"div",14)(29,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(30,"div",16)(31,"label",17),e._uU(32,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(33,"div",13)(34,"div",14)(35,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(36,"div",16)(37,"label",17),e._uU(38,"Item Category Wise Stock Report"),e.qZA()()(),e.TgZ(39,"div",13)(40,"div",14)(41,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(42,"div",16)(43,"label",17),e._uU(44,"Voucher Wise Detail Report"),e.qZA()()(),e.YNc(45,$$,6,4,"div",21),e.qZA()(),e.TgZ(46,"fieldset")(47,"legend",11),e._uU(48,"Report Option :"),e.qZA(),e.TgZ(49,"div",12)(50,"div",13)(51,"div",14)(52,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode=i}),e.qZA()(),e.TgZ(53,"div",16)(54,"label",17),e._uU(55,"Show All Item Stock Report"),e.qZA()()(),e.TgZ(56,"div",13)(57,"div",14)(58,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode=i}),e.qZA()(),e.TgZ(59,"div",16)(60,"label",17),e._uU(61,"Show Negative Stock B/L Item Only"),e.qZA()()()()(),e.YNc(62,X$,6,2,"div",24),e.YNc(63,eX,7,2,"div",25),e.YNc(64,tX,7,2,"div",25),e.qZA(),e.TgZ(65,"div",26),e.YNc(66,iX,7,5,"fieldset",10),e.TgZ(67,"fieldset")(68,"legend"),e._uU(69,"Report Filter Option :"),e.qZA(),e.TgZ(70,"div",8)(71,"div",27)(72,"label",28),e._uU(73,"Item Group :"),e.qZA()(),e.TgZ(74,"div",29)(75,"app-simple-suggest",30),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=i}),e.qZA(),e.TgZ(76,"button",31),e.NdJ("click",function(){return r.reportTree()}),e._uU(77,"+"),e.qZA()()(),e.TgZ(78,"div",1)(79,"div",27)(80,"label",28),e._uU(81,"Item Category :"),e.qZA()(),e.TgZ(82,"div",32)(83,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_MCAT=i}),e._UZ(84,"option",34),e.YNc(85,oX,2,2,"option",35),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",27)(88,"label",28),e._uU(89,"Item Type :"),e.qZA()(),e.TgZ(90,"div",32)(91,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_PTYPE=i}),e._UZ(92,"option",36),e.YNc(93,nX,2,2,"option",35),e.qZA()()(),e.TgZ(94,"div",37)(95,"div",27)(96,"label",38),e._uU(97,"Supplier Name :"),e.qZA()(),e.TgZ(98,"div",32)(99,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(100,"fieldset")(101,"legend",11),e._uU(102,"Item Selection :"),e.qZA(),e.TgZ(103,"div",40)(104,"div",27)(105,"label",28),e._uU(106,"Item Name :"),e.qZA()(),e.TgZ(107,"div",32)(108,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(109,"div",42)(110,"div",43)(111,"input",44),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(112,"div",32)(113,"label",45),e._uU(114,"Show Item Grouping Hierarchy"),e.qZA()(),e._UZ(115,"div",46)(116,"div",32),e.qZA()()()(),e.TgZ(117,"div",47)(118,"button",48),e.NdJ("click",function(){return r.onload()}),e._uU(119,"RUN"),e.qZA(),e.TgZ(120,"button",49),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(121,"Close"),e.qZA()()()()()(),e.TgZ(122,"generic-popup-grid",50,51),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(124,"generic-popup-grid",50,52),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(126,"app-report-popup",53,54),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()),2&t&&(e.xp6(16),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0!=r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE&&3!=r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode)("disabled",1==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||3==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode)("disabled",1==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||3==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ITEM),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING)("checked",1==r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING),e.xp6(11),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,Ht,et.c,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const sX=["genericGridItemPopup"];function lX(n,s){1&n&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function cX(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function pX(n,s){1&n&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function dX(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function hX(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function _X(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function uX(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let gX=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",params:"%",ShowAltUnitSalesRate:0,ShowSalesRateofAllItems:0,ShowBaseSalesRate:0,SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForItem=new O.im,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.getAccDivList()}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.RateGroupObj.assignPreviousValue&&(this._reportFilterService.RateGroupObj.Rategroup_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=0,this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=0,this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=0)})}onload(){if(this._reportFilterService.RateGroupObj.Rategroup_DIV&&"%"==this._reportFilterService.RateGroupObj.Rategroup_DIV)this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME="All";else if(this._reportFilterService.RateGroupObj.Rategroup_DIV&&"%"!=this._reportFilterService.RateGroupObj.Rategroup_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.RateGroupObj.Rategroup_DIV);this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME="";if(this._reportFilterService.RateGroupObj.Rategroup_MGROUP&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MGROUP)this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME="All";else if(this._reportFilterService.RateGroupObj.Rategroup_MGROUP&&"%"!=this._reportFilterService.RateGroupObj.Rategroup_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.RateGroupObj.Rategroup_MGROUP);this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME="";if(this._reportFilterService.RateGroupObj.Rategroup_PTYPE&&"100"==this._reportFilterService.RateGroupObj.Rategroup_MGROUP)this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME="";else if(this._reportFilterService.RateGroupObj.Rategroup_PTYPE&&"100"!=this._reportFilterService.RateGroupObj.Rategroup_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.RateGroupObj.Rategroup_PTYPE);this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME="";this._reportFilterService.RateGroupObj.Rategroup_CATEGORYNAME=this._reportFilterService.RateGroupObj.Rategroup_MCAT&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MCAT?"All":this._reportFilterService.RateGroupObj.Rategroup_MCAT&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RateGroupObj.Rategroup_DIV?this._reportFilterService.RateGroupObj.Rategroup_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RateGroupObj.Rategroup_MCODE?this._reportFilterService.RateGroupObj.Rategroup_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.RateGroupObj.Rategroup_MGROUP?this._reportFilterService.RateGroupObj.Rategroup_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.RateGroupObj.Rategroup_PTYPE?this._reportFilterService.RateGroupObj.Rategroup_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"%",this.repObj.reportparam.ShowBaseSalesRate=this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate?this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RateGroupObj.Rategroup_ITEM?this._reportFilterService.RateGroupObj.Rategroup_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RateGroupObj.Rategroup_MENUCODE?this._reportFilterService.RateGroupObj.Rategroup_MENUCODE:"",this.repObj.reportparam.ShowAltUnitSalesRate=this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate?this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate:0,this.repObj.reportparam.ShowSalesRateofAllItems=this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems?this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING?this._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME?this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME?this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME?this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ShowAltUnitSalesRate?this.repObj.reportname="Rate Group Report":1==this.repObj.reportparam.ShowAltUnitSalesRate&&(this.repObj.reportname="Rate Group Report_1"),this.repObj.REPORTDISPLAYNAME="Rate Group Report",this._reportFilterService.RateGroupObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.RateGroupObj.Rategroup_MCODE=t.MCODE,this._reportFilterService.RateGroupObj.Rategroup_ITEM=t.DESCA,this._reportFilterService.RateGroupObj.Rategroup_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["rate-group-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(sX,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["id","rategrpdiv",1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],[2,"font-size","13px","font-weight","bold"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-6%"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-7%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],["value","100"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","168px"],[2,"font-size","12px","width","342%","margin-top","0%","margin-left","-26%"],[1,"col-sm-1",2,"margin-left","50px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Rate Group Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Division Selection:"),e.qZA(),e.TgZ(19,"select",11),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_DIV=i}),e.YNc(20,lX,2,0,"option",12),e.YNc(21,cX,2,2,"option",13),e.qZA()(),e.TgZ(22,"fieldset")(23,"legend",10),e._uU(24,"Rate Group Name Selection:"),e.qZA(),e.TgZ(25,"select",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_RATEDIV=i}),e.YNc(26,pX,2,0,"option",12),e.YNc(27,dX,2,2,"option",13),e.qZA(),e.TgZ(28,"label",15),e._uU(29,"Rate Type: "),e.qZA()(),e.TgZ(30,"div",16)(31,"div",17)(32,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=i})("change",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=i.target.checked?1:0}),e.qZA()(),e.TgZ(33,"div",19)(34,"label",20),e._uU(35,"Show Alternate Unit Sales Rate Also"),e.qZA()()(),e.TgZ(36,"div",21)(37,"div",1)(38,"div",17)(39,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=i})("change",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=i.target.checked?1:0}),e.qZA()(),e.TgZ(40,"div",19)(41,"label",22),e._uU(42,"Show Sales Rate of All Items"),e.qZA()()()(),e.TgZ(43,"div",21)(44,"div",1)(45,"div",17)(46,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=i})("change",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=i.target.checked?1:0}),e.qZA()(),e.TgZ(47,"div",19)(48,"label",23),e._uU(49,"Show Base Sales Rate Only"),e.qZA()()()()(),e.TgZ(50,"div",24)(51,"fieldset")(52,"legend"),e._uU(53,"Report Filter Option :"),e.qZA(),e.TgZ(54,"div",8)(55,"div",25)(56,"label",26),e._uU(57,"Item Group :"),e.qZA()(),e.TgZ(58,"div",19)(59,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_MGROUP=i}),e._UZ(60,"option",28),e.YNc(61,hX,2,2,"option",13),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",25)(64,"label",26),e._uU(65,"Item Category :"),e.qZA()(),e.TgZ(66,"div",19)(67,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_MCAT=i}),e._UZ(68,"option",28),e.YNc(69,_X,2,2,"option",13),e.qZA()()(),e.TgZ(70,"div",1)(71,"div",25)(72,"label",26),e._uU(73,"Item Type :"),e.qZA()(),e.TgZ(74,"div",19)(75,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_PTYPE=i}),e._UZ(76,"option",29),e.YNc(77,uX,2,2,"option",13),e.qZA()()()(),e.TgZ(78,"fieldset")(79,"legend",10),e._uU(80,"Item Selection :"),e.qZA(),e.TgZ(81,"div",30)(82,"div",25)(83,"label",26),e._uU(84,"Item Name :"),e.qZA()(),e.TgZ(85,"div",19)(86,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(87,"div",32)(88,"div",33)(89,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(90,"div",19)(91,"label",34),e._uU(92,"Show Item Grouping Hierarchy"),e.qZA()(),e._UZ(93,"div",35)(94,"div",19),e.qZA()()()(),e.TgZ(95,"div",36)(96,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(19),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_DIV)("disabled",r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_RATEDIV)("disabled",r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ITEM),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING),e.xp6(11),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const mX=["genericGridItemPopup"];function fX(n,s){1&n&&(e.TgZ(0,"option",32),e._uU(1,"ALL"),e.qZA())}function SX(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function vX(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function OX(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function bX(n,s){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let CX=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",params:"%",RATETYPE:0,SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForItem=new O.im,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getWarehouseList().subscribe(_=>{this.warehouseList=_});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.SalesPricechangeLogObj.assignPreviousValue&&(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV="%":this._reportFilterService.SalesPricechangeLogObj.Rategroup_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=0),this.changeEntryDate(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2,"AD")})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME="All";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV&&"%"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME="";if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP&&"%"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME="";if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE&&"100"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME="";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE&&"100"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME="";this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_CATEGORYNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?"All":this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE:"%",this.repObj.reportparam.RATETYPE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportname="Sales Price Change Log Report",this.repObj.REPORTDISPLAYNAME="Sales Price Change Log Report",this._reportFilterService.SalesPricechangeLogObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE=t.MCODE,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM=t.DESCA,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesprice-changelog-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(mX,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:109,vars:26,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%"],["value","100"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Price Change Log Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Rate Group Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV=i}),e.YNc(41,fX,2,0,"option",16),e.YNc(42,SX,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Rate Type Selection:"),e.qZA(),e.TgZ(46,"div",18)(47,"div",19)(48,"div",20)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=i}),e.qZA()(),e.TgZ(50,"div",22)(51,"label",23),e._uU(52,"Show retail Price Only"),e.qZA()()(),e.TgZ(53,"div",19)(54,"div",20)(55,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=i}),e.qZA()(),e.TgZ(56,"div",22)(57,"label",23),e._uU(58,"Show whole Sales price Only"),e.qZA()()(),e.TgZ(59,"div",19)(60,"div",20)(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=i}),e.qZA()(),e.TgZ(62,"div",22)(63,"label",23),e._uU(64,"Show Both"),e.qZA()()()()()(),e.TgZ(65,"div",26)(66,"fieldset")(67,"legend",10),e._uU(68,"Item Selection :"),e.qZA(),e.TgZ(69,"div",27)(70,"div",28)(71,"label",29),e._uU(72,"Item Name :"),e.qZA()(),e.TgZ(73,"div",30)(74,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(75,"fieldset")(76,"legend"),e._uU(77,"Report Filter Option :"),e.qZA(),e.TgZ(78,"div",8)(79,"div",28)(80,"label",29),e._uU(81,"Item Group :"),e.qZA()(),e.TgZ(82,"div",30)(83,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP=i}),e._UZ(84,"option",32),e.YNc(85,vX,2,2,"option",17),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",28)(88,"label",29),e._uU(89,"Item Category :"),e.qZA()(),e.TgZ(90,"div",30)(91,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT=i}),e._UZ(92,"option",32),e.YNc(93,OX,2,2,"option",17),e.qZA()()(),e.TgZ(94,"div",1)(95,"div",28)(96,"label",29),e._uU(97,"Item Type :"),e.qZA()(),e.TgZ(98,"div",30)(99,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE=i}),e._UZ(100,"option",33),e.YNc(101,bX,2,2,"option",17),e.qZA()()()()()()(),e.TgZ(102,"div",34)(103,"button",35),e.NdJ("click",function(){return r.onload()}),e._uU(104,"RUN"),e.qZA(),e.TgZ(105,"button",36),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(106,"Close"),e.qZA()()()()()(),e.TgZ(107,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const TX=["division"],MX=["genericGridCustomerPopup"],AX=["multiselectGenericGrid"];function PX(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function RX(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",37,38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",39),e._uU(6,"ALL"),e.qZA(),e.YNc(7,PX,2,2,"option",40),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_DIV)("disabled","lite"==t.AppMode),e.xp6(4),e.Q6J("ngForOf",t.divisionList)}}let EX=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this.selectMultiCustomers=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",REPMODE:"",V1:"",V2:"",V3:"",SHOWSUBTOTAL:0,SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTOMERNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForCustomer=new O.im,this.multiselectPopupSettings=new ee.oe,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(_=>{this.divisionList=_});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const h=new Date;this.currDate=(0,f.p6)(h,"yyyy-MM-dd","en-US"),this.AppMode=$.N.appMode}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VATSalesNewObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,"AD")}else this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,"AD")):(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,"AD")),this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV="%",this._reportFilterService.VATSalesNewObj.VATSalesNew_isTI=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_isSI=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_isCN=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=0,this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=0,this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=0,"lite"==this.AppMode&&(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this.masterService.userProfile.userDivision)}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){if(this._reportFilterService.VATSalesNewObj.VATSalesNew_V1=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isTI?"TI":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_V2=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isSI?"SI":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_V3=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isCN?"CN":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV&&"%"==this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV)this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME="All";else if(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV&&"%"!=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV){let a=this.divisionList.filter(l=>l.Division==this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV);this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME=a&&a.length>0&&a[0]?a[0].NAME:""}this.repObj.reportparam.DATE1=this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,this.repObj.reportparam.DIV=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV?this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.REPMODE=this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT?this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT:0,this.repObj.reportparam.V1=this._reportFilterService.VATSalesNewObj.VATSalesNew_V1?this._reportFilterService.VATSalesNewObj.VATSalesNew_V1:"~~",this.repObj.reportparam.V2=this._reportFilterService.VATSalesNewObj.VATSalesNew_V2?this._reportFilterService.VATSalesNewObj.VATSalesNew_V2:"~~",this.repObj.reportparam.V3=this._reportFilterService.VATSalesNewObj.VATSalesNew_V3?this._reportFilterService.VATSalesNewObj.VATSalesNew_V3:"~~",this.repObj.reportparam.SHOWSUBTOTAL=this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL?this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL:0,this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE?this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING?this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME?this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME:"",this.repObj.reportparam.CUSTID=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID:"%",this.repObj.reportparam.ACID=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="VAT Sales Register New ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="VAT Sales Register New ReportNONDMS_1"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="VAT Sales Register  Report",this._reportFilterService.VATSalesNewObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),0==this.selectMultiCustomers?this.genericGridCustomerPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForCustomer,this.multiselectGenericGrid.show())}onMultiCustomerSelected(t){this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID=t.MCODE,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=t.DESCA,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:this.masterService.userSetting.FilterIndexForCustomer,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]}}dblClickPopupParty(t){this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID=t.CUSTID,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=t.CUSTNAME,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID=t.ACID}changeMultiSelect(t){this.selectMultiCustomers=1==t.target.checked?1:0}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["VATSalesRegister-ReportNew"]],viewQuery:function(t,r){if(1&t&&(e.Gf(TX,5),e.Gf(MX,5),e.Gf(AX,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:94,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleCustomer",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","152px"],[1,"row",2,"margin-top","-20px"],[1,"col-md-12"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"smallBoldLabel",2,"width","200px","margin-top","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[1,"form-control",2,"font-size","12px",3,"ngModel","disabled","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Sales Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"fieldset")(15,"legend",9),e._uU(16,"Date Range Selection :"),e.qZA(),e.TgZ(17,"div",1)(18,"div",10)(19,"div",11)(20,"div")(21,"label"),e._uU(22," From:(AD) "),e.qZA()(),e.TgZ(23,"div")(24,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(25,"div")(26,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1=i}),e.qZA()()(),e.TgZ(27,"div",14)(28,"div")(29,"label"),e._uU(30," To:(AD) "),e.qZA()(),e.TgZ(31,"div")(32,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(33,"div")(34,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2=i}),e.qZA()()()()()(),e.YNc(35,RX,8,3,"fieldset",15),e.TgZ(36,"fieldset")(37,"legend",16),e._uU(38,"Customer Selection :"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(40,"div",1)(41,"input",18),e.NdJ("ngModelChange",function(i){return r.selectMultiCustomers=i})("change",function(i){return r.changeMultiSelect(i)}),e.qZA(),e._uU(42," \xa0 "),e.TgZ(43,"a",19),e._uU(44," Select Multiple Customers"),e.qZA()()(),e.TgZ(45,"fieldset")(46,"div",20)(47,"label",21)(48,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_isTI=i}),e.qZA(),e._uU(49," Show Tax Sales Invoice "),e.qZA()(),e.TgZ(50,"div",20)(51,"label",21)(52,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_isSI=i}),e.qZA(),e._uU(53," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(54,"div",23)(55,"label",21)(56,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_isCN=i}),e.qZA(),e._uU(57," Show Sales Return (Credit Note) "),e.qZA()(),e.TgZ(58,"fieldset")(59,"legend"),e._uU(60,"Abbreviated Sales Invoice Report Mode"),e.qZA(),e.TgZ(61,"div",24)(62,"div",25)(63,"div",14)(64,"label",21)(65,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=i}),e.qZA(),e._uU(66," Summary Report"),e.qZA()(),e.TgZ(67,"div",14)(68,"label",27)(69,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=i}),e.qZA(),e._uU(70," Detail Report"),e.qZA()()()()()(),e.TgZ(71,"fieldset")(72,"div",1)(73,"div",14)(74,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=i})("change",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=i.target.checked?1:0}),e.qZA(),e.TgZ(75,"label",29),e._uU(76,"Show Sub Total In Report"),e.qZA()(),e.TgZ(77,"div",14)(78,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(79,"label",29),e._uU(80,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(81,"div",14)(82,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i})("change",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i.target.checked?1:0}),e.qZA(),e.TgZ(83,"label",29),e._uU(84,"Show Report Without Round Off "),e.qZA()()()(),e.TgZ(85,"div",30)(86,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(87,"RUN"),e.qZA(),e.TgZ(88,"button",32),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(89,"Close"),e.qZA()()()()()()()(),e.TgZ(90,"generic-popup-grid",33,34),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(92,"multiselect-generic-grid",35,36),e.NdJ("onItemsSelected",function(i){return r.onMultiCustomerSelected(i)}),e.qZA()),2&t&&(e.xp6(24),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER),e.xp6(2),e.Q6J("ngModel",r.selectMultiCustomers)("checked",1==r.selectMultiCustomers),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_isTI),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_isSI),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_isCN),e.xp6(9),e.Q6J("value",0)("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT),e.xp6(4),e.Q6J("value",1)("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ee.ky],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const yX=["division"],IX=["genericGridSupplierPopup"],NX=["multiselectGenericGrid"];function DX(n,s){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function kX(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",34,35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",36),e._uU(6,"ALL"),e.qZA(),e.YNc(7,DX,2,2,"option",37),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV)("disabled","lite"==t.AppMode),e.xp6(4),e.Q6J("ngForOf",t.divisionList)}}let FX=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this.selectMultiSupplier=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.gridPopupSettingsForSupplier=new O.im,this.multiselectPopupSettings=new ee.oe,this.AppMode=$.N.appMode,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(_=>{this.divisionList=_});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const h=new Date;this.currDate=(0,f.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VATPurchaseNewObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,"AD")}else this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,"AD")):(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,"AD")),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV="%",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=0}}),"lite"==this.AppMode&&(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this.masterService.userProfile.userDivision)}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI?"PI":"",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP?"CP":"",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN?"DN":"";let r="VAT Purchase Register New ReportNONDMS";if(0==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE?r="VAT Purchase Register New ReportNONDMS":1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE&&(r="VAT Purchase Register New ReportNONDMS_1"),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV&&"%"==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV)this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME="All";else if(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV&&"%"!=this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV){let d=this.divisionList.filter(c=>c.Division==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME=d&&d.length>0&&d[0]?d[0].NAME:""}else this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME="";(""==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER||null==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER||null==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER)&&(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE="%"),this._reportFilterService.VATPurchaseNewObj.assignPreviousValue=!0;let a,o="VAT Purchase Register  Report",i=this.arouter.url.split("/");i&&i.length&&(a=i[i.length-1]);let l=this._reportFilterService.previouslyLoadedReportList.findIndex(d=>d.reportname==o);l>=0&&this._reportFilterService.previouslyLoadedReportList.splice(l,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:o,activeurlpath:this.arouter.url,activerurlpath2:a}),this.reportdataEmit.emit({status:t,data:{REPORTDISPLAYNAME:"VAT Purchase Register Report",reportname:r,reportparam:{DATE1:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,DATE2:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,DIVISION:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV:"%",DIV:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV:"%",PHISCALID:this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:" ",V1:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1:"~~",V2:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2:"~~",V3:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3:"~~",SHOWSUBTOTAL:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL:0,SHOWSUMMARYREPORT:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE:0,EXCLUDEROUNDING:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING:0,COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,DIVISIONNAME:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME:"",ACID:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE:"%",SUPPLIERDISPLAYNAME:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER:""}}})}divisionChanged(){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}customerEnterCommand(t){this.getCustomersList(),0==this.selectMultiSupplier?this.genericGridSupplierPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForSupplier,this.multiselectGenericGrid.show())}changeMultiSelect(t){this.selectMultiSupplier=1==t.target.checked?1:0}onMultiItemSelected(t){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=t.DESCA,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE=t.MCODE}dblClickPopupParty(t){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE=t.ACID,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-purchaseregisterreport-new"]],viewQuery:function(t,r){if(1&t&&(e.Gf(yX,5),e.Gf(IX,5),e.Gf(NX,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:80,vars:27,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleSupplier",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","230px"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[1,"form-control",2,"font-size","12px",3,"ngModel","disabled","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Purchase Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2=i}),e.qZA()()()()()(),e.YNc(34,kX,8,3,"fieldset",15),e.TgZ(35,"fieldset")(36,"legend",16),e._uU(37,"Supplier Selection :"),e.qZA(),e.TgZ(38,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(39,"div",1)(40,"input",18),e.NdJ("ngModelChange",function(i){return r.selectMultiSupplier=i})("change",function(i){return r.changeMultiSelect(i)}),e.qZA(),e._uU(41," \xa0 "),e.TgZ(42,"a",19),e._uU(43," Select Multiple Suppliers"),e.qZA()()(),e.TgZ(44,"fieldset")(45,"div",20)(46,"label",21)(47,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI=i}),e.qZA(),e._uU(48," Trading Purchase Transaction "),e.qZA()(),e.TgZ(49,"div",23)(50,"label",21)(51,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP=i}),e.qZA(),e._uU(52," Capital Purchase Transaction "),e.qZA()(),e.TgZ(53,"div",23)(54,"label",21)(55,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN=i}),e.qZA(),e._uU(56," Purchase Return (Debit Note) Transaction "),e.qZA()()(),e.TgZ(57,"fieldset")(58,"div",1)(59,"div",14)(60,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=i})("change",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=i.target.checked?1:0}),e.qZA(),e.TgZ(61,"label",26),e._uU(62,"Show Sub Total In Report"),e.qZA()(),e.TgZ(63,"div",14)(64,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(65,"label",26),e._uU(66,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(67,"div",14)(68,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=i})("change",function(i){return i.target.checked?r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=1:r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=0}),e.qZA(),e.TgZ(69,"label",26),e._uU(70,"Show Report Without Round Off "),e.qZA()()()(),e.TgZ(71,"div",27)(72,"button",28),e.NdJ("click",function(){return r.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",29),e.NdJ("click",function(){return r.cancel()}),e._uU(75,"Close"),e.qZA()()()()()()()(),e.TgZ(76,"generic-popup-grid",30,31),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(78,"multiselect-generic-grid",32,33),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER),e.xp6(2),e.Q6J("ngModel",r.selectMultiSupplier)("checked",1==r.selectMultiSupplier),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL)("checked",1==r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE)("checked",1==r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING)("checked",1==r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v,ee.ky],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();function jX(n,s){1&n&&(e.TgZ(0,"option",31),e._uU(1,"ALL"),e.qZA())}function LX(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function wX(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function xX(n,s){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}let VX=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",IGNOREBRANCH:0,COMID:"",DIV:"",PHISCALID:"",FROMWAREHOUSE:"%",TOWAREHOUSE:"%",ENTRYWISEREPORT:0,REPORTTYPE:0,DIVISIONNAME:"",FROMWAREHOUSENAME:"",TOWAREHOUSENAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.warehouseList=[],this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getNotLoginDivisionList().subscribe(_=>{this.transferToList=_});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.masterService.getWarehouseList().subscribe(_=>{this.warehouseList=_})}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockIssueObj.assignPreviousValue&&(this._reportFilterService.StockIssueObj.StockIssue_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockIssueObj.StockIssue_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockIssueObj.StockIssue_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockIssueObj.StockIssue_BRANCH="0",this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE="1"),this.changeEntryDate(this._reportFilterService.StockIssueObj.StockIssue_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockIssueObj.StockIssue_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockIssueObj.StockIssue_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockIssueObj.StockIssue_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.StockIssueObj.StockIssue_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockIssueObj.StockIssue_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(this._reportFilterService.StockIssueObj.StockIssue_DIV&&"%"==this._reportFilterService.StockIssueObj.StockIssue_DIV)this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME="All";else if(this._reportFilterService.StockIssueObj.StockIssue_DIV&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.StockIssueObj.StockIssue_DIV);this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME="";this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE&&"%"==this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?"All":this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE:"",this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE&&"%"==this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?"All":this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockIssueObj.StockIssue_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockIssueObj.StockIssue_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.StockIssueObj.StockIssue_DIV?this._reportFilterService.StockIssueObj.StockIssue_DIV:"%",this.repObj.reportparam.DIV=this._reportFilterService.StockIssueObj.StockIssue_DIV?this._reportFilterService.StockIssueObj.StockIssue_DIV:"%",this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ENTRYWISEREPORT=this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE?this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE:1,this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockIssueObj.StockIssue_BRANCH?this._reportFilterService.StockIssueObj.StockIssue_BRANCH:0,this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH?this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH:0,this.repObj.reportparam.FROMWAREHOUSE=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE:"%",this.repObj.reportparam.TOWAREHOUSE=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE:"%",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME?this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME:"%",this.repObj.reportparam.FROMWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME?this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME:"",this.repObj.reportparam.TOWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME?this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME:"",1==this.repObj.reportparam.ENTRYWISEREPORT?this.repObj.reportname="Stock Issue Report":2==this.repObj.reportparam.ENTRYWISEREPORT&&(this.repObj.reportname="Stock Issue Report_1"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="@Stock Issue Report":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="@Stock Issue Return Report"),this.repObj.REPORTDISPLAYNAME="Stock Issue Report",this._reportFilterService.StockIssueObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}change(){1==this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE&&(this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=0)}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-issue-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:29,consts:[[1,"container",2,"width","58rem"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"display","flex"],[2,"margin-left","4%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],[2,"width","auto"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","2",3,"ngModel","ngModelChange"],[2,"width","88%"],[2,"width","110px","font-weight","bold","font-size","14px"],[1,"form-control","input-text",2,"margin-left","3px","width","96%",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"form-control","input-text",2,"margin-left","3px","width","96%",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Issue Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_DIV=i}),e.YNc(41,jX,2,0,"option",16),e.YNc(42,LX,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Report Option :"),e.qZA(),e.TgZ(46,"div",18)(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_BRANCH=i}),e.qZA(),e.TgZ(49,"label",21),e._uU(50,"Stock Issue Report"),e.qZA()(),e.TgZ(51,"div",19)(52,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_BRANCH=i}),e.qZA(),e.TgZ(53,"label",21),e._uU(54,"Stock Issue Return Report"),e.qZA()()()()(),e.TgZ(55,"div",23)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE=i})("change",function(){return r.change()}),e.qZA(),e.TgZ(62,"label",26),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",24)(65,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE=i}),e.qZA(),e.TgZ(66,"label",28),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Issue Warehouse Selection:"),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"From Warehouse:"),e.qZA(),e.TgZ(73,"select",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE=i}),e.ALo(74,"disableField"),e._UZ(75,"option",31),e.YNc(76,wX,2,2,"option",17),e.qZA(),e.TgZ(77,"label",29),e._uU(78,"To Warehouse:"),e.qZA(),e.TgZ(79,"select",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE=i}),e._UZ(80,"option",31),e.YNc(81,xX,2,2,"option",17),e.qZA()(),e.TgZ(82,"div",33)(83,"div",34)(84,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=i})("change",function(i){return r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=i.target.checked?1:0}),e.qZA()(),e.TgZ(85,"div",36)(86,"label",37),e._uU(87,"Disable Warehouse Wise Segragation In Report"),e.qZA()()()()()(),e.TgZ(88,"div",38)(89,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(90,"RUN"),e.qZA(),e.TgZ(91,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(92,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BRANCH),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BRANCH),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE)("disabled",e.lcZ(74,27,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE),e.xp6(2),e.Q6J("ngForOf",r.warehouseList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH)("checked",1==r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH)("disabled",1==r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,E.v,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const WX=["division"],ZX=["genericGridCustomerPopup"],HX=["multiselectGenericGrid"];function UX(n,s){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let zX=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this.selectMultiCustomer=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUBTOTAL:0,REPMODE:0,SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTOMERNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForCustomer=new O.im,this.multiselectPopupSettings=new ee.oe,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(_=>{this.divisionList=_});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const h=new Date;this.currDate=(0,f.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.CreditNoteSalesReturnObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,"AD")}else this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,"AD")):(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,"AD")),this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV="%",this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=0,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){if(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV&&"%"==this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV)this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME="All";else if(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV&&"%"!=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV){let a=this.divisionList.filter(l=>l.Division==this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME=a&&a.length>0&&a[0]?a[0].NAME:""}else this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,this.repObj.reportparam.DIV=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="Credit Note Sales Return Register ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="Credit Note Sales Return Register ReportNONDMS_1"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="Credit Note (Sales Return) Register Report",this._reportFilterService.CreditNoteSalesReturnObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),0==this.selectMultiCustomer?this.genericGridCustomerPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForCustomer,this.multiselectGenericGrid.show())}onMultiCustomerSelected(t){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID=t.MCODE,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=t.DESCA}changeMultiCustomer(t){this.selectMultiCustomer=1==t.target.checked?1:0}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:this.masterService.userSetting.FilterIndexForCustomer,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]}}dblClickPopupParty(t){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID=t.CUSTID,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=t.CUSTNAME}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["creditnote-sales-return-register-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(WX,5),e.Gf(ZX,5),e.Gf(HX,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:70,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleCustomer",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],["type","checkbox",2,"margin-left","45px",3,"ngModel","checked","ngModelChange","change"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"Credit Note (Sales Return) Register"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV=i})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,UX,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",19),e._uU(44,"Customer Selection :"),e.qZA(),e.TgZ(45,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(46,"div",1)(47,"input",21),e.NdJ("ngModelChange",function(i){return r.selectMultiCustomer=i})("change",function(i){return r.changeMultiCustomer(i)}),e.qZA(),e._uU(48," \xa0 "),e.TgZ(49,"a",22),e._uU(50," Select Multiple Customers"),e.qZA()()(),e.TgZ(51,"fieldset")(52,"div",1)(53,"div",14)(54,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i})("change",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i.target.checked?1:0}),e.qZA(),e.TgZ(55,"label",24),e._uU(56,"Show Report Without Round Off "),e.qZA()(),e.TgZ(57,"div",14)(58,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(59,"label",24),e._uU(60,"Show Bill Wise Summary Report"),e.qZA()()()(),e.TgZ(61,"div",26)(62,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(63,"RUN"),e.qZA(),e.TgZ(64,"button",28),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(65,"Close"),e.qZA()()()()()()()(),e.TgZ(66,"generic-popup-grid",29,30),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(68,"multiselect-generic-grid",31,32),e.NdJ("onItemsSelected",function(i){return r.onMultiCustomerSelected(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER),e.xp6(2),e.Q6J("ngModel",r.selectMultiCustomer)("checked",1==r.selectMultiCustomer),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE)("checked",1==r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v,ee.ky],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const BX=["division"],JX=["genericGridSupplierPopup"],YX=["genericGridCustomerPopup"];function qX(n,s){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function GX(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",27,28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",29),e._uU(6,"ALL"),e.qZA(),e.YNc(7,qX,2,2,"option",30),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList)}}let QX=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUBTOTAL:0,REPMODE:0,SHOWSUMMARYREPORT:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForCustomer=new O.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(_=>{this.divisionList=_});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const h=new Date;this.currDate=(0,f.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this.AppMode=$.N.appMode,this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VatOtherAdjustmentObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,"AD")}else this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,"AD")):(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,"AD")),this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV="%",this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){if(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV&&"%"==this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV)this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME="All";else if(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV&&"%"!=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV){let a=this.divisionList.filter(l=>l.Division==this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME=a&&a.length>0&&a[0]?a[0].NAME:""}else this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,this.repObj.reportparam.DIV=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID:"%",this.repObj.reportname="Vat Other Adjustment ReportNONDMS",this.repObj.REPORTDISPLAYNAME="Vat Other Adjustment Report",this._reportFilterService.VatOtherAdjustmentObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(t){return t.preventDefault(),!1}SupplierEnterCommand(t){this.getSupplierList(),this.genericGridSupplierPopup.show()}dblClickSupplierPopupParty(t){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CUSTOMERCODE=t.ACID,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER=t.ACNAME}getSupplierList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:0,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]},this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID=t.CUSTID,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER=t.CUSTNAME,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID=t.ACID}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-other-adjustment-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(BX,5),e.Gf(JX,5),e.Gf(YX,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:62,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12",2,"padding-right","30px"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[2,"display","flex"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white","margin-top","-3px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox",2,"margin-left","27px",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridCustomerPopup",""],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Other Adjustment Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2=i}),e.qZA()()()()()(),e.YNc(34,GX,8,2,"fieldset",15),e.TgZ(35,"fieldset")(36,"legend"),e._uU(37,"Party Selection:"),e.qZA(),e.TgZ(38,"div",16)(39,"label"),e._uU(40,"Customer:"),e.qZA(),e.TgZ(41,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(42,"div",16)(43,"label"),e._uU(44,"Supplier:"),e.qZA(),e.TgZ(45,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER=i})("keydown.enter",function(i){return r.SupplierEnterCommand(i)})("keydown.Tab",function(i){return r.SupplierEnterCommand(i)})("keyup",function(i){return r.SupplierEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(46,"fieldset")(47,"div",1),e._UZ(48,"div",14),e.TgZ(49,"div",14)(50,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(51,"label",20),e._uU(52,"Show Bill Wise Summary Report"),e.qZA()()()(),e.TgZ(53,"div",21)(54,"button",22),e.NdJ("click",function(){return r.onload()}),e._uU(55,"RUN"),e.qZA(),e.TgZ(56,"button",23),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(57,"Close"),e.qZA()()()()()()()(),e.TgZ(58,"generic-popup-grid",24,25),e.NdJ("onItemDoubleClick",function(i){return r.dblClickSupplierPopupParty(i)}),e.qZA(),e.TgZ(60,"generic-popup-grid",24,26),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE)("checked",1==r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const KX=["division"],$X=["genericGridSupplierPopup"];function XX(n,s){if(1&n&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let eee=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",V1:"PI",V2:"DN",V3:"",ACID:"",SUPPLIERDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForSupplier=new O.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(_=>{this.divisionList=_});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const h=new Date;this.currDate=(0,f.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.DebitNotePurchaseReturnObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,"AD")}else this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,"AD")):(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,"AD")),this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV="%",this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=0,this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){if(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV&&"%"==this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV)this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME="All";else if(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV&&"%"!=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV){let a=this.divisionList.filter(l=>l.Division==this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME=a&&a.length>0&&a[0]?a[0].NAME:""}else this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,this.repObj.reportparam.DIV=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE:"%",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="Debit Note Purchase Return Register ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="Debit Note Purchase Return Register ReportNONDMS_1"),""==this.repObj.reportparam.SUPPLIERDISPLAYNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="Debit Note (Purchase Return) Register Report",this._reportFilterService.DebitNotePurchaseReturnObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(a=>a.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(t){return t.preventDefault(),!1}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE=t.ACID,this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["debitnote-purchasereturn-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(KX,5),e.Gf($X,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:63,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%","width","110%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox",2,"margin-left","56px",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"Debit Note (Purchase Return) Register"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV=i})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,XX,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",19),e._uU(44,"Supplier Selection :"),e.qZA(),e.TgZ(45,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(46,"fieldset")(47,"div",1)(48,"div",14)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(50,"label",22),e._uU(51,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(52,"div",14)(53,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=i})("change",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Show Report Without Round Off"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"button",24),e.NdJ("click",function(){return r.onload()}),e._uU(58,"RUN"),e.qZA(),e.TgZ(59,"button",25),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(60,"Close"),e.qZA()()()()()()()(),e.TgZ(61,"generic-popup-grid",26,27),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE)("checked",1==r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING)("checked",1==r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const tee=["genericGridUserListPopup"],ree=["genericGridCounterListPopup"];function iee(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let oee=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",TRNUSER:"",TERMINAL:"",COMPANYID:"",TERMINALNAME:"",DIVISIONAME:"",REPORTOPTIONDISPLAYNAME:"",USERDISPLAYNAME:"",TERMINALDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForUserList=new O.im,this.gridPopupSettingsForCounterList=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.ShiftCloseObj.assignPreviousValue&&(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ShiftCloseObj.ShiftClose_DATE=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ShiftCloseObj.ShiftClose_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE,"AD")})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ShiftCloseObj.ShiftClose_DATE=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(this._reportFilterService.ShiftCloseObj.ShiftClose_DIV&&"%"==this._reportFilterService.ShiftCloseObj.ShiftClose_DIV)this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME="All";else if(this._reportFilterService.ShiftCloseObj.ShiftClose_DIV&&"%"!=this._reportFilterService.ShiftCloseObj.ShiftClose_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.ShiftCloseObj.ShiftClose_DIV);this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ShiftCloseObj.ShiftClose_DATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ShiftCloseObj.ShiftClose_DIV?this._reportFilterService.ShiftCloseObj.ShiftClose_DIV:"%",this.repObj.reportparam.TRNUSER=this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME:"%",this.repObj.reportparam.TERMINAL=this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL?this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL:"%",this.repObj.reportparam.TERMINALNAME=this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME:"",this.repObj.reportparam.DIVISIONAME=this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME:"",this.repObj.reportparam.USERDISPLAYNAME="%"!=this.repObj.reportparam.TRNUSER?this.repObj.reportparam.TRNUSER:"",this.repObj.reportparam.TERMINALDISPLAYNAME="%"!=this.repObj.reportparam.TERMINAL?this.repObj.reportparam.TERMINALNAME:"",this.repObj.reportname="Shift Close Report",this.repObj.REPORTDISPLAYNAME="Shift Close Report",this._reportFilterService.ShiftCloseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME=t.UNAME}CounterListEnter(t){this.gridPopupSettingsForCounterList={title:"Counter List",apiEndpoints:"/getSalesCounterList",defaultFilterIndex:0,columns:[{key:"INITIAL",title:"INITIAL",hidden:!1,noSearch:!1},{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridCounterListPopup.show()}onCounterListSelected(t){this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL=t.INITIAL,this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME=t.NAME}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["shift-close-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(tee,5),e.Gf(ree,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCounterListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:71,vars:18,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","margin-left","26px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4",2,"margin-left","-56px"],[2,"margin-left","54%","margin-top","5px"],[1,"col"],["type","text","placeholder","Press Enter for Counter List",1,"form-control","input-text",2,"background","white","margin-left","31px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridUserListPopup",""],["genericGridCounterListPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Shift Close Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_DIV=i}),e.TgZ(41,"option",16),e._uU(42,"ALL"),e.qZA(),e.YNc(43,iee,2,2,"option",17),e.qZA()()(),e.TgZ(44,"div",18)(45,"fieldset")(46,"legend",10),e._uU(47,"Filter Option :"),e.qZA(),e.TgZ(48,"div",1)(49,"div",19)(50,"label",20),e._uU(51,"User Name :"),e.qZA()(),e.TgZ(52,"div",21)(53,"div",22)(54,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(55,"div",1)(56,"div",24)(57,"label",25),e._uU(58,"Counter Name :"),e.qZA()(),e.TgZ(59,"div",26)(60,"div",22)(61,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME=i})("keydown.enter",function(i){return r.CounterListEnter(i)})("keydown.Tab",function(i){return r.CounterListEnter(i)})("keyup",function(i){return r.CounterListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()()(),e.TgZ(62,"div",28)(63,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(64,"RUN"),e.qZA(),e.TgZ(65,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(66,"Close"),e.qZA()()()()()(),e.TgZ(67,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.TgZ(69,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(i){return r.onCounterListSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCounterList))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();var nee=S(53158);function aee(n,s){1&n&&(e.TgZ(0,"option",15),e._uU(1,"ALL"),e.qZA())}function see(n,s){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function lee(n,s){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function cee(n,s){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.BATCH),e.xp6(1),e.hij(" ",t.BATCH," ")}}let pee=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._alertService=l,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMPANYID:"",DIV:"",VARIANCEMODE:0,WAREHOUSE:"",DIVISIONNAME:"",WAREHOUSENAME:"",BATCH:"",REPORTOPTIONDISPLAYNAME:"",DIVISION:"",WARE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.warehouseList=[],this.majorGroupList=[],this.showVariantPopup=!1,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getWarehouseList().subscribe(c=>{this.warehouseList=c})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||1!=this._reportFilterService.StockVarianceObj.assignPreviousValue&&(this._reportFilterService.StockVarianceObj.StockVariance_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE="0")}),this.getBatchList(this.masterService.PhiscalObj.Div)}getBatchList(t){this.masterService.getbatchSelectionList(t).subscribe(r=>{this.batchSelectionList=r})}onChangeDivision(){console.log("div",this._reportFilterService.StockVarianceObj.StockVariance_DIV),this.getBatchList(this._reportFilterService.StockVarianceObj.StockVariance_DIV)}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){if(this._reportFilterService.StockVarianceObj.StockVariance_DIV&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_DIV)this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME="All";else if(this._reportFilterService.StockVarianceObj.StockVariance_DIV&&"%"!=this._reportFilterService.StockVarianceObj.StockVariance_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.StockVarianceObj.StockVariance_DIV);this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME="";this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSENAME=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?"All":this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIVISION=this._reportFilterService.StockVarianceObj.StockVariance_DIV?this._reportFilterService.StockVarianceObj.StockVariance_DIV:"%",this.repObj.reportparam.VARIANCEMODE=this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE?this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE:0,this.repObj.reportparam.WARE=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"%",this.repObj.reportparam.BATCH=this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION?this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION:"%",this.repObj.reportparam.DATE=this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE?this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME?this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME:"%",this.repObj.reportname=0==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report":1==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_1":2==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_2":3==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_3":4==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_4":5==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_5":6==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_6":"Stock Variance Report",this.repObj.REPORTDISPLAYNAME="Stock Variance Report",this._reportFilterService.StockVarianceObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}onChangeBatch(){let t=this.batchSelectionList.filter(r=>r.BATCH==this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION);t&&t.length>0&&t[0]&&(this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE=t[0].TRNDATE.substring(0,10),console.log("BATCH SELECTION",this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE))}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-variance-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:92,vars:18,consts:[[1,"container",2,"width","800px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","change","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["type","text",1,"form-control","input-text",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[1,"variance-font",2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[2,"width","100%"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","4",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","5",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","6",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Variance Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Division Selection:"),e.qZA(),e.TgZ(19,"select",11),e.NdJ("change",function(){return r.onChangeDivision()})("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_DIV=i}),e.YNc(20,aee,2,0,"option",12),e.YNc(21,see,2,2,"option",13),e.qZA()(),e.TgZ(22,"fieldset")(23,"fieldset")(24,"legend",10),e._uU(25,"Warehouse Selection:"),e.qZA(),e.TgZ(26,"select",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE=i}),e.ALo(27,"disableField"),e._UZ(28,"option",15),e.YNc(29,lee,2,2,"option",13),e.qZA()(),e.TgZ(30,"fieldset")(31,"legend",10),e._uU(32,"Batch Selection:"),e.qZA(),e.TgZ(33,"select",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION=i})("change",function(){return r.onChangeBatch()}),e._UZ(34,"option",15),e.YNc(35,cee,2,2,"option",13),e.qZA()(),e.TgZ(36,"fieldset")(37,"legend",10),e._uU(38,"Batch Date:"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE=i}),e.qZA()()()(),e.TgZ(40,"div",18)(41,"fieldset")(42,"legend",10),e._uU(43,"Report Option :"),e.qZA(),e.TgZ(44,"div",19)(45,"div",20)(46,"div",21)(47,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(48,"div",23)(49,"label",24),e._uU(50,"Show All"),e.qZA()()(),e.TgZ(51,"div",20)(52,"div",21)(53,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(54,"div",23)(55,"label",26),e._uU(56,"Show Difference Stock"),e.qZA()()(),e.TgZ(57,"div",20)(58,"div",21)(59,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(60,"div",23)(61,"label",26),e._uU(62,"Show Excess Stock Only"),e.qZA()()(),e.TgZ(63,"div",20)(64,"div",21)(65,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(66,"div",23)(67,"label",26),e._uU(68,"Show Shortage Only"),e.qZA()()(),e.TgZ(69,"div",20)(70,"div",21)(71,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(72,"div",23)(73,"label",26),e._uU(74,"Show Items That Counted But Not In Stock"),e.qZA()()(),e.TgZ(75,"div",20)(76,"div",21)(77,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(78,"div",23)(79,"label",26),e._uU(80,"Show Items That Not Come In Counting"),e.qZA()()(),e.TgZ(81,"div",20)(82,"div",21)(83,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(84,"div",23)(85,"label",26),e._uU(86,"Show Equal Stock Only"),e.qZA()()()()()()()(),e.TgZ(87,"div",32)(88,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(89,"RUN"),e.qZA(),e.TgZ(90,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(91,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(19),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE)("disabled",e.lcZ(27,16,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION),e.xp6(2),e.Q6J("ngForOf",r.batchSelectionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,Re.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const dee=["genericGridCusCategoryPopup"],hee=["genericGridCusGroupPopup"];function _ee(n,s){1&n&&(e.TgZ(0,"option",34),e._uU(1," ALL"),e.qZA())}function uee(n,s){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let gee=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._alertService=l,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",DIV:"",REPORT_TYPE:0,COMID:"%",CATEGORY:"%",PARTYGROUP:"%",CCENTER:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.gridPopupSettingsForCusCategory=new O.im,this.gridPopupSettingsForCusGroup=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesRevenueAnalysisObj.assignPreviousValue&&(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE="2"),this.changeEntryDate(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2,this.repObj.reportparam.COMID="%",this.repObj.reportparam.DIV=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV:"%",this.repObj.reportparam.CCENTER="%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.CATEGORY=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE:0,this.repObj.reportparam.PARTYGROUP=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE:"%",0==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Revenue Analysis Report":1==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Revenue Analysis Report_1":2==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Sales Revenue Analysis Report_2"),this.repObj.REPORTDISPLAYNAME="Sales Revenue Analysis Report",this._reportFilterService.SalesRevenueAnalysisObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}CusCategoryEnterCommand(t){this.getCustomerCategoryList(),this.genericGridCusCategoryPopup.show()}dblClickPopupCusCategory(t){this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY=t.ORGTYPENAME,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE=t.ORGTYPECODE}getCustomerCategoryList(){this.gridPopupSettingsForCusCategory=this.masterService.getGenericGridPopUpSettings("CustomerCategoryList")}CusGroupEnterCommand(t){this.getCustomerGroupList(),this.genericGridCusGroupPopup.show()}dblClickPopupCusGroup(t){this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE=t.ACID,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP=t.ACNAME}getCustomerGroupList(){this.gridPopupSettingsForCusGroup=this.masterService.getGenericGridPopUpSettings("CustomerGroupList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-revenueanalysis-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(dee,5),e.Gf(hee,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCusCategoryPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCusGroupPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:73,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Customer Category List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Customer Group List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCusCategoryPopup",""],["genericGridCusGroupPopup",""],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Revenue Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV=i}),e.YNc(31,_ee,2,0,"option",16),e.YNc(32,uee,2,2,"option",17),e.qZA()()(),e.TgZ(33,"div",18)(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div")(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Party Category Wise Report"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Party Group Wise Report"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Party Wise Report"),e.qZA()()()()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Customer Category Selection:"),e.qZA(),e.TgZ(59,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY=i})("keydown.enter",function(i){return r.CusCategoryEnterCommand(i)})("keydown.Tab",function(i){return r.CusCategoryEnterCommand(i)})("keyup",function(i){return r.CusCategoryEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(60,"fieldset")(61,"legend",10),e._uU(62,"Customer Group Selection:"),e.qZA(),e.TgZ(63,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP=i})("keydown.enter",function(i){return r.CusGroupEnterCommand(i)})("keydown.Tab",function(i){return r.CusGroupEnterCommand(i)})("keyup",function(i){return r.CusGroupEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()(),e.TgZ(64,"div",28)(65,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(66,"RUN"),e.qZA(),e.TgZ(67,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(68,"Close"),e.qZA()()()()()(),e.TgZ(69,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupCusCategory(i)}),e.qZA(),e.TgZ(71,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupCusGroup(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCusCategory),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCusGroup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const mee=["genericGridSalesMan"];function fee(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1," ALL"),e.qZA())}function See(n,s){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function vee(n,s){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}let Oee=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._alertService=a,this._authService=l,this._ActivatedRoute=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,SALESMAN:0,SALESMANNAME:"",REPORT_TYPE:1},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForSalesMan=new O.im,this.userSetting=l.getSetting(),this.userProfile=l.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Salesman Wise_1"==this._reportFilterService.drillParam.reportname||"Sales Report Salesman Wise_2"==this._reportFilterService.drillParam.reportname||"Sales Report Salesman Wise_3"==this._reportFilterService.drillParam.reportname)&&(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETALREPORT,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=this._reportFilterService.drillParam.reportparam.REPORT_TYPE,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID=this._reportFilterService.drillParam.reportparam.SALESMAN,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=this._reportFilterService.drillParam.reportparam.SALESMANNAME,this.changeEntryDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,"AD")):(1!=this._reportFilterService.SalesReportSalesmanWiseObj.assignPreviousValue&&(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE="1",this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL="0"),this.changeEntryDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER||null==this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL:0,this.repObj.reportparam.SALESMAN=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID:0,this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN:"",""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SALESMAN=0),1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),1==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Report Salesman Wise":2==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Report Salesman Wise_1":2==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT&&(0==this.userSetting.EnableVariantCategory?this.repObj.reportname="Sales Report Salesman Wise_2":1==this.userSetting.EnableVariantCategory&&(this.repObj.reportname="Sales Report Salesman Wise_3")),this.repObj.REPORTDISPLAYNAME="Sales Report Salesman Wise",this._reportFilterService.SalesReportSalesmanWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}salesmanEnterCommand(t){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(t){this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID=t.SALESMANID,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=t.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(y.c),e.Y36(P.e),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-salesman-wise"]],viewQuery:function(t,r){if(1&t&&e.Gf(mee,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:25,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[1,"col-md-5"],[2,"display","flex","align-items","center"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"display","flex","align-items","center","margin-top","10px"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"col-md-7"],[2,"margin-left","1%"],["type","radio","name","detailoption","value","0",3,"ngModel","disabled","ngModelChange"],[2,"width","120px !important"],["type","radio","name","detailoption","value","1",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSalesMan",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Salesman Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=i}),e.YNc(41,fee,2,0,"option",16),e.YNc(42,See,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,vee,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Report Type :"),e.qZA(),e.TgZ(55,"div",11)(56,"div",21)(57,"div",22)(58,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=i}),e.qZA(),e.TgZ(59,"label"),e._uU(60,"Summary Report"),e.qZA()(),e.TgZ(61,"div",24)(62,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=i}),e.qZA(),e.TgZ(63,"label"),e._uU(64,"Detail Report"),e.qZA()()(),e.TgZ(65,"div",26)(66,"fieldset")(67,"legend"),e._uU(68,"Detail Report Option"),e.qZA(),e.TgZ(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"Voucher Wise Report "),e.qZA()(),e.TgZ(73,"div",27)(74,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(75,"label",29),e._uU(76,"Item Wise Report "),e.qZA()()()()()(),e.TgZ(77,"fieldset")(78,"legend",10),e._uU(79,"Salesman Selection :"),e.qZA(),e.TgZ(80,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=i})("keydown.enter",function(i){return r.salesmanEnterCommand(i)})("keydown.Tab",function(i){return r.salesmanEnterCommand(i)})("keyup",function(i){return r.salesmanEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()(),e.TgZ(81,"div",32)(82,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(83,"RUN"),e.qZA(),e.TgZ(84,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(85,"Close"),e.qZA()()()()()(),e.TgZ(86,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSalesman(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL)("disabled",1==r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL)("disabled",1==r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const bee=["genericGridItemPopup"],Cee=["genericGridMemberPopup"];function Tee(n,s){1&n&&(e.TgZ(0,"option",23),e._uU(1," ALL"),e.qZA())}function Mee(n,s){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Aee(n,s){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.SCHEMEID),e.xp6(1),e.hij("",t.NAME," ")}}let Pee=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._alertService=l,this._ActivatedRoute=d,this._authService=c,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,MEMID:"%",SHOWBILLDETAIL:0,SCHEME:"%",MEMBERNAME:"",ITEMNAME:"",MEMBERPOINT:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.MemberSchemeList=[],this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForMember=new O.im,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMemberSchemeList().subscribe(_=>{this.MemberSchemeList=_&&_||[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Membership Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID=this._reportFilterService.drillParam.reportparam.MEMID,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=this._reportFilterService.drillParam.reportparam.MEMBERNAME,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,"AD")):(1!=this._reportFilterService.SalesMembershipWiseObj.assignPreviousValue&&(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL="0",this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWBILLDETAIL=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME="%"),this.changeEntryDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2=a.en.year+"-"+a.en.month+"-"+("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV:"%",this.repObj.reportparam.MEMID=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT:0,this.repObj.reportparam.SCHEME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME:"%",this.repObj.reportparam.MEMBERNAME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM:"",this.repObj.reportparam.MEMBERPOINT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.MEMBERNAME&&(this.repObj.reportparam.MEMID="%"),1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0,this.repObj.reportparam.MEMBERPOINT=0),0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Membership Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Membership Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Membership Wise",this._reportFilterService.SalesMembershipWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE=t.MCODE,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM=t.DESCA}dblClickPopupParty(t){this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID=t.MEMID,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=t.FNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}memberEnterCommand(t){this.getMermbersList(),this.genericGridMemberPopup.show()}getMermbersList(){this.gridPopupSettingsForMember=this.masterService.getGenericGridPopUpSettings("AllMemberList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}onChangeDetail(){1==this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL&&(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(y.c),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-membership-wise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(bee,5),e.Gf(Cee,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridMemberPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:98,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","2%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Member List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%"],[1,"col-md-4"],[2,"margin-left","-10%","width","135px !important"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[1,"col-md-2"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridMemberPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Membership Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=i}),e.YNc(41,Tee,2,0,"option",16),e.YNc(42,Mee,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",1)(44,"div",18)(45,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=i})("change",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(46,"label",20),e._uU(47,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(48,"div",21)(49,"fieldset")(50,"legend",10),e._uU(51,"Member Selection :"),e.qZA(),e.TgZ(52,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=i})("keydown.enter",function(i){return r.memberEnterCommand(i)})("keydown.Tab",function(i){return r.memberEnterCommand(i)})("keyup",function(i){return r.memberEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(53,"fieldset")(54,"legend",10),e._uU(55,"Membership Scheme Selection :"),e.qZA(),e.TgZ(56,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME=i}),e._UZ(57,"option",23),e.YNc(58,Aee,2,2,"option",17),e.qZA()(),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",11)(64,"div",24)(65,"label",25),e._uU(66,"Transaction Amount >= :"),e.qZA()(),e.TgZ(67,"div",24)(68,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=i}),e.qZA()(),e._UZ(69,"div",27),e.qZA()(),e.TgZ(70,"div",1)(71,"div",11)(72,"div",24)(73,"label",25),e._uU(74,"Member Point >= :"),e.qZA()(),e.TgZ(75,"div",24)(76,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT=i}),e.qZA()(),e._UZ(77,"div",27),e.qZA()()(),e.TgZ(78,"fieldset")(79,"legend",10),e._uU(80,"Report Type :"),e.qZA(),e.TgZ(81,"div",28)(82,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL=i})("change",function(){return r.onChangeDetail()}),e.qZA(),e.TgZ(83,"label"),e._uU(84,"Summary Report"),e.qZA()(),e.TgZ(85,"div",28)(86,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL=i})("change",function(){return r.onChangeDetail()}),e.qZA(),e.TgZ(87,"label"),e._uU(88,"Detail Report"),e.qZA()()()()()(),e.TgZ(89,"div",31)(90,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(91,"RUN"),e.qZA(),e.TgZ(92,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(93,"Close"),e.qZA()()()()()(),e.TgZ(94,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(96,"generic-popup-grid",34,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT)("checked",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT)("disabled",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME),e.xp6(2),e.Q6J("ngForOf",r.MemberSchemeList),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT)("disabled",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForMember))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Ree=["genericGridCustomerPopup"];function Eee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",16),e._uU(2,"Date Range Selection : "),e.qZA(),e.TgZ(3,"div",1)(4,"div",43)(5,"div",44)(6,"div")(7,"label"),e._uU(8," From:(AD) "),e.qZA()(),e.TgZ(9,"div")(10,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(11,"div")(12,"nepali-date-picker",46),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1=o)}),e.qZA()()(),e.TgZ(13,"div",5)(14,"div")(15,"label"),e._uU(16," To:(AD) "),e.qZA()(),e.TgZ(17,"div")(18,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(19,"div")(20,"nepali-date-picker",46),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=o)}),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(10),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2)}}function yee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",16),e._uU(2,"As On Dated : "),e.qZA(),e.TgZ(3,"div",1)(4,"div",43)(5,"div",44)(6,"div")(7,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()()(),e.TgZ(8,"div",5)(9,"div")(10,"nepali-date-picker",46),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=o)}),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2)}}function Iee(n,s){1&n&&(e.TgZ(0,"option",20),e._uU(1,"ALL"),e.qZA())}function Nee(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Dee(n,s){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}let kee=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",CCENTER:"",DETAILSREPORT:0,ASONDATED:0,PROFORMAMODE:0,AGE:0,ACID:"",CUSTOMERNAME:"",CUSTOMERDISPLAYNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new O.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.ProformaInvoiceWiseObj.assignPreviousValue&&(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT="0",this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED="0",this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE="2"),this.changeEntryDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=1==this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2:this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER:"%",this.repObj.reportparam.ASONDATED=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED:0,this.repObj.reportparam.DIV=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV:"%",this.repObj.reportparam.DETAILSREPORT=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT:0,this.repObj.reportparam.PROFORMAMODE=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE:0,this.repObj.reportparam.AGE=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE:0,this.repObj.reportparam.ACID=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER:"",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.DETAILSREPORT?this.repObj.reportname="Proforma Invoice Report":1==this.repObj.reportparam.DETAILSREPORT&&(this.repObj.reportname="Proforma Invoice Report_1"),this.repObj.REPORTDISPLAYNAME="Proforma Invoice Report",this._reportFilterService.ProformaInvoiceWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID=t.ACID,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER=t.CUSTNAME,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}asOnDefaultDate(){console.log("as on date click event checked"),this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD")}dateRangeDefaultDate(){console.log("date range date click event checked"),this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD"),this.changeEntryDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,"AD")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["proformainvoicereport"]],viewQuery:function(t,r){if(1&t&&e.Gf(Ree,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-5"],["type","radio","name","dateType","value","0",2,"margin-left","-10px",3,"ngModel","ngModelChange","click"],[2,"width","80%","margin-left","5px"],["type","radio","name","dateType","value","1",3,"ngModel","ngModelChange","click"],[2,"width","85%","margin-left","5px"],[4,"ngIf"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"display","flex"],[1,"col-sm-4"],["type","radio","value","2",3,"ngModel","ngModelChange"],[2,"width","75px","margin-left","5px"],["type","radio","value","1",3,"ngModel","ngModelChange"],["type","radio","value","0",3,"ngModel","ngModelChange"],[1,"row",2,"padding-top","5px","width","90%"],[2,"width","50%"],[2,"width","100%"],[2,"width","20%"],["type","text",1,"form-control","input-text",2,"width","100%","margin-left","-15px",3,"ngModel","ngModelChange"],[2,"width","100%","margin-left","10px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Proforma Invoice Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"div",1)(17,"div",10)(18,"input",11),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED=i})("click",function(){return r.dateRangeDefaultDate()}),e.qZA(),e.TgZ(19,"label",12),e._uU(20,"Date Range Wise"),e.qZA()(),e.TgZ(21,"div",5)(22,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED=i})("click",function(){return r.asOnDefaultDate()}),e.qZA(),e.TgZ(23,"label",14),e._uU(24,"As On Date Wise Report"),e.qZA()()(),e.YNc(25,Eee,21,12,"fieldset",15),e.YNc(26,yee,11,6,"fieldset",15),e.TgZ(27,"fieldset")(28,"legend",16),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV=i}),e.YNc(31,Iee,2,0,"option",18),e.YNc(32,Nee,2,2,"option",19),e.qZA()(),e.TgZ(33,"fieldset")(34,"legend",16),e._uU(35,"Cost Center:"),e.qZA(),e.TgZ(36,"select",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER=i}),e._UZ(37,"option",20),e.YNc(38,Dee,2,2,"option",19),e.qZA()()(),e.TgZ(39,"div",21)(40,"fieldset")(41,"legend",16),e._uU(42,"Customer Selection :"),e.qZA(),e.TgZ(43,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend",16),e._uU(46,"Report Type :"),e.qZA(),e.TgZ(47,"div",1)(48,"div",23)(49,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT=i}),e.qZA(),e.TgZ(50,"label"),e._uU(51,"Summary Report"),e.qZA()(),e.TgZ(52,"div",23)(53,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT=i}),e.qZA(),e.TgZ(54,"label"),e._uU(55,"Detail Report"),e.qZA()()()(),e.TgZ(56,"fieldset")(57,"legend",16),e._uU(58,"Proforma Invoice Status :"),e.qZA(),e.TgZ(59,"div",26)(60,"div",27)(61,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=i}),e.qZA(),e.TgZ(62,"label",29),e._uU(63,"Billed"),e.qZA()(),e.TgZ(64,"div",27)(65,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=i}),e.qZA(),e.TgZ(66,"label",29),e._uU(67,"Non-Billed"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=i}),e.qZA(),e.TgZ(70,"label",29),e._uU(71,"Both"),e.qZA()()()(),e.TgZ(72,"div",32)(73,"div",33)(74,"label",34),e._uU(75,"Proforma Invoice Age >= "),e.qZA()(),e.TgZ(76,"div",35)(77,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE=i}),e.qZA()(),e.TgZ(78,"div",35)(79,"label",37),e._uU(80,"Days"),e.qZA()()()()()(),e.TgZ(81,"div",38)(82,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(83,"RUN"),e.qZA(),e.TgZ(84,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(85,"Close"),e.qZA()()()()()(),e.TgZ(86,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(3),e.Q6J("ngIf",0==r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER),e.xp6(2),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Fee=["genericGridCustomerPopup"],jee=["genericGridCRescurringPopup"];function Lee(n,s){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function wee(n,s){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.category),e.xp6(1),e.hij(" ",t.category," ")}}let xee=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DAYS:"",DIV:"",REPORTOPTION:"",ITEM:"",ACID:"",INCLUDEPENDINGTRANSACTION:"",CATEGORY:"",CUSTOMER:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.rCategoryList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.gridPopupSettingsForCustomer=new O.im,this.gridPopupSettingsForRecurring=new O.im,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getRecurringCategoryList().subscribe(_=>{this.rCategoryList=_,console.log(_)});var h=this.userProfile.PhiscalYearInfo.PhiscalID;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt("7")),this._ActivatedRoute.queryParams.subscribe(o=>{"DRILL"==o.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=this._reportFilterService.drillParam.reportparam.DIVISON):(1!=this._reportFilterService.RecurringTransactionReportObj.assignPreviousValue&&(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION="0",this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=1),this.changeEntryDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,"AD"))})}daysSelection(t){let r=t.target.value;(""==r||null==r||null==r)&&(r=0),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt(r)),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.date.toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,"AD"),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1.toString(),"AD")}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}getRecurringList(){this.gridPopupSettingsForRecurring={title:"Recurring Items",apiEndpoints:"/getRecurringItemPagesList",defaultFilterIndex:0,columns:[{key:"MENUCODE",title:"MENUCODE",hidden:!1,noSearch:!1},{key:"DESCA",title:"ITEM NAME",hidden:!1,noSearch:!1}]},this.genericGridCRescurringPopup.show()}itemEnterCommand1(t){this.getRecurringList()}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}dblClickPopupParty(t){console.log("memebr list",t),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID=t.ACID,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER=t.CUSTNAME}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,this.repObj.reportparam.DIV=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY:"%",this.repObj.reportparam.ACID=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID:"%",this.repObj.reportparam.ITEM=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE:"%",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION:0,this.repObj.reportparam.INCLUDEPENDINGTRANSACTION=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION:0,this.repObj.reportparam.CUSTOMER=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER:"",""==this.repObj.reportparam.CUSTOMER&&(this.repObj.reportparam.ACID="%"),""==this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM&&(this.repObj.reportparam.ITEM="%"),console.log(this.repObj),this.repObj.reportname="Recurring Transaction Report",this.repObj.REPORTDISPLAYNAME="Recurring Transaction Report",this._reportFilterService.RecurringTransactionReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}dblClickPopupRecurring(t){console.log("Recurring Transaction List",t),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM=t.DESCA,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE=t.MCODE}showCurrentDateOnClick(){this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=(new Date).toJSON().split("T")[0]}showDateAfterWeek(){this.date=new Date,this.date.setDate(this.date.getDate()+parseInt("7")),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.date.toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0]}showFiscalStartDateOnClick(){this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=(new Date).toJSON().split("T")[0]}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["recurring-transaction-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Fee,5),e.Gf(jee,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCRescurringPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:132,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[3,"disabled"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],[2,"margin-left","3%","width","100%"],["type","number",2,"width","50px","margin-left","10px",3,"ngModel","ngModelChange","input"],[1,"col-md-4"],[2,"margin-left","-10%","white-space","nowrap"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white","margin-top","-5px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"white-space","nowrap","margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Recurring Transaction List",1,"form-control","input-text",2,"background","white","margin-top","8px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","4",3,"ngModel","ngModelChange","click","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridCRescurringPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Recurring Transaction Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset",11)(17,"legend",12),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",13)(21,"div",14)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",16),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",16),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",12),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=i}),e.TgZ(41,"option",19),e._uU(42,"ALL"),e.qZA(),e.YNc(43,Lee,2,2,"option",20),e.qZA()(),e.TgZ(44,"div",21)(45,"div",22)(46,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=i})("change",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=i.target.checked?1:0}),e.qZA()(),e.TgZ(47,"div",24)(48,"label",25),e._uU(49,"Include Pending Recurring Transaction Also"),e.qZA()()()(),e.TgZ(50,"div",26)(51,"fieldset")(52,"legend",12),e._uU(53,"Days Selection :"),e.qZA(),e.TgZ(54,"div",1)(55,"div",27)(56,"label",28),e._uU(57,"Days :"),e.TgZ(58,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DAYS=i})("input",function(i){return r.daysSelection(i)}),e.qZA()()()()(),e.TgZ(59,"fieldset")(60,"legend",12),e._uU(61,"Report Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",30)(64,"label",31),e._uU(65,"Customer Selection :"),e.qZA()(),e.TgZ(66,"div",24)(67,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",30)(70,"label",33),e._uU(71,"Recurring Transaction "),e._UZ(72,"br"),e._uU(73,"Category : "),e.qZA()(),e.TgZ(74,"div",24)(75,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY=i}),e.TgZ(76,"option",19),e._uU(77,"ALL"),e.qZA(),e.YNc(78,wee,2,2,"option",20),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",30)(81,"label",33),e._uU(82,"Recurring Transaction "),e._UZ(83,"br"),e._uU(84," Item :"),e.qZA()(),e.TgZ(85,"div",24)(86,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM=i})("keydown.enter",function(i){return r.itemEnterCommand1(i)})("keydown.Tab",function(i){return r.itemEnterCommand1(i)})("keyup",function(i){return r.itemEnterCommand1(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(87,"fieldset")(88,"legend",12),e._uU(89,"Report Option :"),e.qZA(),e.TgZ(90,"div",13)(91,"div",7)(92,"div",35)(93,"div",1)(94,"div",36)(95,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showDateAfterWeek()})("change",function(){return r.showDateAfterWeek()}),e.qZA()(),e.TgZ(96,"div",38)(97,"label",39),e._uU(98,"Show Upcoming Recurring Transaction Report"),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",36)(101,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showFiscalStartDateOnClick()})("change",function(){return r.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(102,"div",38)(103,"label",39),e._uU(104,"Show Processed Recurring Transaction Report"),e.qZA()()(),e.TgZ(105,"div",1)(106,"div",36)(107,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showFiscalStartDateOnClick()})("change",function(){return r.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(108,"div",38)(109,"label",39),e._uU(110,"Show Hold Recurring Transaction Report"),e.qZA()()(),e.TgZ(111,"div",1)(112,"div",36)(113,"input",42),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showCurrentDateOnClick()})("change",function(){return r.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(114,"div",38)(115,"label",39),e._uU(116,"Show Newly Added Recurring Transaction Report"),e.qZA()()(),e.TgZ(117,"div",1)(118,"div",36)(119,"input",43),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showFiscalStartDateOnClick()})("change",function(){return r.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(120,"div",38)(121,"label",39),e._uU(122,"Show Pending Recurring Transaction Report"),e.qZA()()()()()()()()()(),e.TgZ(123,"div",44)(124,"button",45),e.NdJ("click",function(){return r.onload()}),e._uU(125,"RUN"),e.qZA(),e.TgZ(126,"button",46),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(127,"Close"),e.qZA()()()()()(),e.TgZ(128,"generic-popup-grid",47,48),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(130,"generic-popup-grid",47,49),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupRecurring(i)}),e.qZA()),2&t&&(e.xp6(16),e.Q6J("disabled",3==r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(10),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION)("checked",1==r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION&&0==r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION)("disabled",0!=r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DAYS),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY),e.xp6(3),e.Q6J("ngForOf",r.rCategoryList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForRecurring))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Vee=["genericGridSupplierPopup"],Wee=["genericGridItemPopup"];let Zee=(()=>{class n{constructor(t,r,o,i,a){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this.isActive=!1,this.repObj={reportname:"",reportparam:{REPORTOPTION:"",REPORTYPE:"",RECURRINGMODE:"",CATNAME:"",ITEM:"",PHISCALID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl&&"Recurring Transaction Analysis Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=this._reportFilterService.drillParam.reportparam.REPORTOPTION,this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE=this._reportFilterService.drillParam.reportparam.RECURRINGMODE,this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE="2"):1!=this._reportFilterService.RecurringTransactionAnalysisObj.assignPreviousValue&&(this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION="0",this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE="0",this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE="0")})}onload(){this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.REPORTOPTION=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION:"",this.repObj.reportparam.REPORTYPE=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE:"",this.repObj.reportparam.RECURRINGMODE=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE:"",this.repObj.reportparam.CATNAME=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_CATNAME?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_CATNAME:"%",this.repObj.reportparam.ITEM=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_ITEM?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_ITEM:"%",0==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report":1==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report_1":2==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report_2":3==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE&&(this.repObj.reportname="Recurring Transaction Analysis Report_3"),this.repObj.REPORTDISPLAYNAME="Recurring Transaction Analysis Report",this._reportFilterService.RecurringTransactionAnalysisObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["recurring-transaction-analysis-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Vee,5),e.Gf(Wee,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:94,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%","margin-bottom","1%"],[2,"width","101%"],[1,"legend-class"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"row",2,"margin-bottom","-3%","visibility","hidden"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"row",2,"width","107%"],[1,"col"],[2,"margin-left","-5%","width","165px"],[1,"form-control","input-text",2,"width","136%","margin-left","-40%",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Recurring Transaction Analysis Report "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset",10)(17,"legend",11),e._uU(18,"Report Type :"),e.qZA(),e.TgZ(19,"div",12)(20,"div",13)(21,"div",14)(22,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(23,"div",16)(24,"label",17),e._uU(25,"Recurring Transaction Category Wise Report"),e.qZA()()(),e.TgZ(26,"div",13)(27,"div",14)(28,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(29,"div",16)(30,"label",17),e._uU(31,"Recurring Transaction Item Wise Report"),e.qZA()()(),e.TgZ(32,"div",13)(33,"div",14)(34,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(35,"div",16)(36,"label",17),e._uU(37,"Customer Wise Report"),e.qZA()()(),e.TgZ(38,"div",20)(39,"div",14)(40,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(41,"div",16)(42,"label",17),e._uU(43,"Recurring Transaction Yearly Comparision Report"),e.qZA()()()()()(),e.TgZ(44,"div",5)(45,"fieldset",10)(46,"legend",11),e._uU(47,"Report Option :"),e.qZA(),e.TgZ(48,"div",12)(49,"div",13)(50,"div",14)(51,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(52,"div",16)(53,"label",17),e._uU(54,"Show All Recurring Transaction"),e.qZA()()(),e.TgZ(55,"div",13)(56,"div",14)(57,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(58,"div",16)(59,"label",17),e._uU(60,"Show Processed Recurring Transaction Only"),e.qZA()()(),e.TgZ(61,"div",13)(62,"div",14)(63,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(64,"div",16)(65,"label",17),e._uU(66,"Show Non-Processed Recurring Transaction Only"),e.qZA()()(),e.TgZ(67,"div",13)(68,"div",14)(69,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(70,"div",16)(71,"label",17),e._uU(72,"Show Newly Added Recurring Transaction Only"),e.qZA()()()()(),e.TgZ(73,"div",26)(74,"div",27)(75,"label",28),e._uU(76,"Recurring Transaction Mode :"),e.qZA()(),e.TgZ(77,"div",27)(78,"select",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE=i}),e.TgZ(79,"option",30),e._uU(80,"ALL"),e.qZA(),e.TgZ(81,"option",31),e._uU(82,"Each Month"),e.qZA(),e.TgZ(83,"option",32),e._uU(84,"Each 3 Months"),e.qZA(),e.TgZ(85,"option",33),e._uU(86,"Each 6 Months"),e.qZA(),e.TgZ(87,"option",34),e._uU(88,"Each Year"),e.qZA()()()()()()(),e.TgZ(89,"div",35)(90,"button",36),e.NdJ("click",function(){return r.onload()}),e._uU(91,"RUN"),e.qZA(),e.TgZ(92,"button",37),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(93,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(22),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE))},dependencies:[p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Hee=["genericGridItemPopup"],Uee=["multiselectGenericGrid"];function zee(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Bee(n,s){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Jee(n,s){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function Yee(n,s){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function qee(n,s){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function Gee(n,s){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function Qee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE=o)}),e._UZ(6,"option",38),e.YNc(7,Gee,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function Kee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"ng-multiselect-dropdown",74),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function $ee(n,s){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70)(2,"label",71),e._uU(3),e.qZA()(),e.YNc(4,Kee,2,4,"div",72),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function Xee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",58)(2,"div",59)(3,"div",60)(4,"h5",61),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",63),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",64)(10,"div",65),e.YNc(11,$ee,5,2,"div",66),e.qZA()(),e.TgZ(12,"div",67)(13,"button",68),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",68),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let ete=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._authService=d,this._alertService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",COMID:"",DIV:"",CCENTER:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",CATEGORYNAME:"",VATMODE:"",MANUFACTURER:"%",SALESTYPE:"",REPORTOPTION:0,SHOWDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForItem=new O.im,this.multiselectPopupSettings=new ee.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getManufacturerList().subscribe(_=>{_&&(this.ManufacturerList=_)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.userProfile.PhiscalYearInfo.PhiscalID;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.SalesFlowObj.assignPreviousValue&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE="100",this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2,"AD")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/");const h=l[2]+"/"+l[1]+"/"+l[0];i=o.bs2ad(h);var d=(i=o.bs2ad(h)).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER||null==this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV&&"%"==this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV)this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME="All";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV&&"%"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV);this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME="";if(this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP&&"%"==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP)this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP&&"%"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP);this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME="";if(this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE&&"100"==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP)this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME="";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE&&"100"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE);this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER?this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV?this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP?this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM?this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME?this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT:"",this.repObj.reportparam.VATMODE=this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE?this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE:"",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE:"",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION?this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL?this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL:0,this.repObj.reportparam.MANUFACTURER=this._reportFilterService.SalesFlowObj.SalesMonthWise_MANUFACTURER?this._reportFilterService.SalesFlowObj.SalesMonthWise_MANUFACTURER:"%",0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise":1==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_4":0==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS":1==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_1":2==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_2":3==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_3":4==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION&&(this.repObj.reportname="Sales Flow Report Month Wise_BS_4"),this.repObj.REPORTDISPLAYNAME="Sales Flow Report Month Wise",this._reportFilterService.SalesFlowObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),console.log("selected itemd",this.selectMultiItems),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}changeMultiSelect(t){console.log("events",t),this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE="",this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM="",this.selectMultiItems=1==t.target.checked?1:0}dblClickPopupItem(t){this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE=t.MCODE,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=t.DESCA}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE=t.MCODE,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){0==t&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="0"),1==t&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="1"),2==t&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="2"),3==t&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="3")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesFlowObj.SalesMonthWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}showCurrentDateOnClick(){this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=(new Date).toJSON().split("T")[0]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e),e.Y36(y.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-flow-report-monthwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Hee,5),e.Gf(Uee,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:173,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-22%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-md-1"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],["value","2"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[4,"ngIf"],[3,"value"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Flow Report - Month Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_DIV=i}),e.YNc(41,zee,2,0,"option",16),e.YNc(42,Bee,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Jee,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Report Type Selection :"),e.qZA(),e.TgZ(54,"div",11)(55,"div",20)(56,"div",21)(57,"div",1)(58,"div",22)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(60,"div",24)(61,"label",25),e._uU(62,"Item Wise Report"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",22)(65,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(66,"div",24)(67,"label",25),e._uU(68,"Item Group Wise Report"),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",22)(71,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(2)}),e.qZA()(),e.TgZ(72,"div",24)(73,"label",25),e._uU(74,"Item Category Wise Report"),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",22)(77,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(3)}),e.qZA()(),e.TgZ(78,"div",24)(79,"label",25),e._uU(80,"Cost Center Wise Report"),e.qZA()()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL=i})("change",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(84,"div",32)(85,"label",33),e._uU(86,"Show Item List Also"),e.qZA()()()(),e.TgZ(87,"div",34)(88,"fieldset")(89,"legend"),e._uU(90,"Report Filter Option :"),e.qZA(),e.TgZ(91,"div",1)(92,"div",35)(93,"label",36),e._uU(94,"Item Group :"),e.qZA()(),e.TgZ(95,"div",32)(96,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP=i}),e._UZ(97,"option",19),e.YNc(98,Yee,2,2,"option",17),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",35)(101,"label",36),e._uU(102,"Item Category :"),e.qZA()(),e.TgZ(103,"div",32)(104,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT=i}),e._UZ(105,"option",19),e.YNc(106,qee,2,2,"option",17),e.qZA()()(),e.YNc(107,Qee,8,2,"div",37),e.TgZ(108,"div",1)(109,"div",35)(110,"label",36),e._uU(111,"Vat Mode :"),e.qZA()(),e.TgZ(112,"div",32)(113,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE=i}),e._UZ(114,"option",38),e.TgZ(115,"option",39),e._uU(116,"VATABLE ITEM"),e.qZA(),e.TgZ(117,"option",40),e._uU(118,"NON-VATABLE ITEM"),e.qZA()()()(),e.TgZ(119,"div",1)(120,"div",35)(121,"label",36),e._uU(122,"Sales Type :"),e.qZA()(),e.TgZ(123,"div",32)(124,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE=i}),e.TgZ(125,"option",40),e._uU(126,"ALL"),e.qZA(),e.TgZ(127,"option",39),e._uU(128,"RETAIL SALES"),e.qZA(),e.TgZ(129,"option",41),e._uU(130,"WHOLESALE SALES"),e.qZA()()()()(),e.TgZ(131,"fieldset")(132,"legend",10),e._uU(133,"Item Selection :"),e.qZA(),e.TgZ(134,"div",1)(135,"div",35)(136,"label",36),e._uU(137,"Item Name :"),e.qZA()(),e.TgZ(138,"div",32)(139,"input",42),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(140,"div",1)(141,"input",43),e.NdJ("ngModelChange",function(i){return r.selectMultiItems=i})("change",function(i){return r.changeMultiSelect(i)}),e.qZA(),e._uU(142," \xa0 "),e.TgZ(143,"a",44),e._uU(144," Select Multiple Items"),e.qZA()()(),e.TgZ(145,"fieldset")(146,"legend",10),e._uU(147,"Report Option :"),e.qZA(),e.TgZ(148,"div",11)(149,"div",5)(150,"div",21)(151,"div",1)(152,"div",45)(153,"input",46),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION=i})("click",function(){return r.showCurrentDateOnClick()})("change",function(){return r.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(154,"div",24)(155,"label",47),e._uU(156,"Show Report In English Date"),e.qZA()()(),e.TgZ(157,"div",1)(158,"div",45)(159,"input",48),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION=i}),e.qZA()(),e.TgZ(160,"div",24)(161,"label",47),e._uU(162,"Show Report In Nepali Date"),e.qZA()()()()()()()()()(),e.TgZ(163,"div",49)(164,"button",50),e.NdJ("click",function(){return r.onload()}),e._uU(165,"RUN"),e.qZA(),e.TgZ(166,"button",51),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(167,"Close"),e.qZA()()()()()(),e.TgZ(168,"generic-popup-grid",52,53),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(170,"multiselect-generic-grid",54,55),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.YNc(172,Xee,17,1,"div",56)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL)("disabled",0==r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE),e.xp6(15),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM),e.xp6(2),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ee.ky,ne.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const tte=["multiselectGenericGrid"],rte=["genericGridItemPopup"];function ite(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function ote(n,s){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function nte(n,s){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function ate(n,s){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function ste(n,s){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function lte(n,s){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function cte(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE=o)}),e._UZ(6,"option",38),e.YNc(7,lte,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function pte(n,s){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function dte(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MANUFACTURER=o)}),e._UZ(6,"option",19),e.YNc(7,pte,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}let hte=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",COMID:"",DIV:"",CCENTER:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMCATEGORYWISE:0,ITEMCOSTCENTERWISE:0,ITEMNAME:"",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",CATEGORYNAME:"",VATMODE:"",PURCHASETYPE:"",REPORTOPTION:0,SHOWDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.PurchaseReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.finalParam={},this.multiselectPopupSettings=new ee.oe,this.gridPopupSettingsForItem=new O.im,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),i.PurchaseFlowObj.PurchaseMonthWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.variantmaster=_.result)},_=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.PurchaseFlowObj.assignPreviousValue&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE="100",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP="100",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="0",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION="0"),this.changeVariant(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2,"AD")}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeMultiSelect(t){console.log("events",t),this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE="",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM="",this.selectMultiItems=1==t.target.checked?1:0}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER||null==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV){let i=this.divisionList.filter(a=>a.Division==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME="";if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP){let i=this.ItemGroupList.filter(a=>a.MCODE==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME="";if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE&&"100"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME="";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE&&"100"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE){let i=this.PTypeList.filter(a=>a.PTYPEID==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME="";this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?"All":this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2,this.repObj.reportparam.COMID=this.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME:"",this.repObj.reportparam.VATMODE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP:"",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL:0,0==this.repObj.reportparam.ITEMGROUPWISE&&(this._reportFilterService.SalesFlowObj.PurchaseMonthWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISE&&(this._reportFilterService.SalesFlowObj.PurchaseMonthWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise":1==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_4":0==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS":1==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_1":2==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_2":3==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_3":4==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION&&(this.repObj.reportname="Purchase Flow Report Month Wise_BS_4"),this.repObj.REPORTDISPLAYNAME="Purchase Flow Report Month Wise",this._reportFilterService.PurchaseFlowObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE=t.MCODE,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE=t.MCODE,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=t.DESCA,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){console.log("value check value",t),0==t&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="0"),1==t&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="1"),2==t&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="2"),3==t&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="3")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showCurrentDateOnClick(){this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=(new Date).toJSON().split("T")[0]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-flow-report-monthwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(tte,5),e.Gf(rte,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:173,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-22%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Flow Report - Month Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV=i}),e.YNc(41,ite,2,0,"option",16),e.YNc(42,ote,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,nte,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Report Type Selection :"),e.qZA(),e.TgZ(54,"div",11)(55,"div",20)(56,"div",21)(57,"div",1)(58,"div",22)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(60,"div",24)(61,"label",25),e._uU(62,"Item Wise Report"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",22)(65,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(66,"div",24)(67,"label",25),e._uU(68,"Item Group Wise Report"),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",22)(71,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(2)}),e.qZA()(),e.TgZ(72,"div",24)(73,"label",25),e._uU(74,"Item Category Wise Report"),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",22)(77,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(3)}),e.qZA()(),e.TgZ(78,"div",24)(79,"label",25),e._uU(80,"Cost Center Wise Report"),e.qZA()()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL=i})("change",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(84,"div",32)(85,"label",33),e._uU(86,"Show Item List Also"),e.qZA()()()(),e.TgZ(87,"div",34)(88,"fieldset")(89,"legend"),e._uU(90,"Report Filter Option :"),e.qZA(),e.TgZ(91,"div",1)(92,"div",35)(93,"label",36),e._uU(94,"Item Group :"),e.qZA()(),e.TgZ(95,"div",32)(96,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP=i}),e._UZ(97,"option",19),e.YNc(98,ate,2,2,"option",17),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",35)(101,"label",36),e._uU(102,"Item Category :"),e.qZA()(),e.TgZ(103,"div",32)(104,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT=i}),e._UZ(105,"option",19),e.YNc(106,ste,2,2,"option",17),e.qZA()()(),e.YNc(107,cte,8,2,"div",37),e.YNc(108,dte,8,2,"div",37),e.TgZ(109,"div",1)(110,"div",35)(111,"label",36),e._uU(112,"Vat Mode :"),e.qZA()(),e.TgZ(113,"div",32)(114,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE=i}),e._UZ(115,"option",38),e.TgZ(116,"option",39),e._uU(117,"VATABLE ITEM"),e.qZA(),e.TgZ(118,"option",40),e._uU(119,"NON-VATABLE ITEM"),e.qZA()()()(),e.TgZ(120,"div",1)(121,"div",35)(122,"label",36),e._uU(123,"Purchase Type :"),e.qZA()(),e.TgZ(124,"div",32)(125,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP=i}),e.TgZ(126,"option",38),e._uU(127,"ALL"),e.qZA(),e.TgZ(128,"option",39),e._uU(129,"IMPORT PURCHASE"),e.qZA(),e.TgZ(130,"option",40),e._uU(131,"LOCAL PURCHASE"),e.qZA()()()()(),e.TgZ(132,"fieldset")(133,"legend",10),e._uU(134,"Item Selection :"),e.qZA(),e.TgZ(135,"div",1)(136,"div",35)(137,"label",36),e._uU(138,"Item Name :"),e.qZA()(),e.TgZ(139,"div",32)(140,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(141,"div",1)(142,"input",42),e.NdJ("ngModelChange",function(i){return r.selectMultiItems=i})("change",function(i){return r.changeMultiSelect(i)}),e.qZA(),e._uU(143," \xa0 "),e.TgZ(144,"a",43),e._uU(145," Select Multiple Items"),e.qZA()()(),e.TgZ(146,"fieldset")(147,"legend",10),e._uU(148,"Report Option :"),e.qZA(),e.TgZ(149,"div",11)(150,"div",5)(151,"div",21)(152,"div",1)(153,"div",44)(154,"input",45),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION=i})("click",function(){return r.showCurrentDateOnClick()})("change",function(){return r.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(155,"div",24)(156,"label",46),e._uU(157,"Show Report In English Date"),e.qZA()()(),e.TgZ(158,"div",1)(159,"div",44)(160,"input",47),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION=i}),e.qZA()(),e.TgZ(161,"div",24)(162,"label",46),e._uU(163,"Show Report In Nepali Date"),e.qZA()()()()()()()()()(),e.TgZ(164,"div",48)(165,"button",49),e.NdJ("click",function(){return r.onload()}),e._uU(166,"RUN"),e.qZA(),e.TgZ(167,"button",50),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(168,"Close"),e.qZA()()()()()(),e.TgZ(169,"generic-popup-grid",51,52),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(171,"multiselect-generic-grid",53,54),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL)("disabled",0==r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP),e.xp6(15),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM),e.xp6(2),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p._,p.JJ,p.On,O.Zl,E.v,ee.ky],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const _te=["division"];function ute(n,s){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function gte(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION=o)}),e.TgZ(4,"option",32),e._uU(5,"ALL"),e.qZA(),e.YNc(6,ute,2,2,"option",33),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION),e.xp6(3),e.Q6J("ngForOf",t.divisionList)}}function mte(n,s){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("ngValue",t.monthlyOrYearlyFormatValue),e.xp6(1),e.hij(" ",t.monthlyOrYearlyFormatName," ")}}let fte=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",REPORTOPTION:"",PHISCALID:"",MONTHLY:0},REPORTDISPLAYNAME:""},this.monthlyOrYearlyFormatList=[{monthlyOrYearlyFormatName:"Yearly",monthlyOrYearlyFormatValue:0},{monthlyOrYearlyFormatName:"Monthly",monthlyOrYearlyFormatValue:1}],this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.AppMode=$.N.appMode,this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.Annexure13ReportObj.assignPreviousValue&&(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.AccoutLedgerObj.Annexure13_REPORTOPTION="0",this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY=0),this.changeEntryDate(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1,"AD"),this.changeEndDate(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2,"AD")})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION?this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION:"%",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION?this._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION:0,this.repObj.reportparam.MONTHLY=this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY?this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY:0,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,console.log(this.repObj),this.repObj.reportname="Annexure 13 Report",this.repObj.reportname=0===this.repObj.reportparam.MONTHLY?"Annexure 13 Report":"Annexure 13 Report-Monthly",this.repObj.REPORTDISPLAYNAME="Annexure 13 Report",this._reportFilterService.Annexure13ReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["annexure13report"]],viewQuery:function(t,r){if(1&t&&e.Gf(_te,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:79,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngValue"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Annexure 13 Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,gte,7,2,"fieldset",17),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Monthly Or Yearly Selection:"),e.qZA(),e.TgZ(41,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY=i}),e.YNc(42,mte,2,2,"option",19),e.qZA()()(),e.TgZ(43,"div",20)(44,"fieldset")(45,"legend",11),e._uU(46,"Report Option :"),e.qZA(),e.TgZ(47,"div",12)(48,"div",7)(49,"div",21)(50,"div",1)(51,"div",22)(52,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(53,"div",24)(54,"label",25),e._uU(55,"Show All "),e.qZA()()(),e.TgZ(56,"div",1)(57,"div",22)(58,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(59,"div",24)(60,"label",25),e._uU(61,"Show Sales Transaction Only"),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",22)(64,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(65,"div",24)(66,"label",25),e._uU(67,"Show Purchase Transaction - Others Only"),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",22)(70,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(71,"div",24)(72,"label",25),e._uU(73,"Show Purchase Transaction - Capital Ony"),e.qZA()()()()()()()()()(),e.TgZ(74,"div",29)(75,"button",30),e.NdJ("click",function(){return r.onload()}),e._uU(76,"RUN"),e.qZA(),e.TgZ(77,"button",31),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(78,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY),e.xp6(1),e.Q6J("ngForOf",r.monthlyOrYearlyFormatList),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Ste=["genericGridItemPopup"],vte=["multiselectGenericGrid"],Ote=["genericGridSupplierPopup"];function bte(n,s){1&n&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function Cte(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Tte(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function Mte(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function Ate(n,s){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function Pte(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"ng-multiselect-dropdown",65),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function Rte(n,s){if(1&n&&(e.TgZ(0,"div",60)(1,"div",61)(2,"label",62),e._uU(3),e.qZA()(),e.YNc(4,Pte,2,4,"div",63),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function Ete(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",49)(2,"div",50)(3,"div",51)(4,"h5",52),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",54),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",55)(10,"div",56),e.YNc(11,Rte,5,2,"div",57),e.qZA()(),e.TgZ(12,"div",58)(13,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let yte=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=a,this.arouter=l,this._ActivatedRoute=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MGROUP:"%",MCAT:"%",PTYPE:100,SUPCODE:"%",SHOWGROUPING:0,VATMODE:100,WORSTQTY:0,SALESTYPE:0,SUPPLIERNAME:"",IGNOREZEROQTY:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.gridPopupSettingsForItem=new O.im,this.multiselectPopupSettings=new ee.oe,this.gridPopupSettingsForSupplier=new O.im,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.showVariantPopup=!1,this.variantparamters2={},this.finalParam={},this.userSetting=c.getSetting(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(_=>{_.result&&_.result.length&&(this.categorywiseConfigurationdetails=_.result,this.categorywiseConfigurationdetails.forEach(m=>{if(m.SELECTEDMCAT=[],m.finalSelectedMCAT=[],m.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(m.VARIANTVALUES);m.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},_=>{});var h=this.masterService.PhiscalObj.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.WorstSalesObj.assignPreviousValue&&(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP="%",this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT="%",this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE=100,this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE=100,this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME="",this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE="",this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=0),this.changeEntryDate(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1,"AD"),this.changeEndDate(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION?this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP?this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT?this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE?this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE:100,this.repObj.reportparam.VATMODE=this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE?this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE:100,this.repObj.reportparam.SALESTYPE=this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE?this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE:0,this.repObj.reportparam.SUPCODE=this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE?this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE:"%",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING?this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING:0,this.repObj.reportparam.WORSTQTY=this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY?this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME?this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME:"",this.repObj.reportparam.IGNOREZEROQTY=this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY?this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY:0,""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Worst Sales Analysis Report",this.repObj.REPORTDISPLAYNAME="Worst Sales Analysis Report",this._reportFilterService.WorstSalesObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.WorstSalesObj.StockLedger_MCODE=t.MCODE,this._reportFilterService.WorstSalesObj.StockLedger_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.WorstSalesObj.StockLedger_MCODE=t.MCODE,this._reportFilterService.WorstSalesObj.StockLedger_ITEM=t.DESCA,this._reportFilterService.WorstSalesObj.StockLedger_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.WorstSalesObj.StockLedger_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(a=>{i.VARIANTNAME==a&&i.SELECTEDMCAT.forEach(l=>{t+=`${l.NAME},`,this.finalParam[a]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}supplierEnter(t){this.getCustomerList(),this.genericGridSupplierPopup.show()}getCustomerList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(t){this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE=t.ACID,this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME=t.ACNAME}changeWorstqty(t){console.log("event",t.target.value),(t.target.value<1||null==t.target.value||null==t.target.value||""==t.target.value)&&(this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["worsesales-analysisreport"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Ste,5),e.Gf(vte,5),e.Gf(Ote,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:129,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"font-size","13px","width","100%","margin-top","0%","font-weight","500"],[1,"col-sm-6"],["type","number",2,"position","relative","top","9px","height","2rem","width","12rem",3,"ngModel","ngModelChange","change"],[1,"row","checkbox",2,"padding-top","5px","margin-top","14px"],[1,"col-sm-1"],["type","checkbox",2,"width","1rem",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","13px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","%"],["value","100"],["value","1"],["value","0"],["value","2"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keypress","keydown.Enter","keydown.Tab"],[1,"row","checkbox",2,"padding-top","5px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[4,"ngIf"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],["genericGridSupplierPopup",""],[3,"value"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Worse Sales Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION=i}),e.YNc(41,bte,2,0,"option",16),e.YNc(42,Cte,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",1)(44,"div",5)(45,"label",18),e._uU(46,"Show Report of item having sales Qty less than Equal to:"),e.qZA()(),e.TgZ(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY=i})("change",function(i){return r.changeWorstqty(i)}),e.qZA()()(),e.TgZ(49,"div",21)(50,"div",22)(51,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=i})("change",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=i.target.checked?1:0}),e.qZA()(),e.TgZ(52,"div",24)(53,"label",25),e._uU(54,"Exclude Zero Quantity "),e.qZA()()()(),e.TgZ(55,"div",26)(56,"fieldset")(57,"legend"),e._uU(58,"Report Filter Option :"),e.qZA(),e.TgZ(59,"div",8)(60,"div",27)(61,"label",28),e._uU(62,"Item Group :"),e.qZA()(),e.TgZ(63,"div",24)(64,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP=i}),e._UZ(65,"option",29),e.YNc(66,Tte,2,2,"option",17),e.qZA()()(),e.TgZ(67,"div",1)(68,"div",27)(69,"label",28),e._uU(70,"Item Category :"),e.qZA()(),e.TgZ(71,"div",24)(72,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT=i}),e._UZ(73,"option",29),e.YNc(74,Mte,2,2,"option",17),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",27)(77,"label",28),e._uU(78,"Item Type :"),e.qZA()(),e.TgZ(79,"div",24)(80,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE=i}),e._UZ(81,"option",30),e.YNc(82,Ate,2,2,"option",17),e.qZA()()(),e.TgZ(83,"div",1)(84,"div",27)(85,"label",28),e._uU(86,"Vat Mode :"),e.qZA()(),e.TgZ(87,"div",24)(88,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE=i}),e._UZ(89,"option",30),e.TgZ(90,"option",31),e._uU(91,"VATABLE "),e.qZA(),e.TgZ(92,"option",32),e._uU(93,"NON VATABLE "),e.qZA()()()(),e.TgZ(94,"div",1)(95,"div",27)(96,"label",28),e._uU(97,"Sales type :"),e.qZA()(),e.TgZ(98,"div",24)(99,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE=i}),e._UZ(100,"option",32),e.TgZ(101,"option",31),e._uU(102,"Retail only "),e.qZA(),e.TgZ(103,"option",33),e._uU(104,"Wholesale only "),e.qZA()()()(),e.TgZ(105,"div",34)(106,"div",27)(107,"label",28),e._uU(108,"Supplier Name :"),e.qZA()(),e.TgZ(109,"div",24)(110,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME=i})("keypress",function(i){return r.keyPress(i)})("keydown.Enter",function(i){return r.supplierEnter(i)})("keydown.Tab",function(i){return r.supplierEnter(i)}),e.qZA()()()(),e.TgZ(111,"div",36)(112,"div",22)(113,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(114,"div",24)(115,"label",38),e._uU(116,"Show Item Grouping Hierarchy"),e.qZA()()()()()(),e.TgZ(117,"div",39)(118,"button",40),e.NdJ("click",function(){return r.onload()}),e._uU(119,"RUN"),e.qZA(),e.TgZ(120,"button",41),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(121,"Close"),e.qZA()()()()()(),e.YNc(122,Ete,17,1,"div",42),e.TgZ(123,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(125,"multiselect-generic-grid",45,46),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(127,"generic-popup-grid",43,47),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY)("checked",1==r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY)("disabled",r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY<=0||null==r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING)("checked",1==r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING),e.xp6(9),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p.JJ,p.On,O.Zl,E.v,ee.ky,ne.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})();const Ite=["genericGridItemPopup"],Nte=["genericGridSupplierPopup"];function Dte(n,s){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function kte(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Fte(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function jte(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function Lte(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function wte(n,s){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let xte=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=a,this.arouter=l,this._ActivatedRoute=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORTTYPE:0,MCODE:"%",ITEMGROUP:"%",ITEMCAT:"%",ITEMTYPE:0,SUPPLIER:"%",SUPPLIERNAME:"",TOPNMODE:0,TOPNRANGE:0,VATMODE:100,SALESTYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.gridPopupSettingsForItem=new O.im,this.gridPopupSettingsForSupplier=new O.im,this.userSetting=c.getSetting(),this.masterService.getAllCostCenter().subscribe(_=>{this.costCenterList=_&&_||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)});var h=this.masterService.PhiscalObj.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(console.log("ng on init"),1!=this._reportFilterService.TopNSalesObj.assignPreviousValue&&(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE="0",this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE=100,this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME="",this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE="",this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE="0",this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE=0,this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE=100,this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE=0),this.changeEntryDate(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1,"AD"),this.changeEndDate(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2,"AD"))})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER||null==this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER?this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV?this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE:"%",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP?this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP:"%",this.repObj.reportparam.ITEMCAT=this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT?this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT:"%",this.repObj.reportparam.ITEMTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE:0,this.repObj.reportparam.VATMODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE:100,this.repObj.reportparam.SALESTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE:0,this.repObj.reportparam.SUPPLIER=this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE:"%",this.repObj.reportparam.TOPNMODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE:0,this.repObj.reportparam.TOPNRANGE=this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE?this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME?this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME:"",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE:0,""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPPLIER="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Top N Sales Analysis Report":1==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Top N Sales Analysis Report_1":2==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Top N Sales Analysis Report_2"),this.repObj.REPORTDISPLAYNAME="Top N Sales Analysis Report",this._reportFilterService.TopNSalesObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}supplierEnter(t){this.getCustomerList(),this.genericGridSupplierPopup.show()}getCustomerList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(t){this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE=t.ACID,this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME=t.ACNAME}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(y.c),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["topsales-analysisreport"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Ite,5),e.Gf(Nte,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:146,vars:33,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[2,"margin-left","4%"],["type","radio","name","topNmode","value","0",3,"ngModel","ngModelChange"],[2,"width","85%"],["type","radio","name","topNmode","value","1",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"font-size","13px","width","100%","margin-top","0%","font-weight","500"],[1,"col-sm-6"],["type","number",2,"width","10rem",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],[1,"col"],["value","100"],["value","1"],["value","0"],["value","2"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keypress","keydown.Enter","keydown.Tab"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Top N Sales Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_DIV=i}),e.YNc(41,Dte,2,0,"option",16),e.YNc(42,kte,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Fte,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Top N Mode:"),e.qZA(),e.TgZ(54,"div",20)(55,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE=i}),e.qZA(),e.TgZ(56,"label",22),e._uU(57,"As per Sales Qty"),e.qZA()(),e.TgZ(58,"div",20)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE=i}),e.qZA(),e.TgZ(60,"label",22),e._uU(61,"As per Sales Value"),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",24)(64,"label",25),e._uU(65,"Top N Range:"),e.qZA()(),e.TgZ(66,"div",26)(67,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE=i}),e.qZA()()()(),e.TgZ(68,"div",28)(69,"fieldset")(70,"legend",10),e._uU(71,"Report Type Selection:"),e.qZA(),e.TgZ(72,"div",20)(73,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=i}),e.qZA(),e.TgZ(74,"label",22),e._uU(75,"Item Wise Stock Report"),e.qZA()(),e.TgZ(76,"div",20)(77,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=i}),e.qZA(),e.TgZ(78,"label",22),e._uU(79,"Item Group Wise Stock Report"),e.qZA()(),e.TgZ(80,"div",20)(81,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=i}),e.qZA(),e.TgZ(82,"label",22),e._uU(83,"Item Category Wise Stock Report"),e.qZA()()(),e.TgZ(84,"fieldset")(85,"legend"),e._uU(86,"Report Filter Option :"),e.qZA(),e.TgZ(87,"div",8)(88,"div",24)(89,"label",32),e._uU(90,"Item Group :"),e.qZA()(),e.TgZ(91,"div",33)(92,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP=i}),e._UZ(93,"option",19),e.YNc(94,jte,2,2,"option",17),e.qZA()()(),e.TgZ(95,"div",1)(96,"div",24)(97,"label",32),e._uU(98,"Item Category :"),e.qZA()(),e.TgZ(99,"div",33)(100,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT=i}),e._UZ(101,"option",19),e.YNc(102,Lte,2,2,"option",17),e.qZA()()(),e.TgZ(103,"div",1)(104,"div",24)(105,"label",32),e._uU(106,"Item Type :"),e.qZA()(),e.TgZ(107,"div",33)(108,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE=i}),e._UZ(109,"option",34),e.YNc(110,wte,2,2,"option",17),e.qZA()()(),e.TgZ(111,"div",1)(112,"div",24)(113,"label",32),e._uU(114,"Vat Mode :"),e.qZA()(),e.TgZ(115,"div",33)(116,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE=i}),e._UZ(117,"option",34),e.TgZ(118,"option",35),e._uU(119,"VATABLE "),e.qZA(),e.TgZ(120,"option",36),e._uU(121,"NON VATABLE "),e.qZA()()()(),e.TgZ(122,"div",1)(123,"div",24)(124,"label",32),e._uU(125,"Sales type :"),e.qZA()(),e.TgZ(126,"div",33)(127,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE=i}),e._UZ(128,"option",36),e.TgZ(129,"option",35),e._uU(130,"Retail only "),e.qZA(),e.TgZ(131,"option",37),e._uU(132,"Wholesale only "),e.qZA()()()(),e.TgZ(133,"div",38)(134,"div",24)(135,"label",32),e._uU(136,"Supplier Name :"),e.qZA()(),e.TgZ(137,"div",33)(138,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME=i})("keypress",function(i){return r.keyPress(i)})("keydown.Enter",function(i){return r.supplierEnter(i)})("keydown.Tab",function(i){return r.supplierEnter(i)}),e.qZA()()()()()()(),e.TgZ(139,"div",40)(140,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(141,"RUN"),e.qZA(),e.TgZ(142,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(143,"Close"),e.qZA()()()()()(),e.TgZ(144,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[f.sg,f.O5,p.YN,p.Kr,p.Fj,p.wV,p.EJ,p._,p.JJ,p.On,O.Zl,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})(),Vte=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[tt.c],imports:[f.ez,Dn.xc]}),n})();var Wte=S(47766);const Zte=["division"];function Hte(n,s){if(1&n&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let Ute=(()=>{class n{constructor(t,r,o,i,a,l,d,c){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",REPORTMODE:"",PHISCALID:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.SalesRevenueMetricsObj.assignPreviousValue&&(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION=this.masterService.PhiscalObj.Div,this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE="0"),this.changeEntryDate(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2,"AD")})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}}changeEndDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION?this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION:"%",this.repObj.reportparam.REPORTMODE=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE?this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE:0,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,console.log(this.repObj),this.repObj.reportname="Sales Revenue Metrics Report",this.repObj.REPORTDISPLAYNAME="Sales Revenue Metrics Report",this._reportFilterService.SalesRevenueMetricsObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-revenue-metrics-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(Zte,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:74,vars:15,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff","width","50vw"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportMode","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportMode","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportMode","value","2",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Revenue Metrics Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",11),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION=i}),e.TgZ(41,"option",18),e._uU(42,"ALL"),e.qZA(),e.YNc(43,Hte,2,2,"option",19),e.qZA()()(),e.TgZ(44,"div",20)(45,"fieldset")(46,"legend",11),e._uU(47,"Report Mode :"),e.qZA(),e.TgZ(48,"div",12)(49,"div",21)(50,"div",22)(51,"div",1)(52,"div",23)(53,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=i}),e.qZA()(),e.TgZ(54,"div",25)(55,"label",26),e._uU(56,"Daily "),e.qZA()()(),e.TgZ(57,"div",1)(58,"div",23)(59,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=i}),e.qZA()(),e.TgZ(60,"div",25)(61,"label",26),e._uU(62,"Weekly"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",23)(65,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=i}),e.qZA()(),e.TgZ(66,"div",25)(67,"label",26),e._uU(68,"Monthly"),e.qZA()()()()()()()()()(),e.TgZ(69,"div",29)(70,"button",30),e.NdJ("click",function(){return r.onload()}),e._uU(71,"RUN"),e.qZA(),e.TgZ(72,"button",31),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(73,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE))},dependencies:[f.sg,p.YN,p.Kr,p.Fj,p.EJ,p._,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),n})(),zte=(()=>{class n{constructor(t,r,o,i,a,l,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=a,this._alertService=l,this._authService=d,this.repObj={reportname:"",reportparam:{DATE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE=this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1,this.repObj.reportname="HourlySalesReport_Daywise",this.repObj.REPORTDISPLAYNAME="Hourly Sales Report",this.reportdataEmit.emit({status:"ok",data:this.repObj})}changeEntryDate(t,r){var o=S(82071);if("AD"==r){var i=t.replace("-","/").replace("-","/"),a=o.ad2bs(i);this._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1=("1"==a.en.day||"2"==a.en.day||"3"==a.en.day||"4"==a.en.day||"5"==a.en.day||"6"==a.en.day||"7"==a.en.day||"8"==a.en.day||"9"==a.en.day?"0"+a.en.day:a.en.day)+"/"+a.en.month+"/"+a.en.year}else if("BS"==r){var l=t.split("/"),d=(i=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==i.month.toString().length?"0"+i.month:i.month)+"-"+(1==i.day.toString().length?"0"+i.day:i.day);if(1!=this.masterService.ValidateNepaliDate(d))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var c=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-hourly-sales-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:34,vars:6,consts:[[1,"container",2,"width","690px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12",2,"margin-left","-4%"],[1,"input"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Hourly Sales Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"fieldset")(16,"legend",10),e._uU(17,"Date Selection : "),e.qZA(),e.TgZ(18,"div",1)(19,"div",11)(20,"div")(21,"label"),e._uU(22," AD: "),e.qZA()(),e.TgZ(23,"div",12)(24,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(25,"div",1)(26,"label"),e._uU(27,"BS: "),e.qZA(),e.TgZ(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1=i}),e.qZA()()()()()()(),e.TgZ(29,"div",15)(30,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(31,"RUN"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(33,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(24),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1),e.xp6(4),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1))},dependencies:[p.Fj,p.JJ,p.On,E.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}","label[_ngcontent-%COMP%]{\n        width: 50px;\n    }\n\n    .input[_ngcontent-%COMP%]{\n        width: 168px;\n    }\n\n    hr[_ngcontent-%COMP%]{\n        margin-top: 5px;\n    }"]}),n})();var U4=S(63746);const Bte=["multiselectGenericGrid"],Jte=["reportPopup"],Yte=["genericGridSupplierPopup"],qte=["genericGridItemPopup"];let Gte=(()=>{class n{constructor(t,r,o,i,a,l,d,c,h){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=a,this._ActivatedRoute=l,this._alertService=d,this._authService=c,this.brandService=h,this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{MCODE:"%",SUPCODE:"%",PHISCALID:"",DEPT:"",ITEMNAME:"",SUPPLIERNAME:"",ACID:"",DEPTNAME:""},REPORTDISPLAYNAME:""},this.ReportParameters={},this.divisionList=[],this.DeptList=[],this.selectMultiItems=0,this.resultList=[],this.multiselectPopupSettings=new ee.oe,this.gridPopupSettingsForSupplier=new O.im,this.gridPopupSettingsForItem=new O.im,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile();var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.masterService.getDepartmentList().subscribe(m=>{m&&(this.DeptList=m,console.log("deptlist",m,this.DeptList))})}ngOnInit(){const t=new Date;this.currDate=(0,f.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.MCODE=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE:"%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER:"",this.repObj.reportparam.DEPT=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT:"",this.repObj.reportparam.DEPTNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),""==this.repObj.reportparam.DEPTNAME&&(this.repObj.reportparam.DEPT="%"),this.repObj.reportname="REQUISITION APPROVAL REPORT",this.repObj.REPORTDISPLAYNAME="Requisition Approval Report",this._reportFilterService.RequisitionApprovalObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}dblClickPopupItem(t){this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE=t.MCODE,this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM=t.DESCA}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(t){this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE=t.ACID,this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER=t.ACNAME}selectedValue(t){console.log("selectedValueEvent",t),this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT=t.DepartmentName}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(T.p),e.Y36(p.qu),e.Y36(A),e.Y36(v.F0),e.Y36(v.gz),e.Y36(y.c),e.Y36(P.e),e.Y36(tt.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["requisition-approval-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Bte,5),e.Gf(Jte,5),e.Gf(Yte,5),e.Gf(qte,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:40,vars:8,consts:[[1,"container",2,"width","690px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header",2,"border","0px","padding-top","20px"],[1,"col-md-10"],[1,"modal-title"],[1,"col-md-2"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"form-wrapper",2,"padding","17px"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"Requisition Approval Report"),e.qZA()(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(10,"\xd7"),e.qZA()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Item Name:"),e.qZA()(),e.TgZ(17,"div",14)(18,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(19,"div",1)(20,"div",12)(21,"label",16),e._uU(22,"Supplier Name:"),e.qZA()(),e.TgZ(23,"div",14)(24,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(25,"div",1)(26,"div",12)(27,"label",13),e._uU(28,"Department Name:"),e.qZA()(),e.TgZ(29,"div",18)(30,"app-simple-suggest",19),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("ngModelChange",function(i){return r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT=i})("change",function(i){return r.selectedValue(i)}),e.qZA()()()()(),e.TgZ(31,"div",20)(32,"button",21),e.NdJ("click",function(){return r.onload()}),e._uU(33,"RUN"),e.qZA(),e.TgZ(34,"button",22),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(35,"Close"),e.qZA()()()()()(),e.TgZ(36,"generic-popup-grid",23,24),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(38,"generic-popup-grid",23,25),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("ngModel",r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER),e.xp6(6),e.Q6J("options",r.DeptList)("labelKey","DepartmentName")("valueKey","DepartmentName")("ngModel",r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[p.Fj,p.JJ,p.On,O.Zl,et.c],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}","input[_ngcontent-%COMP%]{\n        font-size: 13px !important;\n    }\n    select[_ngcontent-%COMP%]{\n        font-size: 13px !important;\n\n    }\n    label[_ngcontent-%COMP%] {\n    width: auto !important;\n    margin: 2px;\n    font-size: 13px !important;\n    padding-top: 0 !important;\n}\n.form-wrapper[_ngcontent-%COMP%]{\n    padding: 10px;\n}"]}),n})(),Qte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[C.C,T.p,A,{provide:me.TP,useClass:U4.zu,multi:!0},{provide:me.TP,useClass:U4.aQ,multi:!0}],imports:[BZ,qe.zk.forRoot(),De.JX,jH.m,ve.n1.forRoot(),Z.Is,p.u5,p.UX,GJ._.forRoot(),NG.AngularMultiSelectModule,jG.J,nee.i.forRoot(),Vte.forRoot(),Wte.e,ne.Z,Ft,Zt,mt,gt,ut,_t,jr.Jo,_d]}),n})();e.B6R(Fn,function(){return[f.O5,GZ,$Z,qZ,tH,oH,nH,lH,dH,uH,fH,OH,TH,PH,yH,IH,NH,FH,xH,ZH,zH,YH,GH,KH,uU,PU,FU,EJ,JU,bz,ete,kz,hB,RB,HB,Bz,KB,dJ,OJ,NJ,qJ,VJ,AY,Gte,YY,rq,aq,lq,_q,Cq,kq,Bq,iG,gG,IG,FG,eQ,oQ,pQ,vQ,PQ,DQ,YQ,$Q,iK,mK,CK,xee,WK,qK,t$,F$,s$,_$,O$,R$,U$,aX,gX,CX,EX,FX,fte,VX,zX,eee,QX,oee,pee,gee,Oee,Pee,kee,Zee,hte,yte,xte,Ute,zte]},[])},72661:(Oe,J,S)=>{"use strict";S.d(J,{c:()=>vt});var v=S(8929),e=S(24850),ie=S(88117),Z=S(92340),pe=S(26320),X=S(17545),xe=S(67297),de=S(71180);let vt=(()=>{class he{constructor(Y,Q,z){this.http=Y,this.authService=Q,this.state=z,this._brandTree=[]}get apiUrl(){let Y=Z.N.apiUrl,Q="";return!!Y&&Y.length>0&&(Q=Y),Q}getBrand(Y){let Q={status:"error",result:""},z=new v.xQ;return this.http.post(this.apiUrl+"/getBrand",{mode:"query",data:{BID:Y}}).subscribe(_e=>{z.next(_e),z.unsubscribe()},_e=>{Q.status="error",Q.result=_e,z.next(Q),z.unsubscribe()}),z}getParentbrandList(){return this.http.get(this.apiUrl+"/getAllBrandParentList")}getBrandTypeList(){return this.http.get(this.apiUrl+"/getAllBrandCategoryList")}getProductBrandParent(Y){let Q={status:"error",result:""},z=new v.xQ;return this.http.post(this.apiUrl+"/getAllBrandParentList",{mode:"query",data:{BID:Y}}).subscribe(_e=>{z.next(_e),z.unsubscribe()},_e=>{Q.status="error",Q.result=_e,z.next(Q),z.unsubscribe()}),z}getProductBrandLevel(Y){let Q={status:"error",result:""},z=new v.xQ;return this.http.post(this.apiUrl+"/getAllBrandLevelList",{mode:"query",data:{BID:Y}}).subscribe(_e=>{z.next(_e),z.unsubscribe()},_e=>{Q.status="error",Q.result=_e,z.next(Q),z.unsubscribe()}),z}getBrandTree(){this.getBrandTreeObservable=null;var Y=[];return this.getBrandTreeObservable=this.http.get(this.apiUrl+"/getProductGroupTree").pipe((0,e.U)(Q=>(this.getBrandTreeObservable=null,Y.push(Q),this._brandTree=Y,Y)),(0,ie.B)()),this.getBrandTreeObservable}getBrandTreeAsset(){this.getBrandTreeObservable=null;var Y=[];return this.getBrandTreeObservable=this.http.get(this.apiUrl+"/getAssetProductGroupTree").pipe((0,e.U)(Q=>(this.getBrandTreeObservable=null,Y.push(Q),this._brandTree=Y,Y)),(0,ie.B)()),this.getBrandTreeObservable}}return he.\u0275fac=function(Y){return new(Y||he)(pe.LFG(X.eN),pe.LFG(xe.e),pe.LFG(de.q))},he.\u0275prov=pe.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},71764:function(Oe){Oe.exports=function(){"use strict";var S=6e4,v=36e5,e="millisecond",ie="second",Z="minute",pe="hour",X="day",xe="week",de="month",vt="quarter",he="year",Ee="date",Y="Invalid Date",Q=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,z=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ve={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var D=["th","st","nd","rd"],R=w%100;return"["+w+(D[(R-20)%10]||D[R]||D[0])+"]"}},_e=function(w,D,R){var x=String(w);return!x||x.length>=D?w:""+Array(D+1-x.length).join(R)+w},fe={s:_e,z:function(w){var D=-w.utcOffset(),R=Math.abs(D),x=Math.floor(R/60),I=R%60;return(D<=0?"+":"-")+_e(x,2,"0")+":"+_e(I,2,"0")},m:function w(D,R){if(D.date()<R.date())return-w(R,D);var x=12*(R.year()-D.year())+(R.month()-D.month()),I=D.clone().add(x,de),W=R-I<0,V=D.clone().add(x+(W?-1:1),de);return+(-(x+(R-I)/(W?I-V:V-I))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:de,y:he,w:xe,d:X,D:Ee,h:pe,m:Z,s:ie,ms:e,Q:vt}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return void 0===w}},it="en",We={};We[it]=Ve;var Ut=function(w){return w instanceof bt},Ot=function w(D,R,x){var I;if(!D)return it;if("string"==typeof D){var W=D.toLowerCase();We[W]&&(I=W),R&&(We[W]=R,I=W);var V=D.split("-");if(!I&&V.length>1)return w(V[0])}else{var U=D.name;We[U]=D,I=U}return!x&&I&&(it=I),I||!x&&it},oe=function(w,D){if(Ut(w))return w.clone();var R="object"==typeof D?D:{};return R.date=w,R.args=arguments,new bt(R)},B=fe;B.l=Ot,B.i=Ut,B.w=function(w,D){return oe(w,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var bt=function(){function w(R){this.$L=Ot(R.locale,null,!0),this.parse(R)}var D=w.prototype;return D.parse=function(R){this.$d=function(x){var I=x.date,W=x.utc;if(null===I)return new Date(NaN);if(B.u(I))return new Date;if(I instanceof Date)return new Date(I);if("string"==typeof I&&!/Z$/i.test(I)){var V=I.match(Q);if(V){var U=V[2]-1||0,te=(V[7]||"0").substring(0,3);return W?new Date(Date.UTC(V[1],U,V[3]||1,V[4]||0,V[5]||0,V[6]||0,te)):new Date(V[1],U,V[3]||1,V[4]||0,V[5]||0,V[6]||0,te)}}return new Date(I)}(R),this.$x=R.x||{},this.init()},D.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},D.$utils=function(){return B},D.isValid=function(){return this.$d.toString()!==Y},D.isSame=function(R,x){var I=oe(R);return this.startOf(x)<=I&&I<=this.endOf(x)},D.isAfter=function(R,x){return oe(R)<this.startOf(x)},D.isBefore=function(R,x){return this.endOf(x)<oe(R)},D.$g=function(R,x,I){return B.u(R)?this[x]:this.set(I,R)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(R,x){var I=this,W=!!B.u(x)||x,V=B.p(R),U=function(Ye,ge){var Ie=B.w(I.$u?Date.UTC(I.$y,ge,Ye):new Date(I.$y,ge,Ye),I);return W?Ie:Ie.endOf(X)},te=function(Ye,ge){return B.w(I.toDate()[Ye].apply(I.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(ge)),I)},K=this.$W,se=this.$M,ye=this.$D,Me="set"+(this.$u?"UTC":"");switch(V){case he:return W?U(1,0):U(31,11);case de:return W?U(1,se):U(0,se+1);case xe:var ot=this.$locale().weekStart||0,nt=(K<ot?K+7:K)-ot;return U(W?ye-nt:ye+(6-nt),se);case X:case Ee:return te(Me+"Hours",0);case pe:return te(Me+"Minutes",1);case Z:return te(Me+"Seconds",2);case ie:return te(Me+"Milliseconds",3);default:return this.clone()}},D.endOf=function(R){return this.startOf(R,!1)},D.$set=function(R,x){var I,W=B.p(R),V="set"+(this.$u?"UTC":""),U=(I={},I[X]=V+"Date",I[Ee]=V+"Date",I[de]=V+"Month",I[he]=V+"FullYear",I[pe]=V+"Hours",I[Z]=V+"Minutes",I[ie]=V+"Seconds",I[e]=V+"Milliseconds",I)[W],te=W===X?this.$D+(x-this.$W):x;if(W===de||W===he){var K=this.clone().set(Ee,1);K.$d[U](te),K.init(),this.$d=K.set(Ee,Math.min(this.$D,K.daysInMonth())).$d}else U&&this.$d[U](te);return this.init(),this},D.set=function(R,x){return this.clone().$set(R,x)},D.get=function(R){return this[B.p(R)]()},D.add=function(R,x){var I,W=this;R=Number(R);var V=B.p(x),U=function(se){var ye=oe(W);return B.w(ye.date(ye.date()+Math.round(se*R)),W)};if(V===de)return this.set(de,this.$M+R);if(V===he)return this.set(he,this.$y+R);if(V===X)return U(1);if(V===xe)return U(7);var te=(I={},I[Z]=S,I[pe]=v,I[ie]=1e3,I)[V]||1,K=this.$d.getTime()+R*te;return B.w(K,this)},D.subtract=function(R,x){return this.add(-1*R,x)},D.format=function(R){var x=this,I=this.$locale();if(!this.isValid())return I.invalidDate||Y;var W=R||"YYYY-MM-DDTHH:mm:ssZ",V=B.z(this),U=this.$H,te=this.$m,K=this.$M,se=I.weekdays,ye=I.months,Me=function(ge,Ie,zt,Ct){return ge&&(ge[Ie]||ge(x,W))||zt[Ie].slice(0,Ct)},ot=function(ge){return B.s(U%12||12,ge,"0")},nt=I.meridiem||function(ge,Ie,zt){var Ct=ge<12?"AM":"PM";return zt?Ct.toLowerCase():Ct},Ye={YY:String(this.$y).slice(-2),YYYY:this.$y,M:K+1,MM:B.s(K+1,2,"0"),MMM:Me(I.monthsShort,K,ye,3),MMMM:Me(ye,K),D:this.$D,DD:B.s(this.$D,2,"0"),d:String(this.$W),dd:Me(I.weekdaysMin,this.$W,se,2),ddd:Me(I.weekdaysShort,this.$W,se,3),dddd:se[this.$W],H:String(U),HH:B.s(U,2,"0"),h:ot(1),hh:ot(2),a:nt(U,te,!0),A:nt(U,te,!1),m:String(te),mm:B.s(te,2,"0"),s:String(this.$s),ss:B.s(this.$s,2,"0"),SSS:B.s(this.$ms,3,"0"),Z:V};return W.replace(z,function(ge,Ie){return Ie||Ye[ge]||V.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(R,x,I){var W,V=B.p(x),U=oe(R),te=(U.utcOffset()-this.utcOffset())*S,K=this-U,se=B.m(this,U);return se=(W={},W[he]=se/12,W[de]=se,W[vt]=se/3,W[xe]=(K-te)/6048e5,W[X]=(K-te)/864e5,W[pe]=K/v,W[Z]=K/S,W[ie]=K/1e3,W)[V]||K,I?se:B.a(se)},D.daysInMonth=function(){return this.endOf(de).$D},D.$locale=function(){return We[this.$L]},D.locale=function(R,x){if(!R)return this.$L;var I=this.clone(),W=Ot(R,x,!0);return W&&(I.$L=W),I},D.clone=function(){return B.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},w}(),Fr=bt.prototype;return oe.prototype=Fr,[["$ms",e],["$s",ie],["$m",Z],["$H",pe],["$W",X],["$M",de],["$y",he],["$D",Ee]].forEach(function(w){Fr[w[1]]=function(D){return this.$g(D,w[0],w[1])}}),oe.extend=function(w,D){return w.$i||(w(D,bt,oe),w.$i=!0),oe},oe.locale=Ot,oe.isDayjs=Ut,oe.unix=function(w){return oe(1e3*w)},oe.en=We[it],oe.Ls=We,oe.p={},oe}()},37604:(Oe,J,S)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});var v=S(68599);J.Observable=v.Observable},71606:(Oe,J,S)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),function v(e){for(var ie in e)J.hasOwnProperty(ie)||(J[ie]=e[ie])}(S(37604))}}]);