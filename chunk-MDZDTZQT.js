import{a as Z}from"./chunk-P4TCX2ZY.js";import{$ as V,Y as w,Z as R,_ as c,aa as z,ba as B,ea as G,ga as j,ha as L,ia as H,ja as U,ka as q,la as $,ma as J,pa as K,ra as Q,sa as W,ta as y,ua as X,za as Y}from"./chunk-YAXADU3R.js";import{j as T,l as P}from"./chunk-7NLJT2D3.js";import"./chunk-XAZLOLJU.js";import{$a as s,Ab as S,Bb as v,Cb as e,Db as t,Eb as a,F as E,Fb as O,Gb as M,Jc as D,Lb as g,Lc as k,O as N,Pc as I,Vb as n,Wb as u,_a as m,bc as h,ka as f,pb as A,tb as p,xc as _,yb as b,z as F}from"./chunk-ZOAWYHVV.js";var C=class l{constructor(o){this.tableFetchService=o}menutableColumns=_(()=>[...this.tableFetchService.tableColumns(),{header:"ACTION",def:"ACTION"}]);menutableData=_(()=>this.tableFetchService.tableData());ngOnInit(){this.tableFetchService.getTableData("getAllAppSetting"),this.tableFetchService.selectedTab.set("app-setting-form")}static \u0275fac=function(r){return new(r||l)(s(y))};static \u0275cmp=f({type:l,selectors:[["app-app-setting-reg"]],standalone:!0,features:[h],decls:9,vars:4,consts:[[1,"container","mt-3"],[1,"heading","fw-bold","fs-5"],[1,"border-bottom","border-secondary"],[1,"container","d-flex","flex-column","flex-grow-1"],[1,"row"],[1,"col-md-6","mt-2","ms-auto"],[3,"columns","dataSource"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"h5",1),n(2,"App Setting Configuration"),t()(),a(3,"div",2),e(4,"div",3)(5,"div",4)(6,"div",5),a(7,"app-generic-filter",6),t()(),a(8,"app-generic-table",6),t()),r&2&&(m(7),p("columns",i.menutableColumns())("dataSource",i.menutableData()),m(),p("columns",i.menutableColumns())("dataSource",i.menutableData()))},dependencies:[Y,X]})};function ne(l,o){if(l&1&&(e(0,"tr"),O(1,55),e(2,"td"),a(3,"input",56),t(),e(4,"td"),a(5,"input",57),t(),M(),t()),l&2){let r=o.index;m(),p("formGroupName",r)}}function oe(l,o){if(l&1&&(e(0,"option",48),n(1),t()),l&2){let r=o.$implicit;p("value",r.ID),m(),u(r.Module)}}function re(l,o){if(l&1&&(e(0,"option",48),n(1),t()),l&2){let r=o.$implicit;p("value",r.ID),m(),u(r.Category)}}function ae(l,o){if(l&1&&(e(0,"option",48),n(1),t()),l&2){let r=o.$implicit;p("value",r.ID),m(),u(r.SubCategory)}}var x=class l{constructor(o,r,i,d,le,me,pe){this.tableFetchService=o;this.fb=r;this.apiService=i;this.route=d;this.router=le;this.location=me;this.snackBarService=pe}settingsForm=new B({});formHeading="App Setting Registration ";featureMapping;loading=!1;mode="add";appSettingData;category;module;subcategory;ngOnInit(){this.getData(),this.route.queryParams.subscribe(o=>{let r=o.mode,i=o.id;r&&i&&(r==="view"&&(this.mode="view"),r==="edit"&&(this.mode="edit"),this.getViewApi("getAppSettingByName",i))}),this.formInitializer()}formInitializer(){this.settingsForm=this.fb.group({mode:[this.mode],data:this.fb.group({settingName:[this.appSettingData?.SettingName||"",c.required],displayName:[this.appSettingData?.DisplayName||"",c.required],description:[this.appSettingData?.Description||"",c.required],dataType:[this.appSettingData?.DataType||"",c.required],dataSize:[this.appSettingData?.DataSize||""],options:this.fb.array([]),isUserConfigurable:[this.appSettingData?.isUserConfigurable||""],defaultValue:[this.appSettingData?.DefaultValue||"",c.required],disablingValue:[this.appSettingData?.DisablingValue||"",c.required],features_Header:[this.appSettingData?.Features_Header||""],features_HelpLink:[this.appSettingData?.Features_HelpLink||""],Category:[this.appSettingData?.Category||""],SubCategory:[this.appSettingData?.SubCategory||""],sn:[this.appSettingData?.SN||""]})}),this.addOption(),this.mode=="view"&&this.settingsForm.disable()}getData(){F({category:this.apiService.get("getCategory"),subCategory:this.apiService.get("getSubCategory"),module:this.apiService.get("getModule")}).subscribe(o=>{console.log(o),o.category?.result?.length>0&&(this.category=o.category.result),o.subCategory?.result?.length>0&&(this.subcategory=o.subCategory.result),o.module?.result?.length>0&&(this.module=o.module.result)})}get(o,r){this.apiService.get(o,r).subscribe(i=>{i?.result&&i.result.length>0&&(this.featureMapping=i.result,console.log("res",i.result))})}getViewApi(o,r){r={settingName:r},this.apiService.get(o,r).subscribe(i=>{i?.result&&i.result.length>0&&(this.appSettingData=i.result[0],this.formInitializer())})}addOption(){if(this.mode==="view"||this.mode==="edit")JSON.parse(this.appSettingData?.Options||"[]")?.forEach(r=>{let i=this.fb.group({key:[r?.Key||""],value:[r?.Value||""]});this.options.push(i)});else{let o=this.fb.group({key:[""],value:[""]});this.options.push(o)}}get options(){return this.settingsForm.get("data.options")}removeOption(o){this.options.removeAt(o)}fieldChange(){this.settingsForm.get("data")?.get("dataType")?.value==="List"?(this.options.enable(),this.settingsForm.get("data.dataSize")?.disable(),this.settingsForm.get("data.dataSize")?.reset()):(this.options.disable(),this.options.reset(),this.settingsForm.get("data.dataSize")?.enable())}submit(){let o=this.settingsForm.get("data")?.get("isUserConfigurable")?.value;this.settingsForm.get("data")?.get("isUserConfigurable")?.setValue(o?"true":"false");let r=this.settingsForm.getRawValue();this.settingsForm.valid&&this.apiService.post("saveAppSettig",r).pipe(N(()=>this.loading=!1)).pipe(E(i=>(this.snackBarService.showError("Error while saving App Setting Configuration!!"),i))).subscribe(i=>{console.log(i),this.router.navigate(["/app-setting-reg"]),this.snackBarService.showSuccess("App Setting Saved Successfully")})}goBack(){this.location.back()}static \u0275fac=function(r){return new(r||l)(s(y),s(K),s(W),s(T),s(P),s(D),s(Z))};static \u0275cmp=f({type:l,selectors:[["app-app-setting-reg-form"]],standalone:!0,features:[h],decls:137,vars:6,consts:[[1,"my-1","d-flex","justify-content-between","align-items-center"],[1,"col-md-6","px-0"],[1,"mb-0","heading"],[1,"pe-5","col-md-6","d-flex","justify-content-end"],["id","save",1,"btn","me-2","px-4",3,"click","disabled"],["id","back",1,"btn","px-4",3,"click"],[1,"border-bottom","mb-3"],[1,"container"],[3,"ngSubmit","formGroup"],[1,"container",3,"formGroupName"],[1,"row","mb-2"],[1,"col-12","col-md-2"],["for","mainMenu",1,"form-label"],[1,"star"],[1,"col-12","col-md-5"],["type","text","id","mainMenu","formControlName","settingName","autocomplete","off",1,"form-control","px-2","py-1"],["for","subMenu",1,"form-label"],[1,"col-12","col-md-6"],["type","text","id","mainMenu","formControlName","displayName",1,"form-control","px-2","py-1"],["for","parentMenu",1,"form-label"],["type","textarea","formControlName","description",1,"form-control","px-2","py-1"],["for","menuIndex",1,"form-label"],[1,"col-12","col-md-3"],["id","category","formControlName","dataType",1,"form-select","px-2","py-1",3,"change"],["value","Number"],["value","Boolean"],["value","List"],["value","Text"],[1,"col-12","col-md-auto","ps-2","pe-2"],["for","dataSize",1,"form-label"],["type","text","id","dataSize","formControlName","dataSize",1,"form-control","px-2","py-1"],["for","category",1,"form-label"],[1,"col-11","col-md-6"],[1,"option-table"],["formArrayName","options"],[4,"ngFor","ngForOf"],[1,"col-1","d-flex","flex-column","align-items-start","p-0"],["type","button",1,"dialog-button","mt-auto",3,"click","disabled"],["src","assets/images/addButton.png","alt","addicon"],["for","subCategory",1,"form-label"],[1,"col-11","col-md-3"],["type","text","id","Icon","formControlName","defaultValue",1,"form-control","px-2","py-1"],[1,"col-1","col-md-auto","ps-1","mt-1"],["type","checkbox","for","UserConfiguration","formControlName","isUserConfigurable"],[1,"col-1","col-md-4","p-0","mt-1"],["for","modules",1,"form-label"],["type","text","id","Icon","formControlName","disablingValue",1,"form-control","px-2","py-1"],["id","modules",1,"form-select","px-2","py-1"],[3,"value"],["id","modules","formControlName","Category",1,"form-select","px-2","py-1"],["id","modules","formControlName","SubCategory",1,"form-select","px-2","py-1"],["for","Icon",1,"form-label"],["type","text","id","Icon","formControlName","features_HelpLink",1,"form-control","px-2","py-1"],["type","text","id","Icon","formControlName","sn",1,"form-control","px-2","py-1"],[1,"footer","mb-1"],[3,"formGroupName"],["formControlName","key"],["formControlName","value"]],template:function(r,i){if(r&1&&(e(0,"div",0)(1,"div",1)(2,"h4",2),n(3),t()(),e(4,"div",3)(5,"button",4),g("click",function(){return i.submit()}),n(6,"SAVE"),t(),e(7,"button",5),g("click",function(){return i.goBack()}),n(8,"BACK"),t()()(),a(9,"div",6),e(10,"div",7)(11,"form",8),g("ngSubmit",function(){return i.submit()}),e(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12),n(16,"Setting Name:"),e(17,"span",13),n(18,"*"),t()()(),e(19,"div",14),a(20,"input",15),t()(),e(21,"div",10)(22,"div",11)(23,"label",16),n(24,"Display Names: "),e(25,"span",13),n(26,"*"),t()()(),e(27,"div",17),a(28,"input",18),t()(),e(29,"div",10)(30,"div",11)(31,"label",19),n(32,"Description: "),e(33,"span",13),n(34,"*"),t()()(),e(35,"div",17),a(36,"textarea",20),t()(),e(37,"div",10)(38,"div",11)(39,"label",21),n(40,"Value Type: "),e(41,"span",13),n(42,"*"),t()()(),e(43,"div",22)(44,"select",23),g("change",function(){return i.fieldChange()}),e(45,"option",24),n(46,"Number"),t(),e(47,"option",25),n(48,"Boolean"),t(),e(49,"option",26),n(50,"List"),t(),e(51,"option",27),n(52,"Text"),t()()(),e(53,"div",28)(54,"label",29),n(55,"Data Size: "),e(56,"span",13),n(57,"*"),t()()(),e(58,"div",11),a(59,"input",30),t()(),e(60,"div",10)(61,"div",11)(62,"label",31),n(63,"List Option:"),t()(),e(64,"div",32)(65,"table",33)(66,"thead")(67,"tr")(68,"th"),n(69,"Captions"),t(),e(70,"th"),n(71,"Values"),t()()(),e(72,"tbody",34),A(73,ne,6,1,"tr",35),t()()(),e(74,"div",36)(75,"button",37),g("click",function(){return i.addOption()}),a(76,"img",38),t()()(),e(77,"div",10)(78,"div",11)(79,"label",39),n(80,"Default Value: "),e(81,"span",13),n(82,"*"),t()()(),e(83,"div",40),a(84,"input",41),t(),e(85,"div",42),a(86,"input",43),t(),e(87,"div",44)(88,"label"),n(89," Is User Configuration Setting "),t()()(),e(90,"div",10)(91,"div",11)(92,"label",45),n(93,"Disabling Value"),e(94,"span",13),n(95,"*"),t()()(),e(96,"div",40),a(97,"input",46),t()(),e(98,"div",10)(99,"div",11)(100,"label",45),n(101,"Module"),e(102,"span",13),n(103,"*"),t()()(),e(104,"div",40)(105,"select",47),S(106,oe,2,2,"option",48,b),t()()(),e(108,"div",10)(109,"div",11)(110,"label",21),n(111,"Category: "),t()(),e(112,"div",22)(113,"select",49),S(114,re,2,2,"option",48,b),t()()(),e(116,"div",10)(117,"div",11)(118,"label",21),n(119,"Sub Category: "),t()(),e(120,"div",22)(121,"select",50),S(122,ae,2,2,"option",48,b),t()()(),e(124,"div",10)(125,"div",11)(126,"label",51),n(127,"Setting Header Tagging:"),t()(),e(128,"div",14),a(129,"input",52),t()(),e(130,"div",10)(131,"div",11)(132,"label",51),n(133,"Serial Number:"),t()(),e(134,"div",22),a(135,"input",53),t()()()()(),a(136,"footer",54)),r&2){let d;m(3),u(i.formHeading),m(2),p("disabled",i.mode==="view"),m(6),p("formGroup",i.settingsForm),m(),p("formGroupName","data"),m(61),p("ngForOf",i.options.controls),m(2),p("disabled",(d=i.settingsForm.get("data.options"))==null?null:d.disabled),m(31),v(i.module),m(8),v(i.category),m(8),v(i.subcategory)}},dependencies:[I,k,Q,G,$,J,R,w,q,V,z,j,U,L,H],styles:["h4[_ngcontent-%COMP%]{font-size:20px;font-weight:500}label[_ngcontent-%COMP%], input[type=select][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500}input[type=checkbox][_ngcontent-%COMP%]{line-height:normal;width:20px;height:20px}.heading[_ngcontent-%COMP%]{margin-left:8rem}.star[_ngcontent-%COMP%]{color:red}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff40;box-shadow:0 0 0 .1rem #007bff40}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:14px}#save[_ngcontent-%COMP%]{background-color:#336799;color:#fff;font-size:14px}#back[_ngcontent-%COMP%]{color:#336799;border:1px solid rgba(51,103,153,1);font-size:14px}#back[_ngcontent-%COMP%]:hover, #save[_ngcontent-%COMP%]:hover{background-color:#336899ac;color:#fff;border:none}.dialog-button[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:none}#save[_ngcontent-%COMP%]{background-color:#4081bf;color:#fff;font-size:14px;font-weight:200}#close[_ngcontent-%COMP%]{border:1px solid rgba(64,129,191,1);color:#4081bf;font-size:14px;font-weight:200}.search-button[_ngcontent-%COMP%]{background-color:#3581ca;border:none;border-radius:2px;padding:2px 8px 0;cursor:pointer;box-shadow:2px 2px 4px #717171}.option-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid rgba(22,22,22,.211)}thead[_ngcontent-%COMP%]{background-color:#b9b9b97a}.option-table[_ngcontent-%COMP%]{width:100%}.option-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none}.option-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-size:medium;font-weight:500}"]})};var ke=[{path:"",component:C},{path:"app-setting-form",component:x}];export{ke as AppSetting_routes};
