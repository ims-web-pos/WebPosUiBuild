"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[9944],{82661:(b,y,o)=>{o.d(y,{C:()=>r});var t=o(26215),n=o(53181),i=o(66274),O=o(92752);let S=(()=>{class a{constructor(l,h){this.dialogref=l,this.data=h,this.heading="Information",this.heading=h.header,this.message$=h.message}authResult(l){this.dialogref.close(l)}}return a.\u0275fac=function(l){return new(l||a)(i.Y36(n.so),i.Y36(n.WI))},a.\u0275cmp=i.Xpm({type:a,selectors:[["result-dialog"]],decls:11,vars:4,consts:[[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header","custom-modal-header"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[2,"display","inline-block"]],template:function(l,h){1&l&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),i._uU(4),i.qZA(),i.TgZ(5,"div",4),i.NdJ("click",function(){return h.authResult(!0)}),i._uU(6,"\xd7"),i.qZA()(),i.TgZ(7,"div",5),i._UZ(8,"div",6),i._uU(9),i.ALo(10,"async"),i.qZA()()()),2&l&&(i.xp6(4),i.Oqu(h.heading),i.xp6(5),i.hij(" ",i.lcZ(10,2,h.message$)," "))},dependencies:[O.Ov],encapsulation:2}),a})();var g=o(67297),T=o(53074),c=o(14970),e=o(48083),v=o(67311);function L(a,s){1&a&&(i.TgZ(0,"h4",5),i._uU(1,"Your Fiscal Year is Changed. Year End Process will generate new sequence for transaction. Would you like to start Inventry year Ending Process ? "),i.qZA())}function E(a,s){1&a&&(i.TgZ(0,"h4",5),i._uU(1,"Your Fiscal Year is Changed.Please do year end process from Online portal and sync the transaction.If you want do back date Sales invoice Click Ok to continue.Thank you... "),i.qZA())}function P(a,s){if(1&a){const l=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){i.CHM(l);const M=i.oxw();return i.KtG(M.YesClick())}),i._uU(1,"Yes"),i.qZA()}}function f(a,s){if(1&a){const l=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){i.CHM(l);const M=i.oxw();return i.KtG(M.NoClick())}),i._uU(1,"No"),i.qZA()}}function _(a,s){if(1&a){const l=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){i.CHM(l);const M=i.oxw();return i.KtG(M.offlinelineOK())}),i._uU(1,"OK"),i.qZA()}}let d=(()=>{class a{constructor(l,h,M,U,Z,I){this.dialogref=l,this.authSerice=h,this.masterService=M,this.spinnerService=U,this.router=Z,this.alertService=I}YesClick(){1!==this.masterService.userSetting.ENABLEOFFLINESALE&&(this.spinnerService.show("Processing...Please Wait..."),this.masterService.masterGetmethod("/yearEndingInventory").subscribe(l=>{"ok"===l.status?(this.authSerice.setSessionVariable("isIYE",1),this.dialogref.close(),this.alertService.success("The year end for inventory are done successfully..."),setTimeout(()=>{console.log("from logout"),this.router.navigate(["login",{logout:"logout"}]).then(()=>{window.location.reload()})},5e3)):(this.spinnerService.hide(),alert(l.result.error))},l=>{this.spinnerService.hide(),alert(JSON.parse(l._body))}))}NoClick(){this.authSerice.setSessionVariable("isIYE",2),this.dialogref.close()}offlinelineOK(){this.authSerice.setSessionVariable("isIYE",2),this.dialogref.close()}}return a.\u0275fac=function(l){return new(l||a)(i.Y36(n.so),i.Y36(g.e),i.Y36(T.P),i.Y36(c.V),i.Y36(e.F0),i.Y36(v.c))},a.\u0275cmp=i.Xpm({type:a,selectors:[["inventry-yearend-dialog"]],decls:8,vars:5,consts:[[1,"modal-content","modal-content-main-area",2,"width","100%"],[1,"modal-header"],["class","modal-title","id","myModalLabel",4,"ngIf"],[1,"modal-body"],["class","btn btn-info",3,"click",4,"ngIf"],["id","myModalLabel",1,"modal-title"],[1,"btn","btn-info",3,"click"]],template:function(l,h){1&l&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,L,2,0,"h4",2),i.YNc(3,E,2,0,"h4",2),i.qZA(),i.TgZ(4,"div",3),i.YNc(5,P,2,0,"button",4),i.YNc(6,f,2,0,"button",4),i.YNc(7,_,2,0,"button",4),i.qZA()()),2&l&&(i.xp6(2),i.Q6J("ngIf",1!=h.masterService.userSetting.ENABLEOFFLINESALE),i.xp6(1),i.Q6J("ngIf",1==h.masterService.userSetting.ENABLEOFFLINESALE),i.xp6(2),i.Q6J("ngIf",1!=h.masterService.userSetting.ENABLEOFFLINESALE),i.xp6(1),i.Q6J("ngIf",1!=h.masterService.userSetting.ENABLEOFFLINESALE),i.xp6(1),i.Q6J("ngIf",1==h.masterService.userSetting.ENABLEOFFLINESALE))},dependencies:[O.O5],styles:[".md-dialog-container[_ngcontent-%COMP%]{height:auto!important;width:auto!important;overflow:hidden!important;box-shadow:0!important}.mat-dialog-container[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important;margin-left:auto;margin-right:auto;overflow:hidden!important;height:350px!important}.auth-main[_ngcontent-%COMP%]{position:inherit!important;display:inherit!important}.cdk-overlay-pane[_ngcontent-%COMP%], .md-overlay-pane[_ngcontent-%COMP%]{height:auto!important}.cdk-overlay-pane[_ngcontent-%COMP%], .md-overlay-pane[_ngcontent-%COMP%]{flex:1 1 0}"]}),a})();var u=o(71180);let r=(()=>{class a{constructor(l,h,M,U,Z){this.gblstate=l,this._authService=h,this.masterService=M,this.router=U,this.dialog=Z,this.viewPermission=[],this.userSetting={},this.enableFiscalYearEnd=!1,this.viewPermission=l.getGlobalSetting("View-Permission")||[],this.userSetting=this.masterService.userSetting}canActivate(l,h){const M=new t.X(""),U=M.asObservable(),Z=this._authService.getAuth();let I="";null!=l.url[0]&&(I=l.url[0].path),console.log("path",I);let R=l.params.mode;if(void 0===R&&(R="list"),!Z||!Z.profile){M.next("Your session has expired. You have been logged out of your account in another tab. Please log in again to continue.");const B=this.dialog.open(S,{hasBackdrop:!0,data:{header:"Information",message:U}});return setTimeout(()=>{B.close()},1e4),!1}if(this.masterService.checkUserValid().subscribe(Y=>{if(!1===Y){M.next("Your session has expired. You have been logged out of your account in another tab. Please log in again to continue.");const W=this.dialog.open(S,{hasBackdrop:!0,data:{header:"Information",message:U}});return setTimeout(()=>(W.close(),!1),1e4),!1}}),0===this._authService.getSessionVariable("isIYE")&&(this.dialog.closeAll(),this.dialog.open(d,{hasBackdrop:!0,data:{header:"Information",message:""}}),"dashboard"!==I))return!1;if(Z&&Z.profile&&"dashboard"===I||"SYSTEMUSER"===this._authService?.getUserProfile()?.username.toUpperCase()&&("division"==I||"payment-mode-master"==I||"sales-terminal"==I||"warehouse"==I))return!0;("adduser"==I&&"role"==R||"adduser"==I&&"user"==R)&&(R="add"),"adduser"==I&&"editRole"==R&&(R="edit");const k=this._authService.getMenuRight(I,R);return I?!0===k.right||"list"===R&&!0===k.list:!0===k.list||void 0}}return a.\u0275fac=function(l){return new(l||a)(i.LFG(u.q),i.LFG(g.e),i.LFG(T.P),i.LFG(e.F0),i.LFG(n.uw))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},49137:(b,y,o)=>{o.d(y,{C:()=>n});var t=o(66274);let n=(()=>{class i{transform(S,g,T){if(S)return g?S.filter(c=>{let e=c[T];const v=g.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(e?e.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(v))return c}):S}}return i.\u0275fac=function(S){return new(S||i)},i.\u0275pipe=t.Yjl({name:"searchData",type:i,pure:!1}),i})()},55618:(b,y,o)=>{o.d(y,{c:()=>L});var t=o(92752),n=o(71800),i=o(72533),O=o(18488),S=o(53074),g=o(7587),T=o(47766),c=o(66274);let e=(()=>{class E{static forRoot(){return{ngModule:E}}}return E.\u0275fac=function(f){return new(f||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({imports:[t.ez,g.u5,g.UX,i.JX]}),E})();var v=o(48496);let L=(()=>{class E{static forRoot(){return{ngModule:E,providers:[S.P,O.G]}}}return E.\u0275fac=function(f){return new(f||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({imports:[t.ez,n.zk.forRoot(),i.JX,t.ez,g.u5,g.UX,T.e,e.forRoot(),v.z.forRoot()]}),E})()},18488:(b,y,o)=>{o.d(y,{G:()=>T});var t=o(76165),n=o(79765),i=o(66274),O=o(48083),S=o(67297),g=o(71180);let T=(()=>{class c{constructor(v,L,E,P){this.http=v,this.activatedRoute=L,this.authService=E,this.state=P;const f=this.state.getGlobalSetting("apiUrl");f&&f.length>0&&(this.apiUrl=f)}getRequestOption(){return new t.WM({"Content-type":"application/csv",Authorization:this.authService.getAuth().token,"X-Requested-With":"XMLHttpRequest"})}RequestOptionForCSV(){return{headers:new t.WM({Authorization:this.authService.getAuth().token})}}downloadSampleFile(v,L="download"){return this.http.get(this.apiUrl+`${v}`,{headers:this.getRequestOption(),responseType:"blob"})}downloadSampleExcelforPIImport(v){return this.http.post(this.apiUrl+"/downloadSampleExcelforPIImport",v,{responseType:"blob"})}cancelPhysicalStock(v){return this.http.post(`${this.apiUrl}/physicalStockCancel/${v}`,null)}importSelectedFiles(v,L){let E={status:"error",result:"error"},P=new n.xQ;return this.http.post(this.apiUrl+`${v}`,L).subscribe(f=>{P.next(f),P.unsubscribe()},f=>{E.status="error",E.result=f,P.next(E),P.unsubscribe()}),P}}return c.\u0275fac=function(v){return new(v||c)(i.LFG(t.eN),i.LFG(O.gz),i.LFG(S.e),i.LFG(g.q))},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac}),c})()},48496:(b,y,o)=>{o.d(y,{z:()=>T});var t=o(92752),n=o(71800),i=o(72533),O=o(88146),S=o(7587),g=o(66274);let T=(()=>{class c{static forRoot(){return{ngModule:c}}}return c.\u0275fac=function(v){return new(v||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({imports:[t.ez,n.zk.forRoot(),i.JX,O.Cl,S.u5]}),c})()},77879:(b,y,o)=>{o.d(y,{H:()=>i});var t=o(66274),n=o(53074);let i=(()=>{class O{constructor(g){this.masterRepo=g}ngOnInit(){}isOldFYearDB(){return 1===this.masterRepo.userSetting.IsOldFyearDB}}return O.\u0275fac=function(g){return new(g||O)(t.Y36(n.P))},O.\u0275dir=t.lG2({type:O,selectors:[["","appOldFYearDB",""]],exportAs:["appOldFYearDB"]}),O})()},85245:(b,y,o)=>{o.d(y,{U:()=>_});var t=o(66274),n=o(48083),i=o(67311),O=o(6936),S=o(87584),g=o(92752),T=o(7587),c=o(72533),e=o(49137);function v(d,u){if(1&d){const r=t.EpF();t.TgZ(0,"tr")(1,"td",20),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t._uU(4),t.qZA(),t.TgZ(5,"td",22)(6,"button",23),t.NdJ("click",function(){const l=t.CHM(r).$implicit,h=t.oxw(2);return t.KtG(h.onViewClicked(l))}),t._uU(7," View"),t.qZA(),t.TgZ(8,"a",24),t.NdJ("click",function(){const l=t.CHM(r).$implicit,h=t.oxw(2);return t.KtG(h.onEditClicked(l))}),t._uU(9,"Edit"),t.qZA(),t.TgZ(10,"button",23),t.NdJ("click",function(){const l=t.CHM(r).$implicit,h=t.oxw(2);return t.KtG(h.deleteCustomer(l))}),t._uU(11," Delete"),t.qZA()()()}if(2&d){const r=u.$implicit,a=u.index;t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(r.PAYMENTMODENAME)}}const L=function(d,u,r){return{itemsPerPage:d,currentPage:u,totalItems:r}};function E(d,u){if(1&d&&(t.ynx(0),t.YNc(1,v,12,2,"tr",19),t.ALo(2,"paginate"),t.ALo(3,"searchData"),t.BQk()),2&d){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,t.Dn7(3,4,r.paymentModeLists,r.filter,"PAYMENTMODENAME"),t.kEZ(8,L,r.itemsPerPage,r.currentPage,r.totalCount)))}}function P(d,u){1&d&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",25)(3,"div",26),t._uU(4,"Payment Mode Information are unavailable."),t.qZA()()(),t.BQk())}function f(d,u){if(1&d){const r=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"pagination-controls",30),t.NdJ("pageChange",function(s){t.CHM(r);const l=t.oxw();return t.KtG(l.paymentModePagination(s))}),t.qZA()()()()}if(2&d){const r=t.oxw();t.xp6(3),t.Q6J("directionLinks",r.directionLinks)}}let _=(()=>{class d{constructor(r,a,s,l){this.router=r,this.alertService=a,this.paymentModeService=s,this.transactionService=l,this.paymentModeLists=[],this.isLoader=!0,this.currentPage=1,this.itemsPerPage=20,this.offset=0,this.directionLinks=!0}updown(r){"Escape"===r.code&&(r.preventDefault(),this.router.navigate(["./pages/dashboard"]))}ngOnInit(){this.paymentModeService.getPaymentModesList().subscribe(r=>{r?(this.isLoader=!1,this.paymentModeLists=r||[]):(this.isLoader=!1,this.paymentModeLists=[],this.errorMessage="Something went wrong.")},r=>{this.isLoader=!1,this.paymentModeLists=[],this.errorMessage="Something went wrong."})}onViewClicked(r){this.transactionService.paymentmodeVoucherType="view";try{this.router.navigate(["./pages/masters/payment-mode-master/add-payment-mode",{name:r.PAYMENTMODENAME,mode:this.transactionService.paymentmodeVoucherType,returnUrl:this.router.url}])}catch(a){this.alertService.error(a)}}onEditClicked(r){this.transactionService.paymentmodeVoucherType="edit";try{this.router.navigate(["./pages/masters/payment-mode-master/add-payment-mode",{name:r.PAYMENTMODENAME,mode:this.transactionService.paymentmodeVoucherType,returnUrl:this.router.url}])}catch(a){this.alertService.error(a)}}deleteCustomer(r){confirm("Are you sure you want to delete "+r.PAYMENTMODENAME+" ?")&&this.paymentModeService.deletePaymentMode(r.PAYMENTMODENAME).subscribe(a=>{"ok"==a.status?(this.alertService.info(a.result),this.paymentModeService.getPaymentModesList().subscribe(s=>{s?(this.isLoader=!1,this.paymentModeLists=s||[]):(this.isLoader=!1,this.paymentModeLists=[],this.errorMessage="Something went wrong.")})):this.alertService.error(a.result.error)},a=>{this.alertService.error(a.error)})}paymentModePagination(r){this.isLoader=!0,this.currentPage=r;const a=this;window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{a.isLoader=!1},500)}addPaymentMode(){this.transactionService.paymentmodeVoucherType="new";try{this.router.navigate(["./pages/masters/payment-mode-master/add-payment-mode",{mode:this.transactionService.paymentmodeVoucherType,returnUrl:this.router.url}])}catch(r){this.alertService.error(r)}}}return d.\u0275fac=function(r){return new(r||d)(t.Y36(n.F0),t.Y36(i.c),t.Y36(O.a),t.Y36(S.p))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-payment-mode-list"]],hostBindings:function(r,a){1&r&&t.NdJ("keydown",function(l){return a.updown(l)},!1,t.evT)},decls:33,vars:12,consts:[[1,"row","col-md-12"],[1,"col-md-4"],[1,"col-md-8"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"row",2,"align-items","center"],[1,"col-md-12","col-sm-8",2,"margin-top","0.5rem"],[1,"card",2,"margin","auto","width","63rem"],[1,"card-header"],[2,"width","25%"],["type","search","placeholder","Search...","name","filter","autocomplete","off",1,"form-control",2,"height","1.5rem","font-size","13px",3,"ngModel","ngModelChange"],[1,"card-body"],[1,"table","table-striped"],[2,"position","sticky","top","0","line-height","1.5rem"],["scope","col",2,"width","3%"],["scope","col",2,"width","18%"],["scope","col",2,"text-align","center","width","18%"],[4,"ngIf"],["class","card-footer","style","padding:5px",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"width","3%"],[2,"width","18%"],[2,"width","18%","text-align","center"],["type","button","data-toggle","modal",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px",3,"click"],[1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","color","white",3,"click"],["colspan","7"],[1,"font-weight-bold"],[1,"card-footer",2,"padding","5px"],[1,"pagination"],[2,"margin","auto"],[1,"my-pagination",3,"directionLinks","pageChange"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5"),t._uU(3,"Payment Mode Master"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6,"Back"),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return a.addPaymentMode()}),t._uU(8,"Add Payment Mode"),t.qZA()()(),t.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"span"),t._uU(14,"Payment Mode Lists"),t.qZA(),t.TgZ(15,"div",9)(16,"input",10),t.NdJ("ngModelChange",function(l){return a.filter=l}),t.qZA()()(),t.TgZ(17,"div",11)(18,"table",12)(19,"thead")(20,"tr",13)(21,"th",14),t._uU(22,"S.N"),t.qZA(),t.TgZ(23,"th",15),t._uU(24,"Payment Mode Name"),t.qZA(),t.TgZ(25,"th",16),t._uU(26,"Action"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,E,4,12,"ng-container",17),t.YNc(29,P,5,0,"ng-container",17),t.ALo(30,"searchData"),t.qZA()()(),t.YNc(31,f,4,1,"div",18),t.ALo(32,"searchData"),t.qZA()()()),2&r&&(t.xp6(16),t.Q6J("ngModel",a.filter),t.xp6(12),t.Q6J("ngIf",a.paymentModeLists&&a.paymentModeLists.length>0),t.xp6(1),t.Q6J("ngIf",a.paymentModeLists&&0===t.Dn7(30,4,a.paymentModeLists,a.filter,"PAYMENTMODENAME").length),t.xp6(2),t.Q6J("ngIf",a.paymentModeLists&&t.Dn7(32,8,a.paymentModeLists,a.filter,"PAYMENTMODENAME").length>a.itemsPerPage))},dependencies:[g.sg,g.O5,n.rH,T.Fj,T.JJ,T.On,c.LS,c._s,e.C],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]:after{display:none}.card-body[_ngcontent-%COMP%]{padding:5px!important;max-height:675px!important}.card-footer[_ngcontent-%COMP%]{height:6vh}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;height:59vh;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}th[_ngcontent-%COMP%]{font-size:15px}td[_ngcontent-%COMP%]{font-size:13px}.btn-sm[_ngcontent-%COMP%]{line-height:3px}.card-header[_ngcontent-%COMP%]{padding:10px 20px}.searchBy[_ngcontent-%COMP%]{font-size:13px;margin-left:18rem}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#17a2b8!important;border:transparent!important;border-radius:20px!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover{background:#74d4e2!important;border-radius:20px!important;border:transparent!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#c2c2c2;border-radius:20px!important}"]}),d})()},6936:(b,y,o)=>{o.d(y,{a:()=>S});var t=o(66274),n=o(76165),i=o(67297),O=o(71180);let S=(()=>{class g{constructor(c,e,v){this.http=c,this.authService=e,this.state=v;const L=this.state.getGlobalSetting("apiUrl");L&&L.length>0&&(this.apiUrl=L)}savePaymentMode(c,e){let v={mode:e,data:c};return console.log("datanew",v),this.http.post(this.apiUrl+"/savePaymentModes",v)}getPaymentModesList(){return this.http.get(this.apiUrl+"/getPaymentModesList")}getPaymentModeDetails(c){return this.http.get(`${this.apiUrl}/getPaymentModeDetails?paymentModeName=${c}`)}deletePaymentMode(c){return this.http.get(`${this.apiUrl}/deletePaymentModes?paymentModeName=${c}`)}getACIDList(){return this.http.get(`${this.apiUrl}/getAccountPagedListByMapId/Master/Payment Mode Master`)}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(n.eN),t.LFG(i.e),t.LFG(O.q))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac}),g})()},82716:(b,y,o)=>{o.d(y,{p:()=>E});var t=o(66274),n=o(48083),i=o(67311),O=o(30013),S=o(14970),g=o(53074),T=o(92752),c=o(7587),e=o(56707);let v=(()=>{class P{transform(_,d){if(_)return d?_.filter(u=>{const r=d.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(u.INITIAL?u.INITIAL.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(r))return u}):_}}return P.\u0275fac=function(_){return new(_||P)},P.\u0275pipe=t.Yjl({name:"searchData",type:P,pure:!1}),P})();function L(P,f){if(1&P){const _=t.EpF();t.TgZ(0,"tr")(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td",22),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.qZA(),t.TgZ(7,"td",24),t._uU(8),t.qZA(),t.TgZ(9,"td",25),t._uU(10),t.qZA(),t.TgZ(11,"td",25),t._uU(12),t.qZA(),t.TgZ(13,"td",25),t._uU(14),t.qZA(),t.TgZ(15,"td",25),t._uU(16),t.qZA(),t.TgZ(17,"td",26)(18,"button",27),t.NdJ("click",function(){const r=t.CHM(_).$implicit,a=t.oxw();return t.KtG(a.onView(r))}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"a",28),t.NdJ("click",function(){const r=t.CHM(_).$implicit,a=t.oxw();return t.KtG(a.onEdit(r))}),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"button",27),t.NdJ("click",function(){const r=t.CHM(_).$implicit,a=t.oxw();return t.KtG(a.onDelete(r))}),t._uU(25),t.ALo(26,"translate"),t.qZA()()()}if(2&P){const _=f.$implicit,d=f.index;t.xp6(2),t.Oqu(d+1),t.xp6(2),t.Oqu(_.INITIAL),t.xp6(2),t.Oqu(_.NAME),t.xp6(2),t.Oqu(_.ADDRESS2),t.xp6(2),t.Oqu(_.REMARKS),t.xp6(2),t.Oqu(_.ACNAME),t.xp6(2),t.Oqu(_.RateGroup_Name),t.xp6(2),t.Oqu(_.COSTCENTER),t.xp6(3),t.hij(" ",t.lcZ(20,11,"DIVISION_MASTER.table_data.view")," "),t.xp6(3),t.Oqu(t.lcZ(23,13,"DIVISION_MASTER.table_data.edit")),t.xp6(3),t.hij(" ",t.lcZ(26,15,"DIVISION_MASTER.table_data.delete")," ")}}let E=(()=>{class P{constructor(_,d,u,r,a){this.router=_,this.alertService=d,this.divisionService=u,this.spinnerService=r,this.masterService=a,this.spinnerService.show("Loading data...."),this.divisionService.getDivisionData().subscribe(s=>{s&&(this.spinnerService.hide(),this.divData=s.result)},s=>{this.alertService.error(s.error),this.spinnerService.hide()})}ngOnInit(){}onView(_){try{this.router.navigate(["./pages/masters/division/add-division",{name:_.INITIAL,mode:"view",returnUrl:this.router.url}])}catch(d){this.alertService.info(d)}}onEdit(_){this.masterService.checkUserRights("edit","division")&&this.router.navigate(["./pages/masters/division/add-division",{name:_.INITIAL,mode:"edit",returnUrl:this.router.url}])}onDelete(_){this.masterService.checkUserRights("delete","division")&&confirm("Are you sure you want to delete "+_.NAME+" ?")&&this.divisionService.deleteDivisionMaster(_.INITIAL).subscribe(d=>{"ok"==d.status&&this.divisionService.getDivisionData().subscribe(u=>{u&&(this.divData=u.result?u.result:[])})})}addDivision(){if(this.masterService.checkUserRights("add","division"))try{this.router.navigate(["./pages/masters/division/add-division",{mode:"add",returnUrl:this.router.url}])}catch(_){this.alertService.info(_)}}}return P.\u0275fac=function(_){return new(_||P)(t.Y36(n.F0),t.Y36(i.c),t.Y36(O.E),t.Y36(S.V),t.Y36(g.P))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-division-list"]],decls:51,vars:32,consts:[[1,"row","col-md-12"],[1,"col-md-4"],[1,"col-md-8"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"row",2,"align-items","center"],[1,"col-md-12","col-sm-8",2,"margin-top","0.5rem"],[1,"card",2,"margin","auto","width","88%"],[1,"card-header"],[2,"width","25%"],["type","search","placeholder","Search by Initial...","name","searchByInitial",1,"form-control",2,"height","1.5rem","font-size","13px",3,"ngModel","ngModelChange"],[1,"card-body"],[1,"table","table-striped"],[2,"position","sticky","top","0","line-height","1.5rem"],["scope","col",2,"width","3%"],["scope","col",2,"width","6%"],["scope","col",2,"width","18%"],["scope","col",2,"width","8%"],["scope","col",2,"width","13%"],["scope","col",2,"text-align","center","width","19%"],[4,"ngFor","ngForOf"],[2,"width","3%"],[2,"width","6%"],[2,"width","18%"],[2,"width","8%"],[2,"width","13%"],[2,"width","19%","text-align","center"],["type","button","data-toggle","modal",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px",3,"click"],[1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","color","white",3,"click"]],template:function(_,d){1&_&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",2)(6,"button",3),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return d.addDivision()}),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"span"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",9)(20,"input",10),t.NdJ("ngModelChange",function(r){return d.searchByInitial=r}),t.qZA()()(),t.TgZ(21,"div",11)(22,"table",12)(23,"thead")(24,"tr",13)(25,"th",14),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",15),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",16),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th",17),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th",18),t._uU(38,"Remarks"),t.qZA(),t.TgZ(39,"th",18),t._uU(40,"Branch Account"),t.qZA(),t.TgZ(41,"th",18),t._uU(42,"Rate Group List"),t.qZA(),t.TgZ(43,"th",18),t._uU(44,"Cost Center"),t.qZA(),t.TgZ(45,"th",19),t._uU(46),t.ALo(47,"translate"),t.qZA()()(),t.TgZ(48,"tbody"),t.YNc(49,L,27,17,"tr",20),t.ALo(50,"searchData"),t.qZA()()()()()()),2&_&&(t.xp6(3),t.Oqu(t.lcZ(4,11,"DIVISION_MASTER.title")),t.xp6(4),t.hij(" ",t.lcZ(8,13,"DIVISION_MASTER.button.back")," "),t.xp6(3),t.hij(" ",t.lcZ(11,15,"DIVISION_MASTER.button.add")," "),t.xp6(7),t.Oqu(t.lcZ(18,17,"DIVISION_MASTER.table_heading")),t.xp6(3),t.Q6J("ngModel",d.searchByInitial),t.xp6(6),t.Oqu(t.lcZ(27,19,"DIVISION_MASTER.table_data.sn")),t.xp6(3),t.Oqu(t.lcZ(30,21,"DIVISION_MASTER.table_data.initial")),t.xp6(3),t.Oqu(t.lcZ(33,23,"DIVISION_MASTER.table_data.name")),t.xp6(3),t.Oqu(t.lcZ(36,25,"DIVISION_MASTER.table_data.address")),t.xp6(11),t.Oqu(t.lcZ(47,27,"DIVISION_MASTER.table_data.action")),t.xp6(3),t.Q6J("ngForOf",t.xi3(50,29,d.divData,d.searchByInitial)))},dependencies:[T.sg,n.rH,c.Fj,c.JJ,c.On,e.X$,v],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]:after{display:none}.card-body[_ngcontent-%COMP%]{padding:5px!important;max-height:675px!important}.card-footer[_ngcontent-%COMP%]{height:6vh}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;height:59vh;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}th[_ngcontent-%COMP%]{font-size:15px}td[_ngcontent-%COMP%]{font-size:13px}.btn-sm[_ngcontent-%COMP%]{line-height:3px}.card-header[_ngcontent-%COMP%]{padding:10px 20px}.searchBy[_ngcontent-%COMP%]{font-size:13px;margin-left:18rem}"]}),P})()},30013:(b,y,o)=>{o.d(y,{E:()=>S});var t=o(66274),n=o(76165),i=o(67297),O=o(71180);let S=(()=>{class g{constructor(c,e,v){this.http=c,this.authService=e,this.state=v;const L=this.state.getGlobalSetting("apiUrl");L&&L.length>0&&(this.apiUrl=L)}getDivisionData(){return this.http.get(this.apiUrl+"/getDivisionMasterList")}getDivisionDataByInitial(c){return this.http.get(this.apiUrl+`/getDivisionDetails?initial=${c}`)}getAllRateGroupList(){return this.http.get(this.apiUrl+"/getAllRateGroupList")}saveDivisionMaster(c,e){return this.http.post(this.apiUrl+"/saveDivisionMaster",{mode:e,data:c})}deleteDivisionMaster(c){return this.http.post(this.apiUrl+"/deleteDivisionMaster",{INITIAL:c})}getAllCostCenterList(){return this.http.get(this.apiUrl+"/getAllCostCenterList")}getMainDivision(){return this.http.get(this.apiUrl+"/getMainDivision")}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(n.eN),t.LFG(i.e),t.LFG(O.q))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},24375:(b,y,o)=>{o.d(y,{N:()=>P});var t=o(66274),n=o(48083),i=o(67311),O=o(14970),S=o(33933),g=o(53074),T=o(92752),c=o(7587);let e=(()=>{class f{transform(d,u){if(d)return u?d.filter(r=>{const a=u.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(r.INITIAL?r.INITIAL.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(a))return r}):d}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275pipe=t.Yjl({name:"searchData",type:f,pure:!0}),f})();function v(f,_){1&f&&(t.ynx(0),t._uU(1," Yes "),t.BQk())}function L(f,_){1&f&&(t.ynx(0),t._uU(1," No "),t.BQk())}function E(f,_){if(1&f){const d=t.EpF();t.TgZ(0,"tr")(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td",22),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.qZA(),t.TgZ(7,"td",24),t._uU(8),t.qZA(),t.TgZ(9,"td",24),t._uU(10),t.qZA(),t.TgZ(11,"td",25),t._uU(12),t.qZA(),t.TgZ(13,"td",25),t._uU(14),t.qZA(),t.TgZ(15,"td",24),t.YNc(16,v,2,0,"ng-container",26),t.YNc(17,L,2,0,"ng-container",26),t.qZA(),t.TgZ(18,"td",27)(19,"button",28),t.NdJ("click",function(){const a=t.CHM(d).$implicit,s=t.oxw();return t.KtG(s.onView(a))}),t._uU(20," View"),t.qZA(),t.TgZ(21,"a",29),t.NdJ("click",function(){const a=t.CHM(d).$implicit,s=t.oxw();return t.KtG(s.onEdit(a))}),t._uU(22,"Edit"),t.qZA(),t.TgZ(23,"button",28),t.NdJ("click",function(){const a=t.CHM(d).$implicit,s=t.oxw();return t.KtG(s.onDelete(a))}),t._uU(24," Delete"),t.qZA()()()}if(2&f){const d=_.$implicit,u=_.index;t.xp6(2),t.Oqu(u+1),t.xp6(2),t.Oqu(d.INITIAL),t.xp6(2),t.Oqu(d.NAME),t.xp6(2),t.Oqu(d.DIVISIONNAME),t.xp6(2),t.Oqu(d.WAREHOUSE),t.xp6(2),t.Oqu(d.REMARKS),t.xp6(2),t.Oqu(d.ACNAME),t.xp6(2),t.Q6J("ngIf",1==d.IsWSaleTerminal),t.xp6(1),t.Q6J("ngIf",0==d.IsWSaleTerminal)}}let P=(()=>{class f{constructor(d,u,r,a,s){this.router=d,this.alertService=u,this.loadingService=r,this.salesTerminalService=a,this.masterService=s,this.loadingService.show("Loading data...."),this.salesTerminalService.getSalesTerminalMasterList().subscribe(l=>{l&&(this.loadingService.hide(),this.salesTerminalList=l.result)},l=>{this.loadingService.hide(),this.alertService.error(l.error)})}ngOnInit(){}addSalesTerminal(){if(this.masterService.checkUserRights("add","sales-terminal"))try{this.router.navigate(["./pages/masters/sales-terminal/add-sales-terminal",{mode:"add",returnUrl:this.router.url}])}catch(d){this.alertService.error(d)}}onView(d){try{this.router.navigate(["./pages/masters/sales-terminal/add-sales-terminal",{name:d.INITIAL,mode:"view",returnUrl:this.router.url}])}catch(u){this.alertService.error(u)}}onEdit(d){this.masterService.checkUserRights("edit","sales-terminal")&&this.router.navigate(["./pages/masters/sales-terminal/add-sales-terminal",{name:d.INITIAL,mode:"edit",returnUrl:this.router.url}])}onDelete(d){this.masterService.checkUserRights("delete","sales-terminal")&&confirm("Are you sure you want to delete "+d.NAME+" ?")&&this.salesTerminalService.deleteSalesTerminalMaster(d.INITIAL).subscribe(u=>{console.log("delete log",u),console.log("res result",u.result),"ok"==u.status&&this.salesTerminalService.getSalesTerminalMasterList().subscribe(r=>{r&&(this.salesTerminalList=r.result?r.result:[])})})}}return f.\u0275fac=function(d){return new(d||f)(t.Y36(n.F0),t.Y36(i.c),t.Y36(O.V),t.Y36(S.W),t.Y36(g.P))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-sales-terminal-list"]],decls:42,vars:5,consts:[[1,"row","col-md-12"],[1,"col-md-4"],[1,"col-md-8"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"row",2,"align-items","center"],[1,"col-md-12","col-sm-8",2,"margin-top","0.5rem"],[1,"card",2,"margin","auto","width","85%"],[1,"card-header"],[2,"width","25%"],["type","search","placeholder","Search by Initial...","name","searchByInitial",1,"form-control",2,"height","1.5rem","font-size","13px",3,"ngModel","ngModelChange"],[1,"card-body"],[1,"table","table-striped"],[2,"position","sticky","top","0","line-height","1.5rem"],["scope","col",2,"width","3%"],["scope","col",2,"width","6%"],["scope","col",2,"width","13%"],["scope","col",2,"width","8%"],["scope","col",2,"width","10%"],["scope","col",2,"text-align","center","width","15%"],[4,"ngFor","ngForOf"],[2,"width","3%"],[2,"width","6%"],[2,"width","13%"],[2,"width","8%"],[2,"width","10%"],[4,"ngIf"],[2,"width","15%","text-align","center"],["type","button","data-toggle","modal",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px",3,"click"],[1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","color","white",3,"click"]],template:function(d,u){1&d&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5"),t._uU(3,"Sales Terminal Master"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6,"Back"),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return u.addSalesTerminal()}),t._uU(8,"Add Sales Terminal"),t.qZA()()(),t.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"span"),t._uU(14,"Sales Terminal Lists"),t.qZA(),t.TgZ(15,"div",9)(16,"input",10),t.NdJ("ngModelChange",function(a){return u.searchByInitial=a}),t.qZA()()(),t.TgZ(17,"div",11)(18,"table",12)(19,"thead")(20,"tr",13)(21,"th",14),t._uU(22,"S.N"),t.qZA(),t.TgZ(23,"th",15),t._uU(24,"Initial"),t.qZA(),t.TgZ(25,"th",16),t._uU(26,"Name"),t.qZA(),t.TgZ(27,"th",17),t._uU(28,"Branch"),t.qZA(),t.TgZ(29,"th",17),t._uU(30,"Warehouse"),t.qZA(),t.TgZ(31,"th",18),t._uU(32,"Remarks"),t.qZA(),t.TgZ(33,"th",18),t._uU(34,"Terminal A/C"),t.qZA(),t.TgZ(35,"th",17),t._uU(36,"Is Wholesale Terminal"),t.qZA(),t.TgZ(37,"th",19),t._uU(38,"Action"),t.qZA()()(),t.TgZ(39,"tbody"),t.YNc(40,E,25,9,"tr",20),t.ALo(41,"searchData"),t.qZA()()()()()()),2&d&&(t.xp6(16),t.Q6J("ngModel",u.searchByInitial),t.xp6(24),t.Q6J("ngForOf",t.xi3(41,2,u.salesTerminalList,u.searchByInitial)))},dependencies:[T.sg,T.O5,n.rH,c.Fj,c.JJ,c.On,e],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]:after{display:none}.card-body[_ngcontent-%COMP%]{padding:5px!important;max-height:675px!important}.card-footer[_ngcontent-%COMP%]{height:6vh}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;height:59vh;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}th[_ngcontent-%COMP%]{font-size:15px}td[_ngcontent-%COMP%]{font-size:13px}.btn-sm[_ngcontent-%COMP%]{line-height:3px}.card-header[_ngcontent-%COMP%]{padding:10px 20px}.searchBy[_ngcontent-%COMP%]{font-size:13px;margin-left:18rem}"]}),f})()},33933:(b,y,o)=>{o.d(y,{W:()=>S});var t=o(66274),n=o(76165),i=o(67297),O=o(71180);let S=(()=>{class g{constructor(c,e,v){this.http=c,this.authService=e,this.state=v;const L=this.state.getGlobalSetting("apiUrl");L&&L.length>0&&(this.apiUrl=L)}getWarehouseList(){return this.http.get(this.apiUrl+"/getWarehouseList")}getDivisionList(){return this.http.get(this.apiUrl+"/getDivisionList")}getSalesTerminalMasterList(){return this.http.get(this.apiUrl+"/getSalesTerminalMasterList")}saveSalesTerminalMaster(c,e){return this.http.post(this.apiUrl+"/saveSalesTerminalMaster",{mode:e,data:c})}getSalesTerminalDetailsByInitial(c){return this.http.get(this.apiUrl+`/getSalesTerminalMasterDetails?initial=${c}`)}deleteSalesTerminalMaster(c){return this.http.post(this.apiUrl+"/deleteSalesTerminalMaster",{INITIAL:c})}getWarehouseListByDivisionMapped(c){let e;return e={INITIAL:c},this.http.post(this.apiUrl+"/getWarehouseListByDivisionMapped",e)}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(n.eN),t.LFG(i.e),t.LFG(O.q))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},52103:(b,y,o)=>{o.d(y,{l:()=>_});var t=o(19102),n=o(87584),i=o(66274),O=o(64069),S=o(67311),g=o(14970),T=o(92752),c=o(48083),e=o(7587),v=o(28698),L=o(73965);const E=["genericGridAcc"],P=["OtpPopup"];function f(d,u){if(1&d){const r=i.EpF();i.TgZ(0,"div",16)(1,"div",17)(2,"label",18),i._uU(3),i.qZA(),i.TgZ(4,"input",19),i.NdJ("keydown.enter",function(s){const l=i.CHM(r),h=l.index,M=l.$implicit,U=i.oxw();return i.KtG(U.accEnterCommand(s,h,M))})("ngModelChange",function(s){const h=i.CHM(r).$implicit;return i.KtG(h.ACNAME=s)}),i.qZA()()()}if(2&d){const r=u.$implicit;i.xp6(3),i.hij("",r.Caption,":"),i.xp6(1),i.Q6J("disabled","OPTIONAL"!=r.STATUS)("ngModel",r.ACNAME)}}let _=(()=>{class d{constructor(r,a,s){this.taxConfigService=r,this.alertService=a,this.spinnerService=s,this.gridPopupSettingsForAcc=new t.sG,this.spinnerService.show("Loading data...."),this.taxList=this.taxConfigService.taxList(),this.taxConfigService.getTaxConfigChargesList().subscribe(l=>{l&&(this.spinnerService.hide(),this.listfromapi=l?.result,this.taxList.forEach(h=>{const M=this.listfromapi.findIndex(U=>U?.PARTICULARS===h?.PARTICULARS);M>-1&&(h.TRNAC=this.listfromapi[M]?.TRNAC,h.ACNAME=this.listfromapi[M]?.ACNAME)}))},l=>{this.spinnerService.hide(),this.alertService.error(l.error)})}ngOnInit(){}onSave(){this.OtpPopup.show()}getAccList(){this.gridPopupSettingsForAcc={title:"Account List",apiEndpoints:"/getAccountPagedListByMapId/Master/Party Payment Expense",defaultFilterIndex:0,useDefinefilterValue:"",columns:[{key:"ACID",title:"AC CODE",hidden:!1,noSearch:!1},{key:"ACNAME",title:"A/C NAME",hidden:!1,noSearch:!1}]}}accEnterCommand(r,a,s){this.selectedIndex=a,this.taxConfigService.checkTaxConfigCharge(s.TRNAC).subscribe(l=>{console.log("result",l),"ok"==l.status?(this.getAccList(),this.genericGridAcc.show()):this.alertService.error("This account is already used in Transaction. It cannot be updated/deleted!")})}onAccSelected(r){r&&null!==this.selectedIndex&&(this.taxList[this.selectedIndex].ACNAME=r.ACNAME,this.taxList[this.selectedIndex].TRNAC=r.ACID)}confirmationOkClicked(r){1==r?1==confirm("Are you sure you want to save?")&&this.taxConfigService.saveTaxConfigCharges(this.taxList).subscribe(a=>{"ok"==a.status?this.alertService.success(a.result):this.alertService.error(a.result)}):this.alertService.error("OTP Invalid")}}return d.\u0275fac=function(r){return new(r||d)(i.Y36(O.H),i.Y36(S.c),i.Y36(g.V))},d.\u0275cmp=i.Xpm({type:d,selectors:[["app-tax-config-view"]],viewQuery:function(r,a){if(1&r&&(i.Gf(E,5),i.Gf(P,5)),2&r){let s;i.iGM(s=i.CRH())&&(a.genericGridAcc=s.first),i.iGM(s=i.CRH())&&(a.OtpPopup=s.first)}},features:[i._Bn([n.p])],decls:20,vars:2,consts:[[1,"row","sticky-top"],[1,"col-md-6"],[1,"page-title"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"row"],[1,"col-md-12","no-padding"],[1,"mx-auto","cardd","mt-2"],[1,"tab-content","mr-5"],["id","general-info",1,"tab-pane","active"],[1,"col-md-12","row","no-padding"],["class","col-md-6 col-sm-12  no-padding",4,"ngFor","ngForOf"],[3,"popupsettings","onItemDoubleClick"],["genericGridAcc",""],[3,"okClicked"],["OtpPopup",""],[1,"col-md-6","col-sm-12","no-padding"],[1,"form-inline"],[1,"col-md-6","col-sm-6","col-5"],["type","text","autocomplete","off","placeholder","Press Enter to select...",1,"form-control","col-md-5","col-sm-5","col-7",2,"height","4vh","width","49%",3,"disabled","ngModel","keydown.enter","ngModelChange"]],template:function(r,a){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),i._uU(3,"Tax Config Charges"),i.qZA()(),i.TgZ(4,"div",1)(5,"button",3),i.NdJ("click",function(){return a.onSave()}),i._uU(6," Save "),i.qZA(),i.TgZ(7,"button",4),i._uU(8," Back "),i.qZA()()(),i.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),i.YNc(15,f,5,3,"div",11),i.qZA()()()()()(),i.TgZ(16,"generic-popup-grid",12,13),i.NdJ("onItemDoubleClick",function(l){return a.onAccSelected(l)}),i.qZA(),i.TgZ(18,"app-otp",14,15),i.NdJ("okClicked",function(l){return a.confirmationOkClicked(l)}),i.qZA()),2&r&&(i.xp6(15),i.Q6J("ngForOf",a.taxList),i.xp6(1),i.Q6J("popupsettings",a.gridPopupSettingsForAcc))},dependencies:[T.sg,c.rH,e.Fj,e.JJ,e.On,v.Zl,L._],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid #cbcbcb;border-radius:3px;height:4vh;color:#000;font-size:12px}label[_ngcontent-%COMP%]{height:25px;font-size:12px}.cardd[_ngcontent-%COMP%]{overflow:auto;height:76vmin;border:1px solid #d8d8d8;max-width:90%}"]}),d})()},64069:(b,y,o)=>{o.d(y,{H:()=>O});var t=o(66274),n=o(76165),i=o(71180);let O=(()=>{class S{constructor(T,c){this.http=T,this.state=c;const e=this.state.getGlobalSetting("apiUrl");e&&e.length>0&&(this.apiUrl=e)}taxList(){return[{PARTICULARS:"SALESAC",Caption:"SALESAC",ACNAME:"",TRNAC:""},{PARTICULARS:"PURCHASEAC",Caption:"PURCHASEAC",ACNAME:"",TRNAC:""},{PARTICULARS:"SALESRETURNAC",Caption:"SALESRETURNAC",ACNAME:"",TRNAC:""},{PARTICULARS:"PURCHASERETURNAC",Caption:"PURCHASERETURNAC",ACNAME:"",TRNAC:""},{PARTICULARS:"DISCOUNTONSALESAC",Caption:"DISCOUNTONSALESAC",ACNAME:"",TRNAC:""},{PARTICULARS:"DISCOUNTONPURCHASEAC",Caption:"DISCOUNTONPURCHASEAC",ACNAME:"",TRNAC:""},{PARTICULARS:"VAT_SALES",Caption:"VAT PAYABLE A/C",ACNAME:"",TRNAC:""},{PARTICULARS:"VAT_PURCHASE",Caption:"VAT RECEIVABLE A/C",ACNAME:"",TRNAC:""},{PARTICULARS:"CASHAC",Caption:"CASHAC",ACNAME:"",TRNAC:""},{PARTICULARS:"BANK",Caption:"BANK",ACNAME:"",TRNAC:""},{PARTICULARS:"CASHINHAND_AC",Caption:"CASHINHAND_AC",ACNAME:"",TRNAC:""},{PARTICULARS:"SUNDRYDEBTORS",Caption:"SUNDRYDEBTORS",ACNAME:"",TRNAC:""},{PARTICULARS:"SUNDRYCREDITORS",Caption:"SUNDRYCREDITORS",ACNAME:"",TRNAC:""},{PARTICULARS:"OPENING STOCK",Caption:"OPENING STOCK",ACNAME:"",TRNAC:""},{PARTICULARS:"CLOSING STOCK",Caption:"CLOSING STOCK",ACNAME:"",TRNAC:""},{PARTICULARS:"STOCK IN HAND",Caption:"STOCK IN HAND",ACNAME:"",TRNAC:""},{PARTICULARS:"TDS_PAYABLE",Caption:"TDS_PAYABLE",ACNAME:"",TRNAC:""},{PARTICULARS:"TDS_RECEIVABLE",Caption:"TDS_RECEIVABLE",ACNAME:"",TRNAC:""},{PARTICULARS:"ACCOUNTFORBALANCINGOPENINGBALANCE",Caption:"ACCOUNTFORBALANCINGOPENINGBALANCE",ACNAME:"",TRNAC:""},{PARTICULARS:"CUSTOMER",Caption:"CUSTOMER",ACNAME:"",TRNAC:""},{PARTICULARS:"SUPPLIER",Caption:"SUPPLIER",ACNAME:"",TRNAC:""},{PARTICULARS:"ROUNDOFFAC",Caption:"ROUNDOFFAC",ACNAME:"",TRNAC:""},{PARTICULARS:"SALESRETURNVOUCHERAC",Caption:"SALESRETURNVOUCHERAC",ACNAME:"",TRNAC:""},{PARTICULARS:"BRANCHTRANSFERIN",Caption:"BRANCHT RANSFER IN",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"BRANCHTRANSFEROUT",Caption:"BRANCHT RANSFER OUT",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"MEMSALESAC",Caption:"MEMBERSHIP SALES AC",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"CELLPAY FEE",Caption:"CellPay Fee",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"IMPORTPURCHASEAC",Caption:"IMPORT PURCHASE AC",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"EXPORTSALESAC",Caption:"",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"FREIGHT SERVICE ITEM",Caption:"Freight Service Item",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"},{PARTICULARS:"SERVICETAXAC",Caption:"SERVICETAXAC",ACNAME:"",TRNAC:"",STATUS:"OPTIONAL"}]}getTaxConfigChargesList(){return this.http.get(this.apiUrl+"/getTaxConfigChargesList")}saveTaxConfigCharges(T){return this.http.post(this.apiUrl+"/saveTaxConfigCharges",T)}checkTaxConfigCharge(T){return this.http.get(this.apiUrl+`/checkTaxConfigCharge?acid=${T}`)}}return S.\u0275fac=function(T){return new(T||S)(t.LFG(n.eN),t.LFG(i.q))},S.\u0275prov=t.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},47985:(b,y,o)=>{o.d(y,{N:()=>u}),o(64298);var n=o(66274),i=o(48083),O=o(67311),S=o(53074),g=o(92752),T=o(7587),c=o(72533),e=o(77879),v=o(49137);const L=["genericGrid"];function E(r,a){if(1&r){const s=n.EpF();n.TgZ(0,"tr")(1,"td",21),n._uU(2),n.qZA(),n.TgZ(3,"td",22),n._uU(4),n.qZA(),n.TgZ(5,"td",22),n._uU(6),n.qZA(),n.TgZ(7,"td",22),n._uU(8),n.qZA(),n.TgZ(9,"td",22),n._uU(10),n.qZA(),n.TgZ(11,"td",23)(12,"button",24),n.NdJ("click",function(){const M=n.CHM(s).$implicit,U=n.oxw(2);return n.KtG(U.onViewClicked(M))}),n._uU(13,"View"),n.qZA(),n.TgZ(14,"button",25,5),n.NdJ("click",function(){const M=n.CHM(s).$implicit,U=n.oxw(2);return n.KtG(U.onEditClick(M))}),n._uU(16,"Edit"),n.qZA(),n.TgZ(17,"button",26,5),n.NdJ("click",function(){const M=n.CHM(s).$implicit,U=n.oxw(2);return n.KtG(U.deleteWarehouse(M))}),n._uU(19,"Delete"),n.qZA()()()}if(2&r){const s=a.$implicit,l=a.index,h=n.MAs(15),M=n.oxw(2);n.xp6(2),n.Oqu(l+1+(M.currentPage-1)*M.itemsPerPage),n.xp6(2),n.Oqu(null==s?null:s.NAME),n.xp6(2),n.Oqu(null==s?null:s.DIVISIONNAME),n.xp6(2),n.Oqu(null==s?null:s.DIVISION),n.xp6(2),n.Oqu(null==s?null:s.WarehouseType),n.xp6(4),n.Q6J("disabled",h.isOldFYearDB()),n.xp6(3),n.Q6J("disabled",h.isOldFYearDB())}}const P=function(r,a,s){return{itemsPerPage:r,currentPage:a,totalItems:s}};function f(r,a){if(1&r&&(n.ynx(0),n.YNc(1,E,20,7,"tr",20),n.ALo(2,"paginate"),n.ALo(3,"searchData"),n.BQk()),2&r){const s=n.oxw();n.xp6(1),n.Q6J("ngForOf",n.xi3(2,1,n.Dn7(3,4,s.warehouseList,s.filter,"NAME"),n.kEZ(8,P,s.itemsPerPage,s.currentPage,s.totalCount)))}}function _(r,a){1&r&&(n.ynx(0),n.TgZ(1,"tr")(2,"td",27)(3,"div",28),n._uU(4,"Warehouse List are unavailable."),n.qZA()()(),n.BQk())}function d(r,a){if(1&r){const s=n.EpF();n.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"pagination-controls",32),n.NdJ("pageChange",function(h){n.CHM(s);const M=n.oxw();return n.KtG(M.warehousePagination(h))}),n.qZA()()()()}if(2&r){const s=n.oxw();n.xp6(3),n.Q6J("directionLinks",s.directionLinks)}}let u=(()=>{class r{constructor(s,l,h){this.router=s,this.alertService=l,this.masterService=h,this.warehouseList=[],this.isLoader=!0,this.directionLinks=!0,this.currentPage=1,this.itemsPerPage=20,this.masterService.getAllWarehouseList().subscribe(M=>{this.warehouseList=M})}updown(s){"Escape"===s.code&&(s.preventDefault(),this.router.navigate(["./pages/dashboard"]))}ngOnInit(){}addNewWarehouse(){if(this.masterService.checkUserRights("add","warehouse"))try{this.router.navigate(["./pages/masters/warehouse/add-warehouse",{mode:"add",returnUrl:this.router.url}])}catch(s){this.alertService.error(s)}}onEditClick(s){if("T"!=s.ISDEFAULT){if(this.masterService.checkUserRights("edit","warehouse"))try{this.router.navigate(["./pages/masters/warehouse/add-warehouse",{name:s.NAME,mode:"edit",returnUrl:this.router.url}])}catch(l){this.alertService.error(l)}}else this.alertService.warning("Main Warehouse is not editable.")}onViewClicked(s){try{this.router.navigate(["pages/masters/warehouse/add-warehouse",{name:s.NAME,mode:"view",returnUrl:this.router.url}])}catch(l){this.alertService.error(l)}}deleteWarehouse(s){this.masterService.checkUserRights("delete","warehouse")&&confirm("Are you sure you want to delete "+s.NAME+" ?")&&this.masterService.deleteWarehouse(s.NAME).subscribe(l=>{"ok"==l.status?(this.alertService.info(l.result),this.masterService.getAllWarehouseList().subscribe(h=>{this.warehouseList=h&&h||[]})):this.alertService.error(l.result.error)},l=>{this.alertService.error(l.error)})}warehousePagination(s){this.isLoader=!0,this.currentPage=s;const l=this;window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{l.isLoader=!1},500)}}return r.\u0275fac=function(s){return new(s||r)(n.Y36(i.F0),n.Y36(O.c),n.Y36(S.P))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-warehouselist"]],viewQuery:function(s,l){if(1&s&&n.Gf(L,5),2&s){let h;n.iGM(h=n.CRH())&&(l.genericGrid=h.first)}},hostBindings:function(s,l){1&s&&n.NdJ("keydown",function(M){return l.updown(M)},!1,n.evT)},decls:40,vars:13,consts:[[1,"row","col-md-12"],[1,"col-md-4"],[1,"col-md-8"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],["appOldFYearDB","",1,"btn","btn-info","pull-right",2,"font-size","12px",3,"disabled","click"],["isOldFYearDB","appOldFYearDB"],[1,"row",2,"align-items","center"],[1,"col-sm-8","col-md-12",2,"margin-top","0.5rem"],[1,"card",2,"margin","auto","width","63rem","height","31rem"],[1,"card-header"],[2,"width","25%"],["type","search","placeholder","Search...","name","filter","autocomplete","off",1,"form-control",2,"height","1.5rem",3,"ngModel","ngModelChange"],[1,"card-body"],[1,"table","table-striped"],[2,"position","sticky","top","0","line-height","1.5rem"],["scope","col",2,"width","3%"],["scope","col",2,"width","15%"],["scope","col",2,"width","20%","text-align","center"],[4,"ngIf"],["class","card-footer","style","padding:5px",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"width","3%"],[2,"width","15%"],[2,"width","20%","text-align","center"],["type","button","data-toggle","modal",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px",3,"click"],["appOldFYearDB","",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","color","white",3,"disabled","click"],["type","button","data-toggle","modal","appOldFYearDB","",1,"btn","btn-sm","btn-info","btn-sm",2,"width","60px",3,"disabled","click"],["colspan","3"],[1,"font-weight-bold"],[1,"card-footer",2,"padding","5px"],[1,"pagination"],[2,"margin","auto"],[1,"my-pagination",3,"directionLinks","pageChange"]],template:function(s,l){if(1&s&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h5"),n._uU(3,"Warehouse"),n.qZA()(),n.TgZ(4,"div",2)(5,"button",3),n._uU(6,"Back"),n.qZA(),n.TgZ(7,"button",4,5),n.NdJ("click",function(){return l.addNewWarehouse()}),n._uU(9,"Add Warehouse"),n.qZA()()(),n.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"span"),n._uU(15,"Warehouse List"),n.qZA(),n.TgZ(16,"div",10)(17,"input",11),n.NdJ("ngModelChange",function(M){return l.filter=M}),n.qZA()()(),n.TgZ(18,"div",12)(19,"table",13)(20,"thead")(21,"tr",14)(22,"th",15),n._uU(23,"S.N."),n.qZA(),n.TgZ(24,"th",16),n._uU(25,"Warehouse"),n.qZA(),n.TgZ(26,"th",16),n._uU(27,"Division Name"),n.qZA(),n.TgZ(28,"th",16),n._uU(29,"Division"),n.qZA(),n.TgZ(30,"th",16),n._uU(31,"Warehouse Type"),n.qZA(),n.TgZ(32,"th",17),n._uU(33,"Action"),n.qZA()()(),n.TgZ(34,"tbody"),n.YNc(35,f,4,12,"ng-container",18),n.YNc(36,_,5,0,"ng-container",18),n.ALo(37,"searchData"),n.qZA()()(),n.YNc(38,d,4,1,"div",19),n.ALo(39,"searchData"),n.qZA()()()),2&s){const h=n.MAs(8);n.xp6(7),n.Q6J("disabled",h.isOldFYearDB()),n.xp6(10),n.Q6J("ngModel",l.filter),n.xp6(18),n.Q6J("ngIf",l.warehouseList&&l.warehouseList.length>0),n.xp6(1),n.Q6J("ngIf",l.warehouseList&&0===n.Dn7(37,5,l.warehouseList,l.filter,"NAME").length),n.xp6(2),n.Q6J("ngIf",l.warehouseList&&n.Dn7(39,9,l.warehouseList,l.filter,"NAME").length>l.itemsPerPage)}},dependencies:[i.rH,g.sg,g.O5,T.Fj,T.JJ,T.On,c.LS,e.H,c._s,v.C],styles:[".no-data-available[_ngcontent-%COMP%]{text-align:center}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]:after{display:none}.card-body[_ngcontent-%COMP%]{padding:5px!important;max-height:675px!important}.card-footer[_ngcontent-%COMP%]{height:6vh}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;height:59vh;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}th[_ngcontent-%COMP%]{font-size:15px}td[_ngcontent-%COMP%]{font-size:13px}.btn-sm[_ngcontent-%COMP%]{line-height:3px}.card-header[_ngcontent-%COMP%]{padding:10px 20px}",".my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current {\n        background: #17a2b8 !important;\n        border: transparent !important;\n        border-radius: 20px !important;\n    }\n    \n    .my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover {\n        background: #74d4e2 !important;\n        border-radius: 20px !important;\n        border: transparent !important;\n    }\n    \n    .my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\n        background: #c2c2c2;\n        border-radius: 20px !important;\n    }"]}),r})()},9944:(b,y,o)=>{o.r(y),o.d(y,{PrintFileSetupModule:()=>q});var t=o(92752),n=o(89953),i=o(87584),O=o(82661),S=o(53181),g=o(48083),T=o(92340),c=o(7587),e=o(66274),v=o(67311),L=o(76165),E=o(60056),P=o(67297);let f=(()=>{class x{constructor(p,m){this.http=p,this.authService=m}get apiUrl(){return T.N.apiUrl}loadVoucher(){return this.http.get(this.apiUrl+"/getVouchertypeForPrint")}downloadFIle(p){return this.http.get(this.apiUrl+`/getDefaultPrintFile?voucherType=${p}`)}UploadPrintFile(p,m){let A={status:"error",result:"error"},C=new E.Subject;const w={headers:this.getRequestOptionWithoutContent(),method:"post"};return this.http.post(this.apiUrl+`/uploadReportFile?VoucherPrefix=${m}`,p,w).subscribe(F=>{C.next(F),C.unsubscribe()},F=>{A.status="error",A.result=F,C.next(A),C.unsubscribe()}),C}getRequestOptionWithoutContent(){return new L.WM({Authorization:this.authService.getAuth().token})}resetPrintToDefault(){return this.http.get(this.apiUrl+"/resetPrintToDefault")}resetSelectedPrintToDefault(p){return this.http.get(this.apiUrl+`/resetSelectedPrintToDefault?voucherPrefix=${p}`)}readSettingDescriptionJson(){return this.http.get(this.apiUrl+"/readSettingDescriptionJson")}getVoucherWisePrintFileName(){return this.http.get(this.apiUrl+"/getVoucherWisePrintFileName")}}return x.\u0275fac=function(p){return new(p||x)(e.LFG(L.eN),e.LFG(P.e))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();var _=o(14970),d=o(53074),u=o(5615),r=o(73965),a=o(71259);const s=["PrintFileUpload"],l=["OtpPopup"],h=["OtpPopup2"],M=["OTPForUpload"];function U(x,N){if(1&x&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&x){const p=N.$implicit;e.s9C("value",p.VOUCHER_ID),e.xp6(1),e.Oqu(p.VOUCHER_NAME)}}function Z(x,N){if(1&x&&(e.TgZ(0,"tr")(1,"td",52),e._uU(2),e.qZA(),e.TgZ(3,"td",53),e._uU(4),e.qZA()()),2&x){const p=N.$implicit;e.xp6(2),e.Oqu(p.VoucherName),e.xp6(2),e.Oqu(p.FileName)}}function I(x,N){if(1&x){const p=e.EpF();e.TgZ(0,"div")(1,"div",41)(2,"div",42)(3,"div",43)(4,"table",44)(5,"thead")(6,"tr")(7,"th",45),e._uU(8,"Voucher Name"),e.qZA(),e.TgZ(9,"th",46),e._uU(10,"Print File Name"),e.qZA(),e.TgZ(11,"th",47)(12,"button",48),e.NdJ("click",function(){e.CHM(p);const A=e.oxw();return e.KtG(A.closePopup())}),e.TgZ(13,"span",49),e._uU(14,"\xd7"),e.qZA()()()()(),e.TgZ(15,"tbody",50),e.YNc(16,Z,5,2,"tr",51),e.qZA()()()()()()}if(2&x){const p=e.oxw();e.xp6(16),e.Q6J("ngForOf",p.voucherWisePrintFileList)}}let R=(()=>{class x{constructor(p,m,A,C,w,F,D,z,Q,$){this.document=p,this.alertService=m,this.router=A,this.printService=C,this.loadingService=w,this.location=F,this.http=D,this.masterService=z,this.categoryMasterService=Q,this.formBuilder=$,this.href="",this.fileToUpload=null,this.initialTextReadOnly=!1,this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={},this.ShowPrintFileName=0,this.fileList=null,this.ResetDefultForm=this.formBuilder.group({ResetDefult:["",c.kI.required]}),this.printService.readSettingDescriptionJson().subscribe()}ngOnInit(){this.printService.loadVoucher().subscribe(p=>{this.voucherList=p}),this.href=this.router.url,this.dropdownList=[{item_id:"formwiseprintformat",item_text:"Formwise Print Format"},{item_id:"reportcolumnformat",item_text:"Report Column Format"},{item_id:"storedprocedure",item_text:" Update Stored Procedure / Views"},{item_id:"taxchargesconfig",item_text:"Tax Config Charges"},{item_id:"reportmaster",item_text:"Default Report Master & Report Details"},{item_id:"directorapp",item_text:"Directors app Stored Procedure"}],this.selectedItems=[],this.dropdownSettings={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0}}onItemSelect(p){console.log(p)}onSelectAll(p){console.log(p)}onSubmit(){this.OtpPopup2.show()}resetDefault(){this.OtpPopup.show()}closePopup(){this.ShowPrintFileName=0}downloadDefaultFile(){this.printService.downloadFIle(this.SelectedVoucher).subscribe(p=>{this.downloadJS(p.result)},p=>{this.alertService.error(p.error.result),this.loadingService.hide()})}onFileChange(p){this.fileList=p.target.files}uploadFile(){this.OTPForUpload.show()}confirmationOkClickedReset(p){if(1==p){let A=[];this.ResetDefultForm.value.ResetDefult.map((C,w)=>{A.push(C.item_id)}),this.masterService.resetToDefaultValue(A).subscribe(C=>{"ok"==C.status&&(this.alertService.success(C.result),this.ResetDefultForm.reset())},C=>setTimeout(()=>{this.alertService.error(C.error)},5e3))}else this.alertService.error("OTP Invalid")}confirmationOkClicked(p){1==p?(this.loadingService.show("Resetting..."),""==this.SelectedVoucher||null==this.SelectedVoucher||null==this.SelectedVoucher?this.printService.resetPrintToDefault().subscribe(m=>{console.log("after reset",m),"ok"==m.status?(this.loadingService.hide(),this.alertService.success("Print format successfully reset to default")):(this.loadingService.hide(),this.alertService.error("Operation Failed"))}):this.printService.resetSelectedPrintToDefault(this.SelectedVoucher).subscribe(m=>{console.log("after reset",m),"ok"==m.status?(this.loadingService.hide(),this.alertService.success("Print format successfully reset to default")):(this.loadingService.hide(),this.alertService.error("Operation Failed"))})):this.alertService.error("OTP Invalid")}confirmationUploadClicked(p){if(1==p){if(console.log("FILE LIST",this.fileList),null==this.SelectedVoucher||""==this.SelectedVoucher)return void this.alertService.info("Please Select Master.");if(null==this.fileList||0==this.fileList.length)return void this.alertService.info("Please Select File.");if(this.fileList.length>0){let m=this.fileList[0],A=new FormData;A.append("config",m,m.name),this.loadingService.show("Uploading. Please Wait...this may take some time"),this.printService.UploadPrintFile(A,this.SelectedVoucher).subscribe(C=>{console.log("result from print file upload",C),this.loadingService.hide(),console.log("result"),"ok"==C.status?(this.alertService.success("Request Successful"),this.SelectedVoucher="",this.fileList=null,this.PrintFileUpload.nativeElement.value=null):"errorfile"==C.status?this.alertService.error("Some of the rows cannot be saved. Please check 'Upload Status' for more details."):"error"==C.status?this.alertService.error("Error :"+C.result.error):(this.loadingService.hide(),this.alertService.error(C.result))},C=>{this.loadingService.hide(),this.alertService.error(C)})}}else this.alertService.error("OTP Invalid")}cancel(){try{this.router.navigate(["/pages/dashboard"])}catch(p){console.log(p),this.alertService.error(p)}}handleFileInput(p){this.fileToUpload=p.item(0)}downloadJS(p){let C=`${T.N.apiUrl.replace("api","")}${p}`;fetch(C).then(w=>w.blob()).then(w=>{const F=window.URL.createObjectURL(w),D=document.createElement("a");D.style.display="none",D.href=F,D.download=p.substring(10),document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(F),this.alertService.success("your file has downloaded!")}).catch(()=>alert("Download Failed"))}settingClick(){try{this.router.navigate(["./pages/configuration/setting-master"])}catch(p){this.alertService.info(p)}}divisionClick(){try{this.router.navigate(["./pages/configuration/division-master"])}catch(p){this.alertService.info(p)}}salesTerminalClick(){try{this.router.navigate(["./pages/configuration/sales-terminal"])}catch(p){this.alertService.info(p)}}warehouseClick(){try{this.router.navigate(["./pages/configuration/warehouse"])}catch(p){this.alertService.info(p)}}taxConfigClick(){try{this.router.navigate(["./pages/configuration/tax-config"])}catch(p){this.alertService.info(p)}}paymentModeClick(){try{this.router.navigate(["./pages/configuration/payment-mode-master"])}catch(p){this.alertService.info(p)}}showPrintFileName(){this.printService.getVoucherWisePrintFileName().subscribe(p=>{this.voucherWisePrintFileList=p.result,console.log("default print file name",p.result,this.voucherWisePrintFileList)})}}return x.\u0275fac=function(p){return new(p||x)(e.Y36(t.K0),e.Y36(v.c),e.Y36(g.F0),e.Y36(f),e.Y36(_.V),e.Y36(t.Ye),e.Y36(L.eN),e.Y36(d.P),e.Y36(u.u),e.Y36(c.qu))},x.\u0275cmp=e.Xpm({type:x,selectors:[["printfile-setup-config"]],viewQuery:function(p,m){if(1&p&&(e.Gf(s,5),e.Gf(l,5),e.Gf(h,5),e.Gf(M,5)),2&p){let A;e.iGM(A=e.CRH())&&(m.PrintFileUpload=A.first),e.iGM(A=e.CRH())&&(m.OtpPopup=A.first),e.iGM(A=e.CRH())&&(m.OtpPopup2=A.first),e.iGM(A=e.CRH())&&(m.OTPForUpload=A.first)}},decls:77,vars:9,consts:[[1,"main-container",2,"margin-top","0px","; margin-bottom","0px","height","auto"],[1,"row"],[1,"col-md-12"],["id","printfilesetups",1,"tabbable"],[1,"nav","nav-tabs",2,"background-color","#d9e5e7"],[1,"nav-item"],["href","#printfilesetup","data-toggle","tab",1,"nav-link","active"],["href","#resetToDefault","data-toggle","tab",1,"nav-link"],["data-toggle","tab",1,"nav-link",3,"click"],[1,"tab-content"],["id","printfilesetup",1,"tab-pane","active"],[1,"row","clearfix"],[1,"col-md-8"],[1,"form-group","row"],["for","voucher",1,"col-md-4","form-control-label"],["name","voucherType","id","Voucher",1,"form-control",2,"color","black","width","86.5%",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","path",1,"col-md-4","form-control-label"],[1,"row",2,"width","100%"],[1,"col-md-7"],["type","file","id","upload",1,"form-control",2,"height","41px","font-size","14px",3,"change"],["PrintFileUpload",""],[1,"col-md-5"],["type","checkbox",2,"width","17px","height","18px",3,"ngModel","change","click","ngModelChange"],[2,"width","auto","margin-left","-23px"],[1,"col-md-8","buttons"],["type","button",1,"btn","btn-info",2,"margin-right","10px",3,"click"],["type","button ",1,"btn","btn-info",2,"margin-right","10px",3,"click"],["id","resetToDefault",1,"tab-pane"],[2,"border","none","margin-top","15px","width","100%","padding","5px 5px"],[1,"form-group","row",3,"formGroup","ngSubmit"],[1,"col-sm-4"],["formControlName","ResetDefult",3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"],["type","submit",1,"btn",2,"padding","4px 15px","font-size","13px","background-color","#17A2B8","color","#fff"],[4,"ngIf"],[3,"okClicked"],["OtpPopup",""],["OtpPopup2",""],["OTPForUpload",""],[3,"value"],[1,"modal-sticky"],[1,"all-data-table"],[1,"data-table-2"],[1,"table","table-sm"],["scope","col",2,"width","20%","padding-left","18px"],["scope","col",2,"width","60%"],["scope","col",2,"width","10%"],["aria-label","Close",1,"close",2,"margin-bottom","5px",3,"click"],["aria-hidden","true"],[2,"font-size","13px"],[4,"ngFor","ngForOf"],[1,"voucherName",2,"width","40%"],[2,"width","70%"]],template:function(p,m){1&p&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),e._uU(7,"Print File Setup"),e.qZA()(),e.TgZ(8,"li",5)(9,"a",7),e._uU(10,"Reset to default"),e.qZA()(),e.TgZ(11,"li",5)(12,"a",8),e.NdJ("click",function(){return m.settingClick()}),e._uU(13,"Setting Master"),e.qZA()(),e.TgZ(14,"li",5)(15,"a",8),e.NdJ("click",function(){return m.divisionClick()}),e._uU(16,"Division Master"),e.qZA()(),e.TgZ(17,"li",5)(18,"a",8),e.NdJ("click",function(){return m.salesTerminalClick()}),e._uU(19,"Sales terminal Master"),e.qZA()(),e.TgZ(20,"li",5)(21,"a",8),e.NdJ("click",function(){return m.warehouseClick()}),e._uU(22,"Warehouse Master"),e.qZA()(),e.TgZ(23,"li",5)(24,"a",8),e.NdJ("click",function(){return m.taxConfigClick()}),e._uU(25,"Tax Config Charges"),e.qZA()(),e.TgZ(26,"li",5)(27,"a",8),e.NdJ("click",function(){return m.paymentModeClick()}),e._uU(28,"Payment Mode Master"),e.qZA()()(),e.TgZ(29,"div",9)(30,"div",10)(31,"div",11)(32,"div",2)(33,"div",12)(34,"div",13)(35,"label",14),e._uU(36,"Select a VoucherType "),e.qZA(),e.TgZ(37,"div",12)(38,"select",15),e.NdJ("ngModelChange",function(C){return m.SelectedVoucher=C}),e._UZ(39,"option",16),e.YNc(40,U,2,2,"option",17),e.qZA()()(),e.TgZ(41,"div",13)(42,"label",18),e._uU(43,"Choose a Path "),e.qZA(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",21,22),e.NdJ("change",function(C){return m.onFileChange(C)}),e.qZA()(),e.TgZ(48,"div",23)(49,"input",24),e.NdJ("change",function(C){return m.ShowPrintFileName=C.target.checked?1:0})("click",function(){return m.showPrintFileName()})("ngModelChange",function(C){return m.ShowPrintFileName=C}),e.qZA(),e.TgZ(50,"label",25),e._uU(51,"Show All Print File Name"),e.qZA()()()()(),e.TgZ(52,"div",26)(53,"button",27),e.NdJ("click",function(){return m.downloadDefaultFile()}),e._uU(54," Download Default Print File "),e.qZA(),e.TgZ(55,"button",27),e.NdJ("click",function(){return m.uploadFile()}),e._uU(56," Upload Print File "),e.qZA(),e.TgZ(57,"button",28),e.NdJ("click",function(){return m.resetDefault()}),e._uU(58," Reset To Default "),e.qZA(),e.TgZ(59,"button",28),e.NdJ("click",function(){return m.cancel()}),e._uU(60," Back "),e.qZA()()()()(),e.TgZ(61,"div",29)(62,"div",11)(63,"div",2)(64,"fieldset",30)(65,"form",31),e.NdJ("ngSubmit",function(){return m.onSubmit()}),e.TgZ(66,"div",32)(67,"ng-multiselect-dropdown",33),e.NdJ("ngModelChange",function(C){return m.selectedItems=C})("onSelect",function(C){return m.onItemSelect(C)})("onSelectAll",function(C){return m.onSelectAll(C)}),e.qZA()(),e.TgZ(68,"button",34),e._uU(69," Reset To Default "),e.qZA()()()()()()()()()(),e.YNc(70,I,17,1,"div",35),e.qZA(),e.TgZ(71,"app-otp",36,37),e.NdJ("okClicked",function(C){return m.confirmationOkClicked(C)}),e.qZA(),e.TgZ(73,"app-otp",36,38),e.NdJ("okClicked",function(C){return m.confirmationOkClickedReset(C)}),e.qZA(),e.TgZ(75,"app-otp",36,39),e.NdJ("okClicked",function(C){return m.confirmationUploadClicked(C)}),e.qZA()),2&p&&(e.xp6(38),e.Q6J("ngModel",m.SelectedVoucher),e.xp6(2),e.Q6J("ngForOf",m.voucherList),e.xp6(9),e.Q6J("ngModel",m.ShowPrintFileName),e.xp6(16),e.Q6J("formGroup",m.ResetDefultForm),e.xp6(2),e.Q6J("placeholder","Select for Reset")("settings",m.dropdownSettings)("data",m.dropdownList)("ngModel",m.selectedItems),e.xp6(3),e.Q6J("ngIf",1==m.ShowPrintFileName))},dependencies:[t.sg,t.O5,c._Y,c.YN,c.Kr,c.Wl,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,r._,a.O],styles:["label[for=voucher][_ngcontent-%COMP%]{margin-top:30px}label[_ngcontent-%COMP%]{font-size:13px}.buttons[_ngcontent-%COMP%]{margin-left:12px}[_nghost-%COMP%]     .multiselect-dropdown .dropdown-btn .selected-item{font-size:13px!important}[_nghost-%COMP%]     .multiselect-dropdown .dropdown-btn .selected-item{max-width:300px!important}[_nghost-%COMP%]     .multiselect-item-checkbox input[type=checkbox]+div{font-size:14px}[_nghost-%COMP%]     .multiselect-dropdown .dropdown-btn{font-size:14px}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500}thead[_ngcontent-%COMP%]{background:#9ccae4;position:sticky;top:0;font-size:13px;background:#628FA5;color:#f8f8ff}.close[_ngcontent-%COMP%]:hover{color:maroon}.voucherName[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.modal-sticky[_ngcontent-%COMP%]{display:block;padding:0;margin-bottom:-5vh;margin-right:64vh;background-color:#fff;overflow-y:scroll;position:fixed;top:16vh;right:-12vh;width:50%;height:75%;z-index:9999999;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px}","input.non-editable[_ngcontent-%COMP%] {\n      border: none;\n      background: #f1f1f1;\n      text-align: left;\n    }\n  \n    .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]:first-child {\n      text-align: left;\n    }\n  \n    input[_ngcontent-%COMP%] {\n      min-width: 90px;\n      height: 23px;\n    }\n  \n    tr[_ngcontent-%COMP%] {\n      height: 30px;\n      line-height: 30px;\n      text-align: center;\n    }\n    .multiselect-dropdown[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%] {\n    font-size: 13px !important;\n}"]}),x})();var k=o(65778),B=o(82716),Y=o(52103),W=o(85245),J=o(24375),V=o(47985);const K=[{path:"",component:R,canActivate:[O.C]},{path:"setting-master",component:k.L},{path:"division-master",component:B.p},{path:"sales-terminal",component:J.N},{path:"warehouse",component:V.N},{path:"tax-config",component:Y.l},{path:"Payment-mode-master",component:W.U}];let G=(()=>{class x{}return x.\u0275fac=function(p){return new(p||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[g.Bz.forChild(K),g.Bz]}),x})();var H=o(55618);let q=(()=>{class x{}return x.\u0275fac=function(p){return new(p||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({providers:[O.C,i.p,f,u.u],imports:[t.ez,n.m,S.Is,G,H.c.forRoot(),a.Z.forRoot()]}),x})()}}]);