(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[1706],{48873:function(Pe){Pe.exports=function(){"use strict";var v=6e4,m=36e5,e="millisecond",O="second",G="minute",te="hour",B="day",ee="week",Q="month",oe="quarter",L="year",U="date",K="Invalid Date",V=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,z=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Re={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var A=["th","st","nd","rd"],M=w%100;return"["+w+(A[(M-20)%10]||A[M]||A[0])+"]"}},ce=function(w,A,M){var H=String(w);return!H||H.length>=A?w:""+Array(A+1-H.length).join(M)+w},he={s:ce,z:function(w){var A=-w.utcOffset(),M=Math.abs(A),H=Math.floor(M/60),N=M%60;return(A<=0?"+":"-")+ce(H,2,"0")+":"+ce(N,2,"0")},m:function w(A,M){if(A.date()<M.date())return-w(M,A);var H=12*(M.year()-A.year())+(M.month()-A.month()),N=A.clone().add(H,Q),Y=M-N<0,q=A.clone().add(H+(Y?-1:1),Q);return+(-(H+(M-N)/(Y?N-q:q-N))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:Q,y:L,w:ee,d:B,D:U,h:te,m:G,s:O,ms:e,Q:oe}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return void 0===w}},Ne="en",Ce={};Ce[Ne]=Re;var J=function(w){return w instanceof ge},me=function w(A,M,H){var N;if(!A)return Ne;if("string"==typeof A){var Y=A.toLowerCase();Ce[Y]&&(N=Y),M&&(Ce[Y]=M,N=Y);var q=A.split("-");if(!N&&q.length>1)return w(q[0])}else{var $=A.name;Ce[$]=A,N=$}return!H&&N&&(Ne=N),N||!H&&Ne},j=function(w,A){if(J(w))return w.clone();var M="object"==typeof A?A:{};return M.date=w,M.args=arguments,new ge(M)},W=he;W.l=me,W.i=J,W.w=function(w,A){return j(w,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var ge=function(){function w(M){this.$L=me(M.locale,null,!0),this.parse(M)}var A=w.prototype;return A.parse=function(M){this.$d=function(H){var N=H.date,Y=H.utc;if(null===N)return new Date(NaN);if(W.u(N))return new Date;if(N instanceof Date)return new Date(N);if("string"==typeof N&&!/Z$/i.test(N)){var q=N.match(V);if(q){var $=q[2]-1||0,pe=(q[7]||"0").substring(0,3);return Y?new Date(Date.UTC(q[1],$,q[3]||1,q[4]||0,q[5]||0,q[6]||0,pe)):new Date(q[1],$,q[3]||1,q[4]||0,q[5]||0,q[6]||0,pe)}}return new Date(N)}(M),this.$x=M.x||{},this.init()},A.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},A.$utils=function(){return W},A.isValid=function(){return this.$d.toString()!==K},A.isSame=function(M,H){var N=j(M);return this.startOf(H)<=N&&N<=this.endOf(H)},A.isAfter=function(M,H){return j(M)<this.startOf(H)},A.isBefore=function(M,H){return this.endOf(H)<j(M)},A.$g=function(M,H,N){return W.u(M)?this[H]:this.set(N,M)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(M,H){var N=this,Y=!!W.u(H)||H,q=W.p(M),$=function(Ge,be){var xe=W.w(N.$u?Date.UTC(N.$y,be,Ge):new Date(N.$y,be,Ge),N);return Y?xe:xe.endOf(B)},pe=function(Ge,be){return W.w(N.toDate()[Ge].apply(N.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(be)),N)},ne=this.$W,fe=this.$M,we=this.$D,ye="set"+(this.$u?"UTC":"");switch(q){case L:return Y?$(1,0):$(31,11);case Q:return Y?$(1,fe):$(0,fe+1);case ee:var nt=this.$locale().weekStart||0,at=(ne<nt?ne+7:ne)-nt;return $(Y?we-at:we+(6-at),fe);case B:case U:return pe(ye+"Hours",0);case te:return pe(ye+"Minutes",1);case G:return pe(ye+"Seconds",2);case O:return pe(ye+"Milliseconds",3);default:return this.clone()}},A.endOf=function(M){return this.startOf(M,!1)},A.$set=function(M,H){var N,Y=W.p(M),q="set"+(this.$u?"UTC":""),$=(N={},N[B]=q+"Date",N[U]=q+"Date",N[Q]=q+"Month",N[L]=q+"FullYear",N[te]=q+"Hours",N[G]=q+"Minutes",N[O]=q+"Seconds",N[e]=q+"Milliseconds",N)[Y],pe=Y===B?this.$D+(H-this.$W):H;if(Y===Q||Y===L){var ne=this.clone().set(U,1);ne.$d[$](pe),ne.init(),this.$d=ne.set(U,Math.min(this.$D,ne.daysInMonth())).$d}else $&&this.$d[$](pe);return this.init(),this},A.set=function(M,H){return this.clone().$set(M,H)},A.get=function(M){return this[W.p(M)]()},A.add=function(M,H){var N,Y=this;M=Number(M);var q=W.p(H),$=function(fe){var we=j(Y);return W.w(we.date(we.date()+Math.round(fe*M)),Y)};if(q===Q)return this.set(Q,this.$M+M);if(q===L)return this.set(L,this.$y+M);if(q===B)return $(1);if(q===ee)return $(7);var pe=(N={},N[G]=v,N[te]=m,N[O]=1e3,N)[q]||1,ne=this.$d.getTime()+M*pe;return W.w(ne,this)},A.subtract=function(M,H){return this.add(-1*M,H)},A.format=function(M){var H=this,N=this.$locale();if(!this.isValid())return N.invalidDate||K;var Y=M||"YYYY-MM-DDTHH:mm:ssZ",q=W.z(this),$=this.$H,pe=this.$m,ne=this.$M,fe=N.weekdays,we=N.months,ye=function(be,xe,Mt,ut){return be&&(be[xe]||be(H,Y))||Mt[xe].slice(0,ut)},nt=function(be){return W.s($%12||12,be,"0")},at=N.meridiem||function(be,xe,Mt){var ut=be<12?"AM":"PM";return Mt?ut.toLowerCase():ut},Ge={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ne+1,MM:W.s(ne+1,2,"0"),MMM:ye(N.monthsShort,ne,we,3),MMMM:ye(we,ne),D:this.$D,DD:W.s(this.$D,2,"0"),d:String(this.$W),dd:ye(N.weekdaysMin,this.$W,fe,2),ddd:ye(N.weekdaysShort,this.$W,fe,3),dddd:fe[this.$W],H:String($),HH:W.s($,2,"0"),h:nt(1),hh:nt(2),a:at($,pe,!0),A:at($,pe,!1),m:String(pe),mm:W.s(pe,2,"0"),s:String(this.$s),ss:W.s(this.$s,2,"0"),SSS:W.s(this.$ms,3,"0"),Z:q};return Y.replace(z,function(be,xe){return xe||Ge[be]||q.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(M,H,N){var Y,q=W.p(H),$=j(M),pe=($.utcOffset()-this.utcOffset())*v,ne=this-$,fe=W.m(this,$);return fe=(Y={},Y[L]=fe/12,Y[Q]=fe,Y[oe]=fe/3,Y[ee]=(ne-pe)/6048e5,Y[B]=(ne-pe)/864e5,Y[te]=ne/m,Y[G]=ne/v,Y[O]=ne/1e3,Y)[q]||ne,N?fe:W.a(fe)},A.daysInMonth=function(){return this.endOf(Q).$D},A.$locale=function(){return Ce[this.$L]},A.locale=function(M,H){if(!M)return this.$L;var N=this.clone(),Y=me(M,H,!0);return Y&&(N.$L=Y),N},A.clone=function(){return W.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},w}(),Le=ge.prototype;return j.prototype=Le,[["$ms",e],["$s",O],["$m",G],["$H",te],["$W",B],["$M",Q],["$y",L],["$D",U]].forEach(function(w){Le[w[1]]=function(A){return this.$g(A,w[0],w[1])}}),j.extend=function(w,A){return w.$i||(w(A,ge,j),w.$i=!0),j},j.locale=me,j.isDayjs=J,j.unix=function(w){return j(1e3*w)},j.en=Ce[Ne],j.Ls=Ce,j.p={},j}()},49457:function(Pe,X){var e;void 0!==(e=function(){"use strict";function G(L,U,K){var V=new XMLHttpRequest;V.open("GET",L),V.responseType="blob",V.onload=function(){oe(V.response,U,K)},V.onerror=function(){console.error("could not download file")},V.send()}function te(L){var U=new XMLHttpRequest;U.open("HEAD",L,!1);try{U.send()}catch{}return 200<=U.status&&299>=U.status}function B(L){try{L.dispatchEvent(new MouseEvent("click"))}catch{var U=document.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),L.dispatchEvent(U)}}var ee="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Q=ee.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),oe=ee.saveAs||("object"!=typeof window||window!==ee?function(){}:"download"in HTMLAnchorElement.prototype&&!Q?function(L,U,K){var V=ee.URL||ee.webkitURL,z=document.createElement("a");z.download=U=U||L.name||"download",z.rel="noopener","string"==typeof L?(z.href=L,z.origin===location.origin?B(z):te(z.href)?G(L,U,K):B(z,z.target="_blank")):(z.href=V.createObjectURL(L),setTimeout(function(){V.revokeObjectURL(z.href)},4e4),setTimeout(function(){B(z)},0))}:"msSaveOrOpenBlob"in navigator?function(L,U,K){if(U=U||L.name||"download","string"!=typeof L)navigator.msSaveOrOpenBlob(function O(L,U){return typeof U>"u"?U={autoBom:!1}:"object"!=typeof U&&(console.warn("Deprecated: Expected third argument to be a object"),U={autoBom:!U}),U.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(L.type)?new Blob(["\ufeff",L],{type:L.type}):L}(L,K),U);else if(te(L))G(L,U,K);else{var V=document.createElement("a");V.href=L,V.target="_blank",setTimeout(function(){B(V)})}}:function(L,U,K,V){if((V=V||open("","_blank"))&&(V.document.title=V.document.body.innerText="downloading..."),"string"==typeof L)return G(L,U,K);var z="application/octet-stream"===L.type,Re=/constructor/i.test(ee.HTMLElement)||ee.safari,ce=/CriOS\/[\d]+/.test(navigator.userAgent);if((ce||z&&Re||Q)&&typeof FileReader<"u"){var he=new FileReader;he.onloadend=function(){var J=he.result;J=ce?J:J.replace(/^data:[^;]*;/,"data:attachment/file;"),V?V.location.href=J:location=J,V=null},he.readAsDataURL(L)}else{var Ne=ee.URL||ee.webkitURL,Ce=Ne.createObjectURL(L);V?V.location=Ce:location.href=Ce,V=null,setTimeout(function(){Ne.revokeObjectURL(Ce)},4e4)}});ee.saveAs=oe.saveAs=oe,Pe.exports=oe}.apply(X,[]))&&(Pe.exports=e)},57714:(Pe,X,v)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});var m=v(34155);X.Observable=m.Observable},46056:(Pe,X,v)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),function m(e){for(var O in e)X.hasOwnProperty(O)||(X[O]=e[O])}(v(57714))},82661:(Pe,X,v)=>{"use strict";v.d(X,{C:()=>Ce});var m=v(26215),e=v(54536),O=v(64537),G=v(88692);let te=(()=>{class J{constructor(j,W){this.dialogref=j,this.data=W,this.heading="Information",this.heading=W.header,this.message$=W.message}authResult(j){this.dialogref.close(j)}}return J.\u0275fac=function(j){return new(j||J)(O.Y36(e.so),O.Y36(e.WI))},J.\u0275cmp=O.Xpm({type:J,selectors:[["result-dialog"]],decls:11,vars:4,consts:[[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header","custom-modal-header"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[2,"display","inline-block"]],template:function(j,W){1&j&&(O.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),O._uU(4),O.qZA(),O.TgZ(5,"div",4),O.NdJ("click",function(){return W.authResult(!0)}),O._uU(6,"\xd7"),O.qZA()(),O.TgZ(7,"div",5),O._UZ(8,"div",6),O._uU(9),O.ALo(10,"async"),O.qZA()()()),2&j&&(O.xp6(4),O.Oqu(W.heading),O.xp6(5),O.hij(" ",O.lcZ(10,2,W.message$)," "))},dependencies:[G.Ov],encapsulation:2}),J})();var B=v(67297),ee=v(53074),Q=v(14970),oe=v(7976),L=v(67311);function U(J,me){1&J&&(O.TgZ(0,"h4",5),O._uU(1,"Your Fiscal Year is Changed. Year End Process will generate new sequence for transaction. Would you like to start Inventry year Ending Process ? "),O.qZA())}function K(J,me){1&J&&(O.TgZ(0,"h4",5),O._uU(1,"Your Fiscal Year is Changed.Please do year end process from Online portal and sync the transaction.If you want do back date Sales invoice Click Ok to continue.Thank you... "),O.qZA())}function V(J,me){if(1&J){const j=O.EpF();O.TgZ(0,"button",6),O.NdJ("click",function(){O.CHM(j);const ge=O.oxw();return O.KtG(ge.YesClick())}),O._uU(1,"Yes"),O.qZA()}}function z(J,me){if(1&J){const j=O.EpF();O.TgZ(0,"button",6),O.NdJ("click",function(){O.CHM(j);const ge=O.oxw();return O.KtG(ge.NoClick())}),O._uU(1,"No"),O.qZA()}}function Re(J,me){if(1&J){const j=O.EpF();O.TgZ(0,"button",6),O.NdJ("click",function(){O.CHM(j);const ge=O.oxw();return O.KtG(ge.offlinelineOK())}),O._uU(1,"OK"),O.qZA()}}let ce=(()=>{class J{constructor(j,W,ge,Le,w,A){this.dialogref=j,this.authSerice=W,this.masterService=ge,this.spinnerService=Le,this.router=w,this.alertService=A}YesClick(){1!==this.masterService.userSetting.ENABLEOFFLINESALE&&(this.spinnerService.show("Processing...Please Wait..."),this.masterService.masterGetmethod("/yearEndingInventory").subscribe(j=>{"ok"===j.status?(this.authSerice.setSessionVariable("isIYE",1),this.dialogref.close(),this.alertService.success("The year end for inventory are done successfully..."),setTimeout(()=>{console.log("from logout"),this.router.navigate(["login",{logout:"logout"}]).then(()=>{window.location.reload()})},5e3)):(this.spinnerService.hide(),alert(j.result.error))},j=>{this.spinnerService.hide(),alert(JSON.parse(j._body))}))}NoClick(){this.authSerice.setSessionVariable("isIYE",2),this.dialogref.close()}offlinelineOK(){this.authSerice.setSessionVariable("isIYE",2),this.dialogref.close()}}return J.\u0275fac=function(j){return new(j||J)(O.Y36(e.so),O.Y36(B.e),O.Y36(ee.P),O.Y36(Q.V),O.Y36(oe.F0),O.Y36(L.c))},J.\u0275cmp=O.Xpm({type:J,selectors:[["inventry-yearend-dialog"]],decls:8,vars:5,consts:[[1,"modal-content","modal-content-main-area",2,"width","100%"],[1,"modal-header"],["class","modal-title","id","myModalLabel",4,"ngIf"],[1,"modal-body"],["class","btn btn-info",3,"click",4,"ngIf"],["id","myModalLabel",1,"modal-title"],[1,"btn","btn-info",3,"click"]],template:function(j,W){1&j&&(O.TgZ(0,"div",0)(1,"div",1),O.YNc(2,U,2,0,"h4",2),O.YNc(3,K,2,0,"h4",2),O.qZA(),O.TgZ(4,"div",3),O.YNc(5,V,2,0,"button",4),O.YNc(6,z,2,0,"button",4),O.YNc(7,Re,2,0,"button",4),O.qZA()()),2&j&&(O.xp6(2),O.Q6J("ngIf",1!=W.masterService.userSetting.ENABLEOFFLINESALE),O.xp6(1),O.Q6J("ngIf",1==W.masterService.userSetting.ENABLEOFFLINESALE),O.xp6(2),O.Q6J("ngIf",1!=W.masterService.userSetting.ENABLEOFFLINESALE),O.xp6(1),O.Q6J("ngIf",1!=W.masterService.userSetting.ENABLEOFFLINESALE),O.xp6(1),O.Q6J("ngIf",1==W.masterService.userSetting.ENABLEOFFLINESALE))},dependencies:[G.O5],styles:[".md-dialog-container[_ngcontent-%COMP%]{height:auto!important;width:auto!important;overflow:hidden!important;box-shadow:0!important}.mat-dialog-container[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important;margin-left:auto;margin-right:auto;overflow:hidden!important;height:350px!important}.auth-main[_ngcontent-%COMP%]{position:inherit!important;display:inherit!important}.cdk-overlay-pane[_ngcontent-%COMP%], .md-overlay-pane[_ngcontent-%COMP%]{height:auto!important}.cdk-overlay-pane[_ngcontent-%COMP%], .md-overlay-pane[_ngcontent-%COMP%]{flex:1 1 0}"]}),J})();var he=v(71180),Ne=v(62870);let Ce=(()=>{class J{constructor(j,W,ge,Le,w,A){this.gblstate=j,this._authService=W,this.authenticationService=ge,this.masterService=Le,this.router=w,this.dialog=A,this.viewPermission=[],this.userSetting={},this.enableFiscalYearEnd=!1,this.viewPermission=j.getGlobalSetting("View-Permission")||[],this.userSetting=this.masterService.userSetting}canActivate(j,W){const ge=new m.X(""),Le=ge.asObservable(),w=this._authService.getAuth();let A="";null!=j.url[0]&&(A=j.url[0].path),console.log("path",A);let M=j.params.mode;if(void 0===M&&(M="list"),!w||!w.profile){ge.next("Your session has expired. You have been logged out of your account in another tab. Please log in again to continue.");const N=this.dialog.open(te,{hasBackdrop:!0,data:{header:"Information",message:Le}});return this.authenticationService.setCurrentUserValue(null),this.router.navigate(["/login"]),setTimeout(()=>{N.close()},1e4),!1}if(0===this._authService.getSessionVariable("isIYE")&&(this.dialog.closeAll(),this.dialog.open(ce,{hasBackdrop:!0,data:{header:"Information",message:""}}),"dashboard"!==A))return!1;if(w&&w.profile&&"dashboard"===A||"SYSTEMUSER"===this._authService?.getUserProfile()?.username.toUpperCase()&&("division"==A||"payment-mode-master"==A))return!0;("adduser"==A&&"role"==M||"adduser"==A&&"user"==M)&&(M="add"),"adduser"==A&&"editRole"==M&&(M="edit");const H=this._authService.getMenuRight(A,M);return A?!0===H.right||"list"===M&&!0===H.list:!0===H.list||void 0}}return J.\u0275fac=function(j){return new(j||J)(O.LFG(he.q),O.LFG(B.e),O.LFG(Ne.$),O.LFG(ee.P),O.LFG(oe.F0),O.LFG(e.uw))},J.\u0275prov=O.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},30334:(Pe,X,v)=>{"use strict";v.d(X,{S:()=>te});var m=v(64537),e=v(35732),O=v(67297),G=v(71180);let te=(()=>{class B{constructor(Q,oe,L){this.http=Q,this.authService=oe,this.state=L;const U=this.state.getGlobalSetting("apiUrl");U&&U.length>0&&(this.apiUrl=U)}postPaymentTerms(Q){const oe={headers:this.authService.getRequestOption(),method:"post"};return this.http.post(`${this.apiUrl}/savePaymentTerms`,Q,oe)}saveDeclineStatus(Q){const oe={headers:this.authService.getRequestOption(),method:"post"};return this.http.post(`${this.apiUrl}/saveDeclineStatus`,Q,oe)}getPaymentTerms(){return this.http.get(this.apiUrl+"/LoadPaymentTerms")}getQuotationStatus(){return this.http.get(this.apiUrl+"/getQuotationStatus")}getDeclineStatusRemarks(){return this.http.get(this.apiUrl+"/LoadDeclineStatus")}}return B.\u0275fac=function(Q){return new(Q||B)(m.LFG(e.eN),m.LFG(O.e),m.LFG(G.q))},B.\u0275prov=m.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},71459:(Pe,X,v)=>{"use strict";v.d(X,{J:()=>O});var m=v(20092),e=v(64537);let O=(()=>{class G{}return G.\u0275fac=function(B){return new(B||G)},G.\u0275mod=e.oAB({type:G}),G.\u0275inj=e.cJS({imports:[m.UX,m.u5]}),G})()},63213:(Pe,X,v)=>{"use strict";v.d(X,{u:()=>te});var m=v(42326),e=v(64537),O=v(87584),G=v(7976);let te=(()=>{class B{constructor(Q,oe){this._trnMainService=Q,this.arouter=oe,this.activeurlpath=oe._routerState.snapshot.url.split("/").pop()}transform(Q){return console.log("field name",Q),this.disableFieldInTransaction(Q)}disableFieldInTransaction(Q){switch(Q){case"disableWareHouse":return(this._trnMainService.TrnMainObj.VoucherType==m.Km.TaxInvoice||"abbreviated-sales-invoice"==this._trnMainService.activeurlpath||"self-billing"==this._trnMainService.activeurlpath||"add-membership-sales-invoice"==this._trnMainService.activeurlpath||this._trnMainService.TrnMainObj.VoucherType==m.Km.DeliveryChalan||this._trnMainService.TrnMainObj.VoucherType==m.Km.PerformaSalesInvoice||this._trnMainService.TrnMainObj.VoucherType==m.Km.Purchase||this._trnMainService.TrnMainObj.VoucherType==m.Km.DebitNote||this._trnMainService.TrnMainObj.VoucherType==m.Km.GoodsReceived||this._trnMainService.TrnMainObj.VoucherType==m.Km.OpeningStockBalance||this._trnMainService.TrnMainObj.VoucherType==m.Km.StockIssue||this._trnMainService.TrnMainObj.VoucherType==m.Km.StockIssueReturn||this._trnMainService.TrnMainObj.VoucherType==m.Km.BranchTransferIn||this._trnMainService.TrnMainObj.VoucherType==m.Km.BranchTransferOut||this._trnMainService.TrnMainObj.VoucherType==m.Km.RequisitionEntry||this._trnMainService.TrnMainObj.VoucherType==m.Km.RequisitionApproval||this._trnMainService.TrnMainObj.VoucherType==m.Km.Repack||this._trnMainService.TrnMainObj.VoucherType==m.Km.StockSettlement||this._trnMainService.TrnMainObj.VoucherType==m.Km.BatchAdjustment||"stockageing-report"==this.activeurlpath||"stock-issue-report"==this.activeurlpath||"stock-variance-report"==this.activeurlpath||"reorder-levelstock-report"==this.activeurlpath||"max-stocklevel-report"==this.activeurlpath||"minimum-stocklevel-report"==this.activeurlpath||"item-expiry-report"==this.activeurlpath||"stock-ledger-report"==this.activeurlpath||"stock-summary-report"==this.activeurlpath||"requisition-report"==this.activeurlpath||"openingstock-report"==this.activeurlpath)&&1==this._trnMainService.userSetting.UserWiseWarehouse;case"disableGridInMixedPurchase":return!!("VIEW"==this._trnMainService.TrnMainObj.Mode||1==this._trnMainService.disableAllFieldinPurchase||this._trnMainService.TrnMainObj.VoucherType==m.Km.DebitNote&&this._trnMainService.userSetting.REFBILLCOMPULSORINDNOTE)}}}return B.\u0275fac=function(Q){return new(Q||B)(e.Y36(O.p,16),e.Y36(G.gz,16))},B.\u0275pipe=e.Yjl({name:"disableField",type:B,pure:!0}),B})()},53158:(Pe,X,v)=>{"use strict";v.d(X,{i:()=>te});var m=v(88692),e=v(72533),O=v(20092),G=v(64537);let te=(()=>{class B{static forRoot(){return{ngModule:B}}}return B.\u0275fac=function(Q){return new(Q||B)},B.\u0275mod=G.oAB({type:B}),B.\u0275inj=G.cJS({imports:[m.ez,O.u5,O.UX,e.JX]}),B})()},11706:(Pe,X,v)=>{"use strict";v.r(X),v.d(X,{ReportModule:()=>Oee});var m=v(7976),e=v(64537);let O=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["report"]],decls:1,vars:0,template:function(t,r){1&t&&e._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2}),n})();var G=v(54536);function te(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"closing-stock",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bill-wise-item-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-invoice-detail-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-order-detail-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"customer-wise-item-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function L(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"item-master",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function U(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"stock-settlement-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function K(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"item-scheme-master",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function V(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"itemwise-channel-margin",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-return-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-order-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-bill-cancel-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function he(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"customerwise-salesreturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ne(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"dailycollection-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"salesreturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function J(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"scheme-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function me(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-order-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function j(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function W(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-order-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-return-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"itemwisestockandsalessummary",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function w(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"result-purchaseregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function A(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"saleseregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function M(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"opening-stock",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function H(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mrp-change-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function N(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"audit-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchasereturn-summary-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"daily-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function $(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"vat-sales-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function pe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"annexure13report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ne(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"vat-purchase-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"debitnote-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function we(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"creditnote-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"one-lakh-above-SALES-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function nt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"one-lakh-above-purchase-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function at(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"account-ledger-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-book-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function be(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"salesreport-itemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-book-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Mt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchasereport-itemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ut(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-itemwise-detail",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function M3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-report-itemwise-detail",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function A3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"credit-notebook-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function P3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"debit-notebook-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function R3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-report-supplier-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function E3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-customer-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function D3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-supplier-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function I3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"SalesReportProductTypeWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function N3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"PurchaseReportCategoryWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function k3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"PurchaseReportProductTypeWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function y3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"SalesReportCategoryWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function F3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"salesregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function j3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"stock-summary-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function L3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"requisition-approval-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function w3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"stock-ledger-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function x3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"stock-valuation-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function V3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"membership-point-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function W3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"datereport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Z3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"transreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function H3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"branch-transfer-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function U3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"item-expiry-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function z3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"maximum-stock-level-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function B3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"minimum-stock-level-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function q3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"reorder-level-stock-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Y3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"stockabc-analysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function J3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"pricechange-log-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function G3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-profitabilityanalysis",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Q3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-order-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function K3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-order-outstanding",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function $3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"quotation-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function X3(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"salesorderreport-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function e4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"salesorderoutstanding-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function t4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"currentstockwarehousewise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function r4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"grn-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function o4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"repack-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function n4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"requisition-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function a4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"rawdata-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function s4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"stockageing-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function l4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"branch-transferout-vs-inreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function c4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"stock-warehouse-wise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function p4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"consolidatedpurchase-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function d4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"consolidatedsales-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function _4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"consolidatedstock-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function h4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"branch-transfer-in-reportitemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function u4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"branchtransferout-itemwise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function g4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"salescollection-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function m4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"opening-stock-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function S4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"rate-group-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function f4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"salesprice-changelog-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function v4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"opening-stock-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function O4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"VATSalesRegister-ReportNew",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function b4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"vat-purchaseregisterreport-new",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function T4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"stock-issue-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function C4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"creditnote-sales-return-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function M4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"debitnote-purchasereturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function A4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"vat-other-adjustment-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function P4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"shift-close-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function R4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"stock-variance-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function E4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-revenueanalysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function D4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-salesman-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function I4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-report-membership-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function N4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"proformainvoicereport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function k4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"recurring-transaction-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function y4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"recurring-transaction-analysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function F4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-flow-report-monthwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function j4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"purchase-flow-report-monthwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function L4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"worsesales-analysisreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function w4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"topsales-analysisreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function x4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"sales-revenue-metrics-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function V4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-hourly-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}let po=(()=>{class n{constructor(t,r){this.dialogref=t,this.data=r,this.ReportParameters={},this.activeurlpath=r.activeurlpath,this.currentreportparam=r.reportparam}reportdataEmit(t){this.dialogref.close(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G.so),e.Y36(G.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["masterdreportdialog"]],decls:110,vars:110,consts:[[3,"reportdataEmit",4,"ngIf"],[3,"reportdataEmit"]],template:function(t,r){1&t&&(e.YNc(0,te,1,0,"closing-stock",0),e.YNc(1,B,1,0,"bill-wise-item-sales-report",0),e.YNc(2,ee,1,0,"purchase-invoice-detail-report",0),e.YNc(3,Q,1,0,"purchase-order-detail-report",0),e.YNc(4,oe,1,0,"customer-wise-item-sales-report",0),e.YNc(5,L,1,0,"item-master",0),e.YNc(6,U,1,0,"stock-settlement-report",0),e.YNc(7,K,1,0,"item-scheme-master",0),e.YNc(8,V,1,0,"itemwise-channel-margin",0),e.YNc(9,z,1,0,"purchase-return-report",0),e.YNc(10,Re,1,0,"sales-order-report",0),e.YNc(11,ce,1,0,"sales-bill-cancel-report",0),e.YNc(12,he,1,0,"customerwise-salesreturn-report",0),e.YNc(13,Ne,1,0,"dailycollection-report",0),e.YNc(14,Ce,1,0,"salesreturn-report",0),e.YNc(15,J,1,0,"scheme-report",0),e.YNc(16,me,1,0,"purchase-order-summary",0),e.YNc(17,j,1,0,"purchase-summary",0),e.YNc(18,W,1,0,"sales-order-summary",0),e.YNc(19,ge,1,0,"sales-return-summary",0),e.YNc(20,Le,1,0,"itemwisestockandsalessummary",0),e.YNc(21,w,1,0,"result-purchaseregisterreport-dialog",0),e.YNc(22,A,1,0,"saleseregisterreport-dialog",0),e.YNc(23,M,1,0,"opening-stock",0),e.YNc(24,H,1,0,"mrp-change-report",0),e.YNc(25,N,1,0,"audit-report",0),e.YNc(26,Y,1,0,"purchasereturn-summary-report",0),e.YNc(27,q,1,0,"daily-sales-report",0),e.YNc(28,$,1,0,"vat-sales-register-report",0),e.YNc(29,pe,1,0,"annexure13report",0),e.YNc(30,ne,1,0,"vat-purchase-register-report",0),e.YNc(31,fe,1,0,"debitnote-register-report",0),e.YNc(32,we,1,0,"creditnote-register-report",0),e.YNc(33,ye,1,0,"one-lakh-above-SALES-report",0),e.YNc(34,nt,1,0,"one-lakh-above-purchase-report",0),e.YNc(35,at,1,0,"account-ledger-report",0),e.YNc(36,Ge,1,0,"purchase-book-report",0),e.YNc(37,be,1,0,"salesreport-itemwise",0),e.YNc(38,xe,1,0,"sales-book-report",0),e.YNc(39,Mt,1,0,"purchasereport-itemwise",0),e.YNc(40,ut,1,0,"sales-report-itemwise-detail",0),e.YNc(41,M3,1,0,"purchase-report-itemwise-detail",0),e.YNc(42,A3,1,0,"credit-notebook-report",0),e.YNc(43,P3,1,0,"debit-notebook-report",0),e.YNc(44,R3,1,0,"purchase-report-supplier-wise",0),e.YNc(45,E3,1,0,"sales-report-customer-wise",0),e.YNc(46,D3,1,0,"sales-report-supplier-wise",0),e.YNc(47,I3,1,0,"SalesReportProductTypeWise",0),e.YNc(48,N3,1,0,"PurchaseReportCategoryWise",0),e.YNc(49,k3,1,0,"PurchaseReportProductTypeWise",0),e.YNc(50,y3,1,0,"SalesReportCategoryWise",0),e.YNc(51,F3,1,0,"salesregisterreport-dialog",0),e.YNc(52,j3,1,0,"stock-summary-report",0),e.YNc(53,L3,1,0,"requisition-approval-report",0),e.YNc(54,w3,1,0,"stock-ledger-report",0),e.YNc(55,x3,1,0,"stock-valuation-report",0),e.YNc(56,V3,1,0,"membership-point-report",0),e.YNc(57,W3,1,0,"datereport",0),e.YNc(58,Z3,1,0,"transreport",0),e.YNc(59,H3,1,0,"branch-transfer-report",0),e.YNc(60,U3,1,0,"item-expiry-report",0),e.YNc(61,z3,1,0,"maximum-stock-level-report",0),e.YNc(62,B3,1,0,"minimum-stock-level-report",0),e.YNc(63,q3,1,0,"reorder-level-stock-report",0),e.YNc(64,Y3,1,0,"stockabc-analysis-report",0),e.YNc(65,J3,1,0,"pricechange-log-report",0),e.YNc(66,G3,1,0,"sales-profitabilityanalysis",0),e.YNc(67,Q3,1,0,"purchase-order-report",0),e.YNc(68,K3,1,0,"purchase-order-outstanding",0),e.YNc(69,$3,1,0,"quotation-report-selector",0),e.YNc(70,X3,1,0,"salesorderreport-selector",0),e.YNc(71,e4,1,0,"salesorderoutstanding-selector",0),e.YNc(72,t4,1,0,"currentstockwarehousewise-report",0),e.YNc(73,r4,1,0,"grn-report-selector",0),e.YNc(74,o4,1,0,"repack-report-selector",0),e.YNc(75,n4,1,0,"requisition-report-selector",0),e.YNc(76,a4,1,0,"rawdata-report-selector",0),e.YNc(77,s4,1,0,"stockageing-report-selector",0),e.YNc(78,l4,1,0,"branch-transferout-vs-inreport",0),e.YNc(79,c4,1,0,"stock-warehouse-wise-report",0),e.YNc(80,p4,1,0,"consolidatedpurchase-reportbranchwise",0),e.YNc(81,d4,1,0,"consolidatedsales-reportbranchwise",0),e.YNc(82,_4,1,0,"consolidatedstock-reportbranchwise",0),e.YNc(83,h4,1,0,"branch-transfer-in-reportitemwise",0),e.YNc(84,u4,1,0,"branchtransferout-itemwise-report",0),e.YNc(85,g4,1,0,"salescollection-selector",0),e.YNc(86,m4,1,0,"opening-stock-report-selector",0),e.YNc(87,S4,1,0,"rate-group-report",0),e.YNc(88,f4,1,0,"salesprice-changelog-report",0),e.YNc(89,v4,1,0,"opening-stock-report-selector",0),e.YNc(90,O4,1,0,"VATSalesRegister-ReportNew",0),e.YNc(91,b4,1,0,"vat-purchaseregisterreport-new",0),e.YNc(92,T4,1,0,"stock-issue-report",0),e.YNc(93,C4,1,0,"creditnote-sales-return-register-report",0),e.YNc(94,M4,1,0,"debitnote-purchasereturn-report",0),e.YNc(95,A4,1,0,"vat-other-adjustment-report",0),e.YNc(96,P4,1,0,"shift-close-report",0),e.YNc(97,R4,1,0,"stock-variance-report",0),e.YNc(98,E4,1,0,"sales-revenueanalysis-report",0),e.YNc(99,D4,1,0,"sales-report-salesman-wise",0),e.YNc(100,I4,1,0,"sales-report-membership-wise",0),e.YNc(101,N4,1,0,"proformainvoicereport",0),e.YNc(102,k4,1,0,"recurring-transaction-report",0),e.YNc(103,y4,1,0,"recurring-transaction-analysis-report",0),e.YNc(104,F4,1,0,"sales-flow-report-monthwise",0),e.YNc(105,j4,1,0,"purchase-flow-report-monthwise",0),e.YNc(106,L4,1,0,"worsesales-analysisreport",0),e.YNc(107,w4,1,0,"topsales-analysisreport",0),e.YNc(108,x4,1,0,"sales-revenue-metrics-report",0),e.YNc(109,V4,1,0,"app-hourly-sales-report",0)),2&t&&(e.Q6J("ngIf","closingStock"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","billwiseitemsalesreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseinvoicedetailreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorderdetailreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","customerwiseitemsales"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemMasterreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stockSettlementreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemSchemeMasterreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemwisechannelmarginreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereturnreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorder"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesbillcancelreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","customerwisesalesreturnreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","dailycollectionreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreturnreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","schemereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseordersummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasesummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesordersummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreturnsummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemwisestockandsalessummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseRegisterReport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesRegisterReport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","opening-stock-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","mrp-change-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","audit-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseReturnSummaryReport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","dailysalesreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatsalesregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","annexure13report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatpurchaseregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatdebitnoteregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatcreditnoteregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","onelakhsalesreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","onelakhpurchasereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","accountledgerreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasebookreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesbook-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-itemwise-detail"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-itemwise-detail"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","creditnotebook-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","debitnotebook-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-supplierwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-customerwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-supplierwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","SalesReportProductTypeWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","PurchaseReportCategoryWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","PurchaseReportProductTypeWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","SalesReportCategoryWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","saleseregisterreport-dialog"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-summary-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","requisition-approval-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-ledger-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-valuation-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","membershippointreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","datereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","transreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transfer-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","item-expiry-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","max-stocklevel-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","minimum-stocklevel-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","reorder-levelstock-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-abcanalysis-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","price-changelog-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesprofitability-analysis"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorderreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorder-outstanding"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","quotationreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorderreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorderoutstanding"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","currentstock-warehousewise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","grn-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","repack-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","requisition-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","raw-data-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stockageing-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transferout-vs-inreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-report-warehouse-wise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedpurchase-report-branchwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedsales-report-branchwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedstock-report-branchwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transfer-inreport-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transferout-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-collection-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","openingstockreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","rate-group-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesprice-changelog-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","openingstock-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-saleseregisterreport-new"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-purchaseregisterreport-new"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-issue-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","credit-note-sales-return-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","debitnote-purchasereturn-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-other-adjustment-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","shift-close-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-variance-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesrevenue-analysisreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-salesmanwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-membershipwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","proformainvoicereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","recurring-transaction-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","recurring-transaction-analysis-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-flow-report-monthwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchase-flow-report-monthwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","worsesales-analysisreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","topnsales-analysisreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-revenue-metrics-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","hourly-sales-report"==r.activeurlpath))},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var ze=v(71732),Ve=v(79765);class W4{constructor(){this.show=!1}}class Z4{constructor(a,t,r){this.label=a,this.value=t,this.subject=r}}var _o=v(74426),u=v(88692),ho=v(49457),At=v(23815),yr=v.n(At),H4=v(16738),y=v.n(H4),b=v(53074),E=v(67297),ae=v(92340),Te=v(35732),U4=v(71180);let R=(()=>{class n{constructor(t,r,o,i){this.authService=t,this.http=r,this.state=o,this.masterService=i,this.reportLoadSubject=new Ve.xQ,this.assignPrevioiusDate=!1,this.ReportFilterObject={},this.AccoutLedgerObj={},this.StockSummaryObj={},this.PartyLedgerObj={},this.StockLedgerObj={},this.StockValuationObj={},this.SalesBookObj={},this.PurchaseBookObj={},this.CreditNoteObj={},this.DebitNoteObj={},this.SalesItemWiseObj={},this.PurchaseItemWiseObj={},this.RequisitionApprovalObj={},this.SalesItemWiseDetailObj={},this.PurchaseItemWiseDetailObj={},this.SalesCustomerWiseObj={},this.SalesCategoryWiseObj={},this.PurchaseCategoryWiseObj={},this.SalesProductTypeObj={},this.PurchaseProductTypeObj={},this.SalesSupplierWiseObj={},this.PurchaseSupplierWiseObj={},this.MembershipPointObj={},this.BranchTransferObj={},this.ItemExpiryObj={},this.MaximumStockLevelObj={},this.MinimumStockLevelObj={},this.ReorderLevelStockReport={},this.StockAbcAnalysisObj={},this.PriceChangeLogObj={},this.SalesProfitabilityAnalysisObj={},this.PurchaseOrderReportObj={},this.PurchaseOrderOutstandingObj={},this.QuotationReportObj={},this.SalesOrderReportObj={},this.SalesOrderOutstandingObj={},this.CurrentStockWarehousewiseObj={},this.GrnReportObj={},this.HourlySalesReportObj={},this.RepackReportObj={},this.RequisitionReportObj={},this.RawDataReportObj={},this.RecurringTransactionReportObj={},this.Annexure13ReportObj={},this.StockAgeingObj={},this.BranchtransferoutVsInObj={},this.StockWarehousewiseObj={},this.ConsolidtedPurchaseBranchWiseObj={},this.ConsolidtedSalesBranchWiseObj={},this.ConsolidtedStockBranchWiseObj={},this.BranchTransferInItemWiseObj={},this.BranchTransferOutItemwiseObj={},this.SalesCollectionObj={},this.ConsolidatedStockWarehousewiseObj={},this.OpeningStockObj={},this.RateGroupObj={},this.SalesPricechangeLogObj={},this.StockIssueObj={},this.VATSalesNewObj={},this.VATPurchaseNewObj={},this.CreditNoteSalesReturnObj={},this.DebitNotePurchaseReturnObj={},this.VatOtherAdjustmentObj={},this.ShiftCloseObj={},this.StockVarianceObj={},this.SalesRevenueAnalysisObj={},this.SalesReportSalesmanWiseObj={},this.SalesMembershipWiseObj={},this.ProformaInvoiceWiseObj={},this.RecurringTransactionAnalysisObj={},this.SalesFlowObj={},this.PurchaseFlowObj={},this.WorstSalesObj={},this.TopNSalesObj={},this.SalesRevenueMetricsObj={},this.TransactionLogObj={},this.SelectedAccount="",this.selectedAccountParty="",this.previouslyLoadedReportList=[],this.drillParam={},this.loadShowAll()}exportReportFormat(t){return this.http.get(this.apiUrl+`/downloadReportFormat?reportName=${t}`)}importReportFormat(t){return this.http.get(this.apiUrl+`/resetReportFormatToDefault?reportName=${t}`)}saveExcelColumnFormate(t,r){let o={status:"error",result:""},i=new Ve.xQ;return new Headers({"Content-Type":"application/json"}),this.http.post(this.apiUrl+r,t).subscribe(p=>{const d=p;"ok"==d.status?(o.status="ok",o.result=d.result,i.next(o),i.unsubscribe()):(o.status="error1",o.result=d.result,i.next(o),i.unsubscribe())},p=>{o.status="error2",o.result=p,i.next(o),i.unsubscribe()}),i}getExcelColumnFormate(t){let r={status:"error",result:""},o=new Ve.xQ;return this.http.get(`${this.apiUrl}/getExcelColumnFormate/${t}`).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getItemImage(t){let r={status:"error",result:""},o=new Ve.xQ;return this.http.get(`${this.apiUrl}/getItemImage/${t}`).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}get apiUrl(){let t=ae.N.apiUrl,r="";return!!t&&t.length>0&&(r=t),r}saveReportColumnFormat(t,r){let o={status:"error",result:""},i=new Ve.xQ;return new Headers({"Content-Type":"application/json"}),this.http.post(this.apiUrl+r,t).subscribe(p=>{const d=p;"ok"==d.status?(o.status="ok",o.result=d.result,i.next(o),i.unsubscribe()):(o.status="error1",o.result=d.result,i.next(o),i.unsubscribe())},p=>{o.status="error2",o.result=p,i.next(o),i.unsubscribe()}),i}getReportColumnFormate(t){let r={status:"error",result:""},o=new Ve.xQ;return this.http.get(`${this.apiUrl}/getReportColumnFormate/${t}`).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}drillDown(t,r=""){this.drillParam={},this.drillParam.reportparam={},this.drillParam.reportparam.mode="DRILL",this.drillParam.returnUrl=r}filterWarehouses(t,r){return"%"===r?t:t.filter(o=>o.DIVISION===r)}updateReportColumnFormat(t){return this.http.post(this.apiUrl+"/updateReportColumnFormat",t)}refreshReportColumnFormate(t,r){let o={status:"error",result:""},i=new Ve.xQ;return this.http.post(`${this.apiUrl}/refreshReportColumnFormate`,{reportname:t,reportparam:r}).subscribe(p=>{i.next(p),i.unsubscribe()},p=>{o.status="error",o.result=p,i.next(o),i.unsubscribe()}),i}loadShowAll(){this.masterService.getAccDivList().subscribe(t=>{this.masterService.showAll=t})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.e),e.LFG(Te.eN),e.LFG(U4.q),e.LFG(b.P))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var uo=v(14970),I=v(67311),C=v(87584),Qe=v(71800),We=v(72533),l=v(20092);const z4=["modalcontainer"];function B4(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",5),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.callSubscriber(i))}),e._uU(2),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.label)}}let q4=(()=>{class n{constructor(t){this.changeDetectorRef=t,this.containerPosY=0,this.containerPosX=0,this.isArrowUpward=!0}ngOnInit(){this.changeDetectorRef.detectChanges(),this.prepareContextMenu()}hideContextMenuWithTimer(t){(0,ze.isNullOrUndefined)(t)&&(t=n.MOUSE_OUT_TIMEOUT_MS),this.autoHideTimer=setTimeout(()=>{this.data.show=!1},t)}clearContextMenuHideTimer(){clearTimeout(this.autoHideTimer)}isValueNullOrUndefined(t){return!!(0,ze.isNullOrUndefined)(t)}callSubscriber(t){t.subject.next(t)}prepareContextMenu(){try{this.validateData(),this.buildDisplayPositions()}catch(t){this.hideContextMenuWithTimer(0),console.error("unable to prepareContextMenu the context menu due to following exception/error: "+t)}finally{this.data.show&&this.hideContextMenuWithTimer(n.IDLE_TIMEOUT_MS)}}buildDisplayPositions(){const t=this.container.nativeElement;let r=0;(0,ze.isNullOrUndefined)(t)||(r=t.offsetHeight),r>0&&(this.buildTopPosition(r),this.buildLeftPosition())}validateData(){if((0,ze.isNullOrUndefined)(this.data))throw new TypeError("context menu info can not be null or undefined");if((0,ze.isNullOrUndefined)(this.data.mouseEvent))throw new TypeError("context menu should be associated with mouseEvent e.g. mouse left click");if((0,ze.isNullOrUndefined)(this.data.menuItems))throw new TypeError("action item is missing")}buildLeftPosition(){this.containerPosX=this.data.mouseEvent.clientX}buildTopPosition(t){const r=this.data.mouseEvent.currentTarget.offsetHeight,o=window.innerHeight,i=this.data.mouseEvent.clientY;let p=-10;t+i+r<o?p=i+r:(p=i-(t+r),this.isArrowUpward=!1),p<0&&(p=0),this.containerPosY=p}}return n.IDLE_TIMEOUT_MS=2e4,n.MOUSE_OUT_TIMEOUT_MS=2e4,n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contextmenu"]],viewQuery:function(t,r){if(1&t&&e.Gf(z4,5),2&t){let o;e.iGM(o=e.CRH())&&(r.container=o.first)}},inputs:{data:"data"},decls:5,vars:6,consts:[[1,"modal-container",3,"mouseout","mouseover"],["modalcontainer",""],[1,"modal-tip",3,"ngClass"],["id","left-container",1,"left-container"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0,1),e.NdJ("mouseout",function(i){return r.hideContextMenuWithTimer(i)})("mouseover",function(){return r.clearContextMenuHideTimer()}),e._UZ(2,"div",2),e.TgZ(3,"ul",3),e.YNc(4,B4,3,1,"li",4),e.qZA()()),2&t&&(e.Udp("left",r.containerPosX,"px")("top",r.containerPosY,"px"),e.xp6(2),e.s9C("ngClass",r.isArrowUpward?"modal-tip-upward-arrow":"modal-tip-downward-arrow"),e.xp6(2),e.Q6J("ngForOf",r.data.menuItems))},dependencies:[u.mk,u.sg],styles:['li[_ngcontent-%COMP%]{list-style:none}.modal-container[_ngcontent-%COMP%]{left:40px;position:absolute;z-index:100000}.modal-container[_ngcontent-%COMP%]   .modal-tip[_ngcontent-%COMP%]{content:"";display:block;position:absolute;left:20px;width:8px;height:4px}.modal-container[_ngcontent-%COMP%]   .modal-tip-upward-arrow[_ngcontent-%COMP%]{top:-4px}.modal-container[_ngcontent-%COMP%]   .modal-tip-downward-arrow[_ngcontent-%COMP%]{bottom:-4px;top:auto}.modal-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{float:left;padding:15px;min-width:110px;margin-right:5px;margin-bottom:0;box-shadow:1px 1px 2px #999;border:1px solid #999999;background-color:#fff}.modal-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 0}']}),n})(),Y4=(()=>{class n{transform(t,r){return r&&t?n.filter(t,r):t}static filter(t,r){const o=r.toLowerCase();function i(s,p){for(let d in s)if(null!==s[d]&&null!=s[d]&&("object"==typeof s[d]&&i(s[d],p)||s[d].toString().toLowerCase().includes(o)))return!0;return!1}return t.filter(function(s){return i(s,r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),J4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const G4=["childModal"],Q4=["body"];function K4(n,a){1&n&&(e.TgZ(0,"label",53),e._uU(1,"@As On Dated:\xa0"),e.qZA())}function $4(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.engDateFrom," To ",t.engDateTo," ")}}function X4(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("(",t.FromdateInAD," To ",t.TodateInAD,") \xa0")}}function e6(n,a){if(1&n&&(e.TgZ(0,"label",55),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.reportparam.DATE,"\xa0(",t.FromdateInAD,")")}}function t6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Division: ",t.divisionDisplayName,"\xa0")}}function r6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Warehouse: ",t.warehouseDisplayName,"\xa0")}}function i6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@F/W: ",t.FromwarehouseName,"\xa0")}}function o6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@T/W: ",t.ToWarehouseName,"\xa0")}}function n6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Item Group: ",t.itemGroupDisplayName,"\xa0")}}function a6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Category: ",t.categoryDisplayName,"\xa0")}}function s6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Item: ",t.itemName,"\xa0")}}function l6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Item Type: ",t.itemTypeDisplay,"\xa0")}}function c6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Supplier: ",t.supplierDisplayName,"\xa0")}}function p6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",t.itemDisplayName," (",t.itemDisplaycode,")\xa0")}}function d6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",t.stockLedgerItemDisplayName," (",t.stockLedgerItemDisplaycode,")\xa0")}}function _6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",t.itemwiseDisplayName," (",t.itemwiseDisplaycode,")\xa0\xa0")}}function h6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.labelDisplayName,"\xa0")}}function u6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.reportTypeDisplayName,"\xa0")}}function g6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Report Mode: ",t.reporModeDisplayName,"\xa0")}}function m6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.includeReturnDisplayName,"\xa0")}}function S6(n,a){1&n&&(e.TgZ(0,"label",54),e._uU(1," {{creditNoteDisplayName}\xa0}"),e.qZA())}function f6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.debitNoteDisplayName,"\xa0")}}function v6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Report Type: ",t.purchaseItemWiseDisplay,"\xa0")}}function O6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Cost Center: ",t.costcenterDisplayName,"\xa0")}}function b6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Customer Name: ",t.customerDisplayName,"\xa0")}}function T6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Salesman Name: ",t.SalesmanDisplayName,"\xa0")}}function C6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Recurring Item: ",t.RecurringItemName,"\xa0")}}function M6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Recurring Category: ",t.RecurringCategory,"\xa0")}}function A6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Report Option: ",t.RecurringOptionDisplayName,"\xa0")}}function P6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.reportOptionDisplayName,"\xa0")}}function R6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Transaction Mode: ",t.recurringTransactionMode,"\xa0")}}function E6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.showDetailDisplay,"\xa0")}}function D6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.showUserWiseFormat,"\xa0")}}function I6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.stockshowDetailDisplay,"\xa0")}}function N6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.showdetalreportdisplay,"\xa0")}}function k6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.reportTypeDisplay,"\xa0")}}function y6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Customer Type:",t.customerTypeDisplayName,"\xa0")}}function F6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Area:",t.areaDisplayName,"\xa0")}}function j6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Trn Mode:",t.transactionDisplayName,"\xa0")}}function L6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.areaWiseDisplayName,"\xa0")}}function w6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Sales Amount >= ",t.tranAmntDisplayName,"\xa0")}}function x6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Purchase Amount >= ",t.purchasetranAmntDisplayName,"\xa0")}}function V6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Product Type:",t.productTypeDisplay,"\xa0")}}function W6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.purchaseReturnDisplayName,"\xa0")}}function Z6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.showReportType,"\xa0")}}function H6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Member Name: ",t.memberDisplayName,"\xa0")}}function U6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@Points >= ",t.membershipPointDisplay,"\xa0")}}function z6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.topNsortDisplay,"\xa0")}}function B6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("@User: ",t.UserDisplayName,"\xa0")}}function q6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Terminal: ",t.terminalDisplayName,"")}}function Y6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" @TimeWiseReport: @From:",t.TimeDisplay," @To: ",t.TimeDisplay2,"")}}function J6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Req From: ",t.REQFROMDISPLAYNAME,"")}}function G6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Requ To: ",t.REQTODISPLAYNAME,"")}}function Q6(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" @Status: ",t.StatusDisplayName,"")}}function K6(n,a){if(1&n&&(e.ynx(0),e.YNc(1,K4,2,0,"label",50),e.YNc(2,$4,2,2,"label",51),e.YNc(3,X4,2,2,"label",51),e.YNc(4,e6,2,2,"label",52),e.YNc(5,t6,2,1,"label",51),e.YNc(6,r6,2,1,"label",51),e.YNc(7,i6,2,1,"label",51),e.YNc(8,o6,2,1,"label",51),e.YNc(9,n6,2,1,"label",51),e.YNc(10,a6,2,1,"label",51),e.YNc(11,s6,2,1,"label",51),e.YNc(12,l6,2,1,"label",51),e.YNc(13,c6,2,1,"label",51),e.YNc(14,p6,2,2,"label",51),e.YNc(15,d6,2,2,"label",51),e.YNc(16,_6,2,2,"label",51),e.YNc(17,h6,2,1,"label",51),e.YNc(18,u6,2,1,"label",51),e.YNc(19,g6,2,1,"label",51),e.YNc(20,m6,2,1,"label",51),e.YNc(21,S6,2,0,"label",51),e.YNc(22,f6,2,1,"label",51),e.YNc(23,v6,2,1,"label",51),e.YNc(24,O6,2,1,"label",51),e.YNc(25,b6,2,1,"label",51),e.YNc(26,T6,2,1,"label",51),e.YNc(27,C6,2,1,"label",51),e.YNc(28,M6,2,1,"label",51),e.YNc(29,A6,2,1,"label",51),e.YNc(30,P6,2,1,"label",51),e.YNc(31,R6,2,1,"label",51),e.YNc(32,E6,2,1,"label",51),e.YNc(33,D6,2,1,"label",51),e.YNc(34,I6,2,1,"label",51),e.YNc(35,N6,2,1,"label",51),e.YNc(36,k6,2,1,"label",51),e.YNc(37,y6,2,1,"label",51),e.YNc(38,F6,2,1,"label",51),e.YNc(39,j6,2,1,"label",51),e.YNc(40,L6,2,1,"label",51),e.YNc(41,w6,2,1,"label",51),e.YNc(42,x6,2,1,"label",51),e.YNc(43,V6,2,1,"label",51),e.YNc(44,W6,2,1,"label",51),e.YNc(45,Z6,2,1,"label",51),e.YNc(46,H6,2,1,"label",51),e.YNc(47,U6,2,1,"label",51),e.YNc(48,z6,2,1,"label",51),e.YNc(49,B6,2,1,"label",51),e.YNc(50,q6,2,1,"label",51),e.YNc(51,Y6,2,2,"label",51),e.YNc(52,J6,2,1,"label",51),e.YNc(53,G6,2,1,"label",51),e.YNc(54,Q6,2,1,"label",51),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.reportparam.DATE1||t.reportparam.DATE2||t.reportparam.DATE),e.xp6(1),e.Q6J("ngIf",t.reportparam.DATE1&&t.reportparam.DATE2),e.xp6(1),e.Q6J("ngIf",t.reportparam.DATE1&&t.reportparam.DATE2),e.xp6(1),e.Q6J("ngIf",t.reportparam.DATE),e.xp6(1),e.Q6J("ngIf",t.divisionDisplayName),e.xp6(1),e.Q6J("ngIf",t.warehouseDisplayName),e.xp6(1),e.Q6J("ngIf",t.FromwarehouseName),e.xp6(1),e.Q6J("ngIf",t.ToWarehouseName),e.xp6(1),e.Q6J("ngIf",t.itemGroupDisplayName),e.xp6(1),e.Q6J("ngIf",t.categoryDisplayName),e.xp6(1),e.Q6J("ngIf",t.itemName),e.xp6(1),e.Q6J("ngIf",t.itemTypeDisplay),e.xp6(1),e.Q6J("ngIf",t.supplierDisplayName),e.xp6(1),e.Q6J("ngIf",t.itemDisplayName),e.xp6(1),e.Q6J("ngIf",t.stockLedgerItemDisplaycode),e.xp6(1),e.Q6J("ngIf",t.itemwiseDisplaycode),e.xp6(1),e.Q6J("ngIf",t.labelDisplayName),e.xp6(1),e.Q6J("ngIf",t.reportTypeDisplayName),e.xp6(1),e.Q6J("ngIf",t.reporModeDisplayName),e.xp6(1),e.Q6J("ngIf",t.includeReturnDisplayName),e.xp6(1),e.Q6J("ngIf",t.creditNoteDisplayName),e.xp6(1),e.Q6J("ngIf",t.debitNoteDisplayName),e.xp6(1),e.Q6J("ngIf",t.purchaseItemWiseDisplay),e.xp6(1),e.Q6J("ngIf",t.costcenterDisplayName),e.xp6(1),e.Q6J("ngIf",t.customerDisplayName),e.xp6(1),e.Q6J("ngIf",t.SalesmanDisplayName),e.xp6(1),e.Q6J("ngIf",t.RecurringItemName),e.xp6(1),e.Q6J("ngIf",t.RecurringCategory),e.xp6(1),e.Q6J("ngIf",t.RecurringOptionDisplayName),e.xp6(1),e.Q6J("ngIf",t.reportOptionDisplayName),e.xp6(1),e.Q6J("ngIf",t.recurringTransactionMode),e.xp6(1),e.Q6J("ngIf",t.showDetailDisplay),e.xp6(1),e.Q6J("ngIf",t.showUserWiseFormat),e.xp6(1),e.Q6J("ngIf",t.stockshowDetailDisplay),e.xp6(1),e.Q6J("ngIf",t.showdetalreportdisplay),e.xp6(1),e.Q6J("ngIf",t.reportTypeDisplay),e.xp6(1),e.Q6J("ngIf",t.customerTypeDisplayName),e.xp6(1),e.Q6J("ngIf",t.areaDisplayName),e.xp6(1),e.Q6J("ngIf",t.transactionDisplayName),e.xp6(1),e.Q6J("ngIf",t.areaWiseDisplayName),e.xp6(1),e.Q6J("ngIf",t.tranAmntDisplayName),e.xp6(1),e.Q6J("ngIf",t.purchasetranAmntDisplayName),e.xp6(1),e.Q6J("ngIf",t.productTypeDisplay),e.xp6(1),e.Q6J("ngIf",t.purchaseReturnDisplayName),e.xp6(1),e.Q6J("ngIf",t.showReportType),e.xp6(1),e.Q6J("ngIf",t.memberDisplayName),e.xp6(1),e.Q6J("ngIf",t.membershipPointDisplay),e.xp6(1),e.Q6J("ngIf",t.topNsortDisplay),e.xp6(1),e.Q6J("ngIf",t.UserDisplayName),e.xp6(1),e.Q6J("ngIf",t.terminalDisplayName),e.xp6(1),e.Q6J("ngIf",t.TimeDisplay),e.xp6(1),e.Q6J("ngIf",t.REQFROMDISPLAYNAME),e.xp6(1),e.Q6J("ngIf",t.REQTODISPLAYNAME),e.xp6(1),e.Q6J("ngIf",t.StatusDisplayName)}}function $6(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",13)(1,"td",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.SaveInReportColumnFormat())}),e.TgZ(2,"i",57),e._UZ(3,"span",58),e.qZA()()()}}function X6(n,a){if(1&n&&(e.TgZ(0,"th",60),e._uU(1),e.qZA()),2&n){const t=a.$implicit,r=e.oxw(2);e.Udp("text-align",t.alignment),e.s9C("width",t.width),e.Q6J("ngClass",("MAIN GROUP"!=t.mappingName&&"MAINGROUP"!=t.mappingName&&"SUB GROUP_A"!=t.mappingName&&"SUBGROUP_A"!=t.mappingName&&"SUB GROUP_B"!=t.mappingName&&"SUBGROUP_B"!=t.mappingName&&"SUB GROUP_C"!=t.mappingName&&"SUBGROUP_C"!=t.mappingName&&"CATEGORY"!=t.mappingName||0!=r.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==t.mappingName&&0==r.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==t.mappingName&&0==r.reportparam.ShowDetail?"notdisplay":"")),e.uIk("colspan",t.colspan),e.xp6(1),e.hij(" ",t.colGroup," ")}}function e0(n,a){if(1&n&&(e.TgZ(0,"thead")(1,"tr",30),e.YNc(2,X6,2,6,"th",59),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.optionalreportHeaders)}}function t0(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"i",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.index,p=e.oxw();return e.KtG(p.sortTableData(i.mappingName,"desc",s))}),e.qZA()}}function r0(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"i",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.index,p=e.oxw();return e.KtG(p.sortTableData(i.mappingName,"asc",s))}),e.qZA()}}function o0(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"i",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.index,p=e.oxw();return e.KtG(p.sortTableData(i.mappingName,"desc",s))}),e.qZA()}}function n0(n,a){if(1&n&&(e.TgZ(0,"th",61),e._uU(1),e.YNc(2,t0,1,0,"i",62),e.YNc(3,r0,1,0,"i",63),e.YNc(4,o0,1,0,"i",62),e.qZA()),2&n){const t=a.$implicit,r=e.oxw();e.s9C("width",t.width),e.Q6J("ngStyle",r.getReportHeadingStyles())("ngClass",("MAIN GROUP"!=t.mappingName&&"MAINGROUP"!=t.mappingName&&"SUB GROUP_A"!=t.mappingName&&"SUBGROUP_A"!=t.mappingName&&"SUB GROUP_B"!=t.mappingName&&"SUBGROUP_B"!=t.mappingName&&"SUB GROUP_C"!=t.mappingName&&"SUBGROUP_C"!=t.mappingName&&"CATEGORY"!=t.mappingName||0!=r.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==t.mappingName&&0==r.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==t.mappingName&&0==r.reportparam.ShowDetail?"notdisplay":"")),e.xp6(1),e.hij(" ",t.colHeader," "),e.xp6(1),e.Q6J("ngIf",null==t.sortOrder||"none"==t.sortOrder),e.xp6(1),e.Q6J("ngIf","asc"==t.sortOrder),e.xp6(1),e.Q6J("ngIf","desc"==t.sortOrder)}}const a0=function(n,a){return[n,a]};function s0(n,a){if(1&n&&(e.TgZ(0,"td",68)(1,"pre",69),e._uU(2),e.qZA()()),2&n){const t=a.$implicit,r=e.oxw().$implicit,o=e.oxw();e.Udp("text-align",0==t.alignment?"inherit":"end"),e.s9C("width",t.width),e.Q6J("ngClass",e.WLB(6,a0,"B"==r.FFLG?"Boldtd":"Regulartd",("MAIN GROUP"!=t.mappingName&&"MAINGROUP"!=t.mappingName&&"SUB GROUP_A"!=t.mappingName&&"SUBGROUP_A"!=t.mappingName&&"SUB GROUP_B"!=t.mappingName&&"SUBGROUP_B"!=t.mappingName&&"SUB GROUP_C"!=t.mappingName&&"SUBGROUP_C"!=t.mappingName&&"CATEGORY"!=t.mappingName||0!=o.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==t.mappingName&&0==o.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==t.mappingName&&0==o.reportparam.ShowDetail?"notdisplay":""))),e.xp6(1),e.Q6J("ngStyle",o.getReportDetailStyles()),e.xp6(1),e.Oqu(r[t.mappingName])}}function l0(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",66),e.NdJ("dblclick",function(){const i=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.drillDownReport(i))})("contextmenu",function(o){const s=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.onRightClick(o,s))})("click",function(){const i=e.CHM(t).index,s=e.oxw();return e.KtG(s.clicked(i))}),e.YNc(1,s0,3,9,"td",67),e.qZA()}if(2&n){const t=a.$implicit,r=a.index,o=e.oxw();e.ekj("active",r==o.HighlightRow),e.Q6J("ngClass","B"==t.FFLG?"Bold":"Regular"),e.xp6(1),e.Q6J("ngForOf",o.reportHeaders)}}function c0(n,a){if(1&n&&(e.TgZ(0,"td",72)(1,"pre",69),e._uU(2),e.qZA()()),2&n){const t=a.$implicit,r=e.oxw().$implicit,o=e.oxw();e.Udp("text-align",0==t.alignment?"inherit":"end"),e.s9C("width",t.width),e.Q6J("ngClass",("MAIN GROUP"!=t.mappingName&&"MAINGROUP"!=t.mappingName&&"SUB GROUP_A"!=t.mappingName&&"SUBGROUP_A"!=t.mappingName&&"SUB GROUP_B"!=t.mappingName&&"SUBGROUP_B"!=t.mappingName&&"SUB GROUP_C"!=t.mappingName&&"SUBGROUP_C"!=t.mappingName&&"CATEGORY"!=t.mappingName||0!=o.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==t.mappingName&&0==o.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==t.mappingName&&0==o.reportparam.ShowDetail?"notdisplay":"")),e.xp6(1),e.Q6J("ngStyle",o.getReportFooterStyles()),e.xp6(1),e.Oqu(r[t.mappingName])}}function p0(n,a){if(1&n&&(e.TgZ(0,"tr",70),e.YNc(1,c0,3,6,"td",71),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.reportHeaders)}}function d0(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.refreshReportColumns())}),e._uU(1,"REFRESH"),e.qZA()}}function _0(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",109),e._uU(2),e.qZA(),e.TgZ(3,"td",110)(4,"input",111),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.ColumnName=o)}),e.qZA()(),e.TgZ(5,"td",110)(6,"input",112),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.MappingName=o)}),e.qZA()(),e.TgZ(7,"td",113)(8,"input",114),e.NdJ("change",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.Show=o.target.checked?1:0)})("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.Show=o)}),e.qZA()(),e.TgZ(9,"td",115)(10,"input",116),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.ColWidth=o)}),e.qZA()(),e.TgZ(11,"td",117)(12,"input",118),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.Format=o)}),e.qZA()(),e.TgZ(13,"td",119)(14,"input",116),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.Align=o)}),e.qZA()(),e.TgZ(15,"td",120)(16,"input",116),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.ColumnPosition=o)}),e.qZA()(),e.TgZ(17,"td",120)(18,"input",111),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.ColGroup=o)}),e.qZA()(),e.TgZ(19,"td",120)(20,"input",121),e.NdJ("change",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.GroupSummary=o.target.checked?1:0)})("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.GroupSummary=o)}),e.qZA()(),e.TgZ(21,"td",120)(22,"input",121),e.NdJ("change",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.TableSummary=o.target.checked?1:0)})("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.TableSummary=o)}),e.qZA()()()}if(2&n){const t=a.$implicit,r=a.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Q6J("ngModel",t.ColumnName),e.xp6(2),e.Q6J("readonly",!0)("ngModel",t.MappingName),e.xp6(2),e.Q6J("ngModel",t.Show),e.xp6(2),e.Q6J("ngModel",t.ColWidth),e.xp6(2),e.Q6J("ngModel",t.Format),e.xp6(2),e.Q6J("ngModel",t.Align),e.xp6(2),e.Q6J("ngModel",t.ColumnPosition),e.xp6(2),e.Q6J("ngModel",t.ColGroup),e.xp6(2),e.Q6J("ngModel",t.GroupSummary),e.xp6(2),e.Q6J("ngModel",t.TableSummary)}}function h0(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"div",75)(3,"div")(4,"h4",76),e._uU(5,"Report Format "),e.qZA()(),e.TgZ(6,"div")(7,"button",77),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportReportFormat())}),e._uU(8,"EXPORT FORMAT"),e.qZA(),e.TgZ(9,"button",77),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resetToDefault())}),e._uU(10,"RESET DEFAULT"),e.qZA(),e.YNc(11,d0,2,0,"button",78),e.TgZ(12,"button",79),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.OkCommand())}),e._uU(13,"SAVE"),e.qZA(),e.TgZ(14,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelCommand())}),e._uU(15,"CANCEL"),e.qZA()()(),e.TgZ(16,"div",81)(17,"div",82)(18,"div",83)(19,"div",84)(20,"label",85),e._uU(21,"Report Name"),e.qZA(),e.TgZ(22,"div",86)(23,"input",87),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportname=o)}),e.qZA()()(),e.TgZ(24,"div",84)(25,"label",85),e._uU(26,"Report Title"),e.qZA(),e.TgZ(27,"div",86)(28,"input",88),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportTitle=o)}),e.qZA()()()(),e.TgZ(29,"div",89)(30,"div",84)(31,"label",85),e._uU(32,"Rows Per Column"),e.qZA(),e.TgZ(33,"div",86)(34,"input",90),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.rowsperpage=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onRowsPerPageChange(o.target.value))}),e.qZA()()(),e.TgZ(35,"div",84)(36,"label",85),e._uU(37,"Has Dynamic Columns?"),e.qZA(),e.TgZ(38,"div",86)(39,"select",91),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.hasDynamicColumns=o)}),e.TgZ(40,"option",92),e._uU(41,"YES"),e.qZA(),e.TgZ(42,"option",93),e._uU(43,"NO"),e.qZA()()()(),e.TgZ(44,"div",84)(45,"label",85),e._uU(46,"Has Dynamic Headers?"),e.qZA(),e.TgZ(47,"div",86)(48,"select",94),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.hasDynamicHeaders=o)}),e.TgZ(49,"option",92),e._uU(50,"YES"),e.qZA(),e.TgZ(51,"option",93),e._uU(52,"NO"),e.qZA()()()()(),e.TgZ(53,"div",89)(54,"div",84)(55,"label",85),e._uU(56,"Dynamic Column Level"),e.qZA(),e.TgZ(57,"div",86)(58,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dynamicColumnLevel=o)}),e.qZA()()(),e.TgZ(59,"div",84)(60,"label",85),e._uU(61,"Dynamic Column Width"),e.qZA(),e.TgZ(62,"div",86)(63,"input",96),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dynamicColumnWidth=o)}),e.qZA()()(),e.TgZ(64,"div",84)(65,"label",85),e._uU(66,"Merge Header?"),e.qZA(),e.TgZ(67,"div",86)(68,"select",97),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.MergeReportHeader=o)}),e.TgZ(69,"option",92),e._uU(70,"YES"),e.qZA(),e.TgZ(71,"option",93),e._uU(72,"NO"),e.qZA()()()()(),e.TgZ(73,"div",89)(74,"div",84)(75,"label",85),e._uU(76,"Report Rounding Mode"),e.qZA(),e.TgZ(77,"div",86)(78,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.REPORTROUNDINGMODE=o)}),e.qZA()()()()()(),e.TgZ(79,"div",98)(80,"table",99)(81,"thead")(82,"tr")(83,"th",100),e._uU(84,"SI NO "),e.qZA(),e.TgZ(85,"th",101),e._uU(86,"Column Name"),e.qZA(),e.TgZ(87,"th",101),e._uU(88,"Mapping Name"),e.qZA(),e.TgZ(89,"th",102),e._uU(90,"Show"),e.qZA(),e.TgZ(91,"th",103),e._uU(92,"Col Width"),e.qZA(),e.TgZ(93,"th",104),e._uU(94,"Format"),e.qZA(),e.TgZ(95,"th",105),e._uU(96,"Align"),e.qZA(),e.TgZ(97,"th",106),e._uU(98,"Column Position"),e.qZA(),e.TgZ(99,"th",106),e._uU(100,"Merge Header"),e.qZA(),e.TgZ(101,"th",106),e._uU(102,"Group Summary"),e.qZA(),e.TgZ(103,"th",106),e._uU(104,"Table Summary"),e.qZA()()(),e.TgZ(105,"tbody",107),e.YNc(106,_0,23,12,"tr",108),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",t.ReportColumnName.length>0),e.xp6(12),e.Q6J("readonly",!0)("ngModel",t.reportname),e.xp6(5),e.Q6J("ngModel",t.reportTitle),e.xp6(6),e.Q6J("ngModel",t.rowsperpage),e.xp6(5),e.Q6J("ngModel",t.hasDynamicColumns),e.xp6(9),e.Q6J("ngModel",t.hasDynamicHeaders),e.xp6(10),e.Q6J("ngModel",t.dynamicColumnLevel),e.xp6(5),e.Q6J("ngModel",t.dynamicColumnWidth),e.xp6(5),e.Q6J("ngModel",t.MergeReportHeader),e.xp6(10),e.Q6J("ngModel",t.REPORTROUNDINGMODE),e.xp6(28),e.Q6J("ngForOf",t.ReportColumnName)}}function u0(n,a){if(1&n&&(e.TgZ(0,"tr",135)(1,"td",129),e._uU(2),e.qZA(),e.TgZ(3,"td",136),e._uU(4),e.qZA()()),2&n){const t=a.$implicit,r=a.index,o=e.oxw(2);e.ekj("highlighted",r===o.selectedRowIndex),e.xp6(2),e.Oqu(r+1),e.xp6(1),e.Q6J("routerLink",t.activeurlpath),e.xp6(1),e.Oqu(t.reportname)}}function g0(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",122)(1,"div",74)(2,"div",123)(3,"div",82)(4,"h6",124),e._uU(5,"Loaded Report List"),e.qZA()()(),e.TgZ(6,"div",125)(7,"table",126)(8,"thead",127)(9,"tr",128)(10,"th",129),e._uU(11,"S.N."),e.qZA(),e.TgZ(12,"th",130),e._uU(13,"Report Name"),e.qZA()()(),e.TgZ(14,"tbody",131),e.YNc(15,u0,5,5,"tr",132),e.qZA()()(),e.TgZ(16,"div",133)(17,"button",134),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelReportList())}),e._uU(18,"Cancel"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.previouslyLoadedReportsList)}}function m0(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",137)(1,"div",74)(2,"div",138)(3,"h5",139),e._uU(4,"View Image"),e.qZA(),e.TgZ(5,"button",140),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeImagePopup())}),e.TgZ(6,"span",141),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",46)(9,"div",81),e._UZ(10,"img",142),e.qZA(),e.TgZ(11,"div",143)(12,"label",144),e._uU(13,"Item Name:"),e.qZA(),e.TgZ(14,"label",145),e._uU(15),e.qZA()(),e.TgZ(16,"div",143)(17,"label",144),e._uU(18,"MRP:"),e.qZA(),e.TgZ(19,"label",145),e._uU(20),e.ALo(21,"currency"),e.qZA()()(),e.TgZ(22,"div",133)(23,"button",134),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeImagePopup())}),e._uU(24,"Close"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(10),e.s9C("src",t.itemObj.IMAGEURL,e.LSH),e.xp6(5),e.AsE("",t.itemObj.ITEMNAME," ( ",t.itemObj.MENUCODE," )"),e.xp6(5),e.Oqu(e.Dn7(21,4,t.itemObj.MRP,"INR","Rs. "))}}function S0(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-contextmenu",146),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("data",t.contextMenuView)}}const f0=function(n){return{"mySidenav-show":n}},v0=function(n){return{"toggler-btn-icon-reverse":n}},O0=function(n,a){return{itemsPerPage:n,currentPage:a}};let P=(()=>{class n{constructor(t,r,o,i,s,p,d,_,h,c){this.router=t,this.masterService=r,this.authService=o,this.arouter=i,this.dialog=s,this.reportMasterService=p,this.spinnerService=d,this.alertService=_,this._hotkeysService=h,this._transactionService=c,this.reportMaster={},this.reportHeaders=[],this.reportData=[],this.reportDetail=[],this.trialUrl=!1,this.paramValue=[],this.page=1,this.hideShow=!1,this.ReportColumnName=[],this.reportFooter=[],this.optionalreportHeaders=[],this.reportContextMenu=[],this.previouslyLoadedReportsList=[],this.hasDynamicColumns="0",this.allHeaders=[],this.itemObj={},this.imgUrl="",this.showItemImage=!1,this.hasDynamicHeaders=0,this.excelColumnName=[],this.mergereportHeaders=[],this.reportColumnFormate=[],this.totalRow={},this.checkedColumnName=[],this.activeurlpath=this.arouter.snapshot.url[0].path,this.userProfile=this.authService.getUserProfile();let g=this.masterService.reportDataStore[this.activeurlpath];this.contextMenuView=new W4,this.reportLoadedSuccess=!1,this.reportMasterService.reportUrlPath=this.activeurlpath;let S=this.masterService.apiUrl;this.imgUrl=S.substring(S.length-3,0),this.arouter.queryParams.subscribe(x=>{if("DRILL"==x.mode&&this.reportMasterService.drillParam.returnUrl)setTimeout(()=>{this.loadReport(this.reportMasterService.drillParam),this.rowsperpage||(this.rowsperpage=100),this.reportparam=this.reportMasterService.drillParam.reportparam,this.reportname=this.reportMasterService.drillParam.reportname,this.ReportCriteriaDisplay(this.reportparam,this.reportname)});else if(null!=g&&null!=g){for(var _e of(this.reportHeaders=g.data.result.headers,this.allHeaders=g.data.result.allHeaders,this.prepareOptionalHeader(this.reportHeaders),this.reportHeaders))_e.width=null==_e.size||0==_e.size?"auto":_e.size+"px";if(this.loadReportDataFromExistingStore(),this.ReportCriteriaDisplay(this.reportparam,this.showReportName),1!=this.hasDynamicHeaders&&0!=this.MergeReportHeader)this.preparereportHeader(this.reportHeaders);else if(1!=this.hasDynamicHeaders&&1!=this.MergeReportHeader)this.mergereportHeaders=this.reportHeaders;else{let Z=yr().sortBy(this.reportHeaders,"colPosition");this.mergereportHeaders=Z}this.reportMasterService.getReportColumnFormate(this.reportname).subscribe(Z=>{"ok"==Z.status?(this.reportColumnFormate=Z.result,this.rowsperpage=Z.result?Z.result[0].rowsperpage:"100"):this.reportColumnFormate=[]}),0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(Z=>({ReportName:this.reportname,ColumnName:Z.colHeader,MappingName:Z.mappingName,Show:Z.Visible,ColWidth:Z.size,Format:Z.stringFormat,Align:Z.alignment,ColumnPosition:Z.colPosition,ColGroup:Z.ColGroup,GroupSummary:Z.groupSummaryFunction,GSFunction:Z.groupSummaryFunction,TableSummary:Z.showTables,TSFunction:Z.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((Z,Oe)=>{Z.Show=1,Z.TableSummary=0,Z.GroupSummary=0,Z.ColumnPosition=Oe+1})):this.ReportColumnName=this.reportColumnFormate.map(Z=>({ReportName:this.reportname,ColumnName:Z.colHeader,MappingName:Z.mappingName,Show:Z.Visible,ColWidth:Z.size,Format:Z.stringFormat,Align:Z.alignment,ColumnPosition:Z.colPosition,ColGroup:Z.ColGroup,GroupSummary:Z.groupSummaryFunction,GSFunction:Z.groupSummaryFunction,TableSummary:Z.showTables,TSFunction:Z.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:Z.rowsperpage}))}else this.fiterClickEvent()}),this.previouslyLoadedReportsList=this.reportMasterService.previouslyLoadedReportList,this._hotkeysService.add(new _o.qm("shift+tab",x=>(this.showPreviouslyLoadedReports(),!1)))}ngOnInit(){}ngAfterViewInit(){}exportReportFormat(){this.spinnerService.show("Exporting, Please Wait..."),this.reportMasterService.exportReportFormat(this.showReportName).subscribe(t=>{let r=new Blob([JSON.stringify(t)],{type:"text/html"}),o=`${this.showReportName}.txt`;var i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=o.replace(/\s/g,""),s.click(),this.spinnerService.hide()},t=>{console.log("Error message for text",t),this.alertService.info("Exporting Unsuccessfull!!"),this.spinnerService.hide()})}resetToDefault(){console.log("reset to default clicked"),console.log("report name",this.reportname),this.spinnerService.show("Resetting..."),this.reportMasterService.importReportFormat(this.showReportName).subscribe(t=>{console.log("import res",t),t&&(this.spinnerService.hide(),"ok"==t.status?this.alertService.success(t.result):this.alertService.warning("Resetting Unsuccessfull!!"))},t=>{console.log("Error message for reset",t),this.alertService.info("Resetting Unsuccessfull!!"),this.spinnerService.hide()})}fiterClickEvent(){console.log("here is the boom");let t=this.dialog.open(po,{panelClass:"custom-report-information-dialog",hasBackdrop:!0,data:{activeurlpath:this.activeurlpath,reportparam:this.reportparam,reportname:this.reportname}});console.log("here is the boom part 2",t),t.afterClosed().subscribe(r=>{void 0!==r&&"ok"==r.status&&(this.reportname=r.data.reportname,this.reportparam=r.data.reportparam,this.showReportName=r.data.REPORTDISPLAYNAME?r.data.REPORTDISPLAYNAME:r.data.reportname,this.loadReport(r.data),console.log("reportdataatatatatata",r),this.ReportCriteriaDisplay(this.reportparam,this.showReportName),this.reportMasterService.getReportColumnFormate(this.reportname).subscribe(o=>{"ok"==o.status?(this.reportColumnFormate=o.result,this.rowsperpage=0==o?.result[0].rowsperpage?100:o?.result[0].rowsperpage):this.reportColumnFormate=[]})),t=null})}onReportDataEmitted(t){this.reportparam=t.reportparam,this.loadReport(t)}RowClick(){}loadReport(t){this.DialogMessage="Report Loading Please Wait...",this.childModal.show(),this.page=1,this.masterService.getReportData(t,"/loadReports").subscribe(r=>{let o=r;if("ok"==o.status){for(var i of(this.prepareReportData(o.result.headers,o.result.data),this.storeAndUpdateReportDataStore(t,o),this.reportHeaders=o.result.headers,this.reportHeaders))i.width=null==i.size||0==i.size?"auto":i.size+"px";if(this.prepareOptionalHeader(this.reportHeaders),this.reportData=o.result.data,this.reportDetail=o.result.repDetails,this.reportFooter=o.result.totalRowData,this.reportmasterDetail=o.result.reportmasterDetail,this.reportContextMenu=o.result.reportContextMenu,this.allHeaders=o.result.allHeaders,this.hasDynamicColumns=this.reportmasterDetail.HASDYNAMICCOLUMNS,this.dynamicColumnLevel=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL,this.dynamicColumnWidth=this.reportmasterDetail.DYNAMICCOLUMNWIDTH,this.hasDynamicHeaders=this.reportmasterDetail.DYNAMICHEADER,this.MergeReportHeader=this.reportmasterDetail.MERGEREPORTHEADER,this.REPORTROUNDINGMODE=this.reportmasterDetail.REPORTROUNDINGMODE,1!=this.hasDynamicHeaders&&0!=this.MergeReportHeader?this.preparereportHeader(this.reportHeaders):1!=this.hasDynamicHeaders&&1!=this.MergeReportHeader&&(this.mergereportHeaders=this.reportHeaders),this.DialogMessage="Report Loaded successfully.",setTimeout(()=>{this.childModal.hide()},2e3),0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(s=>({ReportName:this.reportname,ColumnName:s.colHeader,MappingName:s.mappingName,Show:s.Visible,ColWidth:s.size,Format:s.stringFormat,Align:s.alignment,ColumnPosition:s.colPosition,ColGroup:s.ColGroup,GroupSummary:s.groupSummaryFunction,GSFunction:s.groupSummaryFunction,TableSummary:s.showTables,TSFunction:s.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((s,p)=>{s.Show=1,s.TableSummary=0,s.GroupSummary=0,s.ColumnPosition=p+1})):this.ReportColumnName=this.reportColumnFormate.map(s=>({ReportName:this.reportname,ColumnName:s.ColumnName,MappingName:s.MappingName,Show:s.Show,ColWidth:s.ColWidth,Format:s.Format,Align:s.Align,ColumnPosition:s.ColumnPosition,ColGroup:s.ColGroup,GroupSummary:s.GroupSummary,GSFunction:s.GSFunction,TableSummary:s.TableSummary,TSFunction:s.TSFunction,ReportTitle:this.reportTitle,rowsperpage:s.rowsperpage})),this.reportmasterDetail.HASDYNAMICCOLUMNS){let s="Default";this.allHeaders.forEach((d,_)=>{s=1==this.reportmasterDetail.DYNAMICHEADER&&d.mappingName.includes("~")?d.mappingName.split("~")[1]:"Default",_+1>=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL&&this.reportHeaders.push({alignment:1,allowMerge:!1,colHeader:"Default"==s?d.colHeader:s,colNo:0,colPosition:"Default"==s?_+5e3:_+1,mappingName:d.mappingName,showGroupSummary:!1,showTableSummary:!1,size:Number(this.reportmasterDetail.DYNAMICCOLUMNWIDTH),width:Number(this.reportmasterDetail.DYNAMICCOLUMNWIDTH)+"px",visible:1})});let p=yr().sortBy(this.reportHeaders,"colPosition");this.mergereportHeaders=p,1==this.reportmasterDetail.DYNAMICHEADER&&this.prepareOptionalDynamicHeader(this.allHeaders)}}else setTimeout(()=>{this.childModal.hide()}),this.reportData=[],this.reportHeaders=[],this.optionalreportHeaders=[]},r=>{this.DialogMessage=r,setTimeout(()=>{this.childModal.hide()},3e3)})}getFormattedValue(t){if(null!=t){if("number"==typeof t)return t.toLocaleString("en-us",{minimumFractionDigits:2});if("Invalid Date"!=new Date(t).toString())return t.split("T")[0]}return t}SettingClickEvent(){}ExportReportInExcel(){this.downloadReportPrepareFromAPI()}ExportReportInPdf(){this.downloadpdfPrepareFromAPI()}excelDownloadFromHtml_manualTable(){try{let p='<p style=" text-align:center;font-weight:bold;font-size:16px;">'+this.activeurlpath.toUpperCase()+'</p><p style=" text-align:center;font-weight:bold;font-size:14px;">'+this.userProfile.CompanyInfo.NAME+'</p><p style=" text-align:center;font-weight:bold;font-size:13px">'+this.userProfile.CompanyInfo.ADDRESS+'</p><p style=" text-align:center;font-weight:bold"> PAN No : <label style="letter-spacing:5px">'+this.userProfile.CompanyInfo.VAT+"</label></p>";this.param='<label style=" text-align:center;font-weight:bold;font-size:12px;">'+this.getReportParamForPreviewKey(this.reportparam,this.reportDetail)+"</label>";let d="<table>  <thead>   <tr>";for(let _ of this.reportHeaders)d+="<th>"+_.colHeader+"</th>";d+="</tr> </thead>",d+="<tbody>";for(let _ of this.reportData){d+="<tr>";for(let h of this.reportHeaders)null==(t=_[h.mappingName])&&(t=""),d+="<td>"+t+"</td>"}for(let _ of this.reportFooter){d+="<tr>";for(let h of this.reportHeaders){var t;null==(t=_[h.mappingName])&&(t=""),d+="<td>"+t+"</td>"}}d+="</tbody></table>";var o=new Blob([p+this.param+d],{type:"application/vnd.ms-excel"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=this.excelReportNameProvide()+".xls",document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(p){alert(p)}}repName(){}excelReportNameProvide(){return this.activeurlpath}excelNameChooser(){try{if("DEBITORSREPORT"==this.reportname)return"DEBTORS REPORT ( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("DEBITORSREPORTEXD"==this.reportname)return"DEBTORS REPORT EXTENDED( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("SALESBOOKREPORT"==this.reportname)return"SALES REPORT ( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("STOCKREPORT"==this.reportname)return"STOCK REPORT ( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("STOCKREPORTEXD"==this.reportname)return"STOCK REPORT EXTENDED( FROM: "+this.reportMaster.reportQuery.find(t=>"DATE1"==t.param).value+"  TO:"+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("DEBITORSREPORT_AGING"==this.reportname)return"DEBTORS AGEING REPORT ( As On Dated: "+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("DEBITORSREPORT_AGINGEXD"==this.reportname)return"DEBTORS AGEING REPORT EXTENDED( As On Dated: "+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("DEBITORSREPORT_AGINGEXD"==this.reportname)return"DEBTORS AGEING REPORT EXTENDED( As On Dated: "+this.reportMaster.reportQuery.find(t=>"DATE2"==t.param).value+" )";if("STOCKLEDGERREPORT"==this.reportname){let t=this.masterService._itemList.find(r=>r.MCODE==this.reportMaster.reportQuery.find(o=>"MCODE"==o.param).value);if(null!=t)return"STOCK LEDGER REPRT ( "+t.MENUCODE+"  "+t.DESCA+" )"}return this.reportMaster.title}catch{return this.reportMaster.title}}getReportParamForPreviewKey(t,r){let o=Object.keys(t);var i="";for(let d in o){var s=o[d];let _=r.filter(h=>h.PROPNAME==o[d])[0];null!=_&&null!=_.PRINTLABEL&&""!=_.PRINTLABEL&&(s=_.PRINTLABEL),("DATE1"==s||"DATE2"==s)&&(i+=s+":"+t[o[d]]+" , ")}return i}prepareReportData(t,r){this.totalRow={};for(let o in t){let i=0;if(t[o].totalCalculation){for(let s of r)i=this.masterService.nullToZeroConverter(i)+this.masterService.nullToZeroConverter(s[t[o].mappingName]);this.totalRow[t[o].mappingName]=i>0?i.toFixed(2):null}else this.totalRow[t[o].mappingName]=null}}OkCommand(){this.showReportColumnFormatPopup=!1,this.ReportColumnName.forEach(t=>{t.ReportTitle=this.reportTitle,t.rowsperpage=this.rowsperpage}),this.masterService.masterPostmethod("/updateReportMaster",{REPORTNAME:this.reportname,hasDynamicColumns:this.hasDynamicColumns,dynamicColumnLevel:this.dynamicColumnLevel,dynamicColumnWidth:this.dynamicColumnWidth,hasDynamicHeaders:this.hasDynamicHeaders,MergeReportHeader:this.MergeReportHeader,REPORTROUNDINGMODE:this.REPORTROUNDINGMODE}).subscribe(t=>{}),this.spinnerService.show("Data is saving ...."),this.reportMasterService.saveReportColumnFormat(this.ReportColumnName,"/saveReportColumnFormat").subscribe(t=>{"ok"==t.status?(this.spinnerService.hide(),this.alertService.success("Report format is successfully saved"),this.reportColumnFormate=[]):this.spinnerService.hide()},t=>{this.spinnerService.hide()})}SaveInReportColumnFormat(){this.showReportColumnFormatPopup=!0}showPreviouslyLoadedReports(){this.showReportListDialog=!0}CancelReportList(){this.showReportListDialog=!1}CancelCommand(){this.showReportColumnFormatPopup=!1}closeReport(){this.allHeaders=[],this.reportHeaders=[],this.reportData=[],this.reportparam=[],"stock-summary-report"==this.activeurlpath?this.reportMasterService.StockSummaryObj={}:"stock-ledger-report"==this.activeurlpath?this.reportMasterService.StockLedgerObj={}:"stock-valuation-report"==this.activeurlpath?this.reportMasterService.StockValuationObj={}:"salesbook-report"==this.activeurlpath?this.reportMasterService.SalesBookObj={}:"purchasebookreport"==this.activeurlpath?this.reportMasterService.PurchaseBookObj={}:"creditnotebook-report"==this.activeurlpath?this.reportMasterService.CreditNoteObj={}:"debitnotebook-report"==this.activeurlpath?this.reportMasterService.DebitNoteObj={}:"salesreport-itemwise"==this.activeurlpath?this.reportMasterService.SalesItemWiseObj={}:"purchasereport-itemwise"==this.activeurlpath?this.reportMasterService.PurchaseItemWiseObj={}:"salesreport-itemwise-detail"==this.activeurlpath?this.reportMasterService.SalesItemWiseDetailObj={}:"purchasereport-itemwise-detail"==this.activeurlpath?this.reportMasterService.PurchaseItemWiseDetailObj={}:"salesreport-customerwise"==this.activeurlpath?this.reportMasterService.SalesCustomerWiseObj={}:"purchasereport-supplierwise"==this.activeurlpath?this.reportMasterService.PurchaseSupplierWiseObj={}:"SalesReportCategoryWise"==this.activeurlpath?this.reportMasterService.SalesCategoryWiseObj={}:"PurchaseReportCategoryWise"==this.activeurlpath?this.reportMasterService.PurchaseCategoryWiseObj={}:"SalesReportProductTypeWise"==this.activeurlpath?this.reportMasterService.SalesProductTypeObj={}:"PurchaseReportProductTypeWise"==this.activeurlpath?this.reportMasterService.PurchaseProductTypeObj={}:"salesreport-supplierwise"==this.activeurlpath?this.reportMasterService.SalesSupplierWiseObj={}:"branch-transfer-report"==this.activeurlpath?this.reportMasterService.BranchTransferObj={}:"item-expiry-report"==this.activeurlpath?this.reportMasterService.ItemExpiryObj={}:"max-stocklevel-report"==this.activeurlpath?this.reportMasterService.MaximumStockLevelObj={}:"minimum-stocklevel-report"==this.activeurlpath?this.reportMasterService.MinimumStockLevelObj={}:"reorder-levelstock-report"==this.activeurlpath?this.reportMasterService.ReorderLevelStockReport={}:"stock-abcanalysis-report"==this.activeurlpath?this.reportMasterService.StockAbcAnalysisObj={}:"price-changelog-reportt"==this.activeurlpath?this.reportMasterService.PriceChangeLogObj={}:"salesprofitability-analysis"==this.activeurlpath?this.reportMasterService.SalesProfitabilityAnalysisObj={}:"purchaseorderreport"==this.activeurlpath?this.reportMasterService.PurchaseOrderReportObj={}:"purchaseorder-outstanding"==this.activeurlpath?this.reportMasterService.PurchaseOrderOutstandingObj={}:"quotationreport"==this.activeurlpath?this.reportMasterService.QuotationReportObj={}:"salesorderreport"==this.activeurlpath?this.reportMasterService.SalesOrderReportObj={}:"salesorderoutstanding"==this.activeurlpath?this.reportMasterService.SalesOrderOutstandingObj={}:"currentstock-warehousewise"==this.activeurlpath?(this.reportMasterService.CurrentStockWarehousewiseObj={},this.reportMasterService.ConsolidatedStockWarehousewiseObj={}):"grn-report"==this.activeurlpath?this.reportMasterService.GrnReportObj={}:"repack-report"==this.activeurlpath?this.reportMasterService.RepackReportObj={}:"requisition-report"==this.activeurlpath?this.reportMasterService.RequisitionReportObj={}:"raw-data-report"==this.activeurlpath?this.reportMasterService.RawDataReportObj={}:"stockageing-report"==this.activeurlpath?this.reportMasterService.StockAgeingObj={}:"branch-transferout-vs-inreport"==this.activeurlpath?this.reportMasterService.BranchtransferoutVsInObj={}:"stock-report-warehouse-wise"==this.activeurlpath?this.reportMasterService.StockWarehousewiseObj={}:"consolidatedpurchase-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedPurchaseBranchWiseObj={}:"consolidatedsales-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedSalesBranchWiseObj={}:"consolidatedstock-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedStockBranchWiseObj={}:"branch-transfer-inreport-itemwise"==this.activeurlpath?this.reportMasterService.BranchTransferInItemWiseObj={}:"branch-transferout-itemwise"==this.activeurlpath?this.reportMasterService.BranchTransferOutItemwiseObj={}:"sales-collection-report"==this.activeurlpath?this.reportMasterService.SalesCollectionObj={}:"openingstockreport"==this.activeurlpath?this.reportMasterService.OpeningStockObj={}:"stock-issue-report"==this.activeurlpath?this.reportMasterService.StockIssueObj={}:"vat-saleseregisterreport-new"==this.activeurlpath?this.reportMasterService.VATSalesNewObj={}:"vat-purchaseregisterreport-new"==this.activeurlpath?this.reportMasterService.VATPurchaseNewObj={}:"stock-variance-report"==this.activeurlpath?this.reportMasterService.StockVarianceObj={}:"salesrevenue-analysisreport"==this.activeurlpath?this.reportMasterService.SalesRevenueAnalysisObj={}:"salesreport-salesmanwise"==this.activeurlpath?this.reportMasterService.SalesReportSalesmanWiseObj={}:"salesreport-membershipwise"==this.activeurlpath?this.reportMasterService.SalesMembershipWiseObj={}:"recurring-transaction-analysis-report"==this.activeurlpath?this.reportMasterService.RecurringTransactionAnalysisObj={}:"recurring-transaction-report"==this.activeurlpath?this.reportMasterService.RecurringTransactionReportObj={}:"sales-flow-report-monthwise"==this.activeurlpath?this.reportMasterService.SalesFlowObj={}:"purchase-flow-report-monthwise"==this.activeurlpath?this.reportMasterService.PurchaseFlowObj={}:"sales-revenue-metrics-report"==this.activeurlpath?this.reportMasterService.SalesRevenueMetricsObj={}:"transreport"==this.activeurlpath&&(this.reportMasterService.TransactionLogObj={}),this.warehouseDisplayName="",this.categoryDisplayName="",this.itemGroupDisplayName="",this.itemTypeDisplay="",this.supplierDisplayName="",this.itemDisplayName="",this.itemDisplaycode="",this.labelDisplayName="",this.costcenterDisplayName="",this.reportTypeDisplayName="",this.reportModeDisplayName="",this.includeReturnDisplayName="",this.creditNoteDisplayName="",this.customerDisplayName="",this.reportOptionDisplayName="",this.recurringTransactionMode="",this.showDetailDisplay="",this.showUserWiseFormat="",this.reportTypeDisplay="",this.customerTypeDisplayName="",this.areaDisplayName="",this.transactionDisplayName="",this.areaWiseDisplayName="",this.tranAmntDisplayName="",this.productTypeDisplay="",this.purchaseReturnDisplayName="",this.debitNoteDisplayName="",this.purchasetranAmntDisplayName="",this.RecurringCategory="",this.itemName="",this.purchaseItemWiseDisplay="",this.divisionDisplayName="",this.masterService.reportDataStore[this.activeurlpath]=void 0;let t=this.reportMasterService.previouslyLoadedReportList.findIndex(r=>r.activerurlpath2==this.activeurlpath);this.reportMasterService.previouslyLoadedReportList.splice(t,1),this.router.navigate(0==this.reportMasterService.previouslyLoadedReportList.length?["/pages/dashboard"]:[this.reportMasterService.previouslyLoadedReportList[this.reportMasterService.previouslyLoadedReportList.length-1].activeurlpath])}ngOnDestroy(){this.dialog.closeAll()}changeDate(t,r,o){"AD"==o&&(this.FromdateInAD=this.masterService.toBSDate(t),this.TodateInAD=this.masterService.toBSDate(r))}getReportHeadingStyles(){return{"font-size.px":this.masterService.userSetting.REPHEADING_FONTSIZE?this.masterService.userSetting.REPHEADING_FONTSIZE:"12","font-family":this.masterService.userSetting.REPHEADING_FONTNAME?this.masterService.userSetting.REPHEADING_FONTNAME:"Roboto, Arial, sans-serif"}}getReportDetailStyles(){return{"font-size.px":this.masterService.userSetting.REPDETAIL_FONTSIZE?this.masterService.userSetting.REPDETAIL_FONTSIZE:"12","font-family":this.masterService.userSetting.REPDETAIL_FONTNAME?this.masterService.userSetting.REPDETAIL_FONTNAME:"Tahoma"}}getReportFooterStyles(){return{"font-size.px":this.masterService.userSetting.REPTOTAL_FONTSIZE?this.masterService.userSetting.REPTOTAL_FONTSIZE:"12","font-family":this.masterService.userSetting.REPTOTAL_FONTNAME?this.masterService.userSetting.REPTOTAL_FONTNAME:"Tahoma"}}prepareOptionalHeader(t=[]){let r=[];if(t.length){for(var o of t)if(o.hasOwnProperty("colGroup")&&""!=o.colGroup&&!(0,ze.isNullOrUndefined)(o.colGroup)){let h=t.filter(g=>g.colGroup==o.colGroup);r.filter(g=>g.colGroup==o.colGroup).length||r.push({colGroup:o.colGroup,width:s(h)+"px",colspan:Number(h.length),alignment:"center",mappingName:o.mappingName})}else r.push({colGroup:"",colspan:1,width:Number(o.size)+"px",alignment:"left",mappingName:o.mappingName});let p=r.filter(h=>"AGE1"==h.colGroup||"AGE2"==h.colGroup||"AGE3"==h.colGroup||"AGE4"==h.colGroup||"AGE5"==h.colGroup||"AGE6"==h?.colGroup||"AGE7"==h?.colGroup||"AGE8"==h?.colGroup||"AGE9"==h?.colGroup||"AGE10"==h?.colGroup||"AGE11"==h?.colGroup),d=this.masterService.userProfile.userRights.find(h=>"StockAgeingLimit"==h.right).value;for(var i of p)"AGE1"==i.colGroup?i.colGroup="<="+this.reportparam.AGE1+" DAYS":"AGE2"==i.colGroup?i.colGroup="> "+this.reportparam.AGE1+" & <= "+this.reportparam.AGE2+" DAYS":"AGE3"==i.colGroup?i.colGroup="> "+this.reportparam.AGE2+" & <= "+this.reportparam.AGE3+" DAYS":"AGE4"==i.colGroup?i.colGroup="> "+this.reportparam.AGE3+" & <= "+this.reportparam.AGE4+" DAYS":"AGE5"==i.colGroup?i.colGroup=d<5?"OVER "+this.reportparam.AGE4+" DAYS":"> "+this.reportparam.AGE4+" & <= "+this.reportparam.AGE5+" DAYS":"AGE6"==i.colGroup?i.colGroup=d<6?"OVER "+this.reportparam.AGE5+" DAYS":"> "+this.reportparam.AGE5+" & <= "+this.reportparam.AGE6+" DAYS":"AGE7"==i.colGroup?i.colGroup=d<7?"OVER "+this.reportparam.AGE6+" DAYS":"> "+this.reportparam.AGE6+" & <= "+this.reportparam.AGE7+" DAYS":"AGE8"==i.colGroup?i.colGroup=d<8?"OVER "+this.reportparam.AGE7+" DAYS":"> "+this.reportparam.AGE7+" & <= "+this.reportparam.AGE8+" DAYS":"AGE9"==i.colGroup?i.colGroup=d<9?"OVER "+this.reportparam.AGE8+" DAYS":"> "+this.reportparam.AGE8+" & <= "+this.reportparam.AGE9+" DAYS":"AGE10"==i.colGroup?i.colGroup=d<10?"OVER "+this.reportparam.AGE9+" DAYS":"> "+this.reportparam.AGE9+" & <= "+this.reportparam.AGE10+" DAYS":"AGE11"==i.colGroup&&(i.colGroup="OVER "+this.reportparam.AGE10+" DAYS");let _=r.filter(h=>""!=h.colGroup);this.optionalreportHeaders=_.length?r:[]}function s(p=[]){let d=0;return p.length?(p.forEach(_=>{d+=Number(_.size)}),d):100}}drillDownReport(t){console.log("Drill report 1",t),console.log("reportmaster detail",this.reportmasterDetail),this.reportmasterDetail.hasOwnProperty("DRILLKEY")&&this.reportmasterDetail.hasOwnProperty("DRILLTO")&&this.reportmasterDetail.hasOwnProperty("ISDRILLABLE")&&this.reportmasterDetail.ISDRILLABLE&&("Sales Book Report_2"==this.reportmasterDetail.DRILLTO||"Credit Note Book Report_2"==this.reportmasterDetail.DRILLTO||"Purchase Book Report_2"==this.reportmasterDetail.DRILLTO||"Debit Note Book Report_2"==this.reportmasterDetail.DRILLTO?this.masterService.masterPostmethod("/getStartEndMonthDate",{data:{YEAR:t.YNAME,MONTH:t.MNAME}}).subscribe(i=>{this.startDate=i.result?i.result[0].FROMDATE.split("T")[0]:"",this.endDate=i.result?i.result[0].TODATE.split("T")[0]:"",this.routerToVouchers(t)},i=>{},()=>{}):this.routerToVouchers(t))}onRightClick(t,r){if(t.preventDefault(),!this.reportContextMenu.length)return;let o=new Ve.xQ;this.conTextMenuAction(o,r),this.contextMenuView.mouseEvent=t,this.contextMenuView.menuItems=this.buildContextMenuItems(o),this.contextMenuView.show=!0}conTextMenuAction(t,r){t.asObservable().subscribe(i=>{"SHOWIMAGE"==i.value?this.getItemImage(r):(this.reportmasterDetail.DRILLTO=i.value,this.drillDownReport(r),this.contextMenuView.show=!0)})}buildContextMenuItems(t){let r=[];for(let o of this.reportContextMenu)r.push(new Z4(o.menuname,o.commandname,t));return r}getItemImage(t){console.log("getItemImage",t),t.MCODE&&this.reportMasterService.getItemImage(t.MCODE).subscribe(r=>{if("ok"==r.status){let o=r.result[0];null!=o.ImageUpload?(this.itemObj.MENUCODE=o.MENUCODE,this.itemObj.ITEMNAME=o.DESCA,this.itemObj.IMAGEURL=""+this.imgUrl+o.ImageUpload,this.itemObj.MRP=o.MRP,console.log("image",this.itemObj.IMAGEURL),this.showItemImage=!0):this.alertService.error("No Image found for this item")}else this.alertService.error("Cannot find Image for this item")},r=>{this.alertService.error(r)})}closeImagePopup(){this.showItemImage=!1}sortTableData(t,r,o){this.mergereportHeaders[o].sortOrder="asc"==r?"desc":"asc",this.reportData.sort(function i(s,p="asc"){return function(_,h){if(!_.hasOwnProperty(s)||!h.hasOwnProperty(s))return 0;const c="string"==typeof _[s]?_[s].toUpperCase():_[s],g="string"==typeof h[s]?h[s].toUpperCase():h[s];let S=0;return c>g?S=1:c<g&&(S=-1),"desc"===p?-1*S:S}}(t,r))}resolveDrillDownParam(t,r,o=null){switch(this.reportMasterService.drillParam={},this.reportMasterService.drillParam.reportparam={},this.reportMasterService.drillParam.returnUrl=this.arouter.snapshot._routerState.url,this.reportMasterService.drillParam.reportparam.mode="DRILL",console.log("reptype",t),t){case"Stock Ledger Report":case"Stock Ledger Report Other":console.log("CheckChecccc##",this.masterService.PhiscalObj.BeginDate,this.masterService.PhiscalObj.EndDate),this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.masterService.PhiscalObj.BeginDate,this.reportMasterService.drillParam.reportparam.DATE2=this.masterService.PhiscalObj.EndDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.PhiscalObj.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,"GROUP"===o||(this.reportMasterService.drillParam.reportname="Stock Ledger Report Other");let h=this.reportMasterService.previouslyLoadedReportList.findIndex(S=>"Stock Ledger Report"==S.reportname);h>=0&&this.reportMasterService.previouslyLoadedReportList.splice(h,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Stock Ledger Report",activeurlpath:"/pages/reports/stock-ledger-report",activerurlpath2:"stock-ledger-report"});break;case"Stock Summary Report_A":this.reportMasterService.drillParam.reportname="Stock Summary Report_A",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=0,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=this.reportparam.ShowItemInGroupWiseReport,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT;break;case"Stock Summary Report_2":this.reportMasterService.drillParam.reportname="Stock Summary Report_2",this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=1,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=1,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT;break;case"Stock Summary Report_4":this.reportMasterService.drillParam.reportname="Stock Summary Report_4",this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=2,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=1,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=r[this.reportmasterDetail.DRILLKEY];break;case"Membership Point Report_1":this.reportMasterService.drillParam.reportname="Membership Point Report_1",this.reportMasterService.drillParam.reportparam.MEMID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.POINT=this.reportparam.POINT,this.reportMasterService.drillParam.reportparam.SUMMARY=0,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.MEMNAME=r.MEMBER_NAME;break;case"Stock Valuation ReportNONDMS_1":this.reportMasterService.drillParam.reportname="Stock Valuation ReportNONDMS_1",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE=this.reportparam.DATE,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"];break;case"Sales Book Report_2":if(this.reportMasterService.drillParam.reportname="Sales Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD)this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate;else if(0==this.reportparam.INAD){var i=v(10484),s=this.startDate.replace("-","/").replace("-","/"),p=i.bs2ad(s);this.reportMasterService.drillParam.reportparam.DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day);var d=this.endDate.replace("-","/").replace("-","/"),_=i.bs2ad(d);this.reportMasterService.drillParam.reportparam.DATE2=_.year+"-"+(1==_.month.toString().length?"0"+_.month:_.month)+"-"+(1==_.day.toString().length?"0"+_.day:_.day)}this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Sales Book Report":this.reportMasterService.drillParam.reportname="Sales Book Report",this.datetochange=r.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Sales Book Report_1":this.reportMasterService.drillParam.reportname="Sales Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Purchase Book Report_2":this.reportMasterService.drillParam.reportname="Purchase Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(i=v(10484),s=this.startDate.replace("-","/").replace("-","/"),p=i.bs2ad(s),this.reportMasterService.drillParam.reportparam.DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day),d=this.endDate.replace("-","/").replace("-","/"),_=i.bs2ad(d),this.reportMasterService.drillParam.reportparam.DATE2=_.year+"-"+(1==_.month.toString().length?"0"+_.month:_.month)+"-"+(1==_.day.toString().length?"0"+_.day:_.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Purchase Book Report":this.reportMasterService.drillParam.reportname="Purchase Book Report",this.datetochange=r.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Purchase Book Report_1":this.reportMasterService.drillParam.reportname="Purchase Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Credit Note Book Report_2":this.reportMasterService.drillParam.reportname="Credit Note Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(i=v(10484),s=this.startDate.replace("-","/").replace("-","/"),p=i.bs2ad(s),this.reportMasterService.drillParam.reportparam.DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day),d=this.endDate.replace("-","/").replace("-","/"),_=i.bs2ad(d),this.reportMasterService.drillParam.reportparam.DATE2=_.year+"-"+(1==_.month.toString().length?"0"+_.month:_.month)+"-"+(1==_.day.toString().length?"0"+_.day:_.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Credit Note Book Report":this.reportMasterService.drillParam.reportname="Credit Note Book Report",this.datetochange=r.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE;break;case"Credit Note Book Report_1":this.reportMasterService.drillParam.reportname="Credit Note Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE;break;case"Debit Note Book Report_2":this.reportMasterService.drillParam.reportname="Debit Note Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(i=v(10484),s=this.startDate.replace("-","/").replace("-","/"),p=i.bs2ad(s),this.reportMasterService.drillParam.reportparam.DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day),d=this.endDate.replace("-","/").replace("-","/"),_=i.bs2ad(d),this.reportMasterService.drillParam.reportparam.DATE2=_.year+"-"+(1==_.month.toString().length?"0"+_.month:_.month)+"-"+(1==_.day.toString().length?"0"+_.day:_.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Debit Note Book Report":this.reportMasterService.drillParam.reportname="Debit Note Book Report",this.datetochange=r.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE;break;case"Debit Note Book Report_1":this.reportMasterService.drillParam.reportname="Debit Note Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE;break;case"Sales Report Item Wise Detail":"Sales Report Item Wise Detail_2"==this.reportmasterDetail.REPORTNAME?(this.datetochange=r.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE):"Sales Report Category Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.CATEGORY,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"]):"Sales Report Product Type Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.PTYPENAME,this.reportMasterService.drillParam.reportparam.MENUCODE=r.UNIT):"Sales Report Supplier Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"]):(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"],this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM NAME"]),this.reportMasterService.drillParam.reportname="Sales Report Item Wise Detail",this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=0;let c=this.reportMasterService.previouslyLoadedReportList.findIndex(S=>"Sales Report Item Wise Detail"==S.reportname);c>=0&&this.reportMasterService.previouslyLoadedReportList.splice(c,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Sales Report Item Wise Detail",activeurlpath:"/pages/reports/salesreport-itemwise-detail",activerurlpath2:"salesreport-itemwise-detail"});break;case"Purchase Report Item Wise Detail":"Purchase Report Item Wise Detail_2"==this.reportmasterDetail.REPORTNAME?(this.datetochange=r.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE):"Purchase Report Product Type Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.PTYPENAME,this.reportMasterService.drillParam.reportparam.MENUCODE=r.UNIT):"Purchase Report Category Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.CATEGORY,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"]):(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"],this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM NAME"]),this.reportMasterService.drillParam.reportname="Purchase Report Item Wise Detail",this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=this.reportparam.SHOWDETAIL,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=0;let g=this.reportMasterService.previouslyLoadedReportList.findIndex(S=>"Purchase Report Item Wise Detail"==S.reportname);g>=0&&this.reportMasterService.previouslyLoadedReportList.splice(g,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Purchase Report Item Wise Detail",activeurlpath:"/pages/reports/purchasereport-itemwise-detail",activerurlpath2:"purchasereport-itemwise-detail"});break;case"Sales Report Item Wise_2":this.reportMasterService.drillParam.reportname="Sales Report Item Wise_2",this.reportMasterService.drillParam.reportparam.MGROUP=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=2,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE;break;case"Purchase Report Item Wise_2":this.reportMasterService.drillParam.reportname="Purchase Report Item Wise_2",this.reportMasterService.drillParam.reportparam.MGROUP=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=2,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE;break;case"Sales Report Item Wise_3":"B"!=r.FFLG&&(this.reportMasterService.drillParam.reportname="Sales Report Item Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=3,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE);break;case"Purchase Report Item Wise_3":"B"!=r.FFLG&&(this.reportMasterService.drillParam.reportname="Purchase Report Item Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=3,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MGROUP_NAME);break;case"Sales Report Customer Wise_2":this.reportMasterService.drillParam.reportname="Sales Report Customer Wise_2",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CTYPE=this.reportparam.CTYPE,this.reportMasterService.drillParam.reportparam.AREAID=this.reportparam.AREAID,this.reportMasterService.drillParam.reportparam.TRNMODE=this.reportparam.TRNMODE,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.SHOWAREAWISE=this.reportparam.SHOWAREAWISE,this.reportMasterService.drillParam.reportparam.CUSTID=r.CUSTID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=r["CUSTOMER NAME"],this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Customer Wise_3":this.reportMasterService.drillParam.reportname="Sales Report Customer Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CTYPE=this.reportparam.CTYPE,this.reportMasterService.drillParam.reportparam.AREAID=this.reportparam.AREAID,this.reportMasterService.drillParam.reportparam.TRNMODE=this.reportparam.TRNMODE,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.SHOWAREAWISE=this.reportparam.SHOWAREAWISE,this.reportMasterService.drillParam.reportparam.CUSTID=this.reportparam.CUSTID,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.SHOWDETAIL=2;break;case"Purchase Report Supplier Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Supplier Wise_1",this.reportMasterService.drillParam.reportparam.ACID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=r["SUPPLIER NAME"],this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Supplier Wise_2":this.reportMasterService.drillParam.reportname="Purchase Report Supplier Wise_2",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=2;break;case"Sales Report Category Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Category Wise_1",this.reportMasterService.drillParam.reportparam.MCAT=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Category Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Category Wise_1",this.reportMasterService.drillParam.reportparam.MCAT=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Product Type Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Product Type Wise_1",this.reportMasterService.drillParam.reportparam.PTYPE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Product Type Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Product Type Wise_1",this.reportMasterService.drillParam.reportparam.PTYPE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Supplier Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Supplier Wise_1",this.reportMasterService.drillParam.reportparam.ACID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=r["SUPPLIER NAME"],this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Salesman Wise_1":case"Sales Report Salesman Wise_2":case"Sales Report Salesman Wise_3":this.reportMasterService.drillParam.reportname=t,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SALESMAN=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.SALESMANNAME=r.SALESMAN,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT="Sales Report Salesman Wise_1"==t?"0":"1",this.reportMasterService.drillParam.reportparam.REPORT_TYPE="2";break;case"Sales Report Membership Wise_1":this.reportMasterService.drillParam.reportname=t,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.MEMID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.MEMBERNAME=r["MEMBER NAME"];break;case"Recurring Transaction Analysis Report_2":this.reportMasterService.drillParam.reportname=t,"Recurring Transaction Analysis Report"==this.reportmasterDetail.REPORTNAME&&(this.reportMasterService.drillParam.reportparam.CATNAME=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ITEM=this.reportparam.ITEM,console.log("Catname",this.reportMasterService.drillParam.reportparam.CATNAME),console.log("Item",this.reportMasterService.drillParam.reportparam.ITEM)),"Recurring Transaction Analysis Report_1"==this.reportmasterDetail.REPORTNAME&&(this.reportMasterService.drillParam.reportparam.ITEM=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.CATNAME=this.reportparam.CATNAME,console.log("Catname",this.reportMasterService.drillParam.reportparam.CATNAME),console.log("Item",this.reportMasterService.drillParam.reportparam.ITEM)),this.reportMasterService.drillParam.reportparam.REPORTYPE=2,this.reportMasterService.drillParam.reportparam.REPORTOPTION=this.reportparam.REPORTOPTION,this.reportMasterService.drillParam.reportparam.RECURRINGMODE=this.reportparam.RECURRINGMODE,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID}}getDrillRouteVoucherWise(t,r){let o=t.substring(0,2).toUpperCase();switch(console.log("voucher no",o),o){case"TI":return"/pages/transaction/sales/add-sales-invoice";case"PI":case"PX":return"0"==r?"/pages/transaction/purchases/add-purchase-invoice":"10"==r?"/pages/transaction/purchases/purchase-import":"/pages/transaction/purchases/add-purchase-invoice";case"CN":return"/pages/transaction/sales/add-creditnote-itembase";case"DN":case"DX":return"/pages/transaction/purchases/add-debitnote-itembase";case"PO":return"0"==r?"/pages/transaction/purchases/add-purchase-order":"10"==r?"/pages/transaction/purchases/purchase-import-order":"/pages/transaction/purchases/add-purchase-order";case"SO":return"/pages/transaction/sales/salesorder";case"QT":return"/pages/transaction/sales/quotation";case"IS":return"/pages/transaction/inventory/add-stock-issue";case"IR":return"/pages/transaction/inventory/stock-issue-return";case"SI":return"/pages/transaction/sales/abbreviated-sales-invoice";case"GR":return"/pages/transaction/purchases/goods-received-note";case"PP":return"/pages/transaction//sales/performa-invoice";case"RQ":return"/pages/transaction/inventory/requisition-entry";case"RP":return"/pages/transaction/inventory/repack-entry";case"TR":return"/pages/transaction/inventory/add-branch-in";case"TO":return"/pages/transaction/inventory/add-branch-out"}}loadReportDataFromExistingStore(){let t=this.masterService.reportDataStore[this.activeurlpath];null!=t&&null!=t&&(this.reportData=t.data.result.data,this.reportDetail=t.data.result.repDetails,this.reportname=t.param.reportname,this.reportparam=t.param.reportparam,this.reportContextMenu=t.data.result.reportContextMenu,this.reportmasterDetail=t.data.result.reportmasterDetail,this.showReportName=t.param.REPORTDISPLAYNAME?t.param.REPORTDISPLAYNAME:t.param.reportname,this.reportFooter=t.data.result.totalRowData,this.hasDynamicHeaders=this.reportmasterDetail.DYNAMICHEADER,this.MergeReportHeader=this.reportmasterDetail.MERGEREPORTHEADER,this.REPORTROUNDINGMODE=this.reportmasterDetail.REPORTROUNDINGMODE)}storeAndUpdateReportDataStore(t,r){this.masterService.reportDataStore[this.activeurlpath]={param:t,data:r}}ReportCriteriaDisplay(t,r){this.showReportName="Annex 5 Report"==r?"Annex 5 Report":r,this.engDateFrom=y()(t.DATE1).format("MM/DD/YYYY"),this.engDateTo=y()(t.DATE2).format("MM/DD/YYYY"),t.DATE1&&t.DATE2?this.changeDate(t.DATE1,t.DATE2,"AD"):t.DATE&&this.changeDate(t.DATE,t.DATE,"AD"),t.DIV&&(t.DIVISIONAME?this.divisionDisplayName=t.DIVISIONAME:"%"==t.DIV?this.divisionDisplayName="All":"%"!=t.DIV?this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(o=>{let i=o.filter(s=>s.Division==t.DIV);this.divisionDisplayName=i&&i.length>0&&i[0]?i[0].NAME:""}):this.divisionDisplayName=""),("Stock Summary Report"==this.showReportName||"Stock Summary Report_A"==this.showReportName||"Stock Summary Report_2"==this.showReportName||"Stock Summary Report_4"==this.showReportName)&&(this.showReportName="Stock Summary Report","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.labelDisplayName="1"==t.ReportMode?" @Stock Report Excluding Zero B/L":"2"==t.ReportMode?" @Negative Stock Report Only":"3"==t.ReportMode?" @Zero B/L Stock Report Only":"",this.stockshowDetailDisplay=1==t.ShowDetail?"@Report with Item Detail":"",this.warehouseDisplayName="%"!=t.WAREHOUSE?t.WAREHOUSE:"ALL","%"!=t.MGROUP&&t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.supplierDisplayName="%"!=t.SUPCODE?t.SUPPLIERNAME:""),"Stock Ledger Report"==this.showReportName&&("%"!=t.MCODE?(this.stockLedgerItemDisplayName=t.ITEMNAME,this.stockLedgerItemDisplaycode=t.MENUCODE):(this.stockLedgerItemDisplayName="",this.stockLedgerItemDisplaycode=""),"%"!=t.ITEMGROUP&&t.ITEMGROUP?this.masterService.getItemGroupName(t.ITEMGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.warehouseDisplayName="%"!=t.WAREHOUSE?t.WAREHOUSE:"",this.showDetailDisplay=1==t.SHOWDETAIL?" @Report with Item Detail":""),("Stock Valuation ReportNONDMS"==this.showReportName||"Stock Valuation ReportNONDMS_1"==this.showReportName||"Stock Valuation Report"==this.showReportName)&&(this.showReportName="Stock Valuation Report","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":""),("Sales Book Report"==this.showReportName||"Sales Book Report_1"==this.showReportName||"Sales Book Report_2"==this.showReportName||"Sales Book Report_3"==this.showReportName)&&(this.showReportName="Sales Book Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==t.REPORT_TYPE?"@Voucher Wise Sales Report":2==t.REPORT_TYPE?"@Day Wise Sales Report":3==t.REPORT_TYPE?"@Month Wise Sales Report":"",1==t.INCLUDE_RETURN?this.includeReturnDisplayName="@Report Including Sales Return":0==t.INCLUDE_RETURN&&(this.includeReturnDisplayName="@Report Excluding Sales Return"),this.showdetalreportdisplay=1==t.REPORT_TYPE?0==t.SHOWDETALREPORT?"@Summary Report":1==t.SHOWDETALREPORT?"@Detail Report":"":""),"Recurring Transaction Report"==this.showReportName&&(this.showReportName="Recurring Transaction Reprt",this.customerDisplayName="%"!=t.ACID?t.CUSTOMER:"",this.RecurringItemName=t.ITEM?"%"==t.ITEM?"ALL":t.ITEM:"",this.RecurringCategory=t.CATEGORY?"%"==t.CATEGORY?"ALL":t.CATEGORY:"",this.RecurringOptionDisplayName=0==t.REPORTOPTION?"Upcoming Recurring Transaction Report":1==t.REPORTOPTION?"Processed Recurring Transaction Report":2==t.REPORTOPTION?"Hold Recurring Transaction Report":3==t.REPORTOPTION?"New Recurring Transaction Report":4==t.REPORTOPTION?"Pending Recurring Transaction Report":""),("Recurring Transaction Analysis Report"==this.showReportName||"Recurring Transaction Analysis Report_1"==this.showReportName||"Recurring Transaction Analysis Report_2"==this.showReportName)&&(console.log("report param",t),this.showReportName="Recurring Transaction Analysis Report",this.reportTypeDisplayName=0==t.REPORTYPE?"@Category Wise Report":1==t.REPORTYPE?"@Item Wise Report":2==t.REPORTYPE?"@Customer Wise Report":3==t.REPORTYPE?"@Yearly Comparision Report":"",this.RecurringOptionDisplayName=0==t.REPORTOPTION?"All Recurring":1==t.REPORTOPTION?"Processed Recurring":2==t.REPORTOPTION?"Non-Processed Recurring":3==t.REPORTOPTION?"New Recurring":"",this.recurringTransactionMode=0==t.RecurringMode?"ALL":1==t.RecurringMode?"Each Month":2==t.RecurringMode?"Each 3 Months":3==t.RecurringMode?"Each 6 Months":4==t.RecurringMode?"Each Year":"",this.categoryDisplayName="%"!=t.CATNAME?t.CATNAME:"",this.itemName="%"!=t.ITEM?t.ITEM:""),("Credit Note Book Report"==this.showReportName||"Credit Note Book Report_1"==this.showReportName||"Credit Note Book Report_2"==this.showReportName)&&(this.showReportName="Credit Note Book Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==t.REPORT_TYPE?"@Voucher Wise Sales Report":2==t.REPORT_TYPE?"@Day Wise Sales Report":3==t.REPORT_TYPE?"@Month Wise Sales Report":"",0==t.CNMODE?this.creditNoteDisplayName="@Item Base Credit Note Only":1==t.CNMODE?this.creditNoteDisplayName="@A/C Base Credit Note Only":2==t.CNMODE&&(this.creditNoteDisplayName=""),this.showdetalreportdisplay=1==t.REPORT_TYPE?0==t.SHOWDETALREPORT?"@Summary Report":1==t.SHOWDETALREPORT?"@Detail Report":"":""),("Sales Report Item Wise"==this.showReportName||"Sales Report Item Wise_2"==this.showReportName||"Sales Report Item Wise_3"==this.showReportName)&&(this.showReportName="Sales Report Item Wise","%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemwiseDisplaycode=t.ITEMNAME,this.itemwiseDisplayName=t.MENUCODE):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.showUserWiseFormat=1==t.SHOWUSERWISE?"@Report with User Wise Format":""),"Sales Report Item Wise Detail"==this.showReportName&&("%"!=t.MCODE?(this.itemwiseDisplaycode=t.MENUCODE,this.itemwiseDisplayName=t.ITEMNAME):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportOptionDisplayName=0==t.REPORT_TYPE?"@Bill Wise Report":1==t.REPORT_TYPE?"@Day Wise Report":"",this.showDetailDisplay=1==t.SHOWDETAIL?"@Report with Item Detail":"",this.showUserWiseFormat=1==t.SHOWUSERWISE?"@Report with User Wise Format":""),("Sales Report Customer Wise"==this.showReportName||"Sales Report Customer Wise_2"==this.showReportName||"Sales Report Customer Wise_3"==this.showReportName)&&(this.showReportName="Sales Report Customer Wise",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report- By Item":2==t.SHOWDETAIL?"@Detail Report- By Sales Bill":"",this.customerDisplayName="%"!=t.CUSTID?t.CUSTOMERNAME:"","%"!=t.CTYPE||(this.customerTypeDisplayName=""),"%"!=t.AREAID||(this.areaDisplayName=""),"%"!=t.TRNMODE?"CREDIT"==t.TRNMODE?this.transactionDisplayName="CREDIT":"NONCREDIT"==t.TRNMODE&&(this.transactionDisplayName="NONCREDIT"):this.transactionDisplayName="",1==t.SHOWAREAWISE?this.areaWiseDisplayName="@Area Wise Report":0==t.SHOWAREAWISE&&(this.areaWiseDisplayName=""),this.tranAmntDisplayName=t.TRANSACTIONAMOUNT?t.TRANSACTIONAMOUNT:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Category Wise"==this.showReportName||"Sales Report Category Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Category Wise",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Product Type Wise"==this.showReportName||"Sales Report Product Type Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Product Type Wise","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.productTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.productTypeDisplay="",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Supplier Wise"==this.showReportName||"Sales Report Supplier Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Supplier Wise",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL||2==t.SHOWDETAIL?"@Detail Report":"",this.supplierDisplayName="%"!=t.ACID?t.SUPPLIERNAME:"",this.tranAmntDisplayName=t.TRANSACTIONAMOUNT?t.TRANSACTIONAMOUNT:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Book Report"==this.showReportName||"Purchase Book Report_1"==this.showReportName||"Purchase Book Report_2"==this.showReportName)&&(this.showReportName="Purchase Book Report",this.reportTypeDisplayName=1==t.REPORT_TYPE?"@Voucher Wise Purchase Report":2==t.REPORT_TYPE?"@Day Wise Purchase Report":3==t.REPORT_TYPE?"@Month Wise Purchase Report":"",this.purchaseReturnDisplayName=1==t.INCLUDE_RETURN?"@Report Including Purchase Return":0==t.INCLUDE_RETURN?"@Report Excluding Purchase Return":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.showdetalreportdisplay=1==t.REPORT_TYPE?0==t.SHOWDETALREPORT?"@Summary Report":1==t.SHOWDETALREPORT?"@Detail Report":"":""),("Debit Note Book Report"==this.showReportName||"Debit Note Book Report_1"==this.showReportName||"Debit Note Book Report_2"==this.showReportName)&&(this.showReportName="Debit Note Book Report","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==t.REPORT_TYPE?"@Voucher Wise Purchase Report":2==t.REPORT_TYPE?"@Day Wise Purchase Report":3==t.REPORT_TYPE?"@Month Wise Purchase Report":"",0==t.DNMODE?this.debitNoteDisplayName="@Item Base Debit Note Only":1==t.DNMODE?this.debitNoteDisplayName="@A/C Base Debit Note Only":2==t.DNMODE&&(this.debitNoteDisplayName=""),this.showdetalreportdisplay=1==t.REPORT_TYPE?0==t.SHOWDETALREPORT?"@Summary Report":1==t.SHOWDETALREPORT?"@Detail Report":"":""),("Purchase Report Item Wise"==this.showReportName||"Purchase Report Item Wise_2"==this.showReportName||"Purchase Report Item Wise_3"==this.showReportName)&&(this.showReportName="Purchase Report Item Wise","%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.supplierDisplayName="%"!=t.ACID?t.SUPPLIERNAME:"","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.purchaseItemWiseDisplay=0==t.ITEMGROUPWISE?"Item Wise":1==t.ITEMGROUPWISE?"Mother Item Wise":"Mother Item Wise with Item Details"),"Purchase Report Item Wise Detail"==this.showReportName&&("%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportOptionDisplayName=0==t.REPORT_TYPE?"@Bill Wise Report":1==t.REPORT_TYPE?"@Day Wise Report":"",this.showDetailDisplay=1==t.SHOWDETAIL?"@Report with Item Detail":""),("Purchase Report Supplier Wise"==this.showReportName||"Purchase Report Supplier Wise_1"==this.showReportName||"Purchase Report Supplier Wise_2"==this.showReportName)&&(this.showReportName="Purchase Report Supplier Wise",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report-By Item":2==t.SHOWDETAIL?"@Detail Report-By Purchase Bill":"",this.supplierDisplayName="%"!=t.ACID?t.SUPPLIERNAME:"",this.purchasetranAmntDisplayName=t.TRANSACTIONAMOUNT?t.TRANSACTIONAMOUNT:"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Report Category Wise"==this.showReportName||"Purchase Report Category Wise_1"==this.showReportName)&&(this.showReportName="Purchase Report Category Wise",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Report Product Type Wise"==this.showReportName||"Purchase Report Product Type Wise_1"==this.showReportName)&&(this.showReportName="Purchase Report Product Type Wise","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.productTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.productTypeDisplay="",this.reportTypeDisplay=0==t.SHOWDETAIL?"@Summary Report":1==t.SHOWDETAIL?"@Detail Report":"","%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Membership Point Report"==this.showReportName||"Membership Point Report_1"==this.showReportName)&&(this.showReportName="Membership Point Report",this.showReportType=1==t.SUMMARY?"@Summary Report":0==t.SUMMARY?"@Detail Report":"",this.memberDisplayName="%"!=t.MEMID?t.MEMNAME:"",this.membershipPointDisplay=t.POINT?t.POINT:"",this.topNsortDisplay=1==t.TOPNSORT?"@Sorted By Top N Order":""),("Sales Profitability Analysis ReportNONDMS"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_1"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_2"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_3"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_4"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_5"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_6"==this.showReportName)&&(this.showReportName="Sales Profitability Analysis Report","%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"","100"!=t.PTYPE?this.masterService.getItemTypeName(t.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemwiseDisplaycode=t.ITEMNAME,this.itemwiseDisplayName=t.MENUCODE):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=t.CCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),"Purchase Order Report"==this.showReportName&&(this.showReportName="Purchase Order Report",this.supplierDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"",0==t.SUMMARYREPORT?this.reportTypeDisplay="@Detail Report":1==t.SUMMARYREPORT&&(this.reportTypeDisplay="@Summary Report")),"Purchase Order Outstanding Report"==this.showReportName&&(this.showReportName="Purchase Order Outstanding Report",this.supplierDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",0==t.ITEMWISEREPORT?this.reportTypeDisplay="@Purchase Order Wise Report":1==t.ITEMWISEREPORT&&(this.reportTypeDisplay="@Item Wise Report")),"Quotation Report"==this.showReportName&&(this.showReportName="Quotation Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MCODE):(this.itemDisplayName="",this.itemDisplaycode="")),"Sales Order Report"==this.showReportName&&(this.showReportName="Sales Order Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"",0==t.SUMMARYREPORT?this.reportTypeDisplay="@Detail Report":1==t.SUMMARYREPORT&&(this.reportTypeDisplay="@Summary Report"),this.UserDisplayName="%"!=t.USER?t.USER:"","%"!=t.COSTCENTER?this.masterService.getCostCenterName(t.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.SalesmanDisplayName="%"!=t.SMANID?t.SALESMANNAME:""),"Sales Order Outstanding Report"==this.showReportName&&(this.showReportName="Sales Order Outstanding Report",this.customerDisplayName="%"!=t.ACID?t.CUSTOMERNAME:"","%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=t.MGROUP?this.masterService.getItemGroupName(t.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",0==t.ITEMWISEREPORT?this.reportTypeDisplay="@Sales Order Wise Report":1==t.ITEMWISEREPORT&&(this.reportTypeDisplay="@Item Wise Report")),"Raw Data Report"==this.showReportName&&(this.showReportName="Raw Data Report","%"!=t.REPORT_ID?(console.log("@@reportparam",t.REPORT_NAME),this.reportTypeDisplay=`Report Type: ${t.REPORT_NAME}`):this.reportTypeDisplay=""),"Branch Transfer Report"==this.showReportName&&(this.reportTypeDisplay="TO%"==t.OPT_BRANCHINOUT?"@Report Type: Branch Transfer Out Report":"TR%"==t.OPT_BRANCHINOUT?"@Report Type: Branch Transfer In Report":""),"Stock Ageing Report"==this.showReportName&&(this.reportTypeDisplay=1==t.AGEINGMODE?"@Ageing Type: By Purchase Date":2==t.AGEINGMODE?"@Ageing Type: By Expiry Date":3==t.AGEINGMODE?"@Ageing Type: By Manufacturing Date":""),"Sales Collection Report"==this.showReportName&&(this.reportTypeDisplayName=0==t.REPORTTYPE?"@Summary Report":1==t.REPORTTYPE?"@Detail Report":"",this.reportOptionDisplayName=0==t.REPORTOPTION?"@User Wise Report":1==t.REPORTOPTION?"@Counter Wise Report":2==t.REPORTOPTION?"@Day Wise Report":"",this.UserDisplayName="%"!=t.TRNUSER?t.TRNUSER:"%"==t.TRNUSER&&1==t.ALLUSER?"All Users":"",this.terminalDisplayName="%"!=t.TERMINAL?t.TERMINALNAME:"%"==t.TERMINAL&&1==t.ALLTERMINAL?"All Counters":"",1==t.TIMWISEREPORT&&("00:00"!=t.TIME1&&"00:00"!=t.TIME2?(this.TimeDisplay=t.TIME1,this.TimeDisplay2=t.TIME2):(this.TimeDisplay="",this.TimeDisplay2=""))),("Consolidated Stock Report - Division Wise"==this.showReportName||"Consolidated Stock Report - Warehouse Wise"==this.showReportName||"Consolidated Sales Report - Division Wise"==this.showReportName||"Consolidated Purchase Report - Division Wise"==this.showReportName)&&(this.reportTypeDisplay=t.REPORTOPTIONDISPLAYNAME?t.REPORTOPTIONDISPLAYNAME:"",this.supplierDisplayName=t.SUPPLIERDISPLAYNAME?t.SUPPLIERDISPLAYNAME:"",this.customerDisplayName=t.CUSTOMERDISPLAYNAME?t.CUSTOMERDISPLAYNAME:"",this.categoryDisplayName=t.CATEGORYNAME?t.CATEGORYNAME:"",this.itemDisplayName=t.ITEMNAME?t.ITEMNAME:"",this.itemTypeDisplay=t.ITEMTYPENAME?t.ITEMTYPENAME:"",this.itemGroupDisplayName=t.ITEMGROUPNAME?t.ITEMGROUPNAME:"",this.warehouseDisplayName=t.WAREHOUSENAME?t.WAREHOUSENAME:""),"Opening Stock Report"==this.showReportName&&("%"!=t.MCODE?(this.itemDisplayName=t.ITEMNAME,this.itemDisplaycode=t.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.labelDisplayName="1"==t.ReportMode?" @Negative Stock Report Only":"",this.stockshowDetailDisplay=1==t.ShowDetail?"@Report with Item Detail":"",this.warehouseDisplayName="%"!=t.WAREHOUSE?t.WAREHOUSE:"",this.itemGroupDisplayName="%"!=t.MGROUP&&t.MGROUP?t.ITEMGROUPNAME:"",this.categoryDisplayName="%"!=t.MCAT?t.MCAT:"",this.itemTypeDisplay="100"!=t.PTYPE?t.ITEMTYPENAME:"",this.supplierDisplayName="%"!=t.SUPCODE?t.SUPPLIERNAME:""),"Stock Issue Report"==this.showReportName&&(this.FromwarehouseName=t.FROMWAREHOUSENAME?t.FROMWAREHOUSENAME:"",this.ToWarehouseName=t.TOWAREHOUSENAME?t.TOWAREHOUSENAME:"",this.reportTypeDisplay=t.REPORTOPTIONDISPLAYNAME?t.REPORTOPTIONDISPLAYNAME:""),"Requisition Report"==this.showReportName&&(this.reportTypeDisplay=1==t.ENTRYWISEREPORT?"@Entry Wise Report":2==t.ENTRYWISEREPORT?"@Item WiseReport":"",this.REQFROMDISPLAYNAME=t.REQFROMDISPLAYNAME?t.REQFROMDISPLAYNAME:"",this.REQTODISPLAYNAME=t.REQTODISPLAYNAME?t.REQTODISPLAYNAME:"","%"!=t.MCODE?this.itemwiseDisplaycode=t.ITEMNAME:this.itemwiseDisplayName="",0==t.Status?this.StatusDisplayName="All":1==t.Status?this.StatusDisplayName="Pending":2==t.Status?this.StatusDisplayName="Delivered":3==t.Status&&(this.StatusDisplayName="Force Closed")),"Shift Close Report"==this.showReportName&&(this.UserDisplayName="%"!=t.TRNUSER?t.TRNUSER:"",this.terminalDisplayName="%"!=t.TERMINAL?t.TERMINALNAME:""),"Stock Variance Report"==this.showReportName&&(this.warehouseDisplayName="%"!=t.WAREHOUSE?t.WAREHOUSE:""),"Sales Revenue Metrics Report"==this.showReportName&&(this.reportModeDisplayName=0==t.REPORTMODE?"Daily":1==t.REPORTMODE?"Weekly":"Monthly")}clickNext(){this.body.nativeElement.scrollTop=0}updown(t){"F2"==t.code&&(t.preventDefault(),this.fiterClickEvent()),"F9"==t.code&&(t.preventDefault(),this.ExportReportInExcel()),"F7"==t.code&&(t.preventDefault(),this.ExportReportInPdf()),"Escape"==t.code&&(1==this.reportLoadedSuccess&&(t.preventDefault(),this.closeReport()),1==this.showReportListDialog&&(t.preventDefault(),this.CancelReportList())),null==this.selectedRowIndex&&(this.selectedRowIndex=0),"ArrowDown"===t.code?1==this.showReportListDialog&&(t.preventDefault(),this.selectedRowIndex=this.selectedRowIndex+1,this.selectedRowIndex>this.previouslyLoadedReportsList.length-1&&(this.selectedRowIndex=this.previouslyLoadedReportsList.length-1)):"ArrowUp"===t.code&&1==this.showReportListDialog&&(t.preventDefault(),this.selectedRowIndex=this.selectedRowIndex-1,this.selectedRowIndex<0&&(this.selectedRowIndex=0)),"Enter"!==t.code&&"NumpadEnter"!==t.code||1!=this.showReportListDialog||(t.preventDefault(),null==this.selectedRowIndex||null==this.previouslyLoadedReportsList[this.selectedRowIndex])||this.router.navigate([this.previouslyLoadedReportsList[this.selectedRowIndex].activeurlpath])}routerToVouchers(t){switch(console.log("drillto",this.reportmasterDetail.DRILLTO),this.reportmasterDetail.DRILLTO){case"Stock Ledger Report":case"Stock Ledger Report Other":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,t.TYPE),this.router.navigate(["/pages/reports/stock-ledger-report"],{queryParams:{mode:"DRILL"}});break;case"VOUCHER":if("BILL NO"===this.reportmasterDetail.DRILLKEY&&!t[this.reportmasterDetail.DRILLKEY]&&t.Bill_no&&(t[this.reportmasterDetail.DRILLKEY]=t.Bill_no||t.VCHRNO),(0,ze.isNullOrUndefined)(t[this.reportmasterDetail.DRILLKEY]))return;this.router.navigate([this.getDrillRouteVoucherWise(t[this.reportmasterDetail.DRILLKEY],t.CNDN_MODE)],{queryParams:{mode:"DRILL",voucher:t[this.reportmasterDetail.DRILLKEY],returnUrl:this.activeurlpath}});break;case"Membership Point Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["/pages/reports/membershippointreport"],{queryParams:{mode:"DRILL"}});break;case"Stock Valuation ReportNONDMS_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/stock-valuation-report"],{queryParams:{mode:"DRILL"}});break;case"Sales Book Report_2":case"Sales Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesbook-report"],{queryParams:{mode:"DRILL"}});break;case"Sales Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesbook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Stock Summary Report_A":case"Stock Summary Report_4":case"Stock Summary Report_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/stock-summary-report"],{queryParams:{mode:"DRILL"}});break;case"Purchase Book Report_2":case"Purchase Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasebookreport"],{queryParams:{mode:"DRILL"}});break;case"Purchase Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasebookreport"],{queryParams:{mode:"DRILL",counter:0}});break;case"Credit Note Book Report_2":case"Credit Note Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/creditnotebook-report"],{queryParams:{mode:"DRILL"}});break;case"Credit Note Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/creditnotebook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Debit Note Book Report_2":case"Debit Note Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/debitnotebook-report"],{queryParams:{mode:"DRILL"}});break;case"Debit Note Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/debitnotebook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Item Wise Detail":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-itemwise-detail"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Item Wise Detail":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-itemwise-detail"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Item Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-itemwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Item Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-itemwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Purchase Report Item Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-itemwise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Item Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-itemwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Customer Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-customerwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Customer Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-customerwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Purchase Report Supplier Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-supplierwise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Supplier Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/purchasereport-supplierwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Category Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/SalesReportCategoryWise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Category Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/PurchaseReportCategoryWise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Product Type Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/SalesReportProductTypeWise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Product Type Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/PurchaseReportProductTypeWise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Supplier Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-supplierwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Salesman Wise_1":case"Sales Report Salesman Wise_2":case"Sales Report Salesman Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-salesmanwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Membership Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/salesreport-membershipwise"],{queryParams:{mode:"DRILL"}});break;case"Recurring Transaction Analysis Report_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,t,null),this.router.navigate(["pages/reports/recurring-transaction-analysis-report"],{queryParams:{mode:"DRILL"}})}}clicked(t){this.HighlightRow=t}downloadReportPrepareFromAPI(){console.log("report rounding mode",this.REPORTROUNDINGMODE,"reports params",this.reportparam);var t=1;let r=this.reportHeaders.map(s=>({SNO:t++,ReportName:this.reportname,ColumnName:s.colHeader,MappingName:s.mappingName,MergeHeader:s.colGroup}));0!=this.REPORTROUNDINGMODE?this.reportparam.REPORTROUNDINGMODE=this.REPORTROUNDINGMODE:(this.reportparam.REPORTROUNDINGMODE=0,delete this.reportparam.REPORTROUNDINGMODE);let i={reportname:this.reportname,reportparam:this.reportparam,columnSetting:r||this.reportHeaders,REPORTDISPLAYNAME:this.showReportName};this.spinnerService.show("Report is downloading..Please wait"),this.masterService.DownLoadAllExcelReportPreparedFromAPI(i).subscribe(s=>{this.spinnerService.hide();let p=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),d=i.REPORTDISPLAYNAME?i.REPORTDISPLAYNAME:i.reportname;d&&"Annex 5 Report"==d&&(d="Materialized View Report"),ho.saveAs(p,`${d}.xlsx`)},s=>{this.spinnerService.hide()})}onRowsPerPageChange(t){t<15&&(this.alertService.error("Minimun value for Rows Per Column must be 15"),this.rowsperpage=15)}downloadpdfPrepareFromAPI(){var t=1;let r=this.reportHeaders.map(s=>({SNO:t++,ReportName:this.reportname,ColumnName:s.colHeader,MappingName:s.mappingName,MergeHeader:s.colGroup})),i={reportname:this.reportname,reportparam:this.reportparam,columnSetting:r||this.reportHeaders,REPORTDISPLAYNAME:this.showReportName};this.spinnerService.show("PDF is downloading...Please wait"),this.masterService.DownLoadAllPdfReportPreparedFromAPI(i).subscribe(s=>{this.spinnerService.hide();let p=new Blob([s],{type:"application/pdf"}),d=i.REPORTDISPLAYNAME?i.REPORTDISPLAYNAME:i.reportname;d&&"Annex 5 Report"==d&&(d="Materialized View Report"),ho.saveAs(p,`${d}.pdf`)},s=>{this.spinnerService.hide()})}updateReportFormat(){this.reportMasterService.updateReportColumnFormat(this.ReportColumnName).subscribe(t=>{"ok"==t.status&&this.alertService.info("Report format is updated successfully")})}refreshReportColumns(){this.reportMasterService.refreshReportColumnFormate(this.reportname,this.reportparam).subscribe(t=>{"ok"==t.status?(this.reportColumnFormate=t.result,this.rowsperpage=t.result?t.result[0].rowsperpage:"100",0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(r=>({ReportName:this.reportname,ColumnName:r.colHeader,MappingName:r.mappingName,Show:r.Visible,ColWidth:r.size,Format:r.stringFormat,Align:r.alignment,ColumnPosition:r.colPosition,ColGroup:r.ColGroup,GroupSummary:r.groupSummaryFunction,GSFunction:r.groupSummaryFunction,TableSummary:r.showTables,TSFunction:r.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((r,o)=>{r.Show=1,r.TableSummary=0,r.GroupSummary=0,r.ColumnPosition=o+1})):this.ReportColumnName=this.reportColumnFormate.map(r=>({ReportName:this.reportname,ColumnName:r.ColumnName,MappingName:r.MappingName,Show:r.Show,ColWidth:r.ColWidth,Format:r.Format,Align:r.Align,ColumnPosition:r.ColumnPosition,ColGroup:r.ColGroup,GroupSummary:r.GroupSummary,GSFunction:r.GSFunction,TableSummary:r.TableSummary,TSFunction:r.TSFunction,ReportTitle:this.reportTitle,rowsperpage:r.rowsperpage}))):this.reportColumnFormate=[]})}prepareOptionalDynamicHeader(t=[]){let r=[],o=0;if(t.length){for(var i in t){if(this.reportmasterDetail.HASDYNAMICCOLUMNS&&1==this.reportmasterDetail.DYNAMICHEADER){let _,d="Default";d=1==this.reportmasterDetail.DYNAMICHEADER&&t[i].mappingName.includes("~")?t[i].mappingName.split("~")[0]:"Default",_=this.allHeaders.filter(c=>c.mappingName.split("~")[0]==t[i].mappingName.split("~")[0]);let h=r.filter(c=>c.mappingName.split("~")[0]==t[i].mappingName.split("~")[0]);o+1>=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL?h.length||r.push({colGroup:"Default"==d?"":d,width:s(_,this.reportmasterDetail.DYNAMICCOLUMNWIDTH)+"px",colspan:Number(_.length),alignment:"center",mappingName:t[i].mappingName,colPosition:"Default"==d?t[i].colPosition+5e3:t[i].colPosition}):r.push({colGroup:"",colspan:1,width:Number(t[i].size)+"px",alignment:"center",mappingName:t[i].mappingName,colPosition:t[i].colPosition})}o++}r=yr().sortBy(r,"colPosition"),this.optionalreportHeaders=r.length?r:[]}function s(p=[],d){console.log("@@DYNAMICCOLUMNWIDTH",d);let _=0;return p.length?(p.forEach(h=>{_+=Number(d)}),_):100}}preparereportHeader(t=[]){let r=[];if(t.length){for(var o of t)if(o.hasOwnProperty("colHeader")&&""!=o.colHeader&&!(0,ze.isNullOrUndefined)(o.colHeader)){let s=t.filter(d=>d.colHeader==o.colHeader);r.filter(d=>d.colHeader==o.colHeader).length||r.push({width:i(s)+"px",colspan:Number(s.length),alignment:"center",mappingName:o.mappingName,colHeader:o.colHeader})}else r.push({colHeader:o.colHeader,colspan:1,width:Number(o.size)+"px",alignment:"center",mappingName:o.mappingName});this.mergereportHeaders=r||[]}function i(s=[]){let p=0;return s.length?(s.forEach(d=>{p+=Number(d.size)}),p):100}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.F0),e.Y36(b.P),e.Y36(E.e),e.Y36(m.gz),e.Y36(G.uw),e.Y36(R),e.Y36(uo.V),e.Y36(I.c),e.Y36(_o.tm),e.Y36(C.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["reportmain"]],viewQuery:function(t,r){if(1&t&&(e.Gf(G4,5),e.Gf(Q4,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.body=o.first)}},hostBindings:function(t,r){1&t&&e.NdJ("keydown",function(i){return r.updown(i)},!1,e.evT)},inputs:{reportMaster:"reportMaster",reportname:"reportname"},decls:76,vars:30,consts:[[1,"clearfix"],[1,"row","col-md-12"],[1,"row","col-md-11"],[1,"modal-title","bold_text",2,"font-size","18px","margin-top","0px","margin-left","19px"],[4,"ngIf"],[1,"col-md-1"],["type","button","data-dismiss","modal",1,"close",2,"margin-right","30%","margin-top","5px",3,"click"],[1,"plainBackGround","toggable-sidebar",3,"ngClass"],[1,"btn","btn-info","btn-toggler",3,"click"],[1,"glyphicon","glyphicon-search"],[1,"fa","fa-angle-double-left",3,"ngClass"],["type","text","name","search","placeholder","Search in report",1,"form-control",2,"width","250px","height","25px","margin-right","50px","margin-bottom","10px",3,"ngModel","ngModelChange"],[2,"float","left","margin-left","10px","margin-right","0.5%"],[2,"height","30px","width","30px"],[1,"cell-with-comment",2,"border","1pt solid black",3,"click"],[2,"margin","5px"],["tooltip","Main filters",1,"fa","fa-filter"],[1,"cell-comment"],["style","height:30px;width:30px",4,"ngIf"],[2,"margin","4px"],["tooltip","Main filters",1,"fa","fa-file-export"],["id","pdfWidth",1,"cell-with-comment",2,"border","1pt solid black",3,"click"],[2,"margin","7px"],["tooltip","Main filters",1,"fa","fa-file-pdf"],["tooltip","Main filters",1,"fa","fa-file-alt"],[1,"report-table",2,"width","102%"],[1,"widgets"],[1,"row","table-container"],["id","BlueHeaderResizableTable",1,"reportTabel",2,"font-size","12px","width","98%","height","96%","overflow-x","auto"],["reportHtmlTable",""],[2,"height","25px"],["style","font-weight: bold;text-align: center;",3,"width","ngStyle","ngClass",4,"ngFor","ngForOf"],[2,"width","fit-content"],["body",""],[3,"ngClass","active","dblclick","contextmenu","click",4,"ngFor","ngForOf"],[2,"margin-bottom","0.5%"],["style","font-weight: bold;font-size: inherit;height: 20px !important;color: inherit;",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"pageChange","click"],["bsModal","","role","dialog",1,"modal","fade",2,"position","absolute","top","50%"],["childModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-title"],[1,"modal-body"],["class","modal-sticky","style","overflow-y: auto; overflow-x: hidden; right: 4%;width: 92%;z-index: 9999999",4,"ngIf"],["class","modal-sticky","style","overflow: auto;right: 40%;width: 30%;z-index: 9999999",4,"ngIf"],["class","modal-sticky","style","overflow: auto;right: 20%;width: 40%;z-index: 9999999",4,"ngIf"],["class","bold_text",4,"ngIf"],["class","bold_text","style","width: auto;",4,"ngIf"],["class","bold_text","style","width: 140px;",4,"ngIf"],[1,"bold_text"],[1,"bold_text",2,"width","auto"],[1,"bold_text",2,"width","140px"],[2,"border","1pt solid black",3,"click"],["tooltip-placement","right","tooltip","Main filters",2,"margin","5px"],["tooltip","Main filters",1,"fa","fa-tasks"],[3,"text-align","width","ngClass",4,"ngFor","ngForOf"],[3,"width","ngClass"],[2,"font-weight","bold","text-align","center",3,"width","ngStyle","ngClass"],["class","arrow down",3,"click",4,"ngIf"],["class","arrow up",3,"click",4,"ngIf"],[1,"arrow","down",3,"click"],[1,"arrow","up",3,"click"],[3,"ngClass","dblclick","contextmenu","click"],["style","height: 20px !important;",3,"ngClass","width","text-align",4,"ngFor","ngForOf"],[2,"height","20px !important",3,"ngClass","width"],[2,"margin","0 !important","overflow","hidden",3,"ngStyle"],[2,"font-weight","bold","font-size","inherit","height","20px !important","color","inherit"],["style","height: 30px !important;background: #ABDCFB;",3,"width","text-align","ngClass",4,"ngFor","ngForOf"],[2,"height","30px !important","background","#ABDCFB",3,"width","ngClass"],[1,"modal-sticky",2,"overflow-y","auto","overflow-x","hidden","right","4%","width","92%","z-index","9999999"],[1,"modal-content","modal-content-main-area"],[2,"background-color","#d9e5e7","display","flex","justify-content","space-between","align-items","center"],["id","myModalLabel",1,"modal-title"],["type","button",1,"btn","btn-info",2,"font-size","14px",3,"click"],["type","button","class","btn btn-info","style","font-size: 14px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info",2,"margin-left","115px","margin-top","-6px","font-size","14px",3,"click"],["type","button",1,"btn","btn-info",2,"margin-left","12px","margin-top","-6px","font-size","14px",3,"click"],[1,"row"],[1,"col-md-12"],[1,"row",2,"margin-top","5px","align-items","baseline"],[1,"row","col-md-4",2,"margin-top","5px"],[1,"col-md-4","label",2,"margin","0","padding","0"],[1,"col-md-6"],["type","text",1,"form-control","input-text-element",2,"color","black","height","24px",3,"readonly","ngModel","ngModelChange"],["type","text",1,"form-control","input-text-element",2,"height","24px",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","5px"],["type","text",1,"form-control","input-text-element",3,"ngModel","ngModelChange","change"],["name","dynamic","id","dynamiccolumn",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["name","dynamicheaders","id","dynamicheader",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],["type","number",1,"form-control","input-text-element",3,"ngModel","ngModelChange"],["type","text",1,"form-control","input-text-element",3,"ngModel","ngModelChange"],["name","mergeheader","id","_mergeheader",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"margin-left","5px"],[1,"table",2,"display","grid","font-size","12px"],[2,"width","56px"],["scope","col",2,"width","190px"],["scope","col",2,"width","60px"],["scope","col",2,"width","90px"],["scope","col",2,"width","100px"],["scope","col",2,"width","65px"],["scope","col",2,"width","120px"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],[1,"columformat-class",2,"width","56px"],[1,"columformat-class",2,"width","190px","line-height","32px"],["type","text",1,"form-control",2,"height","26px","margin-top","2px","font-size","12px",3,"ngModel","ngModelChange"],["type","text",1,"form-control",2,"color","black","height","26px","margin-top","2px","font-size","12px",3,"readonly","ngModel","ngModelChange"],[1,"columformat-class",2,"width","60px","line-height","32px"],["type","checkbox",1,"form-control",2,"font-size","2px","margin-top","10%",3,"ngModel","change","ngModelChange"],[1,"columformat-class",2,"width","90px","line-height","32px"],["type","number",1,"form-control",2,"height","26px","margin-top","2px","font-size","12px",3,"ngModel","ngModelChange"],[1,"columformat-class",2,"width","100px","line-height","32px","font-size","12px"],["type","text",1,"form-control",2,"height","26px","margin-top","2px",3,"ngModel","ngModelChange"],[1,"columformat-class",2,"width","65px","line-height","32px"],[1,"columformat-class",2,"width","120px","line-height","32px"],["type","checkbox",1,"form-control",2,"font-size","2px","margin-top","5%",3,"ngModel","change","ngModelChange"],[1,"modal-sticky",2,"overflow","auto","right","40%","width","30%","z-index","9999999"],[2,"height","28px","margin-top","5px"],["id","myModalLabel",1,"modal-title",2,"line-height","15px","font-weight","bold"],[1,"table-responsive"],[1,"table",2,"display","grid"],[2,"width","100%"],[2,"line-height","7px"],[2,"width","1%"],[2,"width","7%"],[2,"height","200px","overflow","auto","font-size","15px"],["style","line-height: 5px;",3,"highlighted",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[2,"line-height","5px"],[2,"width","7%",3,"routerLink"],[1,"modal-sticky",2,"overflow","auto","right","20%","width","40%","z-index","9999999"],[1,"modal-header",2,"padding","0px","background","#87ceeb"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin","auto","height","45vh","width","80vh",3,"src"],[1,"row","col-md-12","pd0"],[2,"font-weight","bold","font-size","14px","width","auto"],[2,"font-size","14px","width","auto"],[3,"data"]],template:function(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"titlecase"),e.qZA(),e.YNc(6,K6,55,54,"ng-container",4),e.qZA(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return r.closeReport()}),e._uU(9,"\xd7"),e.qZA()(),e.TgZ(10,"div",7)(11,"button",8),e.NdJ("click",function(){return r.hideShow=!r.hideShow}),e._UZ(12,"span",9)(13,"i",10),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(s){return r.filter=s}),e.qZA()()()(),e.TgZ(15,"div",0)(16,"div",12)(17,"table")(18,"tr",13)(19,"td",14),e.NdJ("click",function(){return r.fiterClickEvent()}),e.TgZ(20,"i",15),e._UZ(21,"span",16),e.qZA(),e.TgZ(22,"span",17),e._uU(23," View Report Dialog Box [F2] "),e.qZA()()(),e.YNc(24,$6,4,0,"tr",18),e.TgZ(25,"tr",13)(26,"td",14),e.NdJ("click",function(){return r.ExportReportInExcel()}),e.TgZ(27,"i",19),e._UZ(28,"span",20),e.qZA(),e.TgZ(29,"span",17),e._uU(30," Save To Excel [F9] "),e.qZA()()(),e.TgZ(31,"tr",13)(32,"td",21),e.NdJ("click",function(){return r.ExportReportInPdf()}),e.TgZ(33,"i",22),e._UZ(34,"span",23),e.qZA(),e.TgZ(35,"span",17),e._uU(36," Save To PDF [F7] "),e.qZA()()(),e.TgZ(37,"tr",13)(38,"td",14),e.NdJ("click",function(){return r.showPreviouslyLoadedReports()}),e.TgZ(39,"i",22),e._UZ(40,"span",24),e.qZA(),e.TgZ(41,"span",17),e._uU(42," Open Report List [Shift+Tab] "),e.qZA()()()()(),e.TgZ(43,"div",25)(44,"div",26)(45,"div",27)(46,"table",28,29),e.YNc(48,e0,3,1,"thead",4),e.TgZ(49,"thead")(50,"tr",30),e.YNc(51,n0,5,7,"th",31),e.qZA()(),e.TgZ(52,"tbody",32,33),e.YNc(54,l0,2,4,"tr",34),e.ALo(55,"paginate"),e.ALo(56,"filter"),e.qZA(),e.TgZ(57,"tfoot",35),e.YNc(58,p0,2,1,"tr",36),e.qZA(),e.TgZ(59,"div",37)(60,"pagination-controls",38),e.NdJ("pageChange",function(s){return r.page=s})("click",function(){return r.clickNext()}),e.qZA()()()()()()(),e.TgZ(61,"div",39,40)(63,"div",41)(64,"div",42)(65,"div",43)(66,"button",44),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(62);return e.KtG(s.hide())}),e._uU(67,"\xd7"),e.qZA(),e.TgZ(68,"h4",45),e._uU(69,"Information"),e.qZA()(),e.TgZ(70,"div",46),e._uU(71),e.qZA()()()(),e.YNc(72,h0,107,12,"div",47),e.YNc(73,g0,19,1,"div",48),e.YNc(74,m0,25,8,"div",49),e.YNc(75,S0,2,1,"div",4)}2&t&&(e.xp6(4),e.hij("",e.lcZ(5,15,r.showReportName),"\xa0\xa0"),e.xp6(2),e.Q6J("ngIf",r.reportparam&&r.reportname),e.xp6(4),e.Q6J("ngClass",e.VKq(23,f0,r.hideShow)),e.xp6(3),e.Q6J("ngClass",e.VKq(25,v0,r.hideShow)),e.xp6(1),e.Q6J("ngModel",r.filter),e.xp6(10),e.Q6J("ngIf","ADMIN"==r.userProfile.username.toUpperCase()),e.xp6(24),e.Q6J("ngIf",r.optionalreportHeaders.length),e.xp6(3),e.Q6J("ngForOf",r.mergereportHeaders),e.xp6(3),e.Q6J("ngForOf",e.xi3(55,17,e.xi3(56,20,r.reportData,r.filter),e.WLB(27,O0,r.rowsperpage,r.page))),e.xp6(4),e.Q6J("ngForOf",r.reportFooter),e.xp6(13),e.hij(" ",r.DialogMessage," "),e.xp6(1),e.Q6J("ngIf",r.showReportColumnFormatPopup),e.xp6(1),e.Q6J("ngIf",r.showReportListDialog),e.xp6(1),e.Q6J("ngIf",r.showItemImage),e.xp6(1),e.Q6J("ngIf",1==r.contextMenuView.show))},dependencies:[m.rH,Qe.oB,We.LS,u.mk,u.sg,u.O5,u.PC,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.On,q4,We._s,u.rS,u.H9,Y4],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:500px!important}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{min-width:100%!important}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;right:0;position:absolute;margin:0}.arrow[_ngcontent-%COMP%]{border:solid black;border-width:0 3px 3px 0;display:inline-block;padding:2px}.right[_ngcontent-%COMP%]{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.up[_ngcontent-%COMP%]{transform:rotate(-135deg);-webkit-transform:rotate(-135deg)}.down[_ngcontent-%COMP%]{transform:rotate(45deg);-webkit-transform:rotate(45deg)}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}",".Regular[_ngcontent-%COMP%] {\n    font-weight: inherit;\n    font-size: inherit;\n    height: 20px !important;\n    color: inherit;\n  }\n\n  .Bold[_ngcontent-%COMP%] {\n    font-weight: bold;\n    font-size: inherit;\n    height: 20px !important;\n    color: inherit;\n  }\n\n  .Regulartd[_ngcontent-%COMP%] {\n    white-space: inherit;\n    \n    line-height: 10px;\n    overflow: hidden;\n    padding-left: 5px;\n    padding-right: 3px\n  }\n\n  .Boldtd[_ngcontent-%COMP%] {\n    white-space: inherit;\n    \n    overflow: hidden;\n    padding-left: 5px;\n    padding-right: 3px;\n    line-height: 10px;\n  }\n\n  .toggable-sidebar[_ngcontent-%COMP%] {\n    position: absolute;\n    right: -280px;\n    transition: 0.3s;\n    padding: 10px;\n    width: 270px;\n    text-decoration: none;\n    font-size: 20px;\n    border-radius: 0 5px 5px 0;\n    background: #c0c0c0;\n    color: #000000;\n    \n    \n    margin: 0px;\n    border: 1px solid #f1ebeb;\n  }\n\n  .mySidenav-show[_ngcontent-%COMP%] {\n    right: 0 !important;\n  }\n\n  .btn-toggler[_ngcontent-%COMP%] {\n    position: absolute;\n    left: -45px;\n    top: 3px;\n    background: #8cccfb !important;\n    border-color: #8cccfb !important;\n    padding: 5px 12px 5px 5px !important;\n    font-size: 10px !important;\n    width: 45px !important;\n  }\n\n  .toggler-btn-icon-reverse[_ngcontent-%COMP%] {\n    transform: rotate(180deg);\n  }\n\n  .bold_text[_ngcontent-%COMP%] {\n    font-weight: bold;\n  }\n\n  .columformat-class[_ngcontent-%COMP%]{\n    padding: 0.25rem;\n  }\n  .noMergerHeader[_ngcontent-%COMP%]{\n    margin-top: 0px;\n  }\n  .MergerHeader[_ngcontent-%COMP%]{\n    margin-top: 10px;\n  }\n\n  .highlighted[_ngcontent-%COMP%]\n  {\n    background: #dbedf9;\n    color: black;\n  }\n\n  .input-text-element[_ngcontent-%COMP%]{\n        width: 216px;\n        height: 24px;\n    }\n\n    .notdisplay[_ngcontent-%COMP%] {\n    display:none;\n  }\n\n  #pdfWidth[_ngcontent-%COMP%]{\n    width:52px; \n    border-left-style: solid;\n    border-left-width: 2px;\n  }"]}),n})();var T=v(82661),ve=v(8239),Bt=v(56318),b0=v(18632),gt=v(83319),Fr=v(22759),T0=v(69165),C0=v(68307),M0=v(19773),A0=v(46782),go=v(74945),mo=v(5304),Pt=v(88002),Fe=v(48873),Zs={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},I1={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]};function Yc(n,a){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);a&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function k(n){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Yc(Object(t),!0).forEach(function(r){Se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yc(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lr(n){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(n)}function Jc(n,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Se(n,a,t){return a in n?Object.defineProperty(n,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[a]=t,n}function Ri(n,a){return function eF(n){if(Array.isArray(n))return n}(n)||function rF(n,a){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var s,p,r=[],o=!0,i=!1;try{for(t=t.call(n);!(o=(s=t.next()).done)&&(r.push(s.value),!a||r.length!==a);o=!0);}catch(d){i=!0,p=d}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw p}}return r}}(n,a)||Gc(n,a)||function oF(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(n){return function Xy(n){if(Array.isArray(n))return Ei(n)}(n)||function tF(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Gc(n)||function iF(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gc(n,a){if(n){if("string"==typeof n)return Ei(n,a);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ei(n,a)}}function Ei(n,a){(null==a||a>n.length)&&(a=n.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=n[t];return r}var Qc=function(){},Di={},Kc={},$c=null,Xc={mark:Qc,measure:Qc};try{typeof window<"u"&&(Di=window),typeof document<"u"&&(Kc=document),typeof MutationObserver<"u"&&($c=MutationObserver),typeof performance<"u"&&(Xc=performance)}catch{}var dr,_r,hr,ur,gr,ep=(Di.navigator||{}).userAgent,tp=void 0===ep?"":ep,Ke=Di,re=Kc,rp=$c,pr=Xc,Be=!!re.documentElement&&!!re.head&&"function"==typeof re.addEventListener&&"function"==typeof re.createElement,ip=~tp.indexOf("MSIE")||~tp.indexOf("Trident/"),qe="___FONT_AWESOME___",np="svg-inline--fa",st="data-fa-i2svg",Ni="data-fa-pseudo-element",ki="data-prefix",yi="data-icon",ap="fontawesome-i2svg",lF=["HTML","HEAD","STYLE","SCRIPT"],sp=function(){try{return!0}catch{return!1}}(),ie="classic",de="sharp",Fi=[ie,de];function Ft(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[ie]}})}var jt=Ft((Se(dr={},ie,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Se(dr,de,{fa:"solid",fass:"solid","fa-solid":"solid"}),dr)),Lt=Ft((Se(_r={},ie,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Se(_r,de,{solid:"fass"}),_r)),wt=Ft((Se(hr={},ie,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Se(hr,de,{fass:"fa-solid"}),hr)),cF=Ft((Se(ur={},ie,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Se(ur,de,{"fa-solid":"fass"}),ur)),pF=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,lp="fa-layers-text",dF=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,_F=Ft((Se(gr={},ie,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Se(gr,de,{900:"fass"}),gr)),cp=[1,2,3,4,5,6,7,8,9,10],hF=cp.concat([11,12,13,14,15,16,17,18,19,20]),uF=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],xt=new Set;Object.keys(Lt[ie]).map(xt.add.bind(xt)),Object.keys(Lt[de]).map(xt.add.bind(xt));var gF=[].concat(Fi,yt(xt),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(cp.map(function(n){return"".concat(n,"x")})).concat(hF.map(function(n){return"w-".concat(n)})),Vt=Ke.FontAwesomeConfig||{};re&&"function"==typeof re.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var a=Ri(n,2),r=a[1],o=function SF(n){return""===n||"false"!==n&&("true"===n||n)}(function mF(n){var a=re.querySelector("script["+n+"]");if(a)return a.getAttribute(n)}(a[0]));null!=o&&(Vt[r]=o)});var pp={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:np,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Vt.familyPrefix&&(Vt.cssPrefix=Vt.familyPrefix);var mt=k(k({},pp),Vt);mt.autoReplaceSvg||(mt.observeMutations=!1);var F={};Object.keys(pp).forEach(function(n){Object.defineProperty(F,n,{enumerable:!0,set:function(t){mt[n]=t,Wt.forEach(function(r){return r(F)})},get:function(){return mt[n]}})}),Object.defineProperty(F,"familyPrefix",{enumerable:!0,set:function(a){mt.cssPrefix=a,Wt.forEach(function(t){return t(F)})},get:function(){return mt.cssPrefix}}),Ke.FontAwesomeConfig=F;var Wt=[],Ze={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Zt(){for(var n=12,a="";n-- >0;)a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return a}function St(n){for(var a=[],t=(n||[]).length>>>0;t--;)a[t]=n[t];return a}function ji(n){return n.classList?St(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(a){return a})}function dp(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mr(n){return Object.keys(n||{}).reduce(function(a,t){return a+"".concat(t,": ").concat(n[t].trim(),";")},"")}function Li(n){return n.size!==Ze.size||n.x!==Ze.x||n.y!==Ze.y||n.rotate!==Ze.rotate||n.flipX||n.flipY}function _p(){var n="fa",a=np,t=F.cssPrefix,r=F.replacementClass,o=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==a){var i=new RegExp("\\.".concat(n,"\\-"),"g"),s=new RegExp("\\--".concat(n,"\\-"),"g"),p=new RegExp("\\.".concat(a),"g");o=o.replace(i,".".concat(t,"-")).replace(s,"--".concat(t,"-")).replace(p,".".concat(r))}return o}var hp=!1;function wi(){F.autoAddCss&&!hp&&(function OF(n){if(n&&Be){var a=re.createElement("style");a.setAttribute("type","text/css"),a.innerHTML=n;for(var t=re.head.childNodes,r=null,o=t.length-1;o>-1;o--){var i=t[o],s=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=i)}re.head.insertBefore(a,r)}}(_p()),hp=!0)}var PF={mixout:function(){return{dom:{css:_p,insertCss:wi}}},hooks:function(){return{beforeDOMElementCreation:function(){wi()},beforeI2svg:function(){wi()}}}},Ye=Ke||{};Ye[qe]||(Ye[qe]={}),Ye[qe].styles||(Ye[qe].styles={}),Ye[qe].hooks||(Ye[qe].hooks={}),Ye[qe].shims||(Ye[qe].shims=[]);var je=Ye[qe],up=[],Sr=!1;function EF(n){!Be||(Sr?setTimeout(n,0):up.push(n))}function Ht(n){var a=n.tag,t=n.attributes,r=void 0===t?{}:t,o=n.children,i=void 0===o?[]:o;return"string"==typeof n?dp(n):"<".concat(a," ").concat(function TF(n){return Object.keys(n||{}).reduce(function(a,t){return a+"".concat(t,'="').concat(dp(n[t]),'" ')},"").trim()}(r),">").concat(i.map(Ht).join(""),"</").concat(a,">")}function gp(n,a,t){if(n&&n[a]&&n[a][t])return{prefix:a,iconName:t,icon:n[a][t]}}Be&&((Sr=(re.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(re.readyState))||re.addEventListener("DOMContentLoaded",function n(){re.removeEventListener("DOMContentLoaded",n),Sr=1,up.map(function(a){return a()})}));var xi=function(a,t,r,o){var d,_,h,i=Object.keys(a),s=i.length,p=void 0!==o?function(a,t){return function(r,o,i,s){return a.call(t,r,o,i,s)}}(t,o):t;for(void 0===r?(d=1,h=a[i[0]]):(d=0,h=r);d<s;d++)h=p(h,a[_=i[d]],_,a);return h};function Vi(n){var a=function IF(n){for(var a=[],t=0,r=n.length;t<r;){var o=n.charCodeAt(t++);if(o>=55296&&o<=56319&&t<r){var i=n.charCodeAt(t++);56320==(64512&i)?a.push(((1023&o)<<10)+(1023&i)+65536):(a.push(o),t--)}else a.push(o)}return a}(n);return 1===a.length?a[0].toString(16):null}function mp(n){return Object.keys(n).reduce(function(a,t){var r=n[t];return r.icon?a[r.iconName]=r.icon:a[t]=r,a},{})}function Wi(n,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,o=void 0!==r&&r,i=mp(a);"function"!=typeof je.hooks.addPack||o?je.styles[n]=k(k({},je.styles[n]||{}),i):je.hooks.addPack(n,mp(a)),"fas"===n&&Wi("fa",a)}var fr,vr,Or,ft=je.styles,kF=je.shims,yF=(Se(fr={},ie,Object.values(wt[ie])),Se(fr,de,Object.values(wt[de])),fr),Zi=null,Sp={},fp={},vp={},Op={},bp={},FF=(Se(vr={},ie,Object.keys(jt[ie])),Se(vr,de,Object.keys(jt[de])),vr);function LF(n,a){var t=a.split("-"),r=t[0],o=t.slice(1).join("-");return r!==n||""===o||function jF(n){return~gF.indexOf(n)}(o)?null:o}var Tp=function(){var a=function(i){return xi(ft,function(s,p,d){return s[d]=xi(p,i,{}),s},{})};Sp=a(function(o,i,s){return i[3]&&(o[i[3]]=s),i[2]&&i[2].filter(function(d){return"number"==typeof d}).forEach(function(d){o[d.toString(16)]=s}),o}),fp=a(function(o,i,s){return o[s]=s,i[2]&&i[2].filter(function(d){return"string"==typeof d}).forEach(function(d){o[d]=s}),o}),bp=a(function(o,i,s){var p=i[2];return o[s]=s,p.forEach(function(d){o[d]=s}),o});var t="far"in ft||F.autoFetchSvg,r=xi(kF,function(o,i){var s=i[0],p=i[1],d=i[2];return"far"===p&&!t&&(p="fas"),"string"==typeof s&&(o.names[s]={prefix:p,iconName:d}),"number"==typeof s&&(o.unicodes[s.toString(16)]={prefix:p,iconName:d}),o},{names:{},unicodes:{}});vp=r.names,Op=r.unicodes,Zi=br(F.styleDefault,{family:F.familyDefault})};function Hi(n,a){return(Sp[n]||{})[a]}function ct(n,a){return(bp[n]||{})[a]}function Cp(n){return vp[n]||{prefix:null,iconName:null}}function Xe(){return Zi}function br(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.family,r=void 0===t?ie:t,o=jt[r][n],i=Lt[r][n]||Lt[r][o],s=n in je.styles?n:null;return i||s||null}(function vF(n){Wt.push(n)})(function(n){Zi=br(n.styleDefault,{family:F.familyDefault})}),Tp();var Mp=(Se(Or={},ie,Object.keys(wt[ie])),Se(Or,de,Object.keys(wt[de])),Or);function Tr(n){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skipLookups,o=void 0!==r&&r,i=(Se(a={},ie,"".concat(F.cssPrefix,"-").concat(ie)),Se(a,de,"".concat(F.cssPrefix,"-").concat(de)),a),s=null,p=ie;(n.includes(i[ie])||n.some(function(_){return Mp[ie].includes(_)}))&&(p=ie),(n.includes(i[de])||n.some(function(_){return Mp[de].includes(_)}))&&(p=de);var d=n.reduce(function(_,h){var c=LF(F.cssPrefix,h);if(ft[h]?(h=yF[p].includes(h)?cF[p][h]:h,s=h,_.prefix=h):FF[p].indexOf(h)>-1?(s=h,_.prefix=br(h,{family:p})):c?_.iconName=c:h!==F.replacementClass&&h!==i[ie]&&h!==i[de]&&_.rest.push(h),!o&&_.prefix&&_.iconName){var g="fa"===s?Cp(_.iconName):{},S=ct(_.prefix,_.iconName);g.prefix&&(s=null),_.iconName=g.iconName||S||_.iconName,_.prefix=g.prefix||_.prefix,"far"===_.prefix&&!ft.far&&ft.fas&&!F.autoFetchSvg&&(_.prefix="fas")}return _},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(d.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(d.prefix="fad"),!d.prefix&&p===de&&(ft.fass||F.autoFetchSvg)&&(d.prefix="fass",d.iconName=ct(d.prefix,d.iconName)||d.iconName),("fa"===d.prefix||"fa"===s)&&(d.prefix=Xe()||"fas"),d}var VF=function(){function n(){(function Qy(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Ky(n,a,t){a&&Jc(n.prototype,a),t&&Jc(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var s=o.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(p){t.definitions[p]=k(k({},t.definitions[p]||{}),s[p]),Wi(p,s[p]);var d=wt[ie][p];d&&Wi(d,s[p]),Tp()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var o=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(o).map(function(i){var s=o[i],p=s.prefix,d=s.iconName,_=s.icon,h=_[2];t[p]||(t[p]={}),h.length>0&&h.forEach(function(c){"string"==typeof c&&(t[p][c]=_)}),t[p][d]=_}),t}}]),n}(),Ap=[],vt={},Ot={},WF=Object.keys(Ot);function zi(n,a){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];var i=vt[n]||[];return i.forEach(function(s){a=s.apply(null,[a].concat(r))}),a}function pt(n){for(var a=arguments.length,t=new Array(a>1?a-1:0),r=1;r<a;r++)t[r-1]=arguments[r];var o=vt[n]||[];o.forEach(function(i){i.apply(null,t)})}function Je(){var n=arguments[0],a=Array.prototype.slice.call(arguments,1);return Ot[n]?Ot[n].apply(null,a):void 0}function Bi(n){"fa"===n.prefix&&(n.prefix="fas");var a=n.iconName,t=n.prefix||Xe();if(a)return a=ct(t,a)||a,gp(Pp.definitions,t,a)||gp(je.styles,t,a)}var Pp=new VF,UF={i2svg:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Be?(pt("beforeI2svg",a),Je("pseudoElements2svg",a),Je("i2svg",a)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.autoReplaceSvgRoot;!1===F.autoReplaceSvg&&(F.autoReplaceSvg=!0),F.observeMutations=!0,EF(function(){BF({autoReplaceSvgRoot:t}),pt("watch",a)})}},Ee={noAuto:function(){F.autoReplaceSvg=!1,F.observeMutations=!1,pt("noAuto")},config:F,dom:UF,parse:{icon:function(a){if(null===a)return null;if("object"===lr(a)&&a.prefix&&a.iconName)return{prefix:a.prefix,iconName:ct(a.prefix,a.iconName)||a.iconName};if(Array.isArray(a)&&2===a.length){var t=0===a[1].indexOf("fa-")?a[1].slice(3):a[1],r=br(a[0]);return{prefix:r,iconName:ct(r,t)||t}}if("string"==typeof a&&(a.indexOf("".concat(F.cssPrefix,"-"))>-1||a.match(pF))){var o=Tr(a.split(" "),{skipLookups:!0});return{prefix:o.prefix||Xe(),iconName:ct(o.prefix,o.iconName)||o.iconName}}if("string"==typeof a){var i=Xe();return{prefix:i,iconName:ct(i,a)||a}}}},library:Pp,findIconDefinition:Bi,toHtml:Ht},BF=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.autoReplaceSvgRoot,r=void 0===t?re:t;(Object.keys(je.styles).length>0||F.autoFetchSvg)&&Be&&F.autoReplaceSvg&&Ee.dom.i2svg({node:r})};function Cr(n,a){return Object.defineProperty(n,"abstract",{get:a}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Ht(r)})}}),Object.defineProperty(n,"node",{get:function(){if(Be){var r=re.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function qi(n){var a=n.icons,t=a.main,r=a.mask,o=n.prefix,i=n.iconName,s=n.transform,p=n.symbol,d=n.title,_=n.maskId,h=n.titleId,c=n.extra,g=n.watchable,S=void 0!==g&&g,x=r.found?r:t,le=x.width,_e=x.height,Z="fak"===o,Oe=[F.replacementClass,i?"".concat(F.cssPrefix,"-").concat(i):""].filter(function(ot){return-1===c.classes.indexOf(ot)}).filter(function(ot){return""!==ot||!!ot}).concat(c.classes).join(" "),Me={children:[],attributes:k(k({},c.attributes),{},{"data-prefix":o,"data-icon":i,class:Oe,role:c.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(le," ").concat(_e)})},Ue=Z&&!~c.classes.indexOf("fa-fw")?{width:"".concat(le/_e*16*.0625,"em")}:{};S&&(Me.attributes[st]=""),d&&(Me.children.push({tag:"title",attributes:{id:Me.attributes["aria-labelledby"]||"title-".concat(h||Zt())},children:[d]}),delete Me.attributes.title);var Ie=k(k({},Me),{},{prefix:o,iconName:i,main:t,mask:r,maskId:_,transform:s,symbol:p,styles:k(k({},Ue),c.styles)}),_t=r.found&&t.found?Je("generateAbstractMask",Ie)||{children:[],attributes:{}}:Je("generateAbstractIcon",Ie)||{children:[],attributes:{}},co=_t.attributes;return Ie.children=_t.children,Ie.attributes=co,p?function YF(n){var t=n.iconName,r=n.children,o=n.attributes,i=n.symbol,s=!0===i?"".concat(n.prefix,"-").concat(F.cssPrefix,"-").concat(t):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:k(k({},o),{},{id:s}),children:r}]}]}(Ie):function qF(n){var a=n.children,t=n.main,r=n.mask,o=n.attributes,i=n.styles,s=n.transform;if(Li(s)&&t.found&&!r.found){var _={x:t.width/t.height/2,y:.5};o.style=mr(k(k({},i),{},{"transform-origin":"".concat(_.x+s.x/16,"em ").concat(_.y+s.y/16,"em")}))}return[{tag:"svg",attributes:o,children:a}]}(Ie)}function Rp(n){var a=n.content,t=n.width,r=n.height,o=n.transform,i=n.title,s=n.extra,p=n.watchable,d=void 0!==p&&p,_=k(k(k({},s.attributes),i?{title:i}:{}),{},{class:s.classes.join(" ")});d&&(_[st]="");var h=k({},s.styles);Li(o)&&(h.transform=function MF(n){var a=n.transform,t=n.width,o=n.height,i=void 0===o?16:o,s=n.startCentered,p=void 0!==s&&s,d="";return d+=p&&ip?"translate(".concat(a.x/16-(void 0===t?16:t)/2,"em, ").concat(a.y/16-i/2,"em) "):p?"translate(calc(-50% + ".concat(a.x/16,"em), calc(-50% + ").concat(a.y/16,"em)) "):"translate(".concat(a.x/16,"em, ").concat(a.y/16,"em) "),(d+="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "))+"rotate(".concat(a.rotate,"deg) ")}({transform:o,startCentered:!0,width:t,height:r}),h["-webkit-transform"]=h.transform);var c=mr(h);c.length>0&&(_.style=c);var g=[];return g.push({tag:"span",attributes:_,children:[a]}),i&&g.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),g}function JF(n){var a=n.content,t=n.title,r=n.extra,o=k(k(k({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),i=mr(r.styles);i.length>0&&(o.style=i);var s=[];return s.push({tag:"span",attributes:o,children:[a]}),t&&s.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),s}var Yi=je.styles;function Ji(n){var a=n[0],t=n[1],i=Ri(n.slice(4),1)[0];return{found:!0,width:a,height:t,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(F.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat("primary"),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}var GF={found:!1,width:512,height:512};function Gi(n,a){var t=a;return"fa"===a&&null!==F.styleDefault&&(a=Xe()),new Promise(function(r,o){if(Je("missingIconAbstract"),"fa"===t){var s=Cp(n)||{};n=s.iconName||n,a=s.prefix||a}if(n&&a&&Yi[a]&&Yi[a][n])return r(Ji(Yi[a][n]));(function QF(n,a){!sp&&!F.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(a,'" is missing.'))})(n,a),r(k(k({},GF),{},{icon:F.showMissingIcons&&n&&Je("missingIconAbstract")||{}}))})}var Ep=function(){},Qi=F.measurePerformance&&pr&&pr.mark&&pr.measure?pr:{mark:Ep,measure:Ep},Ut='FA "6.2.1"',Ki_begin=function(a){return Qi.mark("".concat(Ut," ").concat(a," begins")),function(){return function(a){Qi.mark("".concat(Ut," ").concat(a," ends")),Qi.measure("".concat(Ut," ").concat(a),"".concat(Ut," ").concat(a," begins"),"".concat(Ut," ").concat(a," ends"))}(a)}},Mr=function(){};function Ip(n){return"string"==typeof(n.getAttribute?n.getAttribute(st):null)}function tj(n){return re.createElementNS("http://www.w3.org/2000/svg",n)}function rj(n){return re.createElement(n)}function Np(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.ceFn,r=void 0===t?"svg"===n.tag?tj:rj:t;if("string"==typeof n)return re.createTextNode(n);var o=r(n.tag);Object.keys(n.attributes||[]).forEach(function(s){o.setAttribute(s,n.attributes[s])});var i=n.children||[];return i.forEach(function(s){o.appendChild(Np(s,{ceFn:r}))}),o}var Ar={replace:function(a){var t=a[0];if(t.parentNode)if(a[1].forEach(function(o){t.parentNode.insertBefore(Np(o),t)}),null===t.getAttribute(st)&&F.keepOriginalSource){var r=re.createComment(function ij(n){var a=" ".concat(n.outerHTML," ");return"".concat(a,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(a){var t=a[0],r=a[1];if(~ji(t).indexOf(F.replacementClass))return Ar.replace(a);var o=new RegExp("".concat(F.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(p,d){return d===F.replacementClass||d.match(o)?p.toSvg.push(d):p.toNode.push(d),p},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var s=r.map(function(p){return Ht(p)}).join("\n");t.setAttribute(st,""),t.innerHTML=s}};function kp(n){n()}function yp(n,a){var t="function"==typeof a?a:Mr;if(0===n.length)t();else{var r=kp;"async"===F.mutateApproach&&(r=Ke.requestAnimationFrame||kp),r(function(){var o=function ej(){return!0===F.autoReplaceSvg?Ar.replace:Ar[F.autoReplaceSvg]||Ar.replace}(),i=Ki_begin("mutate");n.map(o),i(),t()})}}var $i=!1;function Fp(){$i=!0}function Xi(){$i=!1}var Pr=null;function jp(n){if(rp&&F.observeMutations){var a=n.treeCallback,t=void 0===a?Mr:a,r=n.nodeCallback,o=void 0===r?Mr:r,i=n.pseudoElementsCallback,s=void 0===i?Mr:i,p=n.observeMutationsRoot,d=void 0===p?re:p;Pr=new rp(function(_){if(!$i){var h=Xe();St(_).forEach(function(c){if("childList"===c.type&&c.addedNodes.length>0&&!Ip(c.addedNodes[0])&&(F.searchPseudoElements&&s(c.target),t(c.target)),"attributes"===c.type&&c.target.parentNode&&F.searchPseudoElements&&s(c.target.parentNode),"attributes"===c.type&&Ip(c.target)&&~uF.indexOf(c.attributeName))if("class"===c.attributeName&&function $F(n){var a=n.getAttribute?n.getAttribute(ki):null,t=n.getAttribute?n.getAttribute(yi):null;return a&&t}(c.target)){var g=Tr(ji(c.target)),x=g.iconName;c.target.setAttribute(ki,g.prefix||h),x&&c.target.setAttribute(yi,x)}else(function XF(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(F.replacementClass)})(c.target)&&o(c.target)})}}),Be&&Pr.observe(d,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function nj(n){var a=n.getAttribute("style"),t=[];return a&&(t=a.split(";").reduce(function(r,o){var i=o.split(":"),s=i[0],p=i.slice(1);return s&&p.length>0&&(r[s]=p.join(":").trim()),r},{})),t}function aj(n){var a=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",o=Tr(ji(n));return o.prefix||(o.prefix=Xe()),a&&t&&(o.prefix=a,o.iconName=t),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=function wF(n,a){return(fp[n]||{})[a]}(o.prefix,n.innerText)||Hi(o.prefix,Vi(n.innerText))),!o.iconName&&F.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=n.firstChild.data)),o}function sj(n){var a=St(n.attributes).reduce(function(o,i){return"class"!==o.name&&"style"!==o.name&&(o[i.name]=i.value),o},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return F.autoA11y&&(t?a["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(r||Zt()):(a["aria-hidden"]="true",a.focusable="false")),a}function Lp(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=aj(n),r=t.iconName,o=t.prefix,i=t.rest,s=sj(n),p=zi("parseNodeAttributes",{},n),d=a.styleParser?nj(n):[];return k({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:o,transform:Ze,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:d,attributes:s}},p)}var cj=je.styles;function wp(n){var a="nest"===F.autoReplaceSvg?Lp(n,{styleParser:!1}):Lp(n);return~a.extra.classes.indexOf(lp)?Je("generateLayersText",n,a):Je("generateSvgReplacementMutation",n,a)}var et=new Set;function xp(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Be)return Promise.resolve();var t=re.documentElement.classList,r=function(c){return t.add("".concat(ap,"-").concat(c))},o=function(c){return t.remove("".concat(ap,"-").concat(c))},i=F.autoFetchSvg?et:Fi.map(function(h){return"fa-".concat(h)}).concat(Object.keys(cj));i.includes("fa")||i.push("fa");var s=[".".concat(lp,":not([").concat(st,"])")].concat(i.map(function(h){return".".concat(h,":not([").concat(st,"])")})).join(", ");if(0===s.length)return Promise.resolve();var p=[];try{p=St(n.querySelectorAll(s))}catch{}if(!(p.length>0))return Promise.resolve();r("pending"),o("complete");var d=Ki_begin("onTree"),_=p.reduce(function(h,c){try{var g=wp(c);g&&h.push(g)}catch(S){sp||"MissingIcon"===S.name&&console.error(S)}return h},[]);return new Promise(function(h,c){Promise.all(_).then(function(g){yp(g,function(){r("active"),r("complete"),o("pending"),"function"==typeof a&&a(),d(),h()})}).catch(function(g){d(),c(g)})})}function pj(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;wp(n).then(function(t){t&&yp([t],a)})}Fi.map(function(n){et.add("fa-".concat(n))}),Object.keys(jt[ie]).map(et.add.bind(et)),Object.keys(jt[de]).map(et.add.bind(et)),et=yt(et);var _j=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,o=void 0===r?Ze:r,i=t.symbol,s=void 0!==i&&i,p=t.mask,d=void 0===p?null:p,_=t.maskId,h=void 0===_?null:_,c=t.title,g=void 0===c?null:c,S=t.titleId,x=void 0===S?null:S,le=t.classes,_e=void 0===le?[]:le,Z=t.attributes,Oe=void 0===Z?{}:Z,Me=t.styles,Ue=void 0===Me?{}:Me;if(a){var Ie=a.prefix,_t=a.iconName,ht=a.icon;return Cr(k({type:"icon"},a),function(){return pt("beforeDOMElementCreation",{iconDefinition:a,params:t}),F.autoA11y&&(g?Oe["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(x||Zt()):(Oe["aria-hidden"]="true",Oe.focusable="false")),qi({icons:{main:Ji(ht),mask:d?Ji(d.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ie,iconName:_t,transform:k(k({},Ze),o),symbol:s,title:g,maskId:h,titleId:x,extra:{attributes:Oe,styles:Ue,classes:_e}})})}},hj={mixout:function(){return{icon:(n=_j,function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(a||{}).icon?a:Bi(a||{}),o=t.mask;return o&&(o=(o||{}).icon?o:Bi(o||{})),n(r,k(k({},t),{},{mask:o}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=xp,t.nodeCallback=pj,t}}},provides:function(a){a.i2svg=function(t){var r=t.node,i=t.callback;return xp(void 0===r?re:r,void 0===i?function(){}:i)},a.generateSvgReplacementMutation=function(t,r){var o=r.iconName,i=r.title,s=r.titleId,p=r.prefix,d=r.transform,_=r.symbol,h=r.mask,c=r.maskId,g=r.extra;return new Promise(function(S,x){Promise.all([Gi(o,p),h.iconName?Gi(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(le){var _e=Ri(le,2);S([t,qi({icons:{main:_e[0],mask:_e[1]},prefix:p,iconName:o,transform:d,symbol:_,maskId:c,title:i,titleId:s,extra:g,watchable:!0})])}).catch(x)})},a.generateAbstractIcon=function(t){var _,r=t.children,o=t.attributes,i=t.main,s=t.transform,d=mr(t.styles);return d.length>0&&(o.style=d),Li(s)&&(_=Je("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),r.push(_||i.icon),{children:r,attributes:o}}}},uj={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.classes,i=void 0===o?[]:o;return Cr({type:"layer"},function(){pt("beforeDOMElementCreation",{assembler:t,params:r});var s=[];return t(function(p){Array.isArray(p)?p.map(function(d){s=s.concat(d.abstract)}):s=s.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(F.cssPrefix,"-layers")].concat(yt(i)).join(" ")},children:s}]})}}}},gj={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.title,i=void 0===o?null:o,s=r.classes,p=void 0===s?[]:s,d=r.attributes,_=void 0===d?{}:d,h=r.styles,c=void 0===h?{}:h;return Cr({type:"counter",content:t},function(){return pt("beforeDOMElementCreation",{content:t,params:r}),JF({content:t.toString(),title:i,extra:{attributes:_,styles:c,classes:["".concat(F.cssPrefix,"-layers-counter")].concat(yt(p))}})})}}}},mj={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.transform,i=void 0===o?Ze:o,s=r.title,p=void 0===s?null:s,d=r.classes,_=void 0===d?[]:d,h=r.attributes,c=void 0===h?{}:h,g=r.styles,S=void 0===g?{}:g;return Cr({type:"text",content:t},function(){return pt("beforeDOMElementCreation",{content:t,params:r}),Rp({content:t,transform:k(k({},Ze),i),title:p,extra:{attributes:c,styles:S,classes:["".concat(F.cssPrefix,"-layers-text")].concat(yt(_))}})})}}},provides:function(a){a.generateLayersText=function(t,r){var o=r.title,i=r.transform,s=r.extra,p=null,d=null;if(ip){var _=parseInt(getComputedStyle(t).fontSize,10),h=t.getBoundingClientRect();p=h.width/_,d=h.height/_}return F.autoA11y&&!o&&(s.attributes["aria-hidden"]="true"),Promise.resolve([t,Rp({content:t.innerHTML,width:p,height:d,transform:i,title:o,extra:s,watchable:!0})])}}},Sj=new RegExp('"',"ug"),Vp=[1105920,1112319];function Wp(n,a){var t="".concat("data-fa-pseudo-element-pending").concat(a.replace(":","-"));return new Promise(function(r,o){if(null!==n.getAttribute(t))return r();var s=St(n.children).filter(function(ht){return ht.getAttribute(Ni)===a})[0],p=Ke.getComputedStyle(n,a),d=p.getPropertyValue("font-family").match(dF),_=p.getPropertyValue("font-weight"),h=p.getPropertyValue("content");if(s&&!d)return n.removeChild(s),r();if(d&&"none"!==h&&""!==h){var c=p.getPropertyValue("content"),g=~["Sharp"].indexOf(d[2])?de:ie,S=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(d[2])?Lt[g][d[2].toLowerCase()]:_F[g][_],x=function fj(n){var a=n.replace(Sj,""),t=function NF(n,a){var o,t=n.length,r=n.charCodeAt(a);return r>=55296&&r<=56319&&t>a+1&&(o=n.charCodeAt(a+1))>=56320&&o<=57343?1024*(r-55296)+o-56320+65536:r}(a,0),r=t>=Vp[0]&&t<=Vp[1],o=2===a.length&&a[0]===a[1];return{value:Vi(o?a[0]:a),isSecondary:r||o}}(c),le=x.value,_e=x.isSecondary,Z=d[0].startsWith("FontAwesome"),Oe=Hi(S,le),Me=Oe;if(Z){var Ue=function xF(n){var a=Op[n],t=Hi("fas",n);return a||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(le);Ue.iconName&&Ue.prefix&&(Oe=Ue.iconName,S=Ue.prefix)}if(!Oe||_e||s&&s.getAttribute(ki)===S&&s.getAttribute(yi)===Me)r();else{n.setAttribute(t,Me),s&&n.removeChild(s);var Ie=function lj(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ze,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),_t=Ie.extra;_t.attributes[Ni]=a,Gi(Oe,S).then(function(ht){var co=qi(k(k({},Ie),{},{icons:{main:ht,mask:{prefix:null,iconName:null,rest:[]}},prefix:S,iconName:Me,extra:_t,watchable:!0})),ot=re.createElement("svg");"::before"===a?n.insertBefore(ot,n.firstChild):n.appendChild(ot),ot.outerHTML=co.map(function(bee){return Ht(bee)}).join("\n"),n.removeAttribute(t),r()}).catch(o)}}else r()})}function vj(n){return Promise.all([Wp(n,"::before"),Wp(n,"::after")])}function Oj(n){return!(n.parentNode===document.head||~lF.indexOf(n.tagName.toUpperCase())||n.getAttribute(Ni)||n.parentNode&&"svg"===n.parentNode.tagName)}function Zp(n){if(Be)return new Promise(function(a,t){var r=St(n.querySelectorAll("*")).filter(Oj).map(vj),o=Ki_begin("searchPseudoElements");Fp(),Promise.all(r).then(function(){o(),Xi(),a()}).catch(function(){o(),Xi(),t()})})}var Hp=!1,Up=function(a){return a.toLowerCase().split(" ").reduce(function(r,o){var i=o.toLowerCase().split("-"),s=i[0],p=i.slice(1).join("-");if(s&&"h"===p)return r.flipX=!0,r;if(s&&"v"===p)return r.flipY=!0,r;if(p=parseFloat(p),isNaN(p))return r;switch(s){case"grow":r.size=r.size+p;break;case"shrink":r.size=r.size-p;break;case"left":r.x=r.x-p;break;case"right":r.x=r.x+p;break;case"up":r.y=r.y-p;break;case"down":r.y=r.y+p;break;case"rotate":r.rotate=r.rotate+p}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},eo={x:0,y:0,width:"100%",height:"100%"};function zp(n){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||a)&&(n.attributes.fill="black"),n}!function ZF(n,a){var t=a.mixoutsTo;Ap=n,vt={},Object.keys(Ot).forEach(function(r){-1===WF.indexOf(r)&&delete Ot[r]}),Ap.forEach(function(r){var o=r.mixout?r.mixout():{};if(Object.keys(o).forEach(function(s){"function"==typeof o[s]&&(t[s]=o[s]),"object"===lr(o[s])&&Object.keys(o[s]).forEach(function(p){t[s]||(t[s]={}),t[s][p]=o[s][p]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(s){vt[s]||(vt[s]=[]),vt[s].push(i[s])})}r.provides&&r.provides(Ot)})}([PF,hj,uj,gj,mj,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=Zp,t}}},provides:function(a){a.pseudoElements2svg=function(t){var r=t.node;F.searchPseudoElements&&Zp(void 0===r?re:r)}}},{mixout:function(){return{dom:{unwatch:function(){Fp(),Hp=!0}}}},hooks:function(){return{bootstrap:function(){jp(zi("mutationObserverCallbacks",{}))},noAuto:function(){!function oj(){!Pr||Pr.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;Hp?Xi():jp(zi("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return Up(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var o=r.getAttribute("data-fa-transform");return o&&(t.transform=Up(o)),t}}},provides:function(a){a.generateAbstractTransformGrouping=function(t){var r=t.main,o=t.transform,s=t.iconWidth,p={transform:"translate(".concat(t.containerWidth/2," 256)")},d="translate(".concat(32*o.x,", ").concat(32*o.y,") "),_="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),h="rotate(".concat(o.rotate," 0 0)"),S={outer:p,inner:{transform:"".concat(d," ").concat(_," ").concat(h)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:k({},S.outer),children:[{tag:"g",attributes:k({},S.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:k(k({},r.icon.attributes),S.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var o=r.getAttribute("data-fa-mask"),i=o?Tr(o.split(" ").map(function(s){return s.trim()})):{prefix:null,iconName:null,rest:[]};return i.prefix||(i.prefix=Xe()),t.mask=i,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(a){a.generateAbstractMask=function(t){var n,r=t.children,o=t.attributes,i=t.main,s=t.mask,p=t.maskId,h=i.icon,g=s.icon,S=function CF(n){var a=n.transform,r=n.iconWidth,o={transform:"translate(".concat(n.containerWidth/2," 256)")},i="translate(".concat(32*a.x,", ").concat(32*a.y,") "),s="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),p="rotate(".concat(a.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(i," ").concat(s," ").concat(p)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:s.width,iconWidth:i.width}),x={tag:"rect",attributes:k(k({},eo),{},{fill:"white"})},le=h.children?{children:h.children.map(zp)}:{},_e={tag:"g",attributes:k({},S.inner),children:[zp(k({tag:h.tag,attributes:k(k({},h.attributes),S.path)},le))]},Z={tag:"g",attributes:k({},S.outer),children:[_e]},Oe="mask-".concat(p||Zt()),Me="clip-".concat(p||Zt()),Ue={tag:"mask",attributes:k(k({},eo),{},{id:Oe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,Z]},Ie={tag:"defs",children:[{tag:"clipPath",attributes:{id:Me},children:(n=g,"g"===n.tag?n.children:[n])},Ue]};return r.push(Ie,{tag:"rect",attributes:k({fill:"currentColor","clip-path":"url(#".concat(Me,")"),mask:"url(#".concat(Oe,")")},eo)}),{children:r,attributes:o}}}},{provides:function(a){var t=!1;Ke.matchMedia&&(t=Ke.matchMedia("(prefers-reduced-motion: reduce)").matches),a.missingIconAbstract=function(){var r=[],o={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:k(k({},o),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=k(k({},i),{},{attributeName:"opacity"}),p={tag:"circle",attributes:k(k({},o),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||p.children.push({tag:"animate",attributes:k(k({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:k(k({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(p),r.push({tag:"path",attributes:k(k({},o),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:k(k({},s),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:k(k({},o),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:k(k({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var o=r.getAttribute("data-fa-symbol");return t.symbol=null!==o&&(""===o||o),t}}}}],{mixoutsTo:Ee});var Bp=Ee.parse,Dj=Ee.findIconDefinition,Ij=Ee.icon,to=v(5998);const qp=["*"];let Yp=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,e.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})(),yj=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t)r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r}addIconPacks(...t){for(const r of t){const o=Object.keys(r).map(i=>r[i]);this.addIcons(...o)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,e.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Jp=n=>{const a={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(a).map(t=>a[t]?t:null).filter(t=>t)};let xj=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[e.TTD]}),n})(),Vj=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[e.TTD],ngContentSelectors:qp,decls:1,vars:0,template:function(t,r){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),n})(),Gp=(()=>{class n{constructor(t,r,o,i,s){this.sanitizer=t,this.config=r,this.iconLibrary=o,this.stackItem=i,this.classes=[],null!=s&&null==i&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=this.icon??this.config.fallbackIcon,t){const o=this.findIconDefinition(r);if(null!=o){const i=this.buildParams();this.renderIcon(o,i)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,a)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:a,iconName:n}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const o=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);if(null!=o)return o;const i=Dj(r);if(null!=i){const s="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+s);else if(!this.config.globalLibrary)throw new Error(s);return i}return(n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?Bp.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...Jp(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const o=Ij(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(to.H7),e.Y36(Yp),e.Y36(yj),e.Y36(xj,8),e.Y36(Vj,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(e.Ikx("innerHTML",r.renderedIconHTML,e.oJD),e.uIk("title",r.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[e.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),Wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var ue=v(71259);function Zj(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",12),e.NdJ("change",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.title=o.target.value)}),e.qZA()(),e.TgZ(4,"td")(5,"input",13),e.NdJ("change",function(o){const s=e.CHM(t).$implicit;return s.hidden=!!o.target.checked,e.KtG(s.dirty=1)}),e.qZA()(),e.TgZ(6,"td")(7,"input",13),e.NdJ("change",function(o){const s=e.CHM(t).$implicit;return s.noSearch=!!o.target.checked,e.KtG(s.dirty=1)}),e.qZA()(),e.TgZ(8,"td"),e._UZ(9,"input",14),e.qZA(),e.TgZ(10,"td")(11,"select",15),e.NdJ("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.TgZ(12,"option",16),e._uU(13,"center"),e.qZA(),e.TgZ(14,"option",17),e._uU(15,"left"),e.qZA(),e.TgZ(16,"option",18),e._uU(17,"right"),e.qZA()()(),e.TgZ(18,"td")(19,"select",19),e.NdJ("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.TgZ(20,"option",20),e._uU(21,"Text"),e.qZA(),e.TgZ(22,"option",21),e._uU(23,"Number"),e.qZA(),e.TgZ(24,"option",22),e._uU(25,"Date"),e.qZA(),e.TgZ(26,"option",23),e._uU(27,"RoundingTwoDigit"),e.qZA()()(),e.TgZ(28,"td")(29,"input",12),e.NdJ("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()()(),e.BQk()}if(2&n){const t=a.$implicit;e.xp6(3),e.MGl("formControlName","",t.key,"_title"),e.s9C("placeholder",t.title),e.xp6(2),e.MGl("formControlName","",t.key,"_hidden"),e.Q6J("checked",1==t.hidden),e.xp6(2),e.MGl("formControlName","",t.key,"_noSearch"),e.Q6J("checked",1==t.noSearch),e.xp6(2),e.MGl("formControlName","",t.key,"_width"),e.s9C("placeholder",t.width),e.xp6(2),e.MGl("formControlName","",t.key,"_alignment"),e.xp6(8),e.MGl("formControlName","",t.key,"_formatType"),e.xp6(10),e.MGl("formControlName","",t.key,"_formatString"),e.s9C("placeholder",t.formatString)}}function Hj(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"a",4),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onMenuClick(i))}),e._uU(2),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.name)}}function Uj(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",5),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.s9C("title",t.itemObj[t.fieldName]),e.Q6J("ngStyle",t.item.style),e.xp6(1),e.hij(" ",e.xi3(3,3,t.itemObj[t.fieldName],t.item.formatString)," ")}}function zj(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",5),e._uU(2),e.ALo(3,"number"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.s9C("title",t.itemObj[t.fieldName]),e.Q6J("ngStyle",t.item.style),e.xp6(1),e.hij(" ",e.xi3(3,3,t.itemObj[t.fieldName],"1.2-2")," ")}}function Bj(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",6)(2,"input",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.itemObj[i.fieldName]=o)})("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onFieldChange(o))})("keydown.Enter",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onFieldChange(o))}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.s9C("title",t.itemObj[t.fieldName]),e.Q6J("ngStyle",t.item.style),e.xp6(1),e.Q6J("ngModel",t.itemObj[t.fieldName])}}function qj(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",8),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onClick(o))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.s9C("title",t.itemObj[t.fieldName]),e.Q6J("ngStyle",t.item.style),e.xp6(1),e.hij(" ",t.itemObj[t.fieldName]," ")}}function Yj(n,a){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2),e.YNc(2,Uj,4,6,"div",3),e.YNc(3,zj,4,6,"div",3),e.YNc(4,Bj,3,3,"div",3),e.YNc(5,qj,3,3,"div",4),e.qZA()()),2&n){const t=e.oxw();e.Q6J("ngStyle",t.getColStyle(t.fieldName)),e.xp6(1),e.Q6J("ngSwitch",t.item.formatType),e.xp6(1),e.Q6J("ngSwitchCase",t.formatType.Date),e.xp6(1),e.Q6J("ngSwitchCase",t.formatType.RoundingTwoDigit),e.xp6(1),e.Q6J("ngSwitchCase",t.formatType.Editable)}}const Jj=["exampleModal"],$p=["inputBox"];function Gj(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showModal())}),e.TgZ(2,"div",46),e._UZ(3,"span",47)(4,"span",47)(5,"span",47),e.qZA()()()}}function Qj(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("value",t.key),e.xp6(1),e.hij(" ",t.title," ")}}function Kj(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Qj,2,2,"option",53),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function $j(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",48)(2,"select",49),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onFilterOptionChange(o))}),e.TgZ(3,"option",50),e._uU(4,"Select Filter Option"),e.qZA(),e.YNc(5,Kj,2,1,"ng-container",33),e.qZA()(),e.TgZ(6,"div",48)(7,"input",51,52),e.NdJ("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.triggerSearch(o,!1))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.masterService.simpleTablesettings.columns),e.xp6(2),e.Q6J("ngModel",t.filterValue)}}function Xj(n,a){1&n&&(e.ynx(0),e._UZ(1,"th"),e.BQk())}const eL=function(n){return{mergereportHeaders:n}};function tL(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,Xj,2,0,"ng-container",5),e.GkF(3,13),e.qZA(),e.BQk()),2&n){const t=e.oxw(),r=e.MAs(76);e.xp6(2),e.Q6J("ngIf",1==t.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",t.mergeHeaderTemplate||r)("ngTemplateOutletContext",e.VKq(3,eL,t.mergereportHeaders))}}const Xp=function(n){return{"text-align":"center","white-space":"normal",width:n}};function rL(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"th",55),e._uU(2," SN "),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(1,Xp,t.masterService.simpleTablesettings.serialNoWidth))}}function iL(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"th",55),e._uU(2," Actions "),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",t.masterService.simpleTablesettings.actionColumnStyle)}}const oL=function(n){return{"text-align":"center",width:n}};function nL(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"th",55),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngStyle",e.VKq(1,oL,t.masterService.simpleTablesettings.serialNoWidth))}}const aL=function(n,a){return{triggerMultiSearch:n,columns:a}};function sL(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,nL,2,3,"ng-container",5),e.GkF(3,13),e.qZA(),e.BQk()),2&n){const t=e.oxw(),r=e.MAs(80);e.xp6(2),e.Q6J("ngIf",1==t.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",t.searchHeaderTemplate||r)("ngTemplateOutletContext",e.WLB(3,aL,t.triggerMultiSearch,t.masterService.simpleTablesettings.columns))}}const lL=function(n){return{width:n}};function cL(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"td",55)(2,"div",55),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw().index,r=e.oxw(2);e.xp6(1),e.Q6J("ngStyle",e.VKq(3,lL,r.masterService.simpleTablesettings.serialNoWidth)),e.xp6(1),e.Q6J("ngStyle",r.masterService.simpleTablesettings.serialStyle),e.xp6(1),e.hij(" ",r.getSno(t)," ")}}function pL(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span")(2,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(2),s=i.index,p=i.$implicit,d=e.oxw(2);return e.KtG(d.onActionClicked(o.text,o.confirmMessage,s,p))}),e._uU(3),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.title," ")}}function dL(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span")(2,"label"),e._uU(3),e.qZA()(),e.TgZ(4,"span")(5,"input",59),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw(2).index,p=e.oxw(2);return e.KtG(p.onActionClicked(i.text,i.confirmMessage,s,o))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(3),e.Oqu(t.selectedField),e.xp6(2),e.Q6J("checked",t.selectedField)}}function _L(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span")(2,"i",60),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw(2).index,p=e.oxw(2);return e.KtG(p.onActionClicked(i.text,i.confirmMessage,s,o))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Tol(t.icon),e.s9C("title",t.title)}}function hL(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e._UZ(2,"genericButtonmenu",61),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,r=e.oxw(2).$implicit;e.xp6(2),e.Q6J("rowValue",r)("buttonMenus",null==t?null:t.drilldownmenus)("name",null==t?null:t.title)}}function uL(n,a){if(1&n&&(e.ynx(0),e.YNc(1,pL,4,1,"ng-container",5),e.YNc(2,dL,6,2,"ng-container",5),e.YNc(3,_L,3,4,"ng-container",5),e.YNc(4,hL,3,3,"ng-container",5),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","button"==t.type),e.xp6(1),e.Q6J("ngIf","checkbox"==t.type),e.xp6(1),e.Q6J("ngIf","icon"==t.type),e.xp6(1),e.Q6J("ngIf","buttonmenu"==t.type)}}function gL(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"td",55),e.YNc(2,uL,5,4,"ng-container",33),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngStyle",t.masterService.simpleTablesettings.actionColumnStyle),e.xp6(1),e.Q6J("ngForOf",t.masterService.simpleTablesettings.actionKeys)}}const mL=function(n,a,t){return{columns:n,itemObj:a,isimpleTableConfig:t}};function SL(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",57),e.NdJ("contextmenu",function(o){const s=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.onContextMenuClick(o,s))}),e.YNc(1,cL,4,5,"ng-container",5),e.GkF(2,13),e.YNc(3,gL,3,2,"ng-container",5),e.qZA()}if(2&n){const t=a.$implicit,r=a.index,o=e.oxw(2),i=e.MAs(82);e.ekj("selected-row",o.selectedRowIndex==r),e.xp6(1),e.Q6J("ngIf",1==o.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",o.tableDataTemplate||i)("ngTemplateOutletContext",e.kEZ(6,mL,o.masterService.simpleTablesettings.columns,t,o.isimpleTableConfig)),e.xp6(1),e.Q6J("ngIf",o.masterService.simpleTablesettings.showActionButton&&(null==o.masterService.simpleTablesettings.actionKeys?null:o.masterService.simpleTablesettings.actionKeys.length))}}const e3=function(n,a,t,r){return{id:n,itemsPerPage:a,currentPage:t,totalItems:r}};function fL(n,a){if(1&n&&(e.ynx(0),e.YNc(1,SL,4,10,"tr",56),e.ALo(2,"paginate"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.itemList,e.l5B(4,e3,t.name,t.pageSize,t.pageNumber,t.totalItems)))}}function vL(n,a){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",62)(3,"div",63),e._uU(4," Product Lists are unavailable. "),e.qZA()()(),e.BQk())}function OL(n,a){1&n&&(e.ynx(0),e._UZ(1,"td"),e.BQk())}function bL(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",64),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.titleGroup=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()(),e.TgZ(4,"td")(5,"input",64),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.title=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()(),e.TgZ(6,"td")(7,"input",65),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.hidden=o)})("change",function(o){const s=e.CHM(t).$implicit,p=e.oxw();return s.hidden=!!o.target.checked,s.dirty=1,e.KtG(p.onHiddenChange(s))}),e.qZA()(),e.TgZ(8,"td")(9,"input",65),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.noSearch=o)})("change",function(o){const s=e.CHM(t).$implicit;return s.noSearch=!!o.target.checked,e.KtG(s.dirty=1)}),e.qZA()(),e.TgZ(10,"td")(11,"input",66),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.colPosition=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()(),e.TgZ(12,"td")(13,"input",64),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.width=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()(),e.TgZ(14,"td")(15,"select",67),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.alignment=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.TgZ(16,"option",68),e._uU(17,"center"),e.qZA(),e.TgZ(18,"option",69),e._uU(19,"left"),e.qZA(),e.TgZ(20,"option",70),e._uU(21,"right"),e.qZA()()(),e.TgZ(22,"td")(23,"select",71),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.formatType=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.TgZ(24,"option",72),e._uU(25,"Text"),e.qZA(),e.TgZ(26,"option",73),e._uU(27,"Number"),e.qZA(),e.TgZ(28,"option",74),e._uU(29,"Date"),e.qZA(),e.TgZ(30,"option",75),e._uU(31,"RoundingTwoDigit"),e.qZA(),e.TgZ(32,"option",76),e._uU(33,"Editable"),e.qZA()()(),e.TgZ(34,"td")(35,"input",64),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.formatString=o)})("change",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dirty=1)}),e.qZA()()(),e.BQk()}if(2&n){const t=a.$implicit;e.xp6(3),e.s9C("placeholder",t.title),e.Q6J("ngModel",t.titleGroup),e.xp6(2),e.s9C("placeholder",t.title),e.Q6J("ngModel",t.title),e.xp6(2),e.Q6J("ngModel",t.hidden)("checked",1==t.hidden),e.xp6(2),e.Q6J("ngModel",t.noSearch)("checked",1==t.noSearch),e.xp6(2),e.Q6J("ngModel",t.colPosition),e.xp6(2),e.s9C("placeholder",t.width),e.Q6J("ngModel",t.width),e.xp6(2),e.Q6J("ngModel",t.alignment),e.xp6(8),e.Q6J("ngModel",t.formatType),e.xp6(12),e.s9C("placeholder",t.formatString),e.Q6J("ngModel",t.formatString)}}function TL(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",77),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw().item,p=e.oxw();return e.KtG(p.onContextMenuAction1(i,s))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function CL(n,a){if(1&n&&e.YNc(0,TL,3,1,"ng-container",33),2&n){const t=e.oxw();e.Q6J("ngForOf",t.masterService.simpleTablesettings.contextMenus)}}const ML=function(){return{"text-align":"center","white-space":"normal"}};function AL(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"th",55),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,ML)),e.uIk("colspan",t.colspan),e.xp6(1),e.hij(" ",t.groupHeader," ")}}function PL(n,a){1&n&&(e.YNc(0,AL,3,4,"ng-container",33),e._UZ(1,"th")),2&n&&e.Q6J("ngForOf",a.mergereportHeaders)}function RL(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"i",83),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),i=o.$implicit,s=o.index,p=e.oxw().sortDataTable;return e.KtG(p(i.key,"desc",s))}),e.qZA()}}function EL(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"i",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),i=o.$implicit,s=o.index,p=e.oxw().sortDataTable;return e.KtG(p(i.key,"asc",s))}),e.qZA()}}function DL(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"i",85),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),i=o.$implicit,s=o.index,p=e.oxw().sortDataTable;return e.KtG(p(i.key,"desc",s))}),e.qZA()}}const IL=function(n,a){return{"text-align":n,"white-space":"normal",width:a}};function NL(n,a){if(1&n&&(e.TgZ(0,"th",79),e._uU(1),e.YNc(2,RL,1,0,"i",80),e.YNc(3,EL,1,0,"i",81),e.YNc(4,DL,1,0,"i",82),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.WLB(5,IL,t.alignment,t.width)),e.xp6(1),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("ngIf","asc"!=t.sortOrder&&"desc"!=t.sortOrder),e.xp6(1),e.Q6J("ngIf","asc"==t.sortOrder),e.xp6(1),e.Q6J("ngIf","desc"==t.sortOrder)}}function kL(n,a){if(1&n&&(e.ynx(0),e.YNc(1,NL,5,8,"th",78),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function yL(n,a){1&n&&e.YNc(0,kL,2,1,"ng-container",33),2&n&&e.Q6J("ngForOf",a.columns)}function FL(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",88,52),e.NdJ("keyup",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw().triggerMultiSearch;return e.KtG(s(o,i,!1))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",t.title)}}const Rr=function(n){return{"text-align":n}};function jL(n,a){if(1&n&&(e.TgZ(0,"th",87),e.YNc(1,FL,3,1,"div",5),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,Rr,t.alignment)),e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function LL(n,a){if(1&n&&(e.ynx(0),e.YNc(1,jL,2,4,"th",86),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function wL(n,a){1&n&&e.YNc(0,LL,2,1,"ng-container",33),2&n&&e.Q6J("ngForOf",a.columns)}function xL(n,a){if(1&n&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",93),e.qZA()),2&n){const t=a.$implicit,r=e.oxw(3).$implicit,o=e.oxw().isimpleTableConfig;e.xp6(1),e.Q6J("itemObj",t)("item",r)("isimpleTableConfig",o)}}function VL(n,a){if(1&n&&(e.TgZ(0,"div")(1,"ul",92),e.YNc(2,xL,2,3,"li",33),e.qZA()()),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",r[t.key])}}function WL(n,a){if(1&n&&e._UZ(0,"genericSimpleColumn",94),2&n){const t=e.oxw(2).$implicit,r=e.oxw(),i=r.isimpleTableConfig;e.Q6J("itemObj",r.itemObj)("item",t)("fieldName",t.key)("isimpleTableConfig",i)}}function ZL(n,a){if(1&n&&(e.TgZ(0,"td",55),e.YNc(1,VL,3,1,"div",90),e.YNc(2,WL,1,4,"ng-template",null,91,e.W1O),e.qZA()),2&n){const t=e.MAs(3),r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,Rr,r.alignment)),e.xp6(1),e.Q6J("ngIf",r.isListField)("ngIfElse",t)}}function HL(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ZL,4,5,"td",89),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function UL(n,a){1&n&&e.YNc(0,HL,2,1,"ng-container",33),2&n&&e.Q6J("ngForOf",a.columns)}function zL(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw().TotalData;e.xp6(1),e.hij(" ",e.xi3(2,1,r[t.key],"1.2-2")," ")}}const BL=function(n){return{"text-align":n,color:"white"}};function qL(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"td",95),e.YNc(2,zL,3,4,"div",5),e.qZA(),e.BQk()),2&n){const t=a.$implicit,r=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,BL,t.alignment)),e.xp6(1),e.Q6J("ngIf",r)}}function YL(n,a){1&n&&e.YNc(0,qL,3,4,"ng-container",33),2&n&&e.Q6J("ngForOf",a.columns)}const JL=function(n){return{"table-layout":n}},GL=function(n,a){return{columns:n,sortDataTable:a}},QL=function(n,a){return{TotalData:n,columns:a}},KL=["datePicker"];function $L(n,a){if(1&n&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function XL(n,a){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function ew(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._UZ(2,"input",7),e.TgZ(3,"select",8),e.YNc(4,XL,2,1,"option",9),e.qZA()()()),2&n){const t=e.oxw().intheLastRangeOptions;e.xp6(4),e.Q6J("ngForOf",t)}}function tw(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",10),e.qZA())}function rw(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",11),e.qZA())}function iw(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",12),e.qZA())}function ow(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",13)(2,"input",14),e.qZA())}function nw(n,a){if(1&n&&(e.TgZ(0,"div")(1,"form",2)(2,"div")(3,"select",3),e.YNc(4,$L,2,2,"option",4),e.qZA()(),e.YNc(5,ew,5,1,"div",5),e.YNc(6,tw,2,0,"div",5),e.YNc(7,rw,2,0,"div",5),e.YNc(8,iw,2,0,"div",5),e.YNc(9,ow,3,0,"div",5),e.qZA()()),2&n){const t=a.myForm,r=a.rangelist,o=a.selectedRange;e.xp6(1),e.Q6J("formGroup",t),e.xp6(3),e.Q6J("ngForOf",r),e.xp6(1),e.Q6J("ngIf","in the last"==o),e.xp6(1),e.Q6J("ngIf","on"==o),e.xp6(1),e.Q6J("ngIf","before"==o),e.xp6(1),e.Q6J("ngIf","after"==o),e.xp6(1),e.Q6J("ngIf","between"==o)}}const aw=function(n,a,t,r){return{myForm:n,rangelist:a,selectedRange:t,intheLastRangeOptions:r}};function sw(n,a){1&n&&e.GkF(0)}function lw(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"div",19),e._uU(4),e.TgZ(5,"span",20),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.onMultiSelectDelete(i))}),e._UZ(6,"fa-icon",21),e.qZA()()()(),e.BQk()}if(2&n){const t=a.$implicit,r=e.oxw(4);e.xp6(4),e.hij(" ",t.name,""),e.xp6(2),e.Q6J("icon",r.faTrash)}}function cw(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",12)(2,"div",13),e.YNc(3,sw,1,0,"ng-container",14),e.qZA(),e.TgZ(4,"div",15)(5,"div",16)(6,"h4",6),e._uU(7," Selected List "),e.qZA()(),e.TgZ(8,"div",17)(9,"table",17)(10,"thead")(11,"tr")(12,"th"),e._uU(13,"Selected List"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,lw,7,2,"ng-container",18),e.qZA()()()()()()),2&n){e.oxw();const t=e.MAs(12),r=e.oxw(2);e.xp6(3),e.Q6J("ngTemplateOutlet",t),e.xp6(12),e.Q6J("ngForOf",r.multiSelectList)}}function pw(n,a){if(1&n&&e._UZ(0,"div",22),2&n){const t=e.oxw(3);e.Q6J("innerHTML",t.summary,e.oJD)}}function dw(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("value",t.key),e.xp6(1),e.hij(" ",t.title," ")}}function _w(n,a){if(1&n&&(e.ynx(0),e.YNc(1,dw,2,2,"option",34),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function hw(n,a){if(1&n&&(e.TgZ(0,"th",37),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,Rr,t.alignment)),e.xp6(1),e.hij(" ",t.title," ")}}function uw(n,a){if(1&n&&(e.ynx(0),e.YNc(1,hw,2,4,"th",36),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function gw(n,a){1&n&&(e.ynx(0),e._UZ(1,"th"),e.BQk())}function mw(n,a){if(1&n&&(e.TgZ(0,"td")(1,"div",40),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit,r=e.oxw().$implicit;e.xp6(1),e.s9C("title",r[t.title]),e.Q6J("ngStyle",e.VKq(3,Rr,t.alignment)),e.xp6(1),e.hij(" ",r[t.title]," ")}}function Sw(n,a){if(1&n&&(e.ynx(0),e.YNc(1,mw,3,5,"td",4),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function fw(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"td")(2,"span",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(5);return e.KtG(i.onMultiSelectAdd(o))}),e._UZ(3,"fa-icon",21),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(6);e.xp6(3),e.Q6J("icon",t.faArrowRight)}}function vw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",39),e.NdJ("dblclick",function(){const i=e.CHM(t).$implicit,s=e.oxw(5);return e.KtG(s.doubleClick(i))})("keydown.enter",function(){const i=e.CHM(t).$implicit,s=e.oxw(5);return e.KtG(s.doubleClick(i))})("click",function(){const i=e.CHM(t).index,s=e.oxw(5);return e.KtG(s.singleClick(i))}),e.YNc(1,Sw,2,1,"ng-container",18),e.YNc(2,fw,4,1,"ng-container",4),e.qZA()}if(2&n){const t=a.index,r=e.oxw(5);e.ekj("selected-row",r.selectedRowIndex==t),e.xp6(1),e.Q6J("ngForOf",r.popupsettings.columns),e.xp6(1),e.Q6J("ngIf",r.popupsettings.multiSelect)}}function Ow(n,a){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,vw,3,4,"tr",38),e.ALo(2,"paginate"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.itemList,e.l5B(4,e3,t.tabindex,t.pageSize,t.pageNumber,t.totalItems)))}}function bw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"pagination-controls",43),e.NdJ("pageChange",function(o){e.CHM(t);const i=e.oxw(4);return e.KtG(i.onPageChange(o))}),e.qZA()()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("id",t.tabindex)("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)}}function Tw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"select",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.triggerSearch(o,!0))}),e.TgZ(4,"option",27),e._uU(5,"Select Filter Option"),e.qZA(),e.YNc(6,_w,2,1,"ng-container",18),e.qZA()(),e.TgZ(7,"div",25)(8,"input",28,29),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.filterValue=o)})("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.triggerSearch(o,!1))}),e.qZA()()()(),e.TgZ(10,"div",30)(11,"table",17)(12,"thead")(13,"tr",31),e.YNc(14,uw,2,1,"ng-container",18),e.YNc(15,gw,2,0,"ng-container",4),e.qZA()(),e.YNc(16,Ow,3,9,"tbody",4),e.qZA(),e.TgZ(17,"div",32),e.YNc(18,bw,2,5,"div",33),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.filterOption),e.xp6(3),e.Q6J("ngForOf",t.popupsettings.columns),e.xp6(2),e.Q6J("ngModel",t.filterValue),e.xp6(6),e.Q6J("ngForOf",t.popupsettings.columns),e.xp6(1),e.Q6J("ngIf",t.popupsettings.multiSelect),e.xp6(1),e.Q6J("ngIf",t.itemList.length),e.xp6(2),e.Q6J("ngIf",t.itemList.length)}}function Cw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"div",5)(3,"div")(4,"h4",6),e._uU(5),e.qZA()(),e.TgZ(6,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.hide())}),e.TgZ(7,"span",8),e._uU(8,"\xd7"),e.qZA()()(),e.YNc(9,cw,16,2,"div",9),e.qZA(),e.YNc(10,pw,1,1,"div",10),e.YNc(11,Tw,19,7,"ng-template",null,11,e.W1O),e.qZA()}if(2&n){const t=e.MAs(12),r=e.oxw(2);e.xp6(5),e.hij(" ",r.popupsettings.title," "),e.xp6(4),e.Q6J("ngIf",r.popupsettings.multiSelect)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf",r.summary)}}function Mw(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3),e.YNc(2,Cw,13,4,"div",4),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.popupsettings)}}const Aw=["genericGridList"];function Pw(n,a){if(1&n&&(e.TgZ(0,"span")(1,"label",4),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.label)}}const Rw=["filterTemplate"];function Ew(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ul",15)(1,"li",16),e._uU(2),e.TgZ(3,"div",17),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.deleteReport(i.reportName))}),e._UZ(4,"span",18),e.qZA(),e.TgZ(5,"ul",19)(6,"li")(7,"a",20),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.deleteReport(i.reportName))}),e._uU(8,"Delete"),e.qZA()()()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.reportName," ")}}function Dw(n,a){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function Iw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.operatorValue=o)}),e.YNc(2,Dw,2,1,"option",29),e.qZA(),e.TgZ(3,"input",30),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngModel",t.operatorValue),e.xp6(1),e.Q6J("ngForOf",t.operators),e.xp6(1),e.Q6J("ngModel",t.fieldValue)}}function Nw(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Iw,4,3,"div",25),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.selected)}}function kw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"generic-checkbox",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA(),e.TgZ(2,"label",32),e._uU(3),e.qZA()()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngModel",t.fieldValue)("label",t.fieldName)("showLabel",1),e.xp6(2),e.Oqu(t.fieldName)}}function yw(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,kw,4,4,"div",25),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.selected)}}function Fw(n,a){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function jw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.operatorValue=o)}),e.YNc(2,Fw,2,1,"option",29),e.qZA(),e.TgZ(3,"dropdown-multiselect",34,35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)})("onItemSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.onItemSelect(o,i))})("onItemDeSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.onItemSelect(o,i))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.operatorValue),e.xp6(1),e.Q6J("ngForOf",t.operators),e.xp6(1),e.Q6J("data",t.fieldSelectionValues.fieldvalues)("ngModel",t.fieldValue)}}function Lw(n,a){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function ww(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function xw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.operatorValue=o)}),e.YNc(2,Lw,2,1,"option",29),e.qZA(),e.TgZ(3,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldvalue=o)}),e.YNc(4,ww,2,2,"option",37),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.operatorValue),e.xp6(1),e.Q6J("ngForOf",t.operators),e.xp6(1),e.Q6J("ngModel",t.fieldvalue),e.xp6(1),e.Q6J("ngForOf",t.fieldSelectionValues.fieldvalues)}}function Vw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",27)(2,"generic-daterange-picker",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.fieldValue)("FiscalBeginDate",r.ReportFilterSetting.fiscalBeginDate)}}function Ww(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"input",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.fieldValue)}}function Zw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"generic-multiselect",42),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.onMultiSelect(o,i))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",t.fieldSelectionValues.fieldvalues)}}function Hw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label")(2,"input",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.selected=o)})("change",function(o){e.CHM(t);const i=e.oxw(4);return e.KtG(i.selectChangeHandler(o))}),e.qZA(),e._uU(3),e.qZA(),e.YNc(4,Nw,2,1,"div",23),e.YNc(5,yw,2,1,"div",23),e.YNc(6,jw,5,4,"div",25),e.YNc(7,xw,5,4,"div",25),e.YNc(8,Vw,3,2,"div",23),e.YNc(9,Ww,2,1,"div",26),e.YNc(10,Zw,2,1,"div",26),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngModel",t.selected)("disabled",t.required),e.xp6(1),e.Oqu(t.fieldName),e.xp6(1),e.Q6J("ngIf","text"==t.controlType),e.xp6(1),e.Q6J("ngIf","checkbox"==t.controlType),e.xp6(1),e.Q6J("ngIf","dropdownmultiselect"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","dropdown"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","daterange"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","date"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","multiselect"==t.controlType&&t.selected)}}function Uw(n,a){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,Hw,11,10,"div",23),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",0==t.isFieldDisabled)}}function zw(n,a){1&n&&e.YNc(0,Uw,2,1,"div",21),2&n&&e.Q6J("ngForOf",a.fields)}const ro=function(n){return{fields:n}};function Bw(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div")(3,"span",4)(4,"strong",5),e._uU(5,"Custom Reports"),e.qZA()(),e.YNc(6,Ew,9,1,"ul",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleAccordian(o))}),e._UZ(9,"span",9),e._uU(10," \xa0Selected fields "),e.qZA(),e.TgZ(11,"div",10),e.GkF(12,0),e.qZA()(),e.TgZ(13,"div",7)(14,"button",8),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleAccordian(o))}),e._UZ(15,"span",9),e._uU(16," \xa0Required fields "),e.qZA(),e.TgZ(17,"div",10),e.GkF(18,0),e.qZA()(),e.TgZ(19,"div",7)(20,"button",8),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleAccordian(o))}),e._UZ(21,"span",9),e._uU(22," \xa0Optional fields "),e.qZA(),e.GkF(23,0),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,zw,1,1,"ng-template",null,11,e.W1O),e.qZA(),e.TgZ(27,"div",12)(28,"button",13),e.NdJ("click",function(){const i=e.CHM(t).applyFiltering;return e.KtG(i())}),e._uU(29," Apply filter "),e.qZA(),e.TgZ(30,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.excelDownload())}),e._uU(31," Download "),e.qZA()()()()}if(2&n){const t=a.UserReportList,r=a.selectedFields,o=a.requiredFields,i=a.optionalFields,s=e.MAs(26);e.xp6(6),e.Q6J("ngForOf",t),e.xp6(6),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(7,ro,r)),e.xp6(6),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(9,ro,o)),e.xp6(5),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(11,ro,i))}}const qw=function(n,a,t,r,o,i){return{UserReportList:n,selectedFields:a,requiredFields:t,optionalFields:r,applyFiltering:o,excelDownloading:i}};let t3=(()=>{class n{constructor(t,r){this.el=t,this.renderer=r,this.offset={x:0,y:0}}ngAfterViewInit(){setTimeout(()=>{this.makeItDraggable()})}makeItDraggable(){const t=this.el.nativeElement.closest(".modal-dialog");if(!t)return void console.error("DragModalDirective cannot find the parent element with class modal-dialog");this.renderer.setStyle(this.el.nativeElement,"user-select","none"),this.renderer.setStyle(this.el.nativeElement,"cursor","move"),this.renderer.setStyle(t,"transition","none");const r=(0,Fr.R)(this.el.nativeElement,"mousedown"),o=(0,Fr.R)(document,"mousemove"),i=(0,Fr.R)(document,"mouseup"),s=r.pipe((0,C0.b)(p=>{this.start={x:p.clientX-this.offset.x,y:p.clientY-this.offset.y}}),(0,M0.zg)(p=>o.pipe((0,A0.R)(i))));this.subscription=s.subscribe(p=>{this.offset={x:p.clientX-this.start?.x,y:p.clientY-this.start?.y},this.renderer.setStyle(t,"transform",`translate(${this.offset.x}px, ${this.offset.y}px)`)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["",8,"modal-header"]]}),n})();class r3{constructor(){this.name="Context1",this.reportName="",this.reportType="",this._id="",this.fields=[],this.fiscalBeginDate=""}}var De=(()=>{return(n=De||(De={}))[n.LocalDatasource=0]="LocalDatasource",n[n.ServerDataSource=1]="ServerDataSource",n[n.ExternalDataSource=2]="ExternalDataSource",De;var n})();class o3{constructor(){this._id="",this.reportName="",this.reportType="",this.reportUser="",this.fields=[],this.recordsPerPage=0,this.currentPage=1,this.totalItems=0,this.dataSourceType=De.LocalDatasource}}class tt{constructor(){this.fieldgroupName="SystemFields",this.fieldSno=1,this.fieldName="",this.fieldId="",this.fieldIdSecond="",this.controlType="multiselection",this.required=!1,this.fieldType="string",this.operators=["like","is","notlike","isnot"],this.selected=!1,this.fieldValue="",this.operatorValue="",this.isFieldDisabled=!1,this.drilldownFieldId="",this.drilldownFieldFrom=""}}class io{constructor(){this.groupId="",this.groupSno=0,this.groupName="",this.filterFields=[]}}class bt{constructor(){this.fieldValuetype="static",this.fieldqueryurl="",this.fieldvalue="id",this.fieldDatatype="int",this.fieldtype="",this.isDbSql=!1,this.query="",this.dataSourceType=0,this.apiURL="",this.searchURL=""}}var He=(()=>{return(n=He||(He={}))[n.NoFilter=0]="NoFilter",n[n.OneFilterAtTop=1]="OneFilterAtTop",n[n.ColumnWiseMultiFilter=2]="ColumnWiseMultiFilter",He;var n})();class Er{constructor(){this.reportName="",this.reportType="",this.queryType="",this.querySplit="",this._id="",this.fieldgroup=[],this.fiscalBeginDate="",this.projectionfieldFormats=[],this.drilldownmenus=[],this.reportSort="",this.table="",this.reportUser="",this.recordsPerPage=0,this.currentPage=0,this.totalItems=0,this.dataSourceType=0,this.searchFilterOption=He.OneFilterAtTop}}var dt=(()=>{return(n=dt||(dt={}))[n.Text=0]="Text",n[n.Number=1]="Number",n[n.Date=2]="Date",n[n.RoundingTwoDigit=3]="RoundingTwoDigit",n[n.Editable=4]="Editable",dt;var n})();class Dr{constructor(){this.titleGroup="",this.hidden=!1,this.noSearch=!1,this.alignment="left",this.style="",this.width="",this.formatType=dt.Text,this.formatString="",this.isListField=!1,this.listFieldName="",this.sortOrder="",this.dirty=0}}class Ir{constructor(){this.columns=[],this.defaultColumns=[],this.defaultFilterIndex=0,this.showActionButton=!1,this.actionKeys=[],this.DataSource=De.LocalDatasource,this.LocalData=[],this.pageSize=0,this.totalItems=0,this.showSerialNo=!1,this.currentPageNo=0,this.filterOption=He.NoFilter,this.showSettingButton=!1,this.hidePaginationControl=!1,this.contextMenus=[],this.projectionfieldFormats=[]}}class Nr{constructor(){this.reportName="",this.apiUrl="",this.simpleTablesettings=new Ir,this.authToken="",this.columnSettingSaveApi="",this.columnSettingGetApi=""}}let Yw=(()=>{class n{constructor(t){this.modalRef=t}ngOnInit(){console.log({modalform:this.modalForm,tablesetting:this.simpleTableSettings})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Qe.UZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["modal-column-setting"]],decls:30,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"table"],[1,"thead-dark"],[2,"height","30vh"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","text",2,"width","90%","border","1px solid #ddd",3,"formControlName","placeholder","change"],["type","checkbox",3,"formControlName","checked","change"],["type","text",2,"width","90%","border","1px solid #ddd",3,"formControlName","placeholder"],["placeholder","item.alignment",3,"formControlName","change"],["value","center"],["value","left"],["value","right"],[3,"formControlName","change"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Column Setting"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return r.modalRef.hide()}),e.TgZ(4,"span",3),e._uU(5,"x"),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5)(8,"table",6)(9,"thead",7)(10,"tr")(11,"th"),e._uU(12,"Column Title"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Hidden"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Nosearch"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Width"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Alignment"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"FormatType"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"FormatString"),e.qZA()()(),e.TgZ(25,"tbody",8),e.YNc(26,Zj,30,12,"ng-container",9),e.qZA()()()(),e.TgZ(27,"div",10)(28,"button",11),e.NdJ("click",function(){return r.modalRef.hide()}),e._uU(29," OK "),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",r.modalForm),e.xp6(19),e.Q6J("ngForOf",r.simpleTableSettings.columns))},dependencies:[u.sg,l._Y,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.JL,l.sg,l.u,t3],encapsulation:2}),n})(),Jw=(()=>{class n{constructor(t){this.router=t,this.name="more",this.buttonMenus=[],this.commonValues=""}ngOnInit(){if(console.log({btns:this.buttonMenus}),this.buttonMenus&&0==this.buttonMenus.length){var t=new r3;t.name="testmenu",this.buttonMenus.push(t)}}onMenuClick(t){console.log({menuclick:t,url:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["genericButtonmenu"]],inputs:{name:"name",buttonMenus:"buttonMenus",rowValue:"rowValue",commonValues:"commonValues"},decls:5,vars:2,consts:[[1,"dropdown"],["type","button",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","height","27px","margin-right","2px"],[1,"dropdown-content"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,Hj,3,1,"div",3),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",r.name," "),e.xp6(2),e.Q6J("ngForOf",r.buttonMenus))},dependencies:[u.sg],styles:[".dropbtn[_ngcontent-%COMP%] {\n    border: none;\n    cursor: pointer;\n  }\n\n  .dropdown[_ngcontent-%COMP%] {\n    position: relative;\n    display: inline-block;\n  }\n\n  .dropdown-content[_ngcontent-%COMP%] {\n    display: none;\n    position: absolute;\n    background-color: #f9f9f9;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n    z-index: 1;\n    left: -100px;\n  }\n\n  .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    color: black;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n  }\n\n  .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n    background-color: #f1f1f1;\n  }\n\n  .dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%] {\n    display: block;\n    cursor: pointer;\n  }\n\n  .dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%] {\n    background-color: #3e8e41;\n  }"]}),n})(),zt=(()=>{class n{constructor(t){this.injector=t,this.ItemList_Available="0",this.authToken="",this.simpleTableConfig=new Nr,this.simpleTablesettings=new Ir,this._http=this.injector.get(Te.eN)}getRequestOption(t){""==t&&(t="application/json");const r={headers:new Te.WM({Authorization:this.simpleTableConfig.authToken,"Content-Type":t})};return console.log({httpoption:r}),r}onColumnSettingSave(){var t={reportName:this.simpleTableConfig.reportName,reportType:"",reportUser:"",columns:this.simpleTablesettings.columns};return this.saveColumnSetting(t),t}saveColumnSetting(t){var r=this;return(0,ve.Z)(function*(){yield r._http.post(r.simpleTableConfig.columnSettingSaveApi,t,r.getRequestOption("")).pipe((0,go.X)(2),(0,mo.K)(i=>(console.log({savecolumnError:i}),i))).subscribe(i=>i)})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.zs3))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),oo=(()=>{class n{constructor(t){this.masterService=t,this.fieldName="",this.formatType=dt,this.totalRStock=0,this.daysSales=0,this.totalDaysSales=0}onFieldChange(t){const o=this.item.key.split("-")[0];console.log(o,"divisionName"),this.item.key==`${o}-R.STOCK`&&(this.itemObj[`${o}-R.STOCK`]?(this.itemObj[`${o}-DAYS SALES`]=this.nullToZeroConverter(parseFloat(this.itemObj[`${o}-R.STOCK`]))/parseFloat(this.itemObj[`${o}-PER_DAY`]),this.itemObj[`${o}-TOTAL DAYS SALES`]=parseFloat(this.itemObj[`${o}-FINDAYS`])+parseFloat(this.itemObj[`${o}-DAYS SALES`])):(this.itemObj[`${o}-DAYS SALES`]=0,this.itemObj[`${o}-TOTAL DAYS SALES`]=0))}nullToZeroConverter(t){return void 0===t||null==t||null===t||""===t||"Infinity"===t||"NaN"===t||Number.isNaN(t)||isNaN(parseFloat(t))?0:parseFloat(t)}getRowStyle(){if(this.itemObj.row_style)return JSON.parse(this.itemObj.row_style)||{}}getColStyle(t){var r={};if(this.itemObj.col_style){var i=JSON.parse(this.itemObj.col_style);if(i){var s=i.find(_=>_.fieldId==t);s&&(r=s.style)}}return{...this.getRowStyle(),...r}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zt))},n.\u0275cmp=e.Xpm({type:n,selectors:[["genericSimpleColumn"]],inputs:{itemObj:"itemObj",item:"item",fieldName:"fieldName",isimpleTableConfig:"isimpleTableConfig"},features:[e._Bn([zt])],decls:1,vars:1,consts:[[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"title","ngStyle"],[2,"white-space","pre","overflow","auto",3,"title","ngStyle"],["type","number",2,"width","100%",3,"ngModel","ngModelChange","change","keydown.Enter"],[2,"white-space","pre","overflow","auto",3,"title","ngStyle","click"]],template:function(t,r){1&t&&e.YNc(0,Yj,6,5,"div",0),2&t&&e.Q6J("ngIf",r.itemObj)},dependencies:[u.O5,u.PC,u.RF,u.n9,u.ED,l.Fj,l.wV,l.JJ,l.On,u.JJ,u.uU],encapsulation:2}),n})(),Gw=(()=>{class n{constructor(t){this.paginationService=t,this.id="DEFAULT_PAGINATION_ID",this.pageSize=1,this.currentPage=10,this.currentPageChange=new e.vpe,this.totalRecord=100,this.totalRecordChange=new e.vpe,this.clickLesser=new e.vpe,this.clickGreater=new e.vpe,this.pageSizeChanged=new e.vpe,this.changeSub=this.paginationService.change.subscribe(r=>{if(this.id===r){this.instance=t.getInstance(this.id),this.currentPage=this.paginationService.getCurrentPage(this.id);var o=this.instance.totalItems??0;this.totalRecord=o<1?1:Math.ceil(o/this.instance.itemsPerPage),this.pageSize=this.instance.itemsPerPage,console.log({pageinstance:this.instance,id:r,thisid:this.id})}})}ngOnDestroy(){this.changeSub.unsubscribe()}pagesizeChange(t){console.log({pagesizeEvent:t.target.value}),this.pageSize=t.target.value,this.pageSizeChanged.emit(t.target.value)}clickGreaterthan(){this.clickGreater.emit({pageSize:this.pageSize,currentPage:this.currentPage,totalRecord:this.totalRecord})}clickLessthan(){this.clickLesser.emit({pageSize:this.pageSize,currentPage:this.currentPage,totalRecord:this.totalRecord})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(We.N2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["report-paging"]],inputs:{id:"id",pageSize:"pageSize",currentPage:"currentPage",totalRecord:"totalRecord"},outputs:{currentPageChange:"currentPageChange",totalRecordChange:"totalRecordChange",clickLesser:"clickLesser",clickGreater:"clickGreater",pageSizeChanged:"pageSizeChanged"},decls:20,vars:3,consts:[[2,"border","1px solid #ddd","border-radius","5px",3,"ngModel","change","ngModelChange"],["value","5"],["value","10"],["value","20"],["value","30"],["value","40"],["value","50"],[1,"glyphicon","glyphicon-menu-left","round",3,"click"],[1,"glyphicon","glyphicon-menu-right","round",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div")(1,"select",0),e.NdJ("change",function(i){return r.pagesizeChange(i)})("ngModelChange",function(i){return r.pageSize=i}),e.TgZ(2,"option",1),e._uU(3,"5 records per page"),e.qZA(),e.TgZ(4,"option",2),e._uU(5,"10 records per page"),e.qZA(),e.TgZ(6,"option",3),e._uU(7,"20 records per page"),e.qZA(),e.TgZ(8,"option",4),e._uU(9,"30 records per page"),e.qZA(),e.TgZ(10,"option",5),e._uU(11,"40 records per page"),e.qZA(),e.TgZ(12,"option",6),e._uU(13,"50 records per page"),e.qZA()(),e.TgZ(14,"span"),e._uU(15),e.qZA(),e.TgZ(16,"a")(17,"span",7),e.NdJ("click",function(){return r.clickLessthan()}),e.qZA()(),e.TgZ(18,"a")(19,"span",8),e.NdJ("click",function(){return r.clickGreaterthan()}),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngModel",r.pageSize),e.xp6(14),e.AsE("page ",r.currentPage," of ",r.totalRecord,""))},dependencies:[l.YN,l.Kr,l.EJ,l.JJ,l.On],styles:["span[_ngcontent-%COMP%] {\n    text-decoration: none;\n    display: inline-block;\n    padding: 8px 8px;\n  }\n\n  span[_ngcontent-%COMP%]:hover {\n    background-color: #ddd;\n    color: black;\n  }\n  .round[_ngcontent-%COMP%] {\n    border-radius: 50%;\n  }\n  select[_ngcontent-%COMP%]:focus-visible {\n    outline: none !important;\n  }"]}),n})(),no=(()=>{class n{constructor(t,r,o){this.injector=t,this.masterService=r,this.modalService=o,this.DialogMessage="Saving data please wait ...",this.showTableHead=!1,this.requestUrl="",this.isActive=!1,this.itemList=[],this.filteredItemList=[],this.selectedRowIndex=0,this.tabindex="list",this.onPopUpClose=new e.vpe,this.onItemDoubleClick=new e.vpe,this.onDeleteClick=new e.vpe,this.onActionClick=new e.vpe,this.onCurrentPageChange=new e.vpe,this.columnSettingChange=new e.vpe,this.onContextMenu=new e.vpe,this.isimpleTableConfig=new Nr,this.name="simple",this.inputBox={},this.filterDisplayOption=He,this.formatType=dt,this.currentPage=1,this.totalPage=0,this.pageSize=10,this.pageNumber=1,this.totalPages=1,this.totalItems=0,this.sortKey="",this.sortOrder="",this.sortIndex=0,this.isFilterMode=!1,this.isTableLoading=!1,this.filterValueArray=new Map,this.filterValue="",this.filterField="",this._http=this.injector.get(Te.eN),this.trueValue=!0,this.sizeValue=9,this.defaultButtonMenus=[],this.mergereportHeaders=[],this.columnSubject=new Ve.xQ,this.triggerMultiSearch=(i,s,p)=>{this.sortOrder="",this.isFilterMode=!0,console.log({multiTriggerevent:i,item:s,filterOption:p}),1==p&&(this.filterValue=""),this.filterValueArray.set(s.key,i.target.value),console.log({method:"trigger Multi search",filtervaluarray:this.filterValueArray,filtervalue:this.filterValue}),this.refreshPage(),this.refresh(!1)},this.pagingconfig={id:this.name,itemsPerPage:this.pageSize,currentPage:this.pageNumber,totalItems:0==this.masterService.simpleTablesettings.totalItems},this.contextMenuPosition={x:"0px",y:"0px"},this.sortTableData=(i,s,p)=>{this.sortKey=i,this.sortOrder=s,this.sortIndex=p,this.masterService.simpleTablesettings.DataSource!=De.ExternalDataSource?(this.itemList.sort(function d(_,h="asc"){return function(g,S){if(!g.hasOwnProperty(_)||!S.hasOwnProperty(_))return 0;const x="string"==typeof g[_]?g[_].toUpperCase():g[_],le="string"==typeof S[_]?S[_].toUpperCase():S[_];let _e=0;return x>le?_e=1:x<le&&(_e=-1),"desc"===h?-1*_e:_e}}(i,s)),this.changeSortOrder(this.sortOrder,this.sortIndex)):this.onCurrentPageChange.emit({currentPage:1,pageSize:this.pageSize,triggerFrom:"onNgxPageChange",sortKey:i,sortOrder:s,index:p,changeSortOrder:this.changeSortOrder})},this.changeSortOrder=(i,s)=>{console.log({sortOrder:i,index:s}),this.masterService.simpleTablesettings.columns.forEach(p=>p.sortOrder="none"),""!=i&&(this.masterService.simpleTablesettings.columns[s].sortOrder="asc"==i?"desc":"asc")},this.masterService.ItemList_Available="0",this.triggerMultiSearch=(0,At.debounce)(this.triggerMultiSearch,1e3),this.triggerSearch=(0,At.debounce)(this.triggerSearch,1e3),this.masterService.simpleTableConfig=this.isimpleTableConfig,this.masterService.simpleTablesettings=this.isimpleTableConfig.simpleTablesettings}refreshPage(){this.pageNumber=1,this.totalPages=1}refresh(t=!0){1==t&&(this.sortOrder="",this.isFilterMode=!1,this.filterValue="",this.filterField="",this.filterValueArray=new Map),this.getData()}onPageChange(t){this.pageNumber=t||1,this.refresh(!1)}onShowModalSetting(){this.childModal.show()}onHideModalSetting(){this.childModal.hide()}onSaveModalSetting(){this.masterService.simpleTablesettings.columns.sort((t,r)=>0===t.colPosition&&0!==r.colPosition?1:0!==t.colPosition&&0===r.colPosition?-1:t.colPosition-r.colPosition),this.columnSettingChange.emit(this.masterService.simpleTablesettings.columns),this.childModal.hide()}ngOnInit(){this.masterService.simpleTablesettings=this.isimpleTableConfig.simpleTablesettings,this.masterService.authToken=this.isimpleTableConfig.authToken,console.log({simpltetablesettingPassed:this.masterService.simpleTablesettings}),this.initModalForm(),this.reactiveFormOnchange()}setFilterOption(){if(this.masterService.simpleTablesettings&&this.masterService.simpleTablesettings.columns.length){let t=this.masterService.simpleTablesettings.defaultFilterIndex?this.masterService.simpleTablesettings.defaultFilterIndex:0;if(this.masterService.simpleTablesettings.columns.length<=t)return;this.filterValue="",this.filterField=this.masterService.simpleTablesettings.columns[t].key}}onFilterOptionChange(t){this.filterField=t.target.value,this.filterValue="",console.log({onfilterchange:t,filteroption:this.filterField,filtervalue:this.filterValue}),this.getData()}createMultiFilterOptions(){this.masterService.simpleTablesettings.columns.forEach(t=>{this.filterValueArray.set(t.key,"")})}getData(){this.masterService.simpleTableConfig=this.isimpleTableConfig,this.masterService.simpleTablesettings=this.isimpleTableConfig.simpleTablesettings,console.log({getdata:this.masterService.simpleTablesettings.LocalData||"empty",datasource:this.masterService.simpleTablesettings}),this.pageSize=0==this.masterService.simpleTablesettings.pageSize?10:this.masterService.simpleTablesettings.pageSize,this.totalItems=this.masterService.simpleTablesettings.totalItems,this.totalPage=Math.floor(Math.abs(this.totalItems/this.pageSize)+(this.totalItems%this.pageSize>0?1:0)),null!=this.masterService.simpleTablesettings.currentPageNo&&null!=this.masterService.simpleTablesettings.currentPageNo&&this.masterService.simpleTablesettings.currentPageNo>=1&&(this.pageNumber=this.masterService.simpleTablesettings.currentPageNo),console.log({totalpage:this.totalPage,totalitems:this.totalItems,pagesize:this.pageSize,datasource:this.masterService.simpleTablesettings.DataSource}),this.masterService.simpleTablesettings.DataSource==De.ServerDataSource?this.serverDataSource():this.localDataSource(),this.checkGroupHeader(),this.masterService.simpleTablesettings.currentPageNo=1,this.defaultButtonMenus=this.masterService.simpleTablesettings.contextMenus,this.changeSortOrder(this.sortOrder,this.sortIndex),console.log({items:this.itemList,totalitems:this.totalItems,columns:this.masterService.simpleTablesettings.columns})}checkGroupHeader(){if(this.mergereportHeaders=[],this.masterService.simpleTablesettings.columns.length>0&&this.masterService.simpleTablesettings.columns.find(i=>i.titleGroup?.length>0)){var r=0,o=this.masterService.simpleTablesettings.columns[0].titleGroup;for(let i=0;i<this.masterService.simpleTablesettings.columns.length;i++){const s=this.masterService.simpleTablesettings.columns[i];o==s.titleGroup?s.hidden||(r+=1):(this.mergereportHeaders.push({groupHeader:o,colspan:r,sortOrder:"asc",width:"",alignment:"center"}),o=s.titleGroup,r=1)}o&&this.mergereportHeaders.push({groupHeader:o,colspan:r,sortOrder:"asc",width:"",alignment:"center"}),console.log({groupcolumn:this.mergereportHeaders})}}serverDataSource(){return console.log("get data",this.filterField,this.filterValue),this.summary="",this.selectedRowIndex=0,this.requestUrl=this.getFilterOption(`${this.masterService.simpleTableConfig.apiUrl}${this.masterService.simpleTablesettings.apiEndpoints}?pageNumber=${this.pageNumber}&maxResultCount=${this.pageSize}`),console.log({ServerUrl:this.requestUrl}),this._http.get(this.requestUrl,this.masterService.getRequestOption("")).pipe((0,Pt.U)(o=>o)).subscribe(o=>{console.log("grid result",o),this.totalItems=this.masterService.simpleTablesettings.totalItems,0==this.masterService.simpleTablesettings.totalItems&&(this.totalItems=o?o.totalCount:0),this.itemList=o?o.result:[],console.log({itemList:this.itemList,totalItems:this.totalItems}),this.masterService.ItemList_Available=this.itemList.length>0?"1":"0",this.itemList.forEach(function(i){null!=i.TRNDATE&&null!=i.TRNDATE&&(i.TRNDATE=i.TRNDATE.toString().substring(0,10)),null!=i.DATE&&null!=i.DATE&&(i.DATE=i.DATE.toString().substring(0,10))}),this.itemList.length>0&&0==this.selectedRowIndex&&this.itemList[this.selectedRowIndex].itemSummary&&(this.summary=this.itemList[this.selectedRowIndex].itemSummary),0==this.masterService.simpleTablesettings.columns.length&&(0==this.masterService.simpleTablesettings.defaultColumns.length?this.getDefaultColumns():this.masterService.simpleTablesettings.columns=this.masterService.simpleTablesettings.defaultColumns)},o=>{alert(JSON.stringify(o))})}localDataSource(){return console.log({localData:this.masterService.simpleTablesettings}),null==this.masterService.simpleTablesettings.LocalData?(this.masterService.simpleTablesettings.LocalData=[],this.itemList=[],void(this.totalItems=this.itemList.length)):this.masterService.simpleTablesettings.LocalData&&!this.masterService.simpleTablesettings.LocalData.length?(this.itemList=[],this.totalItems=this.itemList.length,void console.log({localDataItemlist:this.itemList})):(this.itemList=this.masterService.simpleTablesettings.LocalData,this.getFilterOptionLocal(),this.totalItems=this.itemList.length!=this.masterService.simpleTablesettings.totalItems&&0==this.masterService.simpleTablesettings.DataSource?this.itemList.length:this.masterService.simpleTablesettings.totalItems,console.log({localDataItemlist:this.itemList}),this.filteredItemList=this.itemList,void this.getDefaultColumns())}getColumnSettingsFromServer(){this._http.get(`${this.masterService.simpleTableConfig.columnSettingGetApi}?reportName=${this.masterService.simpleTableConfig.reportName}?`,this.masterService.getRequestOption("")).pipe((0,go.X)(2),(0,mo.K)(o=>(this.getDefaultColumns(),[]))).subscribe(o=>(this.masterService.simpleTablesettings.columns=o,o))}getColumns(){""==this.masterService.simpleTableConfig.columnSettingGetApi?this.getDefaultColumns():this.getColumnSettingsFromServer()}getDefaultColumns(){if(1!=this.isFilterMode||this.masterService.simpleTablesettings.DataSource!=De.LocalDatasource){if(this.itemList.length>0&&0==this.masterService.simpleTablesettings.columns?.length){this.masterService.simpleTablesettings.columns=[];var t=Object.keys(this.itemList[0]);console.log({propertyNames:t}),t.forEach(r=>{var o=r,i=new Dr;i.key=o,i.hidden=!1,i.noSearch=!1,i.title=o;var s=this.setColumnFormatSetting(i);this.masterService.simpleTablesettings.columns.push(s)}),this.masterService.simpleTablesettings.columns.sort((r,o)=>0===r.colPosition&&0!==o.colPosition?1:0!==r.colPosition&&0===o.colPosition?-1:r.colPosition-o.colPosition)}console.log({defaulcolum:this.masterService.simpleTablesettings.columns})}}setColumnFormatSetting(t){return 0==this.masterService.simpleTablesettings.projectionfieldFormats.length?t:this.masterService.simpleTablesettings.projectionfieldFormats.find(o=>o.key==t.key)||t}getMultiFilterOption(t){console.log({InMultiFilterOption:this.filterValueArray,url:t});let r=[];return 0==this.filterValueArray.size?t:(this.filterValueArray.forEach((o,i)=>{""!=o&&null!=o&&null!=o&&r.push({Field:i,Value:o}),console.log(`Map key is:${i} and value is:${o}`)}),console.log({multiFilterOption:this.filterValueArray,filter:r}),`${t}&filter=${JSON.stringify(r)}`)}getFilterOption(t){if(this.masterService.simpleTablesettings.filterOption==this.filterDisplayOption.ColumnWiseMultiFilter){var r=this.getMultiFilterOption(t);return console.log({filterdUrl:r}),r}let o=[];return null==this.filterField||null==this.filterField||""==this.filterField||null==this.filterValue||null==this.filterValue||""==this.filterValue?t:(o.push({Field:this.filterField,Value:this.filterValue}),`${t}&filter=${JSON.stringify(o)}`)}getFilterOptionLocal(){if(this.masterService.simpleTablesettings.DataSource==De.LocalDatasource)if(this.masterService.simpleTablesettings.filterOption!=this.filterDisplayOption.ColumnWiseMultiFilter){if(console.log({filterOpt:this.filterField,filtervalue:this.filterValue}),this.itemList=this.masterService.simpleTablesettings.LocalData,null!=this.filterField&&null!=this.filterField&&""!=this.filterField&&null!=this.filterValue&&null!=this.filterValue&&""!=this.filterValue){var r=this.masterService.simpleTablesettings.LocalData,o=new RegExp(this.filterValue,"i");this.itemList=r.filter(i=>i[this.filterField].toString().match(o)),console.log({getFilterOptionLocal_regxp:o,localData:r,list:this.itemList})}}else this.getMultiFilterOptionLocal()}getMultiFilterOptionLocal(){console.log({multifilterOpt:this.filterField,filtervalue:this.filterValueArray}),0!=this.filterValueArray.size&&this.filterValueArray.forEach((r,o,i)=>{if(null!=r&&null!=r&&""!=r){console.log({filterkey:o,filtervalue:r});var s=new RegExp(r,"i");this.itemList=this.itemList.filter(p=>p[o]?.toString().match(s)),console.log({regxp:s,localData:this.itemList,list:this.itemList})}})}setPageLocalData(){var t=(this.pageNumber-1)*this.pageSize,r=this.pageSize;null!=this.itemList&&this.itemList.length>0&&null!=this.itemList&&(this.itemList=this.itemList.slice(t,r+t)),console.log({pageNumber:this.pageNumber,toskip:t,limit:r,lst:this.itemList})}triggerSearch(t,r){console.log({triggersearch:this.filterField,filtervalue:this.filterValue,event:t}),this.sortOrder="",this.filterValue=t.target.value,null!=this.filterField&&null!=this.filterField&&""!=this.filterField&&(1==r&&(this.filterValue=""),this.isFilterMode=!0,this.refreshPage(),this.refresh(!1))}onNgxPageChange(t){this.masterService.simpleTablesettings.DataSource!=De.ExternalDataSource?(this.pagingconfig.currentPage=t,this.pageNumber=t,this.masterService.simpleTablesettings.currentPageNo=t,this.refresh(!1),this.changeSortOrder(this.sortOrder,this.sortIndex),console.log({nextpageevent:t,pagingconfig:this.pagingconfig,thispageNumber:this.pageNumber})):this.onCurrentPageChange.emit({currentPage:t,pageSize:this.pageSize,triggerFrom:"onNgxPageChange",sortKey:this.sortKey,sortOrder:this.sortOrder,index:this.sortIndex,changeSortOrder:this.changeSortOrder})}ngOnChanges(t){this.masterService.simpleTablesettings=t.simpleTablesettings?.currentValue}getSno(t){return this.pageNumber*this.pageSize-this.pageSize+(t+1)}resizeMethod(){var t=document.getElementById("resizeTable");console.log("console here for resize",t,document.getElementById("resizeTable"))}onDeleteTableColumn(){document.getElementsByClassName("table")}onChange(t,r){}onShowHide(){console.log("show hide",document.getElementById("exampleModal"))}onActionClicked(t,r,o=0,i){if(""!=t&&null!=t&&null!=t){let s=t.toLowerCase();if(""==r||null==r||null==r)return this.onActionClick.emit({action:s,value:i,event:i}),console.log("ACTION",s),console.log("Value",this.itemList[o]),void console.log("event",i);if(confirm(r))return void this.onActionClick.emit({action:s,value:i,event:i})}}onModalAlignChange(t){console.log({onAlignmentChange:t})}clickLesser(t){console.log({lesserEvent:t,currentPage:t.currentPage,thisPagesize:this.pageSize,thisCurPage:this.currentPage}),this.currentPage=t.currentPage-1,console.log({currentpage:this.currentPage}),this.masterService.simpleTablesettings.currentPageNo=this.currentPage,console.log({currentpage:this.currentPage,simpletablepage:this.masterService.simpleTablesettings.currentPageNo}),this.masterService.simpleTablesettings.pageSize=this.pageSize,this.refresh(!1)}clickGreater(t){console.log({greaterEvent:t}),this.currentPage=t.currentPage+1,this.masterService.simpleTablesettings.currentPageNo=this.currentPage,this.masterService.simpleTablesettings.pageSize=this.pageSize,this.refresh(!1)}pageSizeChanged(t){this.pageSize=t,this.masterService.simpleTablesettings.DataSource!=De.ExternalDataSource?(this.masterService.simpleTablesettings.currentPageNo=1,this.masterService.simpleTablesettings.pageSize=this.pageSize,this.totalPage=Math.abs(this.totalItems/this.pageSize)+(this.totalItems%this.pageSize>0?1:0),this.refresh(!1),this.changeSortOrder(this.sortOrder,this.sortIndex),console.log({thissimpleTableListConfig:this.masterService.simpleTablesettings})):this.onCurrentPageChange.emit({currentPage:this.currentPage,pageSize:this.pageSize,triggerFrom:"onNgxPageChange",sortKey:this.sortKey,sortOrder:this.sortOrder,index:this.sortIndex,changeSortOrder:this.changeSortOrder})}onContextMenuClick(t,r){console.log({event:t,item:r}),t.preventDefault(),0!=this.masterService.simpleTablesettings.contextMenus.length&&(console.log({mouseposition:t,item:r}),this.contextMenuPosition.x=t.clientX+"px",this.contextMenuPosition.y=t.clientY+"px",this.contextMenu.menuData={item:r},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}onContextMenuAction1(t,r){console.log({menuName:t,item:r}),this.onContextMenu.emit({menuName:t,item:r})}onContextMenuAction2(t){alert(`Click on Action 2 for ${t||""}`)}initModalForm(){let t={},o=this.masterService.simpleTablesettings.columns[0];if(o){var i=Object.keys(o);console.log({keys:i,tobject:o}),this.masterService.simpleTablesettings.columns.forEach(s=>{i.forEach(p=>{var d=`${s.key}_${p}`;t[d]=new l.NI(""),console.log({controlName:d,form:t})})})}this.modalForm=new l.cw(t)}showModal(){this.childModal.show()}openModal(t){this.initModalForm();const r={modalForm:this.modalForm,simpleTableSettings:this.masterService.simpleTablesettings};console.log({initialModalForm:this.modalForm}),this.modalRef=this.modalService.show(Yw,{initialState:r})}reactiveFormOnchange(){this.modalForm.valueChanges.subscribe(t=>{console.log({formControlChange:t})})}onHiddenChange(t){if(this.mergereportHeaders?.length>0){let r=this.masterService.simpleTablesettings.columns;this.mergereportHeaders.find(o=>o.groupHeader===t.titleGroup).colspan=r.filter(o=>o.titleGroup===t.titleGroup&&!o.hidden).length}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(zt),e.Y36(Qe.tT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["report-grid"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Jj,5),e.Gf(gt.p6,5),e.Gf($p,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.contextMenu=o.first),e.iGM(o=e.CRH())&&(r.inputBox=o.first)}},inputs:{isimpleTableConfig:["simpleTableConfig","isimpleTableConfig"],summary:"summary",name:"name",mergeHeaderTemplate:"mergeHeaderTemplate",headerTemplate:["HeaderTemplate","headerTemplate"],searchHeaderTemplate:["SearchHeaderTemplate","searchHeaderTemplate"],tableDataTemplate:["TableDataTemplate","tableDataTemplate"],footerTemplate:["FooterTemplate","footerTemplate"]},outputs:{onPopUpClose:"onPopUpClose",onItemDoubleClick:"onItemDoubleClick",onDeleteClick:"onDeleteClick",onActionClick:"onActionClick",onCurrentPageChange:"onCurrentPageChange",columnSettingChange:"columnSettingChange",onContextMenu:"onContextMenu"},features:[e._Bn([zt]),e.TTD],decls:85,vars:38,consts:[[1,"row",2,"height","100%"],[1,"card"],[1,"card-header",2,"display","flex","align-items","center","justify-content","space-between"],[1,"flex"],[2,"position","relative","float","right",3,"id","pageSizeChanged"],[4,"ngIf"],[1,"row","clearfix"],[1,"col-md-12"],[1,"card-body","table-responsive"],["id","resizeTable","tableResize","",1,"table","table-striped",3,"ngStyle"],[2,"top","0","line-height","1.5rem"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngStyle"],[2,"margin-bottom","0.5%"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card-footer"],["previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",2,"margin-top","10px","text-align","center",3,"id","maxSize","directionLinks","autoHide","responsive","pageChange"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"height","100vh"],["exampleModal","bs-modal"],["rzHandles","all","role","document",1,"modal-dialog","modal-lg",2,"top","2%","left","25%"],["block",""],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"hide-show-model-title"],[1,"modal-body",2,"overflow","auto","height","500px"],[1,"table"],[1,"thead-dark",2,"text-align","center"],[2,"width","70px"],[2,"width","80px"],[2,"width","100px"],[2,"height","30vh"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["contextMenu","matMenu"],["matMenuContent",""],["defaultmergeHeaderTemplate",""],["defaultHeaderTemplate",""],["defaultSearchHeaderTemplate",""],["defaultTableDataTemplate",""],["defaultFooterTemplate",""],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary",2,"margin-bottom","10px","background","none !important","border","none !important","padding","0","margin-right","40px",3,"click"],[1,"dotted-menu"],[1,"dot"],[1,"col-md-6",2,"margin","2px 0px"],[2,"width","100%",3,"change"],["value","","selected",""],["type","text","placeholder","item.title",2,"width","100%",3,"ngModel","keyup"],["inputBox",""],[3,"value",4,"ngIf"],[3,"value"],[3,"ngStyle"],["class","highlight",3,"selected-row","contextmenu",4,"ngFor","ngForOf"],[1,"highlight",3,"contextmenu"],["type","button","data-toggle","modal",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","height","27px","margin-right","2px",3,"click"],["type","checkbox","data-toggle","modal",2,"width","60px","height","27px","margin-right","2px","margin-top","10px",3,"checked","click"],[3,"title","click"],[3,"rowValue","buttonMenus","name"],["colspan","6"],[1,"font-weight-bold"],["type","text",2,"width","90%","border","1px solid #ddd",3,"ngModel","placeholder","ngModelChange","change"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],["type","number",2,"width","90%","border","1px solid #ddd",3,"ngModel","ngModelChange","change"],["placeholder","item.alignment",3,"ngModel","ngModelChange","change"],["value","center"],["value","left"],["value","right"],[3,"ngModel","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["mat-menu-item","",3,"click"],["resizable","",3,"ngStyle",4,"ngIf"],["resizable","",3,"ngStyle"],["class","fa fa-sort",3,"click",4,"ngIf"],["class","fa fa-sort-asc",3,"click",4,"ngIf"],["class","fa fa-sort-desc",3,"click",4,"ngIf"],[1,"fa","fa-sort",3,"click"],[1,"fa","fa-sort-asc",3,"click"],[1,"fa","fa-sort-desc",3,"click"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","1px 0px 1px 3px",3,"placeholder","keyup"],[3,"ngStyle",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item","isimpleTableConfig"],[3,"itemObj","item","fieldName","isimpleTableConfig"],["ngIf","!item.hidden",3,"ngStyle"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div",3)(7,"report-paging",4),e.NdJ("pageSizeChanged",function(i){return r.pageSizeChanged(i)}),e.qZA(),e.YNc(8,Gj,6,0,"div",5),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7),e.YNc(11,$j,9,2,"ng-container",5),e.qZA()(),e.TgZ(12,"div",8)(13,"table",9)(14,"thead"),e.YNc(15,tL,4,5,"ng-container",5),e.TgZ(16,"tr",10),e.YNc(17,rL,3,3,"ng-container",5),e.GkF(18,11),e.YNc(19,iL,3,1,"ng-container",5),e.qZA(),e.YNc(20,sL,4,6,"ng-container",5),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,fL,3,9,"ng-container",5),e.YNc(23,vL,5,0,"ng-container",5),e.qZA(),e.TgZ(24,"tfoot",12)(25,"tr"),e.YNc(26,OL,2,0,"ng-container",5),e.GkF(27,13),e.qZA()()()(),e.TgZ(28,"div",14)(29,"pagination-controls",15),e.NdJ("pageChange",function(i){return r.onNgxPageChange(i)}),e.qZA()()()(),e.TgZ(30,"div",16,17)(32,"div",18,19)(34,"div",20)(35,"div",21)(36,"h5",22),e._uU(37," Column format Configuration "),e.qZA(),e.TgZ(38,"button",23),e.NdJ("click",function(){return r.childModal.hide()}),e.TgZ(39,"span",24),e._uU(40,"\xd7"),e.qZA()()(),e.TgZ(41,"div",25)(42,"div",26)(43,"table",27)(44,"thead",28)(45,"tr")(46,"th"),e._uU(47,"Group Header"),e.qZA(),e.TgZ(48,"th"),e._uU(49,"Column Title"),e.qZA(),e.TgZ(50,"th",29),e._uU(51,"Hidden"),e.qZA(),e.TgZ(52,"th",30),e._uU(53,"Nosearch"),e.qZA(),e.TgZ(54,"th",31),e._uU(55,"ColPosition"),e.qZA(),e.TgZ(56,"th",31),e._uU(57,"Width"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"Alignment"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"FormatType"),e.qZA(),e.TgZ(62,"th"),e._uU(63,"FormatString"),e.qZA()()(),e.TgZ(64,"tbody",32),e.YNc(65,bL,36,15,"ng-container",33),e.qZA()()(),e.TgZ(66,"div",34)(67,"button",35),e.NdJ("click",function(){return r.onHideModalSetting()}),e._uU(68," OK "),e.qZA(),e.TgZ(69,"button",36),e.NdJ("click",function(){return r.onSaveModalSetting()}),e._uU(70," Save "),e.qZA()()()()()(),e._UZ(71,"div",37),e.TgZ(72,"mat-menu",null,38),e.YNc(74,CL,1,1,"ng-template",39),e.qZA(),e.YNc(75,PL,2,1,"ng-template",null,40,e.W1O),e.YNc(77,yL,1,1,"ng-template",null,41,e.W1O),e.YNc(79,wL,1,1,"ng-template",null,42,e.W1O),e.YNc(81,UL,1,1,"ng-template",null,43,e.W1O),e.YNc(83,YL,1,1,"ng-template",null,44,e.W1O)),2&t){const o=e.MAs(73),i=e.MAs(78),s=e.MAs(84);e.xp6(5),e.Oqu(r.masterService.simpleTablesettings.title),e.xp6(2),e.Q6J("id",r.name),e.xp6(1),e.Q6J("ngIf",r.masterService.simpleTablesettings.showSettingButton),e.xp6(3),e.Q6J("ngIf",r.masterService.simpleTablesettings.filterOption==r.filterDisplayOption.OneFilterAtTop&&0==r.masterService.simpleTablesettings.DataSource),e.xp6(2),e.Q6J("ngStyle",e.VKq(28,JL,r.mergereportHeaders.length>0?"auto":null)),e.xp6(2),e.Q6J("ngIf",r.mergereportHeaders.length>0),e.xp6(2),e.Q6J("ngIf",1==r.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",i||i)("ngTemplateOutletContext",e.WLB(30,GL,r.masterService.simpleTablesettings.columns,r.sortTableData))("ngStyle",e.VKq(33,Xp,r.masterService.simpleTablesettings.serialNoWidth)),e.xp6(1),e.Q6J("ngIf",r.masterService.simpleTablesettings.showActionButton&&(null==r.masterService.simpleTablesettings.actionKeys?null:r.masterService.simpleTablesettings.actionKeys.length)),e.xp6(1),e.Q6J("ngIf",r.masterService.simpleTablesettings.filterOption==r.filterDisplayOption.ColumnWiseMultiFilter),e.xp6(2),e.Q6J("ngIf",r.itemList&&r.itemList.length>0),e.xp6(1),e.Q6J("ngIf",r.itemList&&0===r.itemList.length),e.xp6(3),e.Q6J("ngIf",1==r.masterService.simpleTablesettings.showSerialNo),e.xp6(1),e.Q6J("ngTemplateOutlet",r.footerTemplate||s)("ngTemplateOutletContext",e.WLB(35,QL,r.masterService.simpleTablesettings.TotalData,r.masterService.simpleTablesettings.columns)),e.xp6(2),e.Q6J("id",r.name)("maxSize",r.sizeValue)("directionLinks",r.trueValue)("autoHide",r.trueValue)("responsive",r.trueValue),e.xp6(36),e.Q6J("ngForOf",r.masterService.simpleTablesettings.columns),e.xp6(6),e.Udp("left",r.contextMenuPosition.x)("top",r.contextMenuPosition.y),e.Q6J("matMenuTriggerFor",o)}},dependencies:[u.sg,u.O5,u.tP,u.PC,We.LS,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.On,Qe.oB,gt.VK,gt.OP,gt.p6,gt.KA,Jw,oo,Gw,t3,u.JJ,We._s],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-family:Lato,sans-serif;border-top-left-radius:15px!important;border-top-right-radius:15px!important;padding:0 0 0 40px!important}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-right:.5px solid #ddd;white-space:break-spaces!important}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:11px}.card-header[_ngcontent-%COMP%]:after{display:none}.card[_ngcontent-%COMP%]{border-radius:15px!important}.card-footer[_ngcontent-%COMP%]{border-bottom-left-radius:15px!important;border-bottom-right-radius:15px!important}.card-body[_ngcontent-%COMP%]{padding:0!important;height:62vh}.card-footer[_ngcontent-%COMP%]{height:42px;padding:.35rem 1.25rem}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.2rem!important;border-bottom:.5px solid #ddd!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:.5px solid #ddd!important}thead[_ngcontent-%COMP%]{border-right:.5px solid #ddd;border-left:.5px solid #ddd}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:initial!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;overflow:auto;border-right:.5px solid #ddd;border-left:.5px solid #ddd}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%}.my-pagination[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:#17a2b8!important;border:transparent!important;border-radius:20px!important}.my-pagination[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]:hover{background:#74d4e2!important;border-radius:20px!important;border:transparent!important}.my-pagination[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-radius:20px!important}@media only screen and (min-width: 1024px) and (min-height: 768px){.card[_ngcontent-%COMP%]{display:inline-block}.card-body[_ngcontent-%COMP%]{height:74vh}.row[_ngcontent-%COMP%]{margin-top:0rem}}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;font-weight:600}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#313949}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:7px!important}tbody[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{transition:.4s ease-in-out}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}tbody[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:hover{transform:scale(1)!important;background-color:#209e91}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{line-height:20px!important;padding:1px!important}ul.ngx-pagination[_ngcontent-%COMP%]{margin-top:.6rem}.pagination-next[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .card-footer[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .card-footer[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:none!important}.card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}table[_ngcontent-%COMP%]   .thead[_ngcontent-%COMP%]{width:99.6%!important}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-right:.5px solid #ddd!important}.form-control[_ngcontent-%COMP%]::-webkit-input-placeholder{font-weight:100!important}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:break-word}tr.highlight[_ngcontent-%COMP%]:hover{background-color:#edf0f4;transition:.3s}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{color:#209e91!important}@media screen and (max-width: 1200px){th[_ngcontent-%COMP%]{white-space:pre-wrap!important}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}.scroll[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:scroll}.sidenav[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;z-index:1;top:0;left:0;background-color:#1a242f;overflow-x:hidden;transition:.5s;padding-top:60px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px 8px 8px 32px;text-decoration:none;font-size:25px;color:#818181;display:block;transition:.3s}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .offcanvas[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#f1f1f1}.sidenav[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{position:absolute;top:0;right:25px;font-size:36px;margin-left:50px}.content[_ngcontent-%COMP%]{transition:margin-left .5s}.fa-bars[_ngcontent-%COMP%]{font-size:25px;cursor:pointer;margin-left:5px}button[disabled][_ngcontent-%COMP%]{cursor:not-allowed;opacity:.65}.modal[_ngcontent-%COMP%]{padding-right:17px;padding-left:17px}.modal-dialog[_ngcontent-%COMP%]{margin:0}.modal-content[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.modal-body[_ngcontent-%COMP%]{padding:0}.modal-footer[_ngcontent-%COMP%]{padding-bottom:15px;padding-top:15px;border-top:0px}#header-fixed[_ngcontent-%COMP%]{position:fixed;top:0;display:none;background-color:#fff}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=date][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=date][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 2px;cursor:default;font-weight:700}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 2px;border-top:0px;line-height:31px}tbody[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid #cbcbcb;border-radius:3px;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:23px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=date][_ngcontent-%COMP%]{line-height:inherit}.ledger-bottom-padding[_ngcontent-%COMP%]{padding-bottom:0}.content-top[_ngcontent-%COMP%]{padding-top:0;padding-bottom:13px}button[_ngcontent-%COMP%]{margin-top:4px}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}@media (min-width: 992px){.modal-lg[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.fa[_ngcontent-%COMP%]{display:none}#mobile-top[_ngcontent-%COMP%]{margin-top:80px}#content[_ngcontent-%COMP%]{margin-left:0}}fieldset[_ngcontent-%COMP%]{padding:1em;font:80%/1 sans-serif}label[_ngcontent-%COMP%]{float:left;width:25%;margin-right:.5em;padding-top:.2em;text-align:right;font-weight:700}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#b9b9b9!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.flex[_ngcontent-%COMP%]{display:flex;align-items:center}  .ngx-pagination li a{font-size:14px!important}",".dotted-menu[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%] {\n    height: 6px;\n    width: 6px;\n    background-color: #209e91;\n    border-radius: 50%;\n    display: inline-block;\n    margin-right: 3px;\n  }\n  .dotted-menu[_ngcontent-%COMP%] {\n    margin-left: 7px;\n  }\n  [_ngcontent-%COMP%]::-webkit-scrollbar {\n    cursor: pointer !important;\n  }\n  [_ngcontent-%COMP%]::-webkit-scrollbar {\n    \n    background: #336799;\n    cursor: pointer;\n    height: 10px;\n    border-radius: calc(15px / 2);\n  }\n\n  [_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n    background: #336799;\n    border-radius: calc(15px / 2);\n    cursor: pointer;\n  }\n  .btn[_ngcontent-%COMP%] {\n    line-height: 0.9 !important;\n  }\n  .example-box[_ngcontent-%COMP%] {\n    width: 200px;\n    height: 200px;\n    border: solid 1px #ccc;\n    color: rgba(0, 0, 0, 0.87);\n    cursor: move;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    background: #fff;\n    border-radius: 4px;\n    position: relative;\n    z-index: 1;\n    transition: box-shadow 200ms cubic-bezier(0, 0, 0.2, 1);\n    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n      0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n  }\n\n  .example-box[_ngcontent-%COMP%]:active {\n    box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\n      0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\n  }\n  thead[_ngcontent-%COMP%] {\n    display: table-header-group !important;\n    vertical-align: middle;\n    border-color: inherit;\n  }\n\n  thead[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%] {\n    background-color: #3f87a6;\n    color: #fff;\n  }\n  thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    color: #fff !important;\n    \n  }\n  tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\npadding: initial !important;\n  \n}\n  \n\n  tbody[_ngcontent-%COMP%] {\n    background-color: #e4f0f5;\n    display: table-row-group !important;\n  }\n\n  caption[_ngcontent-%COMP%] {\n    padding: 10px;\n    caption-side: bottom;\n  }\n\n  table[_ngcontent-%COMP%] {\n    border-collapse: collapse;\n    \n    letter-spacing: 1px;\n    font-family: sans-serif;\n    font-size: 0.8rem;\n    display: table !important;\n  table-layout: fixed;\n  background-color: #336799 ;\n  \n  }\n\n  td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\n    border: 1px solid rgb(190, 190, 190);\n    padding: 5px 10px;\n  }\n\n  td[_ngcontent-%COMP%] {\n    text-align: center;\n  }\n  tfoot[_ngcontent-%COMP%] {\n    display: table-footer-group !important;\n  }\n  thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    background-color: #336799 !important;\n    width: 150px;\n \n  }\n  tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\n    background-color: #336799 !important;\n    color: #fff;\n  }\n  tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n    color: #fff;\n  }\n  tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\n    display: table-row !important;\n  }\n\n  .card[_ngcontent-%COMP%]{\n    width: 99%;\n  }\n  thead[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{\n    position: sticky;\n    top: 0;\n  }"]}),n})(),Qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[zt,Te.eN,u.uU,u.JJ],imports:[u.ez,We.JX,l.u5,l.UX,Te.JF,Qe.zk.forRoot(),gt.Tx,b0.eL]}),n})();const n3=()=>{};let a3=(()=>{class n{constructor(t,r){this.fBuilder=t,this.cdr=r,this.valueChange=new e.vpe,this.DateFormat="YYYY-MM-DD",this.FBeginDate=new Date,this.rangelist=["in the last","on","before","after","between","Today","Yesterday","This Week","This Month","Last Week","Last Month","This Year"],this.intheLastRangeOptions=["days","weeks","months","years"],this.selectedRange="in the last",this.intheLast=0,this.intheLastRange="days",this.between={startdate:Date,endDate:Date},this.onChangeCallback=n3,this.onTouchedCallback=n3}set FiscalBeginDate(t){this.FBeginDate=""!=t&&null!=t?Fe(t).toDate():new Date}ngAfterViewInit(){this.currentTemplate=this.defaultTemplate,this.newTemplate&&(this.currentTemplate=this.newTemplate)}writeValue(t){if(t){var r=t.split(",");r.length>1?(this.myForm.controls.selectedrange.setValue("between"),this.myForm.controls.startbetween.setValue(r[0]),this.myForm.controls.endbetween.setValue(r[1]?r[1]:this.currDate)):(this.myForm.controls.selectedrange.setValue("on"),this.myForm.controls.on.setValue(r[0]))}this.onChangeCallback(t),this.cdr.detectChanges(),console.log({WriteDaterRangChange:this.startBetween,objin:t})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}ngOnInit(){this.myForm=this.fBuilder.group({on:"",before:"",after:"",startbetween:"",endbetween:"",inthelastno:"",inthelastrange:"",selectedrange:""}),this.reativeOnChanges();const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US")}reativeOnChanges(){this.myForm.valueChanges.subscribe(t=>{this.selectedRange=t.selectedrange,this.on=t.on,this.before=t.before,this.after=t.after,this.intheLast=t.inthelastno,this.intheLastRange=t.inthelastrange,this.startBetween=t.startbetween,this.endBetween=t.endbetween,this.dateRangeValue=this.getDateRangeValue();var r=this.dateRangeValue;this.valueChange.emit(this.dateRangeValue),this.selectedValue=r,console.log({DaterRangChange:this.selectedValue}),this.onChangeCallback(this.dateRangeValue.fieldValue)})}betweenChange(){this.between={startdate:this.startBetween,endDate:this.endBetween}}onChange(){var t=this.getDateRangeValue();this.selectedValue=t,this.onChangeCallback(this.getDateRangeValue())}setDateRangeValue(t){var r=t.split(",");this.selectedRange="between",this.startBetween=Fe(r[0]).toDate(),this.endBetween=Fe(r[1]).toDate()}getDateRangeValue(){var s,t=new Date,o=(new Date,{Operator:"between",value:this.between,fieldValue:""}),i=Fe(t);if("in the last"==this.selectedRange)return"days"==this.intheLastRange&&(s=i.subtract(this.intheLast,"days").format(this.DateFormat)),"weeks"==this.intheLastRange&&(s=i.subtract(this.intheLast,"weeks").format(this.DateFormat)),"months"==this.intheLastRange&&(s=i.subtract(this.intheLast,"months").format(this.DateFormat)),"years"==this.intheLastRange&&(s=i.subtract(this.intheLast,"years").format(this.DateFormat)),{Operator:"between",value:s,value1:i.format(this.DateFormat),fieldValue:`${s},${i.format(this.DateFormat)}`};if("between"==this.selectedRange)return{Operator:"between",value:this.startBetween.toString(),value1:this.endBetween.toString(),fieldValue:`${this.startBetween},${this.endBetween}`};if("on"==this.selectedRange)return{Operator:"between",value:this.on?.toString()||"",value1:this.on?.toString()||"",fieldValue:`${this.on},${this.on}`};if("before"==this.selectedRange)return{Operator:"between",value:Fe(this.FBeginDate).format(this.DateFormat),value1:this.before?.toString()||"",fieldValue:`${Fe(this.FBeginDate).format(this.DateFormat)},${this.before}`};if("after"==this.selectedRange)return{Operator:"between",value:this.after?.toString()||"",value1:i.format(this.DateFormat),fieldValue:`${this.after},${i.format(this.DateFormat)}`};if("Today"==this.selectedRange)return{Operator:"between",value:i.format(this.DateFormat),value1:i.format(this.DateFormat),fieldValue:`${i.format(this.DateFormat)},${i.format(this.DateFormat)}`};if("Yesterday"==this.selectedRange)return{Operator:"between",value:i.subtract(1,"days").format(this.DateFormat),value1:i.subtract(1,"days").format(this.DateFormat),fieldValue:`${i.subtract(1,"days").format(this.DateFormat)},${i.subtract(1,"days").format(this.DateFormat)}`};if("This Week"==this.selectedRange){var p=i.day();return console.log({dayofweek:p}),o={Operator:"between",value:i.subtract(p,"days").format(this.DateFormat),value1:i.format(this.DateFormat),fieldValue:`${i.subtract(p,"days").format(this.DateFormat)},${i.format(this.DateFormat)}`},console.log({thisweek:o}),o}if("This Month"==this.selectedRange)return i.date(),{Operator:"between",value:Fe(new Date(i.year(),i.month(),1)).format(this.DateFormat),value1:i.format(this.DateFormat),fieldValue:`${Fe(new Date(i.year(),i.month(),1)).format(this.DateFormat)},${i.format(this.DateFormat)}`};if("Last Week"==this.selectedRange){p=i.day();var _=i.subtract(p+1,"days"),h=_.subtract(1,"week");return o={Operator:"between",value:h.format(this.DateFormat),value1:_.format(this.DateFormat),fieldValue:`${h.format(this.DateFormat)},${_.format(this.DateFormat)}`},console.log({lastweek:o}),o}if("Last Month"==this.selectedRange){var c=i.subtract(i.date(),"days"),g=c.subtract(1,"months");return{Operator:"between",value:g.add(1,"days").format(this.DateFormat),value1:c.format(this.DateFormat),fieldValue:`${g.add(1,"days").format(this.DateFormat)},${c.format(this.DateFormat)}`}}if("This Year"==this.selectedRange){var S=i,x=Fe(new Date(i.year(),0,1));return{Operator:"between",value:x.format(this.DateFormat),value2:S.format(this.DateFormat),fieldValue:`${x.format(this.DateFormat)},${S.format(this.DateFormat)}`}}return o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["generic-daterange-picker"]],viewQuery:function(t,r){if(1&t&&e.Gf(KL,5),2&t){let o;e.iGM(o=e.CRH())&&(r.defaultTemplate=o.first)}},inputs:{DateFormat:"DateFormat",FiscalBeginDate:"FiscalBeginDate",newTemplate:"newTemplate"},outputs:{valueChange:"valueChange"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["datePicker",""],[3,"formGroup"],["formControlName","selectedrange"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngValue"],["type","text","formControlName","inthelastno"],["formControlName","inthelastrange"],[4,"ngFor","ngForOf"],["type","date","formControlName","on"],["type","date","formControlName","before"],["type","date","formControlName","after"],["type","date","formControlName","startbetween"],["type","date","formControlName","endbetween"]],template:function(t,r){1&t&&(e.GkF(0,0),e.YNc(1,nw,10,7,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngTemplateOutlet",r.currentTemplate)("ngTemplateOutletContext",e.l5B(2,aw,r.myForm,r.rangelist,r.selectedRange,r.intheLastRangeOptions))},dependencies:[l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,u.sg,u.O5,u.tP,l.sg,l.u],encapsulation:2,changeDetection:0}),n})();var Tt=(()=>{return(n=Tt||(Tt={}))[n.LocalDatasource=0]="LocalDatasource",n[n.ServerDataSource=1]="ServerDataSource",Tt;var n})();class Kw{constructor(){this.columns=[],this.defaultFilterIndex=0,this.showActionButton=!1,this.LocalData=[],this.pageSize=0,this.callingControlId="",this.multiSelect=!1}}let ao=(()=>{class n{constructor(t){this.http=t,this.majorGroupList=[],this.divisionList=[],this.productList=[],this.warehouseList=[],this.userList=[],this.reports=[],this.reportMenus=[],this.GroupListInTreeForm=[],this.Vlist=[],this.JobList=[],this.Blist=[],this.JobEndList=[],this.apiUrl="",this.authToken=""}ngOnInit(){}setDialog(t){return[]}getDialog(t){return this.reports.find(o=>o.name==t),this.setDialog("test")}getReport(t){return console.log({reports:this.reports}),0==this.reports.length?null:this.reports.find(o=>o.name==t)||null}getReportParam(t,r,o){return this.http.get(`${this.apiUrl}/reportapi/api/v2/getReportParam?Reportname=${t}&ReportType=${r}&User=${o}`,this.getRequestOption())}getDesignTimeReportParam(t,r,o){return this.http.get(`${this.apiUrl}/reportapi/api/v2/getDesignTimeReportParam?Reportname=${t}&ReportType=${r}&User=${o}`,this.getRequestOption())}getDynamicReport(t){return console.log({api:`${this.apiUrl}/reportapi/api/v2/getReport`,param:t}),this.http.post(`${this.apiUrl}/reportapi/api/v2/getReport`,t).toPromise()}getDynamicReportForDesign(t){return this.http.post(`${this.apiUrl}/reportapi/api/v2/getReportForDesign`,t).toPromise()}downloadExcelReport(t,r){return this.http.post(`${this.apiUrl}/reportapi/api/v2/DownLoadExcelReport`,t,{responseType:"blob",observe:"response",headers:r}).pipe((0,Pt.U)(i=>(console.log(i),i)))}checkfilterReportForDesign(t){t.fieldgroup.forEach(r=>r.filterFields.forEach(o=>{"daterange"==o.controlType&&null!=o.fieldValue&&(console.log({fieldvalue:o.fieldValue}),o.fieldValue=o.fieldValue)}))}getDynamicReportinXls(t){return this.http.post(`${this.apiUrl}/reportapi/api/v2/getReportInXl`,t,{responseType:"blob",headers:this.getRequestHeaders(),observe:"response"}).pipe((0,Pt.U)(r=>(console.log(r),r)))}saveReportParam(t){var r=this;return(0,ve.Z)(function*(){yield r.http.post(`${r.apiUrl}/reportapi/api/v2/SaveReportParam`,t,r.getRequestOption()).toPromise()})()}saveReportObject(t){var r=this;return(0,ve.Z)(function*(){yield r.http.post(`${r.apiUrl}/reportapi/api/v2/SaveDesignTimeReportParam`,t,r.getRequestOption()).toPromise()})()}saveDesignTimeReportParam(t){var r=this;return(0,ve.Z)(function*(){yield r.http.post(`${r.apiUrl}/reportapi/api/v2/SaveDesignTimeReportParam`,t,r.getRequestOption()).toPromise()})()}deleteReportParam(t){var r=this;return(0,ve.Z)(function*(){yield r.http.delete(`${r.apiUrl}/reportapi/api/v2/DeleteReportParam?reportName=${t}`,r.getRequestOption()).toPromise()})()}getReports(t,r){return this.http.post(this.apiUrl+r,t,this.getRequestOption()).pipe((0,Pt.U)(o=>o))}getRequestOption(){return{"Content-Type":"application/json",headers:new Te.WM({Authorization:this.authToken})}}getRequestHeaders(){return new Te.WM({Authorization:this.authToken})}getActionList(){let t=[{action:"New"},{action:"Edit"}];return new T0.y(r=>r.next(t))}saveColumnSetting(t="",r){return console.log({url:t,columns:r}),this.http.post(""==t?`${this.apiUrl}/reportapi/api/v2/saveColumnSettings`:`${this.apiUrl}/${t}`,r,this.getRequestOption()).pipe((0,Pt.U)(i=>i.result))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Te.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$w=(()=>{class n{constructor(t,r,o){this._http=t,this.fb=r,this.reportService=o,this.faArrowRight=Zs,this.faTrash=I1,this.onPopUpClose=new e.vpe,this.onItemDoubleClick=new e.vpe,this.inputVchrType="",this.inputVchrno="",this.multiSelectList=[],this.inputBox={},this.requestUrl="",this.isActive=!1,this.itemList=[],this.selectedRowIndex=0,this.tabindex="list",this.billTo="",this.isForCancelOrder=!1,this.tag="",this.hostElementid="",this.three=3,this.ItemList_Available=0,this.pageSize=10,this.pageNumber=1,this.totalPages=1,this.totalItems=0,this.isTableLoading=!1,this.filterValueArray=new Map,this.filterValue="",this.filterOption="",this.gridForm=this.fb.group({columnField:[{value:""}],valueField:[{value:""}]}),this.ItemList_Available=0,console.log("POPUPSETTING",this.popupsettings)}show(t="",r=!1,o="",i=""){console.log("popup show",this.popupsettings),this.hostElementid=i,setTimeout(()=>{this.inputBox.nativeElement.focus()},10),this.summary="",this.billTo=t,this.isForCancelOrder=r,this.itemList=[],this.isActive=!0,this.selectedRowIndex=0,this.tag=o,this.setFilterOption(),setTimeout(()=>{this.setFilterOption(),this.refreshPage(),this.refresh()},100)}setFilterOption(){if(this.popupsettings&&this.popupsettings.columns.length){let t=this.popupsettings.defaultFilterIndex?this.popupsettings.defaultFilterIndex:0;if(this.popupsettings.columns.length<=t)return;this.filterValue="",this.filterOption=this.popupsettings.columns[t].key}}refreshPage(){this.pageNumber=1,this.totalPages=1}refresh(){this.getData()}getData(){console.log("popupsetting",this.popupsettings),this.popupsettings.DataSource==Tt.ServerDataSource?this.serverDataSource():this.localDataSource()}serverDataSource(){console.log("get data",this.filterOption,this.filterValue),this.summary="",this.selectedRowIndex=0;let t=this.popupsettings.apiEndpoints;console.log({CheckInputForm:this.inputVchrType,vchrno:this.inputVchrno});let r=`${t}?currentPage=${this.pageNumber}&maxResultCount=${this.pageSize}`;return"dispatchin"==this.inputVchrType.toLowerCase()&&(r+=`&dataFrom=dispatchin&vchrno=${this.inputVchrno}`),this.requestUrl=this.getFilterOption(r),this._http.get(this.requestUrl,this.getRequestOption()).subscribe(o=>{console.log("grid result",o),this.totalItems=o?o.totalCount:0,this.itemList=o?o.data:[],console.log("itemList",this.itemList),this.ItemList_Available=this.itemList.length>0?1:0,this.itemList.forEach(function(i){null!=i.TRNDATE&&null!=i.TRNDATE&&(i.TRNDATE=i.TRNDATE.toString().substring(0,10)),null!=i.DATE&&null!=i.DATE&&(i.DATE=i.DATE.toString().substring(0,10))}),this.itemList.length>0&&0==this.selectedRowIndex&&this.itemList[this.selectedRowIndex].itemSummary&&(this.summary=this.itemList[this.selectedRowIndex].itemSummary)},o=>{console.log(o)})}getRequestOption(){return{"Content-Type":"application/json",headers:new Te.WM({Authorization:this.popupsettings.authToken})}}localDataSource(){console.log({localData:this.popupsettings}),null!=this.popupsettings.LocalData?this.popupsettings.LocalData&&!this.popupsettings.LocalData.length||(this.totalItems=this.popupsettings.LocalData.length,this.itemList=this.popupsettings.LocalData,this.getFilterOptionLocal(),this.setPageLocalData()):this.popupsettings.LocalData=[]}getFilterOption(t){let r=[],o=this.reportService.apiUrl.substring(0,this.reportService.apiUrl.lastIndexOf("/"));return null==this.filterOption||null==this.filterOption||""==this.filterOption?t:null==this.filterValue||null==this.filterValue||""==this.filterValue?o+"/"+t:(r.push({Field:this.filterOption,Value:this.filterValue}),o+`/${t}&filters=${JSON.stringify(r)}`)}getFilterOptionLocal(){if(console.log({filterOpt:this.filterOption,filtervalue:this.filterValue}),this.itemList=this.popupsettings.LocalData,null!=this.filterOption&&null!=this.filterOption&&""!=this.filterOption&&null!=this.filterValue&&null!=this.filterValue&&""!=this.filterValue){var r=this.popupsettings.LocalData,o=new RegExp(this.filterValue,"i");this.itemList=r.filter(i=>i[this.filterOption].toString().match(o)),console.log({regxp:o,localData:r,list:this.itemList})}}setPageLocalData(){var t=(this.pageNumber-1)*this.pageSize,r=this.pageSize;this.itemList=this.itemList.slice(t,r+t),console.log({pageNumber:this.pageNumber,toskip:t,limit:r,lst:this.itemList})}onPageChange(t){this.pageNumber=t||1,this.refresh()}hide(){this.itemList=[],this.pageNumber=1,this.totalItems=0,this.isActive=!1,console.log("hide button",this.isActive)}onMultiSelectAdd(t){this.multiSelectList.find(r=>r.value==t.value)||this.multiSelectList.push(t),this.onItemDoubleClick.emit(this.multiSelectList),console.log({multiseleList:this.multiSelectList,item:t})}onMultiSelectDelete(t){var r=this.multiSelectList.findIndex(o=>o.value==t.value);this.multiSelectList.splice(r,1),this.onItemDoubleClick.emit(this.multiSelectList),console.log({multiseleList:this.multiSelectList,item:t})}triggerSearch(t,r){console.log("trigger search",this.filterOption,this.filterValue),null!=this.filterOption&&null!=this.filterOption&&""!=this.filterOption&&(1==r&&(this.filterValue=""),this.refreshPage(),this.refresh())}singleClick(t){this.selectedRowIndex=t,this.summary=this.itemList[t].itemSummary}doubleClick(t){this.popupsettings.callingControlId?this.onItemDoubleClick.emit({event:t,callingControlId:this.popupsettings.callingControlId}):1==this.popupsettings.multiSelect?this.onItemDoubleClick.emit(this.multiSelectList):(this.onItemDoubleClick.emit(t),this.hide()),this.focusAnyControl("")}focusAnyControl(t){let r=document.getElementById(t);null!=r&&setTimeout(()=>{r.focus()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Te.eN),e.Y36(l.qu),e.Y36(ao))},n.\u0275cmp=e.Xpm({type:n,selectors:[["generic-popup-grid"]],viewQuery:function(t,r){if(1&t&&e.Gf($p,5),2&t){let o;e.iGM(o=e.CRH())&&(r.inputBox=o.first)}},inputs:{popupsettings:"popupsettings",inputVchrType:"inputVchrType",inputVchrno:"inputVchrno",summary:"summary",multiSelectList:"multiSelectList"},outputs:{onPopUpClose:"onPopUpClose",onItemDoubleClick:"onItemDoubleClick"},decls:2,vars:2,consts:[[3,"formGroup"],["class","modal","style","display: block; padding: 0px; margin-bottom: 25px",4,"ngIf"],[1,"modal",2,"display","block","padding","0px","margin-bottom","25px"],[1,"modal-content","modal-content-main-area",2,"width","50%"],[4,"ngIf"],[1,"modal-header",2,"padding","0px 15px","background","#57afa6","color","#353535","align-items","center"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[4,"ngIf","ngIfElse"],["style","margin-left: 25px",3,"innerHTML",4,"ngIf"],["selectTableTemplate",""],[1,"row"],[1,"col-md-7",2,"position","relative","min-height","1px","padding-left","0px","padding-right","0px"],[4,"ngTemplateOutlet"],[1,"col-md-5",2,"position","relative","min-height","1px","padding-left","0px","padding-right","0px"],[1,"modal-header",2,"margin","0%","padding","0px","background","#57afa6","color","#353535"],[1,"table"],[4,"ngFor","ngForOf"],[2,"padding","5px 15px 0px 0px"],[1,"btn","btn-danger",2,"float","right","padding","0%","width","15%",3,"click"],[3,"icon"],[2,"margin-left","25px",3,"innerHTML"],[1,"row","clearfix"],[1,"col-md-12","row","pl-1"],[1,"col-md-6","p-1",2,"margin","2px 0px"],["formControlName","columnField",2,"width","100%",3,"ngModel","ngModelChange"],["value","","selected",""],["type","text","placeholder","Enter keyword to search","formControlName","valueField",2,"width","100%",3,"ngModel","ngModelChange"],["inputBox",""],[1,"col-md-12","table-scroll",2,"position","relative","padding","0 6px"],[2,"background","#57afa6","color","#353535"],[1,"row","clearfix",2,"float","center","margin","4px 0px"],["class","col-md-12","style","width: 100%",4,"ngIf"],[3,"value",4,"ngIf"],[3,"value"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["class","highlight","title","double click for detail view",3,"selected-row","dblclick","keydown.enter","click",4,"ngFor","ngForOf"],["title","double click for detail view",1,"highlight",3,"dblclick","keydown.enter","click"],[3,"title","ngStyle"],[1,"btn","btn-primary","float-right",2,"padding","0%","width","100%","float","left",3,"click"],[1,"col-md-12",2,"width","100%"],["previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",2,"font-size","0.8rem",3,"id","maxSize","directionLinks","autoHide","responsive","pageChange"]],template:function(t,r){1&t&&(e.TgZ(0,"form",0),e.YNc(1,Mw,3,1,"div",1),e.qZA()),2&t&&(e.Q6J("formGroup",r.gridForm),e.xp6(1),e.Q6J("ngIf",r.isActive))},dependencies:[u.sg,u.O5,u.tP,u.PC,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,We.LS,Gp,We._s],styles:[".modal-content[_ngcontent-%COMP%] {\n    padding: 1px;\n    margin: 0px;\n    float: right;\n  }\n\n  tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:hover {\n    background-color: #f3f5f4;\n    cursor: pointer;\n  }\n\n  tr[_ngcontent-%COMP%] {\n    font-size: 11px;\n  }\n\n  .selected-row[_ngcontent-%COMP%] {\n    background-color: #ced6d3 !important;\n  }\n\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n    line-height: 30px !important;\n    padding: 0px;\n  }\n\n  .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\n    line-height: 5px !important;\n  }\n\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%]:first-child {\n    text-align: left !important;\n    padding: 0px 0px 0px 11px !important;\n  }\n\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child() {\n    text-align: right !important;\n  }\n  .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%]:last-child {\n    padding-right: 5px !important;\n  }\n  .modal-content[_ngcontent-%COMP%] {\n    box-shadow: -10px 0px 10px 1px #aaaaaa;\n  }\n\n  .modal-content-main-area[_ngcontent-%COMP%] {\n    max-height: 100%;\n    height: 30rem;\n    overflow: auto;\n    overflow-x: hidden;\n    width: 30rem;\n    top: 9.5rem;\n\n    margin-right: 20rem;\n  }\n\n  .modal-content-summary-area[_ngcontent-%COMP%] {\n    max-height: 20%;\n    height: 20%;\n    overflow: auto;\n    overflow-x: hidden;\n  }\n\n  .ellipsis[_ngcontent-%COMP%] {\n    \n    white-space: nowrap;\n  }\n  .glyphicon.glyphicon-arrow-right[_ngcontent-%COMP%]:hover {\n    background-color: #b81616;\n    color: cornsilk;\n    transition: 0.7s;\n    border-radius: 50%;\n  }\n\n  .glyphicon.glyphicon-minus-sign[_ngcontent-%COMP%]:hover {\n    background-color: #b81616;\n    transition: 0.7s;\n    color: cornsilk;\n    cursor: pointer;\n    border-radius: 50%;\n  }\n  \n  \n\n  @media only screen and (min-width: 768px) {\n    .modal-content-main-area[_ngcontent-%COMP%] {\n      top: 25rem;\n      margin-right: 1rem;\n    }\n  }\n\n  @media only screen and (min-width: 1024px) {\n    .modal-content-main-area[_ngcontent-%COMP%] {\n      top: 8rem;\n      margin-right: 1rem;\n    }\n  }\n\n    #tabindex ul{\n      padding: 0;\n    }"]}),n})(),s3=(()=>{class n{constructor(t){this.fb=t,this.onSelect=new e.vpe,this.fieldName="",this.fieldId="",this.dataSource=[],this.singleSelect=!1,this.popupsetting=new Kw}ngOnInit(){this.formGroup=this.fb.group({textControl:[""]})}ngAfterViewInit(){console.log({dsource:this.dataSource,singleselect:this.singleSelect,reportObj:this.objValues})}showPopUp(t){this.popupsetting.LocalData=this.dataSource,this.genericGridList.popupsettings=this.popupsetting,console.log({popseting:this.popupsetting}),this.genericGridList.show()}onSelectList(t){if(console.log({popupselect:t}),this.popupsetting.multiSelect){var r=t,o="";if(r.length>0){for(var i=0;i<3&&!(i>=r.length);i++)o=o+r[i].name+",";o=o.substring(0,o.length-1),r.length>3&&(o=o+" + "+(r.length-3)+" item(s)")}this.formGroup.get("textControl")?.patchValue(o);var s=r.map(p=>p.value).join();this.onSelect.emit({id:s,value:s})}else this.formGroup.get("textControl")?.patchValue(t.name),this.onSelect.emit({id:t.value,value:t.value})}ngOnChanges(t){t.dataSource.previousValue!=t.dataSource.currentValue&&this.changeGridSetting(t.fieldName.currentValue)}changeGridSetting(t){console.log(this.objValues),this.popupsetting={title:t,multiSelect:!this.singleSelect,apiEndpoints:this.objValues?.apiURL?this.objValues.apiURL:"",authToken:"",DataSource:"1"==this.objValues?.dataSourceType?Tt.ServerDataSource:Tt.LocalDatasource,defaultFilterIndex:0,LocalData:[],columns:[{key:"1"==this.objValues?.dataSourceType?"DESCA":"name",title:"name",hidden:!1,noSearch:!1},{key:"value",title:"value",hidden:!1,noSearch:!1}]}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["generic-multiselect"]],viewQuery:function(t,r){if(1&t&&e.Gf(Aw,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridList=o.first)}},inputs:{fieldName:"fieldName",fieldId:"fieldId",dataSource:"dataSource",singleSelect:"singleSelect",objValues:"objValues"},outputs:{onSelect:"onSelect"},features:[e.TTD],decls:4,vars:1,consts:[[3,"formGroup"],["formControlName","textControl","type","text","placeholder","Enter keydown to select ","readonly","",2,"width","100%",3,"keydown.enter"],[3,"onItemDoubleClick"],["genericGridList",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"input",1),e.NdJ("keydown.enter",function(i){return r.showPopUp(i)}),e.qZA()(),e.TgZ(2,"generic-popup-grid",2,3),e.NdJ("onItemDoubleClick",function(i){return r.onSelectList(i)}),e.qZA()),2&t&&e.Q6J("formGroup",r.formGroup)},dependencies:[l.Fj,l.JJ,l.JL,l.sg,l.u,$w],encapsulation:2}),n})();const l3=()=>{};let c3=(()=>{class n{constructor(t){this.cdr=t,this.ngValue="",this.placeholder="",this.onItemSelect=new e.vpe,this.onItemDeSelect=new e.vpe,this.dropdownSettings={},this.datavalue=[],this.selectedItems=[],this.onTouchedCallback=l3,this.onChangeCallback=l3}set value(t){this.selectedItems=[],t&&t.split(",").forEach(o=>{this.selectedItems.push({name:o,value:o})}),this.onChangeCallback(t),this.onTouchedCallback(),console.log({setValue:t})}writeValue(t){this.selectedItems=[],t&&t.split(",").forEach(o=>{this.selectedItems.push({name:o,value:o})}),this.onChangeCallback(t),this.cdr.detectChanges(),console.log({writeValue:t,selectedItems:this.selectedItems})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}ngOnInit(){this.dropdownSettings={idField:"value",singleSelection:!1,textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,enableCheckAll:!1,limitSelection:10}}ngOnChanges(t){if(console.log({changes:t}),t.selectedItems?.previousValue!=t.selectedItems?.currentValue){var r="";this.selectedItems.forEach(o=>{r=""==r?o.value:r+","+o.value})}}onSelect(t){this.onItemSelect.emit(t),this.onChangeCallback(this.emittedValue(this.selectedItems))}onDeSelect(t){this.onItemDeSelect.emit(t),this.onChangeCallback(this.emittedValue(this.selectedItems))}emittedValue(t){var r="";if(Array.isArray(t))t.forEach(o=>{r=""==r?o.value.toString():r+","+o.value.toString()});else if(t)return t;return r}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["dropdown-multiselect"]],inputs:{placeholder:"placeholder",data:"data"},outputs:{onItemSelect:"onItemSelect",onItemDeSelect:"onItemDeSelect"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.TTD],decls:1,vars:4,consts:[[3,"placeholder","settings","data","ngModel","onSelect","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"ng-multiselect-dropdown",0),e.NdJ("onSelect",function(i){return r.onSelect(i)})("onDeSelect",function(i){return r.onDeSelect(i)})("ngModelChange",function(i){return r.selectedItems=i}),e.qZA()),2&t&&e.Q6J("placeholder","")("settings",r.dropdownSettings)("data",r.data)("ngModel",r.selectedItems)},dependencies:[ue.O,l.JJ,l.On],encapsulation:2,changeDetection:0}),n})();const p3=()=>{};let Xw=(()=>{class n{constructor(t,r){this.cdr=t,this.fb=r,this.checkvalue=!1,this.label="",this.showLabel=0,this.onChangeCallback=p3,this.onTouchedCallback=p3}ngOnInit(){this.myform=this.fb.group({chkBox:!1}),this.reactiveOnChanges(),console.log({inti:this.myform})}reactiveOnChanges(){this.myform.valueChanges.subscribe(t=>{this.checkvalue=t.chkBox,console.log({reactivevalue:t}),this.onChangeCallback(this.booleanToNumber(this.checkvalue))})}booleanToNumber(t){return 1==t?1:0}writeValue(t){t&&(this.checkvalue=0!=t,this.myform.controls.chkBox.setValue(this.checkvalue)),this.onChangeCallback(t),this.cdr.detectChanges(),console.log({writecheck:t,chkval:this.checkvalue})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["generic-checkbox"]],inputs:{label:"label",showLabel:"showLabel"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:4,vars:2,consts:[[1,"formgroup",3,"formGroup"],["formControlName","chkBox","type","checkbox"],["checkboxInput",""],[4,"ngIf"],["for","checkboxInput"]],template:function(t,r){1&t&&(e.TgZ(0,"form",0),e._UZ(1,"input",1,2),e.YNc(3,Pw,3,1,"span",3),e.qZA()),2&t&&(e.Q6J("formGroup",r.myform),e.xp6(3),e.Q6J("ngIf",1==r.showLabel))},dependencies:[u.O5,l._Y,l.Wl,l.JJ,l.JL,l.sg,l.u],encapsulation:2,changeDetection:0}),n})(),d3=(()=>{class n{constructor(t){this.dialog=t,this.selectedBox="",this.valueCheck=!1,this.selectedItems=[],this.CheckedValue=[],this.dropdownSettings={},this.ClickFilter=new e.vpe,this.downloadExcel=new e.vpe,this.SaveReport=new e.vpe,this.DeleteReport=new e.vpe,this.UserReportList=[],this.isShown=!0,this.selected={stardate:Fe.Dayjs,enddate:Fe.Dayjs},this.selectedFields=[],this.requiredFields=[],this.optionalFields=[],this.multiDropDownSetting={},this.applyFilter=()=>{var o=this.getFilterParam();1!=this.checkIfRequiredInValid()?this.ClickFilter.emit(o):alert("Required field(s) cannot be empty")},this.excelDownload=()=>{var o=this.getFilterParam();this.downloadExcel.emit(o)},this.filterContext={UserReportList:this.UserReportList,selectedFields:this.selectedFields,optionalFields:this.optionalFields,requiredFields:this.requiredFields,applyFilter:this.applyFilter,downloadtoExcel:this.excelDownload};var r=document.getElementById("detailsField");console.log("ya value k aaucha",r)}ngAfterViewInit(){setTimeout(()=>{this.seperateSelectedFields()},0)}booleanToNumber(t){return 1==t?1:0}multiSelectToString(t){console.log({multiselect:t});var r="";return t&&(r="'"+t.map(i=>i.value).join("','")+"'",console.log({arraystring:r})),r}ngOnInit(){new tt,this.multiSelected={},this.dropdownSettings={idField:"value",singleSelection:!1,textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,enableCheckAll:!1,limitSelection:10},console.log({reportfilterlist:this.ReportFilterSetting,UserReportList:this.UserReportList})}seperateSelectedFields(){this.requiredFields=this.ReportFilterSetting?.fieldgroup[0]?.filterFields.filter(r=>0==r.selected),this.optionalFields=this.ReportFilterSetting?.fieldgroup[1]?.filterFields.filter(r=>0==r.selected),this.selectedFields=[],this.selectedFields=this.ReportFilterSetting?.fieldgroup[0]?.filterFields.filter(r=>1==r.selected);var t=this.ReportFilterSetting?.fieldgroup[1]?.filterFields.filter(r=>1==r.selected);this.selectedFields?.length>0?t.forEach(r=>{this.selectedFields.push(r)}):this.selectedFields=t,console.log({fieldgroup:this.ReportFilterSetting?.fieldgroup,requiredfields:this.requiredFields,filterfieds:this.optionalFields,selectedfields:this.selectedFields,optSele:t})}getFilterParam(){var t={fields:[]};return this.CheckedValue=[],t.reportName=this.ReportFilterSetting.reportName,t.reportType=this.ReportFilterSetting.reportType,t._id=this.ReportFilterSetting._id,t.reportUser=this.ReportFilterSetting.reportUser,this.filterdisplay=this.ReportFilterSetting,this.ReportFilterSetting.fieldgroup.forEach(r=>{console.log({groupId:r.groupId}),r.filterFields.forEach(o=>{if(console.log("FLD",o),1==o.selected){console.log({Checked:this.CheckedValue});var i={fieldgroupName:o.fieldgroupName,fieldId:o.fieldId,fieldIdSecond:o.fieldIdSecond,fieldName:o.fieldName,controlType:o.controlType,fieldtype:o.fieldType,fieldValue:o.fieldValue,operatorValue:o.operatorValue,selected:o.selected,filterParamValue:o.filterParameterValue};"daterange"==o.controlType&&null!=o.fieldValue&&(console.log({fieldvalue:o.fieldValue}),i.fieldValue=o.fieldValue,console.log({fieldvalueafter:i.fieldValue})),"numberrange"==o.controlType&&(i.fieldValue=o.filterParameterValue.value+","+o.filterParameterValue.value1),t.fields.push(i)}})}),console.log({Report:this.ReportFilterSetting,ReportParam:t}),t}checkIfRequiredInValid(){let t=!1;return console.log({reportIsvalidCheck:this.ReportFilterSetting}),this.ReportFilterSetting.fieldgroup.forEach(r=>{r.filterFields.forEach(o=>{if(1==o.required&&(null==o.fieldValue||""==o.fieldValue))return 0==t&&(t=!0),void console.log({isinvalid:t,Filterfield:o})})}),t}addFieldGroup(t){if(0!=t.length){console.log("SelectedField",t);var r=this.ReportFilterSetting.fieldgroup.find(o=>"selectedField"==o.groupId);null==r&&((r=new io).groupId="selectedField",r.groupName="Selected Fields",this.ReportFilterSetting.fieldgroup.unshift(r),console.log({newFieldGroup:r,reportFiletersetting:this.ReportFilterSetting})),this.ReportFilterSetting.fieldgroup[0].filterFields=t,console.log("reportfilter",this.ReportFilterSetting,this.ReportFilterSetting.fieldgroup),this.ReportFilterSetting.fieldgroup.forEach(o=>{"Selected Fields"!=o.groupName?(console.log("GROUPNAME",o.groupName),console.log("FILTERFIELD",o.filterFields),o.filterFields.forEach(i=>{1==i.selected&&(i.isFieldDisabled=!0,i.selected=!1)})):o.filterFields.forEach(i=>{0==i.selected&&(i.isFieldDisabled=!0)})}),console.log("Selected Field",r)}}enableIsFieldDisabled(t){this.ReportFilterSetting.fieldgroup.filter(r=>"selectedField"!=r.groupId).forEach(r=>{r.filterFields.filter(o=>o.fieldId==t.fieldId)?.forEach(o=>o.isFieldDisabled=!1),console.log({enabledisablefield:r})})}aplyFilter_old(){this.filterdisplay=this.ReportFilterSetting,this.ReportFilterSetting.fieldgroup.forEach(t=>{t.filterFields.forEach(r=>{("text"==r.controlType||"date"==r.controlType)&&(this.reportObject={...this.reportObject,[r.fieldId]:r.fieldValue}),"daterange"==r.controlType&&(this.reportObject.Date1=r.filterParameterValue.value,this.reportObject.Date2=r.filterParameterValue.value1)})}),this.ClickFilter.emit(this.reportObject)}openDatepicker(){}dtPickerChange(t){console.log({daterange:t,ReportFilterSetting:this.ReportFilterSetting})}selectChangeHandler(t){this.seperateSelectedFields()}selectedCheckedbox(t,r){}saveReport(){var t=new G.vA;t.hasBackdrop=!1,t.disableClose=!1,t.autoFocus=!0,t.data={title:"Save Report",description:this.ReportFilterSetting.reportName}}deleteReport(t){var r=t;console.log({deleteevent:t}),1==confirm(`Do you want to delete the ${r} ?`)&&this.DeleteReport.emit(r)}toggleAccordian(t){var r=t.target;console.log("event value",t),r.parentElement.classList.toggle("active")}toggleReport(t,r){t.target.parentElement.classList.toggle("reportOption")}onItemSelect(t,r){console.log({onItemSelect:t,fieldvalue:this.dropdownValue})}onItemDeSelect(t,r){console.log({onItemDeSelect:t,selectedItems:this.dropdownValue})}changeDateRangeValue(t,r){r.fieldValue=t.fieldValue,r.filterParameterValue=t,console.log({daterangeChange:t,fld:r})}onMultiSelectChange(t){}onMultiSelect(t,r){console.log({multiselect:t,fld:r}),r.fieldValue=t.value,console.log({multiselect:t,fld:r})}refresh(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["report-filter"]],viewQuery:function(t,r){if(1&t&&e.Gf(Rw,5),2&t){let o;e.iGM(o=e.CRH())&&(r.defaultTemplate=o.first)}},inputs:{ReportFilterSetting:"ReportFilterSetting",UserReportList:"UserReportList",newTemplate:"newTemplate"},outputs:{ClickFilter:"ClickFilter",downloadExcel:"downloadExcel",SaveReport:"SaveReport",DeleteReport:"DeleteReport"},decls:3,vars:9,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["filterTemplate",""],["id","filterindex",1,"row",2,"height","70vh","background","#ffffff","transition","0.5s","border","2px solid #ddd","border-radius","10px","overflow-y","scroll","overflow-x","hidden"],[1,"row",2,"padding","6%","display","flex","flex-direction","column","margin-bottom","20px","justify-content","space-between"],[2,"padding-left","15px","padding-bottom","15px","display","block","padding-bottom","6px"],[2,"border-bottom","1px solid #ddd","font-size","24px"],["style","\n            list-style: none;\n            padding-left: 5px;\n            padding-top: 10px;\n            padding-bottom: 10px;\n            padding-left: 15px;\n            background-color: #f0f3f4;\n            border-left: 3px solid #393434;\n            margin-left: 2px;\n          ",4,"ngFor","ngForOf"],[2,"padding-top","0px","padding-bottom","6px","padding-left","15px"],[1,"accordion",3,"click"],[1,"glyphicon","glyphicon","glyphicon-triangle-bottom",2,"top","-1px"],[1,"panel-wrapper"],["fieldList",""],[1,"button-wrapper",2,"padding-left","15px"],[1,"btn","btn-info",2,"margin-top","2%","margin-left","2px","margin-right","2px",3,"click"],[1,"btn","btn-info",2,"margin-top","2%",3,"click"],[2,"list-style","none","padding-left","5px","padding-top","10px","padding-bottom","10px","padding-left","15px","background-color","#f0f3f4","border-left","3px solid #393434","margin-left","2px"],[2,"display","flex","align-items","center","position","relative"],[1,"dotted-menu",2,"margin-left","auto","cursor","pointer","margin-top","-3px",3,"click"],[1,"dot"],[1,"reportPopup"],["href","#",3,"click"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],[4,"ngIf"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],["style","margin-left: 8%",4,"ngIf"],["style","margin-top: 2%",4,"ngIf"],[2,"margin-left","8%"],[1,"",2,"margin-bottom","2%","width","30%",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm",1,"",2,"margin-bottom","10%","width","90%",3,"ngModel","ngModelChange"],["id","checkbox",3,"ngModel","label","showLabel","ngModelChange"],["for","checkbox"],[2,"margin-bottom","2%","width","30%",3,"ngModel","ngModelChange"],[3,"data","ngModel","ngModelChange","onItemSelect","onItemDeSelect"],["dropdown","ngModel"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModel","FiscalBeginDate","ngModelChange"],[2,"margin-top","2%"],["type","date",1,"form-control",2,"margin-top","1%","width","90%","margin-bottom","3%",3,"ngModel","ngModelChange"],["fieldName","name","fieldId","value",3,"dataSource","onSelect"]],template:function(t,r){if(1&t&&(e.GkF(0,0),e.YNc(1,Bw,32,13,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngTemplateOutlet",r.newTemplate||o)("ngTemplateOutletContext",e.HTZ(2,qw,r.UserReportList,r.selectedFields,r.requiredFields,r.optionalFields,r.applyFilter,r.excelDownload))}},dependencies:[u.sg,u.O5,u.tP,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,a3,s3,c3,Xw],styles:['.shadow1[_ngcontent-%COMP%]{box-shadow:5px 5px 5px #4449;-webkit-tap-highlight-color:transparent;filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=3,MakeShadow=true,ShadowOpacity=.3);-ms-filter:"progid:DXImageTransform.Microsoft.Blur(PixelRadius=3,MakeShadow=true,ShadowOpacity=0.30)";zoom:1}@media screen and (max-width: 1200px){#filterindex[_ngcontent-%COMP%]{margin:0 auto 30px!important;width:auto!important;overflow-x:hidden;position:relative!important}.button-wrapper[_ngcontent-%COMP%]{width:100%!important;box-shadow:none!important;justify-content:start!important}}',"#filterindex[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n    border: none;\n    \n    font-weight: 700;\n  }\n\n  .panel[_ngcontent-%COMP%] {\n    margin-left: 20px;\n  }"]}),n})(),ex=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,l.UX,Qe.zk.forRoot(),Te.JF,We.JX,Wj]}),n})(),_3=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.u5,l.UX,ex]}),n})(),h3=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.u5,u.ez,l.UX]}),n})(),tx=(()=>{class n{remove(t){window.sessionStorage.removeItem(t)}exist(t){return null!=window.sessionStorage.getItem(t)}get(t){if(!this.exist(t))return null;let r=window.sessionStorage.getItem(t);return JSON.parse(r)}set(t,r){window.sessionStorage.setItem(t,JSON.stringify(r))}checkUserRight(t){let o,r=window.sessionStorage.getItem("USER_PROFILE");var i;return r&&(o=r.userRights,o&&(i=o[t])),i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rx=(()=>{class n{constructor(t){this.cacheService=t,this.cache_constant={},this._subscriptions=[],this.RightObj={},this.add=!1,this.edit=!1,this.delete=!1,this.view=!1,this.canActive=!1}ngOnInit(){}isAuthorized(t){let r=this.getUserProfile();return this.isAuthenticated(r)}removeAuth(){this.cacheService.remove("USER_PROFILE"),this.cacheService.remove("TOKEN")}isAuthenticated(t){return!!t}setAuth(t){this.cacheService.set("USER_PROFILE",t.profile),this.cacheService.set("TOKEN",t.token),this.cacheService.set("setting",t.setting)}setSessionVariable(t,r){this.cacheService.exist(t)&&this.cacheService.remove(t),this.cacheService.set(t,r)}getSessionVariable(t){return this.cacheService.exist(t)?this.cacheService.get(t):null}removeSessionVariable(t){this.cacheService.remove(t)}getAuth(){let t={profile:this.cacheService.get("USER_PROFILE"),token:this.cacheService.get("TOKEN")};return console.log({gettoken:t}),t}getUserProfile(){if(!this.cacheService.exist("USER_PROFILE"))return null;let t=this.cacheService.get("USER_PROFILE");return this.user=this.cacheService.get("USER_PROFILE"),t}checkUserRight(t){let o,r=this.getUserProfile();var i=[];return r&&(o=r.userRights,o&&(i=o[t])),i}getMenuRight(t,r){var o={list:!1,right:!1};if(console.log("MenuName",t),""==t)return o;let i=this.getUserProfile(),s=[];var p=!1,d=!1;if(i&&(s=i.menuRights,console.log("MenuRights",s,t),s))for(var _ in s)if(console.log("Reached1",s[_].menu,t),s[_].menu==t)for(var h in console.log("Reached2"),this.RightObj=s[_],this.rightObject=s[_],this.menuName=t,console.log("RRRR",this.RightObj),console.log({menu:t,menus:s[_]}),s[_].right.length>0&&(p=!0),s[_].right)s[_].right[h]==r&&(this.canActive=!0,d=!0);return console.log(this.RightObj,"RRRRRRRRRR"),console.log(this.rightObject,"lllllll"),o={list:p,right:d},console.log(o,"resulttttt"),o}checkMenuRight(t,r){let o=this.getUserProfile(),i=[];var s=!1;if(o&&(i=o.menuRights,i))for(var p in i)if(i[p].menu==t)for(var d in i[p].right)i[p].right[d]==r&&(this.canActive=s,s=!0);return s}getSetting(){return this.cacheService.exist("setting")?this.cacheService.get("setting").EnableRealTimeStockCheck:void 0}getCookie(){}getRequestHeaders(){return new Te.WM({Authorization:this.getAuth().token})}getRequestOption(){return{"Content-Type":"application/json",headers:new Te.WM({Authorization:this.getAuth().token})}}ngOnDestroy(){this._subscriptions.forEach(t=>{t.unsubscribe()})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(tx))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ix=(()=>{class n{constructor(){this._subjectData={},this._data=new Ve.xQ,this._dataStream$=this._data.asObservable(),this._globalSettings=new Map,this._subscriptions=new Map,console.log({datastream:"initiated"}),this._dataStream$.subscribe(t=>this._onEvent(t))}notifyDataChanged(t,r){console.log({notifyDataChanged:{event:t,value:r,subjectData:this._subjectData}});let o=this._subjectData[t];o!==r&&(this._subjectData[t]=r,console.log("4"),console.log({subjectdata:this._subjectData,current:o,value:r}),this._data.next({event:t,data:this._subjectData}))}subscribe(t,r){let o=this._subscriptions.get(t)||[];o.push(r),this._subscriptions.set(t,o),console.log({subscribeevent:t,value:r})}_onEvent(t){(this._subscriptions.get(t.event)||[]).forEach(o=>{o.call(null,t.data)})}setGlobalSetting(t,r){this._globalSettings.set(t,r)}getGlobalSetting(t){var r=[];return this._globalSettings.get(t)&&(r=this._globalSettings.get(t)),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u3=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[ue.Z,u.ez,l.u5,l.UX]}),n})(),g3=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,l.u5,l.UX]}),n})(),ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ix,rx],imports:[u.ez,l.u5,l.UX,h3,G.Is,_3,ue.Z,u3,g3]}),n})();var D=v(23470),rt=v(31722);const nx=["childModal"],ax=["genericDatePicker"],sx=["reportFilter"],lx=["genericSimpleTable"],cx=function(n){return{"mySidenav-show":n}},px=function(n){return{"toggler-btn-icon-reverse":n}};function dx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideShow=!o.hideShow)}),e._uU(2," F10 "),e._UZ(3,"i",11),e.qZA(),e.TgZ(4,"div")(5,"report-filter",12,13),e.NdJ("ClickFilter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilter(o,1))})("downloadExcel",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.downloadExcel(o))})("SaveReport",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onSaveReport(o))})("DeleteReport",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onDeleteReport(o))}),e.qZA()()()}if(2&n){const t=e.oxw(),r=e.MAs(4);e.Q6J("ngClass",e.VKq(5,cx,t.hideShow)),e.xp6(3),e.Q6J("ngClass",e.VKq(7,px,t.hideShow)),e.xp6(2),e.Q6J("ReportFilterSetting",t.reportObj)("UserReportList",t.userReportList)("newTemplate",r)}}function _x(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"report-grid",15,16),e.NdJ("onActionClick",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onActionClick(o))})("onCurrentPageChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onPageChange(o))})("columnSettingChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onColumnSettingChange(o))})("onContextMenu",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onContextMenuClick(o))}),e.qZA()()}if(2&n){const t=e.oxw(),r=e.MAs(12);e.xp6(1),e.Q6J("simpleTableConfig",t.genericSimpleTableConfig)("FooterTemplate",r)}}function hx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ul",38)(1,"li",39),e._uU(2),e.TgZ(3,"div",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.deleteReport(i.reportName))}),e._UZ(4,"span",41),e.qZA(),e.TgZ(5,"ul",42)(6,"li")(7,"a",43),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.deleteReport(i.reportName))}),e._uU(8,"Delete"),e.qZA()()()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.reportName," ")}}function ux(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",56),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.selectChangeHandler(o,i))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("checked",1==t.fieldValue||t.selected)("disabled",t.required)}}function gx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngModel",t.fieldValue)}}function mx(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,gx,3,1,"div",57),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.selected)}}function Sx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",58)(2,"div",62)(3,"dropdown-multiselect",63,64),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)})("onItemSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.onItemSelect(o,i))})("onItemDeSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.onItemSelect(o,i))}),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Q6J("data",t.fieldSelectionValues.fieldvalues)("ngModel",t.fieldValue)}}function fx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",70)(1,"ims-custom-form",71),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(3).$implicit,i=e.oxw(3);return e.KtG(i.onChange(o))}),e.qZA()()}if(2&n){const t=e.oxw(6);e.xp6(1),e.Q6J("service",t.masterService)}}function vx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",65)(1,"div",58)(2,"div",66)(3,"app-simple-suggest",67),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(5);return e.KtG(i.masterService.prodAttSearchObj.DEPARTMENT=o)})("selectOption",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.filters(o,i))}),e.qZA()(),e.TgZ(4,"div",68),e.YNc(5,fx,2,1,"div",69),e.qZA()()()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw(3);e.xp6(3),e.Q6J("options",t.fieldSelectionValues.fieldvalues)("labelKey","name")("valueKey","name")("ngModel",r.masterService.prodAttSearchObj.DEPARTMENT),e.xp6(2),e.Q6J("ngIf",(""!=r.masterService.prodAttSearchObj.DEPARTMENT||null!=r.masterService.prodAttSearchObj.DEPARTMENT||null!=r.masterService.prodAttSearchObj.DEPARTMENT)&&r.masterService.prodAttSearchObj.DEPARTMENT)}}function Ox(n,a){if(1&n&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function bx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"select",73),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldvalue=o)}),e.YNc(2,Ox,2,2,"option",74),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.fieldvalue),e.xp6(1),e.Q6J("ngForOf",t.fieldSelectionValues.fieldvalues)}}function Tx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"generic-daterange-picker",76,77),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw(3),o=e.MAs(14);e.xp6(2),e.Q6J("ngModel",t.fieldValue)("FiscalBeginDate",r.reportObj.fiscalBeginDate)("newTemplate",o)}}function Cx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"input",79),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",t.fieldValue)}}function Mx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"generic-multiselect",81),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.onMultiSelect(o,i))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",t.fieldSelectionValues.fieldvalues)}}function Ax(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"generic-multiselect",82),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.onMultiSelect(o,i))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",t.fieldSelectionValues.fieldvalues)("singleSelect",!0)}}const Px=function(n){return{width:n}};function Rx(n,a){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,ux,1,2,"input",48),e.TgZ(2,"label",49),e._uU(3),e.qZA(),e.YNc(4,mx,2,1,"div",50),e.YNc(5,Sx,5,2,"div",51),e.YNc(6,vx,6,5,"div",52),e.YNc(7,bx,3,2,"div",53),e.YNc(8,Tx,4,3,"div",50),e.YNc(9,Cx,2,1,"div",54),e.YNc(10,Mx,2,1,"div",55),e.YNc(11,Ax,2,2,"div",55),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw().showCheckbox;e.xp6(1),e.Q6J("ngIf","checkbox"==t.controlType||r),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,Px,"checkbox"==t.controlType?"60%":"12%")),e.xp6(1),e.Oqu(t.fieldName),e.xp6(1),e.Q6J("ngIf","text"==t.controlType),e.xp6(1),e.Q6J("ngIf","dropdownmultiselect"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","attributes"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","dropdown"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","daterange"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","date"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","multiselect"==t.controlType&&t.selected),e.xp6(1),e.Q6J("ngIf","singleselect"==t.controlType&&t.selected)}}function Ex(n,a){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Rx,12,13,"div",46),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",0==t.isFieldDisabled)}}function Dx(n,a){1&n&&e.YNc(0,Ex,2,1,"div",44),2&n&&e.Q6J("ngForOf",a.fields)}function Ix(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",83),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.excelExport())}),e._uU(2," Download "),e.qZA(),e.BQk()}}function Nx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",83),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().excelDownloading;return e.KtG(o())}),e._uU(1," Download "),e.qZA()}}const m3=function(n,a){return{"glyphicon-chevron-down":n,"glyphicon-chevron-up":a}},kx=function(n,a){return{fields:n,showCheckbox:a}},yx=function(n){return{fields:n,showCheckbox:!0}};function Fx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div")(3,"div",19)(4,"div")(5,"span",20),e._uU(6),e.qZA(),e._UZ(7,"br")(8,"br"),e.TgZ(9,"span")(10,"strong",21),e._uU(11,"Report Filter"),e.qZA()()(),e.YNc(12,hx,9,1,"ul",22),e.qZA(),e.TgZ(13,"accordion",23)(14,"accordion-group",24,25)(16,"div",26),e._uU(17," Required Fields "),e._UZ(18,"i",27),e.qZA(),e.TgZ(19,"div",28),e.GkF(20,29),e.qZA()(),e.TgZ(21,"accordion-group",30,31)(23,"div",26),e._uU(24," Optional Fields "),e._UZ(25,"i",27),e.qZA(),e.TgZ(26,"div",28),e.GkF(27,29),e.qZA()()()(),e.TgZ(28,"div",32),e.YNc(29,Dx,1,1,"ng-template",null,33,e.W1O),e.qZA(),e.TgZ(31,"div",34)(32,"button",35),e.NdJ("click",function(){const i=e.CHM(t).applyFiltering;return e.KtG(i())}),e._uU(33," Apply filter "),e.qZA(),e.YNc(34,Ix,3,0,"ng-container",36),e.YNc(35,Nx,2,0,"ng-template",null,37,e.W1O),e.qZA()()()}if(2&n){const t=a.UserReportList,r=a.selectedFields,o=a.requiredFields,i=e.MAs(15),s=e.MAs(22),p=e.MAs(30),d=e.MAs(36),_=e.oxw();e.xp6(6),e.Oqu(_.reportTitle),e.xp6(6),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("closeOthers",!1),e.xp6(1),e.Q6J("isOpen",!0),e.xp6(4),e.Q6J("ngClass",e.WLB(13,m3,null==i?null:i.isOpen,!i.isOpen)),e.xp6(2),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.WLB(16,kx,r,"checkbox"===r.controlType)),e.xp6(1),e.Q6J("isOpen",!1),e.xp6(4),e.Q6J("ngClass",e.WLB(19,m3,null==s?null:s.isOpen,!s.isOpen)),e.xp6(2),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(22,yx,o)),e.xp6(7),e.Q6J("ngIf",_.clientSideDownload())("ngIfElse",d)}}const jx=function(){return{"text-align":"center","white-space":"normal","background-color":"red"}};function Lx(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"th",85),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,jx)),e.uIk("colspan",t.colspan),e.xp6(1),e.hij(" ",t.groupHeader," ")}}function wx(n,a){1&n&&e.YNc(0,Lx,3,4,"ng-container",84),2&n&&e.Q6J("ngForOf",a.mergereportHeaders)}function xx(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",88,89),e.NdJ("keyup",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw().triggerMultiSearch;return e.KtG(s(o,i,!1))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",t.title)}}const S3=function(n){return{"text-align":n}};function Vx(n,a){if(1&n&&(e.TgZ(0,"th",87),e.YNc(1,xx,3,1,"div",50),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,S3,t.alignment)),e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function Wx(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Vx,2,4,"th",86),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function Zx(n,a){1&n&&e.YNc(0,Wx,2,1,"ng-container",84),2&n&&e.Q6J("ngForOf",a.columns)}function Hx(n,a){if(1&n&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",93),e.qZA()),2&n){const t=a.$implicit,r=e.oxw(3).$implicit;e.xp6(1),e.Q6J("itemObj",t)("item",r)}}function Ux(n,a){if(1&n&&(e.TgZ(0,"div")(1,"ul",92),e.YNc(2,Hx,2,2,"li",84),e.qZA()()),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",r[t.key])}}const zx=function(n,a,t){return{itemObj:n,item:a,fieldName:t}};function Bx(n,a){if(1&n&&e.GkF(0,29),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj,o=e.oxw();e.Q6J("ngTemplateOutlet",o.dataColumnTemplate)("ngTemplateOutletContext",e.kEZ(2,zx,r,t,t.key))}}function qx(n,a){if(1&n&&(e.TgZ(0,"td",85),e.YNc(1,Ux,3,1,"div",36),e.YNc(2,Bx,1,6,"ng-template",null,91,e.W1O),e.qZA()),2&n){const t=e.MAs(3),r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,S3,r.alignment)),e.xp6(1),e.Q6J("ngIf",r.isListField)("ngIfElse",t)}}function Yx(n,a){if(1&n&&(e.ynx(0),e.YNc(1,qx,4,5,"td",90),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function Jx(n,a){1&n&&e.YNc(0,Yx,2,1,"ng-container",84),2&n&&e.Q6J("ngForOf",a.columns)}function Gx(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw().TotalData;e.xp6(1),e.hij(" ",r[t.key]," ")}}const Qx=function(n){return{"text-align":n,padding:"0.35rem"}};function Kx(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"td",85),e.YNc(2,Gx,2,1,"div",50),e.qZA(),e.BQk()),2&n){const t=a.$implicit,r=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,Qx,t.alignment)),e.xp6(1),e.Q6J("ngIf",r)}}function $x(n,a){1&n&&e.YNc(0,Kx,3,4,"ng-container",84),2&n&&e.Q6J("ngForOf",a.columns)}function Xx(n,a){if(1&n&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t," ")}}function eV(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",102),e.qZA())}function tV(n,a){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"input",104),e.qZA())}function rV(n,a){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"input",105),e.qZA())}function iV(n,a){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"input",106),e.qZA())}const f3=function(){return{standalone:!0}};function oV(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",107),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeEntryDate(o.target.value,"AD","start"))}),e.qZA(),e.TgZ(2,"nepali-date-picker",108),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeEntryDate(o.detail.value,"BS","start"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.startNepaliDate=o)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.s9C("min",t.minDate),e.xp6(1),e.Q6J("id","nepaliDatefrom")("ngModelOptions",e.DdM(5,f3))("label","From")("ngModel",t.startNepaliDate)}}function nV(n,a){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t," ")}}function aV(n,a){if(1&n&&(e.TgZ(0,"div")(1,"select",109),e.YNc(2,nV,2,1,"option",84),e.qZA()()),2&n){const t=e.oxw(2).intheLastRangeOptions;e.xp6(2),e.Q6J("ngForOf",t)}}function sV(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",110),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.changeEntryDate(o.target.value,"AD","end"))}),e.qZA(),e.TgZ(2,"nepali-date-picker",111),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.changeEntryDate(o.detail.value,"BS","end"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.endNepaliDate=o)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("id","nepaliDateto")("ngModelOptions",e.DdM(4,f3))("label","To")("ngModel",t.endNepaliDate)}}function lV(n,a){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,aV,3,1,"div",50),e.YNc(2,sV,3,5,"div",50),e.qZA()),2&n){const t=e.oxw().selectedRange;e.xp6(1),e.Q6J("ngIf","in the last"==t),e.xp6(1),e.Q6J("ngIf","between"==t)}}function cV(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div"),e.TgZ(2,"form",94)(3,"div",58)(4,"div",95)(5,"select",96),e.YNc(6,Xx,2,2,"option",97),e.qZA()(),e.TgZ(7,"div",98),e.YNc(8,eV,2,0,"div",50),e.YNc(9,tV,2,0,"div",99),e.YNc(10,rV,2,0,"div",99),e.YNc(11,iV,2,0,"div",99),e.YNc(12,oV,3,6,"div",50),e.qZA(),e.YNc(13,lV,3,2,"div",100),e.qZA()()()),2&n){const t=a.myForm,r=a.rangelist,o=a.selectedRange;e.xp6(2),e.Q6J("formGroup",t),e.xp6(4),e.Q6J("ngForOf",r),e.xp6(2),e.Q6J("ngIf","in the last"==o),e.xp6(1),e.Q6J("ngIf","on"==o),e.xp6(1),e.Q6J("ngIf","before"==o),e.xp6(1),e.Q6J("ngIf","after"==o),e.xp6(1),e.Q6J("ngIf","between"==o),e.xp6(1),e.Q6J("ngIf","in the last"==o||"between"==o)}}let v3=(()=>{class n{constructor(t,r,o,i,s,p){this.reportService=t,this.alertService=r,this.spinnerService=o,this.masterService=i,this.activatedRoute=s,this.router=p,this.hideShow=!0,this.reportObj=new Er,this.filterReport=new Er,this.currentReportParam=new o3,this.simpleTableSettings=new Ir,this.genericSimpleTableConfig=new Nr,this.reportName="",this.reportUser="",this.reportType="",this.currentPage=1,this.reportTitle="",this.reportList=[],this.totalList=[],this.totalPage=1,this.pageSize=20,this.dropdownSettings={},this.userReportList=[],this.isFirstLoadReport=!1,this.showFilter=!1,this.showTable=!1,this.showGrid=!1,this.title="ReportFilterWorkspace",this.showFilterTab=!0,this.filter="Hide Filter",this.reportService.apiUrl=ae.N.apiUrl.substring(0,ae.N.apiUrl.lastIndexOf("/"));var d=this.masterService.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.minDate=d}handleKeyDownEvent(t){"F10"==t.code&&(t.preventDefault(),this.hideShow=!this.hideShow)}ngOnInit(){this.dropdownSettings={itemsShowLimit:0,singleSelection:!1,allowSearchFilter:!1,selectAllText:"Select All",unSelectAllText:"UnSelect All"};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this.assignReportParam(),this.routerSubscription=this.router.events.subscribe(r=>{r instanceof m.m2&&r.url.includes("report-master")&&this.assignReportParam()})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}assignReportParam(){this.onLoadReportParam(this.activatedRoute.snapshot.params.name,this.activatedRoute.snapshot.params.type,"a")}onLoadReport(){this.onLoadReportParam(this.reportName,this.reportType,this.reportUser)}applyFilter(t,r=0){var o=this;return(0,ve.Z)(function*(){o.isFirstLoadReport=!1,1==r&&(o.currentPage=1,o.pageSize=20,o.isFirstLoadReport=!0),o.spinnerService.show("Report Loading please wait.....");try{o.showGrid=!0,o.reportObj.currentPage=o.currentPage,o.reportObj.recordsPerPage=o.pageSize,o.reportObj.fieldgroup[0].filterFields.forEach(p=>{"attributes"==p.controlType&&p.selected&&""==p.fieldValue&&(p.fieldValue="%")});var i=yield o.reportService.getDynamicReport(o.reportObj);if(0==i?.result?.length)return o.showGrid=!1,o.alertService.info("Data not found with the given filters!"),void o.spinnerService.hide();o.reportList=i.result,o.totalList=o.convertPropery(i.result2),console.log({evetdata:t,reportData:i}),o.reportObj.totalItems=i.totalRecord,0==o.reportObj.totalItems&&(o.reportObj.totalItems=o.reportList.length),o.totalPage=Math.abs(o.reportObj.totalItems/o.pageSize)+(o.reportObj.totalItems%o.pageSize>0?1:0),o.simpleTableListConfig(),o.hideShow=!1,o.spinnerService.hide()}catch(s){o.spinnerService.hide(),console.log("log error",s),o.alertService.error(s.error.message)}})()}applyDrillFilter(t,r=0){var o=this;return(0,ve.Z)(function*(){1==r&&(o.currentPage=1,o.pageSize=20),o.spinnerService.show("Report Loading please wait.....");try{t.currentPage=o.currentPage,t.recordsPerPage=o.pageSize;var i=yield o.reportService.getDynamicReport(t),s=i.result,p=o.convertPropery(i.result2);t.totalItems=i.totalRecord,0==t.totalItems&&(t.totalItems=s.length),o.totalPage=Math.abs(t.totalItems/o.pageSize)+(t.totalItems%o.pageSize>0?1:0),o.simpleTableListConfigDrill(t,s,p),o.spinnerService.hide()}catch{o.spinnerService.hide(),o.showGrid=!1,o.alertService.error("Error in loading report")}})()}onDeleteReport(t){var r=this;return(0,ve.Z)(function*(){console.log({dialogEvent:t,newsetting:r.reportFilterSetting})})()}convertPropery(t){try{var o;return Object.keys(t).forEach(i=>{let s=i.substring(3,i.length);o[s]=t[i]}),o}catch{return t}}getdrillReportForDesign(t,r){this.reportService.getReportParam(t.reportName,t.reportType,this.reportObj.reportUser).subscribe(o=>{if(null!=o.result){var i=o.result;this.setDrillValues(i,t,r),this.applyDrillFilter(i,1),this.reportObj=i,this.refresh()}},o=>{this.alertService.error("error loading data")})}setDrillValues(t,r,o){r.fields.forEach(i=>{"fromfilter"==i.drilldownFieldFrom?this.reportObj.fieldgroup.forEach(s=>s.filterFields.forEach(p=>{p.fieldName==i.drilldownFieldId&&(i.fieldValue=p.fieldValue)})):"fromgrid"==i.drilldownFieldFrom&&(i.fieldValue=o[i.drilldownFieldId])}),t.fieldgroup.forEach(i=>{i.filterFields.forEach(s=>{s.fieldValue=r.fields.find(p=>p.fieldName==s.fieldName)?.fieldValue||""})})}onLoadReportParam(t,r,o){this.spinnerService.show("Loading report, please wait...."),this.reportService.getReportParam(t,r,o).subscribe(s=>{if(s.result){this.spinnerService.hide(),s.result.fieldgroup[0].filterFields.find(d=>"daterange"===d.controlType)&&(s.result.fieldgroup[0].filterFields.find(d=>"daterange"===d.controlType).fieldValue=`${this.minDate},${this.currDate}`),this.hideShow=!0,this.showFilter=!0,this.reportObj=s.result,this.reportTitle=s.result.reportName;let p=this.reportObj.fieldgroup[0].filterFields.find(d=>"daterange"===d.controlType)?.fieldValue.split(",");p&&p[0]&&this.changeEntryDate(p[0],"AD","start"),p&&p[1]&&this.changeEntryDate(p[1],"AD","end"),this.refresh()}},s=>{throw this.spinnerService.hide(),this.refresh(),s})}refresh(){this.reportFilterComponent?.ReportFilterSetting&&(this.reportFilterComponent.ReportFilterSetting=this.reportObj),this.reportFilterComponent?.seperateSelectedFields?.()}onSaveReport(t){var r=this;return(0,ve.Z)(function*(){r.reportFilterSetting.reportName=t.description})()}downloadExcel(t){var r=this;return(0,ve.Z)(function*(){r.currentReportParam=t,r.spinnerService.show("Report Downloading please wait..."),r.reportService.downloadExcelReport(r.reportObj).subscribe(o=>{o.headers.get("content-disposition");const s=t.reportName+".xlsx",d=window.URL.createObjectURL(o.body),_=document.createElement("a");_.download=s,_.href=d,_.click()},o=>{r.spinnerService.hide(),r.alertService.error("Download Error!"),console.log({error:"error downloading file",log:o})},()=>{r.spinnerService.hide(),r.alertService.success("Download Complete")})})()}simpleTableListConfig(){this.simpleTableSettings={title:this.reportTitle,apiEndpoints:"/V2/getProductList",DataSource:this.reportObj.dataSourceType,defaultColumns:[],contextMenus:this.getContextMenu(this.reportObj),LocalData:this.reportList,TotalData:this.totalList,defaultFilterIndex:0,currentPageNo:this.currentPage,pageSize:this.pageSize,totalItems:this.reportObj.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:He.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}simpleTableListConfigDrill(t,r,o){var i=t.dataSourceType;this.isFirstLoadReport=!0,this.simpleTableSettings={title:this.reportTitle,apiEndpoints:"/V2/getProductList",DataSource:i,defaultColumns:[],contextMenus:this.getContextMenu(t),LocalData:r,TotalData:o,defaultFilterIndex:0,currentPageNo:t.currentPage,pageSize:this.pageSize,totalItems:t.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:He.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}onActionClick(t){}onPageChange(t){var r=this;return(0,ve.Z)(function*(){r.currentPage=t.currentPage;var o=0,i="";null!=t.sortKey&&null!=t.sortOrder&&(r.reportObj.reportSort=`${t.sortKey} ${t.sortOrder}`,o=t.index,i=t.sortOrder),"getData"!=t.triggerFrom&&(r.pageSize=t.pageSize,yield r.applyFilter("")),null!=t.sortKey&&null!=t.sortOrder&&setTimeout(()=>{t.changeSortOrder(i,o)},0)})()}getContextMenu(t){return t.drilldownmenus}onColumnSettingChange(t){var r=t.filter(i=>1==i.dirty),o={reportName:this.reportObj.reportName,reportType:this.reportObj.reportType,reportUser:this.reportObj.reportUser,columns:r=t};this.genericSimpleTableConfig.simpleTablesettings.columns=r,this.simpleTable.refresh(this.isFirstLoadReport),console.log({columnSaveObject:o}),this.reportService.saveColumnSetting("",o).subscribe(i=>{console.log(i)},i=>{throw console.log(i),i})}onContextMenuClick(t){this.getdrillReportForDesign(t.menuName,t.item)}excelExport(){let t=this.reportObj.fieldgroup[0].filterFields.find(p=>"daterange"===p.controlType).fieldValue.split(","),r=this.reportObj.fieldgroup[0].filterFields.find(p=>"PHISCALID"===p.fieldId).fieldValue,o=t[0]!=t[1]?`${t[0]} to ${t[1]}`:`${t[0]}`,i={},s=(0,At.cloneDeep)(this.genericSimpleTableConfig.simpleTablesettings.LocalData);Object.keys(s[0]).forEach(p=>{i[p]=p}),s.splice(0,0,{MENUCODE:`${this.genericSimpleTableConfig.simpleTablesettings.title}`},{MENUCODE:`CompanyName: ${this.masterService.userProfile.CompanyInfo.NAME}, VATNO: ${this.masterService.userProfile.CompanyInfo.VAT}, Address: ${this.masterService.userProfile.CompanyInfo.ADDRESS}`},{},{},{},{MENUCODE:`As On Dated: ${o},  Fiscal Year: ${r}`},{},i),v.e(4841).then(v.bind(v,64841)).then(p=>{const d=p.utils.json_to_sheet(s,{skipHeader:!0});d["!rows"]=[{hpx:30},{hpx:30}],d["!merges"]=[{s:{r:0,c:0},e:{r:0,c:24}},{s:{r:1,c:0},e:{r:3,c:24}},{s:{r:5,c:0},e:{r:5,c:24}}];const h=p.write({Sheets:{data:d},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(h,this.genericSimpleTableConfig.simpleTablesettings.title)})}saveAsExcelFile(t,r){const s=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),p=URL.createObjectURL(s),d=document.createElement("a");d.href=p,d.download=r+(new Date).getTime()+".xlsx",d.click()}clientSideDownload(){return!!this.activatedRoute.snapshot.params.name.toUpperCase().includes("PORDER".toUpperCase())}filters(t,r){let o={};o.Department=this.masterService.prodAttSearchObj.DEPARTMENT,o.CustomValues=[],r.fieldValue=JSON.stringify(o),r.fieldType="json",this.getCustomField("",t.name)}getCustomField(t,r){return this.masterService.getCustomFields(t,r).subscribe(o=>{var i=[];o.result.forEach(s=>{i.push((new Bt.o4).deserialize(s))}),this.customForm.setForm(i)})}onChange(t){this.masterService.CustomValues=this.customForm?.getValues("1");let r={};r.Department=this.masterService.prodAttSearchObj.DEPARTMENT,r.CustomValues=(0,At.cloneDeep)(this.masterService.CustomValues.filter(o=>o.Value&&(""!==o.Value||void 0!==o.Value))),t.fieldValue=JSON.stringify(r),t.fieldType="json"}onMultiSelect(t,r){r.fieldValue=t.id}selectChangeHandler(t,r){"checkbox"===r.controlType&&(r.fieldValue=t.target.checked?1:0),r.selected=!!t.target.checked}changeEntryDate(t,r,o){if(v(10484),"AD"==r){let p=this.masterService.toBSDate(t);"start"==o?this.startNepaliDate=p:this.endNepaliDate=p}else if("BS"==r){var s=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(s))return void this.alertService.error("Date Exceed to Current Fiscal Year !");{const d=this.masterService.toADDate(t);"start"==o?this.genericDatePicker.myForm.get("startbetween").setValue(d):this.genericDatePicker.myForm.get("endbetween").setValue(d)}}}isChecked(t){return"1"==t.fieldValue}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ao),e.Y36(I.c),e.Y36(uo.V),e.Y36(b.P),e.Y36(m.gz),e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-master"]],viewQuery:function(t,r){if(1&t&&(e.Gf(nx,5),e.Gf(ax,5),e.Gf(Bt.q0,5),e.Gf(sx,5),e.Gf(lx,5,no)),2&t){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.genericDatePicker=o.first),e.iGM(o=e.CRH())&&(r.customForm=o.first),e.iGM(o=e.CRH())&&(r.reportFilterComponent=o.first),e.iGM(o=e.CRH())&&(r.simpleTable=o.first)}},hostBindings:function(t,r){1&t&&e.NdJ("keydown",function(i){return r.handleKeyDownEvent(i)},!1,e.evT)},features:[e._Bn([])],decls:15,vars:2,consts:[["class","toggable-sidebar",3,"ngClass",4,"ngIf"],[1,"report-container"],["class","col-lg-12","style","height: 100%",4,"ngIf"],["newTemplate",""],["mergeHeaderTemplate",""],["SearchHeaderTemplate",""],["TableDataTemplate",""],["FooterTemplate",""],["datePicker",""],[1,"toggable-sidebar",3,"ngClass"],[1,"btn","btn-info","btn-toggler",3,"click"],[1,"fa","fa-angle-double-left",3,"ngClass"],[3,"ReportFilterSetting","UserReportList","newTemplate","ClickFilter","downloadExcel","SaveReport","DeleteReport"],["reportFilter",""],[1,"col-lg-12",2,"height","100%"],[3,"simpleTableConfig","FooterTemplate","onActionClick","onCurrentPageChange","columnSettingChange","onContextMenu"],["genericSimpleTable",""],["id","filterindex",1,"row",2,"background","#ffffff","transition","0.5s","border","2px solid #ddd","border-radius","10px","width","100%","overflow-y","auto","overflow-x","hidden","height","540px"],[1,"row",2,"padding","1% 1% 0 1%","display","flex","width","100%","flex-direction","column","margin-bottom","15px","justify-content","space-between"],[1,"mb-3",2,"display","flex","align-items","center","justify-content","space-between"],[2,"font-size","15px","font-weight","600"],[2,"border-bottom","1px solid #ddd","font-size","14px"],["style","\n            list-style: none;\n            padding-left: 5px;\n            padding-top: 10px;\n            padding-bottom: 10px;\n            padding-left: 15px;\n            background-color: #f0f3f4;\n            border-left: 3px solid #393434;\n            margin-left: 2px;\n          ",4,"ngFor","ngForOf"],[3,"closeOthers"],[3,"isOpen"],["group1",""],["accordion-heading","",2,"width","100%","font-size","12px","font-weight","500"],[1,"pull-right","float-xs-right","glyphicon",3,"ngClass"],[2,"padding-top","0px","padding-bottom","6px","padding-left","15px"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"margin-top","5px",3,"isOpen"],["group2",""],[1,"panel-wrapper"],["fieldList",""],[1,"button-wrapper"],[1,"btn","btn-info",2,"margin-top","2%","margin-left","2px","margin-right","2px",3,"click"],[4,"ngIf","ngIfElse"],["serverSideDownload",""],[2,"list-style","none","padding-left","5px","padding-top","10px","padding-bottom","10px","padding-left","15px","background-color","#f0f3f4","border-left","3px solid #393434","margin-left","2px"],[2,"display","flex","align-items","center","position","relative"],[1,"dotted-menu",2,"margin-left","auto","cursor","pointer","margin-top","-3px",3,"click"],[1,"dot"],[1,"reportPopup"],["href","#",3,"click"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],["style","display: flex;\n            align-items: center;",4,"ngIf"],[2,"display","flex","align-items","center"],["type","checkbox","style","width: 15px;\n                  height: 15px;\n                  background: #6599FF;",3,"checked","disabled","change",4,"ngIf"],[2,"margin-top","6px","margin-left","10px",3,"ngStyle"],[4,"ngIf"],["style","margin-left: 4%",4,"ngIf"],["style","width: 100%",4,"ngIf"],["style","display: flex; align-items: center; width: 27%",4,"ngIf"],["style","margin-top: 2%",4,"ngIf"],["style","width: 26%",4,"ngIf"],["type","checkbox",2,"width","15px","height","15px","background","#6599FF",3,"checked","disabled","change"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-10"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm",1,"",3,"ngModel","ngModelChange"],[2,"margin-left","4%"],[1,"col-md-10",2,"width","500px"],[3,"data","ngModel","ngModelChange","onItemSelect","onItemDeSelect"],["dropdown","ngModel"],[2,"width","100%"],[1,"col-md-4",2,"display","flex","align-items","center"],["id","department",2,"width","100%",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[1,"col-md-8",2,"width","500px"],["class","form-group",4,"ngIf"],[1,"form-group"],["id","customForm",3,"service","change"],[2,"display","flex","align-items","center","width","27%"],[2,"width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModel","FiscalBeginDate","newTemplate","ngModelChange"],["genericDatePicker",""],[2,"margin-top","2%"],["type","date",1,"form-control",2,"margin-top","1%","width","90%","margin-bottom","3%",3,"ngModel","ngModelChange"],[2,"width","26%"],["fieldName","name","fieldId","value",3,"dataSource","onSelect"],["fieldName","name","fieldId","value",3,"dataSource","singleSelect","onSelect"],[1,"btn","btn-info",2,"margin-top","2%",3,"click"],[4,"ngFor","ngForOf"],[3,"ngStyle"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","10px 0px 10px 3px","background-color","aqua",3,"placeholder","keyup"],["inputBox",""],[3,"ngStyle",4,"ngIf"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item"],[3,"formGroup"],[1,"col-md-3","pd0"],["formControlName","selectedrange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-4"],["class","ml-4",4,"ngIf"],["class","col-md-4",4,"ngIf"],[3,"ngValue"],["type","text","formControlName","inthelastno"],[1,"ml-4"],["type","date","formControlName","on"],["type","date","formControlName","before"],["type","date","formControlName","after"],["type","date","formControlName","startbetween",3,"min","change"],["name","nepaliDateFrom",1,"dateFormat",3,"id","ngModelOptions","label","ngModel","change","ngModelChange"],["formControlName","inthelastrange"],["type","date","formControlName","endbetween",3,"change"],["name","nepaliDateto",1,"dateFormat",3,"id","ngModelOptions","label","ngModel","change","ngModelChange"]],template:function(t,r){1&t&&(e.YNc(0,dx,7,9,"div",0),e.TgZ(1,"div",1),e.YNc(2,_x,3,2,"div",2),e.qZA(),e.YNc(3,Fx,37,24,"ng-template",null,3,e.W1O),e.YNc(5,wx,1,1,"ng-template",null,4,e.W1O),e.YNc(7,Zx,1,1,"ng-template",null,5,e.W1O),e.YNc(9,Jx,1,1,"ng-template",null,6,e.W1O),e.YNc(11,$x,1,1,"ng-template",null,7,e.W1O),e.YNc(13,cV,14,8,"ng-template",null,8,e.W1O)),2&t&&(e.Q6J("ngIf",r.reportObj&&r.showFilter),e.xp6(2),e.Q6J("ngIf",r.showGrid))},dependencies:[u.mk,u.sg,u.O5,u.tP,u.PC,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,D.v,rt.c,no,oo,d3,c3,a3,s3,Bt.q0],styles:[".m0[_ngcontent-%COMP%]{margin:0}.flex[_ngcontent-%COMP%]{display:flex}.center[_ngcontent-%COMP%]{align-items:center}.report-container[_ngcontent-%COMP%]{overflow-x:hidden;height:86vh;overflow-y:auto}.rotate[_ngcontent-%COMP%]{transform:rotate(180deg);transition:.3s ease;display:inline-block;margin-top:-3px;margin-right:10px}.noRotate[_ngcontent-%COMP%]{transform:rotate(360deg);transition:.3s ease;display:inline-block;margin-right:10px}.toggable-sidebar[_ngcontent-%COMP%]{position:fixed;left:-50%;transition:.3s;width:260px;text-decoration:none;font-size:11px;border-radius:0 5px 5px 0;color:#000;height:100%;width:50%;margin:0;z-index:99}@media (max-width: 1191px){.toggable-sidebar[_ngcontent-%COMP%]{left:-20%}}.mySidenav-show[_ngcontent-%COMP%]{left:0}.btn-toggler[_ngcontent-%COMP%]{position:absolute;right:-45px;top:-3px;background:#81DAAC!important;border-color:#81daac!important;padding:5px!important;font-size:10px!important;width:45px!important}.toggler-btn-icon-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}  .ims-custom-select{width:160px;padding:0 .75rem;font-size:12px;height:23px}.dateFormat[_ngcontent-%COMP%]{width:94%;margin-top:2%;display:inherit}  .custom-form-control{padding:5px!important}  .fa-calendar{right:7px!important}"]}),n})();const pV=["childModal"],dV=["addProjection"],_V=["addSystemFields"],hV=["addOptionalFields"],uV=["reportFilter"],gV=["genericSimpleTable"],mV=function(n,a){return{rfield:n,idx:a}};function SV(n,a){if(1&n&&e.GkF(0,82),2&n){const t=a.$implicit,r=a.index;e.oxw();const o=e.MAs(99);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(2,mV,t,r))}}const fV=function(n,a,t){return{fld:n,i:a,operatorList:t}};function vV(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.GkF(1,70),e.TgZ(2,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onDeleteProjection(o.reportObj.projectionfieldFormats,1))}),e._uU(3," Delete Projection "),e.qZA(),e.BQk()}if(2&n){const t=a.$implicit,r=a.index,o=e.oxw(),i=e.MAs(103);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.kEZ(2,fV,t,r,o.operatorsList))}}const OV=function(n,a){return{menu:n,idx:a}};function bV(n,a){if(1&n&&(e.ynx(0),e.GkF(1,70),e.BQk()),2&n){const t=a.$implicit,r=a.index;e.oxw();const o=e.MAs(101);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(2,OV,t,r))}}function TV(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",83)(1,"div",15)(2,"label",84),e._uU(3,"Field Name"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldName=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Field Id"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldId=o)}),e.qZA()(),e.TgZ(9,"div",15)(10,"label",84),e._uU(11,"Second Field Id"),e.qZA(),e.TgZ(12,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldIdSecond=o)}),e.qZA()(),e.TgZ(13,"div",15)(14,"label",84),e._uU(15,"Control Type"),e.qZA(),e.TgZ(16,"select",86),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.controlType=o)}),e.TgZ(17,"option",87),e._uU(18,"text"),e.qZA(),e.TgZ(19,"option",88),e._uU(20,"multiselect"),e.qZA(),e.TgZ(21,"option",89),e._uU(22,"singleselect"),e.qZA(),e.TgZ(23,"option",90),e._uU(24,"daterange"),e.qZA(),e.TgZ(25,"option",91),e._uU(26,"dropdownmultiselect"),e.qZA(),e.TgZ(27,"option",92),e._uU(28,"dropdown"),e.qZA(),e.TgZ(29,"option",93),e._uU(30,"checkbox"),e.qZA(),e.TgZ(31,"option",94),e._uU(32,"attributes"),e.qZA()()(),e.TgZ(33,"div",15)(34,"label",84),e._uU(35,"Field Type"),e.qZA(),e.TgZ(36,"select",86),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldType=o)}),e.TgZ(37,"option",95),e._uU(38,"string"),e.qZA(),e.TgZ(39,"option",96),e._uU(40,"number"),e.qZA(),e.TgZ(41,"option",97),e._uU(42,"date"),e.qZA(),e.TgZ(43,"option",98),e._uU(44,"boolean"),e.qZA()()(),e.TgZ(45,"div",99)(46,"input",100),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.isFieldDisabled=o)}),e.qZA(),e.TgZ(47,"label",84),e._uU(48,"IsFieldDisabled"),e.qZA()(),e.TgZ(49,"div",15)(50,"label",101),e._uU(51,"Operators"),e.qZA(),e.TgZ(52,"ng-multiselect-dropdown",102),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.operators=o)}),e.qZA()(),e._UZ(53,"br"),e.TgZ(54,"h5"),e._uU(55,"Selection Criteria"),e.qZA(),e.TgZ(56,"div",15)(57,"label",84),e._uU(58,"Selection Type"),e.qZA(),e.TgZ(59,"select",86),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldtype=o)}),e.TgZ(60,"option",103),e._uU(61,"static"),e.qZA(),e.TgZ(62,"option",104),e._uU(63,"dynamic"),e.qZA()()(),e.TgZ(64,"div",15)(65,"label",84),e._uU(66,"FieldValues"),e.qZA(),e.TgZ(67,"field-values",105),e.NdJ("fieldValuesChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldvalues=o)}),e.qZA()(),e.TgZ(68,"div",15)(69,"label",106),e._uU(70,"Value"),e.qZA(),e.TgZ(71,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldvalue=o)}),e.qZA()(),e.TgZ(72,"div",15)(73,"label",84),e._uU(74,"Value Type"),e.qZA(),e.TgZ(75,"select",86),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldvaluetype=o)}),e.TgZ(76,"option",95),e._uU(77,"string"),e.qZA(),e.TgZ(78,"option",96),e._uU(79,"number"),e.qZA(),e.TgZ(80,"option",97),e._uU(81,"date"),e.qZA()()(),e.TgZ(82,"div",15)(83,"label",84),e._uU(84,"DataSource Type:"),e.qZA(),e.TgZ(85,"select",86),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.dataSourceType=o)}),e.TgZ(86,"option",29),e._uU(87,"Local DataSource"),e.qZA(),e.TgZ(88,"option",30),e._uU(89,"Server DataSource"),e.qZA(),e.TgZ(90,"option",31),e._uU(91,"External DataSource"),e.qZA()()(),e.TgZ(92,"div",15)(93,"label",84),e._uU(94,"API URL:"),e.qZA(),e.TgZ(95,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.apiURL=o)}),e.qZA()(),e.TgZ(96,"div",15)(97,"label",84),e._uU(98,"Search URL:"),e.qZA(),e.TgZ(99,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.searchURL=o)}),e.qZA()(),e.TgZ(100,"div",99)(101,"input",100),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.isDbSql=o)}),e.qZA(),e.TgZ(102,"label",84),e._uU(103,"Is Query from Db"),e.qZA(),e._UZ(104,"br"),e.qZA(),e.TgZ(105,"div",15)(106,"label",84),e._uU(107,"Query string "),e.qZA(),e.TgZ(108,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.query=o)}),e.qZA()(),e.TgZ(109,"div",15)(110,"label",84),e._uU(111,"Query api url "),e.qZA(),e.TgZ(112,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldqueryurl=o)}),e.qZA()(),e.TgZ(113,"div",15)(114,"label",84),e._uU(115,"Field value "),e.qZA(),e.TgZ(116,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldValue=o)}),e.qZA()(),e.TgZ(117,"button",12),e.NdJ("click",function(){const o=e.CHM(t),i=o.rfield,s=o.idx,p=e.oxw();return e.KtG(p.deleteSystemField(i,s))}),e._uU(118,"Delete"),e.qZA()()}if(2&n){const t=a.rfield,r=a.idx,o=e.oxw();e.xp6(2),e.MGl("for","fieldName_",r,""),e.xp6(2),e.MGl("id","fieldName_",r,""),e.Q6J("ngModel",t.fieldName),e.xp6(2),e.MGl("for","fieldId_",r,""),e.xp6(2),e.MGl("id","fieldId_",r,""),e.Q6J("ngModel",t.fieldId),e.xp6(2),e.MGl("for","fieldIdSecond_",r,""),e.xp6(2),e.MGl("id","fieldIdSecond_",r,""),e.Q6J("ngModel",t.fieldIdSecond),e.xp6(2),e.MGl("for","controlType_",r,""),e.xp6(2),e.MGl("id","controlType_",r,""),e.Q6J("ngModel",t.controlType),e.xp6(18),e.MGl("for","fieldType_",r,""),e.xp6(2),e.MGl("id","fieldType_",r,""),e.Q6J("ngModel",t.fieldType),e.xp6(10),e.MGl("id","isFieldDisabled_",r,""),e.Q6J("ngModel",t.isFieldDisabled),e.xp6(1),e.MGl("for","isFieldDisabled_",r,""),e.xp6(5),e.MGl("id","operators_",r,""),e.Q6J("data",o.operatorsList)("ngModel",t.operators)("settings",o.dropdownSettings),e.xp6(5),e.MGl("for","fieldtype_",r,""),e.xp6(2),e.MGl("id","fieldtype_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldtype),e.xp6(6),e.MGl("for","fieldvalues_",r,""),e.xp6(2),e.MGl("id","fieldValues_",r,""),e.Q6J("fieldValues",t.fieldSelectionValues.fieldvalues),e.xp6(4),e.MGl("id","fieldvalues_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvalue),e.xp6(2),e.MGl("for","fieldvaluetype_",r,""),e.xp6(2),e.MGl("id","fieldvaluetype_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvaluetype),e.xp6(8),e.MGl("for","datasourceType_",r,""),e.xp6(2),e.MGl("id","dataSourceType_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.dataSourceType),e.xp6(8),e.MGl("for","apiurl_",r,""),e.xp6(2),e.MGl("id","apiUrl_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.apiURL),e.xp6(2),e.MGl("for","searchurl_",r,""),e.xp6(2),e.MGl("id","searchUrl_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.searchURL),e.xp6(2),e.MGl("id","isDbSql_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.isDbSql),e.xp6(1),e.MGl("for","isDbSql_",r,""),e.xp6(4),e.MGl("for","sQuery_",r,""),e.xp6(2),e.MGl("id","sQuery_",r,""),e.Q6J("ngModel",t.fieldSelectionValues.query),e.xp6(2),e.MGl("for","queryUrl",r,""),e.xp6(2),e.MGl("id","queryUrl",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldqueryurl),e.xp6(2),e.MGl("for","fieldvalue",r,""),e.xp6(2),e.MGl("id","fieldvalue",r,""),e.Q6J("ngModel",t.fieldValue)}}function CV(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",107)(1,"div",15)(2,"label",84),e._uU(3,"Menu Name"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).menu;return e.KtG(s.name=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Drill To Report Name"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).menu;return e.KtG(s.reportName=o)}),e.qZA()(),e.TgZ(9,"div",15)(10,"label",84),e._uU(11,"Drill To Report Type"),e.qZA(),e.TgZ(12,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).menu;return e.KtG(s.reportType=o)}),e.qZA()(),e.TgZ(13,"div")(14,"label",84),e._uU(15,"Report Parameters"),e.qZA(),e._UZ(16,"drill-menu",108),e.qZA(),e.TgZ(17,"div")(18,"button",12),e.NdJ("click",function(){const i=e.CHM(t).menu,s=e.oxw();return e.KtG(s.addDrilldownfield(i))}),e._uU(19,"Add"),e.qZA()(),e.TgZ(20,"button",12),e.NdJ("click",function(){const i=e.CHM(t).menu,s=e.oxw();return e.KtG(s.deleteDrilldownMenu(i))}),e._uU(21,"Delete menu"),e.qZA()()}if(2&n){const t=a.menu,r=a.idx;e.xp6(2),e.MGl("for","menuname",r,""),e.xp6(2),e.MGl("id","menuname",r,""),e.Q6J("ngModel",t.name),e.xp6(2),e.MGl("for","reportName",r,""),e.xp6(2),e.MGl("id","reportName",r,""),e.Q6J("ngModel",t.reportName),e.xp6(2),e.MGl("for","reportType",r,""),e.xp6(2),e.MGl("id","reportType",r,""),e.Q6J("ngModel",t.reportType),e.xp6(2),e.MGl("for","reportdrii",r,""),e.xp6(2),e.Q6J("drilldownmenu",t)}}function MV(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",109)(1,"div",15)(2,"label",84),e._uU(3,"Key"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.key=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.title=o)}),e.qZA()(),e.TgZ(9,"div",110)(10,"input",100),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.hidden=o)}),e.qZA(),e.TgZ(11,"label",111),e._uU(12,"hidden"),e.qZA()(),e.TgZ(13,"div",110)(14,"input",100),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.noSearch=o)}),e.qZA(),e.TgZ(15,"label",111),e._uU(16,"No Search"),e.qZA()(),e.TgZ(17,"div",15)(18,"label",84),e._uU(19,"Width"),e.qZA(),e.TgZ(20,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.width=o)}),e.qZA()(),e.TgZ(21,"div",15)(22,"label",84),e._uU(23,"Style"),e.qZA(),e.TgZ(24,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.style=o)}),e.qZA()(),e.TgZ(25,"div",15)(26,"label",84),e._uU(27,"Alignment"),e.qZA(),e.TgZ(28,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.alignment=o)}),e.qZA()(),e.TgZ(29,"div",15)(30,"input",100),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.isListField=o)}),e.qZA(),e.TgZ(31,"label",111),e._uU(32,"is ListField"),e.qZA()(),e.TgZ(33,"div",15)(34,"label",84),e._uU(35,"List FieldName"),e.qZA(),e.TgZ(36,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.listFieldName=o)}),e.qZA()(),e.TgZ(37,"div",15)(38,"label",84),e._uU(39,"Format Type:"),e.qZA(),e.TgZ(40,"select",112),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).fld;return e.KtG(s.formatType=o)}),e.TgZ(41,"option",29),e._uU(42,"Text"),e.qZA(),e.TgZ(43,"option",30),e._uU(44,"Number"),e.qZA(),e.TgZ(45,"option",31),e._uU(46,"Rounding Two Digit"),e.qZA(),e.TgZ(47,"option",113),e._uU(48,"Editable"),e.qZA()()()()}if(2&n){const t=a.fld,r=a.i;e.xp6(2),e.MGl("for","key_",r,""),e.xp6(2),e.MGl("id","Key_",r,""),e.Q6J("ngModel",t.key),e.xp6(2),e.MGl("for","title_",r,""),e.xp6(2),e.MGl("id","title_",r,""),e.Q6J("ngModel",t.title),e.xp6(2),e.MGl("id","hidden_",r,""),e.Q6J("ngModel",t.hidden),e.xp6(1),e.MGl("for","hidden_",r,""),e.xp6(3),e.MGl("id","noSearch_",r,""),e.Q6J("ngModel",t.noSearch),e.xp6(1),e.MGl("for","noSearch_",r,""),e.xp6(3),e.MGl("for","width_",r,""),e.xp6(2),e.MGl("id","width_",r,""),e.Q6J("ngModel",t.width),e.xp6(2),e.MGl("for","style_",r,""),e.xp6(2),e.MGl("id","style_",r,""),e.Q6J("ngModel",t.style),e.xp6(2),e.MGl("for","alignment_",r,""),e.xp6(2),e.MGl("id","alignment_",r,""),e.Q6J("ngModel",t.alignment),e.xp6(2),e.MGl("id","isListField_",r,""),e.Q6J("ngModel",t.isListField),e.xp6(1),e.MGl("for","isListField_",r,""),e.xp6(3),e.MGl("for","listFieldName_",r,""),e.xp6(2),e.MGl("id","listFieldName_",r,""),e.Q6J("ngModel",t.listFieldName),e.xp6(2),e.MGl("for","formatType_",r,""),e.xp6(2),e.MGl("id","formatType_",r,""),e.Q6J("ngModel",t.formatType)}}function AV(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",114)(1,"div",115)(2,"div",15)(3,"label",84),e._uU(4,"Field Name"),e.qZA(),e.TgZ(5,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldName=o)}),e.qZA()(),e.TgZ(6,"div",15)(7,"label",84),e._uU(8,"Field Id"),e.qZA(),e.TgZ(9,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldId=o)}),e.qZA()(),e.TgZ(10,"div",15)(11,"label",84),e._uU(12,"Control Type"),e.qZA(),e.TgZ(13,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.controlType=o)}),e.qZA()(),e.TgZ(14,"div",15)(15,"label",84),e._uU(16,"Field Type"),e.qZA(),e.TgZ(17,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldType=o)}),e.qZA()(),e.TgZ(18,"div",99)(19,"input",100),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.isFieldDisabled=o)}),e.qZA(),e.TgZ(20,"label",84),e._uU(21,"IsFieldDisabled"),e.qZA(),e._UZ(22,"input",116),e.TgZ(23,"label",101),e._uU(24,"Operators"),e.qZA(),e._UZ(25,"input",117),e.TgZ(26,"label",118),e._uU(27,"Selection Criteria"),e.qZA(),e._UZ(28,"input",119),e.TgZ(29,"label",84),e._uU(30,"Selection Type"),e.qZA()(),e.TgZ(31,"div",15)(32,"label",84),e._uU(33,"FieldValues"),e.qZA(),e.TgZ(34,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldtype=o)}),e.qZA()()(),e.TgZ(35,"div",120)(36,"div",15)(37,"label",84),e._uU(38,"Value"),e.qZA(),e.TgZ(39,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldvalues=o)}),e.qZA()(),e.TgZ(40,"div",15)(41,"label",84),e._uU(42,"Value Type"),e.qZA(),e.TgZ(43,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldvalue=o)}),e.qZA()(),e.TgZ(44,"div",15)(45,"label",84),e._uU(46,"Is Query from Db"),e.qZA(),e.TgZ(47,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldvaluetype=o)}),e.qZA()(),e.TgZ(48,"div",15)(49,"input",100),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.isDbSql=o)}),e.qZA()(),e.TgZ(50,"div",15)(51,"label",84),e._uU(52,"Query api url "),e.qZA(),e.TgZ(53,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.fieldqueryurl=o)}),e.qZA()(),e.TgZ(54,"div",15)(55,"label",84),e._uU(56,"Query string "),e.qZA(),e.TgZ(57,"input",85),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).rfield;return e.KtG(s.fieldSelectionValues.query=o)}),e.qZA()()()()}if(2&n){const t=a.rfield,r=a.idx;e.xp6(3),e.MGl("for","fieldName_o",r,""),e.xp6(2),e.MGl("id","fieldName_o",r,""),e.Q6J("ngModel",t.fieldName),e.xp6(2),e.MGl("for","fieldId_o",r,""),e.xp6(2),e.MGl("id","fieldId_o",r,""),e.Q6J("ngModel",t.fieldId),e.xp6(2),e.MGl("for","controlType_o",r,""),e.xp6(2),e.MGl("id","controlType_o",r,""),e.Q6J("ngModel",t.controlType),e.xp6(2),e.MGl("for","fieldtype_o",r,""),e.xp6(2),e.MGl("id","fieldtype_o",r,""),e.Q6J("ngModel",t.fieldType),e.xp6(2),e.MGl("id","isFieldDisabled_o",r,""),e.Q6J("ngModel",t.isFieldDisabled),e.xp6(1),e.MGl("for","isFieldDisabled_o",r,""),e.xp6(8),e.MGl("id","fieldtype_o",r,""),e.xp6(1),e.MGl("for","fieldtype_o",r,""),e.xp6(3),e.MGl("for","fieldvalues_o",r,""),e.xp6(2),e.MGl("id","fieldtype_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldtype),e.xp6(3),e.MGl("for","fieldvalue_o",r,""),e.xp6(2),e.MGl("id","fieldvalues_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvalues),e.xp6(2),e.MGl("for","fieldvaluetype_o",r,""),e.xp6(2),e.MGl("id","fieldvalue_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvalue),e.xp6(2),e.MGl("for","isDbSql_o",r,""),e.xp6(2),e.MGl("id","fieldvaluetype_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldvaluetype),e.xp6(2),e.MGl("id","isDbSql_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.isDbSql),e.xp6(2),e.MGl("for","queryUrl",r,""),e.xp6(2),e.MGl("id","queryUrl",r,""),e.Q6J("ngModel",t.fieldSelectionValues.fieldqueryurl),e.xp6(2),e.MGl("for","sQuery_o",r,""),e.xp6(2),e.MGl("id","sQuery_o",r,""),e.Q6J("ngModel",t.fieldSelectionValues.query)}}function PV(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"div"),e.qZA())}const RV=function(){return{"text-align":"center","white-space":"normal","background-color":"red"}};function EV(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"th",121),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,RV)),e.uIk("colspan",t.colspan),e.xp6(1),e.hij(" ",t.groupHeader," ")}}function DV(n,a){1&n&&e.YNc(0,EV,3,4,"ng-container",45),2&n&&e.Q6J("ngForOf",a.mergereportHeaders)}function IV(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",125,126),e.NdJ("keyup",function(o){e.CHM(t);const i=e.oxw(2).$implicit,s=e.oxw().triggerMultiSearch;return e.KtG(s(o,i,!1))}),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",t.title)}}const O3=function(n){return{"text-align":n}};function NV(n,a){if(1&n&&(e.TgZ(0,"th",123),e.YNc(1,IV,3,1,"div",124),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,O3,t.alignment)),e.xp6(1),e.Q6J("ngIf",!t.noSearch)}}function kV(n,a){if(1&n&&(e.ynx(0),e.YNc(1,NV,2,4,"th",122),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function yV(n,a){1&n&&e.YNc(0,kV,2,1,"ng-container",45),2&n&&e.Q6J("ngForOf",a.columns)}function FV(n,a){if(1&n&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",131),e.qZA()),2&n){const t=a.$implicit,r=e.oxw(3).$implicit;e.xp6(1),e.Q6J("itemObj",t)("item",r)}}function jV(n,a){if(1&n&&(e.TgZ(0,"div")(1,"ul",130),e.YNc(2,FV,2,2,"li",45),e.qZA()()),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",r[t.key])}}const LV=function(n,a,t){return{itemObj:n,item:a,fieldName:t}};function wV(n,a){if(1&n&&e.GkF(0,70),2&n){const t=e.oxw(2).$implicit,r=e.oxw().itemObj;e.oxw();const o=e.MAs(175);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.kEZ(2,LV,r,t,t.key))}}function xV(n,a){if(1&n&&(e.TgZ(0,"td",121),e.YNc(1,jV,3,1,"div",128),e.YNc(2,wV,1,6,"ng-template",null,129,e.W1O),e.qZA()),2&n){const t=e.MAs(3),r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,O3,r.alignment)),e.xp6(1),e.Q6J("ngIf",r.isListField)("ngIfElse",t)}}function VV(n,a){if(1&n&&(e.ynx(0),e.YNc(1,xV,4,5,"td",127),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function WV(n,a){1&n&&e.YNc(0,VV,2,1,"ng-container",45),2&n&&e.Q6J("ngForOf",a.columns)}function ZV(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&n){const t=e.oxw(2),r=t.itemObj,o=t.fieldName,i=t.item;e.xp6(1),e.s9C("title",r[o]),e.Q6J("ngStyle",i.style),e.xp6(1),e.hij(" ",e.xi3(3,3,r[o],i.formatString)," ")}}function HV(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.ALo(3,"number"),e.qZA()()),2&n){const t=e.oxw(2),r=t.itemObj,o=t.fieldName,i=t.item;e.xp6(1),e.s9C("title",r[o]),e.Q6J("ngStyle",i.style),e.xp6(1),e.hij(" ",e.xi3(3,3,r[o],"1.2-2")," ")}}function UV(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2),r=t.itemObj,o=t.fieldName,i=t.item;e.xp6(1),e.s9C("title",r[o]),e.Q6J("ngStyle",i.style),e.xp6(1),e.hij(" ",r[o]," ")}}function zV(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",132),e.YNc(2,ZV,4,6,"div",133),e.YNc(3,HV,4,6,"div",133),e.YNc(4,UV,3,3,"div",134),e.qZA()()),2&n){const t=e.oxw().item;e.xp6(1),e.Q6J("ngSwitch",t.formatType),e.xp6(1),e.Q6J("ngSwitchCase",2),e.xp6(1),e.Q6J("ngSwitchCase",3)}}function BV(n,a){1&n&&e.YNc(0,zV,5,3,"div",124),2&n&&e.Q6J("ngIf",a.itemObj)}function qV(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw().TotalData;e.xp6(1),e.hij(" ",e.xi3(2,1,r[t.key],"1.2-2")," ")}}const YV=function(n){return{"text-align":n,"background-color":"green"}};function JV(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"td",121),e.YNc(2,qV,3,4,"div",124),e.qZA(),e.BQk()),2&n){const t=a.$implicit,r=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,YV,t.alignment)),e.xp6(1),e.Q6J("ngIf",r)}}function GV(n,a){1&n&&e.YNc(0,JV,3,4,"ng-container",45),2&n&&e.Q6J("ngForOf",a.columns)}const kr=function(){return{backdrop:"static"}},QV=function(n){return{fld:n,i:1e3}},b3=function(n){return{rfield:n,idx:1e3}};let T3=(()=>{class n{constructor(t){this.reportService=t,this.simpleTableSettings=new Ir,this.filterReport=new Er,this.reportTitle="",this.reportType="",this.currentPage=1,this.genericSimpleTableConfig=new Nr,this.title="ReportFilterWorkspace",this.reportObj=new Er,this.currentReportParam=new o3,this.DialogMessage="You are not authorized",this.reportList=[],this.totalList=[],this.totalPage=1,this.pageSize=20,this.newSystemField=new tt,this.newOptionalField=new tt,this.reportName="",this.reportUser="",this.dropdownSettings={},this.operatorsList=[],this.userReportList=[],this.formatType=dt,this.isFirstLoadReport=!1,this.newProjection=new Dr,this.reportService.apiUrl=ae.N.apiUrl.substring(0,ae.N.apiUrl.lastIndexOf("/")),this.newSystemField.fieldSelectionValues=new bt,this.newOptionalField.fieldSelectionValues=new bt,this.intializeReportObj(this.reportObj)}intializeReportObj(t){t.fieldgroup=[];var r=new io;r.groupId="SystemFields",r.groupName="SystemFields",r.filterFields=[];var o=new tt;o.fieldSelectionValues=new bt,r.filterFields.push(o),this.reportObj.fieldgroup.push(r);var i=new io;i.groupId="FilterFields",i.groupName="FilterFields",i.filterFields=[];var s=new tt;s.fieldSelectionValues=new bt,i.filterFields.push(s),t.fieldgroup.push(i);var p=new Dr;t.projectionfieldFormats=[],t.projectionfieldFormats.push(p),t.drilldownmenus=[],console.log({reportObj:t,operatorslist:this.operatorsList})}applyFilter(t,r=0){var o=this;return(0,ve.Z)(function*(){o.isFirstLoadReport=!1,1==r&&(o.currentPage=1,o.pageSize=20,o.isFirstLoadReport=!0),o.DialogMessage="Report Loading please wait......",o.childModal.show(),console.log({reportParamEvent:t});try{o.reportObj.currentPage=o.currentPage,o.reportObj.recordsPerPage=o.pageSize;var i=yield o.reportService.getDynamicReportForDesign(o.reportObj);console.log({reportParamEvent1:t,data:i}),o.reportList=i.result,o.totalList=o.convertPropery(i.result2),console.log({evetdata:t,reportData:i}),o.reportObj.totalItems=i.totalRecord,0==o.reportObj.totalItems&&(o.reportObj.totalItems=o.reportList.length),o.totalPage=Math.abs(o.reportObj.totalItems/o.pageSize)+(o.reportObj.totalItems%o.pageSize>0?1:0),console.log({beforeField:o.reportObj.fieldgroup[0].filterFields[0].fieldId,beforeRepObj:o.reportObj.fieldgroup[0].filterFields[0].fieldValue}),o.simpleTableListConfig(),o.DialogMessage="",o.childModal.hide(),console.log({afterapplyrobject:o.reportObj.fieldgroup[0].filterFields[0].fieldId,afterApplyRObject:o.reportObj.fieldgroup[0].filterFields[0].fieldValue})}catch(s){throw o.DialogMessage="error in loading report",setTimeout(()=>{},2e3),s}})()}applyDrillFilter(t,r=0){var o=this;return(0,ve.Z)(function*(){1==r&&(o.currentPage=1,o.pageSize=20),o.DialogMessage="Report Loading please wait......",o.childModal.show(),console.log({reportParamEvent:event});try{t.currentPage=o.currentPage,t.recordsPerPage=o.pageSize;var i=yield o.reportService.getDynamicReportForDesign(t);console.log({reportParamEvent1:event,data:i});var s=i.result,p=o.convertPropery(i.result2);console.log({evetdata:event,reportData:i}),t.totalItems=i.totalRecord,0==t.totalItems&&(t.totalItems=s.length),o.totalPage=Math.abs(t.totalItems/o.pageSize)+(t.totalItems%o.pageSize>0?1:0),console.log({beforeField:t.fieldgroup[0].filterFields[0].fieldId,beforeRepObj:t.fieldgroup[0].filterFields[0].fieldValue}),o.simpleTableListConfigDrill(t,s,p),o.DialogMessage="",o.childModal.hide(),console.log({afterapplyrobject:t.fieldgroup[0].filterFields[0].fieldId,afterApplyRObject:t.fieldgroup[0].filterFields[0].fieldValue})}catch(d){throw o.DialogMessage="error in loading report",setTimeout(()=>{},2e3),d}})()}getNewReport(){}getSelectionList(t){console.log({query:t})}convertPropery(t){try{console.log({toconvert:t});var o,r=Object.keys(t);return console.log({keys:r}),r.forEach(i=>{if(i.length>3&&"sum"==i.slice(0,3).toLowerCase()){let s=i.substring(3,i.length);o[s]=t[i]}else o[i]=t[i]}),console.log({objectConverted:o}),o}catch(i){return console.log({ERROR:i}),t}}onDeleteReport(t){var r=this;return(0,ve.Z)(function*(){console.log({dialogEvent:t,newsetting:r.reportFilterSetting})})()}onLoadReport(){this.reportService.getDesignTimeReportParam(this.reportObj.reportName,this.reportObj.reportType,this.reportObj.reportUser).subscribe(r=>{null!=r.result&&(console.log({before:r.result}),this.reportObj=r.result,this.refresh())},r=>{throw this.intializeReportObj(this.reportObj),this.refresh(),this.reportObj.table="error in report fetch, Check the reportname or reporttype or user",console.log({error:r}),r})}getdrillReportForDesign(t,r){this.reportService.getDesignTimeReportParam(t.reportName,t.reportType,this.reportObj.reportUser).subscribe(o=>{if(null!=o.result){console.log({before:o.result});var i=o.result;this.setDrillValues(i,t,r),this.applyDrillFilter(i,1),this.reportObj=i,this.refresh()}},o=>{throw o})}setDrillValues(t,r,o){r.fields.forEach(i=>{"fromfilter"==i.drilldownFieldFrom?this.reportObj.fieldgroup.forEach(s=>s.filterFields.forEach(p=>{p.fieldName==i.drilldownFieldId&&(i.fieldValue=p.fieldValue)})):"fromgrid"==i.drilldownFieldFrom&&(i.fieldValue=o[i.drilldownFieldId])}),t.fieldgroup.forEach(i=>{i.filterFields.forEach(s=>{s.fieldValue=r.fields.find(p=>p.fieldName==s.fieldName)?.fieldValue||""})})}refresh(){this.reportFilterComponent.ReportFilterSetting=this.reportObj,this.reportFilterComponent.seperateSelectedFields()}onSaveReport(t){var r=this;return(0,ve.Z)(function*(){r.reportFilterSetting.reportName=t.description,console.log({dialogEvent:t,newsetting:r.reportFilterSetting})})()}downloadExcel(t){var r=this;return(0,ve.Z)(function*(){r.currentReportParam=t,r.DialogMessage="Report Downloading please wait......",r.childModal.show()})()}ngOnInit(){this.dropdownSettings={singleSelection:!1,selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:0,allowSearchFilter:!1},this.operatorsList=["is","=","like","notlike","isnot","between","greate than","less than",">","<",">=","<=","in"]}ngAfterViewInit(){}simpleTableListConfig(){this.simpleTableSettings={title:" this.reportTitle",apiEndpoints:"/V2/getProductList",DataSource:this.reportObj.dataSourceType,defaultColumns:this.reportObj.projectionfieldFormats,contextMenus:this.getContextMenu(this.reportObj),LocalData:this.reportList,TotalData:this.totalList,defaultFilterIndex:0,currentPageNo:this.currentPage,pageSize:this.pageSize,totalItems:this.reportObj.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:He.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}simpleTableListConfigDrill(t,r,o){this.isFirstLoadReport=!0,this.simpleTableSettings={title:" this.reportTitle",apiEndpoints:"/V2/getProductList",DataSource:t.dataSourceType,defaultColumns:[],contextMenus:this.getContextMenu(t),LocalData:r,TotalData:o,defaultFilterIndex:0,currentPageNo:t.currentPage,pageSize:this.pageSize,totalItems:t.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:He.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}onActionClick(t){}onPageChange(t){var r=this;return(0,ve.Z)(function*(){r.currentPage=t.currentPage;var o=0,i="";null!=t.sortKey&&null!=t.sortOrder&&(r.reportObj.reportSort=`${t.sortKey} ${t.sortOrder}`,o=t.index,i=t.sortOrder,console.log({onPageevent:t,index:o,sortorder:i})),"getData"!=t.triggerFrom&&(r.pageSize=t.pageSize,yield r.applyFilter("")),null!=t.sortKey&&null!=t.sortOrder&&setTimeout(()=>{t.changeSortOrder(i,o)},0),console.log({pagechangeEvent:t})})()}getContextMenu(t){return t.drilldownmenus}onColumnSettingChange(t){var r=t.filter(i=>1==i.dirty),o={reportName:this.reportObj.reportName,reportType:this.reportObj.reportType,reportUser:this.reportObj.reportUser,columns:r};console.log({columnSaveObject:o}),this.reportService.saveColumnSetting("",o).subscribe(i=>{console.log(i)},i=>{throw console.log(i),i})}onContextMenuClick(t){console.log({event:t}),this.getdrillReportForDesign(t.menuName,t.item)}onProjectionAdd(){this.newProjection=new Dr,this.addProjectionModal.show()}onDeleteProjection(t,r){t.splice(r-1,1)}newProjectionHide(){this.addProjectionModal.hide(),this.reportObj.projectionfieldFormats.push(this.newProjection),console.log({projectionadded:"added",projections:this.reportObj.projectionfieldFormats})}onSystemFieldAdd(){this.newSystemField=new tt,this.newSystemField.fieldgroupName="SystemFields",this.newSystemField.fieldSelectionValues=new bt,this.addSystemFieldModal.show()}newSystemFieldSave(){this.addSystemFieldModal.hide(),this.reportObj.fieldgroup[0].filterFields.push(this.newSystemField),this.refresh(),console.log({projectionadded:"added",projections:this.reportObj.fieldgroup[0].filterFields})}deleteSystemField(t,r){this.reportObj.fieldgroup[0].filterFields.splice(r,1)}onOptionalFieldAdd(){this.newOptionalField=new tt,this.newOptionalField.fieldgroupName="FilterFields",this.newOptionalField.fieldSelectionValues=new bt,this.addOptionalFieldModal.show()}newOptionalFieldSave(){this.addOptionalFieldModal.hide(),this.reportObj.fieldgroup[1].filterFields.push(this.newSystemField),this.refresh(),console.log({projectionadded:"added",projections:this.reportObj.fieldgroup[1].filterFields})}saveReportObject(){var t=this;return(0,ve.Z)(function*(){t.reportService.authToken="abc";var r=yield t.reportService.saveDesignTimeReportParam(t.reportObj);alert("Report Saved"),console.log({tosaveReportObject:t.reportObj,savedReportParam:r})})()}addDrilldownMenu(){var t=new r3;t.fields=[],this.reportObj.drilldownmenus.push(t)}deleteDrilldownMenu(t){var r=this.reportObj.drilldownmenus.findIndex(o=>o.name=t.name);this.reportObj.drilldownmenus.splice(r,1)}addDrilldownfield(t){var r=new tt;t.fields||(t.fields=[]),t.fields.push(r),console.log({driilmenu:t,reportObje:this.reportObj})}deleteDrilldownfield(t,r){var o=t.fields.findIndex(i=>i.fieldId==r.fieldId);t.fields.splice(o,1)}arrayToOperatorList(t){}deleteReport(t){console.log({onDeleteReport:event})}toggleAccordian(t){var r=t.target;console.log("event value",t),r.parentElement.classList.toggle("active")}toggleReport(t,r){t.target.parentElement.classList.toggle("reportOption")}selectChangeHandler(t){this.reportFilterComponent.seperateSelectedFields()}onItemSelect(t,r){console.log({event:t,fld:r})}onMultiSelect(t,r){console.log({event:t,fld:r})}downloadExecl(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ao))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-designer"]],viewQuery:function(t,r){if(1&t&&(e.Gf(pV,5),e.Gf(dV,5),e.Gf(_V,5),e.Gf(hV,5),e.Gf(uV,5),e.Gf(gV,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.addProjectionModal=o.first),e.iGM(o=e.CRH())&&(r.addSystemFieldModal=o.first),e.iGM(o=e.CRH())&&(r.addOptionalFieldModal=o.first),e.iGM(o=e.CRH())&&(r.reportFilterComponent=o.first),e.iGM(o=e.CRH())&&(r.simpleTable=o.first)}},decls:178,vars:40,consts:[[1,"container"],[1,"row",2,"padding-top","20px"],[1,"col-lg-3"],[3,"ReportFilterSetting","UserReportList","ClickFilter","downloadExcel","SaveReport","DeleteReport"],["reportFilter",""],[1,"col-md-9"],[3,"simpleTableConfig","mergeHeaderTemplate","SearchHeaderTemplate","TableDataTemplate","FooterTemplate","onActionClick","onCurrentPageChange","columnSettingChange","onContextMenu"],["genericSimpleTable",""],[1,"row"],["type","text","id","reportName",3,"ngModel","ngModelChange"],["type","text","id","reportType",3,"ngModel","ngModelChange"],["type","text","id","reportUser",3,"ngModel","ngModelChange"],[3,"click"],[1,"row",2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","margin-top","15px","margin-bottom","20px"],[1,"col-lg-4"],[1,"form-group"],["for","queryType"],["id","queryType","placeholder","QueryType",1,"form-control",3,"ngModel","ngModelChange"],["value","parameterquery"],["value","storedprocedure"],["value","consolidatedstoredprocedure"],["value","rawquery"],["value","api"],["for","querySplit"],["id","querySplit","type","text","placeholder","Spllit table on",1,"form-control",3,"ngModel","ngModelChange"],["for","reportSort"],["id","reportSort","type","text","placeholder","Sort Report by",1,"form-control",3,"ngModel","ngModelChange"],["for","dataSourceType"],["id","dataSourceType","placeholder","DataSource",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["for","FiscalBeginDate"],["id","FiscalBeginDate","type","text","placeholder","Fiscal Year Begin",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-8"],["for","Query"],["id","Query","rows","8",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"row",2,"height","600px"],[1,"col-lg-4",2,"border","1px solid black"],[2,"text-align","center"],[1,"row",2,"overflow","scroll","height","500px","margin-bottom","30px"],[1,"row",2,"width","100%"],["style","width: -webkit-fill-available",3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[1,"row",2,"margin-bottom","15px"],[1,"btn","btn-info",3,"click"],[4,"ngFor","ngForOf"],[1,"row",2,"align-content","center"],[1,"btn","btn-info",2,"text-align","center",3,"click"],[2,"position","sticky"],[1,"row",2,"height","500px","overflow","scroll","margin-bottom","30px"],[1,"btn","btn-info",2,"margin-bottom","10 px","padding","10px",3,"click"],[1,"row",2,"margin-top","35px"],[1,"col-lg-12"],[1,"btn","btn-info",2,"margin-left","15px",3,"click"],["RequiredFields",""],["drilldownTemplate",""],["projectionField",""],["OptionalFields",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","mySmallModalLabel","aria-hidden","true",1,"modal","fade",3,"config"],["childModal","bs-modal"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-title"],[1,"modal-body"],["addProjection","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content",2,"height","655px","overflow-x","hidden","overflow-y","auto"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["addSystemFields","bs-modal"],[1,"btn","btn-info",2,"margin-top","15px",3,"click"],[1,"btn","btn-info",2,"margin-left","15px","margin-top","15px",3,"click"],["addOptionalFields","bs-modal"],[1,"btn","btn-info",2,"margin-top","15px","margin-left","15px",3,"click"],["datePicker",""],["mergeHeaderTemplate",""],["SearchHeaderTemplate",""],["TableDataTemplate",""],["dataColumnTemplate",""],["FooterTemplate",""],[2,"width","-webkit-fill-available",3,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px 15px 1px 15px","width","100%","margin-bottom","20px"],[3,"for"],["type","text",1,"form-control",3,"id","ngModel","ngModelChange"],[1,"form-control",3,"id","ngModel","ngModelChange"],["value","text"],["value","multiselect"],["value","singleselect"],["value","daterange"],["value","dropdownmultiselect"],["value","dropdown"],["value","checkbox"],["value","attributes"],["value","string"],["value","number"],["value","date"],["value","boolean"],[1,"form-group","checkbox"],["type","checkbox",3,"id","ngModel","ngModelChange"],["for","operators"],[3,"data","id","ngModel","settings","ngModelChange"],["value","static"],["value","dynamic"],[3,"id","fieldValues","fieldValuesChange"],["for","fieldvalue"],[2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px 15px 1px 15px","width","-webkit-fill-available","margin-bottom","20px"],[3,"drilldownmenu"],[1,"projectionFieldWrapper",2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","margin-bottom","20px","width","-webkit-fill-available"],[1,"form-group",2,"margin-bottom","0"],[2,"margin-left","10px",3,"for"],["placeholder","QueryType",1,"form-control",3,"id","ngModel","ngModelChange"],["value","3"],[1,"d-flex",2,"justify-content","space-between","box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","width","-webki-fill-available"],[1,"left-optfield",2,"flex","0 0 49%"],["type","checkbox","id","operators"],["type","checkbox","id","SelectionCriteria"],["for","SelectionCriteria"],["type","checkbox",3,"id"],[1,"right-OptField",2,"flex","0 0 49%"],[3,"ngStyle"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],[4,"ngIf"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","10px 0px 10px 3px","background-color","aqua",3,"placeholder","keyup"],["inputBox",""],[3,"ngStyle",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"title","ngStyle"]],template:function(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"report-filter",3,4),e.NdJ("ClickFilter",function(s){return r.applyFilter(s,1)})("downloadExcel",function(s){return r.downloadExcel(s)})("SaveReport",function(s){return r.onSaveReport(s)})("DeleteReport",function(s){return r.onDeleteReport(s)}),e.qZA()(),e.TgZ(5,"div",5)(6,"report-grid",6,7),e.NdJ("onActionClick",function(s){return r.onActionClick(s)})("onCurrentPageChange",function(s){return r.onPageChange(s)})("columnSettingChange",function(s){return r.onColumnSettingChange(s)})("onContextMenu",function(s){return r.onContextMenuClick(s)}),e.qZA()()(),e.TgZ(8,"div",8)(9,"span")(10,"span"),e._uU(11,"Report Name"),e.TgZ(12,"span")(13,"input",9),e.NdJ("ngModelChange",function(s){return r.reportObj.reportName=s}),e.qZA()()(),e.TgZ(14,"span"),e._uU(15,"Report Type"),e.TgZ(16,"span")(17,"input",10),e.NdJ("ngModelChange",function(s){return r.reportObj.reportType=s}),e.qZA()()(),e.TgZ(18,"span"),e._uU(19,"Report User"),e.TgZ(20,"span")(21,"input",11),e.NdJ("ngModelChange",function(s){return r.reportObj.reportUser=s}),e.qZA()()(),e.TgZ(22,"span")(23,"button",12),e.NdJ("click",function(){return r.onLoadReport()}),e._uU(24,"Load Report"),e.qZA()()()(),e.TgZ(25,"div",13)(26,"div",14)(27,"div",15)(28,"label",16),e._uU(29,"Query Type : "),e.qZA(),e.TgZ(30,"select",17),e.NdJ("ngModelChange",function(s){return r.reportObj.queryType=s}),e.TgZ(31,"option",18),e._uU(32,"parameterquery"),e.qZA(),e.TgZ(33,"option",19),e._uU(34,"storedprocedure"),e.qZA(),e.TgZ(35,"option",20),e._uU(36,"consolidatedstoredprocedure"),e.qZA(),e.TgZ(37,"option",21),e._uU(38,"rawquery"),e.qZA(),e.TgZ(39,"option",22),e._uU(40,"api"),e.qZA()()(),e.TgZ(41,"div",15)(42,"label",23),e._uU(43,"Split Table on : "),e.qZA(),e.TgZ(44,"input",24),e.NdJ("ngModelChange",function(s){return r.reportObj.querySplit=s}),e.qZA()(),e.TgZ(45,"div",15)(46,"label",25),e._uU(47,"Report Sort : "),e.qZA(),e.TgZ(48,"input",26),e.NdJ("ngModelChange",function(s){return r.reportObj.reportSort=s}),e.qZA()(),e.TgZ(49,"div",15)(50,"label",27),e._uU(51,"DataSource Type : "),e.qZA(),e.TgZ(52,"select",28),e.NdJ("ngModelChange",function(s){return r.reportObj.dataSourceType=s}),e.TgZ(53,"option",29),e._uU(54,"Local DataSource"),e.qZA(),e.TgZ(55,"option",30),e._uU(56,"Server DataSource"),e.qZA(),e.TgZ(57,"option",31),e._uU(58,"External DataSource"),e.qZA()()(),e.TgZ(59,"div",15)(60,"label",32),e._uU(61,"Fiscal Year Begin Date : "),e.qZA(),e.TgZ(62,"input",33),e.NdJ("ngModelChange",function(s){return r.reportObj.fiscalBeginDate=s}),e.qZA()()(),e.TgZ(63,"div",34)(64,"div",15)(65,"label",35),e._uU(66,"Query"),e.qZA(),e.TgZ(67,"textarea",36),e.NdJ("ngModelChange",function(s){return r.reportObj.table=s}),e.qZA()()()(),e.TgZ(68,"div",37)(69,"div",38)(70,"div",8)(71,"h2",39),e._uU(72,"Filter Fields"),e.qZA()(),e.TgZ(73,"div",40)(74,"div",41),e.YNc(75,SV,1,5,"ng-container",42),e.qZA()(),e.TgZ(76,"div",43)(77,"button",44),e.NdJ("click",function(){return r.onSystemFieldAdd()}),e._uU(78," Add Filter "),e.qZA()()(),e.TgZ(79,"div",38)(80,"h2",39),e._uU(81,"Projection Fields"),e.qZA(),e.TgZ(82,"div",40),e.YNc(83,vV,4,6,"ng-container",45),e.qZA(),e.TgZ(84,"div",46)(85,"button",47),e.NdJ("click",function(){return r.onProjectionAdd()}),e._uU(86," Add Projection "),e.qZA()()(),e.TgZ(87,"div",38)(88,"h2",48),e._uU(89,"Drilldown Menu"),e.qZA(),e.TgZ(90,"div",49),e.YNc(91,bV,2,5,"ng-container",45),e.qZA(),e.TgZ(92,"button",50),e.NdJ("click",function(){return r.addDrilldownMenu()}),e._uU(93," Add Drilldown "),e.qZA()()(),e.TgZ(94,"div",51)(95,"div",52)(96,"button",53),e.NdJ("click",function(){return r.saveReportObject()}),e._uU(97," Save Report Object "),e.qZA()()()(),e.YNc(98,TV,119,54,"ng-template",null,54,e.W1O),e.YNc(100,CV,22,11,"ng-template",null,55,e.W1O),e.YNc(102,MV,49,30,"ng-template",null,56,e.W1O),e.YNc(104,AV,58,37,"ng-template",null,57,e.W1O),e.TgZ(106,"div",58,59)(108,"div",60)(109,"div",61)(110,"div",62)(111,"button",63),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(107);return e.KtG(s.hide())}),e.TgZ(112,"span",64),e._uU(113,"\xd7"),e.qZA()(),e.TgZ(114,"h4",65),e._uU(115,"Information18"),e.qZA()(),e.TgZ(116,"div",66),e._uU(117),e.qZA()()()(),e.TgZ(118,"div",58,67)(120,"div",68)(121,"div",69)(122,"div",62)(123,"h4",65),e._uU(124,"Add Projection"),e.qZA(),e.TgZ(125,"button",63),e.NdJ("click",function(){return r.addProjectionModal.hide()}),e.TgZ(126,"span",64),e._uU(127,"\xd7"),e.qZA()()(),e.TgZ(128,"div",66),e.GkF(129,70),e.TgZ(130,"button",44),e.NdJ("click",function(){return r.newProjectionHide()}),e._uU(131,"Save"),e.qZA(),e.TgZ(132,"button",53),e.NdJ("click",function(){return r.addProjectionModal.hide()}),e._uU(133," Cancel "),e.qZA()()()()(),e.TgZ(134,"div",58,71)(136,"div",68)(137,"div",69)(138,"div",62)(139,"h4",65),e._uU(140,"Add System Fields"),e.qZA(),e.TgZ(141,"button",63),e.NdJ("click",function(){return r.addSystemFieldModal.hide()}),e.TgZ(142,"span",64),e._uU(143,"\xd7"),e.qZA()()(),e.TgZ(144,"div",66),e.GkF(145,70),e.TgZ(146,"button",72),e.NdJ("click",function(){return r.newSystemFieldSave()}),e._uU(147," Save "),e.qZA(),e.TgZ(148,"button",73),e.NdJ("click",function(){return r.addSystemFieldModal.hide()}),e._uU(149," Cancel "),e.qZA()()()()(),e.TgZ(150,"div",58,74)(152,"div",68)(153,"div",61)(154,"div",62)(155,"h4",65),e._uU(156,"Add Optional Fields"),e.qZA(),e.TgZ(157,"button",63),e.NdJ("click",function(){return r.addOptionalFieldModal.hide()}),e.TgZ(158,"span",64),e._uU(159,"\xd7"),e.qZA()()(),e.TgZ(160,"div",66),e.GkF(161,70),e.TgZ(162,"button",72),e.NdJ("click",function(){return r.newOptionalFieldSave()}),e._uU(163," Save "),e.qZA(),e.TgZ(164,"button",75),e.NdJ("click",function(){return r.addOptionalFieldModal.hide()}),e._uU(165," Cancel "),e.qZA()()()()(),e.YNc(166,PV,2,0,"ng-template",null,76,e.W1O),e.YNc(168,DV,1,1,"ng-template",null,77,e.W1O),e.YNc(170,yV,1,1,"ng-template",null,78,e.W1O),e.YNc(172,WV,1,1,"ng-template",null,79,e.W1O),e.YNc(174,BV,1,1,"ng-template",null,80,e.W1O),e.YNc(176,GV,1,1,"ng-template",null,81,e.W1O)}if(2&t){const o=e.MAs(99),i=e.MAs(103),s=e.MAs(169),p=e.MAs(171),d=e.MAs(173),_=e.MAs(177);e.xp6(3),e.Q6J("ReportFilterSetting",r.reportObj)("UserReportList",r.userReportList),e.xp6(3),e.Q6J("simpleTableConfig",r.genericSimpleTableConfig)("mergeHeaderTemplate",s)("SearchHeaderTemplate",p)("TableDataTemplate",d)("FooterTemplate",_),e.xp6(7),e.Q6J("ngModel",r.reportObj.reportName),e.xp6(4),e.Q6J("ngModel",r.reportObj.reportType),e.xp6(4),e.Q6J("ngModel",r.reportObj.reportUser),e.xp6(9),e.Q6J("ngModel",r.reportObj.queryType),e.xp6(14),e.Q6J("ngModel",r.reportObj.querySplit),e.xp6(4),e.Q6J("ngModel",r.reportObj.reportSort),e.xp6(4),e.Q6J("ngModel",r.reportObj.dataSourceType),e.xp6(10),e.Q6J("ngModel",r.reportObj.fiscalBeginDate),e.xp6(5),e.Q6J("ngModel",r.reportObj.table),e.xp6(8),e.Q6J("ngForOf",r.reportObj.fieldgroup[0].filterFields),e.xp6(8),e.Q6J("ngForOf",r.reportObj.projectionfieldFormats),e.xp6(8),e.Q6J("ngForOf",r.reportObj.drilldownmenus),e.xp6(15),e.Q6J("config",e.DdM(30,kr)),e.xp6(11),e.Oqu(r.DialogMessage),e.xp6(1),e.Q6J("config",e.DdM(31,kr)),e.xp6(11),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(32,QV,r.newProjection)),e.xp6(5),e.Q6J("config",e.DdM(34,kr)),e.xp6(11),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(35,b3,r.newSystemField)),e.xp6(5),e.Q6J("config",e.DdM(37,kr)),e.xp6(11),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(38,b3,r.newOptionalField))}},dependencies:[Qe.oB,u.sg,u.O5,u.tP,u.PC,u.RF,u.n9,u.ED,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,ue.O,no,oo,d3,u.JJ,u.uU],styles:["@media (min-width: 1400px) {\n      .container[_ngcontent-%COMP%] {\n        max-width: 1340px;\n      }\n    }\n    .checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n      margin-left: 5px;\n      margin-right: 10px;\n    }\n\n    .container[_ngcontent-%COMP%]{\n        height: 80vh;\n        overflow: auto;\n    }\n\n    label[_ngcontent-%COMP%]{\n      width: 100px;\n    }"]}),n})();const $V=m.Bz.forChild([{path:"",component:O,children:[{path:"reportmain",component:P,canActivate:[T.C]},{path:"closingStock",component:P,canActivate:[T.C]},{path:"purchasebookreport",component:P,canActivate:[T.C]},{path:"salesreport-itemwise",component:P,canActivate:[T.C]},{path:"salesbook-report",component:P,canActivate:[T.C]},{path:"SalesReportProductTypeWise",component:P,canActivate:[T.C]},{path:"PurchaseReportProductTypeWise",component:P,canActivate:[T.C]},{path:"SalesReportCategoryWise",component:P,canActivate:[T.C]},{path:"PurchaseReportCategoryWise",component:P,canActivate:[T.C]},{path:"saleseregisterreport-dialog",component:P,canActivate:[T.C]},{path:"purchasereport-itemwise",component:P,canActivate:[T.C]},{path:"salesreport-itemwise-detail",component:P,canActivate:[T.C]},{path:"purchasereport-itemwise-detail",component:P,canActivate:[T.C]},{path:"creditnotebook-report",component:P,canActivate:[T.C]},{path:"debitnotebook-report",component:P,canActivate:[T.C]},{path:"purchasereport-supplierwise",component:P,canActivate:[T.C]},{path:"salesreport-customerwise",component:P,canActivate:[T.C]},{path:"salesreport-supplierwise",component:P,canActivate:[T.C]},{path:"salesregisterreport-dialog",component:P,canActivate:[T.C]},{path:"purchaseRegisterReport",component:P,canActivate:[T.C]},{path:"onelakhpurchasereport",component:P,canActivate:[T.C]},{path:"onelakhsalesreport",component:P,canActivate:[T.C]},{path:"stock-summary-report",component:P,canActivate:[T.C]},{path:"requisition-approval-report",component:P,canActivate:[T.C]},{path:"report-master",component:v3,canActivate:[T.C]},{path:"report-designer",component:T3,canActivate:[T.C]},{path:"stock-ledger-report",component:P,canActivate:[T.C]},{path:"stock-valuation-report",component:P,canActivate:[T.C]},{path:"membershippointreport",component:P,canActivate:[T.C]},{path:"datereport",component:P,canActivate:[T.C]},{path:"transreport",component:P,canActivate:[T.C]},{path:"branch-transfer-report",component:P,canActivate:[T.C]},{path:"item-expiry-report",component:P,canActivate:[T.C]},{path:"max-stocklevel-report",component:P,canActivate:[T.C]},{path:"minimum-stocklevel-report",component:P,canActivate:[T.C]},{path:"reorder-levelstock-report",component:P,canActivate:[T.C]},{path:"stock-abcanalysis-report",component:P,canActivate:[T.C]},{path:"price-changelog-report",component:P,canActivate:[T.C]},{path:"salesprofitability-analysis",component:P,canActivate:[T.C]},{path:"purchaseorderreport",component:P,canActivate:[T.C]},{path:"purchaseorder-outstanding",component:P,canActivate:[T.C]},{path:"quotationreport",component:P,canActivate:[T.C]},{path:"salesorderreport",component:P,canActivate:[T.C]},{path:"salesorderoutstanding",component:P,canActivate:[T.C]},{path:"currentstock-warehousewise",component:P,canActivate:[T.C]},{path:"grn-report",component:P,canActivate:[T.C]},{path:"repack-report",component:P,canActivate:[T.C]},{path:"requisition-report",component:P,canActivate:[T.C]},{path:"raw-data-report",component:P,canActivate:[T.C]},{path:"recurring-transaction-report",component:P,canActivate:[T.C]},{path:"recurring-transaction-analysis-report",component:P,canActivate:[T.C]},{path:"report-master",component:v3,canActivate:[T.C]},{path:"stockageing-report",component:P,canActivate:[T.C]},{path:"branch-transferout-vs-inreport",component:P,canActivate:[T.C]},{path:"stock-report-warehouse-wise",component:P,canActivate:[T.C]},{path:"consolidatedpurchase-report-branchwise",component:P,canActivate:[T.C]},{path:"consolidatedsales-report-branchwise",component:P,canActivate:[T.C]},{path:"consolidatedstock-report-branchwise",component:P,canActivate:[T.C]},{path:"branch-transfer-inreport-itemwise",component:P,canActivate:[T.C]},{path:"branch-transferout-itemwise",component:P,canActivate:[T.C]},{path:"sales-collection-report",component:P,canActivate:[T.C]},{path:"openingstockreport",component:P,canActivate:[T.C]},{path:"rate-group-report",component:P,canActivate:[T.C]},{path:"salesprice-changelog-report",component:P,canActivate:[T.C]},{path:"openingstock-report",component:P,canActivate:[T.C]},{path:"salesprice-changelog-report",component:P,canActivate:[T.C]},{path:"vat-saleseregisterreport-new",component:P,canActivate:[T.C]},{path:"vat-purchaseregisterreport-new",component:P,canActivate:[T.C]},{path:"stock-issue-report",component:P,canActivate:[T.C]},{path:"credit-note-sales-return-report",component:P,canActivate:[T.C]},{path:"vat-other-adjustment-report",component:P,canActivate:[T.C]},{path:"debitnote-purchasereturn-report",component:P,canActivate:[T.C]},{path:"shift-close-report",component:P,canActivate:[T.C]},{path:"stock-variance-report",component:P,canActivate:[T.C]},{path:"salesrevenue-analysisreport",component:P,canActivate:[T.C]},{path:"salesreport-salesmanwise",component:P,canActivate:[T.C]},{path:"salesreport-membershipwise",component:P,canActivate:[T.C]},{path:"proformainvoicereport",component:P,canActivate:[T.C]},{path:"sales-flow-report-monthwise",component:P,canActivate:[T.C]},{path:"purchase-flow-report-monthwise",component:P,canActivate:[T.C]},{path:"annexure13report",component:P,canActivate:[T.C]},{path:"worsesales-analysisreport",component:P,canActivate:[T.C]},{path:"topnsales-analysisreport",component:P,canActivate:[T.C]},{path:"sales-revenue-metrics-report",component:P,canActivate:[T.C]},{path:"hourly-sales-report",component:P,canActivate:[T.C]},{path:"report-designer",component:T3,canActivate:[T.C]}]}]);var Ae=v(79199);function XV(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function eW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,XV,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let tW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Order Detail",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYTYPE:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportparam.COMPANYTYPE=this.masterService.userProfile.CompanyInfo.ORG_TYPE;let t=this.calendarForm.value;this.repObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-detail-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Order Detail Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,eW,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),rW=(()=>{class n{constructor(t,r,o,i){this.masterService=t,this._transactionService=r,this.fb=o,this.reportMainService=i,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",division:"",REPMODE:0}},this.reportdataEmit=new e.vpe,this.ClosingStockReport={},this.repObj.reportparam.division=this.masterService.userProfile.userDivision,this.masterService.reportName="Closing Stock",this.reportMainService.reportName="Closing Stock",this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ClosingStockReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.ClosingStockReport.DATE1,"AD"),this.ClosingStockReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.ClosingStockReport.DATE,"AD"),this.ranges=this.masterService.dateFilterRange}changeEntryDate(t,r){"AD"==r?this.ClosingStockReport.BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this.ClosingStockReport.DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this.ClosingStockReport.BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this.ClosingStockReport.DATE=this.masterService.toADDate(t))}onload(){this.repObj.reportname="Closing Stock",this.repObj.reportparam.REPMODE="0"==this.REPORTMODE?0:1,this.repObj.reportparam.DATE2=this.ClosingStockReport.DATE,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.repObj})}ngOnInit(){}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["closing-stock"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:37,vars:2,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#ffffff"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"smallBoldLabel"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Closing Stock Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"fieldset")(16,"legend",11),e._uU(17,"Date Range Selection :"),e.qZA(),e.TgZ(18,"table")(19,"tr")(20,"td")(21,"label",12),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",12)(26,"input",13),e.NdJ("ngModelChange",function(i){return r.ClosingStockReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(27,"tr")(28,"td")(29,"label",12)(30,"input",14),e.NdJ("ngModelChange",function(i){return r.ClosingStockReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()()()()()(),e._UZ(31,"hr",15),e.TgZ(32,"div",16)(33,"button",17),e.NdJ("click",function(){return r.onload()}),e._uU(34,"RUN"),e.qZA(),e.TgZ(35,"button",18),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(36,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.ClosingStockReport.DATE),e.xp6(4),e.Q6J("ngModel",r.ClosingStockReport.BSDATE2))},dependencies:[l.Fj,l.JJ,l.On],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function iW(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function oW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,iW,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let nW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Invoice Detail",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYTYPE:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportparam.COMPANYTYPE=this.masterService.userProfile.CompanyInfo.ORG_TYPE;let t=this.calendarForm.value;this.repObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-invoice-detail-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Invoice Detail Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,oW,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function aW(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function sW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.PHISCALID=o)}),e.YNc(4,aW,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let lW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.reportdataEmit=new e.vpe,this.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.reportdataEmit.emit({status:"ok",data:{reportname:"Customer Wise Item Sales Detail",reportparam:{PHISCALID:this.PHISCALID,COMPANYTYPE:this.masterService.userProfile.CompanyInfo.ORG_TYPE,DATE1:y()(t.selectedDate.startDate).format("MM-DD-YYYY"),DATE2:y()(t.selectedDate.endDate).format("MM-DD-YYYY")}}})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["customer-wise-item-sales-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Customerwise item sales Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,sW,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function cW(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function pW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dailySalesObj.reportparam.PHISCALID=o)}),e.YNc(4,cW,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.dailySalesObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let dW=(()=>{class n{constructor(t,r,o){this.masterService=t,this._transactionService=r,this.fb=o,this.dailySalesObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.dailySalesObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.dailySalesObj.reportname="DAILY SALES REPORT";let t=this.calendarForm.value;this.dailySalesObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.dailySalesObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.dailySalesObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.dailySalesObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["daily-sales-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Daily Sales Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,pW,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),_W=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.reportObj={reportname:"STOCK SETTLEMENT",reportparam:{DATE1:"",DATE2:""}},this.reportdataEmit=new e.vpe,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.reportObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-settlement-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:4,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Stock Settlement Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(15),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function hW(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function uW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,hW,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let gW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"PURCHASE RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-return-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Return Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,uW,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function mW(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function SW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,mW,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let fW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportname="SALES ORDER";let t=this.calendarForm.value;this.repObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-order-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Order Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,SW,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function vW(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function OW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,vW,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let bW=(()=>{class n{constructor(t,r,o){this.masterService=t,this._transactionService=r,this.fb=o,this.repObj={reportname:"CUSTOMERWISE SALES RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["customerwise-salesreturn-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," CustomerWise SalesReturn Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,OW,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function TW(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function CW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportObj.reportparam.PHISCALID=o)}),e.YNc(4,TW,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.reportObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let MW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.reportObj={reportname:"SALES RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.reportObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.reportObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesreturn-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Return Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,CW,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function AW(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function PW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,AW,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let RW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Order Summary",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-summary"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Order Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,PW,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function EW(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function DW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,EW,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let IW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Summary",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-summary"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,DW,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function NW(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function kW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.reportObj.reportparam.PHISCALID=o)}),e.YNc(4,NW,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.reportObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let yW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.reportObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.reportObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.reportObj.reportname="Sales Return Summary";let t=this.calendarForm.value;this.reportObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-return-summary"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Return Summary Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,kW,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const FW=["division"];function jW(n,a){if(1&n&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let LW=(()=>{class n{constructor(t,r,o,i){if(this.masterService=t,this._trnMainService=r,this._alertService=o,this._authService=i,this.purchaseRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var s=new Date;s.setMonth(s.getMonth()-1),this.purchaseRegisterReport.DATE1=s.toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD")}else this.purchaseRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.purchaseRegisterReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD")):(this.purchaseRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD")),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.purchaseRegisterReport.isPI=!0,this.purchaseRegisterReport.isCP=!0,this.purchaseRegisterReport.isDN=!0,this.purchaseRegisterReport.isCN=!0;var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,u.p6)(d,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.purchaseRegisterReport.V1=1==this.purchaseRegisterReport.isPI?"PI":"",this.purchaseRegisterReport.V3=1==this.purchaseRegisterReport.isCP?"CP":"",this.purchaseRegisterReport.V2=1==this.purchaseRegisterReport.isDN?"DN":"",this.purchaseRegisterReport.V4=1==this.purchaseRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:t,data:{reportname:"VAT Purchase Register Report",reportparam:{DATE1:this.purchaseRegisterReport.DATE1,DATE2:this.purchaseRegisterReport.DATE,DIVISION:this.purchaseRegisterReport.DIV?this.purchaseRegisterReport.DIV:"%",PHISCALID:this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:" ",V1:this.purchaseRegisterReport.V1,V2:this.purchaseRegisterReport.V2,V3:this.purchaseRegisterReport.V3}}})}divisionChanged(){this.purchaseRegisterReport.DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this.purchaseRegisterReport.BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.purchaseRegisterReport.DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this.purchaseRegisterReport.BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.purchaseRegisterReport.DATE=this.masterService.toADDate(t)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["result-purchaseregisterreport-dialog"]],viewQuery:function(t,r){if(1&t&&e.Gf(FW,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:60,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","100%"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Purchase Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.purchaseRegisterReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.purchaseRegisterReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DIV=i})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,jW,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"div",19)(44,"label",20)(45,"input",21),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isPI=i}),e.qZA(),e._uU(46," Trading Purchase Transaction "),e.qZA()(),e.TgZ(47,"div",22)(48,"label",20)(49,"input",23),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isCP=i}),e.qZA(),e._uU(50," Capital Purchase Transaction "),e.qZA()(),e.TgZ(51,"div",22)(52,"label",20)(53,"input",23),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isDN=i}),e.qZA(),e._uU(54," Debit Note Transaction "),e.qZA()()(),e.TgZ(55,"div",24)(56,"button",25),e.NdJ("click",function(){return r.onload()}),e._uU(57,"RUN"),e.qZA(),e.TgZ(58,"button",26),e.NdJ("click",function(){return r.cancel()}),e._uU(59,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.purchaseRegisterReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.purchaseRegisterReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.purchaseRegisterReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.purchaseRegisterReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isPI),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isCP),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isDN))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),wW=(()=>{class n{constructor(t){this.masterService=t,this.isActive=!1,this.closingStock={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe}onload(){this.closingStock.reportname="Opening Stock",this.closingStock.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.closingStock})}ngOnInit(){}dateChanged(){this.closingStock.reportparam.DATE1=y()(this.selectedDate.startDate).format("MM-DD-YYYY"),this.closingStock.reportparam.DATE2=y()(this.selectedDate.endDate).format("MM-DD-YYYY")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.closingStock})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["opening-stock"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:14,vars:0,consts:[[2,"height","200px"],[1,"modal-content","modal-content-main-area","mx-auto;"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Opening Stock Report "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.onload()}),e._uU(11,"RUN"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(13,"Close"),e.qZA()()()())},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}",".modal-content-main-area[_ngcontent-%COMP%] {\n    width: 100% !important;\n  }"]}),n})(),xW=(()=>{class n{constructor(t){this.masterService=t,this.isActive=!1,this.audit={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe}onload(){this.audit.reportname="Audit Report",this.audit.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.audit})}ngOnInit(){}dateChanged(t){this.audit.reportparam.DATE1=y()(this.selectedDate.startDate).format("MM-DD-YYYY"),this.audit.reportparam.DATE2=y()(this.selectedDate.endDate).format("MM-DD-YYYY")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.audit})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["audit-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:14,vars:0,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Audit Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.onload()}),e._uU(11,"RUN"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(13,"Close"),e.qZA()()()())},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function VW(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PhiscalID),e.xp6(1),e.hij(" ",t.PhiscalID,"")}}function WW(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Fiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,VW,2,2,"option",18),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",t.masterService.fiscalYearList)}}let ZW=(()=>{class n{constructor(t,r){this.masterService=t,this.fb=r,this.repObj={reportname:"Purchase Return Summary Report",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:y()(),endDate:y()()},l.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let t=this.calendarForm.value;this.repObj.reportparam.DATE1=y()(t.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=y()(t.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(l.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchasereturn-summary-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Return Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,WW,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,Ae.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var HW=v(69401);const UW=["division"];function zW(n,a){if(1&n&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij(" ",t.NAME," ")}}let BW=(()=>{class n{constructor(t,r){this.masterService=t,this._trnMainService=r,this.VATsalesRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.VATsalesRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD"),this.VATsalesRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.VATsalesRegisterReport.DIV="%",this.VATsalesRegisterReport.SUMMARYREPORT=1,this.VATsalesRegisterReport.isSI=!0,this.VATsalesRegisterReport.isCN=!0}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.VATsalesRegisterReport.V1=1==this.VATsalesRegisterReport.isSI?"SI":"",this.VATsalesRegisterReport.V2=1==this.VATsalesRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:t,data:{reportname:"VAT Sales Register Report",reportparam:{DATE1:this.VATsalesRegisterReport.DATE1,DATE2:this.VATsalesRegisterReport.DATE,DIV:this.VATsalesRegisterReport.DIV?this.VATsalesRegisterReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,REPMODE:"1"==this.VATsalesRegisterReport.SUMMARYREPORT?1:0,V1:this.VATsalesRegisterReport.V1,V2:this.VATsalesRegisterReport.V2,V3:"XX"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){"AD"==r?this.VATsalesRegisterReport.BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this.VATsalesRegisterReport.DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this.VATsalesRegisterReport.BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this.VATsalesRegisterReport.DATE=this.masterService.toADDate(t))}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-sales-register-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(UW,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:74,vars:12,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"width","100%"],[2,"width","inherit !important"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDatefrom","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],["id","nepaliDateto","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"radio",2,"width","inherit !important"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat Sales Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend"),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table",10)(16,"tr")(17,"td")(18,"label",11),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label",11),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",14),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",15,16),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DIV=i}),e.TgZ(43,"option",17),e._uU(44,"ALL"),e.qZA(),e.YNc(45,zW,2,2,"option",18),e.qZA()()(),e.TgZ(46,"div",9)(47,"fieldset")(48,"legend",19),e._uU(49,"Report Mode:"),e.qZA(),e.TgZ(50,"div",20)(51,"label",11)(52,"input",21),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(53," Summary Report"),e.qZA()(),e.TgZ(54,"div",20)(55,"label",11)(56,"input",21),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(57," Detail Report"),e.qZA()()()(),e.TgZ(58,"div",9)(59,"fieldset")(60,"div",22)(61,"label",11)(62,"input",23),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.isSI=i}),e.qZA(),e._uU(63," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(64,"div",22)(65,"label",11)(66,"input",23),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.isCN=i}),e.qZA(),e._uU(67," Show Credit Note "),e.qZA()()()()()()()(),e._UZ(68,"hr",24),e.TgZ(69,"div",25)(70,"button",26),e.NdJ("click",function(){return r.onload()}),e._uU(71,"RUN"),e.qZA(),e.TgZ(72,"button",27),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(73,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.VATsalesRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.VATsalesRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("value",1)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(4),e.Q6J("value",0)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",r.VATsalesRegisterReport.isSI),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.isCN))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),n})();const qW=["division"];function YW(n,a){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij(" ",t.NAME," ")}}let JW=(()=>{class n{constructor(t,r){this.masterService=t,this._trnMainService=r,this.purchaseRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.purchaseRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD"),this.purchaseRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.purchaseRegisterReport.DIV="%",this.purchaseRegisterReport.isPI=!0,this.purchaseRegisterReport.isCP=!0,this.purchaseRegisterReport.isDN=!0,this.purchaseRegisterReport.isCN=!0}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.purchaseRegisterReport.V1=1==this.purchaseRegisterReport.isPI?"PI":"",this.purchaseRegisterReport.V3=1==this.purchaseRegisterReport.isCP?"CP":"",this.purchaseRegisterReport.V2=1==this.purchaseRegisterReport.isDN?"DN":"",this.purchaseRegisterReport.V4=1==this.purchaseRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:t,data:{reportname:"VAT Purchase Register Report",reportparam:{DATE1:this.purchaseRegisterReport.DATE1,DATE2:this.purchaseRegisterReport.DATE,DIVISION:this.purchaseRegisterReport.DIV?this.purchaseRegisterReport.DIV:"%",PHISCALID:this._trnMainService.userProfile.CompanyInfo.PhiscalID?this._trnMainService.userProfile.CompanyInfo.PhiscalID:" ",V1:this.purchaseRegisterReport.V1,V2:this.purchaseRegisterReport.V2,V3:this.purchaseRegisterReport.V3}}})}divisionChanged(){this.purchaseRegisterReport.DIV=this.division.nativeElement.value}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){"AD"==r?this.purchaseRegisterReport.BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this.purchaseRegisterReport.DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this.purchaseRegisterReport.BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this.purchaseRegisterReport.DATE=this.masterService.toADDate(t))}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-purchase-register-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(qW,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:66,vars:9,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat Purchase Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.DIV=i}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,YW,2,2,"option",17),e.qZA()()(),e.TgZ(46,"div",9)(47,"fieldset")(48,"div",18)(49,"label",11)(50,"input",19),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isPI=i}),e.qZA(),e._uU(51," Trading Purchase Transaction "),e.qZA()(),e.TgZ(52,"div",18)(53,"label",11)(54,"input",20),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isCP=i}),e.qZA(),e._uU(55," Capital Purchase Transaction "),e.qZA()(),e.TgZ(56,"div",18)(57,"label",11)(58,"input",20),e.NdJ("ngModelChange",function(i){return r.purchaseRegisterReport.isDN=i}),e.qZA(),e._uU(59," Debit Note Transaction "),e.qZA()()()()()()()(),e._UZ(60,"hr",21),e.TgZ(61,"div",22)(62,"button",23),e.NdJ("click",function(){return r.onload()}),e._uU(63,"RUN"),e.qZA(),e.TgZ(64,"button",24),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(65,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.purchaseRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.purchaseRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.purchaseRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.purchaseRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r.purchaseRegisterReport.isPI),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isCP),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isDN))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),n})();const GW=["division"];function QW(n,a){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.Oqu(t.NAME)}}let KW=(()=>{class n{constructor(t,r){this.masterService=t,this._trnMainService=r,this.CreditNoteRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.CreditNoteRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.CreditNoteRegisterReport.DATE1,"AD"),this.CreditNoteRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.CreditNoteRegisterReport.DATE,"AD"),this.CreditNoteRegisterReport.DIV="%",this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.reportdataEmit.emit({status:t,data:{reportname:"Credit Note Register Report",reportparam:{DATE1:this.CreditNoteRegisterReport.DATE1,DATE2:this.CreditNoteRegisterReport.DATE,DIV:this.CreditNoteRegisterReport.DIV?this.CreditNoteRegisterReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){"AD"==r?this.CreditNoteRegisterReport.BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this.CreditNoteRegisterReport.DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this.CreditNoteRegisterReport.BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this.CreditNoteRegisterReport.DATE=this.masterService.toADDate(t))}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["creditnote-register-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(GW,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:52,vars:6,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat CreditNote Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection :"),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(i){return r.CreditNoteRegisterReport.DIV=i}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,QW,2,2,"option",17),e.qZA()()()()()()(),e._UZ(46,"hr",18),e.TgZ(47,"div",19)(48,"button",20),e.NdJ("click",function(){return r.onload()}),e._uU(49,"RUN"),e.qZA(),e.TgZ(50,"button",21),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(51,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.CreditNoteRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.CreditNoteRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.CreditNoteRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.CreditNoteRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.CreditNoteRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On],styles:["legend[_ngcontent-%COMP%] {\n    font-size: 11px;\n    font-weight: bold;\n    width: auto;\n\n  }"]}),n})();const $W=["division"];function XW(n,a){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij(" ",t.NAME,"")}}let eZ=(()=>{class n{constructor(t,r){this.masterService=t,this._trnMainService=r,this.DebitNoteRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.DebitNoteRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.DebitNoteRegisterReport.DATE1,"AD"),this.DebitNoteRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.DebitNoteRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.DebitNoteRegisterReport.DIV="%"}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.reportdataEmit.emit({status:t,data:{reportname:"Debit Note Register Report",reportparam:{DATE1:this.DebitNoteRegisterReport.DATE1,DATE2:this.DebitNoteRegisterReport.DATE,DIVISION:this.DebitNoteRegisterReport.DIV,COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,PHISCALID:" "}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){"AD"==r?this.DebitNoteRegisterReport.BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this.DebitNoteRegisterReport.DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this.DebitNoteRegisterReport.BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this.DebitNoteRegisterReport.DATE=this.masterService.toADDate(t))}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["debitnote-register-report"]],viewQuery:function(t,r){if(1&t&&e.Gf($W,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:52,vars:6,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat DebitNote Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(i){return r.DebitNoteRegisterReport.DIV=i}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,XW,2,2,"option",17),e.qZA()()()()()()(),e._UZ(46,"hr",18),e.TgZ(47,"div",19)(48,"button",20),e.NdJ("click",function(){return r.onload()}),e._uU(49,"RUN"),e.qZA(),e.TgZ(50,"button",21),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(51,"Close"),e.qZA()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r.DebitNoteRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.DebitNoteRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.DebitNoteRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.DebitNoteRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.DebitNoteRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),n})();function tZ(n,a){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let rZ=(()=>{class n{constructor(t,r,o,i){if(this.masterService=t,this._trnMainService=r,this._alertService=o,this._authService=i,this.OneLakhAbovePurchaseReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var s=new Date;s.setMonth(s.getMonth()-1),this.OneLakhAbovePurchaseReport.DATE1=s.toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAbovePurchaseReport.DATE1,"AD")}else this.OneLakhAbovePurchaseReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAbovePurchaseReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.OneLakhAbovePurchaseReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.OneLakhAbovePurchaseReport.DATE,"AD")):(this.OneLakhAbovePurchaseReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.OneLakhAbovePurchaseReport.DATE,"AD")),this.OneLakhAbovePurchaseReport.DIV="%",this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.OneLakhAbovePurchaseReport.isR1=!0,this.OneLakhAbovePurchaseReport.isR2=!0,this.OneLakhAbovePurchaseReport.isR3=!0;var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,u.p6)(d,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.OneLakhAbovePurchaseReport.R1=1==this.OneLakhAbovePurchaseReport.isR1?"1":"",this.OneLakhAbovePurchaseReport.R2=1==this.OneLakhAbovePurchaseReport.isR2?"1":"",this.OneLakhAbovePurchaseReport.R3=1==this.OneLakhAbovePurchaseReport.isR3?"1":"",this.reportdataEmit.emit({status:t,data:{reportname:"One Lakh Above Purchase Report",reportparam:{DATE1:this.OneLakhAbovePurchaseReport.DATE1,DATE2:this.OneLakhAbovePurchaseReport.DATE,DIV:this.OneLakhAbovePurchaseReport.DIV?this.OneLakhAbovePurchaseReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,R1:this.OneLakhAbovePurchaseReport.R1,R2:this.OneLakhAbovePurchaseReport.R2,R3:this.OneLakhAbovePurchaseReport.R3,DETAIL:"0",PARTY:"%",VATNO:"%"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this.OneLakhAbovePurchaseReport.BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.OneLakhAbovePurchaseReport.DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this.OneLakhAbovePurchaseReport.BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.OneLakhAbovePurchaseReport.DATE=this.masterService.toADDate(t)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["one-lakh-above-purchase-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:59,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","inherit"],[2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","inherit"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"One Lakh Above Purchase Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.cancel()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.DIV=i}),e.TgZ(38,"option",16),e._uU(39,"ALL"),e.qZA(),e.YNc(40,tZ,2,2,"option",17),e.qZA()(),e.TgZ(41,"fieldset")(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.isR1=i}),e.qZA(),e._uU(45," Credit Purchases Only "),e.qZA()(),e.TgZ(46,"div",21)(47,"label",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.isR2=i}),e.qZA(),e._uU(49," Non Credit Purchases With Pan No Only "),e.qZA()(),e.TgZ(50,"div",21)(51,"label",19)(52,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAbovePurchaseReport.isR3=i}),e.qZA(),e._uU(53," Non Credit Purchases Without Pan No Only "),e.qZA()()(),e.TgZ(54,"div",22)(55,"button",23),e.NdJ("click",function(){return r.onload()}),e._uU(56,"RUN"),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(){return r.cancel()}),e._uU(58,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.OneLakhAbovePurchaseReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.OneLakhAbovePurchaseReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.isR1),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.isR2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.isR3))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function iZ(n,a){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let oZ=(()=>{class n{constructor(t,r,o,i){if(this.masterService=t,this._trnMainService=r,this._alertService=o,this._authService=i,this.OneLakhAboveSalesReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var s=new Date;s.setMonth(s.getMonth()-1),this.OneLakhAboveSalesReport.DATE1=s.toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAboveSalesReport.DATE1,"AD")}else this.OneLakhAboveSalesReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAboveSalesReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.OneLakhAboveSalesReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.OneLakhAboveSalesReport.DATE,"AD")):(this.OneLakhAboveSalesReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.OneLakhAboveSalesReport.DATE,"AD")),this.OneLakhAboveSalesReport.DIV="%",this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.OneLakhAboveSalesReport.isR1=!0,this.OneLakhAboveSalesReport.isR2=!0,this.OneLakhAboveSalesReport.isR3=!0;var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,u.p6)(d,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.OneLakhAboveSalesReport.R1=1==this.OneLakhAboveSalesReport.isR1?"1":"",this.OneLakhAboveSalesReport.R2=1==this.OneLakhAboveSalesReport.isR2?"1":"",this.OneLakhAboveSalesReport.R3=1==this.OneLakhAboveSalesReport.isR3?"1":"",this.reportdataEmit.emit({status:t,data:{reportname:"One Lakh Above Sales Report",reportparam:{DATE1:this.OneLakhAboveSalesReport.DATE1,DATE2:this.OneLakhAboveSalesReport.DATE,DIV:this.OneLakhAboveSalesReport.DIV?this.OneLakhAboveSalesReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,R1:this.OneLakhAboveSalesReport.R1,R2:this.OneLakhAboveSalesReport.R2,R3:this.OneLakhAboveSalesReport.R3,DETAIL:"0",PARTY:"%",VATNO:"%"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this.OneLakhAboveSalesReport.BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.OneLakhAboveSalesReport.DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this.OneLakhAboveSalesReport.BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.OneLakhAboveSalesReport.DATE=this.masterService.toADDate(t)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["one-lakh-above-SALES-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:59,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","inherit"],[2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","inherit"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"One Lakh Above Sales Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.cancel()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.OneLakhAboveSalesReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.OneLakhAboveSalesReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.DIV=i}),e.TgZ(38,"option",16),e._uU(39,"ALL"),e.qZA(),e.YNc(40,iZ,2,2,"option",17),e.qZA()(),e.TgZ(41,"fieldset")(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.isR1=i}),e.qZA(),e._uU(45," Credit Sales Only "),e.qZA()(),e.TgZ(46,"div",21)(47,"label",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.isR2=i}),e.qZA(),e._uU(49," Non Credit Sales With Pan No Only "),e.qZA()(),e.TgZ(50,"div",21)(51,"label",19)(52,"input",20),e.NdJ("ngModelChange",function(i){return r.OneLakhAboveSalesReport.isR3=i}),e.qZA(),e._uU(53," Non Credit Sales Without Pan No Only "),e.qZA()()(),e.TgZ(54,"div",22)(55,"button",23),e.NdJ("click",function(){return r.onload()}),e._uU(56,"RUN"),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(){return r.cancel()}),e._uU(58,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAboveSalesReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.OneLakhAboveSalesReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAboveSalesReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.OneLakhAboveSalesReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.isR1),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.isR2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.isR3))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var nZ=v(46056),f=v(28698);const aZ=["PLedgerChild"],sZ=["genericGridAccountLedger"],lZ=["genericGridMultipleAccountLedger"];function cZ(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij(" ",t.NAME," ")}}function pZ(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function dZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",11)(2,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.SHOWNARATION=o)}),e.qZA(),e._uU(3," Show Narration in Summary "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.SHOWNARATION)}}function _Z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",11)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",48)(6,"button",49),e.NdJ("click",function(){const i=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.deleteAccount(i))}),e._uU(7,"Delete"),e.qZA()()()}if(2&n){const t=a.$implicit,r=a.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.ACNAME)}}function hZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"fieldset")(2,"legend")(3,"label",11),e._uU(4,"\xa0Ledger Wise"),e.qZA()(),e.TgZ(5,"div")(6,"div",35)(7,"input",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.multipleACNAME=o)})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.MultipleAccountEnterClicked(o))})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.MultipleAccountEnterClicked(o))}),e.qZA()(),e.TgZ(8,"div",37)(9,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addAccountToList())}),e._uU(10,"Add"),e.qZA()(),e.TgZ(11,"div",39)(12,"table",40)(13,"tr",11)(14,"th",41),e._uU(15,"S.No."),e.qZA(),e.TgZ(16,"th",42),e._uU(17,"Account"),e.qZA(),e.TgZ(18,"th",43),e._uU(19,"Action"),e.qZA()(),e.YNc(20,_Z,8,2,"tr",44),e.qZA()()(),e.TgZ(21,"div",17)(22,"label",11)(23,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.MERGEREPORT=o)}),e.qZA(),e._uU(24," Merge Combined Ledger "),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)("ngModel",t._reportFilterService.AccoutLedgerObj.multipleACNAME),e.xp6(2),e.Q6J("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(11),e.Q6J("ngForOf",t._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.MERGEREPORT)("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function uZ(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"area-list"),e.qZA())}function gZ(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t.COSTCENTERNAME," ")}}function mZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addCostcenterToList())}),e._uU(1,"Add"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function SZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",11)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",48)(6,"button",49),e.NdJ("click",function(){const i=e.CHM(t).index,s=e.oxw(3);return e.KtG(s.deleteCostcenter(i))}),e._uU(7,"Delete"),e.qZA()()()}if(2&n){const t=a.$implicit,r=a.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.COSTCENTERNAME)}}function fZ(n,a){if(1&n&&(e.TgZ(0,"div",39)(1,"table",55)(2,"tr",11)(3,"th",41),e._uU(4,"S.No."),e.qZA(),e.TgZ(5,"th",42),e._uU(6,"Cost Center"),e.qZA(),e.TgZ(7,"th",43),e._uU(8,"Action"),e.qZA()(),e.YNc(9,SZ,8,2,"tr",44),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(9),e.Q6J("ngForOf",t._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter)}}function vZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",11)(2,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts=o)})("change",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.checkCostCenterValue())}),e.qZA(),e._uU(3," Show All Cost Center "),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts)("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function OZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"fieldset")(2,"legend")(3,"label",11),e._uU(4,"\xa0Cost Center Wise"),e.qZA()(),e.TgZ(5,"div")(6,"div",35)(7,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.CCENTER=o)}),e.YNc(8,gZ,2,2,"option",51),e.qZA()(),e.TgZ(9,"div",37),e.YNc(10,mZ,2,1,"button",52),e.qZA(),e.YNc(11,fZ,10,1,"div",53),e.qZA(),e.YNc(12,vZ,4,2,"div",19),e.TgZ(13,"div",17)(14,"label",11)(15,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.MERGEREPORT=o)}),e.qZA(),e._uU(16," Merge Combined Ledger "),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.CCENTER)("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(1),e.Q6J("ngForOf",t.CostcenterList),e.xp6(2),e.Q6J("ngIf",t.showMultipleCC),e.xp6(1),e.Q6J("ngIf",t.showMultipleCC),e.xp6(1),e.Q6J("ngIf",t._reportFilterService.showAllcontactsInCC),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.MERGEREPORT)("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}let bZ=(()=>{class n{constructor(t,r,o,i,s){this.masterService=t,this._authService=r,this.alertService=o,this._reportFilterService=i,this.arouter=s,this.acname="",this.accode="",this.account=[],this.division=[],this.CostcenterList=[],this.reportdataEmit=new e.vpe,this.gridPopupSettingsForAccountLedgerList=new f.im,this.gridPopupSettingsForMultipleAccountLedgerList=new f.im,this.dropListItem=p=>new nZ.Observable(d=>{this.masterService.getAccountListACIDNotLikePA().map(_=>(this.result=_.result,this.result.filter(h=>h.ACNAME.toUpperCase().indexOf(p.toUpperCase())>-1))).subscribe(_=>{d.next(_)})}),this.masterService.reportName="Account Ledger report",this._reportFilterService.showAllcontactsInCC=!0,this._reportFilterService.AccoutLedgerObj.Reportnameis="accountledger",this._reportFilterService.AccoutLedgerObj.Reportnameis="accountledger",this.userProfile=this._authService.getUserProfile(),this.reportNameFormatWise="Account Ledger Report",this.masterService.getAccountListACIDNotLikePA().subscribe(p=>{this.account=p.data,this.AccLedger_result=0!=this.account.length}),this.division=[],this.masterService.getAllDivisions().subscribe(p=>{this.division.push(p)},p=>{this.masterService.resolveError(p,"divisions - getDivisions")}),this.masterService.getCostcenter().subscribe(p=>{this.CostcenterList=p}),this.showMultipleCC=!0,this.getReportTitle(),this.checkValueForCombine()}ngOnInit(){1!=this._reportFilterService.AccoutLedgerObj.assignPrevioiusDate&&(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.userProfile.CompanyInfo.ActualFY==this.masterService.PhiscalObj.PhiscalID?(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,"AD")):(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.changeEndDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,"AD")),this._reportFilterService.AccoutLedgerObj.AccLedger_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter="%",this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=2,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[],this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[],this.checkValue(),1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&this.checkValue()),this.changeEntryDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1,"AD")}changeEntryDate(t,r){"AD"==r?this._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=this.masterService.toADDate(t))}onload(){if(1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger||2!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts&&0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.length)if(1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger||4!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||0!=this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts&&void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter&&0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.length)if(!(1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts)||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount&&""!=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount)if(1!=this.AccLedger_result||void 0!==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&0!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger)this.DialogClosedResult("ok");else{if(void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount||""==this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount||""==this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME)return void this.alertService.info("Please Select Account");this.DialogClosedResult("ok")}else this.alertService.info("Please Select Account");else this.alertService.info("Please Select Costcenter");else this.alertService.info("Please Select Account")}getReportTitle(){this.masterService.getReportTitle(this.reportNameFormatWise).subscribe(t=>{"ok"==t.status&&(this.reportNameFormatWise=t.result)})}DialogClosedResult(t){let r=[],o="";void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter?o=this._reportFilterService.AccoutLedgerObj.CCENTER:0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.length?this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.forEach(s=>{r.push(s.CCID),o+=`${r},`}):o=this._reportFilterService.AccoutLedgerObj.CCENTER;let i=[];if(void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts?this._reportFilterService.SelectedAccount=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount:0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.length?this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.forEach(s=>{i.push(s.ACID),this._reportFilterService.SelectedAccount+=`${i},`}):this._reportFilterService.SelectedAccount=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount,4!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(o=this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter),1==this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC?(this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=1,this.reportNameFormatWise="Account Ledger Report_1"):(this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=0,this.reportNameFormatWise="Account Ledger Report"),this._reportFilterService.AccoutLedgerObj.SHOWNDATE=1==this._reportFilterService.AccoutLedgerObj.SHOWNDATE?1:0,this._reportFilterService.AccoutLedgerObj.MERGEREPORT=1==this._reportFilterService.AccoutLedgerObj.MERGEREPORT?1:0,this._reportFilterService.AccoutLedgerObj.SHOWNARATION=1==this._reportFilterService.AccoutLedgerObj.SHOWNARATION?1:0,1==this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=3,o="%"),1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&(this._reportFilterService.selectedAccountParty=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount,o=this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter,this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=0),2!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(this._reportFilterService.selectedAccountParty=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount),"ok"==t){this._reportFilterService.AccoutLedgerObj.assignPrevioiusDate=!0;let p,s=this.arouter.url.split("/");s&&s.length&&(p=s[s.length-1]);let d=this._reportFilterService.previouslyLoadedReportList.findIndex(_=>"Account Ledger Report"==_.reportname);d>=0&&this._reportFilterService.previouslyLoadedReportList.splice(d,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:"Account Ledger Report",activeurlpath:this.arouter.url,activerurlpath2:p})}this.reportdataEmit.emit({status:t,data:{reportname:this.reportNameFormatWise,reportparam:{DATE1:this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1,DATE2:this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,DIV:this._reportFilterService.AccoutLedgerObj.AccLedger_DIV?this._reportFilterService.AccoutLedgerObj.AccLedger_DIV:"%",COSTCENTER:o||"%",AREA:this._reportFilterService.AccoutLedgerObj.AccLedger_Areawise?this._reportFilterService.AccoutLedgerObj.AccLedger_Areawise:0,COMID:this.masterService.userProfile.CompanyInfo.COMPANYID,REPORTTYPE:this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType:0,IGNOREOPPOSITAC:this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC,SHOWNDATE:this._reportFilterService.AccoutLedgerObj.SHOWNDATE,ACID:this._reportFilterService.SelectedAccount?this._reportFilterService.SelectedAccount:"%",MERGEREPORT:this._reportFilterService.AccoutLedgerObj.MERGEREPORT,SHOWNARATION:this._reportFilterService.AccoutLedgerObj.SHOWNARATION,ACNAME:this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME}}})}closeReportBox(){this.DialogClosedResult("cancel")}checkValue(){2==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?(this.showLedgerTable=!0,this.acname=this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",this.accode=this._reportFilterService.AccoutLedgerObj.AccLedger_ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID="",this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount="",this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[]):(this.showLedgerTable=!1,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=this.acname,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=this.accode,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=this.accode),this.showAreaTable=1==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType,4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?(this.showCCtable=!0,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[]):this.showCCtable=!1}checkValueForCombine(){1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger?(this.showCombineLedgerList=!0,this.showMergeCombineLedger=!0,this.acname=this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",this.accode=this._reportFilterService.AccoutLedgerObj.AccLedger_ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID="",this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount="",2==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?this.showLedgerTable=!0:4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(this.showCCtable=!0)):(this.showCombineLedgerList=!1,this.showMergeCombineLedger=!1,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[],this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[])}accodeChanged(t){var r;r=this.masterService.accountList.find(o=>o.ACCODE==t),this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",r&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=t=r.ACNAME)}onEnterAcnameChange(t){this.accodeChanged(t)}itemChanged(t){"object"==typeof t&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=t.ACNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCODE=t.ACCODE,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=t.ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=t.ACID)}AccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridAccountLedger.show()}dblClickAccountSelect(t){this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=t.ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=t.ACNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=t.ACID}checkCostCenterValue(){this.showMultipleCC=1!=this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts}addCostcenterToList(){const t=this._reportFilterService.AccoutLedgerObj.CCENTER;this._reportFilterService.AccoutLedgerObj.CCENTER=t&&t.CCID?t.CCID:"";let r=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.filter(o=>o.COSTCENTERNAME==t.COSTCENTERNAME);""===t.COSTCENTERNAME||null==t.COSTCENTERNAME||0===r.length&&this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.push({CCID:t.CCID,COSTCENTERNAME:t.COSTCENTERNAME})}deleteCostcenter(t){this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.splice(t,1)}addAccountToList(){let t=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.filter(r=>r.ACNAME==this._reportFilterService.AccoutLedgerObj.multipleACNAME);""===this._reportFilterService.AccoutLedgerObj.multipleACNAME||null==this._reportFilterService.AccoutLedgerObj.multipleACNAME||0===t.length&&(this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.push({ACID:this._reportFilterService.AccoutLedgerObj.multipleACID,ACNAME:this._reportFilterService.AccoutLedgerObj.multipleACNAME}),this._reportFilterService.AccoutLedgerObj.multipleACNAME="",this._reportFilterService.AccoutLedgerObj.multipleACCODE="")}deleteAccount(t){this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.splice(t,1)}MultipleAccountEnterClicked(){this.gridPopupSettingsForMultipleAccountLedgerList=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridMultipleAccountLedger.show()}dblClickMultipleAccountSelect(t){this._reportFilterService.AccoutLedgerObj.multipleACID=t.ACID,this._reportFilterService.AccoutLedgerObj.multipleACNAME=t.ACNAME}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(E.e),e.Y36(I.c),e.Y36(R),e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["account-ledger-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(aZ,5),e.Gf(sZ,5),e.Gf(lZ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.PLedgerChild=o.first),e.iGM(o=e.CRH())&&(r.genericGridAccountLedger=o.first),e.iGM(o=e.CRH())&&(r.genericGridMultipleAccountLedger=o.first)}},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:37,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header",2,"border","0px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-12",2,"padding-top","2%"],[1,"col-md-6"],[2,"font-size","11px","font-weight","bold","width","auto","margin-bottom","-4px"],[1,"td-class"],[1,"smallBoldLabel"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar","date-input","form-control",2,"text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],["class","checkbox","style","padding-top:5px;width:200px;",4,"ngIf"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control",2,"font-weight","bold",3,"ngModel","ngModelChange","keydown.Tab","keydown.enter"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","disabled","ngModelChange","change"],["value","2"],["value","4"],[4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[1,"reportpopup",2,"width","90%"],[3,"popupsettings","onItemDoubleClick"],["genericGridAccountLedger",""],["genericGridMultipleAccountLedger",""],[3,"value"],[1,"col-md-10"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control",2,"font-weight","bold",3,"disabled","ngModel","ngModelChange","keydown.Tab","keydown.enter"],[1,"col-md-2"],["type","button",1,"btn","btn-info",3,"disabled","click"],[1,"col-md-12"],[2,"height","175px"],[2,"width","3px","font-weight","bold"],[2,"width","10px","font-weight","bold"],[2,"width","4px","font-weight","bold"],["class","smallBoldLabel",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","disabled","ngModelChange"],[2,"width","3px"],[2,"width","10px"],[2,"width","4px"],["type","button",1,"action-btn",3,"click"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button","class","btn btn-info",3,"disabled","click",4,"ngIf"],["class","col-md-12",4,"ngIf"],[3,"ngValue"],[2,"height","150px"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"button",5),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(7,"\xd7"),e.qZA(),e.TgZ(8,"h4",6),e._uU(9),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"fieldset")(13,"legend",9),e._uU(14,"Date Range Selection :"),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td",10)(18,"label",11),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td",10)(21,"label",11),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td",10)(25,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.ALo(26,"date"),e.ALo(27,"date"),e.qZA()(),e.TgZ(28,"td",10)(29,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.ALo(30,"date"),e.ALo(31,"date"),e.qZA()()(),e.TgZ(32,"tr")(33,"td",10)(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"BS")}),e.qZA()(),e.TgZ(35,"td",10)(36,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"BS")}),e.qZA()()()()(),e.TgZ(37,"fieldset")(38,"legend"),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_DIV=i}),e.TgZ(41,"option",15),e._uU(42,"ALL"),e.qZA(),e.YNc(43,cZ,2,2,"option",16),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend"),e._uU(46,"Cost Center:"),e.qZA(),e.TgZ(47,"select",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter=i}),e._UZ(48,"option",15),e.YNc(49,pZ,2,2,"option",16),e.qZA()(),e.TgZ(50,"div",17)(51,"label",11)(52,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.SHOWNDATE=i}),e.qZA(),e._uU(53," Show BS Date In Report "),e.qZA()(),e.TgZ(54,"div",17)(55,"label",11)(56,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=i}),e.qZA(),e._uU(57," Show Ledger Report in Summary "),e.qZA()(),e.YNc(58,dZ,4,1,"div",19),e.qZA(),e.TgZ(59,"div",20)(60,"fieldset")(61,"legend"),e._uU(62,"Account Selection :"),e.qZA(),e.TgZ(63,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=i})("keydown.Tab",function(){return r.AccountEnterClicked()})("keydown.enter",function(){return r.AccountEnterClicked()}),e.qZA()(),e.TgZ(64,"fieldset")(65,"legend")(66,"label",11)(67,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.EnableCombineLedger=i})("change",function(){return r.checkValueForCombine()}),e.qZA(),e._uU(68," Show Combined Ledger"),e.qZA()(),e.TgZ(69,"select",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=i})("change",function(){return r.checkValue()}),e.TgZ(70,"option",24),e._uU(71,"Multi Ledger Wise"),e.qZA(),e.TgZ(72,"option",25),e._uU(73,"Cost Center Wise"),e.qZA()()(),e.YNc(74,hZ,25,6,"div",26),e.YNc(75,uZ,2,0,"div",26),e.YNc(76,OZ,17,8,"div",26),e.qZA()(),e.TgZ(77,"div",27)(78,"button",28),e.NdJ("click",function(){return r.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",29),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()(),e.TgZ(82,"div",30)(83,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickAccountSelect(i)}),e.qZA()(),e.TgZ(85,"div",30)(86,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(i){return r.dblClickMultipleAccountSelect(i)}),e.qZA()()),2&t&&(e.xp6(9),e.Oqu(r.reportNameFormatWise),e.xp6(16),e.s9C("max",e.xi3(26,25,r.masterService.date1,"yyyy-MM-dd")),e.s9C("min",e.xi3(27,28,r.masterService.date2,"yyyy-MM-dd")),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_DATE1),e.xp6(4),e.s9C("max",e.xi3(30,31,r.masterService.date1,"yyyy-MM-dd")),e.s9C("min",e.xi3(31,34,r.masterService.date2,"yyyy-MM-dd")),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_DATE2),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_DIV),e.xp6(3),e.Q6J("ngForOf",r.division),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter),e.xp6(2),e.Q6J("ngForOf",r.CostcenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.SHOWNDATE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_ReportType)("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(5),e.Q6J("ngIf",r.showLedgerTable),e.xp6(1),e.Q6J("ngIf",r.showAreaTable&&r.showCombineLedgerList),e.xp6(1),e.Q6J("ngIf",r.showCCtable),e.xp6(7),e.Q6J("popupsettings",r.gridPopupSettingsForAccountLedgerList),e.xp6(3),e.Q6J("popupsettings",r.gridPopupSettingsForMultipleAccountLedgerList))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl,u.uU],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}",".action-btn[_ngcontent-%COMP%] {\n        width: 80%;\n        height: 80%;\n        display: block;\n        margin: 0 auto;\n        background-color: inherit;\n        border: none;\n    }\n    .input-text[_ngcontent-%COMP%]{\n        width : 100%; \n        \n        font-weight: bold;\n    }\n    .td-class[_ngcontent-%COMP%]{\n        border: none !important;\n    }\n    .date-input[_ngcontent-%COMP%]{\n        width: 93%;\n        font-size: 12px !important;\n        height: 30px !important;\n    }"]}),n})();const TZ=["genericGridSupplierPopup"];function CZ(n,a){1&n&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function MZ(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function AZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=o)}),e.YNc(4,CZ,2,0,"option",40),e.YNc(5,MZ,2,2,"option",41),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function PZ(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function RZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER=o)}),e._UZ(4,"option",44),e.TgZ(5,"option",42),e._uU(6," ALL "),e.qZA(),e.YNc(7,PZ,2,2,"option",41),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function EZ(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function DZ(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function IZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",45)(5,"select",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,EZ,2,2,"option",41),e.qZA()(),e.TgZ(7,"div",19)(8,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES=o)}),e._UZ(9,"option",42),e.YNc(10,DZ,2,2,"option",41),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}function NZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",29)(4,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",29)(8,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_INAD),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_INAD)}}function kZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Report Filter Option :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",45)(5,"label",49),e._uU(6,"Purchase Type :"),e.qZA()(),e.TgZ(7,"div",19)(8,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE=o)}),e.TgZ(9,"option",50),e._uU(10,"All"),e.qZA(),e.TgZ(11,"option",51),e._uU(12,"Local Purchase"),e.qZA(),e.TgZ(13,"option",52),e._uU(14,"Import Purchase"),e.qZA()()()(),e.TgZ(15,"div",1)(16,"div",45)(17,"label",49),e._uU(18,"Invoice Type :"),e.qZA()(),e.TgZ(19,"div",19)(20,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE=o)}),e.TgZ(21,"option",51),e._uU(22,"All"),e.qZA(),e.TgZ(23,"option",52),e._uU(24,"Trading"),e.qZA(),e.TgZ(25,"option",53),e._uU(26,"Non-Trading"),e.qZA(),e.TgZ(27,"option",54),e._uU(28,"Mixed"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE),e.xp6(12),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE)}}let yZ=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CUSTOMERNAME:"",params:"%",DIVISIONNAME:"",REPORTOPTIONDISPLAYNAME:"",INCLUDERETURNDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",SUPPLIERDISPLAYNAME:"",PURCHASETYPE:0,SHOWREVERESEENTRYONLY:0,INVOICETYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new f.im,this.AppMode=ae.N.appMode,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("FORM AUTHSERVICE",this._authService.getUserProfile().PhiscalYearInfo),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=this._transactionService.userProfile.userDivision)}),i.PurchaseBookObj.PurchaseBook_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="2",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0"):"Purchase Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0"):"Purchase Book Report_1"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="1"),this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER=this._reportFilterService.drillParam.reportparam.COSTCENTER,this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.PurchaseBookObj.PurchaseBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,"AD")):(1!=this._reportFilterService.PurchaseBookObj.assignPreviousValue&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0",this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=0,this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD="1",this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE=100,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=0,this._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE=0),this.changeVariant(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,"AD"))})}changeEntryDate(t,r){if(t>this.currDate&&"AD"==r&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate,t=this.currDate),"AD"==r)this._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if(t>this.currDate&&"AD"==r&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.currDate,t=this.currDate),"AD"==r)this._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER||null==this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV&&"%"==this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV)this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV&&"%"!=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV){let s=this.divisionList.filter(p=>p.Division==this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV);this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME=s&&s.length>0&&s[0]?s[0].NAME:""}else this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER?this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV?this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN?this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE?this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT?this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE?this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE:"%",this.repObj.reportparam.INAD=this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD?this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD:1,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME?this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER?this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER?this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE?this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE:100,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE??0,this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE?this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE:0;let t={};this.variantmaster.length>0?(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT||(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT]=this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES?this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?"@Voucher Wise Purchase Report":2==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Purchase Report":3==this.repObj.reportparam.REPORT_TYPE?"@Month Wise Purchase Report":"",this.repObj.reportparam.INCLUDERETURNDISPLAYNAME=1==this.repObj.reportparam.INCLUDE_RETURN?"@Report Including Purchase Return":0==this.repObj.reportparam.INCLUDE_RETURN?"@Report Excluding Purchase Return":"",this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?0==this.repObj.reportparam.SHOWDETALREPORT?"@Summary Report":1==this.repObj.reportparam.SHOWDETALREPORT?"@Detail Report":"":"",1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Purchase Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Purchase Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Purchase Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Book Report_3"),this.repObj.REPORTDISPLAYNAME="Purchase Book Report",this._reportFilterService.PurchaseBookObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE=t.ACID,this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onReportOptionChange(){3==this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-book-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(TZ,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:30,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],["value","100"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,AZ,6,3,"fieldset",15),e.YNc(38,RZ,8,2,"fieldset",15),e.TgZ(39,"div",16)(40,"div",17)(41,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=i})("change",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=i.target.checked?1:0}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",20),e._uU(44,"Include Purchase Return (Debit Note) Transaction Also"),e.qZA()()()(),e.TgZ(45,"div",21)(46,"fieldset")(47,"legend",10),e._uU(48,"Supplier Selection :"),e.qZA(),e.TgZ(49,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.YNc(50,IZ,11,4,"fieldset",15),e.TgZ(51,"fieldset",23),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(52,"legend",10),e._uU(53,"Report Option :"),e.qZA(),e.TgZ(54,"div",24)(55,"div",25)(56,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(57,"label"),e._uU(58,"Voucher Wise"),e.qZA()(),e.TgZ(59,"div",25)(60,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(61,"label"),e._uU(62,"Day Wise"),e.qZA()(),e.TgZ(63,"div",25)(64,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Month Wise"),e.qZA()()()(),e.TgZ(67,"fieldset")(68,"legend",10),e._uU(69,"Report Type :"),e.qZA(),e.TgZ(70,"div",29)(71,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Summary Report"),e.qZA()(),e.TgZ(74,"div",29)(75,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(76,"label"),e._uU(77,"Detail Report"),e.qZA()()(),e.YNc(78,NZ,11,2,"fieldset",15),e.TgZ(79,"div",32)(80,"div",17)(81,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=i})("change",function(i){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(82,"div",19)(83,"label",33),e._uU(84,"Show Reverse Entry Only"),e.qZA()()(),e.YNc(85,kZ,29,2,"fieldset",15),e.qZA()()(),e.TgZ(86,"div",34)(87,"button",35),e.NdJ("click",function(){return r.onload()}),e._uU(88,"RUN"),e.qZA(),e.TgZ(89,"button",36),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(90,"Close"),e.qZA()()()()()(),e.TgZ(91,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN)("checked",1==r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE)("checked",1==r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function FZ(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function jZ(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function LZ(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function wZ(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function xZ(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function VZ(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function WZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",30)(5,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,xZ,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",32)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,VZ,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let ZZ=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",SHOWDETAIL:0,PTYPE:100,params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.PTypeList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),i.SalesProductTypeObj.SalesProductType_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Product Type Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,"AD")):(1!=this._reportFilterService.SalesProductTypeObj.assignPreviousValue&&(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL="0"),this.changeVariant(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT),this.changeEntryDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER||null==this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER?this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV?this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE?this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE:100,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL?this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL:0;let t={};this.variantmaster.length>0?(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT||(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT]=this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES?this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Product Type Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Product Type Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Product Type Wise",this._reportFilterService.SalesProductTypeObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["SalesReportProductTypeWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:76,vars:22,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["value","100"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"],[1,"col"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Product Type Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=i}),e.YNc(41,FZ,2,0,"option",16),e.YNc(42,jZ,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,LZ,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Product Type Selection:"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE=i}),e._UZ(56,"option",21),e.YNc(57,wZ,2,2,"option",17),e.qZA()(),e.YNc(58,WZ,11,4,"fieldset",22),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Type :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Summary Report"),e.qZA()(),e.TgZ(67,"div",23)(68,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Detail Report"),e.qZA()()()()()()(),e.TgZ(71,"div",26)(72,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",28),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const HZ=["genericGridCustomerPopup"],UZ=["genericGridUserListPopup"];function zZ(n,a){1&n&&(e.TgZ(0,"option",53),e._uU(1,"ALL"),e.qZA())}function BZ(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function qZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_DIV=o)}),e.YNc(4,zZ,2,0,"option",51),e.YNc(5,BZ,2,2,"option",52),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function YZ(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function JZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_CCENTER=o)}),e._UZ(4,"option",55),e.TgZ(5,"option",53),e._uU(6," All "),e.qZA(),e.YNc(7,YZ,2,2,"option",52),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function GZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",36)(1,"legend",10),e._uU(2,"Order Mode Selection :"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_ORDERMODE=o)}),e.TgZ(4,"option",56),e._uU(5,"ALL"),e.qZA(),e.TgZ(6,"option",57),e._uU(7,"TAKE AWAY"),e.qZA(),e.TgZ(8,"option",58),e._uU(9,"DELIVERY"),e.qZA(),e.TgZ(10,"option",59),e._uU(11,"DINE IN"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_ORDERMODE)}}function QZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",36)(1,"legend",10),e._uU(2,"Sales Type :"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_SALESTYPE=o)}),e.TgZ(4,"option",60),e._uU(5,"ALL"),e.qZA(),e.TgZ(6,"option",61),e._uU(7,"RETAIL SALES"),e.qZA(),e.TgZ(8,"option",62),e._uU(9,"WHOLESALE SALES"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_SALESTYPE)}}function KZ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",26)(4,"label",27),e._uU(5,"Show Item Details Also"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL)("checked",1==t._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL)}}function $Z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",37)(4,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",37)(8,"input",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_INAD),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_INAD)}}let XZ=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CUSTOMERNAME:"",params:"%",DIVISIONNAME:"",REPORTOPTIONDISPLAYNAME:"",INCLUDERETURNDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",CUSTOMERDISPLAYNAME:"",ORDERMODE:"",SHOWITEMDETAIL:0,SHOWREVERESEENTRYONLY:0,SALESTYPE:"",CUSTID:"",TRNUSER:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForUserList=new f.im,this.AppMode=ae.N.appMode,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesBookObj.SalesBook_DIV=this._transactionService.userProfile.userDivision)});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{const o=r.mode;"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="1",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD"),this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="2",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):(1!=this._reportFilterService.SalesBookObj.assignPreviousValue&&(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesBookObj.SalesBook_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesBookObj.SalesBook_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=0,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=0,this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE="0",this._reportFilterService.SalesBookObj.SalesBook_INAD="1"),this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesBookObj.SalesBook_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesBookObj.SalesBook_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesBookObj.SalesBook_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesBookObj.SalesBook_CCENTER||null==this._reportFilterService.SalesBookObj.SalesBook_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesBookObj.SalesBook_DIV&&"%"==this._reportFilterService.SalesBookObj.SalesBook_DIV)this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME="All";else if(this._reportFilterService.SalesBookObj.SalesBook_DIV&&"%"!=this._reportFilterService.SalesBookObj.SalesBook_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.SalesBookObj.SalesBook_DIV);this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesBookObj.SalesBook_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesBookObj.SalesBook_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesBookObj.SalesBook_CCENTER?this._reportFilterService.SalesBookObj.SalesBook_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesBookObj.SalesBook_DIV?this._reportFilterService.SalesBookObj.SalesBook_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN?this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE?this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT?this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesBookObj.SalesBook_ACID?this._reportFilterService.SalesBookObj.SalesBook_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesBookObj.SalesBook_CUSTID?this._reportFilterService.SalesBookObj.SalesBook_CUSTID:"%",this.repObj.reportparam.INAD=this._reportFilterService.SalesBookObj.SalesBook_INAD?this._reportFilterService.SalesBookObj.SalesBook_INAD:1,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME?this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER?this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER?this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER:"",this.repObj.reportparam.ORDERMODE=this._reportFilterService.SalesBookObj.SalesBook_ORDERMODE?this._reportFilterService.SalesBookObj.SalesBook_ORDERMODE:"",this.repObj.reportparam.SHOWITEMDETAIL=this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL?this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL:0,this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE?this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE:0,this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE?this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesBookObj.SalesBook_USERNAME?this._reportFilterService.SalesBookObj.SalesBook_USERNAME:"%",3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.SHOWDETALREPORT&&(this.repObj.reportparam.SHOWITEMDETAIL=0),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?"@Voucher Wise Sales Report":2==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Sales Report":3==this.repObj.reportparam.REPORT_TYPE?"@Month Wise Sales Report":"",this.repObj.reportparam.INCLUDERETURNDISPLAYNAME=1==this.repObj.reportparam.INCLUDE_RETURN?"@Report Including Sales Return":0==this.repObj.reportparam.INCLUDE_RETURN?"@Report Excluding Sales Return":"",this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?0==this.repObj.reportparam.SHOWDETALREPORT?"@Summary Report":1==this.repObj.reportparam.SHOWDETALREPORT?"@Detail Report":"":"",1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Sales Book Report_3"),this.repObj.REPORTDISPLAYNAME="Sales Book Report",this._reportFilterService.SalesBookObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=t.CUSTID,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=t.CUSTNAME,this._reportFilterService.SalesBookObj.SalesBook_ACID=t.ACID,this._reportFilterService.SalesBookObj.SalesBook_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}onchangeReportType(){0==this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT&&(this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=0)}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesBookObj.SalesBook_USERNAME=t.UNAME}Change(){1==this._reportFilterService.SalesBookObj.SalesBook_ALLUSER&&(this._reportFilterService.SalesBookObj.SalesBook_USERNAME="")}onReportOptionChange(){3==this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-book-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(HZ,5),e.Gf(UZ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:112,vars:35,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[2,"width","100%"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange","change"],["style","width: 100%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;width:200px;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["value","%","selected",""],["value","TAKE AWAY"],["value","DELIVERY"],["value","DINE IN"],["value","0"],["value","1"],["value","2"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,qZ,6,3,"fieldset",15),e.YNc(38,JZ,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Filter Option :"),e.qZA(),e.TgZ(42,"div",1)(43,"div",16)(44,"label",17),e._uU(45,"User Name :"),e.qZA()(),e.TgZ(46,"div",18)(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(49,"input",21),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_ALLUSER=i}),e.qZA(),e.TgZ(50,"label",22),e._uU(51,"All User"),e.qZA()()()()(),e.TgZ(52,"div",23)(53,"div",24)(54,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=i})("change",function(i){return r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=i.target.checked?1:0}),e.qZA()(),e.TgZ(55,"div",26)(56,"label",27),e._uU(57,"Include Sales Return (Credit Note) Transaction Also"),e.qZA()()()(),e.TgZ(58,"div",28)(59,"fieldset")(60,"legend",10),e._uU(61,"Customer Selection :"),e.qZA(),e.TgZ(62,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(63,"fieldset",30),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(64,"legend",10),e._uU(65,"Report Option :"),e.qZA(),e.TgZ(66,"div",31)(67,"div",32)(68,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Voucher Wise"),e.qZA()(),e.TgZ(71,"div",32)(72,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(73,"label"),e._uU(74,"Day Wise"),e.qZA()(),e.TgZ(75,"div",32)(76,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(77,"label"),e._uU(78,"Month Wise"),e.qZA()()()(),e.TgZ(79,"div",1)(80,"div",5)(81,"fieldset",36)(82,"legend",10),e._uU(83,"Report Type :"),e.qZA(),e.TgZ(84,"div",37)(85,"input",38),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT=i})("change",function(){return r.onchangeReportType()}),e.qZA(),e.TgZ(86,"label"),e._uU(87,"Summary Report"),e.qZA()(),e.TgZ(88,"div",37)(89,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT=i})("change",function(){return r.onchangeReportType()}),e.qZA(),e.TgZ(90,"label"),e._uU(91,"Detail Report"),e.qZA()()()(),e.TgZ(92,"div",5),e.YNc(93,GZ,12,1,"fieldset",40),e.YNc(94,QZ,10,1,"fieldset",40),e.qZA()(),e.YNc(95,KZ,6,2,"div",41),e.YNc(96,$Z,11,2,"fieldset",15),e.TgZ(97,"div",42)(98,"div",24)(99,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=i})("change",function(i){return r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(100,"div",26)(101,"label",43),e._uU(102,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(103,"div",44)(104,"button",45),e.NdJ("click",function(){return r.onload()}),e._uU(105,"RUN"),e.qZA(),e.TgZ(106,"button",46),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(107,"Close"),e.qZA()()()()()(),e.TgZ(108,"generic-popup-grid",47,48),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(110,"generic-popup-grid",47,49),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesBookObj.SalesBook_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesBookObj.SalesBook_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_USERNAME)("disabled",1==r._reportFilterService.SalesBookObj.SalesBook_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_ALLUSER),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN)("checked",1==r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",3==r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE)("checked",1==r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var se=v(38011),it=v(72661),so=v(51405),lo=v(56893);function eH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",12),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw();return e.KtG(s.check(i,!i.data.check,o))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("indeterminate",t.data.indeterminate)("checked",t.data.check)}}function tH(n,a){if(1&n&&(e.YNc(0,eH,1,2,"input",8),e.TgZ(1,"span",9),e._UZ(2,"img",10),e.TgZ(3,"label",11),e._uU(4),e.qZA()()),2&n){const t=a.$implicit,r=e.oxw();e.Q6J("ngIf",r.multiselect),e.xp6(1),e.s9C("title",t.data.subTitle),e.xp6(3),e.Oqu(null==t.data?null:t.data.name)}}let rH=(()=>{class n{constructor(t,r,o){this.brandService=t,this.masterService=r,this.productMasterService=o,this.selectedNode=new e.vpe,this.multiselect=!1,this.mainGroupList=[],this.actionMapping={mouse:{click:(i,s,p)=>{this.multiselect&&this.afterSelect(s.data,p)}}},this.selectedItems=[],this.asyncChildren=[{name:"child2.1",subTitle:"new and improved"},{name:"child2.2",subTitle:"new and improved2"}],this.customTemplateStringOptions={displayField:"name",isExpandedField:"expanded",idField:"uuid",getChildren:this.getChildren.bind(this),allowDrag:!1},this.initTree(),this.productMasterService.getMainGroupList().subscribe(i=>{console.log("MainGroup",i),i.length>0?(this.mainGroupList=i,this.masterService.mainGroupList=i):(this.mainGroupList=[],this.masterService.mainGroupList=[])})}ngOnInit(){this.masterService.updateBrandTreeSubject.subscribe(t=>{console.log("init function ho hai"),console.log("init ma k hudaicha",t),this.initTree()}),this.multiselect&&(this.customTemplateStringOptions.actionMapping=this.actionMapping)}afterSelect(t,r){console.log("DATA on select",t,r.target.checked),r.target.checked?this.selectedItems.push(t):this.selectedItems=this.selectedItems.filter(_=>_!==t);let o="",i="";this.selectedItems.forEach(_=>{o+=`${_.id},`,i+=`${_.name},`});let s=o.substring(0,o.length-1),p=i.substring(0,i.length-1);this.selectedNode.emit({id:s,name:p})}onselect(t,r){this.selectedNode.emit(t.treeModel.getFocusedNode().data),console.log("selected node",this.selectedNode)}initTree(){this.nodes=[],this.busy=this.brandService.getBrandTree().subscribe(t=>{console.log("busy log",t),this.nodes=t[0],console.log("res0 ko log",this.nodes),null!=this.tree&&this.tree.treeModel.update()},t=>{var r=this.masterService.resolveError(t,"error");r&&alert(r)})}filterNodes(t){try{this.tree.treeModel.filterNodes(t,!0)}catch(r){console.log("Filter Not Working",r)}}getChildren(t){return new Promise((r,o)=>{setTimeout(()=>r(this.asyncChildren.map(i=>Object.assign({},i,{hasChildren:t.level<5}))),1e3)})}check(t,r){this.updateChildNodeCheckbox(t,r),this.updateParentNodeCheckbox(t.realParent)}updateChildNodeCheckbox(t,r){t.data.check=r,t.children&&t.children.forEach(o=>this.updateChildNodeCheckbox(o,r))}updateParentNodeCheckbox(t){if(!t)return;let r=!0,o=!0;for(const i of t.children)(!i.data.check||i.data.indeterminate)&&(r=!1),i.data.check&&(o=!1);r?(t.data.check=!0,t.data.indeterminate=!1):o?(t.data.check=!1,t.data.indeterminate=!1):(t.data.check=!0,t.data.indeterminate=!0),this.updateParentNodeCheckbox(t.parent)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(it.c),e.Y36(b.P),e.Y36(so.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-tree"]],viewQuery:function(t,r){if(1&t&&e.Gf(lo.qr,5),2&t){let o;e.iGM(o=e.CRH())&&(r.tree=o.first)}},inputs:{multiselect:"multiselect"},outputs:{selectedNode:"selectedNode"},features:[e._Bn([so.L])],decls:9,vars:2,consts:[[1,"plainBackground"],[1,"mx-auto"],["name","filter","placeholder","Search Item Group",1,"filterclass",3,"keyup"],["filter",""],[1,"tree"],[1,"reverse",3,"nodes","options","activate"],["tree",""],["treeNodeTemplate",""],["type","checkbox",3,"indeterminate","checked","change",4,"ngIf"],[3,"title"],["src","../../../assets/Folder.jpg","alt","Group","height","20","width","20",2,"margin-top","-2px"],[2,"padding-top","0px !important","width","auto !important","height","15px !important"],["type","checkbox",3,"indeterminate","checked","change"]],template:function(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("keyup",function(){e.CHM(o);const s=e.MAs(3);return e.KtG(r.filterNodes(s.value))}),e.qZA()(),e.TgZ(4,"div",4)(5,"tree-root",5,6),e.NdJ("activate",function(s){e.CHM(o);const p=e.MAs(6);return e.KtG(r.onselect(p,s))}),e.YNc(7,tH,5,3,"ng-template",null,7,e.W1O),e.qZA()()()}2&t&&(e.xp6(5),e.Q6J("nodes",r.nodes)("options",r.customTemplateStringOptions))},dependencies:[u.O5,lo.qr],styles:[".tree[_ngcontent-%COMP%]{overflow:auto;border:black;border-width:2px;height:70vh;width:96%;background:white;margin:10px;font-size:12px}.plainBackground[_ngcontent-%COMP%]{border:2px solid #e6e6e6;padding:5px;margin-left:5px!important;margin-right:5px!important;background-color:#f7f7f7;width:98%}.filterclass[_ngcontent-%COMP%]{width:90%;padding:10px}"]}),n})();function iH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hide())}),e._uU(6," \xd7 "),e.qZA()()()(),e.TgZ(7,"app-report-tree",7),e.NdJ("selectedNode",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.getTreeNodeValue(o))}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("multiselect",t.multiselect)}}let Ct=(()=>{class n{constructor(){this.isActive=!1,this.treeNodeValue=new e.vpe}ngOnInit(){}show(){this.isActive=!0}getTreeNodeValue(t){console.log("tree ko valueee",t),console.log("name matraaaa",t.name),this.treeNodeValue.emit(t)}hide(){console.log("helloStockLedger"),this.isActive=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-popup"]],inputs:{multiselect:"multiselect"},outputs:{treeNodeValue:"treeNodeValue"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row",2,"margin-left","-15px !important"],[1,"col-12","col-md-12"],[1,"row"],[1,"modal-header","col-md-12",2,"border","0px"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"mx-auto",2,"width","100%",3,"multiselect","selectedNode"]],template:function(t,r){1&t&&e.YNc(0,iH,8,1,"div",0),2&t&&e.Q6J("ngIf",r.isActive)},dependencies:[u.O5,rH],styles:[".container[_ngcontent-%COMP%]{position:fixed!important;transform:translate(-50px,-50px);background:#ffffff;z-index:99999;width:30.5%;top:17%;left:39%;height:85%;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px}"]}),n})();const oH=["reportPopup"],nH=["genericGridCustomerPopup"],aH=["genericGridItemPopup"],sH=["genericGridUserListPopup"],lH=["multiselectGenericGrid"];function cH(n,a){1&n&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function pH(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function dH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=o)}),e.YNc(4,cH,2,0,"option",73),e.YNc(5,pH,2,2,"option",43),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function _H(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function hH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER=o)}),e._UZ(4,"option",75),e.TgZ(5,"option",42),e._uU(6," ALL "),e.qZA(),e.YNc(7,_H,2,2,"option",43),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function uH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"input",76),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkValue(5))}),e.qZA()(),e.TgZ(3,"div",21)(4,"label",22),e._uU(5,"Cost Center Wise Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT)}}function gH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",77)(1,"div",17)(2,"div",18)(3,"div",78)(4,"input",79),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",21)(6,"label",22),e._uU(7,"Show Item Group Only"),e.qZA()()(),e.TgZ(8,"div",18)(9,"div",78)(10,"input",80),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",21)(12,"label",22),e._uU(13,"Show Item Within Groups"),e.qZA()()(),e.TgZ(14,"div",18)(15,"div",78)(16,"input",81),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(17,"div",21)(18,"label",22),e._uU(19,"Show All Item Group Hierarchy"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE)}}function mH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",82)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT)("checked",1==t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT)}}function SH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show User Wise Format"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER)("checked",1==t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER)}}function fH(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function vH(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function OH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE=o)}),e._UZ(6,"option",45),e.YNc(7,vH,2,2,"option",43),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function bH(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function TH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER=o)}),e._UZ(6,"option",42),e.YNc(7,bH,2,2,"option",43),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}function CH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE=o)}),e.TgZ(6,"option",47),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",46),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",83),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE)}}function MH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"input",84),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",85),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems)}}function AH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",101)(1,"ng-multiselect-dropdown",102),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function PH(n,a){if(1&n&&(e.TgZ(0,"div",97)(1,"div",98)(2,"label",99),e._uU(3),e.qZA()(),e.YNc(4,AH,2,4,"div",100),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function RH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",86)(2,"div",87)(3,"div",88)(4,"h5",89),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",91),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",92)(10,"div",93),e.YNc(11,PH,5,2,"div",94),e.qZA()(),e.TgZ(12,"div",95)(13,"button",96),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",96),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let EH=(()=>{class n{constructor(t,r,o,i,s,p,d,_,h){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.brandService=h,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",CUSTOMERNAME:"",MENUCODE:"",params:"%",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",CUSTOMERDISPLAYNAME:"",VATMODE:"",MANUFACTURER:"%",SALESTYPE:"",ITEMGROUP:"",VCHR1:0,VCHR2:0,CUSTID:"",TRNUSER:"",SHOWUSERWISE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForUserList=new f.im,this.multiselectPopupSettings=new se.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.AppMode=ae.N.appMode,this.masterService.getAllCostCenter().subscribe(g=>{this.costCenterList=g&&g||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(g=>{this.divisionList=g,this._reportFilterService.previouslyLoadedReportList?.some(x=>x.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(g=>{this.MCatList=g}),this.masterService.getPTypeList().subscribe(g=>{g&&(this.PTypeList=g)}),this.masterService.getItemGroup().subscribe(g=>{g&&(this.ItemGroupList=g)}),this.masterService.getProductGroupList().subscribe(g=>{g&&(this.ProductGroupList=g)}),this.masterService.getManufacturerList().subscribe(g=>{g&&(this.ManufacturerList=g)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(g=>{g.result&&g.result.length&&(this.categorywiseConfigurationdetails=g.result,this.categorywiseConfigurationdetails.forEach(S=>{if(S.SELECTEDMCAT=[],S.finalSelectedMCAT=[],S.hasOwnProperty("VARIANTVALUES")){let x=JSON.parse(S.VARIANTVALUES);S.VARIANTVALUES="object"==typeof x&&x&&x.length?x:[]}}))},g=>{});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Item Wise_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="2"):"Sales Report Item Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="3"),this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,"AD")):(1!=this._reportFilterService.SalesItemWiseObj.assignPreviousValue&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE="100",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE="0"),this.changeVariant(this._reportFilterService.SalesItemWiseObj.SalesItemWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this.masterService.toADDate(t)}}onload(){if(console.log("saels item wise",this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER),1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER||null==this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV)this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME="All";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV);this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP)this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP);this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE&&"100"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP)this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME="";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE&&"100"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE);this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?"All":this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV?this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER:"",this.repObj.reportparam.VATMODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER:"%",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME:"%",this.repObj.reportparam.SHOWUSERWISE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER:0,this._reportFilterService.SalesItemWiseObj.VCHR1>this._reportFilterService.SalesItemWiseObj.VCHR2)return void this._alertService.warning("Range selection of From must be less the To");this.repObj.reportparam.VCHR1=this._reportFilterService.SalesItemWiseObj.VCHR1,this.repObj.reportparam.VCHR2=this._reportFilterService.SalesItemWiseObj.VCHR2,console.log("to and from",this.repObj.reportparam.VCHR1,this.repObj.reportparam.VCHR2),this.repObj.reportparam.params=1==this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_4":5==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Sales Report Item Wise_5"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_VARIANT":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_1_VARIANT":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_2_VARIANT":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_3_VARIANT":4==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_4_VARIANT":5==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Sales Report Item Wise_5_VARIANT")),this.repObj.REPORTDISPLAYNAME="Sales Report Item Wise",this._reportFilterService.SalesItemWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMERCODE=t.CUSTID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=t.CUSTNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID=t.ACID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}ItemEnterCommand(t){this.getItemList(),console.log("selected itemd",this.selectMultiItems),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}changeMultiSelect(t){console.log("events",t),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE="",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM="",this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE="",this.selectMultiItems=1==t.target.checked?1:0}dblClickPopupItem(t){this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=t.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=t.DESCA,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE=t.MENUCODE}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=t.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){0==t&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="0",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),1==t&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),4==t&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="4",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),5==t&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="5",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0)}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesItemWiseObj.SalesItemWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=t.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=t.DESCA}treeNodeSelected(t){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",t),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=t.id,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=t.name}voucherRange(){this._reportFilterService.SalesItemWiseObj.VCHR1>this._reportFilterService.SalesItemWiseObj.VCHR2&&this._alertService.warning("Range selection of From must be less the To")}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME=t.UNAME}Change(){1==this._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME="")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c),e.Y36(it.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesreport-itemwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(oH,5),e.Gf(nH,5),e.Gf(aH,5),e.Gf(sH,5),e.Gf(lH,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:165,vars:46,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[2,"margin-top","0"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","1%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-top","2%","margin-bottom","2%"],[1,"row",2,"margin-bottom","-5%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],[1,"col-md-1",2,"margin-left","-20%","margin-bottom","-1%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],["class","row","style","margin-bottom: -5%;",4,"ngIf"],["style","width: 127%; margin-left: -8%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex","margin-left","19%"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","mt-2"],[2,"display","flex"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],["genericGridUserListPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["type","radio","name","reportType","value","5",3,"ngModel","ngModelChange","change"],[2,"width","127%","margin-left","-8%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","3",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],["value","2"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr",8),e.TgZ(13,"div",9)(14,"div",10)(15,"div",5)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,dH,6,3,"fieldset",16),e.YNc(38,hH,8,2,"fieldset",16),e.TgZ(39,"fieldset")(40,"legend",11),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div",12)(43,"div",5)(44,"div",17)(45,"div",18)(46,"div",19)(47,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(48,"div",21)(49,"label",22),e._uU(50,"Item Wise Report"),e.qZA()()(),e.TgZ(51,"div",18)(52,"div",23)(53,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(54,"div",21)(55,"label",22),e._uU(56,"Item Group Wise Report"),e.qZA()()(),e.TgZ(57,"div",18)(58,"div",19)(59,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(4)}),e.qZA()(),e.TgZ(60,"div",21)(61,"label",22),e._uU(62,"Day Wise Report"),e.qZA()()(),e.YNc(63,uH,6,1,"div",26),e.qZA()(),e.TgZ(64,"div",5),e.YNc(65,gH,20,3,"fieldset",27),e.qZA()()(),e.YNc(66,mH,6,2,"div",28),e.TgZ(67,"div",29)(68,"div",30)(69,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(70,"div",32)(71,"label",33),e._uU(72,"Show Item Grouping Hierarchy"),e.qZA()()(),e.YNc(73,SH,6,2,"div",34),e.qZA(),e.TgZ(74,"div",35)(75,"fieldset")(76,"legend"),e._uU(77,"Report Filter Option :"),e.qZA(),e.TgZ(78,"div",1)(79,"div",36)(80,"label",37),e._uU(81,"Item Group :"),e.qZA()(),e.TgZ(82,"div",38)(83,"app-simple-suggest",39),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=i}),e.qZA(),e.TgZ(84,"button",40),e.NdJ("click",function(){return r.reportTree()}),e._uU(85,"+"),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",36)(88,"label",37),e._uU(89,"Item Category :"),e.qZA()(),e.TgZ(90,"div",32)(91,"select",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT=i}),e._UZ(92,"option",42),e.YNc(93,fH,2,2,"option",43),e.qZA()()(),e.YNc(94,OH,8,2,"div",44),e.YNc(95,TH,8,2,"div",44),e.TgZ(96,"div",1)(97,"div",36)(98,"label",37),e._uU(99,"Vat Mode :"),e.qZA()(),e.TgZ(100,"div",32)(101,"select",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE=i}),e._UZ(102,"option",45),e.TgZ(103,"option",46),e._uU(104,"VATABLE ITEM"),e.qZA(),e.TgZ(105,"option",47),e._uU(106,"NON-VATABLE ITEM"),e.qZA()()()(),e.YNc(107,CH,12,1,"div",44),e.TgZ(108,"div",1)(109,"div",36)(110,"label",48),e._uU(111,"Customer Name :"),e.qZA()(),e.TgZ(112,"div",32)(113,"input",49),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(114,"div",1)(115,"div",50)(116,"label",51),e._uU(117,"User Name :"),e.qZA()(),e.TgZ(118,"div",52)(119,"div",53)(120,"input",54),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(121,"input",55),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER=i}),e.qZA(),e.TgZ(122,"label",56),e._uU(123,"All User"),e.qZA()()()()(),e.TgZ(124,"fieldset")(125,"legend",11),e._uU(126,"Item Selection :"),e.qZA(),e.TgZ(127,"div",1)(128,"div",36)(129,"label",37),e._uU(130,"Item Name :"),e.qZA()(),e.TgZ(131,"div",32)(132,"input",57),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.YNc(133,MH,5,2,"div",44),e.qZA(),e.TgZ(134,"fieldset")(135,"legend",11),e._uU(136,"Voucher Range Selection:"),e.qZA(),e.TgZ(137,"div",58)(138,"div",12)(139,"div",13)(140,"div",59)(141,"label"),e._uU(142," From: "),e.qZA(),e.TgZ(143,"input",60),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.VCHR1=i}),e.qZA()()(),e.TgZ(144,"div",5)(145,"div",59)(146,"label"),e._uU(147," To: "),e.qZA(),e.TgZ(148,"input",61),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseObj.VCHR2=i})("change",function(){return r.voucherRange()}),e.qZA()()()()()()()()(),e.TgZ(149,"div",62)(150,"button",63),e.NdJ("click",function(){return r.onload()}),e._uU(151,"RUN"),e.qZA(),e.TgZ(152,"button",64),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(153,"Close"),e.qZA()()()()()(),e.TgZ(154,"generic-popup-grid",65,66),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(156,"generic-popup-grid",65,67),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(158,"multiselect-generic-grid",68,69),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(160,"generic-popup-grid",65,70),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.YNc(162,RH,17,1,"div",16),e.TgZ(163,"app-report-popup",71,72),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING)("checked",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING),e.xp6(4),e.Q6J("ngIf",0==r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(10),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE),e.xp6(6),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME)("disabled",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.VCHR1),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.VCHR2),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,se.ky,Ct,rt.c,ue.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const DH=["genericGridCustomerPopup"],IH=["genericGridUserListPopup"];function NH(n,a){1&n&&(e.TgZ(0,"option",52),e._uU(1,"ALL"),e.qZA())}function kH(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function yH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_DIV=o)}),e.YNc(4,NH,2,0,"option",50),e.YNc(5,kH,2,2,"option",51),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function FH(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function jH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_CCENTER=o)}),e._UZ(4,"option",54),e.TgZ(5,"option",52),e._uU(6," ALL "),e.qZA(),e.YNc(7,FH,2,2,"option",51),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function LH(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function wH(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function xH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",55)(5,"select",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,LH,2,2,"option",51),e.qZA()(),e.TgZ(7,"div",41)(8,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES=o)}),e._UZ(9,"option",52),e.YNc(10,wH,2,2,"option",51),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}function VH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",16)(4,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",16)(8,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_INAD),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_INAD)}}let WH=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CNMODE:0,CUSTOMERNAME:"",params:"%",SHOWREVERESEENTRYONLY:0,CUSTID:"",TRNUSER:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.CreditNotebookReport={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForUserList=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.AppMode=ae.N.appMode,this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.CreditNoteObj.CreditNote_DIV=this._transactionService.userProfile.userDivision)}),i.CreditNoteObj.CreditNote_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Credit Note Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="2",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0"):"Credit Note Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0"):"Credit Note Book Report_1"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="1"),this._reportFilterService.CreditNoteObj.CreditNote_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.CreditNoteObj.CreditNote_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.CreditNoteObj.CreditNote_CNMODE=this._reportFilterService.drillParam.reportparam.CNMODE,this._reportFilterService.CreditNoteObj.CreditNote_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE2,"AD")):(1!=this._reportFilterService.CreditNoteObj.assignPreviousValue&&(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.CreditNoteObj.CreditNote_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0",this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN=0,this._reportFilterService.CreditNoteObj.CreditNote_INAD="1",this._reportFilterService.CreditNoteObj.CreditNote_CNMODE="2",this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=0),this.changeVariant(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT),this.changeEntryDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE2,"AD"))})}changeEntryDate(t,r){if(v(10484),"AD"==r)this._reportFilterService.CreditNoteObj.CreditNote_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var i=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(i))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.CreditNoteObj.CreditNote_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.CreditNoteObj.CreditNote_CCENTER||null==this._reportFilterService.CreditNoteObj.CreditNote_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.CreditNoteObj.CreditNote_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CreditNoteObj.CreditNote_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.CreditNoteObj.CreditNote_CCENTER?this._reportFilterService.CreditNoteObj.CreditNote_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.CreditNoteObj.CreditNote_DIV?this._reportFilterService.CreditNoteObj.CreditNote_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN?this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE?this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT?this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.CreditNoteObj.CreditNote_ACID?this._reportFilterService.CreditNoteObj.CreditNote_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.CreditNoteObj.CreditNote_CUSTID?this._reportFilterService.CreditNoteObj.CreditNote_CUSTID:"%",this.repObj.reportparam.INAD=this._reportFilterService.CreditNoteObj.CreditNote_INAD?this._reportFilterService.CreditNoteObj.CreditNote_INAD:1,this.repObj.reportparam.CNMODE=this._reportFilterService.CreditNoteObj.CreditNote_CNMODE?this._reportFilterService.CreditNoteObj.CreditNote_CNMODE:2,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER?this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER:"",this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE?this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE:0,this.repObj.reportparam.TRNUSER=this._reportFilterService.CreditNoteObj.CreditNote_USERNAME?this._reportFilterService.CreditNoteObj.CreditNote_USERNAME:"%";let t={};this.variantmaster.length>0?(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT||(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.CreditNoteObj.CreditNote_VARIANT]=this._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES?this._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Credit Note Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Credit Note Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Credit Note Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Credit Note Book Report_3"),this.repObj.REPORTDISPLAYNAME="Credit Note Book Report",this._reportFilterService.CreditNoteObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMERCODE=t.CUSTID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=t.CUSTNAME,this._reportFilterService.CreditNoteObj.CreditNote_ACID=t.ACID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.CreditNoteObj.CreditNote_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.CreditNoteObj.CreditNote_USERNAME=t.UNAME}Change(){1==this._reportFilterService.CreditNoteObj.CreditNote_ALLUSER&&(this._reportFilterService.CreditNoteObj.CreditNote_USERNAME="")}onReportOptionChange(){3==this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["credit-notebook-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(DH,5),e.Gf(IH,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:116,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","creditNoteOption","value","2",2,"font-size","11px",3,"ngModel","ngModelChange"],["type","radio","name","creditNoteOption","value","0",2,"font-size","11px",3,"ngModel","ngModelChange"],[2,"width","50%"],["type","radio","name","creditNoteOption","value","1",2,"font-size","11px",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Credit Note Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,yH,6,3,"fieldset",15),e.YNc(38,jH,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Credit Note Type Selection:"),e.qZA(),e.TgZ(42,"div",16)(43,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_CNMODE=i}),e.qZA(),e.TgZ(44,"label"),e._uU(45,"Both"),e.qZA()(),e.TgZ(46,"div",16)(47,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_CNMODE=i}),e.qZA(),e.TgZ(48,"label",19),e._uU(49,"Item Base Credit Note"),e.qZA()(),e.TgZ(50,"div",16)(51,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_CNMODE=i}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"A/C Base Credit Note"),e.qZA()()()(),e.TgZ(54,"div",21)(55,"fieldset")(56,"legend",10),e._uU(57,"Customer Selection :"),e.qZA(),e.TgZ(58,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"label",24),e._uU(65,"User Name :"),e.qZA()(),e.TgZ(66,"div",25)(67,"div",26)(68,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(69,"input",28),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_ALLUSER=i}),e.qZA(),e.TgZ(70,"label",29),e._uU(71,"All User"),e.qZA()()()()(),e.YNc(72,xH,11,4,"fieldset",15),e.TgZ(73,"fieldset",30),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(74,"legend",10),e._uU(75,"Report Option :"),e.qZA(),e.TgZ(76,"div",31)(77,"div",32)(78,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(79,"label"),e._uU(80,"Voucher Wise"),e.qZA()(),e.TgZ(81,"div",32)(82,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(83,"label"),e._uU(84,"Day Wise"),e.qZA()(),e.TgZ(85,"div",32)(86,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(87,"label"),e._uU(88,"Month Wise"),e.qZA()()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Report Type :"),e.qZA(),e.TgZ(92,"div",16)(93,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(94,"label"),e._uU(95,"Summary Report"),e.qZA()(),e.TgZ(96,"div",16)(97,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(98,"label"),e._uU(99,"Detail Report"),e.qZA()()(),e.YNc(100,VH,11,2,"fieldset",15),e.TgZ(101,"div",38)(102,"div",39)(103,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=i})("change",function(i){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(104,"div",41)(105,"label",42),e._uU(106,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(107,"div",43)(108,"button",44),e.NdJ("click",function(){return r.onload()}),e._uU(109,"RUN"),e.qZA(),e.TgZ(110,"button",45),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(111,"Close"),e.qZA()()()()()(),e.TgZ(112,"generic-popup-grid",46,47),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(114,"generic-popup-grid",46,48),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_USERNAME)("disabled",1==r._reportFilterService.CreditNoteObj.CreditNote_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_ALLUSER),e.xp6(3),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE)("checked",1==r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const ZH=["genericGridSupplierPopup"];function HH(n,a){1&n&&(e.TgZ(0,"option",44),e._uU(1,"ALL"),e.qZA())}function UH(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function zH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_DIV=o)}),e.YNc(4,HH,2,0,"option",42),e.YNc(5,UH,2,2,"option",43),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function BH(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function qH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_CCENTER=o)}),e._UZ(4,"option",46),e.TgZ(5,"option",44),e._uU(6," ALL "),e.qZA(),e.YNc(7,BH,2,2,"option",43),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function YH(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function JH(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function GH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",47)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,YH,2,2,"option",43),e.qZA()(),e.TgZ(7,"div",34)(8,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES=o)}),e._UZ(9,"option",44),e.YNc(10,JH,2,2,"option",43),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}function QH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",16)(4,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",16)(8,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_INAD),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_INAD)}}function KH(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Report Filter Option :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",47)(5,"label",51),e._uU(6,"Invoice Type :"),e.qZA()(),e.TgZ(7,"div",34)(8,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE=o)}),e.TgZ(9,"option",52),e._uU(10,"All"),e.qZA(),e.TgZ(11,"option",53),e._uU(12,"Trading"),e.qZA(),e.TgZ(13,"option",54),e._uU(14,"Non-Trading"),e.qZA(),e.TgZ(15,"option",55),e._uU(16,"Mixed"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE)}}let $H=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,DNMODE:0,CUSTOMERNAME:"",params:"%",SHOWREVERESEENTRYONLY:0,INVOICETYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.DebitNotebookReport={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new f.im,this.AppMode=ae.N.appMode,this.userSetting=_.getSetting(),this.userprofile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.DebitNoteObj.DebitNote_DIV=this._transactionService.userProfile.userDivision)}),i.DebitNoteObj.DebitNote_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userprofile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Debit Note Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="2",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0"):"Debit Note Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0"):"Debit Note Book Report"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="1"),this._reportFilterService.DebitNoteObj.DebitNote_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.DebitNoteObj.DebitNote_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.DebitNoteObj.DebitNote_DNMODE=this._reportFilterService.drillParam.reportparam.DNMODE,this._reportFilterService.DebitNoteObj.DebitNote_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE2,"AD")):(1!=this._reportFilterService.DebitNoteObj.assignPreviousValue&&(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.currDate>this.userprofile.PhiscalYearInfo.EndDate?this.userprofile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this.currDate>this.userprofile.PhiscalYearInfo.EndDate?this.userprofile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.DebitNoteObj.DebitNote_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0",this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN=0,this._reportFilterService.DebitNoteObj.DebitNote_INAD="1",this._reportFilterService.DebitNoteObj.DebitNote_DNMODE="2",this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=0,this._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE=0),this.changeVariant(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT),this.changeEntryDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.DebitNoteObj.DebitNote_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.DebitNoteObj.DebitNote_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.DebitNoteObj.DebitNote_CCENTER||null==this._reportFilterService.DebitNoteObj.DebitNote_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.DebitNoteObj.DebitNote_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.DebitNoteObj.DebitNote_DATE2,this.repObj.reportparam.PHISCALID=this.userprofile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.DebitNoteObj.DebitNote_CCENTER?this._reportFilterService.DebitNoteObj.DebitNote_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.DebitNoteObj.DebitNote_DIV?this._reportFilterService.DebitNoteObj.DebitNote_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN?this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE?this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT?this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE?this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE:"%",this.repObj.reportparam.INAD=this._reportFilterService.DebitNoteObj.DebitNote_INAD?this._reportFilterService.DebitNoteObj.DebitNote_INAD:1,this.repObj.reportparam.DNMODE=this._reportFilterService.DebitNoteObj.DebitNote_DNMODE?this._reportFilterService.DebitNoteObj.DebitNote_DNMODE:2,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER?this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER:"",this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE?this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE:0,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE??0;let t={};this.variantmaster.length>0?(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT||(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.DebitNoteObj.DebitNote_VARIANT]=this._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES?this._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Debit Note Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Debit Note Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Debit Note Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Debit Note Book Report_3"),this.repObj.REPORTDISPLAYNAME="Debit Note Book Report",this._reportFilterService.DebitNoteObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getSuppliersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE=t.ACID,this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=t.ACNAME}getSuppliersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.DebitNoteObj.DebitNote_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onReportOptionChange(){3==this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["debit-notebook-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(ZH,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","creditNoteOption","value","2",2,"font-size","11px",3,"ngModel","ngModelChange"],["type","radio","name","creditNoteOption","value","0",2,"font-size","11px",3,"ngModel","ngModelChange"],[2,"width","50%"],["type","radio","name","creditNoteOption","value","1",2,"font-size","11px",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Debit Note Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,zH,6,3,"fieldset",15),e.YNc(38,qH,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Debit Note Type Selection:"),e.qZA(),e.TgZ(42,"div",16)(43,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DNMODE=i}),e.qZA(),e.TgZ(44,"label"),e._uU(45,"Both"),e.qZA()(),e.TgZ(46,"div",16)(47,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DNMODE=i}),e.qZA(),e.TgZ(48,"label",19),e._uU(49,"Item Base Debit Note"),e.qZA()(),e.TgZ(50,"div",16)(51,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_DNMODE=i}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"A/C Base Debit Note"),e.qZA()()()(),e.TgZ(54,"div",21)(55,"fieldset")(56,"legend",10),e._uU(57,"Supplier Selection :"),e.qZA(),e.TgZ(58,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.YNc(59,GH,11,4,"fieldset",15),e.TgZ(60,"fieldset",23),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(61,"legend",10),e._uU(62,"Report Option :"),e.qZA(),e.TgZ(63,"div",24)(64,"div",25)(65,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(66,"label"),e._uU(67,"Voucher Wise"),e.qZA()(),e.TgZ(68,"div",25)(69,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(70,"label"),e._uU(71,"Day Wise"),e.qZA()(),e.TgZ(72,"div",25)(73,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(74,"label"),e._uU(75,"Month Wise"),e.qZA()()()(),e.TgZ(76,"fieldset")(77,"legend",10),e._uU(78,"Report Type :"),e.qZA(),e.TgZ(79,"div",16)(80,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(81,"label"),e._uU(82,"Summary Report"),e.qZA()(),e.TgZ(83,"div",16)(84,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Detail Report"),e.qZA()()(),e.YNc(87,QH,11,2,"fieldset",15),e.YNc(88,KH,17,1,"fieldset",15),e.TgZ(89,"div",31)(90,"div",32)(91,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=i})("change",function(i){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(92,"div",34)(93,"label",35),e._uU(94,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(95,"div",36)(96,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE)("checked",1==r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const XH=["multiselectGenericGrid"],eU=["reportPopup"],tU=["genericGridSupplierPopup"],rU=["genericGridItemPopup"];function iU(n,a){1&n&&(e.TgZ(0,"option",51),e._uU(1,"ALL"),e.qZA())}function oU(n,a){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function nU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=o)}),e.YNc(4,iU,2,0,"option",49),e.YNc(5,oU,2,2,"option",50),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function aU(n,a){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function sU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER=o)}),e._UZ(4,"option",53),e.TgZ(5,"option",51),e._uU(6," ALL "),e.qZA(),e.YNc(7,aU,2,2,"option",50),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function lU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",18)(2,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkValue(4))}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",21),e._uU(5,"Day Wise Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT)}}function cU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",55)(1,"div",56)(2,"div",1)(3,"div",57)(4,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",20)(6,"label",21),e._uU(7,"Show Item Group Only"),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",57)(10,"input",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",20)(12,"label",21),e._uU(13,"Show Item Within Groups"),e.qZA()()(),e.TgZ(14,"div",1)(15,"div",57)(16,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(17,"div",20)(18,"label",21),e._uU(19,"Show All Item Group Hierarchy"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE)}}function pU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT)("checked",1==t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT)}}function dU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",65)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=o.target.checked?1:0)})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onChangeEvent(o))}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Item Details Also"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO)("checked",1==t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO)}}function _U(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",29)(2,"label",30),e._uU(3,"Purchase Type :"),e.qZA()(),e.TgZ(4,"div",34)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP=o)}),e.TgZ(6,"option",66),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",67),e._uU(9,"IMPORT PURCHASE"),e.qZA(),e.TgZ(10,"option",68),e._uU(11,"LOCAL PURCHASE"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP)}}function hU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",29)(2,"label",30),e._uU(3,"Invoice Type :"),e.qZA()(),e.TgZ(4,"div",34)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE=o)}),e.TgZ(6,"option",68),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",67),e._uU(9,"TRADING"),e.qZA(),e.TgZ(10,"option",69),e._uU(11,"NON-TRADING"),e.qZA(),e.TgZ(12,"option",70),e._uU(13,"MIXED"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE)}}function uU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"input",71),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",72),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems)}}function gU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE)("checked",1==t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE)}}function mU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",89)(1,"ng-multiselect-dropdown",90),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function SU(n,a){if(1&n&&(e.TgZ(0,"div",85)(1,"div",86)(2,"label",87),e._uU(3),e.qZA()(),e.YNc(4,mU,2,4,"div",88),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function fU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",74)(2,"div",75)(3,"div",76)(4,"h5",77),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",79),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",80)(10,"div",81),e.YNc(11,SU,5,2,"div",82),e.qZA()(),e.TgZ(12,"div",83)(13,"button",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let vU=(()=>{class n{constructor(t,r,o,i,s,p,d,_,h){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.brandService=h,this.categorywiseConfigurationdetails=[],this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",SUPPLIERNAME:"",MENUCODE:"",params:"%",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",VATMODE:"",MANUFACTURER:"%",PURCHASETYPE:"",ITEMGROUP:"",SHOWBATCHWISESTOCK:0,INVOICETYPE:0,DEPARTMENT:"",MOTHERITEM:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.PurchaseReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.resultList=[],this.showVariantPopup=!1,this.multiselectPopupSettings=new se.oe,this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.finalParam={},this.AppMode=ae.N.appMode,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(g=>{this.costCenterList=g&&g||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(g=>{this.divisionList=g,this._reportFilterService.previouslyLoadedReportList?.some(x=>x.activeurlpath==this.arouter.url)||(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(g=>{this.MCatList=g}),this.masterService.getPTypeList().subscribe(g=>{g&&(this.PTypeList=g)}),this.masterService.getItemGroup().subscribe(g=>{g&&(this.ItemGroupList=g)}),this.masterService.getProductGroupList().subscribe(g=>{g&&(this.ProductGroupList=g)}),this.masterService.getManufacturerList().subscribe(g=>{g&&(this.ManufacturerList=g)}),this.masterService.getDepartmentList().subscribe(g=>{this.masterService.departmentList=g}),this.masterService.getMotherItemList().subscribe(g=>{this.masterService.motherItemList=g.result}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(g=>{g.result&&g.result.length&&(this.categorywiseConfigurationdetails=g.result,this.categorywiseConfigurationdetails.forEach(S=>{if(S.SELECTEDMCAT=[],S.finalSelectedMCAT=[],S.hasOwnProperty("VARIANTVALUES")){let x=JSON.parse(S.VARIANTVALUES);S.VARIANTVALUES="object"==typeof x&&x&&x.length?x:[]}}))},g=>{}),console.log("this.categorywiseConfigurationdetails",this.categorywiseConfigurationdetails);var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Report Item Wise_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="2"):"Purchase Report Item Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="3"),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,"AD")):(1!=this._reportFilterService.PurchaseItemWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE="100",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP="100",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=0,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE=0),this.changeVariant(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,"AD"))})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(t=>{this.resss=t[0],this.resultList=this.resss[0]})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this.masterService.toADDate(t)}}changeMultiSelect(t){console.log("events",t),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE="",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM="",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE="",this.selectMultiItems=1==t.target.checked?1:0}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER||null==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME="";if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME="";if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE&&"100"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME="";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE&&"100"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME="";this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?"All":this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWGROUPING?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME:"",this.repObj.reportparam.VATMODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MANUFACTURER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MANUFACTURER:"%",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE??0,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE??0,this.repObj.reportparam.DEPARTMENT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT:"%",this.repObj.reportparam.MOTHERITEM=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM:"%",this.repObj.reportparam.params=1==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=4),0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Purchase Report Item Wise_4"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_VARIANT":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_1_VARIANT":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_2_VARIANT":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_3_VARIANT":4==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Purchase Report Item Wise_4_VARIANT")),this.repObj.REPORTDISPLAYNAME="Purchase Report Item Wise",this._reportFilterService.PurchaseItemWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE=t.ACID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=t.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=t.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=t.DESCA,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){console.log("value check value",t),0==t&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="0"),1==t&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=0),4==t&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="4")}onChangeEvent(t){console.log("k ho esto",t),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=1==t?"2":"1"}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}reportTree(){this.reportPopup.show()}selectedValue(t){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=t.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP=t.DESCA}filterForDepartment(t){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWise_DEPARTMENT=t.DepartmentName}filterForMotherItem(t){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM=t.ID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME=t.MOTHERITEMNAME}treeNodeSelected(t){this.reportPopup.hide(),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=t.id,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP=t.name}showVariantFilter(t){1==t.target.checked?(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e),e.Y36(it.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchasereport-itemwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(XH,5),e.Gf(eU,5),e.Gf(tU,5),e.Gf(rU,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:111,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-5"],[2,"margin-top","2%","margin-bottom","2%","margin-left","-15%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["class","row",4,"ngIf"],[1,"col-md-7"],["style","width: 115%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[2,"margin-left","-10%","width","100%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"treeNodeValue"],["reportPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],[2,"width","115%"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","3",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox"],["value","100"],["value","1"],["value","0"],["value","2"],["value","3"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"row","checkbox",2,"margin-top","5px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,nU,6,3,"fieldset",15),e.YNc(38,sU,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div",11)(43,"div",16)(44,"div",17)(45,"div",1)(46,"div",18)(47,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(48,"div",20)(49,"label",21),e._uU(50,"Item Wise Report"),e.qZA()()(),e.TgZ(51,"div",1)(52,"div",18)(53,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(54,"div",20)(55,"label",21),e._uU(56,"Item Group Wise Report"),e.qZA()()(),e.YNc(57,lU,6,1,"div",23),e.qZA()(),e.TgZ(58,"div",24),e.YNc(59,cU,20,3,"fieldset",25),e.qZA()()(),e.YNc(60,pU,6,2,"div",26),e.YNc(61,dU,6,2,"div",27),e.qZA(),e.TgZ(62,"div",28)(63,"fieldset")(64,"legend"),e._uU(65,"Report Filter Option :"),e.qZA(),e.TgZ(66,"div",1)(67,"div",29)(68,"label",30),e._uU(69,"Department :"),e.qZA()(),e.TgZ(70,"div",31)(71,"app-simple-suggest",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT=i})("selectOption",function(i){return r.filterForDepartment(i)}),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",29)(74,"label",30),e._uU(75,"Main Item :"),e.qZA()(),e.TgZ(76,"div",31)(77,"app-simple-suggest",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME=i})("selectOption",function(i){return r.filterForMotherItem(i)}),e.qZA()()(),e.YNc(78,_U,12,1,"div",23),e.YNc(79,hU,14,1,"div",23),e.TgZ(80,"div",1)(81,"div",29)(82,"label",33),e._uU(83,"Supplier Name :"),e.qZA()(),e.TgZ(84,"div",34)(85,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(86,"fieldset")(87,"legend",10),e._uU(88,"Item Selection :"),e.qZA(),e.TgZ(89,"div",1)(90,"div",29)(91,"label",30),e._uU(92,"Item Name :"),e.qZA()(),e.TgZ(93,"div",34)(94,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.YNc(95,uU,5,2,"div",23),e.qZA(),e.YNc(96,gU,6,2,"div",37),e.qZA()()(),e.TgZ(97,"div",38)(98,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(99,"RUN"),e.qZA(),e.TgZ(100,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(101,"Close"),e.qZA()()()()()(),e.TgZ(102,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(104,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(106,"multiselect-generic-grid",44,45),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(108,"app-report-popup",46,47),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA(),e.YNc(110,fU,17,1,"div",15)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(10),e.Q6J("options",r.masterService.departmentList)("labelKey","DepartmentName")("valueKey","DepartmentName")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT),e.xp6(6),e.Q6J("options",r.masterService.motherItemList)("labelKey","MOTHERITEMNAME")("valueKey","MOTHERITEMNAME")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(4),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,se.ky,Ct,rt.c,ue.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const OU=["genericGridItemPopup"],bU=["genericGridUserListPopup"];function TU(n,a){1&n&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function CU(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function MU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=o)}),e.YNc(4,TU,2,0,"option",53),e.YNc(5,CU,2,2,"option",30),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function AU(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function PU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER=o)}),e._UZ(4,"option",55),e.TgZ(5,"option",29),e._uU(6," ALL "),e.qZA(),e.YNc(7,AU,2,2,"option",30),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function RU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",23),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT)("checked",1==t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT)}}function EU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"div",18)(2,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",23),e._uU(5,"Show User Wise Format"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER)("checked",1==t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER)}}function DU(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function IU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",25)(2,"label",26),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",20)(5,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE=o)}),e.TgZ(6,"option",57),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",58),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",59),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE)}}function NU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",75)(1,"ng-multiselect-dropdown",76),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function kU(n,a){if(1&n&&(e.TgZ(0,"div",71)(1,"div",72)(2,"label",73),e._uU(3),e.qZA()(),e.YNc(4,NU,2,4,"div",74),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function yU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",60)(2,"div",61)(3,"div",62)(4,"h5",63),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",65),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",66)(10,"div",67),e.YNc(11,kU,5,2,"div",68),e.qZA()(),e.TgZ(12,"div",69)(13,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let FU=(()=>{class n{constructor(t,r,o,i,s,p,d,_,h){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=s,this.arouter=p,this._ActivatedRoute=d,this._authService=_,this._alertservice=h,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORT_TYPE:0,VCHR:"",BARCODE:"",SHOWDETAIL:0,MCODE:"",ITEMGROUPWISE:0,ITEMGROUP:"",ITEMNAME:"",MENUCODE:"",params:"%",DIVISIONNAME:"",ITEMGROUPNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SEGREGATEBYITEM:0,ShowDetail:0,SALESTYPE:"",VCHR1:0,VCHR2:0,TRNUSER:"",SHOWUSERWISE:0,SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForUserList=new f.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(g=>{this.costCenterList=g&&g||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(g=>{this.divisionList=g,this._reportFilterService.previouslyLoadedReportList?.some(x=>x.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getItemGroup().subscribe(g=>{g&&(this.ItemGroupList=g)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(g=>{g.result&&g.result.length&&(this.categorywiseConfigurationdetails=g.result,this.categorywiseConfigurationdetails.forEach(S=>{if(S.SELECTEDMCAT=[],S.finalSelectedMCAT=[],S.hasOwnProperty("VARIANTVALUES")){let x=JSON.parse(S.VARIANTVALUES);S.VARIANTVALUES="object"==typeof x&&x&&x.length?x:[]}}))},g=>{});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c,this.masterService.getAccDivList(),this.AppMode=ae.N.appMode}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?"Sales Report Item Wise Detail"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETAIL,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE="0",this.changeEntryDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,"AD")):(1!=this._reportFilterService.SalesItemWiseDetailObj.assignPreviousValue&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=0,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE="0",this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=0,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE="0"),this.changeVariant(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_VARIANT),this.changeEntryDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER||null==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV&&"%"==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME="All";else if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV&&"%"!=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME="";if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP&&"%"==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP&&"%"!=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME="";if(this.repObj.reportparam.DATE1=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL??0,this.repObj.reportparam.ShowDetail=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL??0,this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPWISE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME:"",this.repObj.reportparam.SEGREGATEBYITEM=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION??0,this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME:"%",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING??0,this.repObj.reportparam.SHOWUSERWISE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER??0,this._reportFilterService.SalesItemWiseDetailObj.VCHR1>this._reportFilterService.SalesItemWiseDetailObj.VCHR2)return void this._alertService.warning("Range selection of From must be less the To");this.repObj.reportparam.VCHR1=this._reportFilterService.SalesItemWiseDetailObj.VCHR1,this.repObj.reportparam.VCHR2=this._reportFilterService.SalesItemWiseDetailObj.VCHR2,this.repObj.reportparam.params=1==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORT_TYPE?"@Bill Wise Report":1==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Report":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_1":1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_2":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM&&(this.repObj.reportname="Sales Report Item Wise Detail_3"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_VARIANT":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_1_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_2_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM&&(this.repObj.reportname="Sales Report Item Wise Detail_3_VARIANT")),this.repObj.REPORTDISPLAYNAME="Sales Report Item Wise Detail",this._reportFilterService.SalesItemWiseDetailObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE=t.MCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=t.DESCA,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}voucherRange(){this._reportFilterService.SalesItemWiseDetailObj.VCHR1>this._reportFilterService.SalesItemWiseDetailObj.VCHR2&&this._alertService.warning("Range selection of From must be less the To")}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME=t.UNAME}Change(){1==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME="")}checkValue(t){(0==t||1==t)&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-itemwise-detail"]],viewQuery:function(t,r){if(1&t&&(e.Gf(OU,5),e.Gf(bU,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:124,vars:36,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],["class","row checkbox",4,"ngIf"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex","margin-left","19%"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","change"],[1,"row","mt-2"],[2,"display","flex"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridUserListPopup",""],["value","%",4,"ngIf"],[3,"value"],["value",""],[1,"row","checkbox"],["value","0"],["value","1"],["value","2"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Item Wise Detail"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,MU,6,3,"fieldset",15),e.YNc(38,PU,8,2,"fieldset",15),e.YNc(39,RU,6,2,"div",16),e.TgZ(40,"div",17)(41,"div",18)(42,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=i})("change",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(43,"div",20)(44,"label",21),e._uU(45,"Show Item Detail In Report"),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",18)(48,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=i})("change",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=i.target.checked?1:0}),e.qZA()(),e.TgZ(49,"div",20)(50,"label",21),e._uU(51,"Show Report Without Item Wise Segregation"),e.qZA()()(),e.YNc(52,EU,6,2,"div",22),e.TgZ(53,"div",17)(54,"div",18)(55,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(56,"div",20)(57,"label",23),e._uU(58,"Show Item Grouping Hierarchy"),e.qZA()()()(),e.TgZ(59,"div",24)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Filter Option :"),e.qZA(),e.TgZ(63,"div",1)(64,"div",25)(65,"label",26),e._uU(66,"Item Name :"),e.qZA()(),e.TgZ(67,"div",20)(68,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",25)(71,"label",26),e._uU(72,"Item Group :"),e.qZA()(),e.TgZ(73,"div",20)(74,"select",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP=i}),e._UZ(75,"option",29),e.YNc(76,DU,2,2,"option",30),e.qZA()()(),e.YNc(77,IU,12,1,"div",31),e.TgZ(78,"div",1)(79,"div",32)(80,"label",33),e._uU(81,"User Name :"),e.qZA()(),e.TgZ(82,"div",34)(83,"div",35)(84,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(85,"input",37),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER=i}),e.qZA(),e.TgZ(86,"label",38),e._uU(87,"All User"),e.qZA()()()()(),e.TgZ(88,"fieldset")(89,"legend",10),e._uU(90,"Report Option :"),e.qZA(),e.TgZ(91,"div",39)(92,"div",40)(93,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE=i})("change",function(){return r.checkValue(0)}),e.qZA(),e.TgZ(94,"label"),e._uU(95,"Bill Wise Report"),e.qZA()(),e.TgZ(96,"div",40)(97,"input",42),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE=i})("change",function(){return r.checkValue(1)}),e.qZA(),e.TgZ(98,"label"),e._uU(99,"Day Wise Report"),e.qZA()()()(),e.TgZ(100,"fieldset")(101,"legend",10),e._uU(102,"Voucher Range Selection:"),e.qZA(),e.TgZ(103,"div",43)(104,"div",40)(105,"div",44)(106,"label"),e._uU(107," From: "),e.qZA(),e.TgZ(108,"input",45),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.VCHR1=i}),e.qZA()()(),e.TgZ(109,"div",40)(110,"div",44)(111,"label"),e._uU(112," To: "),e.qZA(),e.TgZ(113,"input",46),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesItemWiseDetailObj.VCHR2=i})("change",function(){return r.voucherRange()}),e.qZA()()()()()()()(),e.TgZ(114,"div",47)(115,"button",48),e.NdJ("click",function(){return r.onload()}),e._uU(116,"RUN"),e.qZA(),e.TgZ(117,"button",49),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(118,"Close"),e.qZA()()()()()(),e.TgZ(119,"generic-popup-grid",50,51),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(121,"generic-popup-grid",50,52),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.YNc(123,yU,17,1,"div",15)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION),e.xp6(4),e.Q6J("ngIf",0==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME)("disabled",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.VCHR1),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.VCHR2),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,ue.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const jU=["genericGridSupplierPopup"],LU=["genericMultiSelectItems"];function wU(n,a){1&n&&(e.TgZ(0,"option",22),e._uU(1,"ALL"),e.qZA())}function xU(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function VU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=o)}),e.YNc(4,wU,2,0,"option",38),e.YNc(5,xU,2,2,"option",23),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function WU(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function ZU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER=o)}),e._UZ(4,"option",40),e.TgZ(5,"option",22),e._uU(6," ALL "),e.qZA(),e.YNc(7,WU,2,2,"option",23),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function HU(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function UU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",17)(2,"label",18),e._uU(3,"Purchase Type :"),e.qZA()(),e.TgZ(4,"div",19)(5,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE=o)}),e.TgZ(6,"option",41),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",42),e._uU(9,"IMPORT PURCHASE"),e.qZA(),e.TgZ(10,"option",43),e._uU(11,"LOCAL PURCHASE"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE)}}function zU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",19)(4,"label",47),e._uU(5,"Show Item Detail In Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL)("checked",1==t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL)}}function BU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",19)(4,"label",47),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT)("checked",1==t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT)}}function qU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",63)(1,"ng-multiselect-dropdown",64),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function YU(n,a){if(1&n&&(e.TgZ(0,"div",59)(1,"div",60)(2,"label",61),e._uU(3),e.qZA()(),e.YNc(4,qU,2,4,"div",62),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function JU(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",48)(2,"div",49)(3,"div",50)(4,"h5",51),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",53),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",54)(10,"div",55),e.YNc(11,YU,5,2,"div",56),e.qZA()(),e.TgZ(12,"div",57)(13,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let GU=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=s,this.arouter=p,this._ActivatedRoute=d,this._authService=_,this.categorywiseConfigurationdetails=[],this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{SUPPLIERDISPLAYNAME:"",CUSTOMERNAME:"",ACID:"",DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORT_TYPE:0,VCHR:"",BARCODE:"",SHOWDETAIL:0,MCODE:"",ITEMGROUPWISE:0,ITEMGROUP:"",ITEMNAME:"",MENUCODE:"",params:"%",DIVISIONNAME:"",ITEMGROUPNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",PURCHASETYPE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.showVariantPopup=!1,this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForMultipleItems=new se.oe,this.finalParam={},this.AppMode=ae.N.appMode,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),s.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{})}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?"Purchase Report Item Wise Detail"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETAIL,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE="0",this.changeEntryDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,"AD")):(1!=this._reportFilterService.PurchaseItemWiseDetailObj.assignPreviousValue&&(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=0,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE="0",this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE="100"),this.changeVariant(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER||null==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(""==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||void 0===this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||null==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||null===this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM)return void this._alertService.info("Please Select Item");if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV&&"%"==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV&&"%"!=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME="";if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP&&"%"==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP&&"%"!=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL:0,this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPWISE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE:"",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE||"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER||"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER||"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.params=1==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORT_TYPE?"@Bill Wise Report":1==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Report":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_1":1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Report Item Wise Detail_2"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_VARIANT":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_1_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Report Item Wise Detail_2_VARIANT")),this.repObj.REPORTDISPLAYNAME="Purchase Report Item Wise Detail",this._reportFilterService.PurchaseItemWiseDetailObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemsEnterCommand(){this.getMultiItemsList(),this.genericMultiSelectItems.show()}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(t){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE=t.ACID,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=t.ACNAME}onMultiItemsSelected(t){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE=t.MCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=t.DESCA}getMultiItemsList(){this.gridPopupSettingsForMultipleItems=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){1==t.target.checked?(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-report-itemwise-detail"]],viewQuery:function(t,r){if(1&t&&(e.Gf(jU,5),e.Gf(LU,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericMultiSelectItems=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:86,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter to select Items",1,"form-control","input-text",2,"background","white",3,"ngModel","readonly","ngModelChange","keydown.enter"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["type","text","placeholder","Press Enter for Account List",1,"form-control","input-text",2,"background","white",3,"readonly","ngModel","ngModelChange","keydown.enter"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"popupsettings","onItemsSelected"],["genericMultiSelectItems",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["value","100"],["value","1"],["value","0"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Item Wise Detail"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,VU,6,3,"fieldset",15),e.YNc(38,ZU,8,2,"fieldset",15),e.qZA(),e.TgZ(39,"div",16)(40,"fieldset")(41,"legend",10),e._uU(42,"Item Selection :"),e.qZA(),e.TgZ(43,"div",1)(44,"div",17)(45,"label",18),e._uU(46,"Item Name :"),e.qZA()(),e.TgZ(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=i})("keydown.enter",function(){return r.ItemsEnterCommand()}),e.qZA()()(),e.TgZ(49,"div",1)(50,"div",17)(51,"label",18),e._uU(52,"Item Group :"),e.qZA()(),e.TgZ(53,"div",19)(54,"select",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP=i}),e._UZ(55,"option",22),e.YNc(56,HU,2,2,"option",23),e.qZA()()(),e.YNc(57,UU,12,1,"div",24),e.qZA(),e.TgZ(58,"fieldset")(59,"legend",10),e._uU(60,"Supplier Selection :"),e.qZA(),e.TgZ(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)}),e.qZA()(),e.TgZ(62,"fieldset")(63,"legend",10),e._uU(64,"Report Option :"),e.qZA(),e.TgZ(65,"div",26)(66,"div",27)(67,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE=i}),e.qZA(),e.TgZ(68,"label"),e._uU(69,"Bill Wise Report"),e.qZA()(),e.TgZ(70,"div",27)(71,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE=i}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Day Wise Report"),e.qZA()()()(),e.YNc(74,zU,6,2,"div",30),e.YNc(75,BU,6,2,"div",30),e.qZA()()(),e.TgZ(76,"div",31)(77,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(83,"multiselect-generic-grid",36,37),e.NdJ("onItemsSelected",function(i){return r.onMultiItemsSelected(i)}),e.qZA(),e.YNc(85,JU,17,1,"div",15)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM)("readonly",!0),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("readonly",!0)("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForMultipleItems),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,se.ky,ue.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const QU=["genericGridItemPopup"],KU=["genericGridSupplierPopup"];function $U(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function XU(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function ez(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function tz(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function rz(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function iz(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",25)(5,"select",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,tz,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",27)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,rz,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let oz=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,VCHR:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,ACID:"",SHOWBILLDETAIL:0,SUPPLIERNAME:"",ITEMNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForSupplier=new f.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=this._transactionService.userProfile.userDivision)}),i.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Report Supplier Wise_1"==this._reportFilterService.drillParam.reportname?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="1":"Purchase Report Supplier Wise_2"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="2"),this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE):(1!=this._reportFilterService.PurchaseSupplierWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="0",this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=0,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL=0),this.changeVariant(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER||null==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT:0,this.repObj.reportparam.SHOWBILLDETAIL=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM:"";let t={};this.variantmaster.length>0?(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT||(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT]=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),(1==this.repObj.reportparam.SHOWDETAIL||2==this.repObj.reportparam.SHOWDETAIL)&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0),this.repObj.reportparam.SHOWBILLDETAIL=2==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL?1:0,0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Supplier Wise":1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Supplier Wise_1":2==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Supplier Wise_2"),this.repObj.REPORTDISPLAYNAME="Purchase Report Supplier Wise",this._reportFilterService.PurchaseSupplierWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE=t.MCODE,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=t.DESCA}dblClickPopupParty(t){this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID=t.ACID,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=t.ACNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-report-supplier-wise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(QU,5),e.Gf(KU,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:104,vars:30,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","3%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","col-md-8"],[1,"col-md-2"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"width","85%"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Supplier Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=i}),e.YNc(41,$U,2,0,"option",16),e.YNc(42,XU,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,ez,2,2,"option",17),e.qZA()(),e.TgZ(51,"div",1)(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=i})("change",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"fieldset")(58,"legend",10),e._uU(59,"Supplier Selection :"),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Item Selection :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"label",26),e._uU(67,"Item Name :"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(70,"div",1),e._UZ(71,"div",25),e.TgZ(72,"div",29),e._UZ(73,"div",30),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Transaction >= Amount :"),e.qZA()(),e.TgZ(77,"div",5)(78,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT=i}),e.qZA()()()()(),e.YNc(79,iz,11,4,"fieldset",32),e.TgZ(80,"fieldset")(81,"legend",10),e._uU(82,"Report Type :"),e.qZA(),e.TgZ(83,"div",33)(84,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Summary Report"),e.qZA()(),e.TgZ(87,"div",33)(88,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(89,"label",36),e._uU(90,"Detail Report - By Item"),e.qZA()(),e.TgZ(91,"div",33)(92,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(93,"label",36),e._uU(94,"Detail Report - By Purchase Bill"),e.qZA()()()()()(),e.TgZ(95,"div",38)(96,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(102,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT)("checked",1==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT)("disabled",1==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL||2==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL||2==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const nz=["genericGridItemPopup"],az=["genericGridCustomerPopup"];function sz(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function lz(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function cz(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function pz(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=o.target.checked?1:0)}),e.qZA(),e.TgZ(2,"label",22),e._uU(3,"List Customer Name By Customer Type"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE)("checked",1==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE)("disabled",0!=t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL)}}function dz(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.OrgTypeCode),e.xp6(1),e.hij(" ",t.OrgTypeName,"")}}function _z(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.AREA_ID),e.xp6(1),e.hij(" ",t.AREA_NAME," ")}}function hz(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.ACID),e.xp6(1),e.hij(" ",t.PARTYTYPE,"")}}function uz(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",32)(2,"label",34),e._uU(3,"Customer Type :"),e.qZA()(),e.TgZ(4,"div",28)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE=o)}),e._UZ(6,"option",19),e.YNc(7,hz,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE),e.xp6(2),e.Q6J("ngForOf",t.CustomerTypeList)}}function gz(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function mz(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function Sz(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",32)(5,"select",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,gz,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",28)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,mz,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let fz=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,CUSTID:"",CTYPE:"",VCHR:"",AREAID:"",TRNMODE:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,SHOWBILLDETAIL:0,SHOWAREAWISE:0,ITEMNAME:"",CUSTOMERNAME:"",params:"%",PARTYTYPE:"%",SHOWCTYPEWISE:0,ACID:"%",WITHOUTCUSTOMERWISESEGRATION:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.areaLists=[],this.GeoList=[],this.variantmaster=[],this.variantvaluesList=[],this.CustomerTypeList=[],this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForCustomer=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getAreaGroup().subscribe(c=>{this.areaLists="ok"==c.status&&c.result?c.result:[]}),this.masterService.getGeoList().subscribe(c=>{"ok"==c.status&&(this.GeoList=c.result)}),this.masterService.getCustomerType().subscribe(c=>{c&&(this.CustomerTypeList=c)}),i.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Customer Wise_2"==this._reportFilterService.drillParam.reportname?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="1":"Sales Report Customer Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="2"),this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE=this._reportFilterService.drillParam.reportparam.CTYPE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=this._reportFilterService.drillParam.reportparam.SHOWAREAWISE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE=this._reportFilterService.drillParam.reportparam.TRNMODE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID=this._reportFilterService.drillParam.reportparam.AREAID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID=this._reportFilterService.drillParam.reportparam.CUSTID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this.changeEntryDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,"AD")):(1!=this._reportFilterService.SalesCustomerWiseObj.assignPreviousValue&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="0",this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=0),this.changeVariant(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER||null==this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL:0,this.repObj.reportparam.ACID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID:"%",this.repObj.reportparam.CTYPE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE:"%",this.repObj.reportparam.AREAID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID:0,this.repObj.reportparam.TRNMODE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT:0,this.repObj.reportparam.SHOWBILLDETAIL=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL:0,this.repObj.reportparam.SHOWAREAWISE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER:"",this.repObj.reportparam.PARTYTYPE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE:"%",0!=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=0),this.repObj.reportparam.SHOWCTYPEWISE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE:0,this.repObj.reportparam.WITHOUTCUSTOMERWISESEGRATION=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION:0;let t={};this.variantmaster.length>0?(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT||(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT]=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",(1==this.repObj.reportparam.SHOWDETAIL||2==this.repObj.reportparam.SHOWDETAIL)&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0,this.repObj.reportparam.SHOWAREAWISE=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.CUSTID="%"),0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWAREAWISE?this.repObj.reportname="Sales Report Customer Wise":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWAREAWISE?this.repObj.reportname="Sales Report Customer Wise_1":1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Customer Wise_2":2==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Customer Wise_3":3==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Customer Wise_4"),this.repObj.REPORTDISPLAYNAME="Sales Report Customer Wise",this._reportFilterService.SalesCustomerWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE=t.MCODE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=t.DESCA}dblClickPopupParty(t){this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=t.ACID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID=t.CUSTID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=t.CUSTNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=t.ACID}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onChangeValue(){0!=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-customer-wise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(nz,5),e.Gf(az,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:143,vars:44,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","-9%","margin-left","5%","font-weight","bold","width","110%"],[1,"col",2,"padding-left","5px","margin-top","-5%"],[2,"font-size","11px","margin-left","5%","font-weight","bold","width","110%","margin-top","-9%"],["class","col","style","padding-left:5px;margin-top: -5%;",4,"ngIf"],[1,"row","checkbox",2,"padding-left","5px"],[1,"col-sm-1",2,"margin-left","-3%"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%","width","100% !important"],[2,"margin-left","-10%"],["value","0"],[1,"row","col-md-8"],[1,"form-control",2,"width","140%","margin-left","-9%","margin-top","8%","height","30px",3,"ngModel","ngModelChange"],["value","CREDIT"],["value","NONCREDIT"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change","click"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change","click"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridCustomerPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report- Customer Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=i}),e.YNc(41,sz,2,0,"option",16),e.YNc(42,lz,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49,"ALL "),e.qZA(),e.YNc(50,cz,2,2,"option",17),e.qZA()(),e.TgZ(51,"div")(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=i})("change",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"List Customer Name By Area"),e.qZA()(),e.TgZ(56,"div",23)(57,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=i})("change",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(58,"label",24),e._uU(59,"Sort in Top N Basis"),e.qZA()(),e.YNc(60,pz,4,3,"div",25),e.TgZ(61,"div",26)(62,"div",27)(63,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=i})("change",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=i.target.checked?1:0}),e.qZA()(),e.TgZ(64,"div",28)(65,"label",29),e._uU(66,"Show Report Without Customer Wise Record Segregation"),e.qZA()()()()(),e.TgZ(67,"div",30)(68,"fieldset")(69,"legend",10),e._uU(70,"Customer Selection :"),e.qZA(),e.TgZ(71,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(72,"fieldset")(73,"div",1)(74,"div",32)(75,"label",33),e._uU(76,"Customer Category :"),e.qZA()(),e.TgZ(77,"div",28)(78,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE=i}),e._UZ(79,"option",19),e.YNc(80,dz,2,2,"option",17),e.qZA()()(),e.TgZ(81,"div",1)(82,"div",32)(83,"label",34),e._uU(84,"Area :"),e.qZA()(),e.TgZ(85,"div",28)(86,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID=i}),e._UZ(87,"option",35),e.YNc(88,_z,2,2,"option",17),e.qZA()()(),e.TgZ(89,"div",1)(90,"div",32)(91,"label",33),e._uU(92,"Transaction Mode :"),e.qZA()(),e.TgZ(93,"div",36)(94,"div",32)(95,"select",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE=i}),e._UZ(96,"option",19),e.TgZ(97,"option",38),e._uU(98,"Credit"),e.qZA(),e.TgZ(99,"option",39),e._uU(100,"Non Credit"),e.qZA()()(),e.TgZ(101,"div",32)(102,"label",34),e._uU(103,"Transaction >= Amount :"),e.qZA()(),e.TgZ(104,"div",32)(105,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=i}),e.qZA()()()(),e.TgZ(106,"div",1)(107,"div",32)(108,"label",34),e._uU(109,"Item Name :"),e.qZA()(),e.TgZ(110,"div",28)(111,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.YNc(112,uz,8,2,"div",42),e.qZA(),e.YNc(113,Sz,11,4,"fieldset",43),e.TgZ(114,"fieldset")(115,"legend",10),e._uU(116,"Report Type :"),e.qZA(),e.TgZ(117,"div")(118,"div",44)(119,"input",45),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return r.onChangeValue()}),e.qZA(),e.TgZ(120,"label",46),e._uU(121,"Summary Report - By Customer"),e.qZA()(),e.TgZ(122,"div",44)(123,"input",47),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return r.onChangeValue()}),e.qZA(),e.TgZ(124,"label",46),e._uU(125,"Summary Report - Day Wise"),e.qZA()(),e.TgZ(126,"div",44)(127,"input",48),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return r.onChangeValue()})("click",function(){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=null}),e.qZA(),e.TgZ(128,"label",46),e._uU(129,"Detail Report - By Item"),e.qZA()(),e.TgZ(130,"div",44)(131,"input",49),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return r.onChangeValue()})("click",function(){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=null}),e.qZA(),e.TgZ(132,"label",46),e._uU(133,"Detail Report - By Sales Bill"),e.qZA()()()()()()(),e.TgZ(134,"div",50)(135,"button",51),e.NdJ("click",function(){return r.onload()}),e._uU(136,"RUN"),e.qZA(),e.TgZ(137,"button",52),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(138,"Close"),e.qZA()()()()()(),e.TgZ(139,"generic-popup-grid",53,54),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(141,"generic-popup-grid",53,55),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE)("disabled",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT)("disabled",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(3),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION)("disabled",0==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||3==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE),e.xp6(2),e.Q6J("ngForOf",r.GeoList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID),e.xp6(2),e.Q6J("ngForOf",r.areaLists),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const vz=["genericGridItemPopup"],Oz=["genericGridSupplierPopup"];function bz(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Tz(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Cz(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function Mz(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function Az(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function Pz(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",25)(5,"select",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,Mz,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",27)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Az,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let Rz=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._alertService=p,this._ActivatedRoute=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,VCHR:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,ACID:"",SHOWBILLDETAIL:0,SUPPLIERNAME:"",ITEMNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForSupplier=new f.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=this._transactionService.userProfile.userDivision)}),i.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Supplier Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,"AD")):(1!=this._reportFilterService.SalesSupplierWiseObj.assignPreviousValue&&(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL="0",this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=0,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWBILLDETAIL=0),this.changeVariant(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER||null==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(1==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL&&(""==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||void 0===this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||null==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||null===this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER))return void this._alertService.info("Please Select Supplier");this.repObj.reportparam.DATE1=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM:"";let t={};this.variantmaster.length>0?(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT||(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT]=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0),0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Supplier Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Supplier Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Supplier Wise",this._reportFilterService.SalesSupplierWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE=t.MCODE,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=t.DESCA}dblClickPopupParty(t){this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID=t.ACID,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=t.ACNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(I.c),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-supplier-wise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(vz,5),e.Gf(Oz,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:100,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","2%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","col-md-8"],[1,"col-md-2"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Supplier Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=i}),e.YNc(41,bz,2,0,"option",16),e.YNc(42,Tz,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Cz,2,2,"option",17),e.qZA()(),e.TgZ(51,"div",1)(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=i})("change",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"fieldset")(58,"legend",10),e._uU(59,"Supplier Selection :"),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Item Selection :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"label",26),e._uU(67,"Item Name :"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(70,"div",1),e._UZ(71,"div",25),e.TgZ(72,"div",29),e._UZ(73,"div",30),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Transaction >= Amount :"),e.qZA()(),e.TgZ(77,"div",5)(78,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT=i}),e.qZA()()()()(),e.YNc(79,Pz,11,4,"fieldset",32),e.TgZ(80,"fieldset")(81,"legend",10),e._uU(82,"Report Type :"),e.qZA(),e.TgZ(83,"div",33)(84,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Summary Report"),e.qZA()(),e.TgZ(87,"div",33)(88,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(89,"label"),e._uU(90,"Detail Report"),e.qZA()()()()()(),e.TgZ(91,"div",36)(92,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(93,"RUN"),e.qZA(),e.TgZ(94,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(95,"Close"),e.qZA()()()()()(),e.TgZ(96,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(98,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT)("checked",1==r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT)("disabled",1==r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Ez(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Dz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Iz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function Nz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function kz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function yz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function Fz(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",34)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,kz,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",25)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,yz,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let jz=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",MCAT:"",SHOWREPORT_ON_EXTRA_CATEGORY:0,SHOWDETAIL:0,VCHR:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),i.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Category Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,"AD")):(1!=this._reportFilterService.SalesCategoryWiseObj.assignPreviousValue&&(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL="0",this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=0),this.changeVariant(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this.masterService.toADDate(t),this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this.masterService.toADDate(t),this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER||null==this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV:"%",this.repObj.reportparam.MCAT=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT:"%",this.repObj.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let t={};this.variantmaster.length>0?(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT||(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT]=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Category Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Category Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Category Wise",this._reportFilterService.SalesCategoryWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["SalesReportCategoryWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:82,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Category Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=i}),e.YNc(41,Ez,2,0,"option",16),e.YNc(42,Dz,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Iz,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Category Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT=i}),e._UZ(56,"option",19),e.YNc(57,Nz,2,2,"option",17),e.qZA()(),e.YNc(58,Fz,11,4,"fieldset",21),e.TgZ(59,"div",22)(60,"div",23)(61,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i})("change",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i.target.checked?1:0}),e.qZA()(),e.TgZ(62,"div",25)(63,"label",26),e._uU(64,"Show Report Of Extra Category"),e.qZA()()(),e.TgZ(65,"fieldset")(66,"legend",10),e._uU(67,"Report Type :"),e.qZA(),e.TgZ(68,"div",1)(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(71,"label"),e._uU(72,"Summary Report"),e.qZA()(),e.TgZ(73,"div",27)(74,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(75,"label"),e._uU(76,"Detail Report"),e.qZA()()()()()()(),e.TgZ(77,"div",30)(78,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",32),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY)("checked",1==r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Lz=["division"];function wz(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let xz=(()=>{class n{constructor(t,r,o,i){if(this.masterService=t,this._trnMainService=r,this._alertService=o,this._authService=i,this.VATsalesRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",REPMODE:"",V1:"",V2:"",V3:""},REPORTDISPLAYNAME:""},this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var s=new Date;s.setMonth(s.getMonth()-1),this.VATsalesRegisterReport.DATE1=s.toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD")}else this.VATsalesRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.VATsalesRegisterReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD")):(this.VATsalesRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD")),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.VATsalesRegisterReport.isSI=!0,this.VATsalesRegisterReport.isCN=!0,this.VATsalesRegisterReport.SUMMARYREPORT=0;var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,u.p6)(d,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.VATsalesRegisterReport.V1=1==this.VATsalesRegisterReport.isSI?"SI":"",this.VATsalesRegisterReport.V2=1==this.VATsalesRegisterReport.isCN?"CN":"",this.repObj.reportparam.DATE1=this.VATsalesRegisterReport.DATE1,this.repObj.reportparam.DATE2=this.VATsalesRegisterReport.DATE,this.repObj.reportparam.DIV=this.VATsalesRegisterReport.DIV?this.VATsalesRegisterReport.DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.REPMODE=this.VATsalesRegisterReport.SUMMARYREPORT,this.repObj.reportparam.V1=this.VATsalesRegisterReport.V1,this.repObj.reportparam.V2=this.VATsalesRegisterReport.V2,this.repObj.reportparam.V3="XX","1"==this.repObj.reportparam.REPMODE?this.repObj.reportname="VAT Sales Register Report":"0"==this.repObj.reportparam.REPMODE&&(this.repObj.reportname="VAT Sales Register Report_1"),this.repObj.REPORTDISPLAYNAME="VAT Sales Register Report",this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this.VATsalesRegisterReport.DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this.VATsalesRegisterReport.BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.VATsalesRegisterReport.DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this.VATsalesRegisterReport.BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.VATsalesRegisterReport.DATE=this.masterService.toADDate(t)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesregisterreport-dialog"]],viewQuery:function(t,r){if(1&t&&e.Gf(Lz,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:69,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff","width","69%","margin-left","280px"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"radio",2,"width","152px"],[1,"smallBoldLabel",2,"width","100%"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[2,"display","flex"],[1,"checkbox",2,"padding-top","5px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","152px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Sales Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.VATsalesRegisterReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.VATsalesRegisterReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.DIV=i})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,wz,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",9),e._uU(44,"Report Mode:"),e.qZA(),e.TgZ(45,"div",19)(46,"label",20)(47,"input",21),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(48," Summary Report"),e.qZA()(),e.TgZ(49,"div",19)(50,"label",20)(51,"input",21),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(52," Detail Report"),e.qZA()()(),e.TgZ(53,"fieldset")(54,"div",22)(55,"div")(56,"div",23)(57,"label",20)(58,"input",24),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.isSI=i}),e.qZA(),e._uU(59," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(60,"div",25)(61,"label",20)(62,"input",24),e.NdJ("ngModelChange",function(i){return r.VATsalesRegisterReport.isCN=i}),e.qZA(),e._uU(63," Show Credit Note "),e.qZA()()()()(),e.TgZ(64,"div",26)(65,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(66,"RUN"),e.qZA(),e.TgZ(67,"button",28),e.NdJ("click",function(){return r.cancel()}),e._uU(68,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.VATsalesRegisterReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.VATsalesRegisterReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("value",1)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(4),e.Q6J("value",0)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(7),e.Q6J("ngModel",r.VATsalesRegisterReport.isSI),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.isCN))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,D.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Vz(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Wz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Zz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function Hz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function Uz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function zz(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function Bz(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",34)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,Uz,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",24)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,zz,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let qz=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",MCAT:"",SHOWREPORT_ON_EXTRA_CATEGORY:0,SHOWDETAIL:0,VCHR:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),i.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Purchase Report Category Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,"AD")):(1!=this._reportFilterService.PurchaseCategoryWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL="0",this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=0),this.changeVariant(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER||null==this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV:"%",this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT:"%",this.repObj.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let t={};this.variantmaster.length>0?(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT||(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT]=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Category Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Category Wise_1"),this.repObj.REPORTDISPLAYNAME="Purchase Report Category Wise",this._reportFilterService.PurchaseCategoryWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["PurchaseReportCategoryWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:82,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Category Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=i}),e.YNc(41,Vz,2,0,"option",16),e.YNc(42,Wz,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Zz,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Category Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT=i}),e._UZ(56,"option",19),e.YNc(57,Hz,2,2,"option",17),e.qZA()(),e.TgZ(58,"div",21)(59,"div",22)(60,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i})("change",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i.target.checked?1:0}),e.qZA()(),e.TgZ(61,"div",24)(62,"label",25),e._uU(63,"Show Report Of Extra Category"),e.qZA()()(),e.YNc(64,Bz,11,4,"fieldset",26),e.TgZ(65,"fieldset")(66,"legend",10),e._uU(67,"Report Type :"),e.qZA(),e.TgZ(68,"div",1)(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(71,"label"),e._uU(72,"Summary Report"),e.qZA()(),e.TgZ(73,"div",27)(74,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(75,"label"),e._uU(76,"Detail Report"),e.qZA()()()()()()(),e.TgZ(77,"div",30)(78,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",32),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY)("checked",1==r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY),e.xp6(4),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Yz=["genericGridSupplierPopup"];function Jz(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Gz(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME,"\n")}}function Qz(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function Kz(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function $z(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.VARIANTNAME),e.xp6(1),e.hij(" ",t.VARIANTNAME," ")}}function Xz(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function eB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",32)(5,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,$z,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",34)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Xz,2,2,"option",17),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT),e.xp6(1),e.Q6J("ngForOf",t.variantmaster),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",t.variantvaluesList)}}let tB=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",SHOWDETAIL:0,PTYPE:100,params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.PTypeList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new f.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),i.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Purchase Report Product Type Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,"AD")):(1!=this._reportFilterService.PurchaseProductTypeObj.assignPreviousValue&&(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL="0"),this.changeVariant(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER||null==this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE:100,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let t={};this.variantmaster.length>0?(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT||(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT]=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Product Type Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Product Type Wise_1"),this.repObj.REPORTDISPLAYNAME="Purchase Report Product Type Wise",this._reportFilterService.PurchaseProductTypeObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CUSTOMERCODE=t.ACID,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["PurchaseReportProductTypeWise"]],viewQuery:function(t,r){if(1&t&&e.Gf(Yz,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:78,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["value","100"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"],[1,"col"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report Product Type Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=i}),e.YNc(41,Jz,2,0,"option",16),e.YNc(42,Gz,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Qz,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Product Type Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE=i}),e._UZ(56,"option",21),e.YNc(57,Kz,2,2,"option",17),e.qZA()(),e.YNc(58,eB,11,4,"fieldset",22),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Type :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Summary Report"),e.qZA()(),e.TgZ(67,"div",23)(68,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Detail Report"),e.qZA()()()()()()(),e.TgZ(71,"div",26)(72,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",28),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()(),e.TgZ(76,"generic-popup-grid",29,30),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var rB=v(63321),ke=v(63213);const iB=["reportPopup"],oB=["genericGridSupplierPopup"],nB=["genericGridItemPopup"],aB=["multiselectGenericGrid"];function sB(n,a){1&n&&(e.TgZ(0,"option",55),e._uU(1,"ALL"),e.qZA())}function lB(n,a){if(1&n&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function cB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",9),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",75),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_DIV=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelectDivision(o))}),e.YNc(4,sB,2,0,"option",76),e.YNc(5,lB,2,2,"option",56),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function pB(n,a){1&n&&(e.TgZ(0,"label",19),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function dB(n,a){1&n&&(e.TgZ(0,"label",19),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function _B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",16)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",18),e.YNc(4,pB,2,0,"label",78),e.YNc(5,dB,2,0,"label",78),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE)}}function hB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",79)(2,"div",43)(3,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(4,"div",45)(5,"label",64),e._uU(6,"Show Variant Filters Popup"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT)}}function uB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",80)(2,"div",43)(3,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",45)(5,"label",64),e._uU(6,"Include Transit Data"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA)}}function gB(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ng-multiselect-dropdown",81),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=o)}),e.ALo(2,"disableField"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Warehouse ")("settings",t.warehousedropdownSettings)("data",t.warehouseList)("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE)("disabled",e.lcZ(2,5,"disableWareHouse"))}}function mB(n,a){if(1&n&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function SB(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",82),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=o)}),e.ALo(2,"disableField"),e._UZ(3,"option",55),e.YNc(4,mB,2,2,"option",56),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE)("disabled",e.lcZ(2,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList)}}function fB(n,a){if(1&n&&(e.TgZ(0,"fieldset")(1,"legend",9),e._uU(2,"Warehouse Selection:"),e.qZA(),e.YNc(3,gB,3,7,"ng-container",14),e.YNc(4,SB,5,5,"ng-container",14),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",0==t.userSetting.UserWiseWarehouse),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.UserWiseWarehouse)}}function vB(n,a){if(1&n&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function OB(n,a){if(1&n&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function bB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",49)(2,"label",50),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",45)(5,"select",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_PTYPE=o)}),e._UZ(6,"option",83),e.YNc(7,OB,2,2,"option",56),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function TB(n,a){if(1&n&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function CB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",61)(2,"label",50),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",45)(5,"select",84),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER=o)}),e._UZ(6,"option",55),e.YNc(7,TB,2,2,"option",56),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}function MB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"input",85),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",86),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems)}}function AB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",9),e._uU(2,"Report Format :"),e.qZA(),e.TgZ(3,"div",87)(4,"div",88)(5,"input",89),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT=o)}),e.qZA(),e.TgZ(6,"label"),e._uU(7,"Summary Report"),e.qZA()(),e.TgZ(8,"div",88)(9,"input",90),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT=o)}),e.qZA(),e.TgZ(10,"label"),e._uU(11,"Detail Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT)}}function PB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",91)(2,"div",92)(3,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",45)(5,"label",93),e._uU(6,"Show Batch Wise Stock Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE)}}function RB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",80)(2,"div",2)(3,"div",63)(4,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=o.target.checked?1:0)}),e.qZA()(),e.TgZ(5,"div",45)(6,"label",64),e._uU(7,"Show Variant in Report"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_ShowVariant)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_ShowVariant)}}function EB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",42)(2,"div",2)(3,"div",63)(4,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(5,"div",45)(6,"label",64),e._uU(7,"Show Alt Unit Stock Report"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)}}function DB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",91)(2,"div",2)(3,"div",63)(4,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(5,"div",45)(6,"label",64),e._uU(7,"Show Alt Unit Stock Report"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)}}function IB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",109)(1,"ng-multiselect-dropdown",110),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function NB(n,a){if(1&n&&(e.TgZ(0,"div",105)(1,"div",106)(2,"label",107),e._uU(3),e.qZA()(),e.YNc(4,IB,2,4,"div",108),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function kB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",94)(2,"div",95)(3,"div",96)(4,"h5",97),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",98),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",99),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",100)(10,"div",101),e.YNc(11,NB,5,2,"div",102),e.qZA()(),e.TgZ(12,"div",103)(13,"button",104),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",104),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let yB=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",WAREHOUSETYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0,MANUFACTURER:"%",DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",SHOWLCOSTFORLOCALPURCHASE:0,INCLUDETRANSITDATA:0,ITEMGROUP:"",ShowVariant:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.multiselectPopupSettings=new se.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.variantparamters2={},this.finalParam={},this.AppMode=ae.N.appMode,this.userSetting=_.getSetting(),console.log("usersetting....",this.userSetting.EnableVariantCategory),this.userProfile=this._authService.getUserProfile(),console.log("userprofile....",this.userProfile),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getProductGroupList().subscribe(c=>{c&&(this.ProductGroupList=c)}),this.masterService.getWarehouseListByDivision(this._reportFilterService.StockSummaryObj.StockSummary_DIV??"").subscribe(c=>{this.warehouseList=c.result},c=>{this.warehouseList=[]}),this.masterService.getManufacturerList().subscribe(c=>{c&&(this.ManufacturerList=c)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100},this.warehousedropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"NAME",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:200};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?"Stock Summary Report_A"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):"Stock Summary Report_4"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="2",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=1,this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):"Stock Summary Report_2"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="1",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=1,this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):(1!=this._reportFilterService.StockSummaryObj.assignPreviousValue&&(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockSummaryObj.StockSummary_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":"lite"==this.AppMode?this.masterService.userProfile.userDivision:this.masterService.PhiscalObj.Div,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=0,this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=0,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=1==this.userSetting.UserWiseWarehouse?this.userProfile.userWarehouse:"%",this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=0),"lite"==this.AppMode&&(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this.masterService.userProfile.userWarehouse),this.changeVariant(this._reportFilterService.StockSummaryObj.StockSummary_VARIANT),this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD"))}),0===this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA?this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA=0:this.userSetting.EnableTransitWiseTransferIn&&(this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA=1)}onSelectDivision(t){this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE="%",this.masterService.getWarehouseListByDivision(t.target.value).subscribe(r=>{this.warehouseList=r.result},r=>{this.warehouseList=[]})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.StockSummaryObj.StockSummary_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.StockSummaryObj.StockSummary_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this.masterService.toADDate(t)}}changeMultiSelect(t){console.log("events",t),this._reportFilterService.StockSummaryObj.StockSummary_MCODE="",this._reportFilterService.StockSummaryObj.StockSummary_ITEM="",this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE="",this.selectMultiItems=1==t.target.checked?1:0}onload(){let t=[];if(0==this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE.length&&(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE="%"),"%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE.forEach(s=>{t.push(s.NAME)}),this._reportFilterService.StockSummaryObj.StockSummary_DIV&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_DIV)this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME="All";else if(this._reportFilterService.StockSummaryObj.StockSummary_DIV&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_DIV){let s=this.divisionList.filter(p=>p.Division==this._reportFilterService.StockSummaryObj.StockSummary_DIV);this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME=s&&s.length>0&&s[0]?s[0].NAME:""}else this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME="";if(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSENAME=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?"All":this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE:"",this._reportFilterService.StockSummaryObj.StockSummary_MGROUP&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP)this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME="All";else if(this._reportFilterService.StockSummaryObj.StockSummary_MGROUP&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_MGROUP){let s=this.ProductGroupList.filter(p=>p.MCODE==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP);this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME=s&&s.length>0&&s[0]?s[0].DESCA:""}else this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME="";if(this._reportFilterService.StockSummaryObj.StockSummary_PTYPE&&"100"==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP)this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME="";else if(this._reportFilterService.StockSummaryObj.StockSummary_PTYPE&&"100"!=this._reportFilterService.StockSummaryObj.StockSummary_PTYPE){let s=this.PTypeList.filter(p=>p.PTYPEID==this._reportFilterService.StockSummaryObj.StockSummary_PTYPE);this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME=s&&s.length>0&&s[0]?s[0].PTYPENAME:""}else this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME="";this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME=this._reportFilterService.StockSummaryObj.StockSummary_MCAT&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_MCAT?"All":this._reportFilterService.StockSummaryObj.StockSummary_MCAT&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_MCAT?this._reportFilterService.StockSummaryObj.StockSummary_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockSummaryObj.StockSummary_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockSummaryObj.StockSummary_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockSummaryObj.StockSummary_DIV?this._reportFilterService.StockSummaryObj.StockSummary_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.DETAILFORMAT=this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT?this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT:0,this.repObj.reportparam.SUPCODE=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockSummaryObj.StockSummary_MCODE?this._reportFilterService.StockSummaryObj.StockSummary_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE?this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE:0,this.repObj.reportparam.ReportMode=this._reportFilterService.StockSummaryObj.StockSummary_ReportMode?this._reportFilterService.StockSummaryObj.StockSummary_ReportMode:0,this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE?this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport?this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport:0,this.repObj.reportparam.ShowVariant=this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant?this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant:0,this.repObj.reportparam.WAREHOUSE="%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?t.toString():"%",this.repObj.reportparam.MGROUP=this._reportFilterService.StockSummaryObj.StockSummary_MGROUP?this._reportFilterService.StockSummaryObj.StockSummary_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockSummaryObj.StockSummary_PTYPE?this._reportFilterService.StockSummaryObj.StockSummary_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockSummaryObj.StockSummary_MCAT?this._reportFilterService.StockSummaryObj.StockSummary_MCAT:"%",this.repObj.reportparam.ShowDetail=this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL?this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEM?this._reportFilterService.StockSummaryObj.StockSummary_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE?this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE?this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE:0,this.repObj.reportparam.ShowAltUnitStockReport=this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT?this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING?this._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME?this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSENAME?t.toString():"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME?this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME?this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME?this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER?this._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER:"%",this.repObj.reportparam.SHOWLCOSTFORLOCALPURCHASE=this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL?this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL:0,this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA?this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP?this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP:"",this.repObj.reportparam.params=1==this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.ReportMode?" @Stock Report Excluding Zero B/L":2==this.repObj.reportparam.ReportMode?" @Negative Stock Report Only":3==this.repObj.reportparam.ReportMode?" @Zero B/L Stock Report Only":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.ShowDetail?"@Report with Item Detail":"",1==this.masterService.userSetting.EnableVariantCategory&&0==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A_VARIANT"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A_VARIANT")):1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_2_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_4_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_5_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_6_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_7_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A_SBATCH"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_2_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_4_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_4A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_5A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_6A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowVariant&&(this.repObj.reportname="Stock Summary Report Detail_7A_SBATCH"),1==this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant&&(this.repObj.reportname+="_VARIANT")):(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A")),this.repObj.REPORTDISPLAYNAME="Stock Summary Report",this._reportFilterService.StockSummaryObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj}),console.log(this.repObj)}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=t.ACID,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.StockSummaryObj.StockSummary_MCODE=t.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.StockSummaryObj.StockSummary_MCODE=t.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=t.DESCA,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockSummaryObj.StockSummary_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=t.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=t.DESCA}changeValue(t){(""==t||null==t||null==t)&&(this._reportFilterService.StockSummaryObj.StockSummary_MGROUP="%")}treeNodeSelected(t){console.log("stock ledger ma data ayoo",t),this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=t.id,this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=t.name}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-summary-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(iB,5),e.Gf(oB,5),e.Gf(nB,5),e.Gf(aB,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:211,vars:55,consts:[[1,"container"],[2,"background-color","#ffffff"],[1,"row"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"mt-0","mb-0"],[1,"row","mt-1"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-lg-5","col-md-5","col-sm-12"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],[1,"col-lg-7","col-md-7","col-sm-12"],["class","row",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12"],[1,"row",2,"margin-top","-10px","margin-bottom","-3%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","-10px"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","-10px","margin-bottom","-2%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"col-lg-8","col-md-7","col-sm-12"],["type","radio","name","reportOption","value","4",3,"ngModel","ngModelChange"],["calss","col-11"],[1,"col-lg-2","col-md-2","col-sm-12",2,"margin-bottom","-10px"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],[1,"col-lg-5","col-md-5","col-sm-12",2,"margin-bottom","-10px"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","col-lg-6 col-md-6 col-sm-12",4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"row","checkbox",2,"margin-top","-10px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-4%"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","-2%"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center","margin-right","1%"],[2,"width","95%","margin-left","8.2%",3,"options","labelKey","valueKey","ngModel","selectOption","change","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"form-control","input-text",2,"width","91%","margin-left","8%",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","120%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"width","91%","margin-left","8%",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-sm-1",2,"margin-left","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"multiselect","treeNodeValue"],["reportPopup",""],[1,"form-control","input-text","division-input","mt-0","mb-0",3,"ngModel","ngModelChange","change"],["value","%",4,"ngIf"],[3,"value"],["style","width: 100%;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","3px"],[1,"row","checkbox"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","disabled","onSelect","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","100"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"row",2,"margin-top","-2%","margin-bottom","-1%"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px","margin-top","-3%"],[2,"font-size","12px","width","100%","margin-top","-3%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Stock Summary Report"),e.qZA()(),e.TgZ(7,"div",4)(8,"button",6),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(9,"\xd7"),e.qZA()()()(),e._UZ(10,"hr",7),e.TgZ(11,"div",8)(12,"div",4)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection : "),e.qZA(),e.TgZ(16,"div",2)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",4)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_BSDATE2=i}),e.qZA()()()()()(),e.YNc(34,cB,6,3,"fieldset",14),e.TgZ(35,"fieldset")(36,"legend",9),e._uU(37,"Report Type Selection :"),e.qZA(),e.TgZ(38,"div",2)(39,"div",15)(40,"div",2)(41,"div",16)(42,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=i}),e.qZA()(),e.TgZ(43,"div",18)(44,"label",19),e._uU(45,"Item Wise Stock Report"),e.qZA()()()(),e.TgZ(46,"div",20),e.YNc(47,_B,6,4,"div",21),e.qZA(),e.TgZ(48,"div",22)(49,"div",23)(50,"div",16)(51,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=i}),e.qZA()(),e.TgZ(52,"div",18)(53,"label",19),e._uU(54,"Item Group Wise Stock Report"),e.qZA()()()(),e.TgZ(55,"div",22)(56,"div",23)(57,"div",16)(58,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=i}),e.qZA()(),e.TgZ(59,"div",18)(60,"label",19),e._uU(61,"Item Category Wise Stock Report"),e.qZA()()()()()(),e.TgZ(62,"fieldset")(63,"legend",9),e._uU(64,"Report Option :"),e.qZA(),e.TgZ(65,"div",2)(66,"div",22)(67,"div",2)(68,"div",16)(69,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(70,"div",18)(71,"label",19),e._uU(72,"Show All Item Stock Report"),e.qZA()()()(),e.TgZ(73,"div",22)(74,"div",2)(75,"div",16)(76,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(77,"div",18)(78,"label",19),e._uU(79,"Show Zero Stock B/L Item Only"),e.qZA()()()(),e.TgZ(80,"div",22)(81,"div",28)(82,"div",16)(83,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(84,"div",18)(85,"label",19),e._uU(86,"Show Negative Stock B/L Item Only"),e.qZA()()()(),e.TgZ(87,"div",22)(88,"div",30)(89,"div",16)(90,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(91,"div",18)(92,"label",19),e._uU(93,"Show Stock Report Excluding Zero B/L"),e.qZA()()()(),e.TgZ(94,"div",32)(95,"div",28)(96,"div",16)(97,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(98,"div",34)(99,"label",19),e._uU(100,"Show Stock Report Including Items Without Transaction"),e.qZA()()()()()(),e.TgZ(101,"fieldset")(102,"legend",9),e._uU(103,"WareHouse Type :"),e.qZA(),e.TgZ(104,"div",2)(105,"div",35)(106,"div",2)(107,"div",16)(108,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(109,"div",18)(110,"label",19),e._uU(111,"All"),e.qZA()()()(),e.TgZ(112,"div",37)(113,"div",2)(114,"div",16)(115,"input",38),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(116,"div",18)(117,"label",19),e._uU(118,"Sellable WareHouse"),e.qZA()()()(),e.TgZ(119,"div",37)(120,"div",2)(121,"div",16)(122,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(123,"div",18)(124,"label",19),e._uU(125,"Non-Sellable WareHouse"),e.qZA()()()()()(),e.TgZ(126,"div",2),e.YNc(127,hB,7,2,"div",40),e.YNc(128,uB,7,2,"div",40),e.TgZ(129,"div",41)(130,"div",42)(131,"div",43)(132,"input",44),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=i})("change",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=i.target.checked?1:0}),e.qZA()(),e.TgZ(133,"div",45)(134,"label",46),e._uU(135,"Show Landing Cost For Local Purchase Item as Well"),e.qZA()()()()()(),e.TgZ(136,"div",47),e.YNc(137,fB,5,2,"fieldset",14),e.TgZ(138,"fieldset")(139,"legend"),e._uU(140,"Report Filter Option :"),e.qZA(),e.TgZ(141,"div",48)(142,"div",49)(143,"label",50),e._uU(144,"Item Group :"),e.qZA()(),e.TgZ(145,"div",51)(146,"app-simple-suggest",52),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("change",function(i){return r.changeValue(i)})("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=i}),e.qZA(),e.TgZ(147,"button",53),e.NdJ("click",function(){return r.reportTree()}),e._uU(148,"+"),e.qZA()()(),e.TgZ(149,"div",2)(150,"div",49)(151,"label",50),e._uU(152,"Item Category :"),e.qZA()(),e.TgZ(153,"div",45)(154,"select",54),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_MCAT=i}),e._UZ(155,"option",55),e.YNc(156,vB,2,2,"option",56),e.qZA()()(),e.YNc(157,bB,8,2,"div",21),e.YNc(158,CB,8,2,"div",21),e.TgZ(159,"div",57)(160,"div",49)(161,"label",58),e._uU(162,"Supplier Name :"),e.qZA()(),e.TgZ(163,"div",45)(164,"input",59),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(165,"fieldset")(166,"legend",9),e._uU(167,"Item Selection :"),e.qZA(),e.TgZ(168,"div",60)(169,"div",61)(170,"label",50),e._uU(171,"Item Name :"),e.qZA()(),e.TgZ(172,"div",45)(173,"input",62),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.YNc(174,MB,5,2,"div",21),e.qZA(),e.YNc(175,AB,12,2,"fieldset",14),e.TgZ(176,"div")(177,"div",2),e.YNc(178,PB,7,2,"div",40),e.YNc(179,RB,8,2,"div",40),e.YNc(180,EB,8,2,"div",40),e.TgZ(181,"div",22)(182,"div",42)(183,"div",2)(184,"div",63)(185,"input",44),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(186,"div",45)(187,"label",64),e._uU(188,"Show Item Grouping Hierarchy"),e.qZA()()()()(),e.YNc(189,DB,8,2,"div",40),e.TgZ(190,"div",22)(191,"div",42)(192,"div",63)(193,"input",44),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=i})("change",function(i){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(194,"div",45)(195,"label",64),e._uU(196,"Show Item Detils"),e.qZA()()()()()()(),e.TgZ(197,"div",65)(198,"button",66),e.NdJ("click",function(){return r.onload()}),e._uU(199,"RUN"),e.qZA(),e.TgZ(200,"button",67),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(201,"Close"),e.qZA()()()(),e.YNc(202,kB,17,1,"div",14),e.TgZ(203,"generic-popup-grid",68,69),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(205,"generic-popup-grid",68,70),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(207,"multiselect-generic-grid",71,72),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(209,"app-report-popup",73,74),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(5),e.Q6J("ngIf",0!=r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE),e.xp6(5),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf",r.userSetting.EnableTransitWiseTransferIn),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL),e.xp6(5),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING),e.xp6(4),e.Q6J("ngIf",1==r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL),e.xp6(9),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("multiselect",!0))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,se.ky,Ct,rt.c,ue.O,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const FB=["reportPopup"],jB=["genericGridItemPopup"],LB=["multiselectGenericGrid"];function wB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",41)(4,"label",42),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT)("checked",1==t._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT)}}function xB(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function VB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Warehouse Selection:"),e.qZA(),e.TgZ(3,"select",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=o)}),e.ALo(4,"disableField"),e._UZ(5,"option",44),e.YNc(6,xB,2,2,"option",45),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE)("disabled","lite"==t.AppMode||e.lcZ(4,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList)}}function WB(n,a){1&n&&(e.TgZ(0,"option",44),e._uU(1,"ALL"),e.qZA())}function ZB(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function HB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_DIV=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelectDivision(o))}),e.YNc(4,WB,2,0,"option",48),e.YNc(5,ZB,2,2,"option",45),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_DIV)("disabled","lite"==t.AppMode),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function UB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Type:"),e.qZA(),e.TgZ(3,"div",49)(4,"div",50)(5,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE=o)}),e.qZA(),e.TgZ(6,"label",52),e._uU(7,"Detail Report"),e.qZA()(),e.TgZ(8,"div",50)(9,"input",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE=o)}),e.qZA(),e.TgZ(10,"label",52),e._uU(11,"Summary Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE)}}function zB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Option"),e.qZA(),e.TgZ(3,"div",49)(4,"div",5)(5,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE=o)}),e.qZA(),e.TgZ(6,"label",52),e._uU(7,"Item Wise Report"),e.qZA()(),e.TgZ(8,"div",5)(9,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE=o)}),e.qZA(),e.TgZ(10,"label",56),e._uU(11,"Item Group Wise Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE)}}function BB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"input",62),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",63),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems)}}function qB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",57)(1,"legend",10),e._uU(2,"Item Selection :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",58)(5,"label",59),e._uU(6,"Item Name :"),e.qZA()(),e.TgZ(7,"div",41)(8,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEM=o)})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keypress",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()(),e.YNc(9,BB,5,2,"div",61),e.qZA()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode)}}function YB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",57)(1,"legend",10),e._uU(2,"Item Group Selection :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",64)(5,"label",59),e._uU(6,"Item Group :"),e.qZA()(),e.TgZ(7,"div",65)(8,"app-simple-suggest",66),e.NdJ("selectOption",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedValue(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=o)}),e.qZA(),e.TgZ(9,"button",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.reportTree())}),e._uU(10,"+"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("options",t.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME)}}function JB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",71)(1,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE)("checked",1==t._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE)}}function GB(n,a){1&n&&(e.TgZ(0,"div",41)(1,"label",42),e._uU(2,"Show Batch Wise Stock Report"),e.qZA()())}function QB(n,a){if(1&n&&(e.TgZ(0,"div",68),e.YNc(1,JB,2,2,"div",69),e.YNc(2,GB,3,0,"div",70),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(1),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE)}}function KB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",71)(2,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",41)(4,"label",42),e._uU(5,"Show Item Detail In Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL)("checked",1==t._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL)}}function $B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",73)(2,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",41)(4,"label",42),e._uU(5,"Include Transit Data"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA)("checked",1==t._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA)}}function XB(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",89)(1,"ng-multiselect-dropdown",90),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function eq(n,a){if(1&n&&(e.TgZ(0,"div",85)(1,"div",86)(2,"label",87),e._uU(3),e.qZA()(),e.YNc(4,XB,2,4,"div",88),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function tq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",74)(2,"div",75)(3,"div",76)(4,"h5",77),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",79),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",80)(10,"div",81),e.YNc(11,eq,5,2,"div",82),e.qZA()(),e.TgZ(12,"div",83)(13,"button",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let rq=(()=>{class n{constructor(t,r,o,i,s,p,d,_,h,c){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=s,this.arouter=p,this._ActivatedRoute=d,this._authService=_,this.brandService=h,this.productMasterService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MCODE:"",WAREHOUSE:"",ITEMGROUPWISE:0,ITEMGROUP:"",SHOWDETAIL:0,ITEMNAME:"",MENUCODE:"",params:"%",SHOWBATCH:0,DIVISIONNAME:"",WAREHOUSENAME:"",WAREHOUSETYPE:0,INCLUDETRANSITDATA:0,SHOWITEMDETAILDISPLAY:"",REPORTYPE:0,ITEMGROUPNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.mainGroupList=[],this.resultList=[],this.gridPopupSettingsForItem=new f.im,this.multiselectPopupSettings=new se.oe,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.showVariantPopup=!1,this.variantparamters2={},this.finalParam={},this.AppMode=ae.N.appMode,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(S=>{this.costCenterList=S&&S||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(S=>{this.divisionList=S,this._reportFilterService.previouslyLoadedReportList?.some(le=>le.activeurlpath==this.arouter.url)||(this._reportFilterService.StockLedgerObj.StockLedger_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getItemGroup().subscribe(S=>{S&&(this.ItemGroupList=S)}),this.masterService.getWarehouseListByDivision(this._reportFilterService.StockLedgerObj.StockLedger_DIV??"").subscribe(S=>{this.warehouseList=S.result},S=>{this.warehouseList=[]}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(S=>{S.result&&S.result.length&&(this.categorywiseConfigurationdetails=S.result,this.categorywiseConfigurationdetails.forEach(x=>{if(x.SELECTEDMCAT=[],x.finalSelectedMCAT=[],x.hasOwnProperty("VARIANTVALUES")){let le=JSON.parse(x.VARIANTVALUES);x.VARIANTVALUES="object"==typeof le&&le&&le.length?le:[]}}))},S=>{});var g=this.userProfile.PhiscalYearInfo.BeginDate;g=g.substring(0,10),this.date2=g,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{const o=r.mode;this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE:"0","DRILL"==o&&this._reportFilterService.drillParam.returnUrl?(console.log("drill to stock leedget",this._reportFilterService.drillParam.returnUrl,this._reportFilterService.drillParam),this._reportFilterService.StockLedgerObj.StockLedger_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this._reportFilterService.drillParam.reportparam.DATE1?this._reportFilterService.drillParam.reportparam.DATE1.toString().substring(0,10):"",this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this._reportFilterService.drillParam.reportparam.DATE2?this._reportFilterService.drillParam.reportparam.DATE2.toString().substring(0,10):"",this._reportFilterService.StockLedgerObj.StockLedger_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE="0",this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=0,this.changeEntryDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE2,"AD")):(1!=this._reportFilterService.StockLedgerObj.assignPreviousValue&&(this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this.userProfile.userWarehouse),1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?this._reportFilterService.StockLedgerObj.StockLedger_DIV="%":"lite"==this.AppMode?(this._reportFilterService.StockLedgerObj.StockLedger_DIV=this.masterService.userProfile.userDivision,this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this.masterService.userProfile.userWarehouse):this._reportFilterService.StockLedgerObj.StockLedger_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE="0",this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=0,this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0,this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=0,this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE="1"),this.changeVariant(this._reportFilterService.StockLedgerObj.StockLedger_VARIANT),this.changeEntryDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE2,"AD"))}),0===this._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA?this._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA=0:this.userSetting.EnableTransitWiseTransferIn&&(this._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA=1)}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.StockLedgerObj.StockLedger_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.StockLedgerObj.StockLedger_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this.masterService.toADDate(t)}}changeMultiSelect(t){console.log("events",t),this._reportFilterService.StockLedgerObj.StockLedger_MCODE="",this._reportFilterService.StockLedgerObj.StockLedger_ITEM="",this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE="",this.selectMultiItems=1==t.target.checked?1:0}onload(){if(0==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE&&(""==this._reportFilterService.StockLedgerObj.StockLedger_ITEM||void 0===this._reportFilterService.StockLedgerObj.StockLedger_ITEM||null==this._reportFilterService.StockLedgerObj.StockLedger_ITEM||null===this._reportFilterService.StockLedgerObj.StockLedger_ITEM))return void this._alertService.info("Please Select Item");if(1==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE&&("%"==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||void 0===this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||""==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||null==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||null===this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP))return void this._alertService.info("Please Select Item Group first!");if(this._reportFilterService.StockLedgerObj.StockLedger_DIV&&"%"==this._reportFilterService.StockLedgerObj.StockLedger_DIV)this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME="All";else if(this._reportFilterService.StockLedgerObj.StockLedger_DIV&&"%"!=this._reportFilterService.StockLedgerObj.StockLedger_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.StockLedgerObj.StockLedger_DIV);this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME="";this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE&&"%"==this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?"All":this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE&&"%"!=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockLedgerObj.StockLedger_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockLedgerObj.StockLedger_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockLedgerObj.StockLedger_DIV?this._reportFilterService.StockLedgerObj.StockLedger_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockLedgerObj.StockLedger_MCODE?this._reportFilterService.StockLedgerObj.StockLedger_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL?this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEM?this._reportFilterService.StockLedgerObj.StockLedger_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE?this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE:"",this.repObj.reportparam.SHOWBATCH=this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE?this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME?this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME:"",this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE:0,this.repObj.reportparam.REPORTYPE=this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE?this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE:0,this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA?this._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA:0,this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME:"",console.log("this.repObj.reportparam.ITEMGROUPNAME",this.repObj.reportparam.ITEMGROUPNAME),this.repObj.reportparam.params=1==this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT&&this.abc.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportparam.ITEMGROUP="%":1==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportparam.MCODE="%",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME,console.log("loglolglglglglg",this.repObj.reportparam.ITEMGROUPNAME)),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Report Other_SBATCH":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Report Other_1_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Report Other_2_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH&&(this.repObj.reportname="Stock Ledger Report Other_3_SBATCH"),0==this.repObj.reportparam.REPORTYPE&&(this.repObj.reportname="Stock Ledger Report Other_4_SBATCH")):(0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Report Other":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Report Other_1":1==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Report Other_2":1==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH&&(this.repObj.reportname="Stock Ledger Report Other_3"),0==this.repObj.reportparam.REPORTYPE&&(this.repObj.reportname="Stock Ledger Report Other_4")),this.repObj.REPORTDISPLAYNAME="Stock Ledger Report",this._reportFilterService.StockLedgerObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.StockLedgerObj.StockLedger_MCODE=t.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.StockLedgerObj.StockLedger_MCODE=t.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=t.DESCA,this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockLedgerObj.StockLedger_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP=t.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=t.DESCA}treeNodeSelected(t){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",t),this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP=t.id,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=t.name}onSelectDivision(t){this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE="%",this.masterService.getWarehouseListByDivision(t.target.value).subscribe(r=>{this.warehouseList=r.result},r=>{this.warehouseList=[]})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(it.c),e.Y36(so.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-ledger-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(FB,5),e.Gf(jB,5),e.Gf(LB,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:83,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[4,"ngIf"],[1,"col-md-6","filter-part"],["style","width: 96%;",4,"ngIf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],["class","row checkbox",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"treeNodeValue"],["reportPopup",""],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange","change"],["value","%",4,"ngIf"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reporttype","value","1",3,"ngModel","ngModelChange"],[2,"width","85% !important"],["type","radio","name","reporttype","value","0",3,"ngModel","ngModelChange"],["type","radio","name","itemgroup","value","0",3,"ngModel","ngModelChange"],["type","radio","name","itemgroup","value","1",3,"ngModel","ngModelChange"],[2,"width","88% !important"],[2,"width","96%"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row",4,"ngIf"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-3"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"row","checkbox",2,"margin-top","5px"],["class","col-sm-1","style","margin-left: -10px;",4,"ngIf"],["class","col",4,"ngIf"],[1,"col-sm-1",2,"margin-left","-10px"],[1,"row","checkbox"],[1,"col-1"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Ledger Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,wB,6,2,"div",15),e.YNc(38,VB,7,5,"fieldset",16),e.YNc(39,HB,6,4,"fieldset",16),e.qZA(),e.TgZ(40,"div",17),e.YNc(41,UB,12,2,"fieldset",16),e.YNc(42,zB,12,2,"fieldset",16),e.TgZ(43,"div",1),e.YNc(44,qB,10,2,"fieldset",18),e.YNc(45,YB,11,4,"fieldset",18),e.TgZ(46,"fieldset")(47,"legend",10),e._uU(48,"WareHouse Type :"),e.qZA(),e.TgZ(49,"div",19)(50,"div",20)(51,"div",21)(52,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(53,"div",23)(54,"label",24),e._uU(55,"All"),e.qZA()()(),e.TgZ(56,"div",20)(57,"div",21)(58,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(59,"div",23)(60,"label",24),e._uU(61,"Sellable WareHouse"),e.qZA()()(),e.TgZ(62,"div",20)(63,"div",21)(64,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(65,"div",23)(66,"label",24),e._uU(67,"Non-Sellable WareHouse"),e.qZA()()()()()(),e.YNc(68,QB,3,2,"div",27),e.YNc(69,KB,6,2,"div",15),e.YNc(70,$B,6,2,"div",28),e.qZA()()(),e.TgZ(71,"div",29)(72,"button",30),e.NdJ("click",function(){return r.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",31),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()(),e.YNc(76,tq,17,1,"div",16),e.TgZ(77,"generic-popup-grid",32,33),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(79,"multiselect-generic-grid",34,35),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(81,"app-report-popup",36,37),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_BSDATE2),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",0==r._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE),e.xp6(4),e.Q6J("ngIf",1==r._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE),e.xp6(1),e.Q6J("ngIf",r.userSetting.EnableTransitWiseTransferIn),e.xp6(6),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,se.ky,Ct,rt.c,ue.O,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const iq=["genericGridItemPopup"];function oq(n,a){1&n&&(e.TgZ(0,"option",46),e._uU(1,"ALL"),e.qZA())}function nq(n,a){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function aq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockValuation_DIV=o)}),e.YNc(4,oq,2,0,"option",44),e.YNc(5,nq,2,2,"option",45),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockValuation_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function sq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",48)(1,"div",26)(2,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",23)(4,"label",28),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT)("checked",1==t._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT)}}function lq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",30)(2,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",50)(4,"label",33),e._uU(5,"Include Transit Data"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA)("checked",1==t._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA)}}function cq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"ng-multiselect-dropdown",67),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function pq(n,a){if(1&n&&(e.TgZ(0,"div",62)(1,"div",63)(2,"label",64),e._uU(3),e.qZA()(),e.YNc(4,cq,2,4,"div",65),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function dq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",51)(2,"div",52)(3,"div",53)(4,"h5",54),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",56),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",57)(10,"div",58),e.YNc(11,pq,5,2,"div",59),e.qZA()(),e.TgZ(12,"div",60)(13,"button",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let _q=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMID:"",DIV:"",BARCODE:"",MCODE:"",MENUCODE:"",SHOWDETAIL:0,ITEMNAME:"",params:"%",SHOWLCOSTFORLOCALPURCHASE:0,WAREHOUSETYPE:0,INCLUDETRANSITDATA:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new f.im,this.showVariantPopup=!1,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.categorywiseConfigurationdetails=[],this.variantparamters2={},this.finalParam={},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100},this.AppMode=ae.N.appMode;const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.StockValuationObj.StockValuation_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockValuationObj.StockValuation_DATE1=this._reportFilterService.drillParam.reportparam.DATE,this._reportFilterService.StockValuationObj.StockValuation_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL="1",this._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockValuationObj.StockValuation_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this.changeEntryDate(this._reportFilterService.StockValuationObj.StockValuation_DATE1,"AD")):(1!=this._reportFilterService.StockValuationObj.assignPreviousValue&&(this._reportFilterService.StockValuationObj.StockValuation_DATE1=(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]:this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.StockValuationObj.StockValuation_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL="0",this._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=0),this.changeVariant(this._reportFilterService.StockValuationObj.StockValuation_VARIANT),this.changeEntryDate(this._reportFilterService.StockValuationObj.StockValuation_DATE1,"AD"))}),0===this._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA?this._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA=0:this.userSetting.EnableTransitWiseTransferIn&&(this._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA=1)}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.StockValuationObj.StockValuation_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockValuationObj.StockValuation_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.StockValuationObj.StockValuation_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockValuationObj.StockValuation_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.StockValuationObj.StockValuation_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockValuationObj.StockValuation_DIV?this._reportFilterService.StockValuationObj.StockValuation_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockValuationObj.StockValuation_MCODE?this._reportFilterService.StockValuationObj.StockValuation_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL?this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockValuationObj.StockValuation_ITEM?this._reportFilterService.StockValuationObj.StockValuation_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockValuationObj.StockValuation_MENUCODE?this._reportFilterService.StockValuationObj.StockValuation_MENUCODE:"",this.repObj.reportparam.SHOWLCOSTFORLOCALPURCHASE=this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL?this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL:0,this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE?this._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE:0,this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA?this._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA:0;let t={};this.variantmaster.length>0?(this._reportFilterService.StockValuationObj.StockValuation_VARIANT||(this._reportFilterService.StockValuationObj.StockValuation_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.StockValuationObj.StockValuation_VARIANT]=this._reportFilterService.StockValuationObj.StockValuation_VARIANTVALUES?this._reportFilterService.StockValuationObj.StockValuation_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Stock Valuation ReportNONDMS_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Stock Valuation ReportNONDMS_1_SBATCH"):0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Stock Valuation ReportNONDMS":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Stock Valuation ReportNONDMS_1"),this.repObj.REPORTDISPLAYNAME="Stock Valuation Report",this._reportFilterService.StockValuationObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.StockValuationObj.StockValuation_MCODE=t.MCODE,this._reportFilterService.StockValuationObj.StockValuation_ITEM=t.DESCA,this._reportFilterService.StockValuationObj.StockValuation_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockValuationObj.StockValuation_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];this.abc=this.categorywiseConfigurationdetails.filter(o=>o.SELECTEDMCAT.length>0),this.abc.forEach(o=>{r.push(o.VARIANTNAME)}),this.abc.forEach(o=>{t="",r.forEach(i=>{o.VARIANTNAME==i&&(o.SELECTEDMCAT.forEach(s=>{t+=`${s.NAME},`,this.finalParam[i]=t}),this.finalParam[i]=this.finalParam[i].slice(0,-1))})})}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-valuation-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(iq,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:91,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-lg-2","col-md-2","col-sm-12",2,"margin-bottom","-10px"],[1,"col-md-1"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],[1,"col-lg-5","col-md-5","col-sm-12",2,"margin-bottom","-10px"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],["type","checkbox","name","warehouseType","value","0",3,"ngModel","checked","ngModelChange","change"],["calss","col-md-12"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Valuation Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_BSDATE1=i}),e.qZA()()()()()(),e.YNc(27,aq,6,3,"fieldset",15),e.TgZ(28,"fieldset")(29,"legend",10),e._uU(30,"Report Type :"),e.qZA(),e.TgZ(31,"div",1)(32,"div",16)(33,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL=i}),e.qZA(),e.TgZ(34,"label"),e._uU(35,"Summary Report"),e.qZA()(),e.TgZ(36,"div",16)(37,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL=i}),e.qZA(),e.TgZ(38,"label"),e._uU(39,"Detail Report"),e.qZA()()()(),e.YNc(40,sq,6,2,"div",19),e.qZA(),e.TgZ(41,"div",20)(42,"fieldset")(43,"legend",10),e._uU(44,"Item Selection :"),e.qZA(),e.TgZ(45,"div",1)(46,"div",21)(47,"label",22),e._uU(48,"Item Name :"),e.qZA()(),e.TgZ(49,"div",23)(50,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(51,"div",25)(52,"div",26)(53,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=i})("change",function(i){return r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=i.target.checked?1:0}),e.qZA()(),e.TgZ(54,"div",23)(55,"label",28),e._uU(56,"Show Landing Cost For Purchase Item As Well "),e.qZA()()(),e.TgZ(57,"fieldset")(58,"legend",10),e._uU(59,"WareHouse Type :"),e.qZA(),e.TgZ(60,"div",1)(61,"div",29)(62,"div",1)(63,"div",30)(64,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(65,"div",32)(66,"label",33),e._uU(67,"All"),e.qZA()()()(),e.TgZ(68,"div",34)(69,"div",1)(70,"div",30)(71,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(72,"div",32)(73,"label",33),e._uU(74,"Sellable WareHouse"),e.qZA()()()(),e.TgZ(75,"div",34)(76,"div",1)(77,"div",30)(78,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(79,"div",32)(80,"label",33),e._uU(81,"Non-Sellable WareHouse"),e.qZA()()()()()(),e.YNc(82,lq,6,2,"div",37),e.qZA()()(),e.TgZ(83,"div",38)(84,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(87,"Close"),e.qZA()()()()()(),e.YNc(88,dq,17,1,"div",15),e.TgZ(89,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockValuationObj.StockValuation_BSDATE1),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL),e.xp6(3),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_ITEM),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL)("checked",1==r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE),e.xp6(4),e.Q6J("ngIf",r.userSetting.EnableTransitWiseTransferIn),e.xp6(6),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,ue.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const hq=["genericGridMemberPopup"];function uq(n,a){1&n&&(e.TgZ(0,"option",39),e._uU(1,"ALL"),e.qZA())}function gq(n,a){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let mq=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MEMID:"",TOPNSORT:0,POINT:0,SUMMARY:1,MEMNAME:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.gridPopupSettingsForMember=new f.im,this.userProfile=this._authService.getUserProfile(),this.userSetting=_.getSetting(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID=this._reportFilterService.drillParam.reportparam.MEMID,this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.MembershipPointObj.MembershipPoint_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY="0",this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.MembershipPointObj.MembershipPoint_POINT=this._reportFilterService.drillParam.reportparam.POINT,this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=this._reportFilterService.drillParam.reportparam.MEMNAME,this.changeEntryDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,"AD")):(1!=this._reportFilterService.MembershipPointObj.assignPreviousValue&&(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.MembershipPointObj.MembershipPoint_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY="1",this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=0),this.changeEntryDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MembershipPointObj.MembershipPoint_DIV?this._reportFilterService.MembershipPointObj.MembershipPoint_DIV:"%",this.repObj.reportparam.MEMID=this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID?this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID:"%",this.repObj.reportparam.POINT=this._reportFilterService.MembershipPointObj.MembershipPoint_POINT?this._reportFilterService.MembershipPointObj.MembershipPoint_POINT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT?this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT:0,this.repObj.reportparam.SUMMARY=this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY?this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY:1,this.repObj.reportparam.MEMNAME=this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME?this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME:"",""==this.repObj.reportparam.MEMNAME&&(this.repObj.reportparam.MEMID="%"),1==this.repObj.reportparam.SUMMARY?this.repObj.reportname="Membership Point Report":0==this.repObj.reportparam.SUMMARY&&(this.repObj.reportname="Membership Point Report_1"),this.repObj.REPORTDISPLAYNAME="Membership Point Report",this._reportFilterService.MembershipPointObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}memberEnterCommand(t){this.getMembersList(),this.genericGridMemberPopup.show()}dblClickPopupParty(t){this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID=t.MEMID,this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=null==t.LNAME?t.FNAME:t.FNAME+" "+t.LNAME}getMembersList(){this.gridPopupSettingsForMember=this.masterService.getGenericGridPopUpSettings("AllMemberList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["membership-point-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(hq,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridMemberPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:79,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-5"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keypress"],[1,"row",2,"padding-top","5px","width","90%"],[2,"width","60%"],[2,"width","100%","font-weight","bold"],[2,"width","20%"],["type","text",1,"form-control","input-text",2,"width","100%",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridMemberPopup",""],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Membership Point Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_DIV=i}),e.YNc(41,uq,2,0,"option",16),e.YNc(42,gq,2,2,"option",17),e.qZA()()(),e.TgZ(43,"div",18)(44,"fieldset")(45,"legend",10),e._uU(46,"Report Type :"),e.qZA(),e.TgZ(47,"div",19)(48,"div",20)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY=i}),e.qZA(),e.TgZ(50,"label"),e._uU(51,"Summary Report"),e.qZA()(),e.TgZ(52,"div",20)(53,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY=i}),e.qZA(),e.TgZ(54,"label"),e._uU(55,"Detail Report"),e.qZA()()()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Member Name Selection :"),e.qZA(),e.TgZ(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=i})("keydown.enter",function(i){return r.memberEnterCommand(i)})("keydown.Tab",function(i){return r.memberEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(60,"div",24)(61,"div",25)(62,"label",26),e._uU(63,"Show Report having Points >= "),e.qZA()(),e.TgZ(64,"div",27)(65,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_POINT=i}),e.qZA()()(),e.TgZ(66,"div",29)(67,"div",30)(68,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=i})("change",function(i){return r._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=i.target.checked?1:0}),e.qZA()(),e.TgZ(69,"div",32)(70,"label",33),e._uU(71,"Sort Report by Top N order"),e.qZA()()()()()(),e.TgZ(72,"div",34)(73,"button",35),e.NdJ("click",function(){return r.onload()}),e._uU(74,"RUN"),e.qZA(),e.TgZ(75,"button",36),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(76,"Close"),e.qZA()()()()()(),e.TgZ(77,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_POINT),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForMember))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Sq(n,a){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let fq=(()=>{class n{constructor(t,r,o,i){this.masterService=t,this._alertService=r,this._transactionService=o,this._authService=i,this.Annex5Report={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),this.Annex5Report.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.Annex5Report.DATE1,"AD"),this.Annex5Report.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.Annex5Report.DATE,"AD");var s=this.userProfile.PhiscalYearInfo.BeginDate;s=s.substring(0,10),this.date2=s;const p=new Date;this.currDate=(0,u.p6)(p,"yyyy-MM-dd","en-US"),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.Annex5Report.DIV="%"}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this.reportdataEmit.emit({status:t,data:{reportname:"Annex 5 Report",reportparam:{DATE1:this.Annex5Report.DATE1,DATE2:this.Annex5Report.DATE,DIV:this.Annex5Report.DIV?this.Annex5Report.DIV:"%"}}})}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this.Annex5Report.BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.Annex5Report.DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this.Annex5Report.BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this.Annex5Report.DATE=this.masterService.toADDate(t)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(I.c),e.Y36(C.p),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["datereport"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:50,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-12"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Materialized View Report (Annex 5)"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return r.Annex5Report.DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.Annex5Report.BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",14),e.NdJ("ngModelChange",function(i){return r.Annex5Report.DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r.Annex5Report.BSDATE2=i}),e.qZA()()()()()()(),e.TgZ(37,"div",10)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(i){return r.Annex5Report.DIV=i}),e.TgZ(42,"option",17),e._uU(43,"ALL"),e.qZA(),e.YNc(44,Sq,2,2,"option",18),e.qZA()()(),e.TgZ(45,"div",19)(46,"button",20),e.NdJ("click",function(){return r.onload()}),e._uU(47,"RUN"),e.qZA(),e.TgZ(48,"button",21),e.NdJ("click",function(){return r.cancel()}),e._uU(49,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.Annex5Report.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.Annex5Report.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.Annex5Report.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.Annex5Report.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.Annex5Report.DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function vq(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.UserId),e.xp6(1),e.Oqu(t.UserId)}}function Oq(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.FormName),e.xp6(1),e.Oqu(t.FormName)}}function bq(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.HostName),e.xp6(1),e.Oqu(t.HostName)}}function Tq(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.TrnMode),e.xp6(1),e.Oqu(t.TrnMode)}}let Cq=(()=>{class n{constructor(t,r,o,i,s){this.masterService=t,this._alertService=r,this._authService=o,this._reportFilterService=i,this.arouter=s,this.usersList=[],this.FormNameList=[],this.HostNameList=[],this.ActionList=[],this.repObj={reportname:"",reportparam:{SDate:"",EDate:"",Flg:1,UserID:"",HostNM:"",FormNM:"",ActionNM:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),this.masterService.getUsersFromLog().subscribe(_=>{"ok"==_.status&&(this.usersList=_.result)});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,u.p6)(d,"yyyy-MM-dd","en-US")}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),console.log("check",this._reportFilterService.TransactionLogObj.assignPreviousValue),1!=this._reportFilterService.TransactionLogObj.assignPreviousValue&&(this._reportFilterService.TransactionLogObj.transLog_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.TransactionLogObj.transLog_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=1,this._reportFilterService.TransactionLogObj.transLog_USERID="",this._reportFilterService.TransactionLogObj.transLog_HOSTNM="",this._reportFilterService.TransactionLogObj.transLog_FORMNM="",this._reportFilterService.TransactionLogObj.transLog_ACTIONNM="",this.changeEntryDate(this._reportFilterService.TransactionLogObj.transLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.TransactionLogObj.transLog_DATE2,"AD"))}onUserChange(){this.userID=this._reportFilterService.TransactionLogObj.transLog_USERID,this.masterService.getFormNameFromLog(this.userID).subscribe(t=>{this.FormNameList=t.result}),this.masterService.getHostNameFromLog(this.userID).subscribe(t=>{this.HostNameList=t.result}),this.masterService.getActionFromLog(this.userID).subscribe(t=>{this.ActionList=t.result})}onload(){this.repObj.reportparam.SDate=this._reportFilterService.TransactionLogObj.transLog_DATE1,this.repObj.reportparam.EDate=this._reportFilterService.TransactionLogObj.transLog_DATE2,this.repObj.reportparam.Flg=this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT?this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT:1,this.repObj.reportparam.UserID=this._reportFilterService.TransactionLogObj.transLog_USERID?this._reportFilterService.TransactionLogObj.transLog_USERID:"%",this.repObj.reportparam.HostNM=this._reportFilterService.TransactionLogObj.transLog_HOSTNM?this._reportFilterService.TransactionLogObj.transLog_HOSTNM:"%",this.repObj.reportparam.FormNM=this._reportFilterService.TransactionLogObj.transLog_FORMNM?this._reportFilterService.TransactionLogObj.transLog_FORMNM:"%",this.repObj.reportparam.ActionNM=this._reportFilterService.TransactionLogObj.transLog_ACTIONNM?this._reportFilterService.TransactionLogObj.transLog_ACTIONNM:"%",this.repObj.reportname="Transaction Activity Log Report",this.repObj.REPORTDISPLAYNAME="Transaction Activity Log Report",this._reportFilterService.TransactionLogObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}hide(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.TransactionLogObj.transLog_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.TransactionLogObj.transLog_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.TransactionLogObj.transLog_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.TransactionLogObj.transLog_DATE2=this.masterService.toADDate(t)}}cancel(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(I.c),e.Y36(E.e),e.Y36(R),e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["transreport"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:26,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","form-group"],[1,"col-sm-4"],[1,"radio"],[1,"smallBoldLabel",2,"padding-right","10px"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"form-group","row"],[1,"col-md-3","smallBoldLabel"],[1,"col-md-9"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Transaction Activity Log Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",15),e._uU(39,"Report Mode:"),e.qZA(),e.TgZ(40,"div",16)(41,"div",17)(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=i}),e.qZA(),e._uU(45," Summary (User Wise)"),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",18)(48,"label",19)(49,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=i}),e.qZA(),e._uU(50," Summary"),e.qZA()()(),e.TgZ(51,"div",17)(52,"div",18)(53,"label",19)(54,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=i}),e.qZA(),e._uU(55," Detail"),e.qZA()()()()()(),e.TgZ(56,"div",21)(57,"fieldset")(58,"div",22)(59,"label",23),e._uU(60,"User"),e.qZA(),e.TgZ(61,"div",24)(62,"select",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_USERID=i})("change",function(){return r.onUserChange()}),e.YNc(63,vq,2,2,"option",26),e.qZA()()()(),e.TgZ(64,"fieldset")(65,"div",22)(66,"label",23),e._uU(67,"Entry Form"),e.qZA(),e.TgZ(68,"div",24)(69,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_FORMNM=i}),e.YNc(70,Oq,2,2,"option",26),e.qZA()()(),e.TgZ(71,"div",22)(72,"label",23),e._uU(73,"Computer Name"),e.qZA(),e.TgZ(74,"div",24)(75,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_HOSTNM=i}),e.YNc(76,bq,2,2,"option",26),e.qZA()()(),e.TgZ(77,"div",22)(78,"label",23),e._uU(79,"Action"),e.qZA(),e.TgZ(80,"div",24)(81,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TransactionLogObj.transLog_ACTIONNM=i}),e.YNc(82,Tq,2,2,"option",26),e.qZA()()()()(),e.TgZ(83,"div",28)(84,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",30),e.NdJ("click",function(){return r.cancel()}),e._uU(87,"Close"),e.qZA()()()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.TransactionLogObj.transLog_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.TransactionLogObj.transLog_BSDATE2),e.xp6(8),e.Q6J("value",1)("ngModel",r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(5),e.Q6J("value",2)("ngModel",r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(5),e.Q6J("value",3)("ngModel",r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_USERID),e.xp6(1),e.Q6J("ngForOf",r.usersList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_FORMNM),e.xp6(1),e.Q6J("ngForOf",r.FormNameList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_HOSTNM),e.xp6(1),e.Q6J("ngForOf",r.HostNameList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_ACTIONNM),e.xp6(1),e.Q6J("ngForOf",r.ActionList))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Mq(n,a){1&n&&(e.TgZ(0,"option",30),e._uU(1,"ALL"),e.qZA())}function Aq(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Pq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",37)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT)("checked",1==t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT)}}function Rq(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij("",t.NAME," ")}}function Eq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"input",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",37)(4,"label",38),e._uU(5,"Show InTransit Branch Transfer In Transaction Only"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT)("checked",1==t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT)("disabled","TO%"==t._reportFilterService.BranchTransferObj.BranchTransfer_VNO)}}function Dq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",60)(1,"ng-multiselect-dropdown",61),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function Iq(n,a){if(1&n&&(e.TgZ(0,"div",56)(1,"div",57)(2,"label",58),e._uU(3),e.qZA()(),e.YNc(4,Dq,2,4,"div",59),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function Nq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",45)(2,"div",46)(3,"div",47)(4,"h5",48),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",50),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",51)(10,"div",52),e.YNc(11,Iq,5,2,"div",53),e.qZA()(),e.TgZ(12,"div",54)(13,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let kq=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",OPT_BRANCHINOUT:"",ITEMWISE:0,IGNOREBRANCH:0,SHOWINTRANSIT:0,COMID:"",DIV:"",STATUS:0,BRANCH:"%",PHISCALID:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.BranchTransferObj.BranchTransfer_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getNotLoginDivisionList().subscribe(c=>{this.transferToList=c}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.BranchTransferObj.assignPreviousValue&&(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferObj.BranchTransfer_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.BranchTransferObj.BranchTransfer_VNO="TO%",this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE="0",this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS="0"),this.changeVariant(this._reportFilterService.BranchTransferObj.BranchTransfer_VARIANT),this.changeEntryDate(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.BranchTransferObj.BranchTransfer_DIV?this._reportFilterService.BranchTransferObj.BranchTransfer_DIV:"%",this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferObj.BranchTransfer_DIV?this._reportFilterService.BranchTransferObj.BranchTransfer_DIV:"%",this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.BRANCH=this._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH?this._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH:"%",this.repObj.reportparam.OPT_BRANCHINOUT=this._reportFilterService.BranchTransferObj.BranchTransfer_VNO?this._reportFilterService.BranchTransferObj.BranchTransfer_VNO:"TR%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ITEMWISE=this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE?this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE:0,this.repObj.reportparam.STATUS=this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS?this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS:0,this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH?this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH:0,this.repObj.reportparam.SHOWINTRANSIT=this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT?this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT:0,this.repObj.reportparam.params=1==this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportparam.IGNOREBRANCH=0),"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&(this.repObj.reportparam.SHOWINTRANSIT=0),"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&(this.repObj.reportparam.STATUS=0),"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&1==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_2":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&0==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer In Report_1":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer Out Report":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportname="Branch Transfer Out Report_1"),1===this.masterService.userSetting.EnableVariantCategory&&("TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&1==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_2_VARIANT":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&0==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_VARIANT":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer In Report_1_VARIANT":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer Out Report_VARIANT":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportname="Branch Transfer Out Report_1_VARIANT")),this.repObj.REPORTDISPLAYNAME="Branch Transfer Report",this._reportFilterService.BranchTransferObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}TransferInOutChange(t){"TO%"==this._reportFilterService.BranchTransferObj.BranchTransfer_VNO&&(this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=0),"TR%"==this._reportFilterService.BranchTransferObj.BranchTransfer_VNO&&(this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS="0")}ItemWiseChange(t){0==this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE&&(this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=0)}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.BranchTransferObj.BranchTransfer_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branch-transfer-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:33,consts:[[1,"container",2,"width","58rem"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateRangesfrom",3,"id","label","ngModel","change","ngModelChange"],["name","nepaliDateRangesTo",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-left","4%"],["type","radio","name","reportOption","value","TO%",3,"ngModel","ngModelChange","change"],[2,"width","auto"],["type","radio","name","reportOption","value","TR%",3,"ngModel","ngModelChange","change"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],[2,"width","88%"],["value","%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[4,"ngIf"],[3,"value"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_DIV=i}),e.YNc(41,Mq,2,0,"option",17),e.YNc(42,Aq,2,2,"option",18),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Report Option :"),e.qZA(),e.TgZ(46,"div",19)(47,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_VNO=i})("change",function(i){return r.TransferInOutChange(i)}),e.qZA(),e.TgZ(48,"label",21),e._uU(49,"Branch Transfer Out Report"),e.qZA()(),e.TgZ(50,"div",19)(51,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_VNO=i})("change",function(i){return r.TransferInOutChange(i)}),e.qZA(),e.TgZ(52,"label",21),e._uU(53,"Branch Transfer In Report"),e.qZA()()(),e.YNc(54,Pq,6,2,"div",23),e.qZA(),e.TgZ(55,"div",24)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",25)(61,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE=i})("change",function(i){return r.ItemWiseChange(i)}),e.qZA(),e.TgZ(62,"label",27),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",25)(65,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE=i}),e.qZA(),e.TgZ(66,"label",29),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Branch Transfer to/from:"),e.qZA(),e.TgZ(71,"select",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH=i}),e._UZ(72,"option",30),e.YNc(73,Rq,2,2,"option",18),e.qZA()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Report Type :"),e.qZA(),e.TgZ(77,"div",19)(78,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=i}),e.qZA(),e.TgZ(79,"label",27),e._uU(80,"Show All"),e.qZA()(),e.TgZ(81,"div",19)(82,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=i}),e.qZA(),e.TgZ(83,"label",27),e._uU(84,"Show Closed Transaction Only"),e.qZA()(),e.TgZ(85,"div",19)(86,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=i}),e.qZA(),e.TgZ(87,"label",27),e._uU(88,"Show Pending Transaction Only"),e.qZA()()(),e.TgZ(89,"div",34)(90,"div",35)(91,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=i})("change",function(i){return r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=i.target.checked?1:0}),e.qZA()(),e.TgZ(92,"div",37)(93,"label",38),e._uU(94,"Disable Branch Wise Segragation In Report"),e.qZA()()(),e.YNc(95,Eq,6,3,"div",23),e.qZA()()(),e.TgZ(96,"div",39)(97,"button",40),e.NdJ("click",function(){return r.onload()}),e._uU(98,"RUN"),e.qZA(),e.TgZ(99,"button",41),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(100,"Close"),e.qZA()()()()()(),e.YNc(101,Nq,17,1,"div",42)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_DATE1),e.xp6(2),e.Q6J("id","nepaliDateRangesfrom")("label","From")("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_DATE2),e.xp6(2),e.Q6J("id","nepaliDateRangesTo")("label","From")("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(3),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH),e.xp6(2),e.Q6J("ngForOf",r.transferToList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH)("checked",1==r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH)("disabled",0==r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(4),e.Q6J("ngIf","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(6),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,D.v,ue.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const yq=["genericGridSupplierPopup"];function Fq(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function jq(n,a){1&n&&(e.TgZ(0,"option",16),e._uU(1,"ALL"),e.qZA())}function Lq(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function wq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",25)(4,"label",45),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT)("checked",1==t._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT)}}function xq(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function Vq(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function Wq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"ng-multiselect-dropdown",62),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function Zq(n,a){if(1&n&&(e.TgZ(0,"div",57)(1,"div",58)(2,"label",59),e._uU(3),e.qZA()(),e.YNc(4,Wq,2,4,"div",60),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function Hq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",46)(2,"div",47)(3,"div",48)(4,"h5",49),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",51),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",52)(10,"div",53),e.YNc(11,Zq,5,2,"div",54),e.qZA()(),e.TgZ(12,"div",55)(13,"button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let Uq=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,WAREHOUSE:"%",MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",SUPPLIERNAME:"",FROMDATE:"",TODATE:"",CURRENTDATE:"",COMID:"",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new f.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getWarehouseList().subscribe(c=>{this.warehouseList=c}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ItemExpiryObj.assignPreviousValue&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE="0"),this.changeVariant(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT),this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,this.repObj.reportparam.CURRENTDATE=(new Date).toJSON().split("T")[0],this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV?this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID?this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE?this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE:0,this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE?this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP?this._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT?this._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT:"%",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER?this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER:"";let t={};this.variantmaster.length>0?(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT||(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT]=this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANTVALUES?this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),1==this.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report SBATCH":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report SBATCH_1"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report SBATCH_VARIANT":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report SBATCH_1_VARIANT"))):(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report_1"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report_VARIANT":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report_1_VARIANT"))),this.repObj.REPORTDISPLAYNAME="Item Expiry Report",this._reportFilterService.ItemExpiryObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID=t.ACID,this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}daysSelection(t){let r=t.target.value;(""==r||null==r||null==r)&&(r=0),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt(r)),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.date.toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD")}disableDaysSelection(t){1==this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection="",this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD")),0==this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD"))}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["item-expiry-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(yq,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:106,vars:32,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],[2,"margin-left","3%","width","100%"],["type","number",2,"width","50px",3,"ngModel","disabled","ngModelChange","input"],[1,"col"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange","change"],[2,"width","88%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Item Expiry Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Warehouse Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE=i}),e.ALo(41,"disableField"),e._UZ(42,"option",16),e.YNc(43,Fq,2,2,"option",17),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend",10),e._uU(46,"Division Selection:"),e.qZA(),e.TgZ(47,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_DIV=i}),e.YNc(48,jq,2,0,"option",19),e.YNc(49,Lq,2,2,"option",17),e.qZA()(),e.YNc(50,wq,6,2,"div",20),e.qZA(),e.TgZ(51,"div",21)(52,"fieldset")(53,"legend",10),e._uU(54,"Days Selection :"),e.qZA(),e.TgZ(55,"div",1)(56,"div",22)(57,"label",23),e._uU(58,"Going To Expire With In "),e.TgZ(59,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection=i})("input",function(i){return r.daysSelection(i)}),e.qZA(),e._uU(60," Days"),e.qZA()()()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Report Format :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE=i})("change",function(i){return r.disableDaysSelection(i)}),e.qZA(),e.TgZ(67,"label",27),e._uU(68,"Near To Expire Report"),e.qZA()(),e.TgZ(69,"div",25)(70,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE=i})("change",function(i){return r.disableDaysSelection(i)}),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"Already Expired Report"),e.qZA()()()(),e.TgZ(73,"fieldset")(74,"legend"),e._uU(75,"Report Filter Option :"),e.qZA(),e.TgZ(76,"div",8)(77,"div",30)(78,"label",31),e._uU(79,"Item Group :"),e.qZA()(),e.TgZ(80,"div",25)(81,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP=i}),e._UZ(82,"option",16),e.YNc(83,xq,2,2,"option",17),e.qZA()()(),e.TgZ(84,"div",1)(85,"div",30)(86,"label",31),e._uU(87,"Item Category :"),e.qZA()(),e.TgZ(88,"div",25)(89,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT=i}),e._UZ(90,"option",16),e.YNc(91,Vq,2,2,"option",17),e.qZA()()(),e.TgZ(92,"div",32)(93,"div",30)(94,"label",33),e._uU(95,"Supplier Name :"),e.qZA()(),e.TgZ(96,"div",25)(97,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(98,"div",35)(99,"button",36),e.NdJ("click",function(){return r.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",37),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",38,39),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.YNc(105,Hq,17,1,"div",40)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE)("disabled",e.lcZ(41,30,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection)("disabled",1==r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,ue.O,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const zq=["genericGridSupplierPopup"];function Bq(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function qq(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function Yq(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function Jq(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT)("checked",1==t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT)}}function Gq(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function Qq(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Kq(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function $q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function Xq(n,a){if(1&n&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,$q,2,4,"div",53),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function eY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,Xq,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let tY=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new f.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getWarehouseList().subscribe(c=>{this.warehouseList=c}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.MaximumStockLevelObj.assignPreviousValue&&(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_REPORTTYPE="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ReportMode="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DETAILFORMAT="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.ACID=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE:"100",this.repObj.reportparam.CATEGORY=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ITEM?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MENUCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MENUCODE:"";let t={};this.variantmaster.length>0?(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT||(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT]=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANTVALUES?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Maximum Stock Level Report",this.repObj.REPORTDISPLAYNAME="Maximum Stock Level Report",this._reportFilterService.MaximumStockLevelObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE=t.ACID,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["maximum-stock-level-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(zq,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Maximum Stock Level Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP=i}),e._UZ(36,"option",19),e.YNc(37,Bq,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT=i}),e._UZ(44,"option",19),e.YNc(45,qq,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE=i}),e._UZ(52,"option",21),e.YNc(53,Yq,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.YNc(60,Jq,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE=i}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,Gq,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV=i}),e.YNc(74,Qq,2,0,"option",27),e.YNc(75,Kq,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.YNc(83,eY,17,1,"div",33)),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl,D.v,ue.O,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const rY=["genericGridSupplierPopup"];function iY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function oY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function nY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function aY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT)("checked",1==t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT)}}function sY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function lY(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function cY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function pY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function dY(n,a){if(1&n&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,pY,2,4,"div",53),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function _Y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,dY,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let hY=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new f.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getWarehouseList().subscribe(c=>{this.warehouseList=c}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.MinimumStockLevelObj.assignPreviousValue&&(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_REPORTTYPE="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ReportMode="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DETAILFORMAT="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.ACID=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE:"100",this.repObj.reportparam.ITEMNAME=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ITEM?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MENUCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MENUCODE:"";let t={};this.variantmaster.length>0?(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT||(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT]=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANTVALUES?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Minimum Stock Level Report",this.repObj.REPORTDISPLAYNAME="Minimum Stock Level Report",this._reportFilterService.MinimumStockLevelObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE=t.ACID,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["minimum-stock-level-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(rY,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Minimum Stock Level Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP=i}),e._UZ(36,"option",19),e.YNc(37,iY,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT=i}),e._UZ(44,"option",19),e.YNc(45,oY,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE=i}),e._UZ(52,"option",21),e.YNc(53,nY,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.YNc(60,aY,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE=i}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,sY,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV=i}),e.YNc(74,lY,2,0,"option",27),e.YNc(75,cY,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.YNc(83,_Y,17,1,"div",33)),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl,D.v,ue.O,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const uY=["genericGridSupplierPopup"];function gY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function mY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function SY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function fY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT)("checked",1==t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT)}}function vY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function OY(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function bY(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function TY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function CY(n,a){if(1&n&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,TY,2,4,"div",53),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function MY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,CY,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let AY=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new f.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getWarehouseList().subscribe(c=>{this.warehouseList=c}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ReorderLevelStockReport.assignPreviousValue&&(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_REPORTTYPE="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ReportMode="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.DETAILFORMAT=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT:0,this.repObj.reportparam.ACID=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE:"100",this.repObj.reportparam.CATEGORY=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ITEM?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MENUCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MENUCODE:"";let t={};this.variantmaster.length>0?(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT||(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT]=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANTVALUES?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Reorder Level Stock Report",this.repObj.REPORTDISPLAYNAME="Reorder Level Stock Report",this._reportFilterService.ReorderLevelStockReport.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE=t.ACID,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["reorder-level-stock-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(uY,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Reorder Level Stock Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP=i}),e._UZ(36,"option",19),e.YNc(37,gY,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT=i}),e._UZ(44,"option",19),e.YNc(45,mY,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE=i}),e._UZ(52,"option",21),e.YNc(53,SY,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.YNc(60,fY,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE=i}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,vY,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV=i}),e.YNc(74,OY,2,0,"option",27),e.YNc(75,bY,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.YNc(83,MY,17,1,"div",33)),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl,D.v,ue.O,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const PY=["reportPopup"],RY=["genericGridSupplierPopup"],EY=["genericGridItemPopup"];function DY(n,a){1&n&&(e.TgZ(0,"option",37),e._uU(1,"ALL"),e.qZA())}function IY(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function NY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV=o)}),e.YNc(4,DY,2,0,"option",53),e.YNc(5,IY,2,2,"option",38),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function kY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",56)(2,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(o.target.checked?i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA=1:i._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA=0)}),e.qZA()(),e.TgZ(3,"div",35)(4,"label",58),e._uU(5,"Include Transit Data"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA)("checked",1==t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA)}}function yY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=o)}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",21),e._uU(5,"Batch Wise Stock Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE)}}function FY(n,a){1&n&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function jY(n,a){1&n&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function LY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20),e.YNc(4,FY,2,0,"label",60),e.YNc(5,jY,2,0,"label",60),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport)("checked",1==t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE)}}function wY(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function xY(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function VY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",30)(2,"label",31),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",35)(5,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE=o)}),e._UZ(6,"option",61),e.YNc(7,xY,2,2,"option",38),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function WY(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function ZY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",30)(2,"label",31),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",35)(5,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER=o)}),e._UZ(6,"option",37),e.YNc(7,WY,2,2,"option",38),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}let HY=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._alertService=p,this._authService=d,this.brandService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",MANUFACTURER:"%",ITEMGROUP:"",WAREHOUSETYPE:"0",INCLUDETRANSITDATA:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.ManufacturerList=[],this.resultList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.AppMode=ae.N.appMode,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getProductGroupList().subscribe(c=>{c&&(this.ProductGroupList=c)}),this.masterService.getManufacturerList().subscribe(c=>{c&&(this.ManufacturerList=c)}),o.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE:"0",this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockAbcAnalysisObj.assignPreviousValue&&(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE="0",this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=0),this.changeVariant(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT),this.changeEntryDate(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2,"AD"))}),0===this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA=0:this.userSetting.EnableTransitWiseTransferIn&&(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA=1)}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(t=>{console.log("dataaaaaa",t[0]),this.resss=t[0],this.resultList=this.resss[0],console.log("dataaaaaaChildren",this.resss[0].children),console.log("LEVELS",this.resss[0].LEVELS),console.log("name",this.resss[0].name)})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER:"%",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP:"%",this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE:"0",this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA:0;let t={};this.variantmaster.length>0?(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT||(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),t[this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT]=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(t)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Stock  Movement Analysis Report_SBATCH":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock  Movement Analysis Report_1_SBATCH":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock  Movement Analysis Report_2_SBATCH":2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock  Movement Analysis Report_3_SBATCH":2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&(this.repObj.reportname="Stock  Movement Analysis Report_4_SBATCH"):0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Stock Movement Analysis Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Movement Analysis Report_1":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Movement Analysis Report_2":2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Movement Analysis Report_3":2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Movement Analysis Report_4":3==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Stock Abc Analysis Report_5"),this.repObj.REPORTDISPLAYNAME="Stock Movement Analysis Report",this._reportFilterService.StockAbcAnalysisObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE=t.ACID,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE=t.MCODE,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM=t.DESCA,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP=t.MCODE,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=t.DESCA}treeNodeSelected(t){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",t),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP=t.id,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=t.name}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e),e.Y36(it.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stockabc-analysis-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(PY,5),e.Gf(RY,5),e.Gf(EY,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:133,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["class","row","style","margin-bottom: -3%",4,"ngIf"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],[1,"row","checkbox"],[1,"col-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange"],["style","width: 100%;",4,"ngIf"],["value","100"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Movement Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,NY,6,3,"fieldset",15),e.TgZ(38,"fieldset")(39,"legend",10),e._uU(40,"WareHouse Type :"),e.qZA(),e.TgZ(41,"div",16)(42,"div",17)(43,"div",18)(44,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(45,"div",20)(46,"label",21),e._uU(47,"All"),e.qZA()()(),e.TgZ(48,"div",17)(49,"div",18)(50,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(51,"div",20)(52,"label",21),e._uU(53,"Sellable WareHouse"),e.qZA()()(),e.TgZ(54,"div",17)(55,"div",18)(56,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(57,"div",20)(58,"label",21),e._uU(59,"Non-Sellable WareHouse"),e.qZA()()()()(),e.YNc(60,kY,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Report Type Selection :"),e.qZA(),e.TgZ(65,"div")(66,"div",17)(67,"div",18)(68,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(69,"div",20)(70,"label",21),e._uU(71,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(72,"div",17)(73,"div",18)(74,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(78,"div",17)(79,"div",18)(80,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(81,"div",20)(82,"label",21),e._uU(83,"Item Category Wise Stock Report"),e.qZA()()(),e.YNc(84,yY,6,1,"div",29),e.YNc(85,LY,6,4,"div",29),e.qZA()(),e.TgZ(86,"fieldset")(87,"legend"),e._uU(88,"Report Filter Option :"),e.qZA(),e.TgZ(89,"div",8)(90,"div",30)(91,"label",31),e._uU(92,"Item Group :"),e.qZA()(),e.TgZ(93,"div",32)(94,"app-simple-suggest",33),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=i}),e.qZA(),e.TgZ(95,"button",34),e.NdJ("click",function(){return r.reportTree()}),e._uU(96,"+"),e.qZA()()(),e.TgZ(97,"div",1)(98,"div",30)(99,"label",31),e._uU(100,"Item Category :"),e.qZA()(),e.TgZ(101,"div",35)(102,"select",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT=i}),e._UZ(103,"option",37),e.YNc(104,wY,2,2,"option",38),e.qZA()()(),e.YNc(105,VY,8,2,"div",39),e.YNc(106,ZY,8,2,"div",39),e.TgZ(107,"div",40)(108,"div",30)(109,"label",41),e._uU(110,"Supplier Name :"),e.qZA()(),e.TgZ(111,"div",35)(112,"input",42),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(113,"fieldset")(114,"legend",10),e._uU(115,"Item Selection :"),e.qZA(),e.TgZ(116,"div",43)(117,"div",30)(118,"label",31),e._uU(119,"Item Name :"),e.qZA()(),e.TgZ(120,"div",35)(121,"input",44),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(122,"div",45)(123,"button",46),e.NdJ("click",function(){return r.onload()}),e._uU(124,"RUN"),e.qZA(),e.TgZ(125,"button",47),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(126,"Close"),e.qZA()()()()()(),e.TgZ(127,"generic-popup-grid",48,49),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(129,"generic-popup-grid",48,50),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(131,"app-report-popup",51,52),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE),e.xp6(4),e.Q6J("ngIf",r.userSetting.EnableTransitWiseTransferIn),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0==r.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE||2==r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(9),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,Ct,rt.c],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var UY=v(14422);const zY=["genericGridCustomerPopup"];function BY(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.UNAME),e.xp6(1),e.hij(" ",t.UNAME," ")}}let qY=(()=>{class n{constructor(t,r,o,i,s,p){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._alertService=s,this._ActivatedRoute=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",USERNAME:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.usernameList=[],this.gridPopupSettingsForCustomer=new f.im,this.masterService.getUsername().subscribe(h=>{console.log("@@response",h),this.usernameList=h});var d=this.masterService.PhiscalObj.BeginDate;d=d.substring(0,10),this.date2=d;const _=new Date;this.currDate=(0,u.p6)(_,"yyyy-MM-dd","en-US")}ngOnInit(){1!=this._reportFilterService.PriceChangeLogObj.assignPreviousValue&&(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2,"AD")}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.USERNAME=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME?this._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME:"%",this.repObj.reportname="Price Change Log Report",this.repObj.REPORTDISPLAYNAME="Price Change Log Report",this._reportFilterService.PriceChangeLogObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(I.c),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pricechange-log-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(zY,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:49,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-9"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-3"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-12"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Price Change Log Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"fieldset")(17,"legend",12),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",13)(21,"div",14)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",16),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",17)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",16),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",12),e._uU(39,"Username Selection:"),e.qZA(),e.TgZ(40,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME=i}),e.TgZ(41,"option",19),e._uU(42,"ALL"),e.qZA(),e.YNc(43,BY,2,2,"option",20),e.qZA()()()()(),e.TgZ(44,"div",21)(45,"button",22),e.NdJ("click",function(){return r.onload()}),e._uU(46,"RUN"),e.qZA(),e.TgZ(47,"button",23),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(48,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME),e.xp6(3),e.Q6J("ngForOf",r.usernameList))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var YY=v(71459);const JY=["genericGridCustomerPopup"],GY=["genericGridItemPopup"],QY=["genericGridSalesMan"];function KY(n,a){1&n&&(e.TgZ(0,"option",37),e._uU(1,"ALL"),e.qZA())}function $Y(n,a){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function XY(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=o)}),e.YNc(4,KY,2,0,"option",50),e.YNc(5,$Y,2,2,"option",38),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function eJ(n,a){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function tJ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER=o)}),e._UZ(4,"option",52),e.TgZ(5,"option",37),e._uU(6," ALL "),e.qZA(),e.YNc(7,eJ,2,2,"option",38),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function rJ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Salesman Selection :"),e.qZA(),e.TgZ(3,"input",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN=o)})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.salesmanEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.salesmanEnterCommand(o))})("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.salesmanEnterCommand(o))})("keypress",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN)}}function iJ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",56)(2,"input",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(3,"div",25)(4,"label",26),e._uU(5,"Show Item With Group Hierarchy"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE)}}function oJ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",54)(1,"div",55)(2,"div",1)(3,"div",56)(4,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",25)(6,"label",26),e._uU(7,"Show Summary Only"),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",56)(10,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",25)(12,"label",26),e._uU(13,"Show Item Detail Also"),e.qZA()()(),e.YNc(14,iJ,6,1,"div",40),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE),e.xp6(4),e.Q6J("ngIf",1==t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT)}}function nJ(n,a){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function aJ(n,a){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function sJ(n,a){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function lJ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",34)(2,"label",35),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",19)(5,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE=o)}),e.TgZ(6,"option",60),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",61),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",62),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE)}}function cJ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"ng-multiselect-dropdown",79),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function pJ(n,a){if(1&n&&(e.TgZ(0,"div",74)(1,"div",75)(2,"label",76),e._uU(3),e.qZA()(),e.YNc(4,cJ,2,4,"div",77),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function dJ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",63)(2,"div",64)(3,"div",65)(4,"h5",66),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",68),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",69)(10,"div",70),e.YNc(11,pJ,5,2,"div",71),e.qZA()(),e.TgZ(12,"div",72)(13,"button",73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let _J=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",SHOWITEMDETAIL:0,REPORTYTYPE:0,ITEMNAME:"",CUSTOMERNAME:"",MENUCODE:"",params:"%",SALESMAN:0,SALESMANNAME:"",SALESTYPE:"",showGrouping:0,DIVISIONNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForSalesMan=new f.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.AppMode=ae.N.appMode,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,"AD")):(1!=this._reportFilterService.SalesProfitabilityAnalysisObj.assignPreviousValue&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER||null==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV&&"%"==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV)this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIVISIONNAME="All";else if(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV&&"%"!=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV);this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP:"%",this.repObj.reportparam.SHOWITEMDETAIL=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE:0,this.repObj.reportparam.REPORTYTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER:"",this.repObj.reportparam.SALESMAN=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID:0,this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN:"",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE:"",this.repObj.reportparam.showGrouping=this._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping??0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIVISIONNAME?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIVISIONNAME:"",this.repObj.reportparam.params=1==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT&&this.abc.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.REPORTYTYPE&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS":1!=this.repObj.reportparam.REPORTYTYPE||0!=this.repObj.reportparam.SHOWITEMDETAIL&&1!=this.repObj.reportparam.SHOWITEMDETAIL?1==this.repObj.reportparam.REPORTYTYPE&&2==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_2":2==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_3":3==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_4":4==this.repObj.reportparam.REPORTYTYPE&&0==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_5":4==this.repObj.reportparam.REPORTYTYPE&&1==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_6":5==this.repObj.reportparam.REPORTYTYPE&&0==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_7":5==this.repObj.reportparam.REPORTYTYPE&&1==this.repObj.reportparam.SHOWITEMDETAIL&&(this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_8"):this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_1",this.repObj.REPORTDISPLAYNAME="Sales Profitability Analysis Report",this._reportFilterService.SalesProfitabilityAnalysisObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){console.log("supplier ma k aaucha",t),this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE=t.ACID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCODE=t.MCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEM=t.DESCA,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){0==t&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="0"),0!=t&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="1")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){1==t.target.checked?(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}salesmanEnterCommand(t){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(t){this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID=t.SALESMANID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN=t.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-profitabilityanalysis"]],viewQuery:function(t,r){if(1&t&&(e.Gf(JY,5),e.Gf(GY,5),e.Gf(QY,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:137,vars:36,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%","margin-left","-10%"],[1,"col-md-1",2,"margin-left","-16%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","5",3,"ngModel","ngModelChange","change"],[1,"col-md-6",2,"margin-left","-5%"],["style","width: 130%;",4,"ngIf"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],["class","row",4,"ngIf"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],["genericGridSalesMan",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"width","130%"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Profitability Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,XY,6,3,"fieldset",15),e.YNc(38,tJ,8,2,"fieldset",15),e.YNc(39,rJ,4,1,"fieldset",15),e.TgZ(40,"div",16)(41,"div",17)(42,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping=i})("change",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping=i.target.checked?1:0}),e.qZA()(),e.TgZ(43,"div",19)(44,"label",20),e._uU(45,"Show Item Hierarchy"),e.qZA()()()(),e.TgZ(46,"div",21)(47,"fieldset")(48,"legend",10),e._uU(49,"Report Type Selection :"),e.qZA(),e.TgZ(50,"div",11)(51,"div",5)(52,"div",22)(53,"div",1)(54,"div",23)(55,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(56,"div",25)(57,"label",26),e._uU(58,"Item Wise Report"),e.qZA()()(),e.TgZ(59,"div",1)(60,"div",23)(61,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(62,"div",25)(63,"label",26),e._uU(64,"Item Group Wise Report"),e.qZA()()(),e.TgZ(65,"div",1)(66,"div",23)(67,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(2)}),e.qZA()(),e.TgZ(68,"div",25)(69,"label",26),e._uU(70,"Item Category Wise"),e.qZA()()(),e.TgZ(71,"div",1)(72,"div",23)(73,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(3)}),e.qZA()(),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Supplier Wise Report"),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",23)(79,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(4)}),e.qZA()(),e.TgZ(80,"div",25)(81,"label",26),e._uU(82,"Day Wise Report"),e.qZA()()(),e.TgZ(83,"div",1)(84,"div",23)(85,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return r.checkValue(5)}),e.qZA()(),e.TgZ(86,"div",25)(87,"label",26),e._uU(88,"Customer Wise Report"),e.qZA()()()()(),e.TgZ(89,"div",32),e.YNc(90,oJ,15,3,"fieldset",33),e.qZA()()(),e.TgZ(91,"fieldset")(92,"legend"),e._uU(93,"Report Filter Option :"),e.qZA(),e.TgZ(94,"div",1)(95,"div",34)(96,"label",35),e._uU(97,"Item Group :"),e.qZA()(),e.TgZ(98,"div",19)(99,"select",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP=i}),e._UZ(100,"option",37),e.YNc(101,nJ,2,2,"option",38),e.qZA()()(),e.TgZ(102,"div",1)(103,"div",34)(104,"label",35),e._uU(105,"Item Category :"),e.qZA()(),e.TgZ(106,"div",19)(107,"select",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT=i}),e._UZ(108,"option",37),e.YNc(109,aJ,2,2,"option",38),e.qZA()()(),e.TgZ(110,"div",1)(111,"div",34)(112,"label",35),e._uU(113,"Item Type :"),e.qZA()(),e.TgZ(114,"div",19)(115,"select",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE=i}),e._UZ(116,"option",39),e.YNc(117,sJ,2,2,"option",38),e.qZA()()(),e.YNc(118,lJ,12,1,"div",40),e.TgZ(119,"div",1)(120,"div",34)(121,"label",41),e._uU(122,"Supplier Name :"),e.qZA()(),e.TgZ(123,"div",19)(124,"input",42),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(125,"div",43)(126,"button",44),e.NdJ("click",function(){return r.onload()}),e._uU(127,"RUN"),e.qZA(),e.TgZ(128,"button",45),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(129,"Close"),e.qZA()()()()()(),e.TgZ(130,"generic-popup-grid",46,47),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(132,"generic-popup-grid",46,48),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(134,"generic-popup-grid",46,49),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSalesman(i)}),e.qZA(),e.YNc(136,dJ,17,1,"div",15)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping)("checked",1==r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(5),e.Q6J("ngIf",0!=r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,ue.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const hJ=["genericGridSupplierPopup"];function uJ(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function gJ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",19)(2,"label",20),e._uU(3,"Cost Center :"),e.qZA()(),e.TgZ(4,"div",21)(5,"select",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseOrderReportObj.PurchaseOrder_CCENTER=o)}),e._UZ(6,"option",42),e.TgZ(7,"option",43),e._uU(8," ALL "),e.qZA(),e.YNc(9,uJ,2,2,"option",36),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrder_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function mJ(n,a){1&n&&(e.TgZ(0,"option",43),e._uU(1,"ALL"),e.qZA())}function SJ(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let fJ=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",CCENTER:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",FROMEXPDATE:"",TOEXPDATE:"",ACID:"%",SUMMARYREPORT:0,STATUS:100,POTYPE:100,REPORTMODE:0,CUSTOMERNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.costCenterList=[],this.showCostCenterFilter=!1,this.gridPopupSettingsForSupplier=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),1==this.userSetting.enabledistributedpurchase&&(this.showCostCenterFilter=!0,this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]})),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.PurchaseOrderReportObj.assignPreviousValue&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT="0",this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=(new Date).toJSON().split("T")[0]),this._reportFilterService.PurchaseOrderReportObj.PurchaseOrder_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this.changeEntryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE,"AD"),this.changeFromExpiryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE,"AD"),this.changeToExpiryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=this.masterService.toADDate(t)}}changeFromDeliveryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=this.masterService.toADDate(t)}}changeToDeliveryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=this.masterService.toADDate(t)}}changeFromExpiryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=this.masterService.toADDate(t)}}changeToExpiryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrder_CCENTER||null==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrder_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrder_CCENTER?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrder_CCENTER:"%",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE,this.repObj.reportparam.FROMEXPDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE,this.repObj.reportparam.TOEXPDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV:"%",this.repObj.reportparam.SUMMARYREPORT=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT:0,this.repObj.reportparam.STATUS=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS:100,this.repObj.reportparam.POTYPE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE:100,this.repObj.reportparam.ACID=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER:"",0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=1:0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE&&(this.repObj.reportparam.REPORTMODE=2),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.reportname=0==this.repObj.reportparam.SUMMARYREPORT?"Purchase Order Report":"Purchase Order Report_1",this.repObj.REPORTDISPLAYNAME="Purchase Order Report",this._reportFilterService.PurchaseOrderReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID=t.ACID,this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}checkDeliveryDate(){1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE=!1)}checkExpiryDate(){1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE=!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(hJ,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:145,vars:44,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","min","ngModelChange","change"],["name","nepaliDateTo",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row",4,"ngIf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","0"],["value","1"],["value","2"],["value","3"],["value","10"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["value",""],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Order Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE=i})("change",function(){return r.checkDeliveryDate()}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=i})("change",function(i){return r.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=i})("change",function(i){return r.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",17),e.NdJ("change",function(i){return r.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE=i}),e.qZA()()()()()(),e.TgZ(59,"fieldset")(60,"legend",10)(61,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE=i})("change",function(){return r.checkExpiryDate()}),e.qZA(),e._uU(62,"Order Expiry Date Range Selection : "),e.qZA(),e.TgZ(63,"div",1)(64,"div",11)(65,"div",12)(66,"div")(67,"label"),e._uU(68," From:(AD) "),e.qZA()(),e.TgZ(69,"div")(70,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=i})("change",function(i){return r.changeFromExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(71,"div")(72,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE=i}),e.qZA()()(),e.TgZ(73,"div",5)(74,"div")(75,"label"),e._uU(76," To:(AD) "),e.qZA()(),e.TgZ(77,"div")(78,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=i})("change",function(i){return r.changeToExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(79,"div")(80,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeToExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE=i}),e.qZA()()()()()()(),e.TgZ(81,"div",18)(82,"fieldset")(83,"legend",10),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",1)(86,"div",19)(87,"label",20),e._uU(88,"Supplier :"),e.qZA()(),e.TgZ(89,"div",21)(90,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.YNc(91,gJ,10,2,"div",23),e.TgZ(92,"div",1)(93,"div",19)(94,"label",20),e._uU(95,"PO Status :"),e.qZA()(),e.TgZ(96,"div",21)(97,"select",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS=i}),e._UZ(98,"option",25),e.TgZ(99,"option",26),e._uU(100,"New/Pending PO"),e.qZA(),e.TgZ(101,"option",27),e._uU(102,"Confirmed PO"),e.qZA(),e.TgZ(103,"option",28),e._uU(104,"Non Confirmed PO"),e.qZA(),e.TgZ(105,"option",29),e._uU(106,"Cancelled PO"),e.qZA(),e.TgZ(107,"option",30),e._uU(108,"Delivered PO"),e.qZA()()()(),e.TgZ(109,"div",1)(110,"div",19)(111,"label",20),e._uU(112,"PO Type :"),e.qZA()(),e.TgZ(113,"div",21)(114,"select",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE=i}),e._UZ(115,"option",25),e.TgZ(116,"option",26),e._uU(117,"PO - Local"),e.qZA(),e.TgZ(118,"option",27),e._uU(119,"PO - Import"),e.qZA()()()()(),e.TgZ(120,"fieldset")(121,"legend",10),e._uU(122,"Report Type :"),e.qZA(),e.TgZ(123,"div",31)(124,"div",32)(125,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(126,"label"),e._uU(127,"Detail Report"),e.qZA()(),e.TgZ(128,"div",32)(129,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(130,"label"),e._uU(131,"Summary Report"),e.qZA()()()(),e.TgZ(132,"fieldset")(133,"legend",10),e._uU(134,"Division Selection:"),e.qZA(),e.TgZ(135,"select",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV=i}),e.YNc(136,mJ,2,0,"option",35),e.YNc(137,SJ,2,2,"option",36),e.qZA()()()()(),e.TgZ(138,"div",37)(139,"button",38),e.NdJ("click",function(){return r.onload()}),e._uU(140,"RUN"),e.qZA(),e.TgZ(141,"button",39),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(142,"Close"),e.qZA()()()()()(),e.TgZ(143,"generic-popup-grid",40,41),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE),e.xp6(9),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE),e.xp6(6),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE),e.xp6(9),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE),e.xp6(2),e.Q6J("id","from")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE),e.xp6(6),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE),e.xp6(2),e.Q6J("id","to")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER),e.xp6(1),e.Q6J("ngIf",r.showCostCenterFilter),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS),e.xp6(17),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const vJ=["genericGridSupplierPopup"],OJ=["genericGridItemPopup"];function bJ(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function TJ(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function CJ(n,a){1&n&&(e.TgZ(0,"option",36),e._uU(1,"ALL"),e.qZA())}function MJ(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let AJ=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",CCENTER:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",ACID:"%",REPORTMODE:0,CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",MGROUP:"",REPORTTYPE:0,ITEMWISEREPORT:0,SHOWITEMWISESUMMARY:0,SHOWSUPPLIERWISEITEM:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.costCenterList=[],this.showCostCenterFilter=!1,this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),1==this.userSetting.enabledistributedpurchase&&(this.showCostCenterFilter=!0,this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]})),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.PurchaseOrderOutstandingObj.assignPreviousValue&&(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT="0",this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE="0"),this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this.changeEntryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=this.masterService.toADDate(t)}}changeFromDeliveryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=this.masterService.toADDate(t)}}changeToDeliveryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=this.masterService.toADDate(t)}}onload(){if(this.checkValue(),1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_CCENTER||null==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_CCENTER?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_CCENTER:"%",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE:0,this.repObj.reportparam.ITEMWISEREPORT=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT:0,this.repObj.reportparam.SHOWITEMWISESUMMARY=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY:0,this.repObj.reportparam.SHOWSUPPLIERWISEITEM=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM:0,0==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE&&(this.repObj.reportparam.REPORTMODE=1),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMWISEREPORT?this.repObj.reportname="Purchase Order Outstanding Report":1==this.repObj.reportparam.ITEMWISEREPORT&&0==this.repObj.reportparam.SHOWITEMWISESUMMARY?this.repObj.reportname="Purchase Order Outstanding Report_1":1==this.repObj.reportparam.ITEMWISEREPORT&&1==this.repObj.reportparam.SHOWITEMWISESUMMARY&&(this.repObj.reportname="Purchase Order Outstanding Report_2"),this.repObj.REPORTDISPLAYNAME="Purchase Order Outstanding Report",this._reportFilterService.PurchaseOrderOutstandingObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID=t.ACID,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE=t.MCODE,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(){0==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT&&(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=0,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-outstanding"]],viewQuery:function(t,r){if(1&t&&(e.Gf(vJ,5),e.Gf(OJ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:163,vars:45,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"col-md-1",2,"margin-left","-8%"],["type","checkbox","name","reportTypeSelection",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-5"],[2,"margin-left","-7%","width","100%"],[1,"col"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value",""],["value","%"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Order - Outstanding Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE=i})("change",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE=i.target.checked?1:0}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=i})("change",function(i){return r.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=i})("change",function(i){return r.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE=i}),e.qZA()()()()()()(),e.TgZ(59,"div",16)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Type Selection :"),e.qZA(),e.TgZ(63,"div",11)(64,"div",5)(65,"div",17)(66,"div",1)(67,"div",18)(68,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(69,"div",20)(70,"label",21),e._uU(71,"Purchase Order Wise"),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",18)(74,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77,"Item Wise Report"),e.qZA()()()()(),e.TgZ(78,"div",5)(79,"div",17)(80,"div",1)(81,"div",23)(82,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=i})("change",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=i.target.checked?1:0}),e.qZA()(),e.TgZ(83,"div",20)(84,"label",21),e._uU(85,"Show Item Wise Summary"),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",23)(88,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=i})("change",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=i.target.checked?1:0}),e.qZA()(),e.TgZ(89,"div",20)(90,"label",21),e._uU(91,"Show Supplier Wise Item"),e.qZA()()()()()()(),e.TgZ(92,"fieldset")(93,"legend",10),e._uU(94,"Report Filter Option :"),e.qZA(),e.TgZ(95,"div",1)(96,"div",25)(97,"label",26),e._uU(98,"PO Delivery Status :"),e.qZA()(),e.TgZ(99,"div",27)(100,"div",1)(101,"div",18)(102,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(103,"div",20)(104,"label",21),e._uU(105,"Outstanding Only"),e.qZA()()(),e.TgZ(106,"div",1)(107,"div",18)(108,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(109,"div",20)(110,"label",21),e._uU(111,"Delivered Only"),e.qZA()()(),e.TgZ(112,"div",1)(113,"div",18)(114,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(115,"div",20)(116,"label",21),e._uU(117,"Both"),e.qZA()()()()(),e.TgZ(118,"div",1)(119,"div",31)(120,"label",32),e._uU(121,"Supplier :"),e.qZA()(),e.TgZ(122,"div",27)(123,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(124,"div",1)(125,"div",31)(126,"label",32),e._uU(127,"Cost Center :"),e.qZA()(),e.TgZ(128,"div",27)(129,"select",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_CCENTER=i}),e._UZ(130,"option",35),e.TgZ(131,"option",36),e._uU(132," ALL "),e.qZA(),e.YNc(133,bJ,2,2,"option",37),e.qZA()()(),e.TgZ(134,"div",1)(135,"div",31)(136,"label",32),e._uU(137,"Item Name :"),e.qZA()(),e.TgZ(138,"div",27)(139,"input",38),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(140,"div",1)(141,"div",31)(142,"label",32),e._uU(143,"Item Group :"),e.qZA()(),e.TgZ(144,"div",27)(145,"select",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP=i}),e._UZ(146,"option",36),e.YNc(147,TJ,2,2,"option",37),e.qZA()()()(),e.TgZ(148,"fieldset")(149,"legend",10),e._uU(150,"Division Selection:"),e.qZA(),e.TgZ(151,"select",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV=i}),e.YNc(152,CJ,2,0,"option",39),e.YNc(153,MJ,2,2,"option",37),e.qZA()()()()(),e.TgZ(154,"div",40)(155,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(156,"RUN"),e.qZA(),e.TgZ(157,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(158,"Close"),e.qZA()()()()()(),e.TgZ(159,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(161,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY)("disabled",0==r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM)("disabled",0==r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(14),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var PJ=v(30334);const RJ=["genericGridCustomerPopup"],EJ=["genericGridItemPopup"],DJ=["genericGridSalesMan"];function IJ(n,a){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.ID),e.xp6(1),e.Oqu(t.STATUS)}}function NJ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",16)(2,"label",17),e._uU(3," Decline Remarks : "),e.qZA()(),e.TgZ(4,"div",18)(5,"select",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedOption=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onStatusChange())}),e.YNc(6,IJ,2,2,"option",39),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.selectedOption),e.xp6(1),e.Q6J("ngForOf",t.remarksList)}}function kJ(n,a){1&n&&(e.TgZ(0,"option",41),e._uU(1,"ALL"),e.qZA())}function yJ(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let FJ=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._paymentTermsService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",ACID:"%",CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",SMANID:"%",SALESMANNAME:"",STATUS:100,CUSTID:"",declinemode:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForSalesMan=new f.im,this.remarksList=[],this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.getDeclineStatusRemarks()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.QuotationReportObj.assignPreviousValue&&(this._reportFilterService.QuotationReportObj.QuotationReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.QuotationReportObj.QuotationReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.QuotationReportObj.QuotationReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.QuotationReportObj.QuotationReport_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.QuotationReportObj.QuotationReport_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.QuotationReportObj.QuotationReport_DIV?this._reportFilterService.QuotationReportObj.QuotationReport_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.QuotationReportObj.QuotationReport_ACID?this._reportFilterService.QuotationReportObj.QuotationReport_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID?this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER?this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.QuotationReportObj.QuotationReport_ITEM?this._reportFilterService.QuotationReportObj.QuotationReport_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.QuotationReportObj.QuotationReport_MCODE?this._reportFilterService.QuotationReportObj.QuotationReport_MCODE:"%",this.repObj.reportparam.SMANID=this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID?this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID:"%",this.repObj.reportparam.SALESMANNAME=this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN?this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN:"",this.repObj.reportparam.STATUS=this._reportFilterService.QuotationReportObj.QuotationReport_STATUS?this._reportFilterService.QuotationReportObj.QuotationReport_STATUS:100,this.repObj.reportparam.declinemode=this.selectedOption,""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SMANID="%"),this.repObj.reportname="Quotation Report",this.repObj.REPORTDISPLAYNAME="Quotation Report",this._reportFilterService.QuotationReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.QuotationReportObj.QuotationReport_ACID=t.ACID,this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER=t.ACNAME,this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.QuotationReportObj.QuotationReport_MCODE=t.MCODE,this._reportFilterService.QuotationReportObj.QuotationReport_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(t){this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID=t.SALESMANID,this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN=t.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}getDeclineStatusRemarks(){this._paymentTermsService.getDeclineStatusRemarks().subscribe(t=>{this.remarksList=t.result})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(PJ.S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["quotation-report-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(RJ,5),e.Gf(EJ,5),e.Gf(DJ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%","width","110% !important"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","2"],["value","1"],["value","0"],["class","row",4,"ngIf"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],["genericGridSalesMan",""],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["value","",3,"value",4,"ngFor","ngForOf"],["value","",3,"value"],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Quotation Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2=i}),e.qZA()()()()()()(),e.TgZ(37,"div",15)(38,"fieldset")(39,"legend",10),e._uU(40,"Report Filter Option :"),e.qZA(),e.TgZ(41,"div",1)(42,"div",16)(43,"label",17),e._uU(44,"Quotation Status : "),e.qZA()(),e.TgZ(45,"div",18)(46,"select",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_STATUS=i}),e._UZ(47,"option",20),e.TgZ(48,"option",21),e._uU(49,"Declined Quotation"),e.qZA(),e.TgZ(50,"option",22),e._uU(51,"SO Converted Quotation"),e.qZA(),e.TgZ(52,"option",23),e._uU(53,"SO Pending Quotation"),e.qZA()()()(),e.YNc(54,NJ,7,2,"div",24),e.TgZ(55,"div",1)(56,"div",16)(57,"label",25),e._uU(58,"Customer :"),e.qZA()(),e.TgZ(59,"div",18)(60,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(61,"div",1)(62,"div",16)(63,"label",25),e._uU(64,"Item Name :"),e.qZA()(),e.TgZ(65,"div",18)(66,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(67,"div",1)(68,"div",16)(69,"label",25),e._uU(70,"Salesman :"),e.qZA()(),e.TgZ(71,"div",18)(72,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN=i})("keydown.enter",function(){return r.salesmanEnterCommand()})("keydown.Tab",function(){return r.salesmanEnterCommand()})("keyup",function(){return r.salesmanEnterCommand()})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(73,"fieldset")(74,"legend",10),e._uU(75,"Division Selection:"),e.qZA(),e.TgZ(76,"select",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.QuotationReportObj.QuotationReport_DIV=i}),e.YNc(77,kJ,2,0,"option",29),e.YNc(78,yJ,2,2,"option",30),e.qZA()()()()(),e.TgZ(79,"div",31)(80,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(81,"RUN"),e.qZA(),e.TgZ(82,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(83,"Close"),e.qZA()()()()()(),e.TgZ(84,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(86,"generic-popup-grid",34,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(88,"generic-popup-grid",34,37),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSalesman(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_STATUS),e.xp6(8),e.Q6J("ngIf",2==r._reportFilterService.QuotationReportObj.QuotationReport_STATUS),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const jJ=["genericGridCustomerPopup"],LJ=["genericGridUserListPopup"],wJ=["genericGridSalesMan"];function xJ(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function VJ(n,a){1&n&&(e.TgZ(0,"option",31),e._uU(1,"ALL"),e.qZA())}function WJ(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let ZJ=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",FROMEXPDATE:"",TOEXPDATE:"",ACID:"%",SUMMARYREPORT:0,STATUS:100,REPORTMODE:0,CUSTOMERNAME:"",USER:"",CCENTER:"",COSTCENTER:"",SALESMANNAME:"",SMANID:"%",CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.costCenterList=[],this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForUserList=new f.im,this.gridPopupSettingsForSalesMan=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]})}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesOrderReportObj.assignPreviousValue&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT="0",this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE,"AD"),this.changeFromExpiryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE,"AD"),this.changeToExpiryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=this.masterService.toADDate(t)}}changeFromDeliveryDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=this.masterService.toADDate(t)}}changeToDeliveryDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=this.masterService.toADDate(t)}}changeFromExpiryDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=this.masterService.toADDate(t)}}changeToExpiryDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE,this.repObj.reportparam.FROMEXPDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE,this.repObj.reportparam.TOEXPDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COSTCENTER=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV:"%",this.repObj.reportparam.SUMMARYREPORT=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT:0,this.repObj.reportparam.STATUS=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS:100,this.repObj.reportparam.ACID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER:"",this.repObj.reportparam.USER=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER:"%",this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN:"",this.repObj.reportparam.SMANID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID:"%",0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=1:0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE&&(this.repObj.reportparam.REPORTMODE=2),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SMANID="%"),0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT?this.repObj.reportname="Sales Order Report":1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT&&(this.repObj.reportname="Sales Order Report_1"),this.repObj.REPORTDISPLAYNAME="Sales Order Report",this._reportFilterService.SalesOrderReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID=t.ACID,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER=t.ACNAME,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getAccountPagedListByPType/PA/C/1",defaultFilterIndex:this.userSetting.FilterIndexForCustomer,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ACCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}checkDeliveryDate(){1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE=!1)}checkExpiryDate(){1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE=!1)}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER=t.UNAME}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(t){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID=t.SALESMANID,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN=t.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesorderreport-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(jJ,5),e.Gf(LJ,5),e.Gf(wJ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:159,vars:48,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","min","ngModelChange","change"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","0"],["value","20"],["value","30"],["value","10"],["value","1"],["value","2"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],["genericGridSalesMan",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Order Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE=i})("change",function(){return r.checkDeliveryDate()}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=i})("change",function(i){return r.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=i})("change",function(i){return r.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE=i}),e.qZA()()()()()(),e.TgZ(59,"fieldset")(60,"legend",10)(61,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE=i})("change",function(){return r.checkExpiryDate()}),e.qZA(),e._uU(62,"Order Expiry Date Range Selection : "),e.qZA(),e.TgZ(63,"div",1)(64,"div",11)(65,"div",12)(66,"div")(67,"label"),e._uU(68," From:(AD) "),e.qZA()(),e.TgZ(69,"div")(70,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=i})("change",function(i){return r.changeFromExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(71,"div")(72,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeFromExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE=i}),e.qZA()()(),e.TgZ(73,"div",5)(74,"div")(75,"label"),e._uU(76," To:(AD) "),e.qZA()(),e.TgZ(77,"div")(78,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=i})("change",function(i){return r.changeToExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(79,"div")(80,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeToExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE=i}),e.qZA()()()()()()(),e.TgZ(81,"div",17)(82,"fieldset")(83,"legend",10),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",1)(86,"div",18)(87,"label",19),e._uU(88,"Customer :"),e.qZA()(),e.TgZ(89,"div",20)(90,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(91,"div",1)(92,"div",18)(93,"label",19),e._uU(94,"User Name :"),e.qZA()(),e.TgZ(95,"div",20)(96,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(97,"div",1)(98,"div",18)(99,"label",19),e._uU(100,"SO Status :"),e.qZA()(),e.TgZ(101,"div",20)(102,"select",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS=i}),e._UZ(103,"option",24),e.TgZ(104,"option",25),e._uU(105,"New/Pending SO "),e.qZA(),e.TgZ(106,"option",26),e._uU(107,"Delivered SO"),e.qZA(),e.TgZ(108,"option",27),e._uU(109,"Partial Delivered SO"),e.qZA(),e.TgZ(110,"option",28),e._uU(111,"Force Closed SO"),e.qZA(),e.TgZ(112,"option",29),e._uU(113,"Confirmed SO"),e.qZA(),e.TgZ(114,"option",30),e._uU(115,"NonConfirmed SO"),e.qZA()()()(),e.TgZ(116,"div",1)(117,"div",18)(118,"label",19),e._uU(119,"Cost Center:"),e.qZA()(),e.TgZ(120,"div",20)(121,"select",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER=i}),e._UZ(122,"option",31),e.YNc(123,xJ,2,2,"option",32),e.qZA()()(),e.TgZ(124,"div",1)(125,"div",18)(126,"label",19),e._uU(127,"Salesman :"),e.qZA()(),e.TgZ(128,"div",20)(129,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN=i})("keydown.enter",function(){return r.salesmanEnterCommand()})("keydown.Tab",function(){return r.salesmanEnterCommand()})("keyup",function(){return r.salesmanEnterCommand()})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(130,"fieldset")(131,"legend",10),e._uU(132,"Report Type :"),e.qZA(),e.TgZ(133,"div",34)(134,"div",35)(135,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(136,"label"),e._uU(137,"Detail Report"),e.qZA()(),e.TgZ(138,"div",35)(139,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(140,"label"),e._uU(141,"Summary Report"),e.qZA()()()(),e.TgZ(142,"fieldset")(143,"legend",10),e._uU(144,"Division Selection:"),e.qZA(),e.TgZ(145,"select",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV=i}),e.YNc(146,VJ,2,0,"option",38),e.YNc(147,WJ,2,2,"option",32),e.qZA()()()()(),e.TgZ(148,"div",39)(149,"button",40),e.NdJ("click",function(){return r.onload()}),e._uU(150,"RUN"),e.qZA(),e.TgZ(151,"button",41),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(152,"Close"),e.qZA()()()()()(),e.TgZ(153,"generic-popup-grid",42,43),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(155,"generic-popup-grid",42,44),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.TgZ(157,"generic-popup-grid",42,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSalesman(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE),e.xp6(9),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE),e.xp6(6),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE),e.xp6(9),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE),e.xp6(2),e.Q6J("id","Datefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE),e.xp6(6),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE),e.xp6(2),e.Q6J("id","Dateto")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS),e.xp6(19),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER),e.xp6(2),e.Q6J("ngForOf",r.costCenterList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const HJ=["genericGridCustomerPopup"],UJ=["genericGridItemPopup"];function zJ(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function BJ(n,a){1&n&&(e.TgZ(0,"option",41),e._uU(1,"ALL"),e.qZA())}function qJ(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let YJ=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",ACID:"%",REPORTMODE:0,CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",MGROUP:"",REPORTTYPE:0,ITEMWISEREPORT:0,SHOWITEMWISESUMMARY:0,SHOWCUSTOMERWISEITEM:0,CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForItem=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesOrderOutstandingObj.assignPreviousValue&&(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT="0",this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=this.masterService.toADDate(t)}}changeFromDeliveryDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=this.masterService.toADDate(t)}}changeToDeliveryDate(t,r){if("AD"==r)this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=this.masterService.toADDate(t)}}onload(){this.checkValue(),this.repObj.reportparam.DATE1=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE:0,this.repObj.reportparam.ITEMWISEREPORT=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT:0,this.repObj.reportparam.SHOWITEMWISESUMMARY=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY:0,this.repObj.reportparam.SHOWCUSTOMERWISEITEM=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM:0,this.repObj.reportparam.CUSTID=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID:"%",0==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE&&(this.repObj.reportparam.REPORTMODE=1),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMWISEREPORT?this.repObj.reportname="Sales Order Outstanding Report":1==this.repObj.reportparam.ITEMWISEREPORT&&0==this.repObj.reportparam.SHOWITEMWISESUMMARY?this.repObj.reportname="Sales Order Outstanding Report_1":1==this.repObj.reportparam.ITEMWISEREPORT&&1==this.repObj.reportparam.SHOWITEMWISESUMMARY&&(this.repObj.reportname="Sales Order Outstanding Report_2"),this.repObj.REPORTDISPLAYNAME="Sales Order Outstanding Report",this._reportFilterService.SalesOrderOutstandingObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID=t.ACID,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER=t.ACNAME,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getAccountPagedListByPType/PA/C/1",defaultFilterIndex:this.userSetting.FilterIndexForCustomer,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ACCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE=t.MCODE,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(){0==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT&&(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=0,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesorderoutstanding-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(HJ,5),e.Gf(UJ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:159,vars:44,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateRangesfrom",3,"id","label","ngModel","change","ngModelChange"],["name","nepaliDateRangesTo",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],["name","nepaliDateDeliveryFrom",3,"id","label","ngModel","change","ngModelChange"],["name","nepaliDateDeliveryTo",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"row",2,"flex-wrap","nowrap"],[1,"col-md-1",2,"margin-left","-8%"],["type","checkbox","name","reportTypeSelection",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-5"],[2,"margin-left","-7%","width","100%"],[1,"col"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Order - Outstanding Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE=i})("change",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE=i.target.checked?1:0}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=i})("change",function(i){return r.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",17),e.NdJ("change",function(i){return r.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=i})("change",function(i){return r.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",18),e.NdJ("change",function(i){return r.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE=i}),e.qZA()()()()()()(),e.TgZ(59,"div",19)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Type Selection :"),e.qZA(),e.TgZ(63,"div",11)(64,"div",5)(65,"div",20)(66,"div",1)(67,"div",21)(68,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(69,"div",23)(70,"label",24),e._uU(71,"Sales Order Wise"),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",21)(74,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(75,"div",23)(76,"label",24),e._uU(77,"Item Wise Report"),e.qZA()()()()(),e.TgZ(78,"div",5)(79,"div",20)(80,"div",26)(81,"div",27)(82,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=i})("change",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=i.target.checked?1:0}),e.qZA()(),e.TgZ(83,"div",23)(84,"label",24),e._uU(85,"Show Item Wise Summary"),e.qZA()()(),e.TgZ(86,"div",26)(87,"div",27)(88,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=i})("change",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=i.target.checked?1:0}),e.qZA()(),e.TgZ(89,"div",23)(90,"label",24),e._uU(91,"Show Customer Wise Item"),e.qZA()()()()()()(),e.TgZ(92,"fieldset")(93,"legend",10),e._uU(94,"Report Filter Option :"),e.qZA(),e.TgZ(95,"div",1)(96,"div",29)(97,"label",30),e._uU(98,"SO Delivery Status :"),e.qZA()(),e.TgZ(99,"div",31)(100,"div",1)(101,"div",21)(102,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(103,"div",23)(104,"label",24),e._uU(105,"Outstanding Only"),e.qZA()()(),e.TgZ(106,"div",1)(107,"div",21)(108,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(109,"div",23)(110,"label",24),e._uU(111,"Delivered Only"),e.qZA()()(),e.TgZ(112,"div",1)(113,"div",21)(114,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(115,"div",23)(116,"label",24),e._uU(117,"Both"),e.qZA()()(),e.TgZ(118,"div",1)(119,"div",21)(120,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(121,"div",23)(122,"label",24),e._uU(123,"Force Closed Only "),e.qZA()()()()(),e.TgZ(124,"div",1)(125,"div",36)(126,"label",37),e._uU(127,"Customer :"),e.qZA()(),e.TgZ(128,"div",31)(129,"input",38),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(130,"div",1)(131,"div",36)(132,"label",37),e._uU(133,"Item Name :"),e.qZA()(),e.TgZ(134,"div",31)(135,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(136,"div",1)(137,"div",36)(138,"label",37),e._uU(139,"Item Group :"),e.qZA()(),e.TgZ(140,"div",31)(141,"select",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP=i}),e._UZ(142,"option",41),e.YNc(143,zJ,2,2,"option",42),e.qZA()()()(),e.TgZ(144,"fieldset")(145,"legend",10),e._uU(146,"Division Selection:"),e.qZA(),e.TgZ(147,"select",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV=i}),e.YNc(148,BJ,2,0,"option",43),e.YNc(149,qJ,2,2,"option",42),e.qZA()()()()(),e.TgZ(150,"div",44)(151,"button",45),e.NdJ("click",function(){return r.onload()}),e._uU(152,"RUN"),e.qZA(),e.TgZ(153,"button",46),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(154,"Close"),e.qZA()()()()()(),e.TgZ(155,"generic-popup-grid",47,48),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(157,"generic-popup-grid",47,49),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1),e.xp6(2),e.Q6J("id","nepaliDateRangesfrom")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2),e.xp6(2),e.Q6J("id","nepaliDateRangesTo")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE),e.xp6(2),e.Q6J("id","nepaliDateDeliveryFrom")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE),e.xp6(2),e.Q6J("id","nepaliDateDeliveryTo")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY)("disabled",0==r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM)("disabled",0==r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(14),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const JJ=["genericGridSupplierPopup"],GJ=["genericGridItemPopup"];function QJ(n,a){1&n&&(e.TgZ(0,"option",20),e._uU(1,"ALL"),e.qZA())}function KJ(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function $J(n,a){1&n&&(e.TgZ(0,"option",30),e._uU(1,"Main Warehouse"),e.qZA())}function XJ(n,a){if(1&n&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.NAME),e.xp6(1),e.Oqu(t.NAME)}}function eG(n,a){if(1&n&&(e.ynx(0),e.YNc(1,XJ,2,2,"option",31),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.warehouseList)}}function tG(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",2)(6,"div",5)(7,"div",6)(8,"h5",7),e._uU(9,"Consolidated Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(10,"div",6)(11,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(12,"\xd7"),e.qZA()()()(),e._UZ(13,"hr"),e.TgZ(14,"div",9)(15,"div",10)(16,"div",6)(17,"fieldset")(18,"legend",11),e._uU(19,"Date Range Selection : "),e.qZA(),e.TgZ(20,"div",2)(21,"div",12)(22,"div",13)(23,"div")(24,"label"),e._uU(25," From:(AD) "),e.qZA()(),e.TgZ(26,"div")(27,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(28,"div")(29,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1=o)}),e.qZA()()(),e.TgZ(30,"div",6)(31,"div")(32,"label"),e._uU(33," To:(AD) "),e.qZA()(),e.TgZ(34,"div")(35,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(36,"div")(37,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2=o)}),e.qZA()()()()()(),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV=o)}),e.YNc(42,QJ,2,0,"option",17),e.YNc(43,KJ,2,2,"option",18),e.qZA()()(),e.TgZ(44,"div",19)(45,"fieldset")(46,"legend",11),e._uU(47,"Company Selection:"),e.qZA(),e.TgZ(48,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY=o)}),e.TgZ(49,"option",20),e._uU(50,"All"),e.qZA(),e.TgZ(51,"option",21),e._uU(52,"Nestle"),e.qZA(),e.TgZ(53,"option",22),e._uU(54,"Non-Nestle"),e.qZA()()(),e.TgZ(55,"fieldset")(56,"legend",11),e._uU(57,"Warehouse Type:"),e.qZA(),e.TgZ(58,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE=o)}),e.TgZ(59,"option",20),e._uU(60,"All"),e.qZA(),e.TgZ(61,"option",23),e._uU(62,"Saleable"),e.qZA(),e.TgZ(63,"option",24),e._uU(64,"Unsaleable"),e.qZA()()(),e.TgZ(65,"fieldset")(66,"legend",11),e._uU(67,"Warehouse Selection:"),e.qZA(),e.TgZ(68,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE=o)}),e.TgZ(69,"option",20),e._uU(70,"All"),e.qZA(),e.YNc(71,$J,2,0,"option",25),e.YNc(72,eG,2,1,"ng-container",0),e.qZA()()()()(),e.TgZ(73,"div",26)(74,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onload())}),e._uU(75,"RUN"),e.qZA(),e.TgZ(76,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(77,"Close"),e.qZA()()()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(27),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE),e.xp6(3),e.Q6J("ngIf","sellable"==t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE),e.xp6(1),e.Q6J("ngIf","nonsellable"==t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE)}}function rG(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function iG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",46)(2,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObjSHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",48)(4,"label",49),e._uU(5,"Show Batch Wise Stock Report "),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE)("checked",1==t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObjSHOWBATCHWISE)}}function oG(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function nG(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function aG(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function sG(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",2)(6,"div",5)(7,"div",6)(8,"h5",33),e._uU(9,"Consolidated Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(10,"div",6)(11,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(12,"\xd7"),e.qZA()()()(),e._UZ(13,"hr"),e.TgZ(14,"div",9)(15,"div",10)(16,"div",6)(17,"fieldset")(18,"legend",11),e._uU(19,"Date Range Selection : "),e.qZA(),e.TgZ(20,"div",2)(21,"div",12)(22,"div",13)(23,"div")(24,"label"),e._uU(25," From:(AD) "),e.qZA()(),e.TgZ(26,"div")(27,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(28,"div")(29,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1=o)}),e.qZA()()(),e.TgZ(30,"div",6)(31,"div")(32,"label"),e._uU(33," To:(AD) "),e.qZA()(),e.TgZ(34,"div")(35,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(36,"div")(37,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2=o)}),e.qZA()()()()()(),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV=o)}),e.TgZ(42,"option",20),e._uU(43,"ALL"),e.qZA(),e.YNc(44,rG,2,2,"option",18),e.qZA()(),e.TgZ(45,"fieldset")(46,"legend",11),e._uU(47,"Report Option :"),e.qZA(),e.TgZ(48,"div",35)(49,"div",36)(50,"div",37)(51,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(52,"div",39)(53,"label",40),e._uU(54,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(55,"div",36)(56,"div",37)(57,"input",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(58,"div",39)(59,"label",40),e._uU(60,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(61,"div",36)(62,"div",37)(63,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(64,"div",39)(65,"label",40),e._uU(66,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(67,"fieldset",43),e.YNc(68,iG,6,2,"div",44),e.TgZ(69,"div",45)(70,"div",46)(71,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObj_ZEROBALSTOCKALSO=o.target.checked?1:0)}),e.qZA()(),e.TgZ(72,"div",48)(73,"label",49),e._uU(74,"Show Zero Balance Stock Also "),e.qZA()()()()(),e.TgZ(75,"div",50)(76,"fieldset")(77,"legend"),e._uU(78,"Report Filter Option :"),e.qZA(),e.TgZ(79,"div",9)(80,"div",51)(81,"label",52),e._uU(82,"Item Group :"),e.qZA()(),e.TgZ(83,"div",48)(84,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP=o)}),e._UZ(85,"option",20),e.YNc(86,oG,2,2,"option",18),e.qZA()()(),e.TgZ(87,"div",2)(88,"div",51)(89,"label",52),e._uU(90,"Item Category :"),e.qZA()(),e.TgZ(91,"div",48)(92,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT=o)}),e._UZ(93,"option",20),e.YNc(94,nG,2,2,"option",18),e.qZA()()(),e.TgZ(95,"div",2)(96,"div",51)(97,"label",52),e._uU(98,"Item Type :"),e.qZA()(),e.TgZ(99,"div",48)(100,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE=o)}),e._UZ(101,"option",53),e.YNc(102,aG,2,2,"option",18),e.qZA()()(),e.TgZ(103,"div",54)(104,"div",51)(105,"label",55),e._uU(106,"Supplier Name :"),e.qZA()(),e.TgZ(107,"div",48)(108,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER=o)})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.customerEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.customerEnterCommand(o))})("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.customerEnterCommand(o))})("keypress",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()()(),e.TgZ(109,"fieldset")(110,"legend",11),e._uU(111,"Item Selection :"),e.qZA(),e.TgZ(112,"div",57)(113,"div",51)(114,"label",52),e._uU(115,"Item Name :"),e.qZA()(),e.TgZ(116,"div",48)(117,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM=o)})("keydown.enter",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keyup",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keypress",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()()()()()(),e.TgZ(118,"div",26)(119,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onload())}),e._uU(120,"RUN"),e.qZA(),e.TgZ(121,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(122,"Close"),e.qZA()()()()()(),e.TgZ(123,"generic-popup-grid",59,60),e.NdJ("onItemDoubleClick",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dblClickPopupParty(o))}),e.qZA(),e.TgZ(125,"generic-popup-grid",59,61),e.NdJ("onItemDoubleClick",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dblClickPopupItem(o))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(27),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(5),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO)("checked",1==t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObj_ZEROBALSTOCKALSO),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem)}}let lG=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._alertService=p,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",date1:"",date2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"%",PhiscalID:"",DIVISION:"%",Warehouse:"%",WarehouseType:"%",Company:"%",MCODE:"",REPORTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",SUPPLIERDISPLAYNAME:"",params:"%",SHOWBATCHWISESTOCK:0,WAREHOUSE:"",DIVISIONWISEREPORT:0,DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",ZEROBALSTOCKALSO:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.warehouseList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.allwarehouseList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("HASANOTHER_PCL",this.userSetting.HASANOTHER_PCL),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getUnsaleableWarehouseList().subscribe(h=>{this.warehouseList=h});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList(),0==this.userSetting.HASANOTHER_PCL&&(this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}))}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.CurrentStockWarehousewiseObj.assignPreviousValue&&(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV="%",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV="%"):(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV=this.masterService.PhiscalObj.Div),this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY="%",this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE="%",this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE="%",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode="0",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE=0,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO=0),this.changeEntryDate(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,"AD"),this.changeEntryDate(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.userSetting.HASANOTHER_PCL)this.repObj.reportparam.DATE1=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,this.repObj.reportparam.date1=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,this.repObj.reportparam.date2=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.PhiscalID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV:"%",this.repObj.reportparam.DIVISION=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV:"%",this.repObj.reportparam.Warehouse=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE:"%",this.repObj.reportparam.Company=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY:"%",this.repObj.reportparam.WarehouseType=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE:"%",this.repObj.reportname="Current Stock Warehousewise ReportNONDMS";else{if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME="";if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSENAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?"All":this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE:"",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE&&"100"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE&&"100"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME="";this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?"All":this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE:"%",this.repObj.reportparam.REPORTYPE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE:"",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE:"%",this.repObj.reportparam.params="%",this.repObj.reportparam.DIVISIONWISEREPORT=0,this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE:0,this.repObj.reportparam.ZEROBALSTOCKALSO=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report - Warehouse Wise_SBATCH"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report - Warehouse Wise_1_SBATCH"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report - Warehouse Wise_2_SBATCH"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="":0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report - Warehouse Wise"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report - Warehouse Wise_1"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report - Warehouse Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=""}this.repObj.REPORTDISPLAYNAME="Consolidated Stock Report - Warehouse Wise",this._reportFilterService.CurrentStockWarehousewiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE=t.ACID,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE=t.MCODE,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM=t.DESCA,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["currentstockwarehousewise-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(JJ,5),e.Gf(GJ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","400px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","315px"],["value","%"],["value","Nestle"],["value","Non Nestle"],["value","sellable"],["value","nonsellable"],["value","Main Warehouse",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],["value","Main Warehouse"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"modal-title",2,"padding-left","3%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[2,"display","flex","border","none","padding-bottom","20px"],["class","row checkbox","style","margin-top:5px; ",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""]],template:function(t,r){1&t&&(e.YNc(0,tG,78,20,"ng-container",0),e.YNc(1,sG,127,26,"ng-container",0)),2&t&&(e.Q6J("ngIf",1==r.userSetting.HASANOTHER_PCL),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.HASANOTHER_PCL))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const cG=["genericGridSupplierPopup"];function pG(n,a){1&n&&(e.TgZ(0,"option",20),e._uU(1,"ALL"),e.qZA())}function dG(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function _G(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function hG(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ng-multiselect-dropdown",42),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE=o)}),e.ALo(2,"disableField"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("placeholder","Select Warehouse ")("settings",t.warehousedropdownSettings)("data",t.warehouseList)("ngModel",t._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE)("disabled",e.lcZ(2,5,"disableWareHouse"))}}function uG(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function gG(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE=o)}),e.ALo(2,"disableField"),e._UZ(3,"option",20),e.YNc(4,uG,2,2,"option",17),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE)("disabled",e.lcZ(2,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList)}}let mG=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._alertService=p,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,VCHR:"",ACID:"",CUSTOMERNAME:"",STATUS:0,WAREHOUSE:"",WAREHOUSETYPE:0,WAREHOUSENAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.warehouseList=[],this.gridPopupSettingsForSupplier=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList(),this.masterService.getWarehouseListByDivision(this._reportFilterService.GrnReportObj.GrnReport_DIV??"").subscribe(h=>{this.warehouseList=h?.result},h=>{this.warehouseList=[]})}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.GrnReportObj.assignPreviousValue&&(this._reportFilterService.GrnReportObj.GrnReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.GrnReportObj.GrnReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.GrnReportObj.GrnReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT="0",this._reportFilterService.GrnReportObj.GrnReport_STATUS="0",this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE="0",this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE=1==this.userSetting.UserWiseWarehouse?this.userProfile.userWarehouse:"%"),this.changeEntryDate(this._reportFilterService.GrnReportObj.GrnReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.GrnReportObj.GrnReport_DATE2,"AD"))}),this.warehousedropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"NAME",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:200}}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.GrnReportObj.GrnReport_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.GrnReportObj.GrnReport_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.GrnReportObj.GrnReport_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.GrnReportObj.GrnReport_DATE2=this.masterService.toADDate(t)}}onload(){let t=[];if(0==this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE.length&&(this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE="%"),"%"!=this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE&&this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE.forEach(s=>{t.push(s.NAME)}),this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSENAME=this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE&&"%"==this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE?"All":this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE&&"%"!=this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE?this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE:"",1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.GrnReportObj.GrnReport_CCENTER||null==this._reportFilterService.GrnReportObj.GrnReport_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.GrnReportObj.GrnReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.GrnReportObj.GrnReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.GrnReportObj.GrnReport_CCENTER?this._reportFilterService.GrnReportObj.GrnReport_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.GrnReportObj.GrnReport_DIV?this._reportFilterService.GrnReportObj.GrnReport_DIV:"%",this.repObj.reportparam.STATUS=this._reportFilterService.GrnReportObj.GrnReport_STATUS?this._reportFilterService.GrnReportObj.GrnReport_STATUS:0,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT?this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE?this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER?this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER:"",this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSETYPE?this._reportFilterService.StockSummaryObj.GrnReport_WAREHOUSETYPE:0,this.repObj.reportparam.WAREHOUSE="%"!=this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE?t.toString():"%",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSENAME?t.toString():"",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.reportname="Grn Report",this.repObj.REPORTDISPLAYNAME="Grn Report",this._reportFilterService.GrnReportObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE=t.ACID,this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}onMultiSelect(t){}onSelectDivision(t){this._reportFilterService.GrnReportObj.GrnReport_WAREHOUSE="%",this.masterService.getWarehouseListByDivision(t.target.value).subscribe(r=>{this.warehouseList=r.result},r=>{this.warehouseList=[]})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["grn-report-selector"]],viewQuery:function(t,r){if(1&t&&e.Gf(cG,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:99,vars:27,consts:[[1,"container",2,"width","110%","margin-right","40px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","change","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["s",""],[4,"ngIf"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-3","pd0"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],[2,"width","100px"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","100",2,"margin-left","20px",3,"ngModel","ngModelChange"],[2,"width","50px"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","disabled","onSelect","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"GRN Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("change",function(i){return r.onSelectDivision(i)})("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_DIV=i}),e.YNc(41,pG,2,0,"option",16),e.YNc(42,dG,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_CCENTER=i}),e._UZ(47,"option",19),e.TgZ(48,"option",20),e._uU(49," ALL "),e.qZA(),e.YNc(50,_G,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",21)(52,"fieldset",22)(53,"legend",10),e._uU(54,"Warehouse Selection:"),e.qZA(),e.YNc(55,hG,3,7,"ng-container",23),e.YNc(56,gG,5,5,"ng-container",23),e.qZA(),e.TgZ(57,"fieldset")(58,"legend",10),e._uU(59,"Supplier Selection :"),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Report Option :"),e.qZA(),e.TgZ(64,"div",25)(65,"div",26)(66,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(67,"label",28),e._uU(68,"Pending GRN Only"),e.qZA()(),e.TgZ(69,"div",26)(70,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(71,"label"),e._uU(72,"Billed GRN Only"),e.qZA()(),e.TgZ(73,"div",26)(74,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(75,"label",28),e._uU(76,"Force Closed Only"),e.qZA()(),e.TgZ(77,"div",26)(78,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(79,"label",32),e._uU(80,"All GRN"),e.qZA()()()(),e.TgZ(81,"fieldset")(82,"legend",10),e._uU(83,"Report Type :"),e.qZA(),e.TgZ(84,"div",33)(85,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(86,"label"),e._uU(87,"Summary Report"),e.qZA()(),e.TgZ(88,"div",33)(89,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(90,"label"),e._uU(91,"Detail Report"),e.qZA()()()()()(),e.TgZ(92,"div",36)(93,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(94,"RUN"),e.qZA(),e.TgZ(95,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(96,"Close"),e.qZA()()()()()(),e.TgZ(97,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.GrnReportObj.GrnReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.GrnReportObj.GrnReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngIf",0==r.userSetting.UserWiseWarehouse),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.UserWiseWarehouse),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,ue.O,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const SG=["genericGridItemPopup"],fG=["genericGridParentItemPopup"];function vG(n,a){1&n&&(e.TgZ(0,"option",38),e._uU(1,"ALL"),e.qZA())}function OG(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let bG=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._alertService=p,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",MCODE:"",REPORTTYPE:0,ITEMNAME:"",MENUCODE:"",COMID:"",PMCODE:"",PITEMSEGREGATION:0,PITEMNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForParentItem=new f.im,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RepackReportObj.assignPreviousValue&&(this._reportFilterService.RepackReportObj.RepackReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RepackReportObj.RepackReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RepackReportObj.RepackReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE="0",this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=0),this.changeEntryDate(this._reportFilterService.RepackReportObj.RepackReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RepackReportObj.RepackReport_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.RepackReportObj.RepackReport_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.RepackReportObj.RepackReport_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.RepackReportObj.RepackReport_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.RepackReportObj.RepackReport_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RepackReportObj.RepackReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RepackReportObj.RepackReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RepackReportObj.RepackReport_DIV?this._reportFilterService.RepackReportObj.RepackReport_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RepackReportObj.RepackReport_MCODE?this._reportFilterService.RepackReportObj.RepackReport_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE?this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RepackReportObj.RepackReport_ITEM?this._reportFilterService.RepackReportObj.RepackReport_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RepackReportObj.RepackReport_MENUCODE?this._reportFilterService.RepackReportObj.RepackReport_MENUCODE:"%",this.repObj.reportparam.PMCODE=this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE?this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE:"%",this.repObj.reportparam.PITEMNAME=this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM?this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM:"%",this.repObj.reportparam.PITEMSEGREGATION=this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION?this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.PITEMNAME&&(this.repObj.reportparam.PMCODE="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Repack Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.PITEMSEGREGATION?this.repObj.reportname="Repack Report_1":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.PITEMSEGREGATION&&(this.repObj.reportname="Repack Report_2"),this.repObj.REPORTDISPLAYNAME="Repack Report",this._reportFilterService.RepackReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.RepackReportObj.RepackReport_MCODE=t.MCODE,this._reportFilterService.RepackReportObj.RepackReport_ITEM=t.DESCA,this._reportFilterService.RepackReportObj.RepackReport_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ParentItemEnterCommand(t){this.gridPopupSettingsForParentItem=this.masterService.getGenericGridPopUpSettings("ParentItemsList"),this.genericGridParentItemPopup.show()}dblClickPopupParentItem(t){this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE=t.MCODE,this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM=t.DESCA,this._reportFilterService.RepackReportObj.RepackReport_PARENTMENUCODE=t.MENUCODE}reportTypeChange(){0==this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE&&(this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["repack-report-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(SG,5),e.Gf(fG,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridParentItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Parent Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridParentItemPopup",""],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Repack Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_DIV=i}),e.YNc(41,vG,2,0,"option",16),e.YNc(42,OG,2,2,"option",17),e.qZA()()(),e.TgZ(43,"div",18)(44,"fieldset")(45,"legend",10),e._uU(46,"Report Type Selection :"),e.qZA(),e.TgZ(47,"div")(48,"div",19)(49,"div",20)(50,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE=i})("change",function(){return r.reportTypeChange()}),e.qZA()(),e.TgZ(51,"div",22)(52,"label",23),e._uU(53,"Entry Wise Report"),e.qZA()()(),e.TgZ(54,"div",19)(55,"div",20)(56,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE=i})("change",function(){return r.reportTypeChange()}),e.qZA()(),e.TgZ(57,"div",22)(58,"label",23),e._uU(59,"Item Wise Report"),e.qZA()()(),e.TgZ(60,"div",19)(61,"div",20)(62,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=i})("change",function(i){return r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=i.target.checked?1:0}),e.qZA()(),e.TgZ(63,"div",22)(64,"label",23),e._uU(65,"Do Parent Item Wise Segregation"),e.qZA()()()()(),e.TgZ(66,"fieldset")(67,"legend",10),e._uU(68,"Report Filter Option:"),e.qZA(),e.TgZ(69,"div",26)(70,"div",27)(71,"label",28),e._uU(72,"Item Name :"),e.qZA()(),e.TgZ(73,"div",29)(74,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(75,"div",26)(76,"div",27)(77,"label",28),e._uU(78,"Parent Item Name :"),e.qZA()(),e.TgZ(79,"div",29)(80,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RepackReportObj.RepackReport_PARENTITEM=i})("keydown.enter",function(i){return r.ParentItemEnterCommand(i)})("keydown.Tab",function(i){return r.ParentItemEnterCommand(i)})("keyup",function(i){return r.ParentItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(81,"div",32)(82,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(83,"RUN"),e.qZA(),e.TgZ(84,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(85,"Close"),e.qZA()()()()()(),e.TgZ(86,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(88,"generic-popup-grid",35,37),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParentItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RepackReportObj.RepackReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RepackReportObj.RepackReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION)("checked",1==r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION)("disabled",0==r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_PARENTITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForParentItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const TG=["genericGridItemPopup"];function CG(n,a){1&n&&(e.TgZ(0,"option",47),e._uU(1,"ALL"),e.qZA())}function MG(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function AG(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij("",t.NAME," ")}}function PG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=o)}),e._UZ(2,"option",47),e.YNc(3,AG,2,2,"option",17),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM),e.xp6(2),e.Q6J("ngForOf",t.reqdivisionList)}}function RG(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij("",t.NAME," ")}}function EG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=o)}),e.ALo(2,"disableField"),e._UZ(3,"option",47),e.YNc(4,RG,2,2,"option",17),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM)("disabled",e.lcZ(2,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList)}}function DG(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.INITIAL),e.xp6(1),e.hij("",t.NAME," ")}}function IG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO=o)}),e._UZ(2,"option",47),e.YNc(3,DG,2,2,"option",17),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO),e.xp6(2),e.Q6J("ngForOf",t.reqdivisionList)}}function NG(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij("",t.NAME," ")}}function kG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO=o)}),e._UZ(2,"option",47),e.YNc(3,NG,2,2,"option",17),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO),e.xp6(2),e.Q6J("ngForOf",t.warehouseList)}}function yG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"div",52)(2,"input",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",30)(4,"label",54),e._uU(5),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH)("checked",1==t._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH),e.xp6(3),e.hij("Disable ",t.typeWise," Wise Segragation In Report")}}let FG=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._alertService=p,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",ENTRYWISEREPORT:"",REQTYPE:"",Status:"",IGNOREBRANCH:"",REQFROM:"",REQTO:"",REQFROMDISPLAYNAME:"",REQTODISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.warehouseList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.reqdivisionList=[],this.userProfile={},this.typeWise="Division",this.gridPopupSettingsForItem=new f.im,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("this.userProfile",this.userProfile),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.getWarehouseListByDivision(this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV??""),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getNotLoginDivisionList().subscribe(h=>{this.reqdivisionList=h});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RequisitionReportObj.assignPreviousValue&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RequisitionReportObj.RequisitionReport_ShowItemInGroupWiseReport=0,this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT="1",this._reportFilterService.RequisitionReportObj.RequisitionReport_Status="0",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM="%",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO="%",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE="0"),this.changeEntryDate(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=this.masterService.toADDate(t)}}onload(){if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM&&"%"==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM)this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME="All";else if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM&&"%"!=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM){let i;i=0==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE?this.reqdivisionList.filter(s=>s.INITIAL==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM):this.warehouseList.filter(s=>s.NAME==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM),this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME="";if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO&&"%"==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO)this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME="All";else if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO&&"%"!=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO){let i;i=0==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE?this.reqdivisionList.filter(s=>s.INITIAL==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO):this.warehouseList.filter(s=>s.NAME==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO),this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV?this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE?this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.RequisitionReportObj.RequisitionReport_MGROUP?this._reportFilterService.RequisitionReportObj.RequisitionReport_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.RequisitionReportObj.RequisitionReport_PTYPE?this._reportFilterService.RequisitionReportObj.RequisitionReport_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.RequisitionReportObj.RequisitionReport_MCAT?this._reportFilterService.RequisitionReportObj.RequisitionReport_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM?this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE?this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE:"",this.repObj.reportparam.ENTRYWISEREPORT=this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT?this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT:"",this.repObj.reportparam.REQTYPE=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE:"0",this.repObj.reportparam.Status=this._reportFilterService.RequisitionReportObj.RequisitionReport_Status?this._reportFilterService.RequisitionReportObj.RequisitionReport_Status:"",this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH?this._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH:0,this.repObj.reportparam.REQFROM=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM:"%",this.repObj.reportparam.REQTO=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO:"%",this.repObj.reportparam.REQFROMDISPLAYNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME:"",this.repObj.reportparam.REQTODISPLAYNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),1==this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT?this.repObj.reportname="Requisition Report":2==this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT&&(this.repObj.reportname="Requisition Report_1"),this.repObj.REPORTDISPLAYNAME="Requisition Report",this._reportFilterService.RequisitionReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}onChangeReqType(t){0==t&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM="%",this.typeWise="Division"),1==t&&(1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=this.userProfile.userWarehouse),this.typeWise="Warehouse")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE=t.MCODE,this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM=t.DESCA,this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}ItemWiseChange(){}onSelectDivision(t){this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM="%",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO="%",this.getWarehouseListByDivision(t.target.value)}getWarehouseListByDivision(t){this.masterService.getWarehouseListByDivision(t).subscribe(r=>{this.warehouseList=r.result},r=>{this.warehouseList=[]})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["requisition-report-selector"]],viewQuery:function(t,r){if(1&t&&e.Gf(TG,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:130,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reqType","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reqType","value","1",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","2",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%","width","100px !important"],["class","col",4,"ngIf"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-bottom","-3%"],[1,"col-sm-1","pd0"],["type","radio","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","value","1",3,"ngModel","ngModelChange"],["type","radio","value","2",3,"ngModel","ngModelChange"],["type","radio","value","3",3,"ngModel","ngModelChange"],["type","radio","value","4",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["value","%"],[3,"value"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Requisition Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_DIV=i})("change",function(i){return r.onSelectDivision(i)}),e.YNc(41,CG,2,0,"option",16),e.YNc(42,MG,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Requisition Type:"),e.qZA(),e.TgZ(46,"div",1)(47,"div",18)(48,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE=i})("change",function(){return r.onChangeReqType(0)}),e.qZA(),e.TgZ(49,"label",20),e._uU(50,"Transfer Out"),e.qZA()(),e.TgZ(51,"div",18)(52,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE=i})("change",function(){return r.onChangeReqType(1)}),e.qZA(),e.TgZ(53,"label",20),e._uU(54,"Stock Issue"),e.qZA()()()()(),e.TgZ(55,"div",22)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",18)(61,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT=i}),e.qZA(),e.TgZ(62,"label",20),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",18)(65,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT=i}),e.qZA(),e.TgZ(66,"label",20),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Report Filter Option :"),e.qZA(),e.TgZ(71,"div",25)(72,"div",26)(73,"label",27),e._uU(74,"Requisition From :"),e.qZA()(),e.YNc(75,PG,4,2,"div",28),e.YNc(76,EG,5,5,"div",28),e.qZA(),e.TgZ(77,"div",25)(78,"div",26)(79,"label",29),e._uU(80,"Requisition To :"),e.qZA()(),e.YNc(81,IG,4,2,"div",28),e.YNc(82,kG,4,2,"div",28),e.qZA(),e.TgZ(83,"div",25)(84,"div",26)(85,"label",29),e._uU(86,"Item Name :"),e.qZA()(),e.TgZ(87,"div",30)(88,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Requisition Status :"),e.qZA(),e.TgZ(92,"div",32)(93,"div",33)(94,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(95,"div",35)(96,"label",36),e._uU(97,"All"),e.qZA()()(),e.TgZ(98,"div",32)(99,"div",33)(100,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(101,"div",35)(102,"label",36),e._uU(103,"Pending"),e.qZA()()(),e.TgZ(104,"div",32)(105,"div",33)(106,"input",38),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(107,"div",35)(108,"label",36),e._uU(109,"Delivered"),e.qZA()()(),e.TgZ(110,"div",32)(111,"div",33)(112,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(113,"div",35)(114,"label",36),e._uU(115,"Force Closed"),e.qZA()()(),e.TgZ(116,"div",32)(117,"div",33)(118,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(119,"div",35)(120,"label",36),e._uU(121,"Partial"),e.qZA()()()()(),e.YNc(122,yG,6,3,"div",41),e.qZA()()(),e.TgZ(123,"div",42)(124,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(125,"RUN"),e.qZA(),e.TgZ(126,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(127,"Close"),e.qZA()()()()()(),e.TgZ(128,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(10),e.Q6J("ngIf","0"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(1),e.Q6J("ngIf","1"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(5),e.Q6J("ngIf","0"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(1),e.Q6J("ngIf","1"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(4),e.Q6J("ngIf",2==r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function jG(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function LG(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.ID),e.xp6(1),e.hij(" ",t.REPORTNAME," ")}}function wG(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function xG(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function VG(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"fieldset")(2,"legend",10),e._uU(3,"From Division:"),e.qZA(),e.TgZ(4,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV=o)}),e.TgZ(5,"option",16),e._uU(6,"ALL"),e.qZA(),e.YNc(7,wG,2,2,"option",17),e.qZA()(),e.TgZ(8,"fieldset")(9,"legend",10),e._uU(10,"To Division:"),e.qZA(),e.TgZ(11,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.RawDataReportObj.RawDataReport_TODIV=o)}),e.TgZ(12,"option",16),e._uU(13,"ALL"),e.qZA(),e.YNc(14,xG,2,2,"option",17),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_TODIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList)}}let WG=(()=>{class n{constructor(t,r,o,i,s,p){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",COMID:"",REPORT_ID:1,REPORT_NAME:"",FROMDIV:"%",TODIV:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.rawdatareportList=[],this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getRawDataReportList().subscribe(_=>{this.rawdatareportList=_});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10)}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RawDataReportObj.assignPreviousValue&&(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RawDataReportObj.RawDataReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RawDataReportObj.RawDataReport_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV=!1),this.changeEntryDate(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RawDataReportObj.RawDataReport_DATE2,"AD"))})}changeEntryDate(t,r){"AD"==r?this._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.RawDataReportObj.RawDataReport_DATE2=this.masterService.toADDate(t))}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RawDataReportObj.RawDataReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RawDataReportObj.RawDataReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RawDataReportObj.RawDataReport_DIV?this._reportFilterService.RawDataReportObj.RawDataReport_DIV:"%",this.repObj.reportparam.REPORT_ID=this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID?this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID:1,this.repObj.reportparam.REPORT_NAME=this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME?this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME:"",this.repObj.reportparam.FROMDIV=this._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV?this._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV:"%",this.repObj.reportparam.TODIV=this._reportFilterService.RawDataReportObj.RawDataReport_TODIV?this._reportFilterService.RawDataReportObj.RawDataReport_TODIV:"%",this.repObj.reportname=`Raw Data Report_${this.repObj.reportparam.REPORT_ID}`,this.repObj.REPORTDISPLAYNAME="Raw Data Report",this._reportFilterService.RawDataReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}showFromToDiv(){let t=this.rawdatareportList.filter(r=>r.ID==this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID);t.length>0&&(this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME=t[0].REPORTNAME,this._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV=!(!t[0].SHOWFROMTODIV||1!=t[0].SHOWFROMTODIV))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["rawdata-report-selector"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:56,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","310px"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Raw Data Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_DIV=i}),e.TgZ(41,"option",16),e._uU(42,"ALL"),e.qZA(),e.YNc(43,jG,2,2,"option",17),e.qZA()()(),e.TgZ(44,"div",18)(45,"fieldset")(46,"legend",10),e._uU(47,"Report Type:"),e.qZA(),e.TgZ(48,"select",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID=i})("change",function(){return r.showFromToDiv()}),e.YNc(49,LG,2,2,"option",17),e.qZA()(),e.YNc(50,VG,15,4,"ng-container",20),e.qZA()()(),e.TgZ(51,"div",21)(52,"button",22),e.NdJ("click",function(){return r.onload()}),e._uU(53,"RUN"),e.qZA(),e.TgZ(54,"button",23),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(55,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID),e.xp6(1),e.Q6J("ngForOf",r.rawdatareportList),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const ZG=["genericGridSupplierPopup"],HG=["genericGridItemPopup"];function UG(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function zG(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function BG(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function qG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",27)(2,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",57)(4,"label",30),e._uU(5,"Include Transit Data"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA)("checked",1==t._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA)}}function YG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE5=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE5)}}function JG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE6=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE6)}}function GG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE7=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE7)}}function QG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE8=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE8)}}function KG(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE9=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE9)}}function $G(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE10=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE10)}}function XG(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function eQ(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function tQ(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function rQ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",40)(2,"label",41),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",23)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_PTYPE=o)}),e._UZ(6,"option",58),e.YNc(7,tQ,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function iQ(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function oQ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",40)(2,"label",41),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",23)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER=o)}),e._UZ(6,"option",19),e.YNc(7,iQ,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}let nQ=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._alertService=p,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",AGE1:30,AGE2:60,AGE3:90,AGE4:120,AGE5:150,AGE6:180,AGE7:210,AGE8:240,AGE9:270,AGE10:300,AGEINGMODE:0,SHOWBATCHWISEAGEING:0,SHOWGROUPING:0,WAREHOUSE:"%",WAREHOUSETYPE:0,INCLUDETRANSITDATA:0,MANUFACTURER:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.ManufacturerList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h,this._reportFilterService.previouslyLoadedReportList?.some(g=>g.activeurlpath==this.arouter.url)||(this._reportFilterService.StockAgeingObj.StockAgeing_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.getManufacturerList().subscribe(h=>{h&&(this.ManufacturerList=h)});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList()}ngOnInit(){let t={};t=this.masterService.userProfile.userRights.find(o=>"StockAgeingLimit"==o.right),this.AgingValue=t.value,console.log("AGINGVALUE",this.AgingValue);const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(o=>{"DRILL"==o.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockAgeingObj.assignPreviousValue&&(this._reportFilterService.StockAgeingObj.StockAgeing_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.StockAgeingObj.StockAgeing_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockAgeingObj.StockAgeing_AGE1=30,this._reportFilterService.StockAgeingObj.StockAgeing_AGE2=60,this._reportFilterService.StockAgeingObj.StockAgeing_AGE3=90,this._reportFilterService.StockAgeingObj.StockAgeing_AGE4=120,this._reportFilterService.StockAgeingObj.StockAgeing_AGE5=150,this._reportFilterService.StockAgeingObj.StockAgeing_AGE6=180,this._reportFilterService.StockAgeingObj.StockAgeing_AGE7=210,this._reportFilterService.StockAgeingObj.StockAgeing_AGE8=240,this._reportFilterService.StockAgeingObj.StockAgeing_AGE9=270,this._reportFilterService.StockAgeingObj.StockAgeing_AGE10=300,this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE=1,this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING=0,this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING=0,this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE="0"),this.changeEntryDate(this._reportFilterService.StockAgeingObj.StockAgeing_DATE1,"AD"))}),0===this._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA?this._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA=0:this.userSetting.EnableTransitWiseTransferIn&&(this._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA=1)}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockAgeingObj.StockAgeing_DATE1=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.StockAgeingObj.StockAgeing_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockAgeingObj.StockAgeing_DIV?this._reportFilterService.StockAgeingObj.StockAgeing_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE?this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockAgeingObj.StockAgeing_MCODE?this._reportFilterService.StockAgeingObj.StockAgeing_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.StockAgeingObj.StockAgeing_MGROUP?this._reportFilterService.StockAgeingObj.StockAgeing_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockAgeingObj.StockAgeing_PTYPE?this._reportFilterService.StockAgeingObj.StockAgeing_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockAgeingObj.StockAgeing_MCAT?this._reportFilterService.StockAgeingObj.StockAgeing_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockAgeingObj.StockAgeing_ITEM?this._reportFilterService.StockAgeingObj.StockAgeing_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER?this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE?this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE:"",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE?this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE:"%",this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE?this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE:0,this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA?this._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA:0,this.repObj.reportparam.AGE1=this._reportFilterService.StockAgeingObj.StockAgeing_AGE1?this._reportFilterService.StockAgeingObj.StockAgeing_AGE1:30,this.repObj.reportparam.AGE2=this._reportFilterService.StockAgeingObj.StockAgeing_AGE2?this._reportFilterService.StockAgeingObj.StockAgeing_AGE2:60,this.repObj.reportparam.AGE3=this._reportFilterService.StockAgeingObj.StockAgeing_AGE3?this._reportFilterService.StockAgeingObj.StockAgeing_AGE3:90,this.repObj.reportparam.AGE4=this._reportFilterService.StockAgeingObj.StockAgeing_AGE4?this._reportFilterService.StockAgeingObj.StockAgeing_AGE4:120,this.repObj.reportparam.AGE5=this.AgingValue>=5?this._reportFilterService.StockAgeingObj.StockAgeing_AGE5?this._reportFilterService.StockAgeingObj.StockAgeing_AGE5:150:0,this.repObj.reportparam.AGE6=this.AgingValue>=6?this._reportFilterService.StockAgeingObj.StockAgeing_AGE6?this._reportFilterService.StockAgeingObj.StockAgeing_AGE6:180:0,this.repObj.reportparam.AGE7=this.AgingValue>=7?this._reportFilterService.StockAgeingObj.StockAgeing_AGE7?this._reportFilterService.StockAgeingObj.StockAgeing_AGE7:210:0,this.repObj.reportparam.AGE8=this.AgingValue>=8?this._reportFilterService.StockAgeingObj.StockAgeing_AGE8?this._reportFilterService.StockAgeingObj.StockAgeing_AGE8:240:0,this.repObj.reportparam.AGE9=this.AgingValue>=9?this._reportFilterService.StockAgeingObj.StockAgeing_AGE9?this._reportFilterService.StockAgeingObj.StockAgeing_AGE9:270:0,this.repObj.reportparam.AGE10=this.AgingValue>=10?this._reportFilterService.StockAgeingObj.StockAgeing_AGE10?this._reportFilterService.StockAgeingObj.StockAgeing_AGE10:300:0,this.repObj.reportparam.AGEINGMODE=this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE?this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE:1,this.repObj.reportparam.SHOWBATCHWISEAGEING=this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING?this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING?this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING:0,this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE?this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE:"0",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER?this._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER:"%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?1==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_SBATCH":1==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_1_SBATCH":2==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_2_SBATCH":2==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_3_SBATCH":3==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_4_SBATCH":3==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING&&(this.repObj.reportname="Stock Ageing ReportNONDMS_5_SBATCH"):1==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS":1==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_1":2==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_2":2==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_3":3==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_4":3==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING&&(this.repObj.reportname="Stock Ageing ReportNONDMS_5"),this.repObj.REPORTDISPLAYNAME="Stock Ageing Report",this._reportFilterService.StockAgeingObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(p=>p.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r});const i=this.storeInLargestAgeKeyTheLargetsAgeValue({...this.repObj.reportparam}),s={...this.repObj,reportparam:i};this.reportdataEmit.emit({status:"ok",data:s})}storeInLargestAgeKeyTheLargetsAgeValue(t){let r=0,o=0;const i=Object.entries(t);for(const[s,p]of i){let _;if(null!==(_=/(AGE)(\d+)/.exec(s))&&"number"==typeof p){if(_[2]){const h=+_[2];h>o&&(o=h)}p>r&&(r=p)}}return t[`AGE${o}`]=r,{...t}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE=t.ACID,this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.StockAgeingObj.StockAgeing_MCODE=t.MCODE,this._reportFilterService.StockAgeingObj.StockAgeing_ITEM=t.DESCA,this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stockageing-report-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(ZG,5),e.Gf(HG,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:153,vars:43,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"padding-top","0px"],[1,"col-lg-2","col-md-2","col-sm-12",2,"margin-bottom","-10px"],[1,"col-md-1"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],[1,"col-lg-5","col-md-5","col-sm-12",2,"margin-bottom","-10px"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],[1,"col-md-6","filter-part"],[2,"margin-left","50px"],["type","number",1,"ageing","form-control",3,"ngModel","ngModelChange"],["type","number","class","ageing form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","1"],["value","2"],["value","3"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"],["type","checkbox","name","warehouseType","value","0",3,"ngModel","checked","ngModelChange","change"],["calss","col-md-12"],["value","100"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Ageing Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_DIV=i}),e.YNc(31,UG,2,0,"option",16),e.YNc(32,zG,2,2,"option",17),e.qZA()(),e.TgZ(33,"fieldset")(34,"legend",10),e._uU(35,"Warehouse Selection:"),e.qZA(),e.TgZ(36,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE=i}),e.ALo(37,"disableField"),e._UZ(38,"option",19),e.YNc(39,BG,2,2,"option",17),e.qZA()(),e.TgZ(40,"div",20)(41,"div",21)(42,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING=i}),e.qZA()(),e.TgZ(43,"div",23)(44,"label",24),e._uU(45,"Show Batch In Ageing Report"),e.qZA()()(),e.TgZ(46,"div",25)(47,"div",21)(48,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING=i}),e.qZA()(),e.TgZ(49,"div",23)(50,"label",24),e._uU(51,"Show Item Grouping Hierarchy"),e.qZA()()(),e.TgZ(52,"fieldset")(53,"legend",10),e._uU(54,"WareHouse Type :"),e.qZA(),e.TgZ(55,"div",1)(56,"div",26)(57,"div",1)(58,"div",27)(59,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(60,"div",29)(61,"label",30),e._uU(62,"All"),e.qZA()()()(),e.TgZ(63,"div",31)(64,"div",1)(65,"div",27)(66,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(67,"div",29)(68,"label",30),e._uU(69,"Sellable WareHouse"),e.qZA()()()(),e.TgZ(70,"div",31)(71,"div",1)(72,"div",27)(73,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(74,"div",29)(75,"label",30),e._uU(76,"Non-Sellable WareHouse"),e.qZA()()()()()(),e.YNc(77,qG,6,2,"div",34),e.qZA(),e.TgZ(78,"div",35)(79,"fieldset")(80,"legend",10),e._uU(81,"Ageing Parameter"),e.qZA(),e.TgZ(82,"div",36)(83,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE1=i}),e.qZA(),e.TgZ(84,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE2=i}),e.qZA(),e.TgZ(85,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE3=i}),e.qZA(),e.TgZ(86,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE4=i}),e.qZA(),e.YNc(87,YG,1,1,"input",38),e.YNc(88,JG,1,1,"input",38),e.YNc(89,GG,1,1,"input",38),e.YNc(90,QG,1,1,"input",38),e.YNc(91,KG,1,1,"input",38),e.YNc(92,$G,1,1,"input",38),e.qZA()(),e.TgZ(93,"fieldset")(94,"legend",10),e._uU(95,"Ageing Type Selection :"),e.qZA(),e.TgZ(96,"div",39)(97,"div",40)(98,"label",41),e._uU(99,"Ageing Type:"),e.qZA()(),e.TgZ(100,"div",23)(101,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE=i}),e.TgZ(102,"option",42),e._uU(103,"By Purchase Date"),e.qZA(),e.TgZ(104,"option",43),e._uU(105,"By Expiry Date"),e.qZA(),e.TgZ(106,"option",44),e._uU(107,"By Manufacturing Date"),e.qZA()()()()(),e.TgZ(108,"fieldset")(109,"legend"),e._uU(110,"Report Filter Option :"),e.qZA(),e.TgZ(111,"div",8)(112,"div",40)(113,"label",41),e._uU(114,"Item Group :"),e.qZA()(),e.TgZ(115,"div",23)(116,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_MGROUP=i}),e._UZ(117,"option",19),e.YNc(118,XG,2,2,"option",17),e.qZA()()(),e.TgZ(119,"div",1)(120,"div",40)(121,"label",41),e._uU(122,"Item Category :"),e.qZA()(),e.TgZ(123,"div",23)(124,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_MCAT=i}),e._UZ(125,"option",19),e.YNc(126,eQ,2,2,"option",17),e.qZA()()(),e.YNc(127,rQ,8,2,"div",34),e.YNc(128,oQ,8,2,"div",34),e.TgZ(129,"div",45)(130,"div",40)(131,"label",46),e._uU(132,"Supplier Name :"),e.qZA()(),e.TgZ(133,"div",23)(134,"input",47),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(135,"fieldset")(136,"legend",10),e._uU(137,"Item Selection :"),e.qZA(),e.TgZ(138,"div",39)(139,"div",40)(140,"label",41),e._uU(141,"Item Name :"),e.qZA()(),e.TgZ(142,"div",23)(143,"input",48),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockAgeingObj.StockAgeing_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(144,"div",49)(145,"button",50),e.NdJ("click",function(){return r.onload()}),e._uU(146,"RUN"),e.qZA(),e.TgZ(147,"button",51),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(148,"Close"),e.qZA()()()()()(),e.TgZ(149,"generic-popup-grid",52,53),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(151,"generic-popup-grid",52,54),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE)("disabled",e.lcZ(37,41,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING)("checked",1==r._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING)("checked",1==r._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE),e.xp6(4),e.Q6J("ngIf",r.userSetting.EnableTransitWiseTransferIn),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE1),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE2),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE3),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE4),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=5),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=6),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=7),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=8),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=9),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=10),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE),e.xp6(15),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const aQ=["genericGridSupplierPopup"],sQ=["genericGridItemPopup"];function lQ(n,a){1&n&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function cQ(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function pQ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",1)(2,"div",19)(3,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",21)(5,"label",22),e._uU(6,"Show Item In Transit only"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit)("checked",1==t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit)}}function dQ(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function _Q(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function hQ(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let uQ=(()=>{class n{constructor(t,r,o,i,s,p){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",FROMDATE:"",TODATE:"",FROMDIV:"",SHOWINTRANSITONLY:0,COMID:"",SHOWBATCHWISE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d,this._reportFilterService.previouslyLoadedReportList?.some(h=>h.activeurlpath==this.arouter.url)||(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)}),this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.BranchtransferoutVsInObj.assignPreviousValue&&(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=0,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=0,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=0),this.changeEntryDate(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,"AD")})}changeEntryDate(t,r){"AD"==r?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=this.masterService.toADDate(t))}onload(){console.log("@@reporttype",this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit),this.repObj.reportparam.DATE1=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM:"",this.repObj.reportparam.FROMDATE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,this.repObj.reportparam.FROMDIV=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV:"%",this.repObj.reportparam.SHOWINTRANSITONLY=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit:0,this.repObj.reportparam.REPORTTYPE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE:"%",this.repObj.reportparam.SHOWBATCHWISE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_1":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_2":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_3":0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_4":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_5":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_6":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE&&(this.repObj.reportname="Branch Transfer Out Vs In Report_7"),this.repObj.REPORTDISPLAYNAME="Branch Transfer Out Vs In Report",this._reportFilterService.BranchtransferoutVsInObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_SUPPLIERCODE=t.ACID,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE=t.MCODE,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM=t.DESCA,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branch-transferout-vs-inreport"]],viewQuery:function(t,r){if(1&t&&(e.Gf(aQ,5),e.Gf(sQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:101,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],["class","row checkbox","style","margin-top:-10px;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","-10px"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","%"],["value","100"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Out Vs In Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV=i}),e.YNc(41,lQ,2,0,"option",16),e.YNc(42,cQ,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",18)(44,"div",19)(45,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=i})("change",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=i.target.checked?1:0}),e.qZA()(),e.TgZ(46,"div",21)(47,"label",22),e._uU(48,"Show value in Report Also"),e.qZA()()(),e.YNc(49,pQ,7,2,"div",23),e.TgZ(50,"div",24)(51,"div",1)(52,"div",19)(53,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=i})("change",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=i.target.checked?1:0}),e.qZA()(),e.TgZ(54,"div",21)(55,"label",22),e._uU(56,"Show Batch Wise Report"),e.qZA()()()()(),e.TgZ(57,"div",25)(58,"fieldset")(59,"legend"),e._uU(60,"Report Filter Option :"),e.qZA(),e.TgZ(61,"div",8)(62,"div",26)(63,"label",27),e._uU(64,"Item Group :"),e.qZA()(),e.TgZ(65,"div",21)(66,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP=i}),e._UZ(67,"option",28),e.YNc(68,dQ,2,2,"option",17),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",26)(71,"label",27),e._uU(72,"Item Category :"),e.qZA()(),e.TgZ(73,"div",21)(74,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT=i}),e._UZ(75,"option",28),e.YNc(76,_Q,2,2,"option",17),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",26)(79,"label",27),e._uU(80,"Item Type :"),e.qZA()(),e.TgZ(81,"div",21)(82,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE=i}),e._UZ(83,"option",29),e.YNc(84,hQ,2,2,"option",17),e.qZA()()()(),e.TgZ(85,"fieldset")(86,"legend",10),e._uU(87,"Item Selection :"),e.qZA(),e.TgZ(88,"div",30)(89,"div",26)(90,"label",27),e._uU(91,"Item Name :"),e.qZA()(),e.TgZ(92,"div",21)(93,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(94,"div",32)(95,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(96,"RUN"),e.qZA(),e.TgZ(97,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(98,"Close"),e.qZA()()()()()(),e.TgZ(99,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport)("checked",1==r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport),e.xp6(4),e.Q6J("ngIf",1==r.userSetting.EnableTransitWiseTransferIn),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise)("checked",1==r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const gQ=["genericGridSupplierPopup"],mQ=["genericGridItemPopup"];function SQ(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function fQ(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function vQ(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function OQ(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let bQ=(()=>{class n{constructor(t,r,o,i,s,p){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.categorywiseConfigurationdetails=[],this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.StockWarehousewiseObj.assignPreviousValue&&(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2,"AD")})}changeEntryDate(t,r){"AD"==r?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2=this.masterService.toADDate(t))}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE:"%",this.repObj.reportparam.ReportMode=this._reportFilterService.StockWarehousewiseObj.StockSummary_ReportMode?this._reportFilterService.StockWarehousewiseObj.StockSummary_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Stock Report Warehouse Wise",this.repObj.REPORTDISPLAYNAME="Stock Report Warehouse Wise",this._reportFilterService.StockWarehousewiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE=t.ACID,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE=t.MCODE,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM=t.DESCA,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-warehouse-wise-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(gQ,5),e.Gf(mQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:114,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"margin-top","5px","float","right"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV=i}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,SQ,2,2,"option",17),e.qZA()(),e.TgZ(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=i}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=i}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=i}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(56,"div",26)(57,"div",27)(58,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SHOWBATCHWISE=i}),e.qZA()(),e.TgZ(59,"div",29)(60,"label",30),e._uU(61,"Show Batch Wise Stock Report "),e.qZA()()()(),e.TgZ(62,"div",31)(63,"fieldset")(64,"legend"),e._uU(65,"Report Filter Option :"),e.qZA(),e.TgZ(66,"div",8)(67,"div",32)(68,"label",33),e._uU(69,"Item Group :"),e.qZA()(),e.TgZ(70,"div",29)(71,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP=i}),e._UZ(72,"option",16),e.YNc(73,fQ,2,2,"option",17),e.qZA()()(),e.TgZ(74,"div",1)(75,"div",32)(76,"label",33),e._uU(77,"Item Category :"),e.qZA()(),e.TgZ(78,"div",29)(79,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT=i}),e._UZ(80,"option",16),e.YNc(81,vQ,2,2,"option",17),e.qZA()()(),e.TgZ(82,"div",1)(83,"div",32)(84,"label",33),e._uU(85,"Item Type :"),e.qZA()(),e.TgZ(86,"div",29)(87,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE=i}),e._UZ(88,"option",34),e.YNc(89,OQ,2,2,"option",17),e.qZA()()(),e.TgZ(90,"div",35)(91,"div",32)(92,"label",36),e._uU(93,"Supplier Name :"),e.qZA()(),e.TgZ(94,"div",29)(95,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(96,"fieldset")(97,"legend",10),e._uU(98,"Item Selection :"),e.qZA(),e.TgZ(99,"div",38)(100,"div",32)(101,"label",33),e._uU(102,"Item Name :"),e.qZA()(),e.TgZ(103,"div",29)(104,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(105,"div",40)(106,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(107,"RUN"),e.qZA(),e.TgZ(108,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(109,"Close"),e.qZA()()()()()(),e.TgZ(110,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(112,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SHOWBATCHWISE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const TQ=["genericGridSupplierPopup"],CQ=["genericGridItemPopup"];function MQ(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function AQ(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function PQ(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let RQ=(()=>{class n{constructor(t,r,o,i,s,p){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",REPORTOPTIONDISPLAYNAME:"",SUPPLIERDISPLAYNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE="0",this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2,"AD"))})}changeEntryDate(t,r){"AD"==r?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=this.masterService.toADDate(t))}onload(){if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Wise Report",this.repObj.reportname="Consolidated Purchase Report - Division Wise"):1==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Group Wise Report",this.repObj.reportname="Consolidated Purchase Report - Division Wise_1"):2==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Category Wise Report",this.repObj.reportname="Consolidated Purchase Report - Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Purchase Report - Division Wise",this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE=t.ACID,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE=t.MCODE,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM=t.DESCA,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["consolidatedpurchase-reportbranchwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(TQ,5),e.Gf(CQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:111,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Purchase Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Type Selection :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Item Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Item Group Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Item Category Wise Report"),e.qZA()()()()()(),e.TgZ(59,"div",23)(60,"fieldset")(61,"legend"),e._uU(62,"Report Filter Option :"),e.qZA(),e.TgZ(63,"div",8)(64,"div",24)(65,"label",25),e._uU(66,"Item Group :"),e.qZA()(),e.TgZ(67,"div",26)(68,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP=i}),e._UZ(69,"option",28),e.YNc(70,MQ,2,2,"option",29),e.qZA()()(),e.TgZ(71,"div",1)(72,"div",24)(73,"label",25),e._uU(74,"Item Category :"),e.qZA()(),e.TgZ(75,"div",26)(76,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT=i}),e._UZ(77,"option",28),e.YNc(78,AQ,2,2,"option",29),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",24)(81,"label",25),e._uU(82,"Item Type :"),e.qZA()(),e.TgZ(83,"div",26)(84,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE=i}),e._UZ(85,"option",30),e.YNc(86,PQ,2,2,"option",29),e.qZA()()(),e.TgZ(87,"div",31)(88,"div",24)(89,"label",32),e._uU(90,"Supplier Name :"),e.qZA()(),e.TgZ(91,"div",26)(92,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(93,"fieldset")(94,"legend",10),e._uU(95,"Item Selection :"),e.qZA(),e.TgZ(96,"div",34)(97,"div",24)(98,"label",25),e._uU(99,"Item Name :"),e.qZA()(),e.TgZ(100,"div",26)(101,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(102,"div",36)(103,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(104,"RUN"),e.qZA(),e.TgZ(105,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(106,"Close"),e.qZA()()()()()(),e.TgZ(107,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(109,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const EQ=["genericGridCustomerPopup"],DQ=["genericGridItemPopup"],IQ=["genericGridSupplierPopup"];function NQ(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function kQ(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function yQ(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let FQ=(()=>{class n{constructor(t,r,o,i,s,p){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",ACID:"%",SUPCODE:"%",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",MENUCODE:"",CUSTOMERNAME:"",SUPPLIERNAME:"",REPORTOPTIONDISPLAYNAME:"",CUSTOMERDISPLAYNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForSupplier=new f.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2,"AD"))})}changeEntryDate(t,r){"AD"==r?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=this.masterService.toADDate(t))}onload(){if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_SUPPLIERCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping??0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Wise Report",this.repObj.reportname="Consolidated Sales Report - Division Wise"):1==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Group Wise Report",this.repObj.reportname="Consolidated Sales Report - Division Wise_1"):2==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Category Wise Report",this.repObj.reportname="Consolidated Sales Report - Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Sales Report - Division Wise",this._reportFilterService.ConsolidtedSalesBranchWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}supplierEnterCommand(t){this.getSupplierList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE=t.CUSTID,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER=t.CUSTNAME}dblClickPopupSupplier(t){this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_SUPPLIERCODE=t.ACID,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}getSupplierList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE=t.MCODE,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM=t.DESCA,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["consolidatedsales-reportbranchwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(EQ,5),e.Gf(DQ,5),e.Gf(IQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:125,vars:25,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],["genericGridSupplierPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Sales Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Type Selection :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Item Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Item Group Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Item Category Wise Report"),e.qZA()()()()(),e.TgZ(59,"div",23)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping=i})("change",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping=i.target.checked?1:0}),e.qZA()(),e.TgZ(62,"div",26)(63,"label",27),e._uU(64,"Show Item Hierarchy"),e.qZA()()()(),e.TgZ(65,"div",28)(66,"fieldset")(67,"legend"),e._uU(68,"Report Filter Option :"),e.qZA(),e.TgZ(69,"div",8)(70,"div",29)(71,"label",30),e._uU(72,"Item Group :"),e.qZA()(),e.TgZ(73,"div",26)(74,"select",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP=i}),e._UZ(75,"option",32),e.YNc(76,NQ,2,2,"option",33),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",29)(79,"label",30),e._uU(80,"Item Category :"),e.qZA()(),e.TgZ(81,"div",26)(82,"select",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT=i}),e._UZ(83,"option",32),e.YNc(84,kQ,2,2,"option",33),e.qZA()()(),e.TgZ(85,"div",1)(86,"div",29)(87,"label",30),e._uU(88,"Item Type :"),e.qZA()(),e.TgZ(89,"div",26)(90,"select",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE=i}),e._UZ(91,"option",34),e.YNc(92,yQ,2,2,"option",33),e.qZA()()(),e.TgZ(93,"div",35)(94,"div",29)(95,"label",36),e._uU(96,"Customer Name :"),e.qZA()(),e.TgZ(97,"div",26)(98,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(99,"div",35)(100,"div",29)(101,"label",36),e._uU(102,"Supplier Name :"),e.qZA()(),e.TgZ(103,"div",26)(104,"input",38),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_SUPPLIER=i})("keydown.enter",function(i){return r.supplierEnterCommand(i)})("keydown.Tab",function(i){return r.supplierEnterCommand(i)})("keyup",function(i){return r.supplierEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(105,"fieldset")(106,"legend",10),e._uU(107,"Item Selection :"),e.qZA(),e.TgZ(108,"div",39)(109,"div",29)(110,"label",30),e._uU(111,"Item Name :"),e.qZA()(),e.TgZ(112,"div",26)(113,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(114,"div",41)(115,"button",42),e.NdJ("click",function(){return r.onload()}),e._uU(116,"RUN"),e.qZA(),e.TgZ(117,"button",43),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(118,"Close"),e.qZA()()()()()(),e.TgZ(119,"generic-popup-grid",44,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(121,"generic-popup-grid",44,46),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(123,"generic-popup-grid",44,47),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSupplier(i)}),e.qZA()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping)("checked",1==r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const jQ=["genericGridSupplierPopup"],LQ=["genericGridItemPopup"];function wQ(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",28)(4,"label",29),e._uU(5,"Show Batch Wise Stock Report "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE)("checked",1==t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE)}}function xQ(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function VQ(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function WQ(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let ZQ=(()=>{class n{constructor(t,r,o,i,s,p){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",MCODE:"",REPORTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",WAREHOUSE:"",DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",params:"%",DIVISIONWISEREPORT:1,SHOWBATCHWISESTOCK:0,ZEROBALSTOCKALSO:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedStockBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE="0",this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=0,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=0,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.userProfile.CompanyInfo.INITIAL),this.changeEntryDate(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2,"AD"))})}changeEntryDate(t,r){"AD"==r?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=this.masterService.toADDate(t))}onload(){if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSENAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?"All":this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE:"",this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE:"%",this.repObj.reportparam.REPORTYPE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE:"",this.repObj.reportparam.params="%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE:"%",this.repObj.reportparam.DIVISIONWISEREPORT=1,this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE:0,this.repObj.reportparam.ZEROBALSTOCKALSO=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report - Division Wise_SBATCH"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report - Division Wise_1_SBATCH"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report - Division Wise_2_SBATCH"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="":0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report - Division Wise"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report - Division Wise_1"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report - Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Stock Report - Division Wise",this._reportFilterService.ConsolidtedStockBranchWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE=t.ACID,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE=t.MCODE,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM=t.DESCA,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["consolidatedstock-reportbranchwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(jQ,5),e.Gf(LQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:119,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[2,"display","flex","border","none","padding-bottom","20px"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Stock Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Option :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(59,"fieldset",23),e.YNc(60,wQ,6,2,"div",24),e.TgZ(61,"div",25)(62,"div",26)(63,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=i})("change",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=i.target.checked?1:0}),e.qZA()(),e.TgZ(64,"div",28)(65,"label",29),e._uU(66,"Show Zero Balance Stock Also "),e.qZA()()()()(),e.TgZ(67,"div",30)(68,"fieldset")(69,"legend"),e._uU(70,"Report Filter Option :"),e.qZA(),e.TgZ(71,"div",8)(72,"div",31)(73,"label",32),e._uU(74,"Item Group :"),e.qZA()(),e.TgZ(75,"div",28)(76,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP=i}),e._UZ(77,"option",34),e.YNc(78,xQ,2,2,"option",35),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",31)(81,"label",32),e._uU(82,"Item Category :"),e.qZA()(),e.TgZ(83,"div",28)(84,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT=i}),e._UZ(85,"option",34),e.YNc(86,VQ,2,2,"option",35),e.qZA()()(),e.TgZ(87,"div",1)(88,"div",31)(89,"label",32),e._uU(90,"Item Type :"),e.qZA()(),e.TgZ(91,"div",28)(92,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE=i}),e._UZ(93,"option",36),e.YNc(94,WQ,2,2,"option",35),e.qZA()()(),e.TgZ(95,"div",37)(96,"div",31)(97,"label",38),e._uU(98,"Supplier Name :"),e.qZA()(),e.TgZ(99,"div",28)(100,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(101,"fieldset")(102,"legend",10),e._uU(103,"Item Selection :"),e.qZA(),e.TgZ(104,"div",40)(105,"div",31)(106,"label",32),e._uU(107,"Item Name :"),e.qZA()(),e.TgZ(108,"div",28)(109,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(110,"div",42)(111,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(112,"RUN"),e.qZA(),e.TgZ(113,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(114,"Close"),e.qZA()()()()()(),e.TgZ(115,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(117,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(5),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO)("checked",1==r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const HQ=["genericGridSupplierPopup"],UQ=["genericGridItemPopup"];function zQ(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function BQ(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function qQ(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function YQ(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let JQ=(()=>{class n{constructor(t,r,o,i,s){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.BranchTransferOutItemwiseObj.assignPreviousValue&&(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE="0",this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport=0,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2,"AD"))})}changeEntryDate(t,r){"AD"==r?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2=this.masterService.toADDate(t))}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Branch Transfer Out Item Wise Report",this.repObj.REPORTDISPLAYNAME="Branch Transfer Out - Item Wise Report",this._reportFilterService.BranchTransferOutItemwiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE=t.ACID,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE=t.MCODE,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM=t.DESCA,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branchtransferout-itemwise-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(HQ,5),e.Gf(UQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:108,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Out - Item Wise Report "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV=i}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,zQ,2,2,"option",17),e.qZA()(),e.TgZ(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=i}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Show All"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=i}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Show Closed Transfer Out Only"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=i}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Show Open Transfer Out Only"),e.qZA()()()()()(),e.TgZ(56,"div",26)(57,"fieldset")(58,"legend"),e._uU(59,"Report Filter Option :"),e.qZA(),e.TgZ(60,"div",8)(61,"div",27)(62,"label",28),e._uU(63,"Item Group :"),e.qZA()(),e.TgZ(64,"div",29)(65,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP=i}),e._UZ(66,"option",16),e.YNc(67,BQ,2,2,"option",17),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",27)(70,"label",28),e._uU(71,"Item Category :"),e.qZA()(),e.TgZ(72,"div",29)(73,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT=i}),e._UZ(74,"option",16),e.YNc(75,qQ,2,2,"option",17),e.qZA()()(),e.TgZ(76,"div",1)(77,"div",27)(78,"label",28),e._uU(79,"Item Type :"),e.qZA()(),e.TgZ(80,"div",29)(81,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE=i}),e._UZ(82,"option",30),e.YNc(83,YQ,2,2,"option",17),e.qZA()()(),e.TgZ(84,"div",31)(85,"div",27)(86,"label",32),e._uU(87,"Supplier Name :"),e.qZA()(),e.TgZ(88,"div",29)(89,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(90,"fieldset")(91,"legend",10),e._uU(92,"Item Selection :"),e.qZA(),e.TgZ(93,"div",34)(94,"div",27)(95,"label",28),e._uU(96,"Item Name :"),e.qZA()(),e.TgZ(97,"div",29)(98,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(99,"div",36)(100,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(101,"RUN"),e.qZA(),e.TgZ(102,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(103,"Close"),e.qZA()()()()()(),e.TgZ(104,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(106,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const GQ=["genericGridSupplierPopup"],QQ=["genericGridItemPopup"];function KQ(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function $Q(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function XQ(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function eK(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let tK=(()=>{class n{constructor(t,r,o,i,s,p){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.categorywiseConfigurationdetails=[],this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.BranchTransferInItemWiseObj.assignPreviousValue&&(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchTransferInItemWiseObj.StockWarehousewise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2,"AD")})}changeEntryDate(t,r){console.log("Value in date",t),"AD"==r?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=this.masterService.toADDate(t))}changeEndDate(t,r){"AD"==r?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE2=this.masterService.toBSDate(t):"BS"==r&&(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2=this.masterService.toADDate(t))}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SUPCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE:"%",this.repObj.reportparam.ReportMode=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ReportMode?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchTransferInItemWiseObj.BranchtransferoutVsIn_MGROUP?this._reportFilterService.BranchTransferInItemWiseObj.BranchtransferoutVsIn_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Branch Transfer In Item Wise Report",this.repObj.REPORTDISPLAYNAME="Branch Transfer In - Item Wise Report",this._reportFilterService.BranchTransferInItemWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE=t.ACID,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE=t.MCODE,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM=t.DESCA,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branch-transfer-in-reportitemwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(GQ,5),e.Gf(QQ,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:92,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"margin-top","5px","float","right"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer In Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV=i}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,KQ,2,2,"option",17),e.qZA()(),e.TgZ(34,"div",18)(35,"div",19)(36,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SHOWTRANSITWISE=i}),e.qZA()(),e.TgZ(37,"div",21)(38,"label",22),e._uU(39,"Show Batch Wise Stock Report "),e.qZA()()()(),e.TgZ(40,"div",23)(41,"fieldset")(42,"legend"),e._uU(43,"Report Filter Option :"),e.qZA(),e.TgZ(44,"div",8)(45,"div",24)(46,"label",25),e._uU(47,"Item Group :"),e.qZA()(),e.TgZ(48,"div",21)(49,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MGROUP=i}),e._UZ(50,"option",16),e.YNc(51,$Q,2,2,"option",17),e.qZA()()(),e.TgZ(52,"div",1)(53,"div",24)(54,"label",25),e._uU(55,"Item Category :"),e.qZA()(),e.TgZ(56,"div",21)(57,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT=i}),e._UZ(58,"option",16),e.YNc(59,XQ,2,2,"option",17),e.qZA()()(),e.TgZ(60,"div",1)(61,"div",24)(62,"label",25),e._uU(63,"Item Type :"),e.qZA()(),e.TgZ(64,"div",21)(65,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE=i}),e._UZ(66,"option",26),e.YNc(67,eK,2,2,"option",17),e.qZA()()(),e.TgZ(68,"div",27)(69,"div",24)(70,"label",28),e._uU(71,"Supplier Name :"),e.qZA()(),e.TgZ(72,"div",21)(73,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Item Selection :"),e.qZA(),e.TgZ(77,"div",30)(78,"div",24)(79,"label",25),e._uU(80,"Item Name :"),e.qZA()(),e.TgZ(81,"div",21)(82,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(83,"div",32)(84,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(87,"Close"),e.qZA()()()()()(),e.TgZ(88,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(90,"generic-popup-grid",35,37),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(23),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SHOWTRANSITWISE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const rK=["genericGridUserListPopup"],iK=["genericGridCounterListPopup"];function oK(n,a){1&n&&(e.TgZ(0,"option",51),e._uU(1,"ALL"),e.qZA())}function nK(n,a){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function aK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_DIV=o)}),e.YNc(4,oK,2,0,"option",49),e.YNc(5,nK,2,2,"option",50),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function sK(n,a){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function lK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER=o)}),e._UZ(4,"option",53),e.TgZ(5,"option",51),e._uU(6," ALL "),e.qZA(),e.YNc(7,sK,2,2,"option",50),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList)}}function cK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10)(2,"input",54),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.ChangeTime())})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=o.target.checked?1:0)}),e.qZA(),e._uU(3,"Time Wise Report :"),e.qZA(),e.TgZ(4,"div",1)(5,"div",22)(6,"label"),e._uU(7,"From Time:"),e.qZA(),e.TgZ(8,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP=o)}),e.qZA(),e.TgZ(9,"label",56),e._uU(10,"To Time:"),e.qZA(),e.TgZ(11,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP=o)}),e.qZA()()(),e._UZ(12,"div",1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT)("checked",1==t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP)("disabled",1!=t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP)("disabled",1!=t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT)}}let pK=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",COSTCENTER:"",REPORTOPTION:1,REPORTTYPE:0,TRNUSER:"",TERMINAL:"",TIMWISEREPORT:0,FROM_TIMESTAMP:0,TO_TIMESTAMP:0,COMPANYID:"",TIME1:"",TIME2:"",TERMINALNAME:"",ALLUSER:0,ALLTERMINAL:0,DIVISIONAME:"",REPORTOPTIONDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",USERDISPLAYNAME:"",TERMINALDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",TIME1DISPLAY:"",TIME2DISPLAY:"",SHOWONLINEPAYMODE_INDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForUserList=new f.im,this.gridPopupSettingsForCounterList=new f.im,this.AppMode=ae.N.appMode,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.SalesCollectionObj.SalesCollection_DIV=this._transactionService.userProfile.userDivision});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.SalesCollectionObj.assignPreviousValue&&(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCollectionObj.SalesCollection_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0",this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE="0",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=0),this.changeEntryDate(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2,"AD")})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER||null==this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&1!=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&("%"==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||void 0===this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||""==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||null==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||null===this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME))return void this._alertService.info("Please Select User Name first!");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&1!=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&("%"==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL||void 0===this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||""==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||null==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||null===this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME))return void this._alertService.info("Please Select Counter Name first!");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%"),1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=""),this._reportFilterService.SalesCollectionObj.SalesCollection_DIV&&"%"==this._reportFilterService.SalesCollectionObj.SalesCollection_DIV)this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME="All";else if(this._reportFilterService.SalesCollectionObj.SalesCollection_DIV&&"%"!=this._reportFilterService.SalesCollectionObj.SalesCollection_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.SalesCollectionObj.SalesCollection_DIV);this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER?this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER:"%",this.repObj.reportparam.COSTCENTER=this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER?this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCollectionObj.SalesCollection_DIV?this._reportFilterService.SalesCollectionObj.SalesCollection_DIV:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE?this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE:0,this.repObj.reportparam.REPORTOPTION=this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION?this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION:0,this.repObj.reportparam.TIMWISEREPORT=this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT?this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT:0,this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME:"%",this.repObj.reportparam.TERMINAL=this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL?this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL:"%",this.repObj.reportparam.TIME1=this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP?this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP:"00:00",this.repObj.reportparam.TIME2=this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP?this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP:"00:00",this.repObj.reportparam.TERMINALNAME=this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME:"",this.repObj.reportparam.ALLUSER=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER?this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER:0,this.repObj.reportparam.ALLTERMINAL=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER?this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER:0,this.repObj.reportparam.DIVISIONAME=this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME:"",this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL=this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL?this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL:0,this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=0==this.repObj.reportparam.REPORTTYPE?"@Summary Report":1==this.repObj.reportparam.REPORTTYPE?"@Detail Report":"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORTOPTION?"@User Wise Report":1==this.repObj.reportparam.REPORTOPTION?"@Counter Wise Report":2==this.repObj.reportparam.REPORTOPTION?"@Day Wise Report":"",this.repObj.reportparam.USERDISPLAYNAME="%"!=this.repObj.reportparam.TRNUSER?this.repObj.reportparam.TRNUSER:"%"==this.repObj.reportparam.TRNUSER&&1==this.repObj.reportparam.ALLUSER?"All Users":"",this.repObj.reportparam.TERMINALDISPLAYNAME="%"!=this.repObj.reportparam.TERMINAL?this.repObj.reportparam.TERMINALNAME:"%"==this.repObj.reportparam.TERMINAL&&1==this.repObj.reportparam.ALLTERMINAL?"All Counters":"",1==this.repObj.reportparam.TIMWISEREPORT&&(this.repObj.reportparam.SHOWITEMDETAILDISPLAY="@TimeWiseReport","00:00"!=this.repObj.reportparam.TIME1&&"00:00"!=this.repObj.reportparam.TIME2?(this.repObj.reportparam.TIME1DISPLAY=this.repObj.reportparam.TIME1,this.repObj.reportparam.TIME2DISPLAY=this.repObj.reportparam.TIME2):(this.repObj.reportparam.TIME1DISPLAY="",this.repObj.reportparam.TIME2DISPLAY="")),console.log("REPORTTYPE",this.repObj.reportparam.REPORTTYPE,this.repObj.reportparam.REPORTOPTION,this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL),0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_1":0==this.repObj.reportparam.REPORTTYPE&&2==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_2":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_3":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_4":0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_1":0==this.repObj.reportparam.REPORTTYPE&&2==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_2":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_3":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL&&(this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_4"),this.repObj.REPORTDISPLAYNAME="Sales Collection Report",this._reportFilterService.SalesCollectionObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=t.UNAME}CounterListEnter(t){this.gridPopupSettingsForCounterList={title:"Counter List",apiEndpoints:"/getSalesCounterList",defaultFilterIndex:0,columns:[{key:"INITIAL",title:"INITIAL",hidden:!1,noSearch:!1},{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridCounterListPopup.show()}onCounterListSelected(t){this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL=t.INITIAL,this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=t.NAME}Change(){1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=""),1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="")}changeDeatil(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0),1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0),2==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0)}ChangeTime(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT&&(this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP="",this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP="")}ChangeSum(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&(this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0"),1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&(this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0"),this.changeDeatil()}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}showOnlinePayment(t){console.log("show online",t.target.checked),this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL=1==t.target.checked?1:0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salescollection-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(rK,5),e.Gf(iK,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCounterListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:107,vars:33,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[2,"display","flex"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],[2,"margin-left","10%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","2",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"margin-left","-22px"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","disabled","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"col-md-4",2,"margin-left","-56px"],[2,"margin-left","52%"],["type","text","placeholder","Press Enter for Counter List",1,"form-control","input-text",2,"background","white","width","182px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","1",2,"margin-top","10px","margin-left","21px",3,"ngModel","disabled","change","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridUserListPopup",""],["genericGridCounterListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["type","checkbox",3,"ngModel","checked","change","ngModelChange"],["type","time",2,"width","100px","margin-left","-16px","margin-top","4px",3,"ngModel","disabled","ngModelChange"],[2,"margin-left","57px"],["type","time",2,"width","100px","margin-left","-35px","margin-top","4px",3,"ngModel","disabled","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Collection Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,aK,6,3,"fieldset",15),e.YNc(38,lK,8,2,"fieldset",15),e.TgZ(39,"div",16)(40,"div",17)(41,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL=i})("change",function(i){return r.showOnlinePayment(i)}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",20),e._uU(44,"Show Credit Card Online Bill Payment Detail"),e.qZA()()()(),e.TgZ(45,"div",21)(46,"fieldset")(47,"legend",10),e._uU(48,"Report Type :"),e.qZA(),e.TgZ(49,"div",22)(50,"div",23)(51,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE=i})("change",function(){return r.ChangeSum()}),e.qZA(),e.TgZ(52,"label"),e._uU(53,"Summary Report"),e.qZA()(),e.TgZ(54,"div",25)(55,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE=i})("change",function(){return r.ChangeSum()}),e.qZA(),e.TgZ(56,"label"),e._uU(57,"Detail Report"),e.qZA()()()(),e.TgZ(58,"fieldset")(59,"legend",10),e._uU(60,"Report Option :"),e.qZA(),e.TgZ(61,"div",27)(62,"div",28)(63,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=i})("change",function(){return r.changeDeatil()}),e.qZA(),e.TgZ(64,"label"),e._uU(65,"User Wise"),e.qZA()(),e.TgZ(66,"div",28)(67,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=i})("change",function(){return r.changeDeatil()}),e.qZA(),e.TgZ(68,"label"),e._uU(69,"Counter Wise"),e.qZA()(),e.TgZ(70,"div",28)(71,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=i})("change",function(){return r.changeDeatil()}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Day Wise"),e.qZA()()()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Filter Option :"),e.qZA(),e.TgZ(77,"div",1)(78,"div",32)(79,"label",33),e._uU(80,"User Name :"),e.qZA()(),e.TgZ(81,"div",34)(82,"div",22)(83,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(84,"input",36),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=i}),e.qZA(),e.TgZ(85,"label",37),e._uU(86,"All User"),e.qZA()()()(),e.TgZ(87,"div",1)(88,"div",38)(89,"label",39),e._uU(90,"Counter Name :"),e.qZA()(),e.TgZ(91,"div",19)(92,"div",22)(93,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=i})("keydown.enter",function(i){return r.CounterListEnter(i)})("keydown.Tab",function(i){return r.CounterListEnter(i)})("keyup",function(i){return r.CounterListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(94,"input",41),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(i){return r._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=i}),e.qZA(),e.TgZ(95,"label",37),e._uU(96,"All Counter"),e.qZA()()()()(),e.YNc(97,cK,13,6,"fieldset",15),e.qZA()()(),e.TgZ(98,"div",42)(99,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.TgZ(105,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(i){return r.onCounterListSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL)("checked",1==r._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION)("disabled",1==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME)("disabled",1==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||1==r._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER)("disabled",1==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME)("disabled",0==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||1==r._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER)("disabled",0==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(3),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCounterList))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const dK=["reportPopup"],_K=["genericGridSupplierPopup"],hK=["genericGridItemPopup"];function uK(n,a){1&n&&(e.TgZ(0,"option",34),e._uU(1,"ALL"),e.qZA())}function gK(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function mK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_DIV=o)}),e.YNc(4,uK,2,0,"option",55),e.YNc(5,gK,2,2,"option",35),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList)}}function SK(n,a){1&n&&(e.TgZ(0,"label",17),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function fK(n,a){1&n&&(e.TgZ(0,"label",17),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function vK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",16),e.YNc(4,SK,2,0,"label",57),e.YNc(5,fK,2,0,"label",57),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport)("checked",1==t._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE)}}function OK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",60),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE)("checked",1==t._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE)}}function bK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",1)(2,"div",59)(3,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",32)(5,"label",62),e._uU(6,"Show Alt Unit Stock Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT)("checked",1==t._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT)}}function TK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",1)(2,"div",59)(3,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",32)(5,"label",63),e._uU(6,"Show Item Detail In Report"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL)("checked",1==t._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL)}}function CK(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function MK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Warehouse Selection:"),e.qZA(),e.TgZ(3,"select",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE=o)}),e.ALo(4,"disableField"),e._UZ(5,"option",34),e.YNc(6,CK,2,2,"option",35),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE)("disabled",e.lcZ(4,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList)}}function AK(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function PK(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let RK=(()=>{class n{constructor(t,r,o,i,s,p,d,_,h){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.brandService=h,this.isActive=!1,this.repObj={reportname:"",reportparam:{PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0,DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",ITEMGROUP:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.resultList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.AppMode=ae.N.appMode,this.userSetting=_.getSetting(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getProductGroupList().subscribe(c=>{c&&(this.ProductGroupList=c)}),this.masterService.getWarehouseList().subscribe(c=>{this.warehouseList=c}),this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.OpeningStockObj.assignPreviousValue&&(this._reportFilterService.OpeningStockObj.OpeningStock_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE="0",this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode="0",this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=0,this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE=1==this.userSetting.UserWiseWarehouse?this.masterService.userProfile.userWarehouse:"%")})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(t=>{console.log("dataaaaaa",t[0]),this.resss=t[0],this.resultList=this.resss[0],console.log("dataaaaaaChildren",this.resss[0].children),console.log("LEVELS",this.resss[0].LEVELS),console.log("name",this.resss[0].name)})}onload(){if(this._reportFilterService.OpeningStockObj.OpeningStock_DIV&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_DIV)this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME="All";else if(this._reportFilterService.OpeningStockObj.OpeningStock_DIV&&"%"!=this._reportFilterService.OpeningStockObj.OpeningStock_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.OpeningStockObj.OpeningStock_DIV);this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME="";if(this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?"All":this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE:"",this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP)this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME="All";else if(this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP&&"%"!=this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP);this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME="";if(this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE&&"100"==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP)this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME="";else if(this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE&&"100"!=this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE);this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME="";this._reportFilterService.OpeningStockObj.OpeningStock_CATEGORYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?"All":this._reportFilterService.OpeningStockObj.OpeningStock_MCAT&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"",this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.OpeningStockObj.OpeningStock_DIV?this._reportFilterService.OpeningStockObj.OpeningStock_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.OpeningStockObj.OpeningStock_MCODE?this._reportFilterService.OpeningStockObj.OpeningStock_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE?this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE:0,this.repObj.reportparam.ReportMode=this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode?this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport?this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport:0,this.repObj.reportparam.WAREHOUSE=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP?this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE?this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"%",this.repObj.reportparam.ShowDetail=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEM?this._reportFilterService.OpeningStockObj.OpeningStock_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE?this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE:0,this.repObj.reportparam.ShowAltUnitStockReport=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME?this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS":1==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS_1":2==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS_2":3==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Opening Stock ReportNONDMS_3"),this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.ShowDetail?"@Report with Item Detail":"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.ReportMode?" @Negative Stock Report Only":"",this.repObj.REPORTDISPLAYNAME="Opening Stock Report",this._reportFilterService.OpeningStockObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE=t.ACID,this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.OpeningStockObj.OpeningStock_MCODE=t.MCODE,this._reportFilterService.OpeningStockObj.OpeningStock_ITEM=t.DESCA,this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}Change(){(0==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||1==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||3==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE)&&(this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode="0")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}reportTree(){this.reportPopup.show()}selectedValue(t){console.log("k data ho yo?",t),this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP=t.MCODE,this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=t.DESCA}treeNodeSelected(t){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",t),this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP=t.id,this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=t.name}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e),e.Y36(it.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["opening-stock-report-selector"]],viewQuery:function(t,r){if(1&t&&(e.Gf(dK,5),e.Gf(_K,5),e.Gf(hK,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:128,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[4,"ngIf"],[1,"legend-class"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["class","row","style","margin-bottom: -3%",4,"ngIf"],["type","radio","name","reportOption","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","disabled","ngModelChange"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],["class","row checkbox","style","margin-top:-10px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","114%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","-5%"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","342%","margin-top","0%","margin-left","-18%"],[1,"col-sm-1",2,"margin-left","50px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["style","width: 100%;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-6%"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-7%"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Opening Stock Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5),e.YNc(16,mK,6,3,"fieldset",10),e.TgZ(17,"fieldset")(18,"legend",11),e._uU(19,"Report Type Selection :"),e.qZA(),e.TgZ(20,"div",12)(21,"div",13)(22,"div",14)(23,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(24,"div",16)(25,"label",17),e._uU(26,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(27,"div",13)(28,"div",14)(29,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(30,"div",16)(31,"label",17),e._uU(32,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(33,"div",13)(34,"div",14)(35,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(36,"div",16)(37,"label",17),e._uU(38,"Item Category Wise Stock Report"),e.qZA()()(),e.TgZ(39,"div",13)(40,"div",14)(41,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(42,"div",16)(43,"label",17),e._uU(44,"Voucher Wise Detail Report"),e.qZA()()(),e.YNc(45,vK,6,4,"div",21),e.qZA()(),e.TgZ(46,"fieldset")(47,"legend",11),e._uU(48,"Report Option :"),e.qZA(),e.TgZ(49,"div",12)(50,"div",13)(51,"div",14)(52,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode=i}),e.qZA()(),e.TgZ(53,"div",16)(54,"label",17),e._uU(55,"Show All Item Stock Report"),e.qZA()()(),e.TgZ(56,"div",13)(57,"div",14)(58,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode=i}),e.qZA()(),e.TgZ(59,"div",16)(60,"label",17),e._uU(61,"Show Negative Stock B/L Item Only"),e.qZA()()()()(),e.YNc(62,OK,6,2,"div",24),e.YNc(63,bK,7,2,"div",25),e.YNc(64,TK,7,2,"div",25),e.qZA(),e.TgZ(65,"div",26),e.YNc(66,MK,7,5,"fieldset",10),e.TgZ(67,"fieldset")(68,"legend"),e._uU(69,"Report Filter Option :"),e.qZA(),e.TgZ(70,"div",8)(71,"div",27)(72,"label",28),e._uU(73,"Item Group :"),e.qZA()(),e.TgZ(74,"div",29)(75,"app-simple-suggest",30),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=i}),e.qZA(),e.TgZ(76,"button",31),e.NdJ("click",function(){return r.reportTree()}),e._uU(77,"+"),e.qZA()()(),e.TgZ(78,"div",1)(79,"div",27)(80,"label",28),e._uU(81,"Item Category :"),e.qZA()(),e.TgZ(82,"div",32)(83,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_MCAT=i}),e._UZ(84,"option",34),e.YNc(85,AK,2,2,"option",35),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",27)(88,"label",28),e._uU(89,"Item Type :"),e.qZA()(),e.TgZ(90,"div",32)(91,"select",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_PTYPE=i}),e._UZ(92,"option",36),e.YNc(93,PK,2,2,"option",35),e.qZA()()(),e.TgZ(94,"div",37)(95,"div",27)(96,"label",38),e._uU(97,"Supplier Name :"),e.qZA()(),e.TgZ(98,"div",32)(99,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(100,"fieldset")(101,"legend",11),e._uU(102,"Item Selection :"),e.qZA(),e.TgZ(103,"div",40)(104,"div",27)(105,"label",28),e._uU(106,"Item Name :"),e.qZA()(),e.TgZ(107,"div",32)(108,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(109,"div",42)(110,"div",43)(111,"input",44),e.NdJ("ngModelChange",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(112,"div",32)(113,"label",45),e._uU(114,"Show Item Grouping Hierarchy"),e.qZA()(),e._UZ(115,"div",46)(116,"div",32),e.qZA()()()(),e.TgZ(117,"div",47)(118,"button",48),e.NdJ("click",function(){return r.onload()}),e._uU(119,"RUN"),e.qZA(),e.TgZ(120,"button",49),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(121,"Close"),e.qZA()()()()()(),e.TgZ(122,"generic-popup-grid",50,51),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(124,"generic-popup-grid",50,52),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(126,"app-report-popup",53,54),e.NdJ("treeNodeValue",function(i){return r.treeNodeSelected(i)}),e.qZA()),2&t&&(e.xp6(16),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0!=r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE&&3!=r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode)("disabled",1==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||3==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode)("disabled",1==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||3==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ITEM),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING)("checked",1==r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING),e.xp6(11),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,Ct,rt.c,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const EK=["genericGridItemPopup"];function DK(n,a){1&n&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function IK(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function NK(n,a){1&n&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function kK(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function yK(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function FK(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function jK(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let LK=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",params:"%",ShowAltUnitSalesRate:0,ShowSalesRateofAllItems:0,ShowBaseSalesRate:0,SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForItem=new f.im,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.getAccDivList()}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.RateGroupObj.assignPreviousValue&&(this._reportFilterService.RateGroupObj.Rategroup_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=0,this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=0,this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=0)})}onload(){if(this._reportFilterService.RateGroupObj.Rategroup_DIV&&"%"==this._reportFilterService.RateGroupObj.Rategroup_DIV)this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME="All";else if(this._reportFilterService.RateGroupObj.Rategroup_DIV&&"%"!=this._reportFilterService.RateGroupObj.Rategroup_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.RateGroupObj.Rategroup_DIV);this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME="";if(this._reportFilterService.RateGroupObj.Rategroup_MGROUP&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MGROUP)this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME="All";else if(this._reportFilterService.RateGroupObj.Rategroup_MGROUP&&"%"!=this._reportFilterService.RateGroupObj.Rategroup_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.RateGroupObj.Rategroup_MGROUP);this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME="";if(this._reportFilterService.RateGroupObj.Rategroup_PTYPE&&"100"==this._reportFilterService.RateGroupObj.Rategroup_MGROUP)this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME="";else if(this._reportFilterService.RateGroupObj.Rategroup_PTYPE&&"100"!=this._reportFilterService.RateGroupObj.Rategroup_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.RateGroupObj.Rategroup_PTYPE);this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME="";this._reportFilterService.RateGroupObj.Rategroup_CATEGORYNAME=this._reportFilterService.RateGroupObj.Rategroup_MCAT&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MCAT?"All":this._reportFilterService.RateGroupObj.Rategroup_MCAT&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RateGroupObj.Rategroup_DIV?this._reportFilterService.RateGroupObj.Rategroup_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RateGroupObj.Rategroup_MCODE?this._reportFilterService.RateGroupObj.Rategroup_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.RateGroupObj.Rategroup_MGROUP?this._reportFilterService.RateGroupObj.Rategroup_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.RateGroupObj.Rategroup_PTYPE?this._reportFilterService.RateGroupObj.Rategroup_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"%",this.repObj.reportparam.ShowBaseSalesRate=this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate?this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RateGroupObj.Rategroup_ITEM?this._reportFilterService.RateGroupObj.Rategroup_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RateGroupObj.Rategroup_MENUCODE?this._reportFilterService.RateGroupObj.Rategroup_MENUCODE:"",this.repObj.reportparam.ShowAltUnitSalesRate=this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate?this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate:0,this.repObj.reportparam.ShowSalesRateofAllItems=this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems?this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING?this._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME?this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME?this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME?this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ShowAltUnitSalesRate?this.repObj.reportname="Rate Group Report":1==this.repObj.reportparam.ShowAltUnitSalesRate&&(this.repObj.reportname="Rate Group Report_1"),this.repObj.REPORTDISPLAYNAME="Rate Group Report",this._reportFilterService.RateGroupObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.RateGroupObj.Rategroup_MCODE=t.MCODE,this._reportFilterService.RateGroupObj.Rategroup_ITEM=t.DESCA,this._reportFilterService.RateGroupObj.Rategroup_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["rate-group-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(EK,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["id","rategrpdiv",1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],[2,"font-size","13px","font-weight","bold"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-6%"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-7%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],["value","100"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","168px"],[2,"font-size","12px","width","342%","margin-top","0%","margin-left","-26%"],[1,"col-sm-1",2,"margin-left","50px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Rate Group Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Division Selection:"),e.qZA(),e.TgZ(19,"select",11),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_DIV=i}),e.YNc(20,DK,2,0,"option",12),e.YNc(21,IK,2,2,"option",13),e.qZA()(),e.TgZ(22,"fieldset")(23,"legend",10),e._uU(24,"Rate Group Name Selection:"),e.qZA(),e.TgZ(25,"select",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_RATEDIV=i}),e.YNc(26,NK,2,0,"option",12),e.YNc(27,kK,2,2,"option",13),e.qZA(),e.TgZ(28,"label",15),e._uU(29,"Rate Type: "),e.qZA()(),e.TgZ(30,"div",16)(31,"div",17)(32,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=i})("change",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=i.target.checked?1:0}),e.qZA()(),e.TgZ(33,"div",19)(34,"label",20),e._uU(35,"Show Alternate Unit Sales Rate Also"),e.qZA()()(),e.TgZ(36,"div",21)(37,"div",1)(38,"div",17)(39,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=i})("change",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=i.target.checked?1:0}),e.qZA()(),e.TgZ(40,"div",19)(41,"label",22),e._uU(42,"Show Sales Rate of All Items"),e.qZA()()()(),e.TgZ(43,"div",21)(44,"div",1)(45,"div",17)(46,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=i})("change",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=i.target.checked?1:0}),e.qZA()(),e.TgZ(47,"div",19)(48,"label",23),e._uU(49,"Show Base Sales Rate Only"),e.qZA()()()()(),e.TgZ(50,"div",24)(51,"fieldset")(52,"legend"),e._uU(53,"Report Filter Option :"),e.qZA(),e.TgZ(54,"div",8)(55,"div",25)(56,"label",26),e._uU(57,"Item Group :"),e.qZA()(),e.TgZ(58,"div",19)(59,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_MGROUP=i}),e._UZ(60,"option",28),e.YNc(61,yK,2,2,"option",13),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",25)(64,"label",26),e._uU(65,"Item Category :"),e.qZA()(),e.TgZ(66,"div",19)(67,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_MCAT=i}),e._UZ(68,"option",28),e.YNc(69,FK,2,2,"option",13),e.qZA()()(),e.TgZ(70,"div",1)(71,"div",25)(72,"label",26),e._uU(73,"Item Type :"),e.qZA()(),e.TgZ(74,"div",19)(75,"select",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_PTYPE=i}),e._UZ(76,"option",29),e.YNc(77,jK,2,2,"option",13),e.qZA()()()(),e.TgZ(78,"fieldset")(79,"legend",10),e._uU(80,"Item Selection :"),e.qZA(),e.TgZ(81,"div",30)(82,"div",25)(83,"label",26),e._uU(84,"Item Name :"),e.qZA()(),e.TgZ(85,"div",19)(86,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(87,"div",32)(88,"div",33)(89,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(90,"div",19)(91,"label",34),e._uU(92,"Show Item Grouping Hierarchy"),e.qZA()(),e._UZ(93,"div",35)(94,"div",19),e.qZA()()()(),e.TgZ(95,"div",36)(96,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(19),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_DIV)("disabled",r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_RATEDIV)("disabled",r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ITEM),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING),e.xp6(11),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const wK=["genericGridItemPopup"];function xK(n,a){1&n&&(e.TgZ(0,"option",32),e._uU(1,"ALL"),e.qZA())}function VK(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function WK(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function ZK(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function HK(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let UK=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",params:"%",RATETYPE:0,SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForItem=new f.im,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getWarehouseList().subscribe(c=>{this.warehouseList=c});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.SalesPricechangeLogObj.assignPreviousValue&&(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV="%":this._reportFilterService.SalesPricechangeLogObj.Rategroup_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=0),this.changeEntryDate(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2,"AD")})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=this.masterService.toADDate(t)}}onload(){if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME="All";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV&&"%"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME="";if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP&&"%"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME="";if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE&&"100"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME="";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE&&"100"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME="";this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_CATEGORYNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?"All":this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE:"%",this.repObj.reportparam.RATETYPE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportname="Sales Price Change Log Report",this.repObj.REPORTDISPLAYNAME="Sales Price Change Log Report",this._reportFilterService.SalesPricechangeLogObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE=t.MCODE,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM=t.DESCA,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesprice-changelog-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(wK,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:109,vars:26,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%"],["value","100"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Price Change Log Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Rate Group Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV=i}),e.YNc(41,xK,2,0,"option",16),e.YNc(42,VK,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Rate Type Selection:"),e.qZA(),e.TgZ(46,"div",18)(47,"div",19)(48,"div",20)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=i}),e.qZA()(),e.TgZ(50,"div",22)(51,"label",23),e._uU(52,"Show retail Price Only"),e.qZA()()(),e.TgZ(53,"div",19)(54,"div",20)(55,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=i}),e.qZA()(),e.TgZ(56,"div",22)(57,"label",23),e._uU(58,"Show whole Sales price Only"),e.qZA()()(),e.TgZ(59,"div",19)(60,"div",20)(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=i}),e.qZA()(),e.TgZ(62,"div",22)(63,"label",23),e._uU(64,"Show Both"),e.qZA()()()()()(),e.TgZ(65,"div",26)(66,"fieldset")(67,"legend",10),e._uU(68,"Item Selection :"),e.qZA(),e.TgZ(69,"div",27)(70,"div",28)(71,"label",29),e._uU(72,"Item Name :"),e.qZA()(),e.TgZ(73,"div",30)(74,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(75,"fieldset")(76,"legend"),e._uU(77,"Report Filter Option :"),e.qZA(),e.TgZ(78,"div",8)(79,"div",28)(80,"label",29),e._uU(81,"Item Group :"),e.qZA()(),e.TgZ(82,"div",30)(83,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP=i}),e._UZ(84,"option",32),e.YNc(85,WK,2,2,"option",17),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",28)(88,"label",29),e._uU(89,"Item Category :"),e.qZA()(),e.TgZ(90,"div",30)(91,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT=i}),e._UZ(92,"option",32),e.YNc(93,ZK,2,2,"option",17),e.qZA()()(),e.TgZ(94,"div",1)(95,"div",28)(96,"label",29),e._uU(97,"Item Type :"),e.qZA()(),e.TgZ(98,"div",30)(99,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE=i}),e._UZ(100,"option",33),e.YNc(101,HK,2,2,"option",17),e.qZA()()()()()()(),e.TgZ(102,"div",34)(103,"button",35),e.NdJ("click",function(){return r.onload()}),e._uU(104,"RUN"),e.qZA(),e.TgZ(105,"button",36),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(106,"Close"),e.qZA()()()()()(),e.TgZ(107,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const zK=["division"],BK=["genericGridCustomerPopup"],qK=["multiselectGenericGrid"];function YK(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function JK(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",37,38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",39),e._uU(6,"ALL"),e.qZA(),e.YNc(7,YK,2,2,"option",40),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_DIV)("disabled","lite"==t.AppMode),e.xp6(4),e.Q6J("ngForOf",t.divisionList)}}let GK=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this.selectMultiCustomers=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",REPMODE:"",V1:"",V2:"",V3:"",SHOWSUBTOTAL:0,SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTOMERNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForCustomer=new f.im,this.multiselectPopupSettings=new se.oe,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this._trnMainService.userProfile.userDivision)});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US"),this.AppMode=ae.N.appMode}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VATSalesNewObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,"AD")}else this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,"AD")):(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,"AD")),this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV="%",this._reportFilterService.VATSalesNewObj.VATSalesNew_isTI=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_isSI=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_isCN=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=0,this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=0,this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=0,"lite"==this.AppMode&&(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this.masterService.userProfile.userDivision)}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){if(this._reportFilterService.VATSalesNewObj.VATSalesNew_V1=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isTI?"TI":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_V2=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isSI?"SI":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_V3=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isCN?"CN":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV&&"%"==this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV)this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME="All";else if(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV&&"%"!=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV){let s=this.divisionList.filter(p=>p.Division==this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV);this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME=s&&s.length>0&&s[0]?s[0].NAME:""}this.repObj.reportparam.DATE1=this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,this.repObj.reportparam.DIV=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV?this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.REPMODE=this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT?this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT:0,this.repObj.reportparam.V1=this._reportFilterService.VATSalesNewObj.VATSalesNew_V1?this._reportFilterService.VATSalesNewObj.VATSalesNew_V1:"~~",this.repObj.reportparam.V2=this._reportFilterService.VATSalesNewObj.VATSalesNew_V2?this._reportFilterService.VATSalesNewObj.VATSalesNew_V2:"~~",this.repObj.reportparam.V3=this._reportFilterService.VATSalesNewObj.VATSalesNew_V3?this._reportFilterService.VATSalesNewObj.VATSalesNew_V3:"~~",this.repObj.reportparam.SHOWSUBTOTAL=this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL?this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL:0,this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE?this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING?this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME?this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME:"",this.repObj.reportparam.CUSTID=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID:"%",this.repObj.reportparam.ACID=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="VAT Sales Register New ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="VAT Sales Register New ReportNONDMS_1"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="VAT Sales Register  Report",this._reportFilterService.VATSalesNewObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=this.masterService.toADDate(t)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),0==this.selectMultiCustomers?this.genericGridCustomerPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForCustomer,this.multiselectGenericGrid.show())}onMultiCustomerSelected(t){this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID=t.MCODE,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=t.DESCA,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:this.masterService.userSetting.FilterIndexForCustomer,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]}}dblClickPopupParty(t){this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID=t.CUSTID,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=t.CUSTNAME,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID=t.ACID}changeMultiSelect(t){this.selectMultiCustomers=1==t.target.checked?1:0}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["VATSalesRegister-ReportNew"]],viewQuery:function(t,r){if(1&t&&(e.Gf(zK,5),e.Gf(BK,5),e.Gf(qK,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:94,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleCustomer",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","152px"],[1,"row",2,"margin-top","-20px"],[1,"col-md-12"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"smallBoldLabel",2,"width","200px","margin-top","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[1,"form-control",2,"font-size","12px",3,"ngModel","disabled","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Sales Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"fieldset")(15,"legend",9),e._uU(16,"Date Range Selection :"),e.qZA(),e.TgZ(17,"div",1)(18,"div",10)(19,"div",11)(20,"div")(21,"label"),e._uU(22," From:(AD) "),e.qZA()(),e.TgZ(23,"div")(24,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(25,"div")(26,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1=i}),e.qZA()()(),e.TgZ(27,"div",14)(28,"div")(29,"label"),e._uU(30," To:(AD) "),e.qZA()(),e.TgZ(31,"div")(32,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(33,"div")(34,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2=i}),e.qZA()()()()()(),e.YNc(35,JK,8,3,"fieldset",15),e.TgZ(36,"fieldset")(37,"legend",16),e._uU(38,"Customer Selection :"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(40,"div",1)(41,"input",18),e.NdJ("ngModelChange",function(i){return r.selectMultiCustomers=i})("change",function(i){return r.changeMultiSelect(i)}),e.qZA(),e._uU(42," \xa0 "),e.TgZ(43,"a",19),e._uU(44," Select Multiple Customers"),e.qZA()()(),e.TgZ(45,"fieldset")(46,"div",20)(47,"label",21)(48,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_isTI=i}),e.qZA(),e._uU(49," Show Tax Sales Invoice "),e.qZA()(),e.TgZ(50,"div",20)(51,"label",21)(52,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_isSI=i}),e.qZA(),e._uU(53," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(54,"div",23)(55,"label",21)(56,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_isCN=i}),e.qZA(),e._uU(57," Show Sales Return (Credit Note) "),e.qZA()(),e.TgZ(58,"fieldset")(59,"legend"),e._uU(60,"Abbreviated Sales Invoice Report Mode"),e.qZA(),e.TgZ(61,"div",24)(62,"div",25)(63,"div",14)(64,"label",21)(65,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=i}),e.qZA(),e._uU(66," Summary Report"),e.qZA()(),e.TgZ(67,"div",14)(68,"label",27)(69,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=i}),e.qZA(),e._uU(70," Detail Report"),e.qZA()()()()()(),e.TgZ(71,"fieldset")(72,"div",1)(73,"div",14)(74,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=i})("change",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=i.target.checked?1:0}),e.qZA(),e.TgZ(75,"label",29),e._uU(76,"Show Sub Total In Report"),e.qZA()(),e.TgZ(77,"div",14)(78,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(79,"label",29),e._uU(80,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(81,"div",14)(82,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i})("change",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i.target.checked?1:0}),e.qZA(),e.TgZ(83,"label",29),e._uU(84,"Show Report Without Round Off "),e.qZA()()()(),e.TgZ(85,"div",30)(86,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(87,"RUN"),e.qZA(),e.TgZ(88,"button",32),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(89,"Close"),e.qZA()()()()()()()(),e.TgZ(90,"generic-popup-grid",33,34),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(92,"multiselect-generic-grid",35,36),e.NdJ("onItemsSelected",function(i){return r.onMultiCustomerSelected(i)}),e.qZA()),2&t&&(e.xp6(24),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER),e.xp6(2),e.Q6J("ngModel",r.selectMultiCustomers)("checked",1==r.selectMultiCustomers),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_isTI),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_isSI),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_isCN),e.xp6(9),e.Q6J("value",0)("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT),e.xp6(4),e.Q6J("value",1)("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,se.ky],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const QK=["division"],KK=["genericGridSupplierPopup"],$K=["multiselectGenericGrid"];function XK(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function e$(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",37,38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",39),e._uU(6,"ALL"),e.qZA(),e.YNc(7,XK,2,2,"option",40),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV)("disabled","lite"==t.AppMode),e.xp6(4),e.Q6J("ngForOf",t.divisionList)}}let t$=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this.selectMultiSupplier=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.gridPopupSettingsForSupplier=new f.im,this.multiselectPopupSettings=new se.oe,this.AppMode=ae.N.appMode,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this._trnMainService.userProfile.userDivision)});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VATPurchaseNewObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,"AD")}else this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,"AD")):(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,"AD")),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV="%",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=0,this._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE="0"}}),"lite"==this.AppMode&&(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this.masterService.userProfile.userDivision)}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI?"PI":"",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP?"CP":"",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN?"DN":"";let r="VAT Purchase Register Report New ReportNONDMS";if(0==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE?r="VAT Purchase Register Report New ReportNONDMS":1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE&&(r="VAT Purchase Register Report New ReportNONDMS_1"),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV&&"%"==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV)this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME="All";else if(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV&&"%"!=this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV){let d=this.divisionList.filter(_=>_.Division==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME=d&&d.length>0&&d[0]?d[0].NAME:""}else this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME="";(""==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER||null==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER||null==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER)&&(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE="%"),this._reportFilterService.VATPurchaseNewObj.assignPreviousValue=!0;let s,o="VAT Purchase Register  Report",i=this.arouter.url.split("/");i&&i.length&&(s=i[i.length-1]);let p=this._reportFilterService.previouslyLoadedReportList.findIndex(d=>d.reportname==o);p>=0&&this._reportFilterService.previouslyLoadedReportList.splice(p,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:o,activeurlpath:this.arouter.url,activerurlpath2:s}),this.reportdataEmit.emit({status:t,data:{REPORTDISPLAYNAME:"VAT Purchase Register Report",reportname:r,reportparam:{DATE1:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,DATE2:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,DIVISION:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV:"%",DIV:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV:"%",PHISCALID:this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:" ",V1:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1:"~~",V2:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2:"~~",V3:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3:"~~",SHOWSUBTOTAL:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL:0,SHOWSUMMARYREPORT:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE:0,EXCLUDEROUNDING:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING:0,COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,DIVISIONNAME:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME:"",ACID:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE:"%",SUPPLIERDISPLAYNAME:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER:"",DATEMODE:this._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE?this._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE:0}}})}divisionChanged(){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=this.masterService.toADDate(t)}}cancel(){this.DialogClosedResult("cancel")}preventInput(t){return t.preventDefault(),!1}customerEnterCommand(t){this.getCustomersList(),0==this.selectMultiSupplier?this.genericGridSupplierPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForSupplier,this.multiselectGenericGrid.show())}changeMultiSelect(t){this.selectMultiSupplier=1==t.target.checked?1:0}onMultiItemSelected(t){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=t.DESCA,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE=t.MCODE}dblClickPopupParty(t){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE=t.ACID,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V/1",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-purchaseregisterreport-new"]],viewQuery:function(t,r){if(1&t&&(e.Gf(QK,5),e.Gf(KK,5),e.Gf($K,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleSupplier",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","230px"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],["type","radio","name","dateMODE","value","0",3,"ngModel","ngModelChange"],[2,"white-space","nowrap"],["type","radio","name","dateMODE","value","1",3,"ngModel","ngModelChange"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[1,"form-control",2,"font-size","12px",3,"ngModel","disabled","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Purchase Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2=i}),e.qZA()()()()()(),e.YNc(34,e$,8,3,"fieldset",15),e.TgZ(35,"fieldset")(36,"legend",16),e._uU(37,"Supplier Selection :"),e.qZA(),e.TgZ(38,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(39,"div",1)(40,"input",18),e.NdJ("ngModelChange",function(i){return r.selectMultiSupplier=i})("change",function(i){return r.changeMultiSelect(i)}),e.qZA(),e._uU(41," \xa0 "),e.TgZ(42,"a",19),e._uU(43," Select Multiple Suppliers"),e.qZA()()(),e.TgZ(44,"fieldset")(45,"div",1)(46,"div",14)(47,"div",20)(48,"label",21)(49,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI=i}),e.qZA(),e._uU(50," Trading Purchase Transaction "),e.qZA()(),e.TgZ(51,"div",23)(52,"label",21)(53,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP=i}),e.qZA(),e._uU(54," Capital Purchase Transaction "),e.qZA()(),e.TgZ(55,"div",23)(56,"label",21)(57,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN=i}),e.qZA(),e._uU(58," Purchase Return (Debit Note) Transaction "),e.qZA()()(),e.TgZ(59,"div",14)(60,"div",23)(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=i})("change",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=i.target.checked?1:0}),e.qZA(),e.TgZ(62,"label",26),e._uU(63,"Show Sub Total In Report"),e.qZA()(),e.TgZ(64,"div",23)(65,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(66,"label",26),e._uU(67,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(68,"div",23)(69,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=i})("change",function(i){return i.target.checked?r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=1:r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=0}),e.qZA(),e.TgZ(70,"label",26),e._uU(71,"Show Report Without Round Off "),e.qZA()()()()(),e.TgZ(72,"fieldset")(73,"legend"),e._uU(74,"Date Mode "),e.qZA(),e.TgZ(75,"div",1)(76,"div",14)(77,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE=i}),e.qZA(),e.TgZ(78,"label",28),e._uU(79,"Entry Date Wise"),e.qZA()(),e.TgZ(80,"div",14)(81,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE=i}),e.qZA(),e.TgZ(82,"label",28),e._uU(83,"Invoice Date Wise"),e.qZA()()()(),e.TgZ(84,"div",30)(85,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(86,"RUN"),e.qZA(),e.TgZ(87,"button",32),e.NdJ("click",function(){return r.cancel()}),e._uU(88,"Close"),e.qZA()()()()()()()(),e.TgZ(89,"generic-popup-grid",33,34),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(91,"multiselect-generic-grid",35,36),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER),e.xp6(2),e.Q6J("ngModel",r.selectMultiSupplier)("checked",1==r.selectMultiSupplier),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL)("checked",1==r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE)("checked",1==r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING)("checked",1==r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,se.ky],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function r$(n,a){1&n&&(e.TgZ(0,"option",31),e._uU(1,"ALL"),e.qZA())}function i$(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function o$(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function n$(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}let a$=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",IGNOREBRANCH:0,COMID:"",DIV:"",PHISCALID:"",FROMWAREHOUSE:"%",TOWAREHOUSE:"%",ENTRYWISEREPORT:0,REPORTTYPE:0,DIVISIONNAME:"",FROMWAREHOUSENAME:"",TOWAREHOUSENAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.warehouseList=[],this.InitialWarehouseList=[],this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.StockIssueObj.StockIssue_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getNotLoginDivisionList().subscribe(c=>{this.transferToList=c});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.getWarehouseListByDivision(this._reportFilterService.StockIssueObj.StockIssue_DIV??"")}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockIssueObj.assignPreviousValue&&(this._reportFilterService.StockIssueObj.StockIssue_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockIssueObj.StockIssue_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockIssueObj.StockIssue_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockIssueObj.StockIssue_BRANCH="0",this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE="1"),this.changeEntryDate(this._reportFilterService.StockIssueObj.StockIssue_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockIssueObj.StockIssue_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.StockIssueObj.StockIssue_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockIssueObj.StockIssue_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.StockIssueObj.StockIssue_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.StockIssueObj.StockIssue_DATE2=this.masterService.toADDate(t)}}filterWarehouses(){this.warehouseList=this._reportFilterService.filterWarehouses(this.InitialWarehouseList,this._reportFilterService.StockIssueObj.StockIssue_DIV)}onload(){if(this._reportFilterService.StockIssueObj.StockIssue_DIV&&"%"==this._reportFilterService.StockIssueObj.StockIssue_DIV)this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME="All";else if(this._reportFilterService.StockIssueObj.StockIssue_DIV&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.StockIssueObj.StockIssue_DIV);this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME="";this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE&&"%"==this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?"All":this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE:"",this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE&&"%"==this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?"All":this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockIssueObj.StockIssue_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockIssueObj.StockIssue_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.StockIssueObj.StockIssue_DIV?this._reportFilterService.StockIssueObj.StockIssue_DIV:"%",this.repObj.reportparam.DIV=this._reportFilterService.StockIssueObj.StockIssue_DIV?this._reportFilterService.StockIssueObj.StockIssue_DIV:"%",this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ENTRYWISEREPORT=this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE?this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE:1,this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockIssueObj.StockIssue_BRANCH?this._reportFilterService.StockIssueObj.StockIssue_BRANCH:0,this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH?this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH:0,this.repObj.reportparam.FROMWAREHOUSE=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE:"%",this.repObj.reportparam.TOWAREHOUSE=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE:"%",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME?this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME:"%",this.repObj.reportparam.FROMWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME?this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME:"",this.repObj.reportparam.TOWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME?this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME:"",1==this.repObj.reportparam.ENTRYWISEREPORT?this.repObj.reportname="Stock Issue Report":2==this.repObj.reportparam.ENTRYWISEREPORT&&(this.repObj.reportname="Stock Issue Report_1"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="@Stock Issue Report":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="@Stock Issue Return Report"),this.repObj.REPORTDISPLAYNAME="Stock Issue Report",this._reportFilterService.StockIssueObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}change(){1==this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE&&(this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=0)}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}onSelectDivision(t){this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE="%",this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE="%",this.getWarehouseListByDivision(t.target.value)}getWarehouseListByDivision(t){this.masterService.getWarehouseListByDivision(t).subscribe(r=>{this.warehouseList=r.result},r=>{this.warehouseList=[]})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-issue-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:29,consts:[[1,"container",2,"width","58rem"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"display","flex"],[2,"margin-left","4%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],[2,"width","auto"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","2",3,"ngModel","ngModelChange"],[2,"width","88%"],[2,"width","110px","font-weight","bold","font-size","14px"],[1,"form-control","input-text",2,"margin-left","3px","width","96%",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"form-control","input-text",2,"margin-left","3px","width","96%",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Issue Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_DIV=i})("change",function(i){return r.onSelectDivision(i)}),e.YNc(41,r$,2,0,"option",16),e.YNc(42,i$,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Report Option :"),e.qZA(),e.TgZ(46,"div",18)(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_BRANCH=i}),e.qZA(),e.TgZ(49,"label",21),e._uU(50,"Stock Issue Report"),e.qZA()(),e.TgZ(51,"div",19)(52,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_BRANCH=i}),e.qZA(),e.TgZ(53,"label",21),e._uU(54,"Stock Issue Return Report"),e.qZA()()()()(),e.TgZ(55,"div",23)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE=i})("change",function(){return r.change()}),e.qZA(),e.TgZ(62,"label",26),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",24)(65,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE=i}),e.qZA(),e.TgZ(66,"label",28),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Issue Warehouse Selection:"),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"From Warehouse:"),e.qZA(),e.TgZ(73,"select",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE=i}),e.ALo(74,"disableField"),e._UZ(75,"option",31),e.YNc(76,o$,2,2,"option",17),e.qZA(),e.TgZ(77,"label",29),e._uU(78,"To Warehouse:"),e.qZA(),e.TgZ(79,"select",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE=i}),e._UZ(80,"option",31),e.YNc(81,n$,2,2,"option",17),e.qZA()(),e.TgZ(82,"div",33)(83,"div",34)(84,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=i})("change",function(i){return r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=i.target.checked?1:0}),e.qZA()(),e.TgZ(85,"div",36)(86,"label",37),e._uU(87,"Disable Warehouse Wise Segragation In Report"),e.qZA()()()()()(),e.TgZ(88,"div",38)(89,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(90,"RUN"),e.qZA(),e.TgZ(91,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(92,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BRANCH),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BRANCH),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE)("disabled",e.lcZ(74,27,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE),e.xp6(2),e.Q6J("ngForOf",r.warehouseList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH)("checked",1==r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH)("disabled",1==r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,D.v,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const s$=["division"],l$=["genericGridCustomerPopup"],c$=["multiselectGenericGrid"];function p$(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let d$=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this.selectMultiCustomer=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUBTOTAL:0,REPMODE:0,SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTOMERNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForCustomer=new f.im,this.multiselectPopupSettings=new se.oe,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(c=>{this.divisionList=c});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.CreditNoteSalesReturnObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,"AD")}else this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,"AD")):(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,"AD")),this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV="%",this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=0,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){if(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV&&"%"==this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV)this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME="All";else if(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV&&"%"!=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV){let s=this.divisionList.filter(p=>p.Division==this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME=s&&s.length>0&&s[0]?s[0].NAME:""}else this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,this.repObj.reportparam.DIV=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="Credit Note Sales Return Register ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="Credit Note Sales Return Register ReportNONDMS_1"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="Credit Note (Sales Return) Register Report",this._reportFilterService.CreditNoteSalesReturnObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=this.masterService.toADDate(t)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),0==this.selectMultiCustomer?this.genericGridCustomerPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForCustomer,this.multiselectGenericGrid.show())}onMultiCustomerSelected(t){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID=t.MCODE,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=t.DESCA}changeMultiCustomer(t){this.selectMultiCustomer=1==t.target.checked?1:0}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:this.masterService.userSetting.FilterIndexForCustomer,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]}}dblClickPopupParty(t){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID=t.CUSTID,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=t.CUSTNAME}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}preventInput(t){return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["creditnote-sales-return-register-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(s$,5),e.Gf(l$,5),e.Gf(c$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:70,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleCustomer",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],["type","checkbox",2,"margin-left","45px",3,"ngModel","checked","ngModelChange","change"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"Credit Note (Sales Return) Register"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV=i})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,p$,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",19),e._uU(44,"Customer Selection :"),e.qZA(),e.TgZ(45,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA(),e.TgZ(46,"div",1)(47,"input",21),e.NdJ("ngModelChange",function(i){return r.selectMultiCustomer=i})("change",function(i){return r.changeMultiCustomer(i)}),e.qZA(),e._uU(48," \xa0 "),e.TgZ(49,"a",22),e._uU(50," Select Multiple Customers"),e.qZA()()(),e.TgZ(51,"fieldset")(52,"div",1)(53,"div",14)(54,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i})("change",function(i){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i.target.checked?1:0}),e.qZA(),e.TgZ(55,"label",24),e._uU(56,"Show Report Without Round Off "),e.qZA()(),e.TgZ(57,"div",14)(58,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(59,"label",24),e._uU(60,"Show Bill Wise Summary Report"),e.qZA()()()(),e.TgZ(61,"div",26)(62,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(63,"RUN"),e.qZA(),e.TgZ(64,"button",28),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(65,"Close"),e.qZA()()()()()()()(),e.TgZ(66,"generic-popup-grid",29,30),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(68,"multiselect-generic-grid",31,32),e.NdJ("onItemsSelected",function(i){return r.onMultiCustomerSelected(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER),e.xp6(2),e.Q6J("ngModel",r.selectMultiCustomer)("checked",1==r.selectMultiCustomer),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE)("checked",1==r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl,D.v,se.ky],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const _$=["division"],h$=["genericGridSupplierPopup"],u$=["genericGridCustomerPopup"];function g$(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function m$(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",27,28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",29),e._uU(6,"ALL"),e.qZA(),e.YNc(7,g$,2,2,"option",30),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList)}}let S$=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUBTOTAL:0,REPMODE:0,SHOWSUMMARYREPORT:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForCustomer=new f.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(c=>{this.divisionList=c});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this.AppMode=ae.N.appMode,this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VatOtherAdjustmentObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,"AD")}else this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,"AD")):(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,"AD")),this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV="%",this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){if(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV&&"%"==this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV)this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME="All";else if(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV&&"%"!=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV){let s=this.divisionList.filter(p=>p.Division==this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME=s&&s.length>0&&s[0]?s[0].NAME:""}else this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,this.repObj.reportparam.DIV=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID:"%",this.repObj.reportname="Vat Other Adjustment ReportNONDMS",this.repObj.REPORTDISPLAYNAME="Vat Other Adjustment Report",this._reportFilterService.VatOtherAdjustmentObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=this.masterService.toADDate(t)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(t){return t.preventDefault(),!1}SupplierEnterCommand(t){this.getSupplierList(),this.genericGridSupplierPopup.show()}dblClickSupplierPopupParty(t){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CUSTOMERCODE=t.ACID,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER=t.ACNAME}getSupplierList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V/1",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:0,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]},this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID=t.CUSTID,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER=t.CUSTNAME,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID=t.ACID}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-other-adjustment-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(_$,5),e.Gf(h$,5),e.Gf(u$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:62,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12",2,"padding-right","30px"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[2,"display","flex"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white","margin-top","-3px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox",2,"margin-left","27px",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridCustomerPopup",""],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Other Adjustment Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2=i}),e.qZA()()()()()(),e.YNc(34,m$,8,2,"fieldset",15),e.TgZ(35,"fieldset")(36,"legend"),e._uU(37,"Party Selection:"),e.qZA(),e.TgZ(38,"div",16)(39,"label"),e._uU(40,"Customer:"),e.qZA(),e.TgZ(41,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(42,"div",16)(43,"label"),e._uU(44,"Supplier:"),e.qZA(),e.TgZ(45,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER=i})("keydown.enter",function(i){return r.SupplierEnterCommand(i)})("keydown.Tab",function(i){return r.SupplierEnterCommand(i)})("keyup",function(i){return r.SupplierEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(46,"fieldset")(47,"div",1),e._UZ(48,"div",14),e.TgZ(49,"div",14)(50,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(51,"label",20),e._uU(52,"Show Bill Wise Summary Report"),e.qZA()()()(),e.TgZ(53,"div",21)(54,"button",22),e.NdJ("click",function(){return r.onload()}),e._uU(55,"RUN"),e.qZA(),e.TgZ(56,"button",23),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(57,"Close"),e.qZA()()()()()()()(),e.TgZ(58,"generic-popup-grid",24,25),e.NdJ("onItemDoubleClick",function(i){return r.dblClickSupplierPopupParty(i)}),e.qZA(),e.TgZ(60,"generic-popup-grid",24,26),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE)("checked",1==r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl,D.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const f$=["division"],v$=["genericGridSupplierPopup"];function O$(n,a){if(1&n&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let b$=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._trnMainService=r,this._alertService=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",V1:"PI",V2:"DN",V3:"",ACID:"",SUPPLIERDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForSupplier=new f.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(c=>{this.divisionList=c});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{if(("DRILL"!=t.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.DebitNotePurchaseReturnObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,"AD")}else this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,"AD")):(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,"AD")),this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV="%",this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=0,this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(t){if(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV&&"%"==this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV)this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME="All";else if(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV&&"%"!=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV){let s=this.divisionList.filter(p=>p.Division==this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME=s&&s.length>0&&s[0]?s[0].NAME:""}else this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,this.repObj.reportparam.DIV=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE:"%",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="Debit Note Purchase Return Register ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="Debit Note Purchase Return Register ReportNONDMS_1"),""==this.repObj.reportparam.SUPPLIERDISPLAYNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="Debit Note (Purchase Return) Register Report",this._reportFilterService.DebitNotePurchaseReturnObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(s=>s.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=this.masterService.toADDate(t)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(t){return t.preventDefault(),!1}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(t){this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE=t.ACID,this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER=t.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V/1",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["debitnote-purchasereturn-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(f$,5),e.Gf(v$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:63,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%","width","110%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox",2,"margin-left","56px",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"Debit Note (Purchase Return) Register"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV=i})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,O$,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",19),e._uU(44,"Supplier Selection :"),e.qZA(),e.TgZ(45,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(46,"fieldset")(47,"div",1)(48,"div",14)(49,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=i})("change",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(50,"label",22),e._uU(51,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(52,"div",14)(53,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=i})("change",function(i){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Show Report Without Round Off"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"button",24),e.NdJ("click",function(){return r.onload()}),e._uU(58,"RUN"),e.qZA(),e.TgZ(59,"button",25),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(60,"Close"),e.qZA()()()()()()()(),e.TgZ(61,"generic-popup-grid",26,27),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE)("checked",1==r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING)("checked",1==r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.On,f.Zl,D.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const T$=["genericGridUserListPopup"],C$=["genericGridCounterListPopup"];function M$(n,a){1&n&&(e.TgZ(0,"option",34),e._uU(1,"ALL"),e.qZA())}function A$(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let P$=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",TRNUSER:"",TERMINAL:"",COMPANYID:"",TERMINALNAME:"",DIVISIONAME:"",REPORTOPTIONDISPLAYNAME:"",USERDISPLAYNAME:"",TERMINALDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForUserList=new f.im,this.gridPopupSettingsForCounterList=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.ShiftCloseObj.assignPreviousValue&&(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ShiftCloseObj.ShiftClose_DATE=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this.masterService.getAccDivList().subscribe(i=>{this._reportFilterService.ShiftCloseObj.ShiftClose_DIV=0==this.userSetting.UserwiseDivision||1==this.userSetting.DEFAULT_ALL_DIV_INREPORT&&i?"%":this.masterService.PhiscalObj.Div})),this.changeEntryDate(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE,"AD")})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.ShiftCloseObj.ShiftClose_DATE=this.masterService.toADDate(t)}}onload(){if(this._reportFilterService.ShiftCloseObj.ShiftClose_DIV&&"%"==this._reportFilterService.ShiftCloseObj.ShiftClose_DIV)this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME="All";else if(this._reportFilterService.ShiftCloseObj.ShiftClose_DIV&&"%"!=this._reportFilterService.ShiftCloseObj.ShiftClose_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.ShiftCloseObj.ShiftClose_DIV);this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ShiftCloseObj.ShiftClose_DATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ShiftCloseObj.ShiftClose_DIV?this._reportFilterService.ShiftCloseObj.ShiftClose_DIV:"%",this.repObj.reportparam.TRNUSER=this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME:"%",this.repObj.reportparam.TERMINAL=this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL?this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL:"%",this.repObj.reportparam.TERMINALNAME=this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME:"",this.repObj.reportparam.DIVISIONAME=this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME:"",this.repObj.reportparam.USERDISPLAYNAME="%"!=this.repObj.reportparam.TRNUSER?this.repObj.reportparam.TRNUSER:"",this.repObj.reportparam.TERMINALDISPLAYNAME="%"!=this.repObj.reportparam.TERMINAL?this.repObj.reportparam.TERMINALNAME:"",this.repObj.reportname="Shift Close Report",this.repObj.REPORTDISPLAYNAME="Shift Close Report",this._reportFilterService.ShiftCloseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}UserListEnter(t){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(t){this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME=t.UNAME}CounterListEnter(t){this.gridPopupSettingsForCounterList={title:"Counter List",apiEndpoints:"/getSalesCounterList",defaultFilterIndex:0,columns:[{key:"INITIAL",title:"INITIAL",hidden:!1,noSearch:!1},{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridCounterListPopup.show()}onCounterListSelected(t){this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL=t.INITIAL,this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME=t.NAME}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["shift-close-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(T$,5),e.Gf(C$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCounterListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:70,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","margin-left","26px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4",2,"margin-left","-56px"],[2,"margin-left","54%","margin-top","5px"],[1,"col"],["type","text","placeholder","Press Enter for Counter List",1,"form-control","input-text",2,"background","white","margin-left","31px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridUserListPopup",""],["genericGridCounterListPopup",""],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Shift Close Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_DATE=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_DIV=i}),e.YNc(41,M$,2,0,"option",16),e.YNc(42,A$,2,2,"option",17),e.qZA()()(),e.TgZ(43,"div",18)(44,"fieldset")(45,"legend",10),e._uU(46,"Filter Option :"),e.qZA(),e.TgZ(47,"div",1)(48,"div",19)(49,"label",20),e._uU(50,"User Name :"),e.qZA()(),e.TgZ(51,"div",21)(52,"div",22)(53,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME=i})("keydown.enter",function(i){return r.UserListEnter(i)})("keydown.Tab",function(i){return r.UserListEnter(i)})("keyup",function(i){return r.UserListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(54,"div",1)(55,"div",24)(56,"label",25),e._uU(57,"Counter Name :"),e.qZA()(),e.TgZ(58,"div",26)(59,"div",22)(60,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME=i})("keydown.enter",function(i){return r.CounterListEnter(i)})("keydown.Tab",function(i){return r.CounterListEnter(i)})("keyup",function(i){return r.CounterListEnter(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()()()()(),e.TgZ(61,"div",28)(62,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(63,"RUN"),e.qZA(),e.TgZ(64,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(65,"Close"),e.qZA()()()()()(),e.TgZ(66,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.onUserListSelected(i)}),e.qZA(),e.TgZ(68,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(i){return r.onCounterListSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCounterList))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var R$=v(53158);function E$(n,a){1&n&&(e.TgZ(0,"option",15),e._uU(1,"ALL"),e.qZA())}function D$(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function I$(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.NAME),e.xp6(1),e.hij(" ",t.NAME," ")}}function N$(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.BATCH),e.xp6(1),e.hij(" ",t.BATCH," ")}}let k$=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._alertService=p,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMPANYID:"",DIV:"",VARIANCEMODE:0,WAREHOUSE:"",DIVISIONNAME:"",WAREHOUSENAME:"",BATCH:"",REPORTOPTIONDISPLAYNAME:"",DIVISION:"",WARE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.warehouseList=[],this.majorGroupList=[],this.showVariantPopup=!1,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getWarehouseList().subscribe(_=>{this.warehouseList=_})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||1!=this._reportFilterService.StockVarianceObj.assignPreviousValue&&(this._reportFilterService.StockVarianceObj.StockVariance_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE="0")}),this.getBatchList(this.masterService.PhiscalObj.Div)}getBatchList(t){this.masterService.getbatchSelectionList(t).subscribe(r=>{this.batchSelectionList=r})}onChangeDivision(){console.log("div",this._reportFilterService.StockVarianceObj.StockVariance_DIV),this.getBatchList(this._reportFilterService.StockVarianceObj.StockVariance_DIV)}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){if(this._reportFilterService.StockVarianceObj.StockVariance_DIV&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_DIV)this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME="All";else if(this._reportFilterService.StockVarianceObj.StockVariance_DIV&&"%"!=this._reportFilterService.StockVarianceObj.StockVariance_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.StockVarianceObj.StockVariance_DIV);this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME="";this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSENAME=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?"All":this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIVISION=this._reportFilterService.StockVarianceObj.StockVariance_DIV?this._reportFilterService.StockVarianceObj.StockVariance_DIV:"%",this.repObj.reportparam.VARIANCEMODE=this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE?this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE:0,this.repObj.reportparam.WARE=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"%",this.repObj.reportparam.BATCH=this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION?this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION:"%",this.repObj.reportparam.DATE=this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE?this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME?this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME:"%",this.repObj.reportname=0==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report":1==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_1":2==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_2":3==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_3":4==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_4":5==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_5":6==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_6":"Stock Variance Report",this.repObj.REPORTDISPLAYNAME="Stock Variance Report",this._reportFilterService.StockVarianceObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}onChangeBatch(){let t=this.batchSelectionList.filter(r=>r.BATCH==this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION);t&&t.length>0&&t[0]&&(this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE=t[0].TRNDATE.substring(0,10),console.log("BATCH SELECTION",this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE))}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-variance-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:92,vars:18,consts:[[1,"container",2,"width","800px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","change","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["type","text",1,"form-control","input-text",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[1,"variance-font",2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[2,"width","100%"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","4",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","5",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","6",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Variance Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Division Selection:"),e.qZA(),e.TgZ(19,"select",11),e.NdJ("change",function(){return r.onChangeDivision()})("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_DIV=i}),e.YNc(20,E$,2,0,"option",12),e.YNc(21,D$,2,2,"option",13),e.qZA()(),e.TgZ(22,"fieldset")(23,"fieldset")(24,"legend",10),e._uU(25,"Warehouse Selection:"),e.qZA(),e.TgZ(26,"select",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE=i}),e.ALo(27,"disableField"),e._UZ(28,"option",15),e.YNc(29,I$,2,2,"option",13),e.qZA()(),e.TgZ(30,"fieldset")(31,"legend",10),e._uU(32,"Batch Selection:"),e.qZA(),e.TgZ(33,"select",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION=i})("change",function(){return r.onChangeBatch()}),e._UZ(34,"option",15),e.YNc(35,N$,2,2,"option",13),e.qZA()(),e.TgZ(36,"fieldset")(37,"legend",10),e._uU(38,"Batch Date:"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE=i}),e.qZA()()()(),e.TgZ(40,"div",18)(41,"fieldset")(42,"legend",10),e._uU(43,"Report Option :"),e.qZA(),e.TgZ(44,"div",19)(45,"div",20)(46,"div",21)(47,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(48,"div",23)(49,"label",24),e._uU(50,"Show All"),e.qZA()()(),e.TgZ(51,"div",20)(52,"div",21)(53,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(54,"div",23)(55,"label",26),e._uU(56,"Show Difference Stock"),e.qZA()()(),e.TgZ(57,"div",20)(58,"div",21)(59,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(60,"div",23)(61,"label",26),e._uU(62,"Show Excess Stock Only"),e.qZA()()(),e.TgZ(63,"div",20)(64,"div",21)(65,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(66,"div",23)(67,"label",26),e._uU(68,"Show Shortage Only"),e.qZA()()(),e.TgZ(69,"div",20)(70,"div",21)(71,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(72,"div",23)(73,"label",26),e._uU(74,"Show Items That Counted But Not In Stock"),e.qZA()()(),e.TgZ(75,"div",20)(76,"div",21)(77,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(78,"div",23)(79,"label",26),e._uU(80,"Show Items That Not Come In Counting"),e.qZA()()(),e.TgZ(81,"div",20)(82,"div",21)(83,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(84,"div",23)(85,"label",26),e._uU(86,"Show Equal Stock Only"),e.qZA()()()()()()()(),e.TgZ(87,"div",32)(88,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(89,"RUN"),e.qZA(),e.TgZ(90,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(91,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(19),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE)("disabled",e.lcZ(27,16,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION),e.xp6(2),e.Q6J("ngForOf",r.batchSelectionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,ke.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const y$=["genericGridCusCategoryPopup"],F$=["genericGridCusGroupPopup"];function j$(n,a){1&n&&(e.TgZ(0,"option",34),e._uU(1," ALL"),e.qZA())}function L$(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let w$=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._alertService=p,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",DIV:"",REPORT_TYPE:0,COMID:"%",CATEGORY:"%",PARTYGROUP:"%",CCENTER:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.gridPopupSettingsForCusCategory=new f.im,this.gridPopupSettingsForCusGroup=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesRevenueAnalysisObj.assignPreviousValue&&(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE="2"),this.changeEntryDate(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2,this.repObj.reportparam.COMID="%",this.repObj.reportparam.DIV=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV:"%",this.repObj.reportparam.CCENTER="%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.CATEGORY=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE:0,this.repObj.reportparam.PARTYGROUP=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE:"%",0==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Revenue Analysis Report":1==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Revenue Analysis Report_1":2==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Sales Revenue Analysis Report_2"),this.repObj.REPORTDISPLAYNAME="Sales Revenue Analysis Report",this._reportFilterService.SalesRevenueAnalysisObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}CusCategoryEnterCommand(t){this.getCustomerCategoryList(),this.genericGridCusCategoryPopup.show()}dblClickPopupCusCategory(t){this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY=t.ORGTYPENAME,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE=t.ORGTYPECODE}getCustomerCategoryList(){this.gridPopupSettingsForCusCategory=this.masterService.getGenericGridPopUpSettings("CustomerCategoryList")}CusGroupEnterCommand(t){this.getCustomerGroupList(),this.genericGridCusGroupPopup.show()}dblClickPopupCusGroup(t){this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE=t.ACID,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP=t.ACNAME}getCustomerGroupList(){this.gridPopupSettingsForCusGroup=this.masterService.getGenericGridPopUpSettings("CustomerGroupList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-revenueanalysis-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(y$,5),e.Gf(F$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCusCategoryPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCusGroupPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:73,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Customer Category List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Customer Group List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCusCategoryPopup",""],["genericGridCusGroupPopup",""],["value","%"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Revenue Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV=i}),e.YNc(31,j$,2,0,"option",16),e.YNc(32,L$,2,2,"option",17),e.qZA()()(),e.TgZ(33,"div",18)(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div")(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Party Category Wise Report"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Party Group Wise Report"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Party Wise Report"),e.qZA()()()()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Customer Category Selection:"),e.qZA(),e.TgZ(59,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY=i})("keydown.enter",function(i){return r.CusCategoryEnterCommand(i)})("keydown.Tab",function(i){return r.CusCategoryEnterCommand(i)})("keyup",function(i){return r.CusCategoryEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(60,"fieldset")(61,"legend",10),e._uU(62,"Customer Group Selection:"),e.qZA(),e.TgZ(63,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP=i})("keydown.enter",function(i){return r.CusGroupEnterCommand(i)})("keydown.Tab",function(i){return r.CusGroupEnterCommand(i)})("keyup",function(i){return r.CusGroupEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()(),e.TgZ(64,"div",28)(65,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(66,"RUN"),e.qZA(),e.TgZ(67,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(68,"Close"),e.qZA()()()()()(),e.TgZ(69,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupCusCategory(i)}),e.qZA(),e.TgZ(71,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupCusGroup(i)}),e.qZA()),2&t&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCusCategory),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCusGroup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const x$=["genericGridSalesMan"];function V$(n,a){1&n&&(e.TgZ(0,"option",20),e._uU(1," ALL"),e.qZA())}function W$(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function Z$(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function H$(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.AREAID),e.xp6(1),e.hij(" ",t.AREANAME," ")}}let U$=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._alertService=s,this._authService=p,this._ActivatedRoute=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,SALESMAN:0,SALESMANNAME:"",REPORT_TYPE:1,AREA:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.areaList=[],this.gridPopupSettingsForSalesMan=new f.im,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h,this._reportFilterService.previouslyLoadedReportList?.some(g=>g.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=this.userProfile.userDivision)});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.date2=_,this.masterService.getAccDivList(),this.masterService.getAreaDetail().subscribe(h=>{"ok"==h.status&&(this.areaList=h.result,console.log("arealist=",this.areaList))})}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Salesman Wise_1"==this._reportFilterService.drillParam.reportname||"Sales Report Salesman Wise_2"==this._reportFilterService.drillParam.reportname||"Sales Report Salesman Wise_3"==this._reportFilterService.drillParam.reportname)&&(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETALREPORT,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=this._reportFilterService.drillParam.reportparam.REPORT_TYPE,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID=this._reportFilterService.drillParam.reportparam.SALESMAN,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=this._reportFilterService.drillParam.reportparam.SALESMANNAME,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_AREA=this._reportFilterService.drillParam.reportparam.AREA,this.changeEntryDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,"AD")):(1!=this._reportFilterService.SalesReportSalesmanWiseObj.assignPreviousValue&&(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE="1",this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL="0"),this.changeEntryDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER||null==this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL:0,this.repObj.reportparam.SALESMAN=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID:0,this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN:"",this.repObj.reportparam.AREA=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_AREA,""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SALESMAN=0),1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),1==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Report Salesman Wise":2==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Report Salesman Wise_1":2==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT&&(0==this.userSetting.EnableVariantCategory?this.repObj.reportname="Sales Report Salesman Wise_2":1==this.userSetting.EnableVariantCategory&&(this.repObj.reportname="Sales Report Salesman Wise_3")),this.repObj.REPORTDISPLAYNAME="Sales Report Salesman Wise",this._reportFilterService.SalesReportSalesmanWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}salesmanEnterCommand(t){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(t){this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID=t.SALESMANID,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=t.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(I.c),e.Y36(E.e),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-salesman-wise"]],viewQuery:function(t,r){if(1&t&&e.Gf(x$,5),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:27,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6","mt-2",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","mt-2"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[1,"col-md-5"],[2,"display","flex","align-items","center"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"display","flex","align-items","center","margin-top","10px"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"col-md-7"],[2,"margin-left","1%"],["type","radio","name","detailoption","value","0",3,"ngModel","disabled","ngModelChange"],[2,"width","120px !important"],["type","radio","name","detailoption","value","1",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSalesMan",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Salesman Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",15)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=i}),e.YNc(41,V$,2,0,"option",17),e.YNc(42,W$,2,2,"option",18),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER=i}),e._UZ(47,"option",19),e.TgZ(48,"option",20),e._uU(49," ALL "),e.qZA(),e.YNc(50,Z$,2,2,"option",18),e.qZA()()(),e.TgZ(51,"div",21)(52,"fieldset")(53,"legend",10),e._uU(54,"Report Type :"),e.qZA(),e.TgZ(55,"div",11)(56,"div",22)(57,"div",23)(58,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=i}),e.qZA(),e.TgZ(59,"label"),e._uU(60,"Summary Report"),e.qZA()(),e.TgZ(61,"div",25)(62,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=i}),e.qZA(),e.TgZ(63,"label"),e._uU(64,"Detail Report"),e.qZA()()(),e.TgZ(65,"div",27)(66,"fieldset")(67,"legend"),e._uU(68,"Detail Report Option"),e.qZA(),e.TgZ(69,"div",28)(70,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(71,"label",30),e._uU(72,"Voucher Wise Report "),e.qZA()(),e.TgZ(73,"div",28)(74,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(75,"label",30),e._uU(76,"Item Wise Report "),e.qZA()()()()()(),e.TgZ(77,"fieldset")(78,"legend",10),e._uU(79,"Salesman Selection :"),e.qZA(),e.TgZ(80,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=i})("keydown.enter",function(i){return r.salesmanEnterCommand(i)})("keydown.Tab",function(i){return r.salesmanEnterCommand(i)})("keyup",function(i){return r.salesmanEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(81,"fieldset")(82,"legend",10),e._uU(83,"Area :"),e.qZA(),e.TgZ(84,"select",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_AREA=i}),e.YNc(85,H$,2,2,"option",18),e.qZA()()()()(),e.TgZ(86,"div",33)(87,"button",34),e.NdJ("click",function(){return r.onload()}),e._uU(88,"RUN"),e.qZA(),e.TgZ(89,"button",35),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(90,"Close"),e.qZA()()()()()(),e.TgZ(91,"generic-popup-grid",36,37),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSalesman(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL)("disabled",1==r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL)("disabled",1==r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_AREA),e.xp6(1),e.Q6J("ngForOf",r.areaList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const z$=["genericGridItemPopup"],B$=["genericGridMemberPopup"];function q$(n,a){1&n&&(e.TgZ(0,"option",23),e._uU(1," ALL"),e.qZA())}function Y$(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function J$(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.SCHEMEID),e.xp6(1),e.hij("",t.NAME," ")}}let G$=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._alertService=p,this._ActivatedRoute=d,this._authService=_,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,MEMID:"%",SHOWBILLDETAIL:0,SCHEME:"%",MEMBERNAME:"",ITEMNAME:"",MEMBERPOINT:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.MemberSchemeList=[],this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForMember=new f.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMemberSchemeList().subscribe(c=>{this.MemberSchemeList=c&&c||[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Membership Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID=this._reportFilterService.drillParam.reportparam.MEMID,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=this._reportFilterService.drillParam.reportparam.MEMBERNAME,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,"AD")):(1!=this._reportFilterService.SalesMembershipWiseObj.assignPreviousValue&&(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL="0",this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWBILLDETAIL=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME="%"),this.changeEntryDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV:"%",this.repObj.reportparam.MEMID=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT:0,this.repObj.reportparam.SCHEME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME:"%",this.repObj.reportparam.MEMBERNAME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM:"",this.repObj.reportparam.MEMBERPOINT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.MEMBERNAME&&(this.repObj.reportparam.MEMID="%"),1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0,this.repObj.reportparam.MEMBERPOINT=0),0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Membership Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Membership Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Membership Wise",this._reportFilterService.SalesMembershipWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(t){this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE=t.MCODE,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM=t.DESCA}dblClickPopupParty(t){this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID=t.MEMID,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=t.FNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}memberEnterCommand(t){this.getMermbersList(),this.genericGridMemberPopup.show()}getMermbersList(){this.gridPopupSettingsForMember=this.masterService.getGenericGridPopUpSettings("AllMemberList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}onChangeDetail(){1==this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL&&(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(I.c),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-membership-wise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(z$,5),e.Gf(B$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridMemberPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:98,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","2%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Member List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%"],[1,"col-md-4"],[2,"margin-left","-10%","width","135px !important"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[1,"col-md-2"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridMemberPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Membership Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=i}),e.YNc(41,q$,2,0,"option",16),e.YNc(42,Y$,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",1)(44,"div",18)(45,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=i})("change",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(46,"label",20),e._uU(47,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(48,"div",21)(49,"fieldset")(50,"legend",10),e._uU(51,"Member Selection :"),e.qZA(),e.TgZ(52,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=i})("keydown.enter",function(i){return r.memberEnterCommand(i)})("keydown.Tab",function(i){return r.memberEnterCommand(i)})("keyup",function(i){return r.memberEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(53,"fieldset")(54,"legend",10),e._uU(55,"Membership Scheme Selection :"),e.qZA(),e.TgZ(56,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME=i}),e._UZ(57,"option",23),e.YNc(58,J$,2,2,"option",17),e.qZA()(),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",11)(64,"div",24)(65,"label",25),e._uU(66,"Transaction Amount >= :"),e.qZA()(),e.TgZ(67,"div",24)(68,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=i}),e.qZA()(),e._UZ(69,"div",27),e.qZA()(),e.TgZ(70,"div",1)(71,"div",11)(72,"div",24)(73,"label",25),e._uU(74,"Member Point >= :"),e.qZA()(),e.TgZ(75,"div",24)(76,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT=i}),e.qZA()(),e._UZ(77,"div",27),e.qZA()()(),e.TgZ(78,"fieldset")(79,"legend",10),e._uU(80,"Report Type :"),e.qZA(),e.TgZ(81,"div",28)(82,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL=i})("change",function(){return r.onChangeDetail()}),e.qZA(),e.TgZ(83,"label"),e._uU(84,"Summary Report"),e.qZA()(),e.TgZ(85,"div",28)(86,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL=i})("change",function(){return r.onChangeDetail()}),e.qZA(),e.TgZ(87,"label"),e._uU(88,"Detail Report"),e.qZA()()()()()(),e.TgZ(89,"div",31)(90,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(91,"RUN"),e.qZA(),e.TgZ(92,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(93,"Close"),e.qZA()()()()()(),e.TgZ(94,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(96,"generic-popup-grid",34,36),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT)("checked",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT)("disabled",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME),e.xp6(2),e.Q6J("ngForOf",r.MemberSchemeList),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT)("disabled",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForMember))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Q$=["genericGridCustomerPopup"],K$=["genericGridSalesMan"];function $$(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",16),e._uU(2,"Date Range Selection : "),e.qZA(),e.TgZ(3,"div",1)(4,"div",47)(5,"div",48)(6,"div")(7,"label"),e._uU(8," From:(AD) "),e.qZA()(),e.TgZ(9,"div")(10,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(11,"div")(12,"nepali-date-picker",50),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1=o)}),e.qZA()()(),e.TgZ(13,"div",5)(14,"div")(15,"label"),e._uU(16," To:(AD) "),e.qZA()(),e.TgZ(17,"div")(18,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(19,"div")(20,"nepali-date-picker",50),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=o)}),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(10),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2)}}function X$(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",16),e._uU(2,"As On Dated : "),e.qZA(),e.TgZ(3,"div",1)(4,"div",47)(5,"div",48)(6,"div")(7,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=o)})("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()()(),e.TgZ(8,"div",5)(9,"div")(10,"nepali-date-picker",50),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=o)}),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2)}}function eX(n,a){1&n&&(e.TgZ(0,"option",20),e._uU(1,"ALL"),e.qZA())}function tX(n,a){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function rX(n,a){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}let iX=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",CCENTER:"",DETAILSREPORT:0,ASONDATED:0,PROFORMAMODE:0,AGE:0,ACID:"",CUSTOMERNAME:"",CUSTOMERDISPLAYNAME:"",CUSTID:"",SHOWITEMWISEREPORT:0,SALESMANID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForSalesMan=new f.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.ProformaInvoiceWiseObj.assignPreviousValue&&(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT="0",this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED="0",this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE="2"),this.changeEntryDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD")}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=1==this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2:this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,this.repObj.reportparam.SHOWITEMWISEREPORT=!0===this._reportFilterService.ProformaInvoiceWiseObj.SHOWITEMWISEREPORT?1:0,this.repObj.reportparam.SALESMANID=this._reportFilterService.ProformaInvoiceWiseObj.SALESMANID,this.repObj.reportparam.DATE2=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER:"%",this.repObj.reportparam.ASONDATED=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED:0,this.repObj.reportparam.DIV=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV:"%",this.repObj.reportparam.DETAILSREPORT=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT:0,this.repObj.reportparam.PROFORMAMODE=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE:0,this.repObj.reportparam.AGE=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE:0,this.repObj.reportparam.ACID=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER:"",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.DETAILSREPORT?this.repObj.reportname="Proforma Invoice Report":1==this.repObj.reportparam.DETAILSREPORT&&(this.repObj.reportname="Proforma Invoice Report_1"),this.repObj.REPORTDISPLAYNAME="Proforma Invoice Report",this._reportFilterService.ProformaInvoiceWiseObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}dblClickPopupSalesman(t){this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_SALESMAN=t.NAME,this._reportFilterService.ProformaInvoiceWiseObj.SALESMANID=t.SALESMANID}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(t){this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID=t.ACID,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER=t.CUSTNAME,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID=t.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}asOnDefaultDate(){console.log("as on date click event checked"),this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD")}dateRangeDefaultDate(){console.log("date range date click event checked"),this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD"),this.changeEntryDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,"AD")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["proformainvoicereport"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Q$,5),e.Gf(K$,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:99,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-5"],["type","radio","name","dateType","value","0",2,"margin-left","-10px",3,"ngModel","ngModelChange","click"],[2,"width","80%","margin-left","5px"],["type","radio","name","dateType","value","1",3,"ngModel","ngModelChange","click"],[2,"width","85%","margin-left","5px"],[4,"ngIf"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"display","flex"],[1,"col-sm-4"],["type","radio","value","2",3,"ngModel","ngModelChange"],[2,"width","75px","margin-left","5px"],["type","radio","value","1",3,"ngModel","ngModelChange"],["type","radio","value","0",3,"ngModel","ngModelChange"],[1,"row",2,"padding-top","5px","width","90%"],[2,"width","50%"],[2,"width","100%"],[2,"width","20%"],["type","text",1,"form-control","input-text",2,"width","100%","margin-left","-15px",3,"ngModel","ngModelChange"],[2,"width","100%","margin-left","10px"],[1,"row",2,"padding-top","10px","width","90%"],["type","checkbox",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridSalesMan",""],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Proforma Invoice Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"div",1)(17,"div",10)(18,"input",11),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED=i})("click",function(){return r.dateRangeDefaultDate()}),e.qZA(),e.TgZ(19,"label",12),e._uU(20,"Date Range Wise"),e.qZA()(),e.TgZ(21,"div",5)(22,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED=i})("click",function(){return r.asOnDefaultDate()}),e.qZA(),e.TgZ(23,"label",14),e._uU(24,"As On Date Wise Report"),e.qZA()()(),e.YNc(25,$$,21,12,"fieldset",15),e.YNc(26,X$,11,6,"fieldset",15),e.TgZ(27,"fieldset")(28,"legend",16),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV=i}),e.YNc(31,eX,2,0,"option",18),e.YNc(32,tX,2,2,"option",19),e.qZA()(),e.TgZ(33,"fieldset")(34,"legend",16),e._uU(35,"Cost Center:"),e.qZA(),e.TgZ(36,"select",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER=i}),e._UZ(37,"option",20),e.YNc(38,rX,2,2,"option",19),e.qZA()()(),e.TgZ(39,"div",21)(40,"fieldset")(41,"legend",16),e._uU(42,"Customer Selection :"),e.qZA(),e.TgZ(43,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend",16),e._uU(46,"Report Type :"),e.qZA(),e.TgZ(47,"div",1)(48,"div",23)(49,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT=i}),e.qZA(),e.TgZ(50,"label"),e._uU(51,"Summary Report"),e.qZA()(),e.TgZ(52,"div",23)(53,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT=i}),e.qZA(),e.TgZ(54,"label"),e._uU(55,"Detail Report"),e.qZA()()()(),e.TgZ(56,"fieldset")(57,"legend",16),e._uU(58,"Proforma Invoice Status :"),e.qZA(),e.TgZ(59,"div",26)(60,"div",27)(61,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=i}),e.qZA(),e.TgZ(62,"label",29),e._uU(63,"Billed"),e.qZA()(),e.TgZ(64,"div",27)(65,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=i}),e.qZA(),e.TgZ(66,"label",29),e._uU(67,"Non-Billed"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=i}),e.qZA(),e.TgZ(70,"label",29),e._uU(71,"Both"),e.qZA()()()(),e.TgZ(72,"div",32)(73,"div",33)(74,"label",34),e._uU(75,"Proforma Invoice Age >= "),e.qZA()(),e.TgZ(76,"div",35)(77,"input",36),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE=i}),e.qZA()(),e.TgZ(78,"div",35)(79,"label",37),e._uU(80,"Days"),e.qZA()()(),e.TgZ(81,"div",38)(82,"div",34)(83,"label",34),e._uU(84,"Show item-wise reports "),e.TgZ(85,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.SHOWITEMWISEREPORT=i}),e.qZA()()()(),e.TgZ(86,"fieldset")(87,"legend",16),e._uU(88,"Salesman filter :"),e.qZA(),e.TgZ(89,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_SALESMAN=i})("keydown.enter",function(){return r.salesmanEnterCommand()})("keydown.Tab",function(){return r.salesmanEnterCommand()})("keyup",function(){return r.salesmanEnterCommand()})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()()(),e.TgZ(90,"div",41)(91,"button",42),e.NdJ("click",function(){return r.onload()}),e._uU(92,"RUN"),e.qZA(),e.TgZ(93,"button",43),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(94,"Close"),e.qZA()()()()()(),e.TgZ(95,"generic-popup-grid",44,45),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(97,"generic-popup-grid",44,46),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupSalesman(i)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(3),e.Q6J("ngIf",0==r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER),e.xp6(2),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.SHOWITEMWISEREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_SALESMAN),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const oX=["genericGridCustomerPopup"],nX=["genericGridCRescurringPopup"];function aX(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function sX(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.category),e.xp6(1),e.hij(" ",t.category," ")}}let lX=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DAYS:"",DIV:"",REPORTOPTION:"",ITEM:"",ACID:"",INCLUDEPENDINGTRANSACTION:"",CATEGORY:"",CUSTOMER:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.rCategoryList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.gridPopupSettingsForCustomer=new f.im,this.gridPopupSettingsForRecurring=new f.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getRecurringCategoryList().subscribe(c=>{this.rCategoryList=c,console.log(c)});var h=this.userProfile.PhiscalYearInfo.PhiscalID;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt("7")),this._ActivatedRoute.queryParams.subscribe(o=>{"DRILL"==o.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=this._reportFilterService.drillParam.reportparam.DIVISON):(1!=this._reportFilterService.RecurringTransactionReportObj.assignPreviousValue&&(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION="0",this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=1),this.changeEntryDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,"AD"))})}daysSelection(t){let r=t.target.value;(""==r||null==r||null==r)&&(r=0),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt(r)),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.date.toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,"AD"),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1.toString(),"AD")}customerEnterCommand(t){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}getRecurringList(){this.gridPopupSettingsForRecurring={title:"Recurring Items",apiEndpoints:"/getRecurringItemPagesList",defaultFilterIndex:0,columns:[{key:"MENUCODE",title:"MENUCODE",hidden:!1,noSearch:!1},{key:"DESCA",title:"ITEM NAME",hidden:!1,noSearch:!1}]},this.genericGridCRescurringPopup.show()}itemEnterCommand1(t){this.getRecurringList()}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.masterService.toADDate(t)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}dblClickPopupParty(t){console.log("memebr list",t),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID=t.ACID,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER=t.CUSTNAME}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,this.repObj.reportparam.DIV=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY:"%",this.repObj.reportparam.ACID=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID:"%",this.repObj.reportparam.ITEM=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE:"%",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION:0,this.repObj.reportparam.INCLUDEPENDINGTRANSACTION=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION:0,this.repObj.reportparam.CUSTOMER=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER:"",""==this.repObj.reportparam.CUSTOMER&&(this.repObj.reportparam.ACID="%"),""==this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM&&(this.repObj.reportparam.ITEM="%"),console.log(this.repObj),this.repObj.reportname="Recurring Transaction Report",this.repObj.REPORTDISPLAYNAME="Recurring Transaction Report",this._reportFilterService.RecurringTransactionReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}dblClickPopupRecurring(t){console.log("Recurring Transaction List",t),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM=t.DESCA,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE=t.MCODE}showCurrentDateOnClick(){this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=(new Date).toJSON().split("T")[0]}showDateAfterWeek(){this.date=new Date,this.date.setDate(this.date.getDate()+parseInt("7")),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.date.toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0]}showFiscalStartDateOnClick(){this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=(new Date).toJSON().split("T")[0]}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["recurring-transaction-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(oX,5),e.Gf(nX,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCRescurringPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:132,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[3,"disabled"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],[2,"margin-left","3%","width","100%"],["type","number",2,"width","50px","margin-left","10px",3,"ngModel","ngModelChange","input"],[1,"col-md-4"],[2,"margin-left","-10%","white-space","nowrap"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white","margin-top","-5px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"white-space","nowrap","margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Recurring Transaction List",1,"form-control","input-text",2,"background","white","margin-top","8px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","4",3,"ngModel","ngModelChange","click","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridCRescurringPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Recurring Transaction Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset",11)(17,"legend",12),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",13)(21,"div",14)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",16),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",16),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",12),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=i}),e.TgZ(41,"option",19),e._uU(42,"ALL"),e.qZA(),e.YNc(43,aX,2,2,"option",20),e.qZA()(),e.TgZ(44,"div",21)(45,"div",22)(46,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=i})("change",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=i.target.checked?1:0}),e.qZA()(),e.TgZ(47,"div",24)(48,"label",25),e._uU(49,"Include Pending Recurring Transaction Also"),e.qZA()()()(),e.TgZ(50,"div",26)(51,"fieldset")(52,"legend",12),e._uU(53,"Days Selection :"),e.qZA(),e.TgZ(54,"div",1)(55,"div",27)(56,"label",28),e._uU(57,"Days :"),e.TgZ(58,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DAYS=i})("input",function(i){return r.daysSelection(i)}),e.qZA()()()()(),e.TgZ(59,"fieldset")(60,"legend",12),e._uU(61,"Report Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",30)(64,"label",31),e._uU(65,"Customer Selection :"),e.qZA()(),e.TgZ(66,"div",24)(67,"input",32),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",30)(70,"label",33),e._uU(71,"Recurring Transaction "),e._UZ(72,"br"),e._uU(73,"Category : "),e.qZA()(),e.TgZ(74,"div",24)(75,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY=i}),e.TgZ(76,"option",19),e._uU(77,"ALL"),e.qZA(),e.YNc(78,sX,2,2,"option",20),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",30)(81,"label",33),e._uU(82,"Recurring Transaction "),e._UZ(83,"br"),e._uU(84," Item :"),e.qZA()(),e.TgZ(85,"div",24)(86,"input",34),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM=i})("keydown.enter",function(i){return r.itemEnterCommand1(i)})("keydown.Tab",function(i){return r.itemEnterCommand1(i)})("keyup",function(i){return r.itemEnterCommand1(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()()(),e.TgZ(87,"fieldset")(88,"legend",12),e._uU(89,"Report Option :"),e.qZA(),e.TgZ(90,"div",13)(91,"div",7)(92,"div",35)(93,"div",1)(94,"div",36)(95,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showDateAfterWeek()})("change",function(){return r.showDateAfterWeek()}),e.qZA()(),e.TgZ(96,"div",38)(97,"label",39),e._uU(98,"Show Upcoming Recurring Transaction Report"),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",36)(101,"input",40),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showFiscalStartDateOnClick()})("change",function(){return r.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(102,"div",38)(103,"label",39),e._uU(104,"Show Processed Recurring Transaction Report"),e.qZA()()(),e.TgZ(105,"div",1)(106,"div",36)(107,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showFiscalStartDateOnClick()})("change",function(){return r.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(108,"div",38)(109,"label",39),e._uU(110,"Show Hold Recurring Transaction Report"),e.qZA()()(),e.TgZ(111,"div",1)(112,"div",36)(113,"input",42),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showCurrentDateOnClick()})("change",function(){return r.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(114,"div",38)(115,"label",39),e._uU(116,"Show Newly Added Recurring Transaction Report"),e.qZA()()(),e.TgZ(117,"div",1)(118,"div",36)(119,"input",43),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return r.showFiscalStartDateOnClick()})("change",function(){return r.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(120,"div",38)(121,"label",39),e._uU(122,"Show Pending Recurring Transaction Report"),e.qZA()()()()()()()()()(),e.TgZ(123,"div",44)(124,"button",45),e.NdJ("click",function(){return r.onload()}),e._uU(125,"RUN"),e.qZA(),e.TgZ(126,"button",46),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(127,"Close"),e.qZA()()()()()(),e.TgZ(128,"generic-popup-grid",47,48),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA(),e.TgZ(130,"generic-popup-grid",47,49),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupRecurring(i)}),e.qZA()),2&t&&(e.xp6(16),e.Q6J("disabled",3==r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(10),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION)("checked",1==r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION&&0==r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION)("disabled",0!=r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DAYS),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY),e.xp6(3),e.Q6J("ngForOf",r.rCategoryList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForRecurring))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const cX=["genericGridSupplierPopup"],pX=["genericGridItemPopup"];let dX=(()=>{class n{constructor(t,r,o,i,s){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this.isActive=!1,this.repObj={reportname:"",reportparam:{REPORTOPTION:"",REPORTYPE:"",RECURRINGMODE:"",CATNAME:"",ITEM:"",PHISCALID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl&&"Recurring Transaction Analysis Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=this._reportFilterService.drillParam.reportparam.REPORTOPTION,this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE=this._reportFilterService.drillParam.reportparam.RECURRINGMODE,this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE="2"):1!=this._reportFilterService.RecurringTransactionAnalysisObj.assignPreviousValue&&(this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION="0",this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE="0",this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE="0")})}onload(){this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.REPORTOPTION=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION:"",this.repObj.reportparam.REPORTYPE=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE:"",this.repObj.reportparam.RECURRINGMODE=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE:"",this.repObj.reportparam.CATNAME=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_CATNAME?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_CATNAME:"%",this.repObj.reportparam.ITEM=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_ITEM?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_ITEM:"%",0==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report":1==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report_1":2==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report_2":3==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE&&(this.repObj.reportname="Recurring Transaction Analysis Report_3"),this.repObj.REPORTDISPLAYNAME="Recurring Transaction Analysis Report",this._reportFilterService.RecurringTransactionAnalysisObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["recurring-transaction-analysis-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(cX,5),e.Gf(pX,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:94,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%","margin-bottom","1%"],[2,"width","101%"],[1,"legend-class"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"row",2,"margin-bottom","-3%","visibility","hidden"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"row",2,"width","107%"],[1,"col"],[2,"margin-left","-5%","width","165px"],[1,"form-control","input-text",2,"width","136%","margin-left","-40%",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Recurring Transaction Analysis Report "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset",10)(17,"legend",11),e._uU(18,"Report Type :"),e.qZA(),e.TgZ(19,"div",12)(20,"div",13)(21,"div",14)(22,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(23,"div",16)(24,"label",17),e._uU(25,"Recurring Transaction Category Wise Report"),e.qZA()()(),e.TgZ(26,"div",13)(27,"div",14)(28,"input",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(29,"div",16)(30,"label",17),e._uU(31,"Recurring Transaction Item Wise Report"),e.qZA()()(),e.TgZ(32,"div",13)(33,"div",14)(34,"input",19),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(35,"div",16)(36,"label",17),e._uU(37,"Customer Wise Report"),e.qZA()()(),e.TgZ(38,"div",20)(39,"div",14)(40,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(41,"div",16)(42,"label",17),e._uU(43,"Recurring Transaction Yearly Comparision Report"),e.qZA()()()()()(),e.TgZ(44,"div",5)(45,"fieldset",10)(46,"legend",11),e._uU(47,"Report Option :"),e.qZA(),e.TgZ(48,"div",12)(49,"div",13)(50,"div",14)(51,"input",22),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(52,"div",16)(53,"label",17),e._uU(54,"Show All Recurring Transaction"),e.qZA()()(),e.TgZ(55,"div",13)(56,"div",14)(57,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(58,"div",16)(59,"label",17),e._uU(60,"Show Processed Recurring Transaction Only"),e.qZA()()(),e.TgZ(61,"div",13)(62,"div",14)(63,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(64,"div",16)(65,"label",17),e._uU(66,"Show Non-Processed Recurring Transaction Only"),e.qZA()()(),e.TgZ(67,"div",13)(68,"div",14)(69,"input",25),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(70,"div",16)(71,"label",17),e._uU(72,"Show Newly Added Recurring Transaction Only"),e.qZA()()()()(),e.TgZ(73,"div",26)(74,"div",27)(75,"label",28),e._uU(76,"Recurring Transaction Mode :"),e.qZA()(),e.TgZ(77,"div",27)(78,"select",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE=i}),e.TgZ(79,"option",30),e._uU(80,"ALL"),e.qZA(),e.TgZ(81,"option",31),e._uU(82,"Each Month"),e.qZA(),e.TgZ(83,"option",32),e._uU(84,"Each 3 Months"),e.qZA(),e.TgZ(85,"option",33),e._uU(86,"Each 6 Months"),e.qZA(),e.TgZ(87,"option",34),e._uU(88,"Each Year"),e.qZA()()()()()()(),e.TgZ(89,"div",35)(90,"button",36),e.NdJ("click",function(){return r.onload()}),e._uU(91,"RUN"),e.qZA(),e.TgZ(92,"button",37),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(93,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(22),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE))},dependencies:[l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const _X=["genericGridItemPopup"],hX=["multiselectGenericGrid"];function uX(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function gX(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function mX(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function SX(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function fX(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function vX(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function OX(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE=o)}),e._UZ(6,"option",38),e.YNc(7,vX,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function bX(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"ng-multiselect-dropdown",74),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function TX(n,a){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70)(2,"label",71),e._uU(3),e.qZA()(),e.YNc(4,bX,2,4,"div",72),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function CX(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",58)(2,"div",59)(3,"div",60)(4,"h5",61),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",63),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",64)(10,"div",65),e.YNc(11,TX,5,2,"div",66),e.qZA()(),e.TgZ(12,"div",67)(13,"button",68),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",68),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let MX=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._authService=d,this._alertService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",COMID:"",DIV:"",CCENTER:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",CATEGORYNAME:"",VATMODE:"",MANUFACTURER:"%",SALESTYPE:"",REPORTOPTION:0,SHOWDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForItem=new f.im,this.multiselectPopupSettings=new se.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getManufacturerList().subscribe(c=>{c&&(this.ManufacturerList=c)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.userProfile.PhiscalYearInfo.PhiscalID;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.SalesFlowObj.assignPreviousValue&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE="100",this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2,"AD")}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER||null==this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV&&"%"==this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV)this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME="All";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV&&"%"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV);this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME="";if(this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP&&"%"==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP)this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP&&"%"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP);this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME="";if(this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE&&"100"==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP)this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME="";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE&&"100"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE);this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER?this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV?this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP?this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM?this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME?this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT:"",this.repObj.reportparam.VATMODE=this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE?this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE:"",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE:"",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION?this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL?this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL:0,this.repObj.reportparam.MANUFACTURER=this._reportFilterService.SalesFlowObj.SalesMonthWise_MANUFACTURER?this._reportFilterService.SalesFlowObj.SalesMonthWise_MANUFACTURER:"%",0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise":1==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_4":0==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS":1==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_1":2==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_2":3==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_3":4==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION&&(this.repObj.reportname="Sales Flow Report Month Wise_BS_4"),this.repObj.REPORTDISPLAYNAME="Sales Flow Report Month Wise",this._reportFilterService.SalesFlowObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),console.log("selected itemd",this.selectMultiItems),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}changeMultiSelect(t){console.log("events",t),this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE="",this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM="",this.selectMultiItems=1==t.target.checked?1:0}dblClickPopupItem(t){this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE=t.MCODE,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=t.DESCA}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE=t.MCODE,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=t.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){0==t&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="0"),1==t&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="1"),2==t&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="2"),3==t&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="3")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesFlowObj.SalesMonthWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(t){}showCurrentDateOnClick(){this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=(new Date).toJSON().split("T")[0]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e),e.Y36(I.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-flow-report-monthwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(_X,5),e.Gf(hX,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:173,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-22%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-md-1"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],["value","2"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[4,"ngIf"],[3,"value"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Flow Report - Month Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_DIV=i}),e.YNc(41,uX,2,0,"option",16),e.YNc(42,gX,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,mX,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Report Type Selection :"),e.qZA(),e.TgZ(54,"div",11)(55,"div",20)(56,"div",21)(57,"div",1)(58,"div",22)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(60,"div",24)(61,"label",25),e._uU(62,"Item Wise Report"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",22)(65,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(66,"div",24)(67,"label",25),e._uU(68,"Item Group Wise Report"),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",22)(71,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(2)}),e.qZA()(),e.TgZ(72,"div",24)(73,"label",25),e._uU(74,"Item Category Wise Report"),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",22)(77,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(3)}),e.qZA()(),e.TgZ(78,"div",24)(79,"label",25),e._uU(80,"Cost Center Wise Report"),e.qZA()()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL=i})("change",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(84,"div",32)(85,"label",33),e._uU(86,"Show Item List Also"),e.qZA()()()(),e.TgZ(87,"div",34)(88,"fieldset")(89,"legend"),e._uU(90,"Report Filter Option :"),e.qZA(),e.TgZ(91,"div",1)(92,"div",35)(93,"label",36),e._uU(94,"Item Group :"),e.qZA()(),e.TgZ(95,"div",32)(96,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP=i}),e._UZ(97,"option",19),e.YNc(98,SX,2,2,"option",17),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",35)(101,"label",36),e._uU(102,"Item Category :"),e.qZA()(),e.TgZ(103,"div",32)(104,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT=i}),e._UZ(105,"option",19),e.YNc(106,fX,2,2,"option",17),e.qZA()()(),e.YNc(107,OX,8,2,"div",37),e.TgZ(108,"div",1)(109,"div",35)(110,"label",36),e._uU(111,"Vat Mode :"),e.qZA()(),e.TgZ(112,"div",32)(113,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE=i}),e._UZ(114,"option",38),e.TgZ(115,"option",39),e._uU(116,"VATABLE ITEM"),e.qZA(),e.TgZ(117,"option",40),e._uU(118,"NON-VATABLE ITEM"),e.qZA()()()(),e.TgZ(119,"div",1)(120,"div",35)(121,"label",36),e._uU(122,"Sales Type :"),e.qZA()(),e.TgZ(123,"div",32)(124,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE=i}),e.TgZ(125,"option",40),e._uU(126,"ALL"),e.qZA(),e.TgZ(127,"option",39),e._uU(128,"RETAIL SALES"),e.qZA(),e.TgZ(129,"option",41),e._uU(130,"WHOLESALE SALES"),e.qZA()()()()(),e.TgZ(131,"fieldset")(132,"legend",10),e._uU(133,"Item Selection :"),e.qZA(),e.TgZ(134,"div",1)(135,"div",35)(136,"label",36),e._uU(137,"Item Name :"),e.qZA()(),e.TgZ(138,"div",32)(139,"input",42),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(140,"div",1)(141,"input",43),e.NdJ("ngModelChange",function(i){return r.selectMultiItems=i})("change",function(i){return r.changeMultiSelect(i)}),e.qZA(),e._uU(142," \xa0 "),e.TgZ(143,"a",44),e._uU(144," Select Multiple Items"),e.qZA()()(),e.TgZ(145,"fieldset")(146,"legend",10),e._uU(147,"Report Option :"),e.qZA(),e.TgZ(148,"div",11)(149,"div",5)(150,"div",21)(151,"div",1)(152,"div",45)(153,"input",46),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION=i})("click",function(){return r.showCurrentDateOnClick()})("change",function(){return r.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(154,"div",24)(155,"label",47),e._uU(156,"Show Report In English Date"),e.qZA()()(),e.TgZ(157,"div",1)(158,"div",45)(159,"input",48),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION=i}),e.qZA()(),e.TgZ(160,"div",24)(161,"label",47),e._uU(162,"Show Report In Nepali Date"),e.qZA()()()()()()()()()(),e.TgZ(163,"div",49)(164,"button",50),e.NdJ("click",function(){return r.onload()}),e._uU(165,"RUN"),e.qZA(),e.TgZ(166,"button",51),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(167,"Close"),e.qZA()()()()()(),e.TgZ(168,"generic-popup-grid",52,53),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(170,"multiselect-generic-grid",54,55),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.YNc(172,CX,17,1,"div",56)),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL)("disabled",0==r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE),e.xp6(15),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM),e.xp6(2),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,se.ky,ue.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const AX=["multiselectGenericGrid"],PX=["genericGridItemPopup"];function RX(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function EX(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function DX(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function IX(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function NX(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function kX(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function yX(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE=o)}),e._UZ(6,"option",38),e.YNc(7,kX,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList)}}function FX(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MANUFACTURER),e.xp6(1),e.hij("",t.MANUFACTURER," ")}}function jX(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MANUFACTURER=o)}),e._UZ(6,"option",19),e.YNc(7,FX,2,2,"option",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",t.ManufacturerList)}}let LX=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",COMID:"",DIV:"",CCENTER:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMCATEGORYWISE:0,ITEMCOSTCENTERWISE:0,ITEMNAME:"",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",CATEGORYNAME:"",VATMODE:"",PURCHASETYPE:"",REPORTOPTION:0,SHOWDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.PurchaseReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.finalParam={},this.multiselectPopupSettings=new se.oe,this.gridPopupSettingsForItem=new f.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),i.PurchaseFlowObj.PurchaseMonthWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.variantmaster=c.result)},c=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.PurchaseFlowObj.assignPreviousValue&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE="100",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP="100",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="0",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION="0"),this.changeVariant(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2,"AD")}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=this.masterService.toADDate(t)}}changeMultiSelect(t){console.log("events",t),this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE="",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM="",this.selectMultiItems=1==t.target.checked?1:0}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER||null==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV){let i=this.divisionList.filter(s=>s.Division==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME="";if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP){let i=this.ItemGroupList.filter(s=>s.MCODE==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME="";if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE&&"100"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME="";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE&&"100"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE){let i=this.PTypeList.filter(s=>s.PTYPEID==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME="";this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?"All":this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2,this.repObj.reportparam.COMID=this.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME:"",this.repObj.reportparam.VATMODE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP:"",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL:0,0==this.repObj.reportparam.ITEMGROUPWISE&&(this._reportFilterService.SalesFlowObj.PurchaseMonthWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISE&&(this._reportFilterService.SalesFlowObj.PurchaseMonthWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise":1==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_4":0==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS":1==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_1":2==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_2":3==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_3":4==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION&&(this.repObj.reportname="Purchase Flow Report Month Wise_BS_4"),this.repObj.REPORTDISPLAYNAME="Purchase Flow Report Month Wise",this._reportFilterService.PurchaseFlowObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE=t.MCODE,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE=t.MCODE,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=t.DESCA,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(t){console.log("value check value",t),0==t&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="0"),1==t&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="1"),2==t&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="2"),3==t&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="3")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showCurrentDateOnClick(){this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=(new Date).toJSON().split("T")[0]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-flow-report-monthwise"]],viewQuery:function(t,r){if(1&t&&(e.Gf(AX,5),e.Gf(PX,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:173,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-22%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Flow Report - Month Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV=i}),e.YNc(41,RX,2,0,"option",16),e.YNc(42,EX,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,DX,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Report Type Selection :"),e.qZA(),e.TgZ(54,"div",11)(55,"div",20)(56,"div",21)(57,"div",1)(58,"div",22)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(60,"div",24)(61,"label",25),e._uU(62,"Item Wise Report"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",22)(65,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(66,"div",24)(67,"label",25),e._uU(68,"Item Group Wise Report"),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",22)(71,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(2)}),e.qZA()(),e.TgZ(72,"div",24)(73,"label",25),e._uU(74,"Item Category Wise Report"),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",22)(77,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return r.checkValue(3)}),e.qZA()(),e.TgZ(78,"div",24)(79,"label",25),e._uU(80,"Cost Center Wise Report"),e.qZA()()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL=i})("change",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(84,"div",32)(85,"label",33),e._uU(86,"Show Item List Also"),e.qZA()()()(),e.TgZ(87,"div",34)(88,"fieldset")(89,"legend"),e._uU(90,"Report Filter Option :"),e.qZA(),e.TgZ(91,"div",1)(92,"div",35)(93,"label",36),e._uU(94,"Item Group :"),e.qZA()(),e.TgZ(95,"div",32)(96,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP=i}),e._UZ(97,"option",19),e.YNc(98,IX,2,2,"option",17),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",35)(101,"label",36),e._uU(102,"Item Category :"),e.qZA()(),e.TgZ(103,"div",32)(104,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT=i}),e._UZ(105,"option",19),e.YNc(106,NX,2,2,"option",17),e.qZA()()(),e.YNc(107,yX,8,2,"div",37),e.YNc(108,jX,8,2,"div",37),e.TgZ(109,"div",1)(110,"div",35)(111,"label",36),e._uU(112,"Vat Mode :"),e.qZA()(),e.TgZ(113,"div",32)(114,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE=i}),e._UZ(115,"option",38),e.TgZ(116,"option",39),e._uU(117,"VATABLE ITEM"),e.qZA(),e.TgZ(118,"option",40),e._uU(119,"NON-VATABLE ITEM"),e.qZA()()()(),e.TgZ(120,"div",1)(121,"div",35)(122,"label",36),e._uU(123,"Purchase Type :"),e.qZA()(),e.TgZ(124,"div",32)(125,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP=i}),e.TgZ(126,"option",38),e._uU(127,"ALL"),e.qZA(),e.TgZ(128,"option",39),e._uU(129,"IMPORT PURCHASE"),e.qZA(),e.TgZ(130,"option",40),e._uU(131,"LOCAL PURCHASE"),e.qZA()()()()(),e.TgZ(132,"fieldset")(133,"legend",10),e._uU(134,"Item Selection :"),e.qZA(),e.TgZ(135,"div",1)(136,"div",35)(137,"label",36),e._uU(138,"Item Name :"),e.qZA()(),e.TgZ(139,"div",32)(140,"input",41),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(141,"div",1)(142,"input",42),e.NdJ("ngModelChange",function(i){return r.selectMultiItems=i})("change",function(i){return r.changeMultiSelect(i)}),e.qZA(),e._uU(143," \xa0 "),e.TgZ(144,"a",43),e._uU(145," Select Multiple Items"),e.qZA()()(),e.TgZ(146,"fieldset")(147,"legend",10),e._uU(148,"Report Option :"),e.qZA(),e.TgZ(149,"div",11)(150,"div",5)(151,"div",21)(152,"div",1)(153,"div",44)(154,"input",45),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION=i})("click",function(){return r.showCurrentDateOnClick()})("change",function(){return r.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(155,"div",24)(156,"label",46),e._uU(157,"Show Report In English Date"),e.qZA()()(),e.TgZ(158,"div",1)(159,"div",44)(160,"input",47),e.NdJ("ngModelChange",function(i){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION=i}),e.qZA()(),e.TgZ(161,"div",24)(162,"label",46),e._uU(163,"Show Report In Nepali Date"),e.qZA()()()()()()()()()(),e.TgZ(164,"div",48)(165,"button",49),e.NdJ("click",function(){return r.onload()}),e._uU(166,"RUN"),e.qZA(),e.TgZ(167,"button",50),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(168,"Close"),e.qZA()()()()()(),e.TgZ(169,"generic-popup-grid",51,52),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(171,"multiselect-generic-grid",53,54),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL)("disabled",0==r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP),e.xp6(15),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM),e.xp6(2),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,f.Zl,D.v,se.ky],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const wX=["division"];function xX(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function VX(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION=o)}),e.TgZ(4,"option",39),e._uU(5,"ALL"),e.qZA(),e.YNc(6,xX,2,2,"option",40),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION),e.xp6(3),e.Q6J("ngForOf",t.divisionList)}}function WX(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngValue",t.monthlyOrYearlyFormatValue),e.xp6(1),e.hij(" ",t.monthlyOrYearlyFormatName," ")}}let ZX=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",REPORTOPTION:"",PHISCALID:"",MONTHLY:0,DATEMODE:0,INCLUDEACBASECNDN:0},REPORTDISPLAYNAME:""},this.monthlyOrYearlyFormatList=[{monthlyOrYearlyFormatName:"Yearly",monthlyOrYearlyFormatValue:0},{monthlyOrYearlyFormatName:"Monthly",monthlyOrYearlyFormatValue:1}],this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.AppMode=ae.N.appMode,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.Annexure13ReportObj.assignPreviousValue&&(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.AccoutLedgerObj.Annexure13_REPORTOPTION="0",this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY=0,this._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE="0"),this.changeEntryDate(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1,"AD"),this.changeEndDate(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2,"AD")})}changeEntryDate(t,r){"AD"==r&&(this._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1=this.masterService.toBSDate(t))}changeEndDate(t,r){if("AD"==r)this._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=this.masterService.toADDate(t)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION?this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION:"%",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION?this._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION:0,this.repObj.reportparam.MONTHLY=this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY?this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY:0,this.repObj.reportparam.DATEMODE=this._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE?this._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE:0,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.INCLUDEACBASECNDN=this._reportFilterService.Annexure13ReportObj.Annexure13_INCLUDEACBASECNDN?this._reportFilterService.Annexure13ReportObj.Annexure13_INCLUDEACBASECNDN:0,console.log(this.repObj),this.repObj.reportname="Annexure 13 Report",this.repObj.reportname=0===this.repObj.reportparam.MONTHLY?"Annexure 13 Report":"Annexure 13 Report-Monthly",this.repObj.REPORTDISPLAYNAME="Annexure 13 Report",this._reportFilterService.Annexure13ReportObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["annexure13report"]],viewQuery:function(t,r){if(1&t&&e.Gf(wX,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:97,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","dateMODE","value","0",3,"ngModel","ngModelChange"],["type","radio","name","dateMODE","value","1",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngValue"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Annexure 13 Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,VX,7,2,"fieldset",17),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Monthly Or Yearly Selection:"),e.qZA(),e.TgZ(41,"select",18),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY=i}),e.YNc(42,WX,2,2,"option",19),e.qZA()()(),e.TgZ(43,"div",20)(44,"fieldset")(45,"legend",11),e._uU(46,"Report Option :"),e.qZA(),e.TgZ(47,"div",12)(48,"div",7)(49,"div",21)(50,"div",1)(51,"div",22)(52,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(53,"div",24)(54,"label",25),e._uU(55,"Show All "),e.qZA()()(),e.TgZ(56,"div",1)(57,"div",22)(58,"input",26),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(59,"div",24)(60,"label",25),e._uU(61,"Show Sales Transaction Only"),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",22)(64,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(65,"div",24)(66,"label",25),e._uU(67,"Show Purchase Transaction - Others Only"),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",22)(70,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(71,"div",24)(72,"label",25),e._uU(73,"Show Purchase Transaction - Capital Ony"),e.qZA()()()()()()(),e.TgZ(74,"fieldset")(75,"legend"),e._uU(76,"Date Mode "),e.qZA(),e.TgZ(77,"div",1)(78,"div",7)(79,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE=i}),e.qZA(),e.TgZ(80,"label",25),e._uU(81,"Entry Date Wise"),e.qZA()(),e.TgZ(82,"div",7)(83,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE=i}),e.qZA(),e.TgZ(84,"label",25),e._uU(85,"Invoice Date Wise"),e.qZA()()()(),e.TgZ(86,"div",31)(87,"div",32)(88,"input",33),e.NdJ("ngModelChange",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_INCLUDEACBASECNDN=i})("change",function(i){return r._reportFilterService.Annexure13ReportObj.Annexure13_INCLUDEACBASECNDN=i.target.checked?1:0}),e.qZA()(),e.TgZ(89,"div",34)(90,"label",35),e._uU(91,"Include AC based DN/CN"),e.qZA()()()()()(),e.TgZ(92,"div",36)(93,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(94,"RUN"),e.qZA(),e.TgZ(95,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(96,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY),e.xp6(1),e.Q6J("ngForOf",r.monthlyOrYearlyFormatList),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_INCLUDEACBASECNDN)("checked",1==r._reportFilterService.Annexure13ReportObj.Annexure13_INCLUDEACBASECNDN))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const HX=["genericGridItemPopup"],UX=["multiselectGenericGrid"],zX=["genericGridSupplierPopup"];function BX(n,a){1&n&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function qX(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function YX(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function JX(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function GX(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}function QX(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"ng-multiselect-dropdown",65),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",t.VARIANTVALUES)("ngModel",t.SELECTEDMCAT)}}function KX(n,a){if(1&n&&(e.TgZ(0,"div",60)(1,"div",61)(2,"label",62),e._uU(3),e.qZA()(),e.YNc(4,QX,2,4,"div",63),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.hij("",null==t?null:t.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",t.VARIANTVALUES.length)}}function $X(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",49)(2,"div",50)(3,"div",51)(4,"h5",52),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",54),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",55)(10,"div",56),e.YNc(11,KX,5,2,"div",57),e.qZA()(),e.TgZ(12,"div",58)(13,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.categorywiseConfigurationdetails)}}let XX=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=s,this.arouter=p,this._ActivatedRoute=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MGROUP:"%",MCAT:"%",PTYPE:100,SUPCODE:"%",SHOWGROUPING:0,VATMODE:100,WORSTQTY:0,SALESTYPE:0,SUPPLIERNAME:"",IGNOREZEROQTY:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.gridPopupSettingsForItem=new f.im,this.multiselectPopupSettings=new se.oe,this.gridPopupSettingsForSupplier=new f.im,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.showVariantPopup=!1,this.variantparamters2={},this.finalParam={},this.userSetting=_.getSetting(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION=this._transactionService.userProfile.userDivision)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(c=>{c.result&&c.result.length&&(this.categorywiseConfigurationdetails=c.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let S=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof S&&S&&S.length?S:[]}}))},c=>{});var h=this.masterService.PhiscalObj.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.WorstSalesObj.assignPreviousValue&&(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP="%",this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT="%",this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE=100,this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE=100,this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME="",this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE="",this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=0),this.changeEntryDate(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1,"AD"),this.changeEndDate(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=this.masterService.toADDate(t)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION?this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP?this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT?this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE?this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE:100,this.repObj.reportparam.VATMODE=this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE?this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE:100,this.repObj.reportparam.SALESTYPE=this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE?this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE:0,this.repObj.reportparam.SUPCODE=this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE?this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE:"%",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING?this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING:0,this.repObj.reportparam.WORSTQTY=this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY?this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME?this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME:"",this.repObj.reportparam.IGNOREZEROQTY=this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY?this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY:0,""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Worst Sales Analysis Report",this.repObj.REPORTDISPLAYNAME="Worst Sales Analysis Report",this._reportFilterService.WorstSalesObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(t){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(t){console.log("on multii item select",t),this._reportFilterService.WorstSalesObj.StockLedger_MCODE=t.MCODE,this._reportFilterService.WorstSalesObj.StockLedger_ITEM=t.DESCA}dblClickPopupItem(t){this._reportFilterService.WorstSalesObj.StockLedger_MCODE=t.MCODE,this._reportFilterService.WorstSalesObj.StockLedger_ITEM=t.DESCA,this._reportFilterService.WorstSalesObj.StockLedger_MENUCODE=t.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}changeVariant(t){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==t){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.WorstSalesObj.StockLedger_VARIANT=t):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==t){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(t){console.log("show variant filter",t.target.checked),1==t.target.checked?(this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let t="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{r.push(i.VARIANTNAME)}),this.abc.forEach(i=>{t="",r.forEach(s=>{i.VARIANTNAME==s&&i.SELECTEDMCAT.forEach(p=>{t+=`${p.NAME},`,this.finalParam[s]=t})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}supplierEnter(t){this.getCustomerList(),this.genericGridSupplierPopup.show()}getCustomerList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(t){this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE=t.ACID,this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME=t.ACNAME}changeWorstqty(t){console.log("event",t.target.value),(t.target.value<1||null==t.target.value||null==t.target.value||""==t.target.value)&&(this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["worsesales-analysisreport"]],viewQuery:function(t,r){if(1&t&&(e.Gf(HX,5),e.Gf(UX,5),e.Gf(zX,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:129,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"font-size","13px","width","100%","margin-top","0%","font-weight","500"],[1,"col-sm-6"],["type","number",2,"position","relative","top","9px","height","2rem","width","12rem",3,"ngModel","ngModelChange","change"],[1,"row","checkbox",2,"padding-top","5px","margin-top","14px"],[1,"col-sm-1"],["type","checkbox",2,"width","1rem",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","13px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","%"],["value","100"],["value","1"],["value","0"],["value","2"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keypress","keydown.Enter","keydown.Tab"],[1,"row","checkbox",2,"padding-top","5px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[4,"ngIf"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],["genericGridSupplierPopup",""],[3,"value"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Worse Sales Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION=i}),e.YNc(41,BX,2,0,"option",16),e.YNc(42,qX,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",1)(44,"div",5)(45,"label",18),e._uU(46,"Show Report of item having sales Qty less than Equal to:"),e.qZA()(),e.TgZ(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY=i})("change",function(i){return r.changeWorstqty(i)}),e.qZA()()(),e.TgZ(49,"div",21)(50,"div",22)(51,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=i})("change",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=i.target.checked?1:0}),e.qZA()(),e.TgZ(52,"div",24)(53,"label",25),e._uU(54,"Exclude Zero Quantity "),e.qZA()()()(),e.TgZ(55,"div",26)(56,"fieldset")(57,"legend"),e._uU(58,"Report Filter Option :"),e.qZA(),e.TgZ(59,"div",8)(60,"div",27)(61,"label",28),e._uU(62,"Item Group :"),e.qZA()(),e.TgZ(63,"div",24)(64,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP=i}),e._UZ(65,"option",29),e.YNc(66,YX,2,2,"option",17),e.qZA()()(),e.TgZ(67,"div",1)(68,"div",27)(69,"label",28),e._uU(70,"Item Category :"),e.qZA()(),e.TgZ(71,"div",24)(72,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT=i}),e._UZ(73,"option",29),e.YNc(74,JX,2,2,"option",17),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",27)(77,"label",28),e._uU(78,"Item Type :"),e.qZA()(),e.TgZ(79,"div",24)(80,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE=i}),e._UZ(81,"option",30),e.YNc(82,GX,2,2,"option",17),e.qZA()()(),e.TgZ(83,"div",1)(84,"div",27)(85,"label",28),e._uU(86,"Vat Mode :"),e.qZA()(),e.TgZ(87,"div",24)(88,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE=i}),e._UZ(89,"option",30),e.TgZ(90,"option",31),e._uU(91,"VATABLE "),e.qZA(),e.TgZ(92,"option",32),e._uU(93,"NON VATABLE "),e.qZA()()()(),e.TgZ(94,"div",1)(95,"div",27)(96,"label",28),e._uU(97,"Sales type :"),e.qZA()(),e.TgZ(98,"div",24)(99,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE=i}),e._UZ(100,"option",32),e.TgZ(101,"option",31),e._uU(102,"Retail only "),e.qZA(),e.TgZ(103,"option",33),e._uU(104,"Wholesale only "),e.qZA()()()(),e.TgZ(105,"div",34)(106,"div",27)(107,"label",28),e._uU(108,"Supplier Name :"),e.qZA()(),e.TgZ(109,"div",24)(110,"input",35),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME=i})("keypress",function(i){return r.keyPress(i)})("keydown.Enter",function(i){return r.supplierEnter(i)})("keydown.Tab",function(i){return r.supplierEnter(i)}),e.qZA()()()(),e.TgZ(111,"div",36)(112,"div",22)(113,"input",37),e.NdJ("ngModelChange",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=i})("change",function(i){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(114,"div",24)(115,"label",38),e._uU(116,"Show Item Grouping Hierarchy"),e.qZA()()()()()(),e.TgZ(117,"div",39)(118,"button",40),e.NdJ("click",function(){return r.onload()}),e._uU(119,"RUN"),e.qZA(),e.TgZ(120,"button",41),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(121,"Close"),e.qZA()()()()()(),e.YNc(122,$X,17,1,"div",42),e.TgZ(123,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(125,"multiselect-generic-grid",45,46),e.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),e.qZA(),e.TgZ(127,"generic-popup-grid",43,47),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY)("checked",1==r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY)("disabled",r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY<=0||null==r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING)("checked",1==r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING),e.xp6(9),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.On,f.Zl,D.v,se.ky,ue.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const eee=["genericGridItemPopup"],tee=["genericGridSupplierPopup"];function ree(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function iee(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}function oee(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.CCID),e.xp6(1),e.hij("",t.COSTCENTERNAME," ")}}function nee(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MCODE),e.xp6(1),e.hij("",t.DESCA," ")}}function aee(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.MENUCAT),e.xp6(1),e.hij("",t.MENUCAT," ")}}function see(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.PTYPEID),e.xp6(1),e.hij("",t.PTYPENAME," ")}}let lee=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._alertService=i,this._reportFilterService=s,this.arouter=p,this._ActivatedRoute=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORTTYPE:0,MCODE:"%",ITEMGROUP:"%",ITEMCAT:"%",ITEMTYPE:0,SUPPLIER:"%",SUPPLIERNAME:"",TOPNMODE:0,TOPNRANGE:0,VATMODE:100,SALESTYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.gridPopupSettingsForItem=new f.im,this.gridPopupSettingsForSupplier=new f.im,this.userSetting=_.getSetting(),this.masterService.getAllCostCenter().subscribe(c=>{this.costCenterList=c&&c||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c,this._reportFilterService.previouslyLoadedReportList?.some(S=>S.activeurlpath==this.arouter.url)||(this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)});var h=this.masterService.PhiscalObj.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(console.log("ng on init"),1!=this._reportFilterService.TopNSalesObj.assignPreviousValue&&(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE="0",this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE=100,this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME="",this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE="",this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE="0",this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE=0,this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE=100,this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE=0),this.changeEntryDate(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1,"AD"),this.changeEndDate(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2,"AD"))})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=this.masterService.toADDate(t)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER||null==this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER?this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV?this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE:"%",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP?this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP:"%",this.repObj.reportparam.ITEMCAT=this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT?this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT:"%",this.repObj.reportparam.ITEMTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE:0,this.repObj.reportparam.VATMODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE:100,this.repObj.reportparam.SALESTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE:0,this.repObj.reportparam.SUPPLIER=this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE:"%",this.repObj.reportparam.TOPNMODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE:0,this.repObj.reportparam.TOPNRANGE=this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE?this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME?this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME:"",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE:0,""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPPLIER="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Top N Sales Analysis Report":1==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Top N Sales Analysis Report_1":2==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Top N Sales Analysis Report_2"),this.repObj.REPORTDISPLAYNAME="Top N Sales Analysis Report",this._reportFilterService.TopNSalesObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}supplierEnter(t){this.getCustomerList(),this.genericGridSupplierPopup.show()}getCustomerList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(t){this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE=t.ACID,this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME=t.ACNAME}onMultiSelect(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(I.c),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["topsales-analysisreport"]],viewQuery:function(t,r){if(1&t&&(e.Gf(eee,5),e.Gf(tee,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:146,vars:33,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[2,"margin-left","4%"],["type","radio","name","topNmode","value","0",3,"ngModel","ngModelChange"],[2,"width","85%"],["type","radio","name","topNmode","value","1",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"font-size","13px","width","100%","margin-top","0%","font-weight","500"],[1,"col-sm-6"],["type","number",2,"width","10rem",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],[1,"col"],["value","100"],["value","1"],["value","0"],["value","2"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keypress","keydown.Enter","keydown.Tab"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Top N Sales Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_DIV=i}),e.YNc(41,ree,2,0,"option",16),e.YNc(42,iee,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,oee,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Top N Mode:"),e.qZA(),e.TgZ(54,"div",20)(55,"input",21),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE=i}),e.qZA(),e.TgZ(56,"label",22),e._uU(57,"As per Sales Qty"),e.qZA()(),e.TgZ(58,"div",20)(59,"input",23),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE=i}),e.qZA(),e.TgZ(60,"label",22),e._uU(61,"As per Sales Value"),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",24)(64,"label",25),e._uU(65,"Top N Range:"),e.qZA()(),e.TgZ(66,"div",26)(67,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE=i}),e.qZA()()()(),e.TgZ(68,"div",28)(69,"fieldset")(70,"legend",10),e._uU(71,"Report Type Selection:"),e.qZA(),e.TgZ(72,"div",20)(73,"input",29),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=i}),e.qZA(),e.TgZ(74,"label",22),e._uU(75,"Item Wise Stock Report"),e.qZA()(),e.TgZ(76,"div",20)(77,"input",30),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=i}),e.qZA(),e.TgZ(78,"label",22),e._uU(79,"Item Group Wise Stock Report"),e.qZA()(),e.TgZ(80,"div",20)(81,"input",31),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=i}),e.qZA(),e.TgZ(82,"label",22),e._uU(83,"Item Category Wise Stock Report"),e.qZA()()(),e.TgZ(84,"fieldset")(85,"legend"),e._uU(86,"Report Filter Option :"),e.qZA(),e.TgZ(87,"div",8)(88,"div",24)(89,"label",32),e._uU(90,"Item Group :"),e.qZA()(),e.TgZ(91,"div",33)(92,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP=i}),e._UZ(93,"option",19),e.YNc(94,nee,2,2,"option",17),e.qZA()()(),e.TgZ(95,"div",1)(96,"div",24)(97,"label",32),e._uU(98,"Item Category :"),e.qZA()(),e.TgZ(99,"div",33)(100,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT=i}),e._UZ(101,"option",19),e.YNc(102,aee,2,2,"option",17),e.qZA()()(),e.TgZ(103,"div",1)(104,"div",24)(105,"label",32),e._uU(106,"Item Type :"),e.qZA()(),e.TgZ(107,"div",33)(108,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE=i}),e._UZ(109,"option",34),e.YNc(110,see,2,2,"option",17),e.qZA()()(),e.TgZ(111,"div",1)(112,"div",24)(113,"label",32),e._uU(114,"Vat Mode :"),e.qZA()(),e.TgZ(115,"div",33)(116,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE=i}),e._UZ(117,"option",34),e.TgZ(118,"option",35),e._uU(119,"VATABLE "),e.qZA(),e.TgZ(120,"option",36),e._uU(121,"NON VATABLE "),e.qZA()()()(),e.TgZ(122,"div",1)(123,"div",24)(124,"label",32),e._uU(125,"Sales type :"),e.qZA()(),e.TgZ(126,"div",33)(127,"select",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE=i}),e._UZ(128,"option",36),e.TgZ(129,"option",35),e._uU(130,"Retail only "),e.qZA(),e.TgZ(131,"option",37),e._uU(132,"Wholesale only "),e.qZA()()()(),e.TgZ(133,"div",38)(134,"div",24)(135,"label",32),e._uU(136,"Supplier Name :"),e.qZA()(),e.TgZ(137,"div",33)(138,"input",39),e.NdJ("ngModelChange",function(i){return r._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME=i})("keypress",function(i){return r.keyPress(i)})("keydown.Enter",function(i){return r.supplierEnter(i)})("keydown.Tab",function(i){return r.supplierEnter(i)}),e.qZA()()()()()()(),e.TgZ(139,"div",40)(140,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(141,"RUN"),e.qZA(),e.TgZ(142,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(143,"Close"),e.qZA()()()()()(),e.TgZ(144,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l._,l.JJ,l.On,f.Zl,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),cee=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[it.c],imports:[u.ez,lo.xc]}),n})();var pee=v(47766);const dee=["division"];function _ee(n,a){if(1&n&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.Division),e.xp6(1),e.hij(" ",t.NAME," ")}}let hee=(()=>{class n{constructor(t,r,o,i,s,p,d,_){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",REPORTMODE:"",PHISCALID:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.SalesRevenueMetricsObj.assignPreviousValue&&(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION=this.masterService.PhiscalObj.Div,this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE="0"),this.changeEntryDate(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2,"AD")})}changeEntryDate(t,r){"AD"==r&&(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1=this.masterService.toBSDate(t))}changeEndDate(t,r){if("AD"==r)this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=this.masterService.toADDate(t)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION?this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION:"%",this.repObj.reportparam.REPORTMODE=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE?this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE:0,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,console.log(this.repObj),this.repObj.reportname="Sales Revenue Metrics Report",this.repObj.REPORTDISPLAYNAME="Sales Revenue Metrics Report",this._reportFilterService.SalesRevenueMetricsObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-revenue-metrics-report"]],viewQuery:function(t,r){if(1&t&&e.Gf(dee,5),2&t){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:74,vars:15,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff","width","50vw"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportMode","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportMode","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportMode","value","2",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Revenue Metrics Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",11),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION=i}),e.TgZ(41,"option",18),e._uU(42,"ALL"),e.qZA(),e.YNc(43,_ee,2,2,"option",19),e.qZA()()(),e.TgZ(44,"div",20)(45,"fieldset")(46,"legend",11),e._uU(47,"Report Mode :"),e.qZA(),e.TgZ(48,"div",12)(49,"div",21)(50,"div",22)(51,"div",1)(52,"div",23)(53,"input",24),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=i}),e.qZA()(),e.TgZ(54,"div",25)(55,"label",26),e._uU(56,"Daily "),e.qZA()()(),e.TgZ(57,"div",1)(58,"div",23)(59,"input",27),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=i}),e.qZA()(),e.TgZ(60,"div",25)(61,"label",26),e._uU(62,"Weekly"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",23)(65,"input",28),e.NdJ("ngModelChange",function(i){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=i}),e.qZA()(),e.TgZ(66,"div",25)(67,"label",26),e._uU(68,"Monthly"),e.qZA()()()()()()()()()(),e.TgZ(69,"div",29)(70,"button",30),e.NdJ("click",function(){return r.onload()}),e._uU(71,"RUN"),e.qZA(),e.TgZ(72,"button",31),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(73,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l._,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),uee=(()=>{class n{constructor(t,r,o,i,s,p,d){this.masterService=t,this._transactionService=r,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=s,this._alertService=p,this._authService=d,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1=this.currDate,this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE2=this.currDate,this._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1=this.masterService.toBSDate(this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1),this._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE2=this.masterService.toBSDate(this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE2)}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE2,this.repObj.reportname="Hourly Sales Report",this.repObj.REPORTDISPLAYNAME="Hourly Sales Report",this.reportdataEmit.emit({status:"ok",data:this.repObj})}changeEntryDate(t,r){if("AD"==r)this._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1=this.masterService.toADDate(t)}}changeEndDate(t,r){if("AD"==r)this._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE2=this.masterService.toBSDate(t);else if("BS"==r){var o=this.masterService.toADDate(t);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Fiscal Year !");this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE2=this.masterService.toADDate(t)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-hourly-sales-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:47,vars:12,consts:[[1,"container",2,"width","690px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row","m-2","p-2"],[1,"fieldset-css"],[1,"legend-class","row"],[1,"row","mb-2","pl-2"],[1,"input"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],[1,"row","pl-2"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateTo",3,"id","label","ngModel","change","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Hourly Sales Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"fieldset",9)(15,"legend",10),e._uU(16,"Date Selection : "),e.qZA(),e.TgZ(17,"div",1)(18,"div",5)(19,"p"),e._uU(20,"FROM"),e.qZA(),e.TgZ(21,"div",11)(22,"label"),e._uU(23," AD: "),e.qZA(),e.TgZ(24,"div",12)(25,"input",13),e.NdJ("ngModelChange",function(i){return r._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1=i})("change",function(i){return r.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(26,"div",14)(27,"label"),e._uU(28,"BS: "),e.qZA(),e.TgZ(29,"nepali-date-picker",15),e.NdJ("change",function(i){return r.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1=i}),e.qZA()()(),e.TgZ(30,"div",5)(31,"p"),e._uU(32,"TO"),e.qZA(),e.TgZ(33,"div",11)(34,"label"),e._uU(35," AD: "),e.qZA(),e.TgZ(36,"div",12)(37,"input",16),e.NdJ("ngModelChange",function(i){return r._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE2=i})("change",function(i){return r.changeEndDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(38,"div",14)(39,"label"),e._uU(40,"BS: "),e.qZA(),e.TgZ(41,"nepali-date-picker",17),e.NdJ("change",function(i){return r.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return r._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(42,"div",18)(43,"button",19),e.NdJ("click",function(){return r.onload()}),e._uU(44,"RUN"),e.qZA(),e.TgZ(45,"button",20),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(46,"Close"),e.qZA()()()()()()),2&t&&(e.xp6(25),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1),e.xp6(4),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1),e.xp6(8),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE2),e.xp6(4),e.Q6J("id","nepaliDateTo")("label","From")("ngModel",r._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE2))},dependencies:[l.Fj,l.JJ,l.On,D.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}","label[_ngcontent-%COMP%]{\n        width: 50px;\n    }\n\n    .input[_ngcontent-%COMP%]{\n        width: 160px;\n        .date-input{\n            height: 25px !important;\n        }\n    }\n\n    hr[_ngcontent-%COMP%]{\n        margin-top: 5px;\n    }\n    .fieldset-css[_ngcontent-%COMP%]{\n        width : -webkit-fill-available;\n\n    }"]}),n})();var C3=v(26310);const gee=["multiselectGenericGrid"],mee=["reportPopup"],See=["genericGridSupplierPopup"],fee=["genericGridItemPopup"];let vee=(()=>{class n{constructor(t,r,o,i,s,p,d,_,h){this.masterService=t,this._transactionService=r,this.fb=o,this._reportFilterService=i,this.arouter=s,this._ActivatedRoute=p,this._alertService=d,this._authService=_,this.brandService=h,this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{MCODE:"%",SUPCODE:"%",PHISCALID:"",DEPT:"",ITEMNAME:"",SUPPLIERNAME:"",ACID:"",DEPTNAME:""},REPORTDISPLAYNAME:""},this.ReportParameters={},this.divisionList=[],this.DeptList=[],this.selectMultiItems=0,this.resultList=[],this.multiselectPopupSettings=new se.oe,this.gridPopupSettingsForSupplier=new f.im,this.gridPopupSettingsForItem=new f.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile();var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.masterService.getDepartmentList().subscribe(g=>{g&&(this.DeptList=g,console.log("deptlist",g,this.DeptList))})}ngOnInit(){const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.MCODE=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE:"%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER:"",this.repObj.reportparam.DEPT=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT:"",this.repObj.reportparam.DEPTNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),""==this.repObj.reportparam.DEPTNAME&&(this.repObj.reportparam.DEPT="%"),this.repObj.reportname="REQUISITION APPROVAL REPORT",this.repObj.REPORTDISPLAYNAME="Requisition Approval Report",this._reportFilterService.RequisitionApprovalObj.assignPreviousValue=!0;let r,t=this.arouter.url.split("/");t&&t.length&&(r=t[t.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}ItemEnterCommand(t){this.getItemList(),this.genericGridItemPopup.show()}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}dblClickPopupItem(t){this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE=t.MCODE,this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM=t.DESCA}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(t){this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE=t.ACID,this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER=t.ACNAME}selectedValue(t){console.log("selectedValueEvent",t),this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT=t.DepartmentName}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.P),e.Y36(C.p),e.Y36(l.qu),e.Y36(R),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.c),e.Y36(E.e),e.Y36(it.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["requisition-approval-report"]],viewQuery:function(t,r){if(1&t&&(e.Gf(gee,5),e.Gf(mee,5),e.Gf(See,5),e.Gf(fee,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:40,vars:8,consts:[[1,"container",2,"width","690px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header",2,"border","0px","padding-top","20px"],[1,"col-md-10"],[1,"modal-title"],[1,"col-md-2"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"form-wrapper",2,"padding","17px"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"Requisition Approval Report"),e.qZA()(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(10,"\xd7"),e.qZA()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Item Name:"),e.qZA()(),e.TgZ(17,"div",14)(18,"input",15),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM=i})("keydown.enter",function(i){return r.ItemEnterCommand(i)})("keydown.Tab",function(i){return r.ItemEnterCommand(i)})("keyup",function(i){return r.ItemEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(19,"div",1)(20,"div",12)(21,"label",16),e._uU(22,"Supplier Name:"),e.qZA()(),e.TgZ(23,"div",14)(24,"input",17),e.NdJ("ngModelChange",function(i){return r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER=i})("keydown.enter",function(i){return r.customerEnterCommand(i)})("keydown.Tab",function(i){return r.customerEnterCommand(i)})("keyup",function(i){return r.customerEnterCommand(i)})("keypress",function(i){return r.keyPress(i)}),e.qZA()()(),e.TgZ(25,"div",1)(26,"div",12)(27,"label",13),e._uU(28,"Department Name:"),e.qZA()(),e.TgZ(29,"div",18)(30,"app-simple-suggest",19),e.NdJ("selectOption",function(i){return r.selectedValue(i)})("ngModelChange",function(i){return r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT=i})("change",function(i){return r.selectedValue(i)}),e.qZA()()()()(),e.TgZ(31,"div",20)(32,"button",21),e.NdJ("click",function(){return r.onload()}),e._uU(33,"RUN"),e.qZA(),e.TgZ(34,"button",22),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(35,"Close"),e.qZA()()()()()(),e.TgZ(36,"generic-popup-grid",23,24),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupItem(i)}),e.qZA(),e.TgZ(38,"generic-popup-grid",23,25),e.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("ngModel",r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER),e.xp6(6),e.Q6J("options",r.DeptList)("labelKey","DepartmentName")("valueKey","DepartmentName")("ngModel",r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[l.Fj,l.JJ,l.On,f.Zl,rt.c],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}","input[_ngcontent-%COMP%]{\n        font-size: 13px !important;\n    }\n    select[_ngcontent-%COMP%]{\n        font-size: 13px !important;\n\n    }\n    label[_ngcontent-%COMP%] {\n    width: auto !important;\n    margin: 2px;\n    font-size: 13px !important;\n    padding-top: 0 !important;\n}\n.form-wrapper[_ngcontent-%COMP%]{\n    padding: 10px;\n}"]}),n})(),Oee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[T.C,C.p,R,{provide:Te.TP,useClass:C3.zu,multi:!0},{provide:Te.TP,useClass:C3.aQ,multi:!0}],imports:[$V,Qe.zk.forRoot(),We.JX,HW.m,Ae.n1.forRoot(),G.Is,l.u5,l.UX,rB._.forRoot(),UY.AngularMultiSelectModule,YY.J,R$.i.forRoot(),cee.forRoot(),pee.e,ue.Z,Qw,ox,g3,u3,h3,_3,Bt.Jo,J4]}),n})();e.B6R(po,function(){return[u.O5,rW,nW,tW,lW,dW,_W,gW,fW,bW,MW,RW,IW,yW,LW,wW,xW,ZW,BW,JW,KW,eZ,rZ,oZ,bZ,yZ,ZZ,jz,XZ,EH,MX,WH,vU,FU,GU,$H,oz,fz,Rz,xz,tB,qz,yB,vee,rq,_q,mq,fq,Cq,kq,Uq,tY,hY,AY,HY,qY,_J,fJ,AJ,FJ,ZJ,YJ,lG,mG,bG,FG,WG,lX,nQ,uQ,bQ,tK,RQ,FQ,ZQ,JQ,pK,RK,LK,UK,GK,t$,ZX,a$,d$,b$,S$,P$,k$,w$,U$,G$,iX,dX,LX,XX,lee,hee,uee]},[])},72661:(Pe,X,v)=>{"use strict";v.d(X,{c:()=>oe});var m=v(79765),e=v(88002),O=v(78345),G=v(92340),te=v(64537),B=v(35732),ee=v(67297),Q=v(71180);let oe=(()=>{class L{constructor(K,V,z){this.http=K,this.authService=V,this.state=z,this._brandTree=[]}get apiUrl(){let K=G.N.apiUrl,V="";return!!K&&K.length>0&&(V=K),V}getBrand(K){let V={status:"error",result:""},z=new m.xQ;return this.http.post(this.apiUrl+"/getBrand",{mode:"query",data:{BID:K}}).subscribe(ce=>{z.next(ce),z.unsubscribe()},ce=>{V.status="error",V.result=ce,z.next(V),z.unsubscribe()}),z}getParentbrandList(){return this.http.get(this.apiUrl+"/getAllBrandParentList")}getBrandTypeList(){return this.http.get(this.apiUrl+"/getAllBrandCategoryList")}getProductBrandParent(K){let V={status:"error",result:""},z=new m.xQ;return this.http.post(this.apiUrl+"/getAllBrandParentList",{mode:"query",data:{BID:K}}).subscribe(ce=>{z.next(ce),z.unsubscribe()},ce=>{V.status="error",V.result=ce,z.next(V),z.unsubscribe()}),z}getProductBrandLevel(K){let V={status:"error",result:""},z=new m.xQ;return this.http.post(this.apiUrl+"/getAllBrandLevelList",{mode:"query",data:{BID:K}}).subscribe(ce=>{z.next(ce),z.unsubscribe()},ce=>{V.status="error",V.result=ce,z.next(V),z.unsubscribe()}),z}getBrandTree(){this.getBrandTreeObservable=null;var K=[];return this.getBrandTreeObservable=this.http.get(this.apiUrl+"/getProductGroupTree").pipe((0,e.U)(V=>(this.getBrandTreeObservable=null,K.push(V),this._brandTree=K,K)),(0,O.B)()),this.getBrandTreeObservable}getBrandTreeAsset(){this.getBrandTreeObservable=null;var K=[];return this.getBrandTreeObservable=this.http.get(this.apiUrl+"/getAssetProductGroupTree").pipe((0,e.U)(V=>(this.getBrandTreeObservable=null,K.push(V),this._brandTree=K,K)),(0,O.B)()),this.getBrandTreeObservable}}return L.\u0275fac=function(K){return new(K||L)(te.LFG(B.eN),te.LFG(ee.e),te.LFG(Q.q))},L.\u0275prov=te.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()}}]);