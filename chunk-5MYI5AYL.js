import{a as it,b as at,c as ot}from"./chunk-RQMWOZ56.js";import{a as At}from"./chunk-X7JBG5WP.js";import{$ as bt,A as tt,B as nt,G as rt,H as st,N as lt,O as dt,P as ct,Q as ut,R as ht,S as mt,T as _t,U as pt,V as ft,W as gt,X as Ct,Z as vt,da as xt,e as ge,fa as yt,k as et,ka as Dt,la as Mt,ma as Et,na as St,qa as It,r as Ce,s as Ve,sa as Tt,ta as ve,ua as wt,va as kt,wa as Ft,xa as Vt,ya as Nt,za as be}from"./chunk-IFZMBJ2B.js";import{j as Ye,l as Ze}from"./chunk-7NLJT2D3.js";import"./chunk-XAZLOLJU.js";import{$a as p,$b as w,Ab as oe,Ba as ke,Bb as re,Cb as s,Db as l,Eb as g,F as je,Fa as ne,Fb as D,G as Ie,Gb as M,H as Te,Hb as _e,Ib as E,Jb as pe,Jc as Xe,K as X,Lb as x,N as ze,Nb as h,Qb as qe,Rb as O,Sb as N,Tb as A,Ub as Ge,Vb as c,W as we,Wb as se,X as Y,Xb as S,Y as Z,Yb as Je,Z as ee,Zb as I,_a as d,_b as T,a as Le,ac as R,b as Ke,ba as ce,bb as Ue,bc as L,cc as j,da as Qe,dc as le,ga as ue,gb as me,j as J,k as U,ka as P,kb as H,la as he,m as He,ma as k,mb as W,o as y,pb as f,q as We,qc as fe,rc as Fe,sb as F,t as V,ta as v,tb as u,u as de,ua as b,vc as q,wc as z,x as Se,xa as te,xb as ie,xc as G,ya as $e,yb as ae}from"./chunk-ZOAWYHVV.js";var xe=class n{constructor(o){this.tableFetchService=o}variantConfigtableColumns=G(()=>[...this.tableFetchService.tableColumns(),{header:"ACTION",def:"ACTION"}]);variantConfigtableData=G(()=>this.tableFetchService.tableData());ngOnInit(){this.tableFetchService.paginationPage.set(1),this.tableFetchService.getTableData("getAllVariantConfiguation"),this.tableFetchService.selectedTab.set("variant-configuration")}static \u0275fac=function(e){return new(e||n)(p(ve))};static \u0275cmp=P({type:n,selectors:[["app-variant-configuration"]],standalone:!0,features:[L],decls:9,vars:4,consts:[[1,"container","mt-3"],[1,"heading","fw-bold","fs-5"],[1,"border-bottom","border-secondary"],[1,"container","d-flex","flex-column","flex-grow-1"],[1,"row"],[1,"col-md-6","mt-2","ms-auto"],[3,"columns","dataSource"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h5",1),c(2,"Variant Configuration"),l()(),g(3,"div",2),s(4,"div",3)(5,"div",4)(6,"div",5),g(7,"app-generic-filter",6),l()(),g(8,"app-generic-table",6),l()),e&2&&(d(7),u("columns",t.variantConfigtableColumns())("dataSource",t.variantConfigtableData()),d(),u("columns",t.variantConfigtableColumns())("dataSource",t.variantConfigtableData()))},dependencies:[be,wt]})};var Be=new Qe("CDK_TREE_NODE_OUTLET_NODE"),ye=(()=>{class n{constructor(e,t){this.viewContainer=e,this._node=t}static{this.\u0275fac=function(t){return new(t||n)(p(me),p(Be,8))}}static{this.\u0275dir=k({type:n,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}}return n})(),Ae=class{constructor(o){this.$implicit=o}},De=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||n)(p(Ue))}}static{this.\u0275dir=k({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]},standalone:!0})}}return n})();function Bt(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var K=(()=>{class n{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,t){this._differs=e,this._changeDetectorRef=t,this._dir=ue(Ce),this._onDestroy=new J,this._levels=new Map,this._parents=new Map,this._ariaSets=new Map,this.viewChange=new U({start:0,end:Number.MAX_VALUE}),this._flattenedNodes=new U([]),this._nodeType=new U(null),this._nodes=new U(new Map),this._keyManagerNodes=new U([]),this._keyManagerFactory=ue(et),this._viewInit=!1}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let e=this._nodeDefs.filter(t=>!t.when);e.length>1,this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){this._nodeType.value===null&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new nt(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;tt(this._dataSource)?e=this._dataSource.connect(this):We(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=y(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe(Z(this._onDestroy)).subscribe(t=>{this._renderDataChanges(t)}))}_getRenderData(e){let t=this._getExpansionModel();return de([e,this._nodeType,t.changed.pipe(we(null),ee(i=>{this._emitExpansionChanges(i)}))]).pipe(Y(([i,a])=>a===null?y({renderNodes:i,flattenedNodes:null,nodeType:a}):this._computeRenderingData(i,a).pipe(V(r=>Ke(Le({},r),{nodeType:a})))))}_renderDataChanges(e){if(e.nodeType===null){this.renderNodeChanges(e.renderNodes);return}this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)}_emitExpansionChanges(e){if(!e)return;let t=this._nodes.value;for(let i of e.added)t.get(i)?._emitExpansionState(!0);for(let i of e.removed)t.get(i)?._emitExpansionState(!1)}_initializeKeyManager(){let e=de([this._keyManagerNodes,this._nodes]).pipe(V(([i,a])=>i.reduce((r,m)=>{let _=a.get(this._getExpansionKey(m));return _&&r.push(_),r},[]))),t={trackBy:i=>this._getExpansionKey(i.data),skipPredicate:i=>!!i.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(e,t)}_initializeDataDiffer(){let e=this.trackBy??((t,i)=>this._getExpansionKey(i));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,t=this._dataDiffer,i=this._nodeOutlet.viewContainer,a){let r=t.diff(e);!r&&!this._viewInit||(r?.forEachOperation((m,_,C)=>{if(m.previousIndex==null)this.insertNode(e[C],C,i,a);else if(C==null)i.remove(_);else{let B=i.get(_);i.move(B,C)}}),r?.forEachIdentityChange(m=>{let _=m.item;if(m.currentIndex!=null){let C=i.get(m.currentIndex);C.context.$implicit=_}}),a?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){if(this._nodeDefs.length===1)return this._nodeDefs.first;let i=this._nodeDefs.find(a=>a.when&&a.when(t,e))||this._defaultNodeDef;return i}insertNode(e,t,i,a){let r=this._getLevelAccessor(),m=this._getNodeDef(e,t),_=this._getExpansionKey(e),C=new Ae(e);a??=this._parents.get(_)??void 0,r?C.level=r(e):a!==void 0&&this._levels.has(this._getExpansionKey(a))?C.level=this._levels.get(this._getExpansionKey(a))+1:C.level=0,this._levels.set(_,C.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(m.template,C,t),Q.mostRecentTreeNode&&(Q.mostRecentTreeNode.data=e)}isExpanded(e){return!!(this.treeControl?.isExpanded(e)||this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.select(this._getExpansionKey(e)),this._getDescendants(e).pipe(X(1),Z(this._onDestroy)).subscribe(i=>{t.select(...i.map(a=>this._getExpansionKey(a)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe(X(1),Z(this._onDestroy)).subscribe(i=>{t.deselect(...i.map(a=>this._getExpansionKey(a)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._expansionModel.select(...this._flattenedNodes.value.map(t=>this._getExpansionKey(t)))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._expansionModel.deselect(...this._flattenedNodes.value.map(t=>this._getExpansionKey(t)))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){let t=this._getLevelAccessor(),i=this._expansionModel??this.treeControl?.expansionModel;if(!i)return y([]);let a=this._getExpansionKey(e),r=i.changed.pipe(Y(_=>_.added.includes(a)?y(!0):_.removed.includes(a)?y(!1):He),we(this.isExpanded(e)));if(t)return de([r,this._flattenedNodes]).pipe(V(([_,C])=>_?this._findChildrenByLevel(t,C,e,1):[]));let m=this._getChildrenAccessor();if(m)return ge(m(e)??[]);throw Bt()}_findChildrenByLevel(e,t,i,a){let r=this._getExpansionKey(i),m=t.findIndex($=>this._getExpansionKey($)===r),_=e(i),C=_+a,B=[];for(let $=m+1;$<t.length;$++){let Re=e(t[$]);if(Re<=_)break;Re<=C&&B.push(t[$])}return B}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){let t=this._getAriaSet(e),i=this._getExpansionKey(e);return t.findIndex(a=>this._getExpansionKey(a)===i)+1}_getNodeParent(e){let t=this._parents.get(this._getExpansionKey(e.data));return t&&this._nodes.value.get(this._getExpansionKey(t))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe(V(t=>t.reduce((i,a)=>{let r=this._nodes.value.get(this._getExpansionKey(a));return r&&i.push(r),i},[])))}_sendKeydownToKeyManager(e){this._keyManager.onKeydown(e)}_getDescendants(e){if(this.treeControl)return y(this.treeControl.getDescendants(e));if(this.levelAccessor){let t=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return y(t)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(Ie((t,i)=>(t.push(...i),t),[]));throw Bt()}_getAllChildrenRecursively(e){return this.childrenAccessor?ge(this.childrenAccessor(e)).pipe(X(1),Y(t=>{for(let i of t)this._parents.set(this._getExpansionKey(i),e);return y(...t).pipe(Te(i=>Se(y([i]),this._getAllChildrenRecursively(i))))})):y([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){let t=this._getExpansionKey(e),i=this._parents.get(t),a=i?this._getExpansionKey(i):null;return this._ariaSets.get(a)??[e]}_findParentForNode(e,t,i){if(!i.length)return null;let a=this._levels.get(this._getExpansionKey(e))??0;for(let r=t-1;r>=0;r--){let m=i[r];if((this._levels.get(this._getExpansionKey(m))??0)<a)return m}return null}_flattenNestedNodesWithExpansion(e,t=0){let i=this._getChildrenAccessor();return i?y(...e).pipe(Te(a=>{let r=this._getExpansionKey(a);this._parents.has(r)||this._parents.set(r,null),this._levels.set(r,t);let m=ge(i(a));return Se(y([a]),m.pipe(X(1),ee(_=>{this._ariaSets.set(r,[..._??[]]);for(let C of _??[]){let B=this._getExpansionKey(C);this._parents.set(B,a),this._levels.set(B,t+1)}}),Y(_=>_?this._flattenNestedNodesWithExpansion(_,t+1).pipe(V(C=>this.isExpanded(a)?C:[])):y([]))))}),Ie((a,r)=>(a.push(...r),a),[])):y([...e])}_computeRenderingData(e,t){if(this.childrenAccessor&&t==="flat")return this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(V(i=>({renderNodes:i,flattenedNodes:i})));if(this.levelAccessor&&t==="nested"){let i=this.levelAccessor;return y(e.filter(a=>i(a)===0)).pipe(V(a=>({renderNodes:a,flattenedNodes:e})),ee(({flattenedNodes:a})=>{this._calculateParents(a)}))}else return t==="flat"?y({renderNodes:e,flattenedNodes:e}).pipe(ee(({flattenedNodes:i})=>{this._calculateParents(i)})):(this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(V(i=>({renderNodes:e,flattenedNodes:i}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){let t=this._getLevelAccessor();if(t){this._parents.clear(),this._ariaSets.clear();for(let i=0;i<e.length;i++){let a=e[i],r=this._getExpansionKey(a);this._levels.set(r,t(a));let m=this._findParentForNode(a,i,e);this._parents.set(r,m);let _=m?this._getExpansionKey(m):null,C=this._ariaSets.get(_)??[];C.splice(i,0,a),this._ariaSets.set(_,C)}}}static{this.\u0275fac=function(t){return new(t||n)(p(Fe),p(fe))}}static{this.\u0275cmp=P({type:n,selectors:[["cdk-tree"]],contentQueries:function(t,i,a){if(t&1&&qe(a,De,5),t&2){let r;N(r=A())&&(i._nodeDefs=r)}},viewQuery:function(t,i){if(t&1&&O(ye,7),t&2){let a;N(a=A())&&(i._nodeOutlet=a.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(t,i){t&1&&x("keydown",function(r){return i._sendKeydownToKeyManager(r)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],standalone:!0,features:[L],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,i){t&1&&_e(0,0)},dependencies:[ye],encapsulation:2})}}return n})(),Q=(()=>{class n{get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}static{this.mostRecentTreeNode=null}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}constructor(e,t){this._elementRef=e,this._tree=t,this._tabindex=-1,this.activation=new ke,this.expandedChange=new ke,this._destroyed=new J,this._dataChanges=new J,this._inputIsExpandable=!1,this._inputIsExpanded=void 0,this._shouldFocus=!0,this._changeDetectorRef=ue(fe),n.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=Gt(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(V(()=>this.isExpanded),ze()).subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._tree._setNodeTypeIfUnset("flat"),this._tree._registerNode(this)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static{this.\u0275fac=function(t){return new(t||n)(p(ne),p(K))}}static{this.\u0275dir=k({type:n,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(t,i){t&1&&x("click",function(){return i._setActiveItem()})("focus",function(){return i._focusItem()}),t&2&&(pe("tabindex",i._tabindex),F("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",q],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",q],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"],standalone:!0,features:[W]})}}return n})();function Gt(n){let o=n.parentElement;for(;o&&!Jt(o);)o=o.parentElement;return o?o.classList.contains("cdk-nested-tree-node")?z(o.getAttribute("aria-level")):0:-1}function Jt(n){let o=n.classList;return!!(o?.contains("cdk-nested-tree-node")||o?.contains("cdk-tree"))}var Xt=/([A-Za-z%]+)$/,Pe=(()=>{class n{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}constructor(e,t,i,a){this._treeNode=e,this._tree=t,this._element=i,this._dir=a,this._destroyed=new J,this.indentUnits="px",this._indent=40,this._setPadding(),a&&a.change.pipe(Z(this._destroyed)).subscribe(()=>this._setPadding(!0)),e._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,t=this._level==null?e:this._level;return typeof t=="number"?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){let t=this._paddingIndent();if(t!==this._currentPadding||e){let i=this._element.nativeElement,a=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",r=a==="paddingLeft"?"paddingRight":"paddingLeft";i.style[a]=t||"",i.style[r]="",this._currentPadding=t}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let t=e,i="px";if(typeof e=="string"){let a=e.split(Xt);t=a[0],i=a[1]||i}this.indentUnits=i,this._indent=z(t),this._setPadding()}static{this.\u0275fac=function(t){return new(t||n)(p(Q),p(K),p(ne),p(Ce,8))}}static{this.\u0275dir=k({type:n,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",z],indent:[0,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[W]})}}return n})(),Oe=(()=>{class n{constructor(e,t){this._tree=e,this._treeNode=t,this.recursive=!1}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static{this.\u0275fac=function(t){return new(t||n)(p(K),p(Q))}}static{this.\u0275dir=k({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(t,i){t&1&&x("click",function(r){return i._toggle(),r.stopPropagation()})("keydown.Enter",function(r){return i._toggle(),r.preventDefault()})("keydown.Space",function(r){return i._toggle(),r.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",q]},standalone:!0,features:[W]})}}return n})();var Pt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=he({type:n})}static{this.\u0275inj=ce({})}}return n})();function Zt(n){return!!n._isNoopTreeKeyManager}var Rt=(()=>{class n extends Q{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(e){this._tabIndexInputBinding=e}_getTabindexAttribute(){return Zt(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(e){this.isDisabled=e}constructor(e,t,i){super(e,t),this.defaultTabIndex=0,this.tabIndexInputBinding=Number(i)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static{this.\u0275fac=function(t){return new(t||n)(p(ne),p(K),$e("tabindex"))}}static{this.\u0275dir=k({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(t,i){t&1&&x("click",function(){return i._focusItem()}),t&2&&(pe("tabindex",i._getTabindexAttribute()),F("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",e=>e==null?0:z(e)],disabled:[2,"disabled","disabled",q]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],standalone:!0,features:[R([{provide:Q,useExisting:n}]),W,H]})}}return n})(),Lt=(()=>{class n extends De{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=te(n)))(i||n)}})()}static{this.\u0275dir=k({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},standalone:!0,features:[R([{provide:De,useExisting:n}]),H]})}}return n})();var Kt=(()=>{class n extends Pe{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=te(n)))(i||n)}})()}static{this.\u0275dir=k({type:n,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",z],indent:[0,"matTreeNodePaddingIndent","indent"]},standalone:!0,features:[R([{provide:Pe,useExisting:n}]),W,H]})}}return n})(),Ot=(()=>{class n{constructor(e,t){this.viewContainer=e,this._node=t}static{this.\u0275fac=function(t){return new(t||n)(p(me),p(Be,8))}}static{this.\u0275dir=k({type:n,selectors:[["","matTreeNodeOutlet",""]],standalone:!0,features:[R([{provide:ye,useExisting:n}])]})}}return n})(),Ht=(()=>{class n extends K{constructor(){super(...arguments),this._nodeOutlet=void 0}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=te(n)))(i||n)}})()}static{this.\u0275cmp=P({type:n,selectors:[["mat-tree"]],viewQuery:function(t,i){if(t&1&&O(Ot,7),t&2){let a;N(a=A())&&(i._nodeOutlet=a.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],standalone:!0,features:[R([{provide:K,useExisting:n}]),H,L],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,i){t&1&&_e(0,0)},dependencies:[Ot],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-app-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-app-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-app-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-app-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}}return n})(),Wt=(()=>{class n extends Oe{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=te(n)))(i||n)}})()}static{this.\u0275dir=k({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},standalone:!0,features:[R([{provide:Oe,useExisting:n}]),H]})}}return n})();var jt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=he({type:n})}static{this.\u0275inj=ce({imports:[Pt,Ve,Ve]})}}return n})();var tn=["categoryHiddenBtn"],nn=["subCategoryHiddenBtn"],an=["isEnableHiddenButtons"],zt=()=>["feature_Name","category","sub_Category","isEnable"],Ee=n=>[n],Qt=()=>["checkbox","Interface_Name","feature_Name","Do_Menu_Visible"],$t=()=>["checkbox","Function_Name","feature_Name","Default_Value","Disabling_Value","Is_User_Configurable"];function on(n,o){if(n&1&&(s(0,"option",18),c(1),l()),n&2){let e=o.$implicit;u("value",e.VariantID),d(),se(e.VariantName)}}function rn(n,o){if(n&1&&(s(0,"option",18),c(1),l()),n&2){let e=o.$implicit;u("value",e.ID),d(),se(e.Module)}}function sn(n,o){if(n&1){let e=E();s(0,"div",21)(1,"button",50),x("click",function(){v(e);let i=h();return b(i.loadViewEditData("edit",!0))}),c(2,"INHERIT"),l()()}}function ln(n,o){n&1&&(s(0,"th",51),c(1,"Feature Name"),l())}function dn(n,o){if(n&1){let e=E();s(0,"mat-tree-node",56),g(1,"button",57),s(2,"mat-checkbox",58),x("change",function(i){let a=v(e).$implicit,r=h(2);return b(r.onCheckboxChange(i,a))}),w("ngModelChange",function(i){let a=v(e).$implicit;return T(a.check,i)||(a.check=i),b(i)}),c(3),l()()}if(n&2){let e=o.$implicit,t=h(2);d(2),I("ngModel",e.check),u("disabled",t.mode==="view"),d(),S(" ",e.feature_Name," ")}}function cn(n,o){if(n&1){let e=E();s(0,"mat-tree-node",56)(1,"button",59),x("click",function(){v(e);let i=h().index,a=h();return b(a.toggleHiddenBtn(i))}),s(2,"mat-icon"),c(3),l()(),s(4,"mat-checkbox",58),x("change",function(i){let a=v(e).$implicit,r=h(2);return b(r.onCheckboxChange(i,a))}),w("ngModelChange",function(i){let a=v(e).$implicit;return T(a.check,i)||(a.check=i),b(i)}),l(),c(5),l()}if(n&2){let e=o.$implicit;h();let t=Ge(2),i=h();d(),F("aria-label","Toggle "+e.name),d(2),se(t.isExpanded(e)?"remove":"add"),d(),I("ngModel",e.check),u("disabled",i.mode==="view"),d(),S(" ",e.feature_Name," ")}}function un(n,o){if(n&1&&(s(0,"td",52)(1,"mat-tree",53,0),f(3,dn,4,3,"mat-tree-node",54)(4,cn,6,5,"mat-tree-node",55),l()()),n&2){let e=o.$implicit,t=h();d(),u("dataSource",le(3,Ee,e))("childrenAccessor",t.childrenAccessor),d(3),u("matTreeNodeDefWhen",t.hasChild)}}function hn(n,o){n&1&&(s(0,"th",51),c(1,"Category"),l())}function mn(n,o){if(n&1&&(s(0,"mat-tree-node",56),g(1,"button",60,1),c(3),l()),n&2){let e=o.$implicit;d(),F("aria-label","Toggle "+e.name),d(2),S(" ",e.category," ")}}function _n(n,o){if(n&1&&(s(0,"mat-tree-node",56),g(1,"button",60,1),c(3),l()),n&2){let e=o.$implicit;d(),F("aria-label","Toggle "+e.name),d(2),S(" ",e.category," ")}}function pn(n,o){if(n&1&&(s(0,"td",52)(1,"mat-tree",53,0),f(3,mn,4,2,"mat-tree-node",54)(4,_n,4,2,"mat-tree-node",55),l()()),n&2){let e=o.$implicit,t=h();d(),u("dataSource",le(3,Ee,e))("childrenAccessor",t.childrenAccessor),d(3),u("matTreeNodeDefWhen",t.hasChild)}}function fn(n,o){n&1&&(s(0,"th",51),c(1,"Sub Category"),l())}function gn(n,o){if(n&1&&(s(0,"mat-tree-node",56),g(1,"button",60,2),c(3),l()),n&2){let e=o.$implicit;d(),F("aria-label","Toggle "+e.name),d(2),S(" ",e.sub_Category," ")}}function Cn(n,o){if(n&1&&(s(0,"mat-tree-node",56),g(1,"button",60,2),c(3),l()),n&2){let e=o.$implicit;d(),F("aria-label","Toggle "+e.name),d(2),S(" ",e.sub_Category," ")}}function vn(n,o){if(n&1&&(s(0,"td",52)(1,"mat-tree",53,0),f(3,gn,4,2,"mat-tree-node",54)(4,Cn,4,2,"mat-tree-node",55),l()()),n&2){let e=o.$implicit,t=h();d(),u("dataSource",le(3,Ee,e))("childrenAccessor",t.childrenAccessor),d(3),u("matTreeNodeDefWhen",t.hasChild)}}function bn(n,o){n&1&&(s(0,"th",51),c(1," Is Enabled "),l())}function xn(n,o){if(n&1){let e=E();s(0,"mat-tree-node",56),g(1,"button",60,3),s(3,"mat-checkbox",61),w("ngModelChange",function(i){let a=v(e).$implicit;return T(a.isEnable,i)||(a.isEnable=i),b(i)}),x("change",function(i){let a=v(e).$implicit,r=h(2);return b(r.onFeatureIsEnable(i,a))}),l()()}if(n&2){let e=o.$implicit,t=h(2);d(),F("aria-label","Toggle "+e.name),d(2),I("ngModel",e.isEnable),u("disabled",!e.check||t.mode==="view")}}function yn(n,o){if(n&1){let e=E();s(0,"mat-tree-node",56),g(1,"button",60,3),s(3,"mat-checkbox",61),w("ngModelChange",function(i){let a=v(e).$implicit;return T(a.isEnable,i)||(a.isEnable=i),b(i)}),x("change",function(i){let a=v(e).$implicit,r=h(2);return b(r.onFeatureIsEnable(i,a))}),l()()}if(n&2){let e=o.$implicit,t=h(2);d(),F("aria-label","Toggle "+e.name),d(2),I("ngModel",e.isEnable),u("disabled",!e.check||t.mode==="view")}}function Dn(n,o){if(n&1&&(s(0,"td",52)(1,"mat-tree",53,0),f(3,xn,4,3,"mat-tree-node",54)(4,yn,4,3,"mat-tree-node",55),l()()),n&2){let e=o.$implicit,t=h();d(),u("dataSource",le(3,Ee,e))("childrenAccessor",t.childrenAccessor),d(3),u("matTreeNodeDefWhen",t.hasChild)}}function Mn(n,o){n&1&&g(0,"tr",62)}function En(n,o){n&1&&g(0,"tr",63)}function Sn(n,o){if(n&1&&(s(0,"option",18),c(1),l()),n&2){let e=o.$implicit;u("value",e.featuresID),d(),S(" ",e.feature_Name," ")}}function In(n,o){if(n&1){let e=E();s(0,"select",64),w("ngModelChange",function(i){v(e);let a=h();return T(a.selectedID,i)||(a.selectedID=i),b(i)}),x("change",function(i){v(e);let a=h();return b(a.featureNameChange(i))}),s(1,"option",65),c(2," Filter By Feature Name (All)"),l(),oe(3,Sn,2,2,"option",18,ae),l()}if(n&2){let e=h();I("ngModel",e.selectedID),d(3),re(e.featureName)}}function Tn(n,o){n&1&&g(0,"th",51)}function wn(n,o){if(n&1){let e=E();s(0,"td",52)(1,"mat-checkbox",58),x("change",function(i){let a=v(e).$implicit,r=h(2);return b(r.onMenuCheckbox(i,a))}),w("ngModelChange",function(i){let a=v(e).$implicit;return T(a.check,i)||(a.check=i),b(i)}),l()()}if(n&2){let e=o.$implicit,t=h(2);d(),I("ngModel",e.check),u("disabled",t.mode==="view")}}function kn(n,o){n&1&&(s(0,"th",51),c(1,"Menu Name "),l())}function Fn(n,o){if(n&1&&(s(0,"td",52),c(1),l()),n&2){let e=o.$implicit;d(),S(" ",e.interface_Name," ")}}function Vn(n,o){n&1&&(s(0,"th",51),c(1,"Feature Name "),l())}function Nn(n,o){if(n&1&&(s(0,"td",52),c(1),l()),n&2){let e=o.$implicit;d(),S(" ",e.feature_Name," ")}}function An(n,o){n&1&&(s(0,"th",51),c(1," Do Menu Visible "),l())}function Bn(n,o){if(n&1){let e=E();s(0,"td",52)(1,"mat-checkbox",70),w("ngModelChange",function(i){let a=v(e).$implicit;return T(a.do_Menu_Visible,i)||(a.do_Menu_Visible=i),b(i)}),l()()}if(n&2){let e=o.$implicit,t=h(2);d(),I("ngModel",e.do_Menu_Visible),u("disabled",!e.isDoMenuVisibleEnabled||t.mode==="view")}}function Pn(n,o){n&1&&g(0,"tr",62)}function On(n,o){n&1&&g(0,"tr",63)}function Rn(n,o){if(n&1&&(s(0,"div",49)(1,"table",29),D(2,66),f(3,Tn,1,0,"th",31)(4,wn,2,2,"td",32),M(),D(5,67),f(6,kn,2,0,"th",31)(7,Fn,2,1,"td",32),M(),D(8,30),f(9,Vn,2,0,"th",31)(10,Nn,2,1,"td",32),M(),D(11,68),f(12,An,2,0,"th",31)(13,Bn,2,2,"td",32),M(),f(14,Pn,1,0,"tr",69)(15,On,1,0,"tr",37),l()()),n&2){let e=h();d(),u("dataSource",e.menuData),d(13),u("matHeaderRowDef",j(4,Qt))("matHeaderRowDefSticky",!0),d(),u("matRowDefColumns",j(5,Qt))}}function Ln(n,o){n&1&&g(0,"th",51)}function Kn(n,o){if(n&1){let e=E();s(0,"td",52)(1,"mat-checkbox",77),x("change",function(i){let a=v(e).$implicit,r=h(2);return b(r.onSettingCheckbox(i,a))}),l()()}if(n&2){let e=h(2);d(),u("disabled",e.mode==="view")}}function Hn(n,o){n&1&&(s(0,"th",51),c(1,"Setting Name "),l())}function Wn(n,o){if(n&1&&(s(0,"td",52),c(1),l()),n&2){let e=o.$implicit;d(),S(" ",e.function_Name," ")}}function jn(n,o){n&1&&(s(0,"th",51),c(1,"Feature Name "),l())}function zn(n,o){if(n&1&&(s(0,"td",52),c(1),l()),n&2){let e=o.$implicit;d(),S(" ",e.feature_Name," ")}}function Qn(n,o){n&1&&(s(0,"th",51),c(1," Default Value "),l())}function $n(n,o){if(n&1){let e=E();s(0,"input",82),w("ngModelChange",function(i){v(e);let a=h().$implicit;return T(a.default_Value,i)||(a.default_Value=i),b(i)}),l()}if(n&2){let e=h().$implicit,t=h(2);I("ngModel",e.default_Value),u("disabled",!e.check||t.mode==="view")}}function Un(n,o){if(n&1){let e=E();s(0,"input",83),w("ngModelChange",function(i){v(e);let a=h().$implicit;return T(a.default_Value,i)||(a.default_Value=i),b(i)}),l()}if(n&2){let e=h().$implicit,t=h(2);I("ngModel",e.default_Value),u("disabled",!e.check||t.mode==="view")}}function qn(n,o){if(n&1&&(s(0,"select",80)(1,"option",18),c(2),l()()),n&2){let e=h().$implicit,t=h(2);u("disabled",!e.check)("disabled",!e.check||t.mode==="view"),d(),u("value",e.Default_Value),d(),S("",e.default_Value," ")}}function Gn(n,o){if(n&1&&(s(0,"option",18),c(1),l()),n&2){let e=o.$implicit;u("value",e.Value),d(),Je("",e.Key," - ",e.Value," ")}}function Jn(n,o){if(n&1){let e=E();s(0,"select",84),w("ngModelChange",function(i){v(e);let a=h().$implicit;return T(a.default_Value,i)||(a.default_Value=i),b(i)}),oe(1,Gn,2,3,"option",18,ae),l()}if(n&2){let e=h().$implicit,t=h(2);I("ngModel",e.default_Value),u("disabled",!e.check||t.mode==="view"),d(),re(e.options)}}function Xn(n,o){if(n&1&&(s(0,"td",52),f(1,$n,1,2,"input",78)(2,Un,1,2,"input",79)(3,qn,3,4,"select",80)(4,Jn,3,2,"select",81),l()),n&2){let e=o.$implicit;d(),ie(e.dataType=="Text"?1:e.dataType=="Number"?2:e.dataType==="Boolean"?3:4)}}function Yn(n,o){n&1&&(s(0,"th",51),c(1," Disabling Value"),l())}function Zn(n,o){if(n&1&&(s(0,"td",85),c(1),l()),n&2){let e=o.$implicit;d(),S(" ",e.disabling_Value,"")}}function ei(n,o){n&1&&(s(0,"th",51),c(1," Is User Configurable "),l())}function ti(n,o){if(n&1){let e=E();s(0,"td",85)(1,"mat-checkbox",70),w("ngModelChange",function(i){let a=v(e).$implicit;return T(a.is_User_Configurable,i)||(a.is_User_Configurable=i),b(i)}),l()()}if(n&2){let e=o.$implicit,t=h(2);d(),I("ngModel",e.is_User_Configurable),u("disabled",!e.check||t.mode==="view")}}function ni(n,o){n&1&&g(0,"tr",62)}function ii(n,o){n&1&&g(0,"tr",63)}function ai(n,o){if(n&1&&(s(0,"table",29),D(1,66),f(2,Ln,1,0,"th",31)(3,Kn,2,1,"td",32),M(),D(4,71),f(5,Hn,2,0,"th",31)(6,Wn,2,1,"td",32),M(),D(7,30),f(8,jn,2,0,"th",31)(9,zn,2,1,"td",32),M(),D(10,72),f(11,Qn,2,0,"th",31)(12,Xn,5,1,"td",32),M(),D(13,73),f(14,Yn,2,0,"th",31)(15,Zn,2,1,"td",74),M(),D(16,75),f(17,ei,2,0,"th",31)(18,ti,2,2,"td",74),M(),f(19,ni,1,0,"tr",69),s(20,"tbody",76),f(21,ii,1,0,"tr",37),l()()),n&2){let e=h();u("dataSource",e.settingData),d(19),u("matHeaderRowDef",j(4,$t))("matHeaderRowDefSticky",!0),d(2),u("matRowDefColumns",j(5,$t))}}var Me=class n{constructor(o,e,t,i,a,r){this.apiService=o;this.location=e;this.route=t;this.router=i;this.tableFetchService=a;this.snackBarService=r;this.route.queryParams.subscribe(m=>{let _=m.mode;this.variantId=m.id,this.moduleId=m.mid,_&&this.variantId&&this.moduleId&&(_==="view"&&(this.mode="view"),_==="edit"&&(this.mode="edit"),this.loadViewEditData(this.mode))})}categoryHiddenButtons;subCategoryHiddenButtons;isEnableHiddenButtons;clickedTabIndex=0;formHeading="Variant Configuration ";mode="add";dataSource=[];module;variant;variantId;moduleId;settingData=[];allSettingData=[];menuData=[];allMenuData=[];menuSaveData=[];settingSaveData=[];expandedElement;doMenuVisible=!1;featureName=[];featureSave=[];selectedID="";isInherit;menutableColumns=G(()=>[...this.tableFetchService.tableColumns(),{header:"ACTION",def:"ACTION"}]);menutableData=G(()=>[...this.tableFetchService.tableData()]);childrenAccessor=o=>o.children??[];hasChild=(o,e)=>!!e.children&&e.children.length>0;isExpanded(o){return this.expandedElement===o}loadViewEditData(o,e){e&&(this.isInherit=!0),this.mode=o;let t={variantID:this.variantId,moduleID:this.moduleId,mode:this.mode};this.getViewApi("LoadFeaturesForVariantConfiguation",t),this.apiService.get("getAllVariants",{mode:"add"}).subscribe(i=>{this.variant=i.result})}getViewApi(o,e){this.apiService.get(o,e).subscribe(t=>{if(t?.result&&t.result.length>0){this.dataSource=t.result,this.menuData=[...t.result2.variantInterfaceMenus],this.allMenuData=[...t.result2.variantInterfaceMenus],this.menuSaveData=[...t.result2.variantInterfaceMenus],this.settingData=[...t.result2.variantFunctionSettings],this.allSettingData=[...t.result2.variantFunctionSettings];let i=[...t.result];this.featureSave=i.filter(r=>r.check==1);let a=i.flatMap(r=>r.children||[]).filter(r=>r.check==1);this.featureSave=[...this.featureSave,...a],console.log(this.featureSave),this.allSettingData=this.allSettingData.map(r=>{if(typeof r.options=="string")try{r.options=JSON.parse(r.options)}catch(m){console.error("Failed to parse options:",m)}return r}),this.menuData.forEach(r=>r.isDoMenuVisibleEnabled=!0),this.filterByFeatureName(),console.log("res",this.featureName)}})}ngOnInit(){this.apiService.get("getModule").subscribe(o=>{this.module=o.result}),this.apiService.get("getAllVariants",{mode:this.mode}).subscribe(o=>{this.variant=o.result})}loadFeature(){this.menuSaveData=[],this.menuData=[],this.settingData=[];let o={variantID:this.variantId,moduleID:this.moduleId,mode:"Load"};this.apiService.get("LoadFeaturesForVariantConfiguation",o).subscribe(e=>{console.log(e),e?.result?.length>0&&(this.dataSource=e.result)})}goBack(){this.location.back()}onCheckboxChange(o,e){if(e.isEnable=o.checked,o.checked){let t={featuresID:e.featuresID,moduleID:this.moduleId,mode:"Load"};this.apiService.get("getFeatureDetailsForVariantConfiguation",t).subscribe(i=>{let a=i.result;this.featureSave=[...this.featureSave,e],a.variantInterfaceMenus?.length>0&&(this.allMenuData=[...this.allMenuData,...a.variantInterfaceMenus],this.menuData=[...this.menuData,...a.variantInterfaceMenus],this.menuData.forEach(r=>r.check=1)),a.variantFunctionSettings?.length>0&&(this.allSettingData=[...this.allSettingData,...a.variantFunctionSettings],this.settingData=[...this.settingData,...a.variantFunctionSettings],console.log("Setting datas",this.allSettingData),this.settingData=this.settingData.map(r=>{if(typeof r.options=="string")try{r.options=JSON.parse(r.options)}catch(m){console.error("Failed to parse options:",m)}return r}),this.allSettingData=this.allSettingData.map(r=>{if(typeof r.options=="string")try{r.options=JSON.parse(r.options)}catch(m){console.error("Failed to parse options:",m)}return r})),this.filterByFeatureName(),this.onFeatureIsEnable(o,e)}),this.selectedID=e.featuresID,this.featureNameChange(void 0,e.featuresID)}else e.isEnable=!1,this.featureSave=this.featureSave.filter(t=>t.featuresID!==e.featuresID),this.menuData=this.allMenuData.filter(t=>t.featuresID!==e.featuresID),this.menuSaveData=this.menuSaveData.filter(t=>t.featuresID!==e.featuresID),this.settingData=this.allSettingData.filter(t=>t.featuresID!==e.featuresID),this.allMenuData=this.allMenuData.filter(t=>t.featuresID!==e.featuresID),this.allSettingData=this.allSettingData.filter(t=>t.featuresID!==e.featuresID),this.featureName=this.featureName.filter(t=>t.featuresID!==e.featuresID),this.selectedID=""}updateParentCheckboxState(o){if(console.log(o),o.mainFeatures){let e=this.dataSource.find(t=>t.featuresID===o.mainFeatures);e&&(e.isEnable=o.isEnable)}}onFeatureIsEnable(o,e){this.featureSave.forEach(t=>{e.featuresID===t.featuresID&&(t.isEnable=o.checked)}),this.menuData.forEach(t=>{e.featuresID===t.featuresID&&(t.do_Menu_Visible=o.checked,t.isDoMenuVisibleEnabled=o.checked)})}featureNameChange(o,e){let t=o?o.target.value:e;if(t==""){this.menuData=[...this.allMenuData],this.settingData=[...this.allSettingData];return}this.menuData=this.allMenuData.filter(i=>i.featuresID==t),this.settingData=this.allSettingData.filter(i=>i.featuresID==t),console.log("Selected Feature ID:",t)}onMenuCheckbox(o,e){console.log(e),o.checked?(e.check=1,e.do_Menu_Visible=!0,e.isDoMenuVisibleEnabled=!0,this.menuSaveData=[...this.menuSaveData,e]):(e.check=0,e.do_Menu_Visible=!1,e.isDoMenuVisibleEnabled=!1,this.menuSaveData=this.menuSaveData.filter(t=>t.MenuID!==e.menuID)),console.log(this.menuSaveData)}filterByFeatureName(){let o=new Set,e=[...this.allMenuData.map(({feature_Name:t,featuresID:i})=>({feature_Name:t,featuresID:i})),...this.allSettingData.map(({feature_Name:t,featuresID:i})=>({feature_Name:t,featuresID:i}))];this.featureName=e.filter(t=>{let i=t.feature_Name;return o.has(i)?!1:(o.add(i),!0)})}onSettingCheckbox(o,e){o.checked?e.check=1:(e.check=0,e.Is_User_Configurable=!1)}toggleHiddenBtn(o){console.log("index of ",o);let e=this.categoryHiddenButtons.toArray()[o],t=this.subCategoryHiddenButtons.toArray()[o],i=this.isEnableHiddenButtons.toArray()[o];e._elementRef.nativeElement.click(),t._elementRef.nativeElement.click(),i._elementRef.nativeElement.click()}onTabClick(o){let e=o.index;this.clickedTabIndex=e}submit(){console.log("save",this.settingData),this.menuSaveData=this.allMenuData.filter(e=>e.check),this.isInherit&&(this.mode="add"),this.featureSave=this.featureSave.reduce((e,t)=>(e.push({featuresID:t.featuresID,isEnable:t.isEnable}),e),[]),console.log(this.featureSave);let o={mode:this.mode,data:{variantID:this.variantId,moduleID:this.moduleId,variantInterfaceMenus:this.menuSaveData,variantFunctionSettings:this.allSettingData,features:this.featureSave}};console.log(o),this.apiService.post("saveVariantConfiguration",o).pipe(je(e=>(this.snackBarService.showError("Error while saving Variant Configuration!!"),e))).subscribe(e=>{this.snackBarService.showSuccess("Variant Saved Sucessfully"),this.router.navigate(["/variant-configuration"])})}static \u0275fac=function(e){return new(e||n)(p(Tt),p(Xe),p(Ye),p(Ze),p(ve),p(At))};static \u0275cmp=P({type:n,selectors:[["app-variant-configuration-form"]],viewQuery:function(e,t){if(e&1&&(O(tn,5),O(nn,5),O(an,5)),e&2){let i;N(i=A())&&(t.categoryHiddenButtons=i),N(i=A())&&(t.subCategoryHiddenButtons=i),N(i=A())&&(t.isEnableHiddenButtons=i)}},standalone:!0,features:[L],decls:72,vars:15,consts:[["tree",""],["categoryHiddenBtn",""],["subCategoryHiddenBtn",""],["isEnableHiddenButtons",""],[1,"my-1","d-flex","justify-content-between","align-items-center"],[1,"col-md-6","px-0"],[1,"mb-0","heading"],[1,"pe-5","col-md-6","d-flex","justify-content-end"],["id","save",1,"btn","me-2","px-4",3,"click","disabled"],["id","back",1,"btn","px-4",3,"click"],[1,"border-bottom","mb-3"],[1,"container","pb-5"],[1,"row","mb-2"],[1,"col-12","col-md-auto"],["for","mainMenu",1,"form-label"],[1,"star"],[1,"col-12","col-md-3"],["id","modules",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"col-12","col-md-1"],["id","load","type","button",1,"btn","me-2","px-4","py-1",3,"click","disabled"],[1,"col-12","col-md-1","ms-auto"],[1,"container-fluid","mb-2","p-0"],[1,"row","mt-3"],[1,"col-md-6","mat-elevation-z2","p-0"],[1,"table-responsive","table1"],[1,"container"],[1,"h3","mt-2"],[1,"col-12"],["mat-table","",1,"custom-table",3,"dataSource"],["matColumnDef","feature_Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","sub_Category"],["matColumnDef","isEnable"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"col-md-6"],[1,"row","ms-1"],[1,"col-12","mat-elevation-z2","mb-2","p-0"],[1,"row","align-items-center"],[1,"col-md-12"],["animationDuration","0ms",1,"mt-2",3,"selectedTabChange"],["value","0","label","Menu Configuration"],["value","1","label","Setting Configuration"],[1,"filter"],[1,"form-control",3,"ngModel"],[1,"table-responsive"],[1,"table-size"],["id","load","type","button",1,"btn","me-2","px-4","py-1",3,"click"],["mat-header-cell",""],["mat-cell",""],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],[3,"change","ngModelChange","ngModel","disabled"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],["mat-icon-button","","matTreeNodeToggle","",1,"hiddenButton"],[3,"ngModelChange","change","ngModel","disabled"],["mat-header-row",""],["mat-row",""],[1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],["matColumnDef","checkbox"],["matColumnDef","Interface_Name"],["matColumnDef","Do_Menu_Visible"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],[3,"ngModelChange","ngModel","disabled"],["matColumnDef","Function_Name"],["matColumnDef","Default_Value"],["matColumnDef","Disabling_Value"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["matColumnDef","Is_User_Configurable"],[1,"mat-row"],[3,"change","disabled"],[1,"form-control",3,"ngModel","disabled"],["type","number","min","0",1,"form-control",3,"ngModel","disabled"],["name","","id","",1,"form-select",3,"disabled"],["name","","id","",1,"form-select","p-0",3,"ngModel","disabled"],[1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","disabled"],["name","","id","",1,"form-select","p-0",3,"ngModelChange","ngModel","disabled"],["mat-cell","",2,"text-align","center"]],template:function(e,t){e&1&&(s(0,"div",4)(1,"div",5)(2,"h4",6),c(3),l()(),s(4,"div",7)(5,"button",8),x("click",function(){return t.submit()}),c(6,"SAVE"),l(),s(7,"button",9),x("click",function(){return t.goBack()}),c(8,"BACK"),l()()(),g(9,"div",10),s(10,"div",11)(11,"div",12)(12,"div",13)(13,"label",14),c(14,"Variant Name:"),s(15,"span",15),c(16,"*"),l()()(),s(17,"div",16)(18,"select",17),w("ngModelChange",function(a){return T(t.variantId,a)||(t.variantId=a),a}),oe(19,on,2,2,"option",18,ae),l()(),s(21,"div",13)(22,"label",14),c(23,"Module:"),s(24,"span",15),c(25,"*"),l()()(),s(26,"div",16)(27,"select",17),w("ngModelChange",function(a){return T(t.moduleId,a)||(t.moduleId=a),a}),oe(28,rn,2,2,"option",18,ae),l()(),s(30,"div",19)(31,"button",20),x("click",function(){return t.loadFeature()}),c(32,"Load"),l()(),f(33,sn,3,0,"div",21),l(),s(34,"div",22)(35,"div",23)(36,"div",24)(37,"div",25)(38,"div",26)(39,"h3",27),c(40," Features"),l()(),s(41,"div",28),g(42,"app-generic-filter"),l(),s(43,"table",29),D(44,30),f(45,ln,2,0,"th",31)(46,un,5,5,"td",32),M(),D(47,33),f(48,hn,2,0,"th",31)(49,pn,5,5,"td",32),M(),D(50,34),f(51,fn,2,0,"th",31)(52,vn,5,5,"td",32),M(),D(53,35),f(54,bn,2,0,"th",31)(55,Dn,5,5,"td",32),M(),f(56,Mn,1,0,"tr",36)(57,En,1,0,"tr",37),l()()(),s(58,"div",38)(59,"div",39)(60,"div",40)(61,"div",41)(62,"div",42)(63,"mat-tab-group",43),x("selectedTabChange",function(a){return t.onTabClick(a)}),g(64,"mat-tab",44)(65,"mat-tab",45),l()()(),s(66,"div",46),f(67,In,5,1,"select",47),l(),s(68,"div",48),f(69,Rn,16,6,"div",49)(70,ai,22,6,"table",29),g(71,"div"),l()()()()()()()),e&2&&(d(3),se(t.formHeading),d(2),u("disabled",t.mode==="view"),d(13),I("ngModel",t.variantId),u("disabled",t.mode==="view"),d(),re(t.variant),d(8),I("ngModel",t.moduleId),u("disabled",t.mode==="view"||t.isInherit),d(),re(t.module),d(3),u("disabled",t.mode==="view"||t.isInherit),d(2),ie(t.mode==="view"?33:-1),d(10),u("dataSource",t.dataSource),d(13),u("matHeaderRowDef",j(13,zt)),d(),u("matRowDefColumns",j(14,zt)),d(10),ie(t.featureName.length>0?67:-1),d(2),ie(t.clickedTabIndex===0?69:70))},dependencies:[be,st,rt,Nt,Vt,jt,Lt,Kt,Wt,Ht,Rt,Ct,lt,ct,_t,ut,dt,pt,ht,mt,ft,gt,Ft,kt,It,Mt,Et,vt,yt,Dt,bt,St,xt,ot,it,at],styles:["h4[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.h3[_ngcontent-%COMP%]{color:#336799}label[_ngcontent-%COMP%], input[type=select][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;line-height:normal}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:14px}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff40;box-shadow:0 0 0 .1rem #007bff40}.heading[_ngcontent-%COMP%]{margin-left:8rem}.star[_ngcontent-%COMP%]{color:red}#load[_ngcontent-%COMP%]{background-color:#4081bf;color:#fff;font-size:14px}#save[_ngcontent-%COMP%]{background-color:#336799;color:#fff;font-size:14px}#back[_ngcontent-%COMP%]{color:#336799;border:1px solid rgba(51,103,153,1);font-size:14px}#back[_ngcontent-%COMP%]:hover, #save[_ngcontent-%COMP%]:hover{background-color:#336899ac;color:#fff;border:none}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f6f6f6f5}tr[_ngcontent-%COMP%]:nth-child(2n)   .mat-tree-node[_ngcontent-%COMP%]{background-color:#f6f6f6f5}tr[_ngcontent-%COMP%]:nth-child(odd)   .mat-tree-node[_ngcontent-%COMP%]{background-color:#fffffff5}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;cursor:pointer;padding:0}.mat-mdc-header-row[_ngcontent-%COMP%]{border-top:1px solid gainsboro}.mat-mdc-row[_ngcontent-%COMP%]{overflow-y:auto}.custom-table[_ngcontent-%COMP%]{background-color:#fffdfd;overflow-y:auto}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd}.table1[_ngcontent-%COMP%]{max-height:80vh}.table-size[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.table-size[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1b0}.table-size[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a5a5a5;border-radius:10px;border:2px solid #f1f1f1}.table-size[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#b0b0b0c0}.hiddenButton[_ngcontent-%COMP%]{display:none}"]})};var Ma=[{path:"",component:xe},{path:":subpath",component:Me}];export{Ma as VariantConfig_routes};
