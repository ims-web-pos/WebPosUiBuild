"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[9477],{62106:(_,p,i)=>{i.d(p,{A:()=>c});var h=i(46543),u=i(26320);let c=(()=>{class a{}return a.\u0275fac=function(m){return new(m||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[h.m]}),a})()},49137:(_,p,i)=>{i.d(p,{C:()=>u});var h=i(26320);let u=(()=>{class c{transform(g,m,e){if(g)return m?g.filter(d=>{let v=d[e];const O=m.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(v?v.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(O))return d}):g}}return c.\u0275fac=function(g){return new(g||c)},c.\u0275pipe=h.Yjl({name:"searchData",type:c,pure:!1}),c})()},82738:(_,p,i)=>{i.d(p,{b:()=>e});var h=i(1298),u=i(68567),c=i(87584),a=i(76750),g=i(53074),m=i(26320);let e=(()=>{class d{static forRoot(){return{ngModule:d,providers:[g.P,c.p]}}}return d.\u0275fac=function(O){return new(O||d)},d.\u0275mod=m.oAB({type:d}),d.\u0275inj=m.cJS({imports:[h.ez,a.zk.forRoot(),u.JX]}),d})()},19477:(_,p,i)=>{i.r(p),i.d(p,{ECommerceOrderListModule:()=>k});var h=i(1298),u=i(68567),c=i(44841),a=i(76750),g=i(70489),m=i(70477),e=i(26320),d=i(14970),v=i(17545),O=i(67297),f=i(71180);let T=(()=>{class r{constructor(t,n,l){this.http=t,this.authService=n,this.state=l;const s=this.state.getGlobalSetting("apiUrl");s&&s.length>0&&(this.apiUrl=s)}getToBeDeliveredEComOrderList(t){return this.http.get(this.apiUrl+`/getOrderForDeliveryPagedList?deliveryStatus=1&currentPage=${t}&maxResultCount=20`)}getDeliveredEComOrderList(t){return this.http.get(this.apiUrl+`/getOrderForDeliveryPagedList?deliveryStatus=3&currentPage=${t}&maxResultCount=20`)}saveItemAsDelivered(t=[]){return this.http.post(this.apiUrl+"/updateOrderListAsDelivered",{data:t})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(v.eN),e.LFG(O.e),e.LFG(f.q))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var E=i(67311),C=i(81152),L=i(49137);function M(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"th",19)(1,"input",23),e.NdJ("change",function(l){e.CHM(t);const s=e.oxw();return e.KtG(s.selectAll(l))}),e.qZA(),e._uU(2,"Select All "),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.checkAllSelectionofOrder())}}function P(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"td",26)(1,"input",27),e.NdJ("ngModelChange",function(l){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.Is_Checked=l)}),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.Is_Checked)}}function A(r,o){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,P,2,1,"td",25),e.TgZ(2,"td",26),e._uU(3),e.qZA(),e.TgZ(4,"td",26),e._uU(5),e.qZA(),e.TgZ(6,"td",26),e._uU(7),e.qZA(),e.TgZ(8,"td",26),e._uU(9),e.qZA(),e.TgZ(10,"td",26),e._uU(11),e.qZA()()),2&r){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.ToBeDeliveredOrderList.length>0),e.xp6(2),e.Oqu(t.ORDER_NUMBER),e.xp6(2),e.Oqu(t.CUSTOMER),e.xp6(2),e.Oqu(t.AMOUNT),e.xp6(2),e.Oqu(t.ORDER_STATUS),e.xp6(2),e.Oqu(t.DELIVERY_STATUS)}}const D=function(r,o,t){return{currentPage:r,itemsPerPage:o,totalItems:t}};function Z(r,o){if(1&r&&(e.ynx(0),e.YNc(1,A,12,6,"tr",24),e.ALo(2,"paginate"),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.ToBeDeliveredOrderList,e.kEZ(4,D,t.toBeDeliveredcurrentPage,t.itemsPerPage,t.tobeDeliveredOrderTotalCount)))}}function x(r,o){1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"div",29),e._uU(4,"Order Lists are unavailable."),e.qZA()()(),e.BQk())}function S(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"pagination-controls",33),e.NdJ("pageChange",function(l){e.CHM(t);const s=e.oxw();return e.KtG(s.tobeDeliveredOrderlistPagination(l))}),e.qZA()()()()}}function U(r,o){if(1&r&&(e.TgZ(0,"tr")(1,"td",26),e._uU(2),e.qZA(),e.TgZ(3,"td",26),e._uU(4),e.qZA(),e.TgZ(5,"td",26),e._uU(6),e.qZA(),e.TgZ(7,"td",26),e._uU(8),e.qZA(),e.TgZ(9,"td",26),e._uU(10),e.qZA()()),2&r){const t=o.$implicit;e.xp6(2),e.Oqu(t.ORDER_NUMBER),e.xp6(2),e.Oqu(t.CUSTOMER),e.xp6(2),e.Oqu(t.AMOUNT),e.xp6(2),e.Oqu(t.ORDER_STATUS),e.xp6(2),e.Oqu(t.DELIVERY_STATUS)}}function B(r,o){if(1&r&&(e.ynx(0),e.YNc(1,U,11,5,"tr",24),e.ALo(2,"paginate"),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.DeliveredOrderList,e.kEZ(4,D,t.DeliveredcurrentPage,t.itemsPerPage,t.deliveredOrderTotalCount)))}}function y(r,o){1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"div",29),e._uU(4,"Order Lists are unavailable."),e.qZA()()(),e.BQk())}function b(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"pagination-controls",33),e.NdJ("pageChange",function(l){e.CHM(t);const s=e.oxw();return e.KtG(s.DeliveredOrderlistPagination(l))}),e.qZA()()()()}}const R=[{path:"",component:(()=>{class r{constructor(t,n,l,s){this.loadingService=t,this.EComorderService=n,this.router=l,this.alertService=s,this.ToBeDeliveredOrderList=[],this.DeliveredOrderList=[],this.toBeDeliveredcurrentPage=1,this.DeliveredcurrentPage=1,this.itemsPerPage=20,this.offset=0}ngOnInit(){this.getToBeDeliveredEcomOrderList(),this.getDeliveredEcomOrderList()}getToBeDeliveredEcomOrderList(){this.ToBeDeliveredOrderList=[],this.EComorderService.getToBeDeliveredEComOrderList(this.toBeDeliveredcurrentPage).subscribe(t=>{t.result?(this.ToBeDeliveredOrderList=t.result?t.result.data:[],this.tobeDeliveredOrderTotalCount=t.result.totalCount,this.ToBeDeliveredOrderList.length>0&&this.ToBeDeliveredOrderList.forEach(n=>{n.Is_Checked=!1})):(this.ToBeDeliveredOrderList=[],this.errorMessage="Something went wrong.")},t=>{this.ToBeDeliveredOrderList=[],this.errorMessage="Something went wrong."})}getDeliveredEcomOrderList(){this.EComorderService.getDeliveredEComOrderList(this.DeliveredcurrentPage).subscribe(t=>{t.result?(this.DeliveredOrderList=t.result?t.result.data:[],this.deliveredOrderTotalCount=t.result.totalCount):(this.DeliveredOrderList=[],this.errorMessage="Something went wrong.")},t=>{this.DeliveredOrderList=[],this.errorMessage="Something went wrong."})}tobeDeliveredOrderlistPagination(t){this.toBeDeliveredcurrentPage=t,this.getToBeDeliveredEcomOrderList()}DeliveredOrderlistPagination(t){this.DeliveredcurrentPage=t,this.getDeliveredEcomOrderList()}selectAll(t){this.ToBeDeliveredOrderList.forEach(t.target.checked?n=>n.Is_Checked=!0:n=>n.Is_Checked=!1)}checkAllSelectionofOrder(){return null==this.ToBeDeliveredOrderList.find(n=>0==n.Is_Checked)}disableSaveButton(){let t=this.ToBeDeliveredOrderList.filter(n=>1==n.Is_Checked);return!(t&&t.length>0)}saveItemAsDelivered(){let t=this.ToBeDeliveredOrderList.map(n=>1==n.Is_Checked?{orderid:n.ORDER_ID,Remarks:null}:null).filter(Boolean);t&&t.length>0?(this.loadingService.show("Saving data, Please wait..."),this.EComorderService.saveItemAsDelivered(t).subscribe(n=>{if("ok"==n.status)this.loadingService.hide(),this.alertService.success("Data Saved Successfully!"),this.refreshPage();else{if("The ConnectionString property has not been initialized."==n.result)return void this.router.navigate(["/login",this.router.url]);this.alertService.error("Error in Saving Data:"+n.result)}})):this.alertService.info("No Order Selected!")}refreshPage(){this.toBeDeliveredcurrentPage=1,this.DeliveredcurrentPage=1,this.getToBeDeliveredEcomOrderList(),this.getDeliveredEcomOrderList()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.V),e.Y36(T),e.Y36(m.F0),e.Y36(E.c))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ecommerce-order-list"]],decls:62,vars:16,consts:[[1,"row","col-md-12"],[1,"col-md-4"],[1,"col-md-8"],["orderrLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"disabled","click"],[1,"row",2,"align-items","center"],[1,"col-md-12","col-sm-8",2,"margin-top","0.5rem"],[1,"card",2,"margin","auto","width","63rem"],[1,"card-header"],[1,"nav","nav-tabs",2,"width","100%"],[1,"nav-item"],["href","#to-be-delivered","data-toggle","tab",1,"nav-link","active"],["href","#delivered","data-toggle","tab",1,"nav-link"],[1,"tab-content"],["id","to-be-delivered",1,"tab-pane","active"],[1,"card-body"],[1,"table","table-striped"],[2,"position","sticky","top","0","line-height","1.5rem"],["scope","col","style","width:15%;",4,"ngIf"],["scope","col",2,"width","15%"],[4,"ngIf"],["class","card-footer","style","padding:5px",4,"ngIf"],["id","delivered",1,"tab-pane"],["type","checkbox",2,"margin-left","40%","margin-right","3%",3,"checked","change"],[4,"ngFor","ngForOf"],["style","width:15%",4,"ngIf"],[2,"width","15%"],["type","checkbox",3,"ngModel","ngModelChange"],["colspan","5"],[1,"font-weight-bold"],[1,"card-footer",2,"padding","5px"],[1,"pagination"],[2,"margin","auto"],[1,"my-pagination",3,"pageChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5"),e._uU(3,"E-Commerce Order List"),e.qZA()(),e.TgZ(4,"div",2)(5,"button",3),e._uU(6,"Back"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return n.saveItemAsDelivered()}),e._uU(8,"Save As Delivered"),e.qZA()()(),e.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"ul",9)(14,"li",10)(15,"a",11),e._uU(16,"To Be Delivered"),e.qZA()(),e.TgZ(17,"li",10)(18,"a",12),e._uU(19,"Delivered"),e.qZA()()()(),e.TgZ(20,"div",13)(21,"div",14)(22,"div",15)(23,"table",16)(24,"thead")(25,"tr",17),e.YNc(26,M,3,1,"th",18),e.TgZ(27,"th",19),e._uU(28,"ORDER NO."),e.qZA(),e.TgZ(29,"th",19),e._uU(30,"CUSTOMER"),e.qZA(),e.TgZ(31,"th",19),e._uU(32,"AMOUNT"),e.qZA(),e.TgZ(33,"th",19),e._uU(34,"ORDER STATUS"),e.qZA(),e.TgZ(35,"th",19),e._uU(36,"DELIVERY STATUS"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,Z,3,8,"ng-container",20),e.YNc(39,x,5,0,"ng-container",20),e.qZA()()(),e.YNc(40,S,4,0,"div",21),e.qZA(),e.TgZ(41,"div",22)(42,"div",15)(43,"table",16)(44,"thead")(45,"tr",17)(46,"th",19),e._uU(47,"ORDER NO."),e.qZA(),e.TgZ(48,"th",19),e._uU(49,"CUSTOMER"),e.qZA(),e.TgZ(50,"th",19),e._uU(51,"AMOUNT"),e.qZA(),e.TgZ(52,"th",19),e._uU(53,"ORDER STATUS"),e.qZA(),e.TgZ(54,"th",19),e._uU(55,"DELIVERY STATUS"),e.qZA()()(),e.TgZ(56,"tbody"),e.YNc(57,B,3,8,"ng-container",20),e.YNc(58,y,5,0,"ng-container",20),e.ALo(59,"searchData"),e.qZA()()(),e.YNc(60,b,4,0,"div",21),e.ALo(61,"searchData"),e.qZA()()()()()),2&t&&(e.xp6(7),e.Q6J("disabled",n.disableSaveButton()),e.xp6(19),e.Q6J("ngIf",n.ToBeDeliveredOrderList.length>0),e.xp6(12),e.Q6J("ngIf",n.ToBeDeliveredOrderList.length>0),e.xp6(1),e.Q6J("ngIf",n.ToBeDeliveredOrderList&&0===n.ToBeDeliveredOrderList.length),e.xp6(1),e.Q6J("ngIf",n.ToBeDeliveredOrderList&&n.ToBeDeliveredOrderList.length<n.tobeDeliveredOrderTotalCount),e.xp6(17),e.Q6J("ngIf",n.DeliveredOrderList.length>0),e.xp6(1),e.Q6J("ngIf",n.DeliveredOrderList&&0===e.Dn7(59,8,n.DeliveredOrderList,n.filter,"CUSTOMER").length),e.xp6(2),e.Q6J("ngIf",n.DeliveredOrderList&&e.Dn7(61,12,n.DeliveredOrderList,n.filter,"CUSTOMER").length<n.deliveredOrderTotalCount))},dependencies:[h.sg,h.O5,C.Wl,C.JJ,C.On,u.LS,u._s,L.C],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]:after{display:none}.card-body[_ngcontent-%COMP%]{padding:5px!important;max-height:675px!important}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem!important;text-align:center}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;height:59vh;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}th[_ngcontent-%COMP%]{font-size:15px}td[_ngcontent-%COMP%]{font-size:13px}.btn-sm[_ngcontent-%COMP%]{line-height:3px}.card-header[_ngcontent-%COMP%]{padding:10px 20px}.card-footer[_ngcontent-%COMP%]{height:6vh}.searchBy[_ngcontent-%COMP%]{font-size:13px;margin-left:16rem}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#17a2b8!important;border:transparent!important;border-radius:20px!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover{background:#74d4e2!important;border-radius:20px!important;border:transparent!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#c2c2c2;border-radius:20px!important}"]}),r})()}];let I=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.Bz.forChild(R),m.Bz]}),r})();var N=i(82738),J=i(46543),w=i(62106);let k=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[T],imports:[J.m,h.ez,I,u.JX,c.Xd,a.zk.forRoot(),g.Is,N.b.forRoot(),w.A]}),r})()}}]);