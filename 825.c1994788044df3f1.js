"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[825],{62106:(S,m,n)=>{n.d(m,{A:()=>u});var h=n(69401),g=n(64537);let u=(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275mod=g.oAB({type:l}),l.\u0275inj=g.cJS({imports:[h.m]}),l})()},53158:(S,m,n)=>{n.d(m,{i:()=>t});var h=n(88692),g=n(72533),u=n(20092),l=n(64537);let t=(()=>{class a{static forRoot(){return{ngModule:a}}}return a.\u0275fac=function(A){return new(A||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({imports:[h.ez,u.u5,u.UX,g.JX]}),a})()},9277:(S,m,n)=>{n.r(m),n.d(m,{AssetIdPrintingModule:()=>j});var h=n(7976),g=n(28698),u=n(31722),l=n(38011),t=n(64537),a=n(53074),I=n(86833),A=n(14970),O=n(67311),C=n(88692),p=n(20092);const T=["multiselectGenericGrid"],E=["genericGrid"],_=["genericGridForProduct"];function x(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",7)(1,"label",8),t._uU(2,"Product:"),t.qZA(),t.TgZ(3,"input",30),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.formObj.AssetName=o)})("keydown.Enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.selectProductEvent())}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.formObj.AssetName)}}function v(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",7)(1,"label",8),t._uU(2,"Voucher No:"),t.qZA(),t.TgZ(3,"input",31),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.formObj.voucherNo=o)})("keydown.Enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.selectProductEvent())}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.formObj.voucherNo)}}function s(r,c){if(1&r&&(t.ynx(0),t.TgZ(1,"option",35),t._uU(2),t.qZA(),t.BQk()),2&r){const e=c.$implicit;t.xp6(1),t.Q6J("ngValue",e.LocID),t.xp6(1),t.Oqu(e.Name)}}function f(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",32)(1,"label",33),t._uU(2,"Location :"),t.qZA(),t.TgZ(3,"select",34),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.formObj.Location=o)}),t._UZ(4,"option"),t.TgZ(5,"option",35),t._uU(6,"All"),t.qZA(),t.YNc(7,s,3,2,"ng-container",24),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.formObj.Location),t.xp6(2),t.Q6J("ngValue",0),t.xp6(2),t.Q6J("ngForOf",e.locationList)}}function P(r,c){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"label",36),t._uU(2,"Asset ID :"),t.qZA(),t.TgZ(3,"input",37),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.formObj.AssetID=o)})("keydown.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onAssetIDEnter())}),t.qZA(),t.BQk()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.formObj.AssetID)("disabled",!e.formObj.AssetName)}}function Z(r,c){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"label",36),t._uU(2,"Product :"),t.qZA(),t.TgZ(3,"input",38),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.formObj.ProductName=o)})("keydown.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onAssetIDEnter())}),t.qZA(),t.BQk()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.formObj.ProductName)}}function D(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td",39),t._uU(2),t.qZA(),t.TgZ(3,"td",40),t._uU(4),t.qZA(),t.TgZ(5,"td",41),t._uU(6),t.qZA(),t.TgZ(7,"td",41),t._uU(8),t.qZA(),t.TgZ(9,"td",41),t._uU(10),t.qZA(),t.TgZ(11,"td",41)(12,"input",42),t.NdJ("ngModelChange",function(o){const M=t.CHM(e).$implicit;return t.KtG(M.ISACTIVE=o)})("change",function(o){const M=t.CHM(e).$implicit;return t.KtG(M.ISACTIVE=!!o.target.checked)}),t.qZA()()()}if(2&r){const e=c.$implicit,i=c.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(e.AssetID),t.xp6(2),t.Oqu(e.AssetName),t.xp6(2),t.Oqu(e.Description),t.xp6(2),t.Oqu(e.Location),t.xp6(2),t.Q6J("ngModel",e.ISACTIVE)}}let y=(()=>{class r{constructor(e,i,o,d){this.masterService=e,this._assetService=i,this.spinnerService=o,this.alertService=d,this.assetPrintingList=[],this.multiselectPopupSettings=new l.oe,this.gridPopupSettings=new g.im,this.gridPopupForProductSettings=new g.im,this.assetIdList=[],this.assetLocationList=[],this.formObj={}}ngOnInit(){this.SearchModeSelect="PRODUCTWISE",this._assetService.getAssetLocation().subscribe(e=>{this.locationList=e.result,this.assignDefaultLocation()},e=>{this.locationList=[]})}assignDefaultLocation(){this.formObj.Location=0}onAssetIDEnter(){"PURCHASEVOUCHERWISE"==this.SearchModeSelect?(this.gridPopupForProductSettings={title:"Asset List",apiEndpoints:"/getProductForPrintingVoucherWise",defaultFilterIndex:1,bodyData:{VCHRNO:this.formObj.voucherNo},columns:[{key:"MENUCODE",title:"MENUCODE",hidden:!1,noSearch:!1},{key:"DESCA",title:"Name",hidden:!1,noSearch:!1},{key:"DESCRIPTION",title:"Description",hidden:!1,noSearch:!1}]},this.genericGridForProduct.show()):(this.multiselectPopupSettings={title:"Asset List",apiEndpoints:`/getAssetIDListForPrintingProductWise/${this.formObj.mcode}/${this.formObj.Location}`,defaultFilterIndex:1,columns:[{key:"AssetID",title:"Asset ID",hidden:!1,noSearch:!1},{key:"AssetName",title:"Asset Name",hidden:!1,noSearch:!1},{key:"Description",title:"Description",hidden:!1,noSearch:!1}]},this.multiselectGenericGrid.show())}onMultiItemSelected(e){this.formObj.AssetID=e.MCODE,this.formObj.Description=e.DESCA.split(",")[0],console.log(e)}dblClickProduct(e){console.log(e),this.formObj.ProductName=e.DESCA,this.formObj.mcode=e.MCODE}ChooseSearchMode(e){this.SearchModeSelect=e}printAssetList(){if(console.log(this.assetPrintingList,"<-printvalue:"),0!=this.assetPrintingList.length)try{let i=this.assetPrintingList.filter(o=>1==o.ISACTIVE);console.log(i,"<-data to be printed"),this.connection.invoke("PrintingID",JSON.stringify(i))}catch(i){return console.error(i.toString())}else alert("Please select item first")}selectProductEvent(){this.gridPopupSettings="PRODUCTWISE"===this.SearchModeSelect?{title:"Item list",apiEndpoints:"/getAssetsMenuitemPagedList",defaultFilterIndex:1,columns:[{key:"MENUCODE",title:"Product Code",hidden:!1,noSearch:!1},{key:"DESCA",title:"Product Name",hidden:!1,noSearch:!1},{key:"DESCB",title:"Short Name",hidden:!1,noSearch:!1}]}:{title:"Item list",apiEndpoints:"/getTrnMainPagedList/PI/ASSET_PURCHASE",defaultFilterIndex:1,columns:[{key:"VCHRNO",title:"Voucher No.",hidden:!1,noSearch:!1},{key:"TRNDATE",title:"Date",hidden:!1,noSearch:!1},{key:"REFBILL",title:"Invoice No.",hidden:!1,noSearch:!1},{key:"ACNAME",title:"Supplier",hidden:!1,noSearch:!1},{key:"TOTAMNT",title:"Amount",hidden:!1,noSearch:!1}]},this.genericGrid.show()}dblClickPopupItem(e){"PRODUCTWISE"===this.SearchModeSelect?(this.formObj.mcode=e.MCODE,this.formObj.AssetName=e.DESCA,this._assetService.getLocationForPrintingProductWise(this.formObj.mcode).subscribe(i=>{this.locationList=i.result})):this.formObj.voucherNo=e.VCHRNO}loadAssetIdPrinting(){"PRODUCTWISE"===this.SearchModeSelect?(this.formObj.AssetID?(this.formObj.AssetID.split(",").map(o=>o.trim()).map(o=>({AssetID:o,AssetName:this.formObj.AssetName,Description:this.formObj.Description,Location:this.formObj.Location})).forEach(o=>{this.assetPrintingList.push(o)}),this.multiselectGenericGrid.selectedItems=[]):this._assetService.viewAssetIDListForPrintingProductWise(this.formObj.mcode,this.formObj.Location).subscribe(e=>{e.result?.length?this.assetPrintingList=e.result:this.alertService.info("No data found!")}),this.assetIdList=[]):this._assetService.getAssetIdvoucherwise(this.formObj.voucherNo,this.formObj.mcode).subscribe(e=>{e.result.forEach(i=>{i.ISACTIVE=!0}),this.assetPrintingList=[...this.assetPrintingList,...e.result]}),this.formObj={},this.assignDefaultLocation()}onReset(){confirm("Are you sure you want to reset ?")&&(this.formObj={},this.assignDefaultLocation(),this.assetPrintingList=[])}selectOption(e){this.formObj.AssetID=e.AssetID,this.formObj.Location=e.Location,this.formObj.Description=e.Description,this.formObj.ISACTIVE=!0}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(a.P),t.Y36(I.C),t.Y36(A.V),t.Y36(O.c))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-asset-id-printing"]],viewQuery:function(e,i){if(1&e&&(t.Gf(u.c,5),t.Gf(T,5),t.Gf(E,5),t.Gf(_,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.suggestComponent=o.first),t.iGM(o=t.CRH())&&(i.multiselectGenericGrid=o.first),t.iGM(o=t.CRH())&&(i.genericGrid=o.first),t.iGM(o=t.CRH())&&(i.genericGridForProduct=o.first)}},decls:56,vars:9,consts:[[1,"AssetIdPrinting-section"],[1,"title-section"],["type","button","routerLink","/pages/dashboard",1,"btn","pull-right"],["type","button",1,"btn","pull-right",3,"click"],[1,"container-fluid"],[1,"row","AssetIdPrintingform"],[1,"col-md-8","pd0"],[1,"form-group","row"],[1,"form-control-label"],[3,"change"],["value","PRODUCTWISE"],["value","PURCHASEVOUCHERWISE"],["class"," form-group row",4,"ngIf"],[1,"locationWrapper",2,"display","flex"],["class","form-group row w-100",4,"ngIf"],[4,"ngIf"],[1,"btn","button",2,"margin-left","50px","height","80%","margin-bottom","5px",3,"click"],[1,"assetIdPrintingList"],[1,"container","main-container",2,"max-height","278px","overflow","auto","padding-bottom","2px","max-width","95%"],["id","BlueHeaderResizableTable",1,"table","table-striped",2,"margin-bottom","0px","line-height","13px"],[1,"stickHead"],[1,"fontsize",2,"width","5%","font-weight","bold"],[1,"fontsize",2,"width","15%","font-weight","bold"],[1,"fontsize",2,"width","20%","font-weight","bold"],[4,"ngFor","ngForOf"],[3,"popupsettings","onItemDoubleClick"],["genericGrid",""],["genericGridForProduct",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],["type","text","placeholder"," Press Enter to Select Item","readonly","",1,"",3,"ngModel","ngModelChange","keydown.Enter"],["type","text","placeholder"," Press Enter to Select Voucher Number","readonly","",1,"",3,"ngModel","ngModelChange","keydown.Enter"],[1,"form-group","row","w-100"],["for","",1,"form-control-label"],[2,"width","30%","height","24px",3,"ngModel","ngModelChange"],[3,"ngValue"],["for",""],["type","text","readonly","","placeholder","Press ENTER to Select",3,"ngModel","disabled","ngModelChange","keydown.enter"],["type","text","readonly","","placeholder","Press ENTER to Select",3,"ngModel","ngModelChange","keydown.enter"],[2,"width","5%"],[2,"width","15%"],[2,"width","20%"],["type","checkbox","name","print",3,"ngModel","ngModelChange","change"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"ASSET ID Printing"),t.qZA(),t.TgZ(3,"button",2),t._uU(4,"Back"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.onReset()}),t._uU(6,"Reset"),t.qZA(),t.TgZ(7,"button",3),t.NdJ("click",function(){return i.printAssetList()}),t._uU(8,"Print "),t.qZA()(),t.TgZ(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7)(13,"label",8),t._uU(14,"Search Mode:"),t.qZA(),t.TgZ(15,"select",9),t.NdJ("change",function(d){return i.ChooseSearchMode(d.target.value)}),t.TgZ(16,"option",10),t._uU(17,"Product Wise"),t.qZA(),t.TgZ(18,"option",11),t._uU(19,"Purchase Voucher Wise"),t.qZA()()(),t.YNc(20,x,4,1,"div",12),t.YNc(21,v,4,1,"div",12),t.TgZ(22,"div",13),t.YNc(23,f,8,3,"div",14),t.qZA(),t.TgZ(24,"div",7),t.YNc(25,P,4,2,"ng-container",15),t.YNc(26,Z,4,1,"ng-container",15),t.TgZ(27,"button",16),t.NdJ("click",function(){return i.loadAssetIdPrinting()}),t._uU(28,"Load"),t.qZA()()()()(),t.TgZ(29,"div",17)(30,"span",1),t._uU(31,"ASSET ID Printing List"),t.qZA()(),t.TgZ(32,"div",18)(33,"table",19)(34,"thead",20)(35,"tr")(36,"th",21),t._uU(37,"S.N"),t.qZA(),t.TgZ(38,"th",22),t._uU(39,"Asset ID"),t.qZA(),t.TgZ(40,"th",23),t._uU(41,"Product Name"),t.qZA(),t.TgZ(42,"th",23),t._uU(43,"Description"),t.qZA(),t.TgZ(44,"th",23),t._uU(45,"Location"),t.qZA(),t.TgZ(46,"th",23),t._uU(47,"Print"),t.qZA()()(),t.TgZ(48,"tbody"),t.YNc(49,D,13,6,"tr",24),t.qZA()()(),t.TgZ(50,"generic-popup-grid",25,26),t.NdJ("onItemDoubleClick",function(d){return i.dblClickPopupItem(d)}),t.qZA(),t.TgZ(52,"generic-popup-grid",25,27),t.NdJ("onItemDoubleClick",function(d){return i.dblClickProduct(d)}),t.qZA(),t.TgZ(54,"multiselect-generic-grid",28,29),t.NdJ("onItemsSelected",function(d){return i.onMultiItemSelected(d)}),t.qZA()),2&e&&(t.xp6(20),t.Q6J("ngIf","PRODUCTWISE"==i.SearchModeSelect),t.xp6(1),t.Q6J("ngIf","PURCHASEVOUCHERWISE"==i.SearchModeSelect),t.xp6(2),t.Q6J("ngIf","PRODUCTWISE"==i.SearchModeSelect),t.xp6(2),t.Q6J("ngIf","PRODUCTWISE"==i.SearchModeSelect),t.xp6(1),t.Q6J("ngIf","PURCHASEVOUCHERWISE"==i.SearchModeSelect),t.xp6(23),t.Q6J("ngForOf",i.assetPrintingList),t.xp6(1),t.Q6J("popupsettings",i.gridPopupSettings),t.xp6(2),t.Q6J("popupsettings",i.gridPopupForProductSettings),t.xp6(2),t.Q6J("popupsettings",i.multiselectPopupSettings))},dependencies:[h.rH,C.sg,C.O5,g.Zl,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.On,l.ky],styles:[".AssetIdPrinting-section[_ngcontent-%COMP%], .assetIdPrintingList[_ngcontent-%COMP%]{position:relative;height:40px;background:#d9e5e7}.AssetIdPrinting-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%], .assetIdPrintingList[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{position:absolute;font-family:Segoe UI Light;height:25px;font-style:normal;font-weight:700;font-size:18px;line-height:25px;color:#000;left:4%;top:50%;transform:translateY(-50%)}button[_ngcontent-%COMP%]{background-color:#4472c4;color:#fff;font-size:12px;margin-right:5px;margin-top:2px}.assetIdPrintingList[_ngcontent-%COMP%]{background-color:#cfd5ea!important}.AssetIdPrintingform[_ngcontent-%COMP%]{padding-top:30px}.AssetIdPrintingform[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .AssetIdPrintingform[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.AssetIdPrintingform[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:.5rem}.AssetIdPrintingform[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{align-items:center}.main-container[_ngcontent-%COMP%]{margin-top:15px}.stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#4472c4!important;line-height:1rem;z-index:2;color:#fff;font-weight:400!important}"]}),r})();var b=n(54536),L=n(47766),N=n(63321),U=n(53158);const F=[{path:"",component:y}];let j=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[h.Bz.forChild(F),b.Is,L.e,C.ez,N._,p.u5,U.i,h.Bz]}),r})()},40825:(S,m,n)=>{n.r(m),n.d(m,{FixedAssetsModule:()=>v});var h=n(20092),g=n(88692),u=n(7976),l=n(64537);const t=[{path:"asset-configuration",loadChildren:()=>n.e(8141).then(n.bind(n,18141)).then(s=>s.ConfigurationModule)},{path:"asset-location",loadChildren:()=>n.e(5455).then(n.bind(n,35455)).then(s=>s.AssetLocationModule)},{path:"asset-groups",loadChildren:()=>n.e(9836).then(n.bind(n,69836)).then(s=>s.AssetGroupsModule)},{path:"asset-id-printing",loadChildren:()=>Promise.resolve().then(n.bind(n,9277)).then(s=>s.AssetIdPrintingModule)},{path:"assetsmaster",loadChildren:()=>Promise.all([n.e(216),n.e(5482),n.e(8592),n.e(6516)]).then(n.bind(n,16516)).then(s=>s.ProductMaster2Module)}];let a=(()=>{class s{}return s.\u0275fac=function(P){return new(P||s)},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({imports:[u.Bz.forChild(t),u.Bz]}),s})();var I=n(56893);const A=[];let O=(()=>{class s{}return s.\u0275fac=function(P){return new(P||s)},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({imports:[u.Bz.forChild(A),u.Bz]}),s})(),C=(()=>{class s{}return s.\u0275fac=function(P){return new(P||s)},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({imports:[g.ez,O,I.xc]}),s})();var p=n(69401),T=n(86833),E=n(53158),_=n(9277),x=n(62106);let v=(()=>{class s{}return s.\u0275fac=function(P){return new(P||s)},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({providers:[T.C],imports:[g.ez,a,C,p.m,h.u5,E.i,_.AssetIdPrintingModule,x.A]}),s})()}}]);