"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[7998],{71459:(re,Z,S)=>{S.d(Z,{J:()=>V});var O=S(35757),e=S(718);let V=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[O.UX,O.u5]}),L})()},53158:(re,Z,S)=>{S.d(Z,{i:()=>G});var O=S(1298),e=S(68567),V=S(35757),L=S(718);let G=(()=>{class x{static forRoot(){return{ngModule:x}}}return x.\u0275fac=function(ie){return new(ie||x)},x.\u0275mod=L.oAB({type:x}),x.\u0275inj=L.cJS({imports:[O.ez,V.u5,V.UX,e.JX]}),x})()},57998:(re,Z,S)=>{S.r(Z),S.d(Z,{ReportModule:()=>$b});var O=S(55757),e=S(718);let V=(()=>{class a{constructor(){}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["report"]],decls:1,vars:0,template:function(i,r){1&i&&e._UZ(0,"router-outlet")},dependencies:[O.lC],encapsulation:2}),a})();var L=S(70489);function G(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"closing-stock",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function x(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"bill-wise-item-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ne(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-invoice-detail-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ie(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-order-detail-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function le(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"customer-wise-item-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Q(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"item-master",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function pe(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"stock-settlement-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function k(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"item-scheme-master",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function w(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"itemwise-channel-margin",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function D(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-return-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ee(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-order-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function B(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-bill-cancel-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Y(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"customerwise-salesreturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ie(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"dailycollection-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ye(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"salesreturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function De(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"scheme-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ne(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-order-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function je(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ke(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-order-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Fe(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-return-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function we(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"itemwisestockandsalessummary",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function We(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"result-purchaseregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Le(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"saleseregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ze(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"opening-stock",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function xe(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"mrp-change-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ue(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"audit-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ve(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchasereturn-summary-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Be(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"daily-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ye(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"vat-sales-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Je(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"annexure13report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function qe(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"vat-purchase-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ge(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"debitnote-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function He(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"creditnote-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Qe(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"one-lakh-above-SALES-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ze(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"one-lakh-above-purchase-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ke(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"account-ledger-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function $e(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-book-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Xe(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"salesreport-itemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function et(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-book-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function tt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchasereport-itemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function rt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-report-itemwise-detail",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function it(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-report-itemwise-detail",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ot(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"credit-notebook-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function nt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"debit-notebook-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function at(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-report-supplier-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function st(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-report-customer-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function lt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-report-supplier-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function pt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"SalesReportProductTypeWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ct(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"PurchaseReportCategoryWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function _t(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"PurchaseReportProductTypeWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function dt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"SalesReportCategoryWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ht(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"salesregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function gt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"stock-summary-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ut(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"requisition-approval-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function mt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"stock-ledger-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function St(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"stock-valuation-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ot(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"membership-point-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function bt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"datereport",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Tt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"transreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function vt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"branch-transfer-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ft(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"item-expiry-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ct(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"maximum-stock-level-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function At(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"minimum-stock-level-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Pt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"reorder-level-stock-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Mt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"stockabc-analysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Rt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"pricechange-log-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Et(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-profitabilityanalysis",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function It(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-order-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function yt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-order-outstanding",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Dt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"quotation-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Nt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"salesorderreport-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function jt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"salesorderoutstanding-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function kt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"currentstockwarehousewise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ft(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"grn-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function wt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"repack-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Wt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"requisition-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Lt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"rawdata-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Zt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"stockageing-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function xt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"branch-transferout-vs-inreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ut(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"stock-warehouse-wise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Vt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"consolidatedpurchase-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Bt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"consolidatedsales-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Yt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"consolidatedstock-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Jt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"branch-transfer-in-reportitemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function qt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"branchtransferout-itemwise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Gt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"salescollection-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Ht(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"opening-stock-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Qt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"rate-group-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function zt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"salesprice-changelog-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Kt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"opening-stock-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function $t(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"VATSalesRegister-ReportNew",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Xt(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"vat-purchaseregisterreport-new",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function er(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"stock-issue-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function tr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"creditnote-sales-return-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function rr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"debitnote-purchasereturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ir(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"vat-other-adjustment-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function or(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"shift-close-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function nr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"stock-variance-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ar(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-revenueanalysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function sr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-report-salesman-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function lr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-report-membership-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function pr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"proformainvoicereport",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function cr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"recurring-transaction-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function _r(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"recurring-transaction-analysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function dr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-flow-report-monthwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function hr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"purchase-flow-report-monthwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function gr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"worsesales-analysisreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function ur(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"topsales-analysisreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function mr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"sales-revenue-metrics-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}function Sr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"app-hourly-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportdataEmit(o))}),e.qZA()}}let Se=(()=>{class a{constructor(i,r){this.dialogref=i,this.data=r,this.ReportParameters={},this.activeurlpath=r.activeurlpath,this.currentreportparam=r.reportparam}reportdataEmit(i){this.dialogref.close(i)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(L.so),e.Y36(L.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["masterdreportdialog"]],decls:110,vars:110,consts:[[3,"reportdataEmit",4,"ngIf"],[3,"reportdataEmit"]],template:function(i,r){1&i&&(e.YNc(0,G,1,0,"closing-stock",0),e.YNc(1,x,1,0,"bill-wise-item-sales-report",0),e.YNc(2,ne,1,0,"purchase-invoice-detail-report",0),e.YNc(3,ie,1,0,"purchase-order-detail-report",0),e.YNc(4,le,1,0,"customer-wise-item-sales-report",0),e.YNc(5,Q,1,0,"item-master",0),e.YNc(6,pe,1,0,"stock-settlement-report",0),e.YNc(7,k,1,0,"item-scheme-master",0),e.YNc(8,w,1,0,"itemwise-channel-margin",0),e.YNc(9,D,1,0,"purchase-return-report",0),e.YNc(10,ee,1,0,"sales-order-report",0),e.YNc(11,B,1,0,"sales-bill-cancel-report",0),e.YNc(12,Y,1,0,"customerwise-salesreturn-report",0),e.YNc(13,Ie,1,0,"dailycollection-report",0),e.YNc(14,ye,1,0,"salesreturn-report",0),e.YNc(15,De,1,0,"scheme-report",0),e.YNc(16,Ne,1,0,"purchase-order-summary",0),e.YNc(17,je,1,0,"purchase-summary",0),e.YNc(18,ke,1,0,"sales-order-summary",0),e.YNc(19,Fe,1,0,"sales-return-summary",0),e.YNc(20,we,1,0,"itemwisestockandsalessummary",0),e.YNc(21,We,1,0,"result-purchaseregisterreport-dialog",0),e.YNc(22,Le,1,0,"saleseregisterreport-dialog",0),e.YNc(23,Ze,1,0,"opening-stock",0),e.YNc(24,xe,1,0,"mrp-change-report",0),e.YNc(25,Ue,1,0,"audit-report",0),e.YNc(26,Ve,1,0,"purchasereturn-summary-report",0),e.YNc(27,Be,1,0,"daily-sales-report",0),e.YNc(28,Ye,1,0,"vat-sales-register-report",0),e.YNc(29,Je,1,0,"annexure13report",0),e.YNc(30,qe,1,0,"vat-purchase-register-report",0),e.YNc(31,Ge,1,0,"debitnote-register-report",0),e.YNc(32,He,1,0,"creditnote-register-report",0),e.YNc(33,Qe,1,0,"one-lakh-above-SALES-report",0),e.YNc(34,ze,1,0,"one-lakh-above-purchase-report",0),e.YNc(35,Ke,1,0,"account-ledger-report",0),e.YNc(36,$e,1,0,"purchase-book-report",0),e.YNc(37,Xe,1,0,"salesreport-itemwise",0),e.YNc(38,et,1,0,"sales-book-report",0),e.YNc(39,tt,1,0,"purchasereport-itemwise",0),e.YNc(40,rt,1,0,"sales-report-itemwise-detail",0),e.YNc(41,it,1,0,"purchase-report-itemwise-detail",0),e.YNc(42,ot,1,0,"credit-notebook-report",0),e.YNc(43,nt,1,0,"debit-notebook-report",0),e.YNc(44,at,1,0,"purchase-report-supplier-wise",0),e.YNc(45,st,1,0,"sales-report-customer-wise",0),e.YNc(46,lt,1,0,"sales-report-supplier-wise",0),e.YNc(47,pt,1,0,"SalesReportProductTypeWise",0),e.YNc(48,ct,1,0,"PurchaseReportCategoryWise",0),e.YNc(49,_t,1,0,"PurchaseReportProductTypeWise",0),e.YNc(50,dt,1,0,"SalesReportCategoryWise",0),e.YNc(51,ht,1,0,"salesregisterreport-dialog",0),e.YNc(52,gt,1,0,"stock-summary-report",0),e.YNc(53,ut,1,0,"requisition-approval-report",0),e.YNc(54,mt,1,0,"stock-ledger-report",0),e.YNc(55,St,1,0,"stock-valuation-report",0),e.YNc(56,Ot,1,0,"membership-point-report",0),e.YNc(57,bt,1,0,"datereport",0),e.YNc(58,Tt,1,0,"transreport",0),e.YNc(59,vt,1,0,"branch-transfer-report",0),e.YNc(60,ft,1,0,"item-expiry-report",0),e.YNc(61,Ct,1,0,"maximum-stock-level-report",0),e.YNc(62,At,1,0,"minimum-stock-level-report",0),e.YNc(63,Pt,1,0,"reorder-level-stock-report",0),e.YNc(64,Mt,1,0,"stockabc-analysis-report",0),e.YNc(65,Rt,1,0,"pricechange-log-report",0),e.YNc(66,Et,1,0,"sales-profitabilityanalysis",0),e.YNc(67,It,1,0,"purchase-order-report",0),e.YNc(68,yt,1,0,"purchase-order-outstanding",0),e.YNc(69,Dt,1,0,"quotation-report-selector",0),e.YNc(70,Nt,1,0,"salesorderreport-selector",0),e.YNc(71,jt,1,0,"salesorderoutstanding-selector",0),e.YNc(72,kt,1,0,"currentstockwarehousewise-report",0),e.YNc(73,Ft,1,0,"grn-report-selector",0),e.YNc(74,wt,1,0,"repack-report-selector",0),e.YNc(75,Wt,1,0,"requisition-report-selector",0),e.YNc(76,Lt,1,0,"rawdata-report-selector",0),e.YNc(77,Zt,1,0,"stockageing-report-selector",0),e.YNc(78,xt,1,0,"branch-transferout-vs-inreport",0),e.YNc(79,Ut,1,0,"stock-warehouse-wise-report",0),e.YNc(80,Vt,1,0,"consolidatedpurchase-reportbranchwise",0),e.YNc(81,Bt,1,0,"consolidatedsales-reportbranchwise",0),e.YNc(82,Yt,1,0,"consolidatedstock-reportbranchwise",0),e.YNc(83,Jt,1,0,"branch-transfer-in-reportitemwise",0),e.YNc(84,qt,1,0,"branchtransferout-itemwise-report",0),e.YNc(85,Gt,1,0,"salescollection-selector",0),e.YNc(86,Ht,1,0,"opening-stock-report-selector",0),e.YNc(87,Qt,1,0,"rate-group-report",0),e.YNc(88,zt,1,0,"salesprice-changelog-report",0),e.YNc(89,Kt,1,0,"opening-stock-report-selector",0),e.YNc(90,$t,1,0,"VATSalesRegister-ReportNew",0),e.YNc(91,Xt,1,0,"vat-purchaseregisterreport-new",0),e.YNc(92,er,1,0,"stock-issue-report",0),e.YNc(93,tr,1,0,"creditnote-sales-return-register-report",0),e.YNc(94,rr,1,0,"debitnote-purchasereturn-report",0),e.YNc(95,ir,1,0,"vat-other-adjustment-report",0),e.YNc(96,or,1,0,"shift-close-report",0),e.YNc(97,nr,1,0,"stock-variance-report",0),e.YNc(98,ar,1,0,"sales-revenueanalysis-report",0),e.YNc(99,sr,1,0,"sales-report-salesman-wise",0),e.YNc(100,lr,1,0,"sales-report-membership-wise",0),e.YNc(101,pr,1,0,"proformainvoicereport",0),e.YNc(102,cr,1,0,"recurring-transaction-report",0),e.YNc(103,_r,1,0,"recurring-transaction-analysis-report",0),e.YNc(104,dr,1,0,"sales-flow-report-monthwise",0),e.YNc(105,hr,1,0,"purchase-flow-report-monthwise",0),e.YNc(106,gr,1,0,"worsesales-analysisreport",0),e.YNc(107,ur,1,0,"topsales-analysisreport",0),e.YNc(108,mr,1,0,"sales-revenue-metrics-report",0),e.YNc(109,Sr,1,0,"app-hourly-sales-report",0)),2&i&&(e.Q6J("ngIf","closingStock"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","billwiseitemsalesreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseinvoicedetailreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorderdetailreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","customerwiseitemsales"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemMasterreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stockSettlementreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemSchemeMasterreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemwisechannelmarginreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereturnreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorder"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesbillcancelreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","customerwisesalesreturnreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","dailycollectionreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreturnreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","schemereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseordersummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasesummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesordersummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreturnsummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemwisestockandsalessummary"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseRegisterReport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesRegisterReport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","opening-stock-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","mrp-change-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","audit-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseReturnSummaryReport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","dailysalesreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatsalesregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","annexure13report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatpurchaseregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatdebitnoteregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatcreditnoteregister"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","onelakhsalesreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","onelakhpurchasereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","accountledgerreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasebookreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesbook-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-itemwise-detail"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-itemwise-detail"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","creditnotebook-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","debitnotebook-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-supplierwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-customerwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-supplierwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","SalesReportProductTypeWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","PurchaseReportCategoryWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","PurchaseReportProductTypeWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","SalesReportCategoryWise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","saleseregisterreport-dialog"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-summary-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","requisition-approval-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-ledger-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-valuation-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","membershippointreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","datereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","transreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transfer-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","item-expiry-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","max-stocklevel-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","minimum-stocklevel-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","reorder-levelstock-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-abcanalysis-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","price-changelog-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesprofitability-analysis"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorderreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorder-outstanding"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","quotationreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorderreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorderoutstanding"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","currentstock-warehousewise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","grn-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","repack-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","requisition-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","raw-data-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stockageing-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transferout-vs-inreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-report-warehouse-wise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedpurchase-report-branchwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedsales-report-branchwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedstock-report-branchwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transfer-inreport-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transferout-itemwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-collection-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","openingstockreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","rate-group-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesprice-changelog-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","openingstock-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-saleseregisterreport-new"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-purchaseregisterreport-new"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-issue-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","credit-note-sales-return-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","debitnote-purchasereturn-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-other-adjustment-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","shift-close-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-variance-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesrevenue-analysisreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-salesmanwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-membershipwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","proformainvoicereport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","recurring-transaction-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","recurring-transaction-analysis-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-flow-report-monthwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchase-flow-report-monthwise"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","worsesales-analysisreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","topnsales-analysisreport"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-revenue-metrics-report"==r.activeurlpath),e.xp6(1),e.Q6J("ngIf","hourly-sales-report"==r.activeurlpath))},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();var H=S(26788),z=S(8929);class Or{constructor(){this.show=!1}}class br{constructor(s,i,r){this.label=s,this.value=i,this.subject=r}}var Oe=S(89887),m=S(1298),be=S(94327),ce=S(17489),_e=S.n(ce),Tr=S(15439),E=S.n(Tr),T=S(53074),P=S(67297),j=S(92340),de=S(17545),vr=S(71180);let A=(()=>{class a{constructor(i,r,o){this.authService=i,this.http=r,this.state=o,this.reportLoadSubject=new z.xQ,this.assignPrevioiusDate=!1,this.ReportFilterObject={},this.AccoutLedgerObj={},this.StockSummaryObj={},this.PartyLedgerObj={},this.StockLedgerObj={},this.StockValuationObj={},this.SalesBookObj={},this.PurchaseBookObj={},this.CreditNoteObj={},this.DebitNoteObj={},this.SalesItemWiseObj={},this.PurchaseItemWiseObj={},this.RequisitionApprovalObj={},this.SalesItemWiseDetailObj={},this.PurchaseItemWiseDetailObj={},this.SalesCustomerWiseObj={},this.SalesCategoryWiseObj={},this.PurchaseCategoryWiseObj={},this.SalesProductTypeObj={},this.PurchaseProductTypeObj={},this.SalesSupplierWiseObj={},this.PurchaseSupplierWiseObj={},this.MembershipPointObj={},this.BranchTransferObj={},this.ItemExpiryObj={},this.MaximumStockLevelObj={},this.MinimumStockLevelObj={},this.ReorderLevelStockReport={},this.StockAbcAnalysisObj={},this.PriceChangeLogObj={},this.SalesProfitabilityAnalysisObj={},this.PurchaseOrderReportObj={},this.PurchaseOrderOutstandingObj={},this.QuotationReportObj={},this.SalesOrderReportObj={},this.SalesOrderOutstandingObj={},this.CurrentStockWarehousewiseObj={},this.GrnReportObj={},this.HourlySalesReportObj={},this.RepackReportObj={},this.RequisitionReportObj={},this.RawDataReportObj={},this.RecurringTransactionReportObj={},this.Annexure13ReportObj={},this.StockAgeingObj={},this.BranchtransferoutVsInObj={},this.StockWarehousewiseObj={},this.ConsolidtedPurchaseBranchWiseObj={},this.ConsolidtedSalesBranchWiseObj={},this.ConsolidtedStockBranchWiseObj={},this.BranchTransferInItemWiseObj={},this.BranchTransferOutItemwiseObj={},this.SalesCollectionObj={},this.ConsolidatedStockWarehousewiseObj={},this.OpeningStockObj={},this.RateGroupObj={},this.SalesPricechangeLogObj={},this.StockIssueObj={},this.VATSalesNewObj={},this.VATPurchaseNewObj={},this.CreditNoteSalesReturnObj={},this.DebitNotePurchaseReturnObj={},this.VatOtherAdjustmentObj={},this.ShiftCloseObj={},this.StockVarianceObj={},this.SalesRevenueAnalysisObj={},this.SalesReportSalesmanWiseObj={},this.SalesMembershipWiseObj={},this.ProformaInvoiceWiseObj={},this.RecurringTransactionAnalysisObj={},this.SalesFlowObj={},this.PurchaseFlowObj={},this.WorstSalesObj={},this.TopNSalesObj={},this.SalesRevenueMetricsObj={},this.TransactionLogObj={},this.SelectedAccount="",this.selectedAccountParty="",this.reportDataStore=[],this.previouslyLoadedReportList=[],this.drillParam={},this.reportDataStore=[]}exportReportFormat(i){return this.http.get(this.apiUrl+`/downloadReportFormat?reportName=${i}`)}importReportFormat(i){return this.http.get(this.apiUrl+`/resetReportFormatToDefault?reportName=${i}`)}saveExcelColumnFormate(i,r){let o={status:"error",result:""},t=new z.xQ;return new Headers({"Content-Type":"application/json"}),this.http.post(this.apiUrl+r,i).subscribe(l=>{const _=l;"ok"==_.status?(o.status="ok",o.result=_.result,t.next(o),t.unsubscribe()):(o.status="error1",o.result=_.result,t.next(o),t.unsubscribe())},l=>{o.status="error2",o.result=l,t.next(o),t.unsubscribe()}),t}getExcelColumnFormate(i){let r={status:"error",result:""},o=new z.xQ;return this.http.get(`${this.apiUrl}/getExcelColumnFormate/${i}`).subscribe(t=>{o.next(t),o.unsubscribe()},t=>{r.status="error",r.result=t,o.next(r),o.unsubscribe()}),o}getItemImage(i){let r={status:"error",result:""},o=new z.xQ;return this.http.get(`${this.apiUrl}/getItemImage/${i}`).subscribe(t=>{o.next(t),o.unsubscribe()},t=>{r.status="error",r.result=t,o.next(r),o.unsubscribe()}),o}get apiUrl(){let i=j.N.apiUrl,r="";return!!i&&i.length>0&&(r=i),r}saveReportColumnFormat(i,r){let o={status:"error",result:""},t=new z.xQ;return new Headers({"Content-Type":"application/json"}),this.http.post(this.apiUrl+r,i).subscribe(l=>{const _=l;"ok"==_.status?(o.status="ok",o.result=_.result,t.next(o),t.unsubscribe()):(o.status="error1",o.result=_.result,t.next(o),t.unsubscribe())},l=>{o.status="error2",o.result=l,t.next(o),t.unsubscribe()}),t}getReportColumnFormate(i){let r={status:"error",result:""},o=new z.xQ;return this.http.get(`${this.apiUrl}/getReportColumnFormate/${i}`).subscribe(t=>{o.next(t),o.unsubscribe()},t=>{r.status="error",r.result=t,o.next(r),o.unsubscribe()}),o}drillDown(i,r=""){this.drillParam={},this.drillParam.reportparam={},this.drillParam.reportparam.mode="DRILL",this.drillParam.returnUrl=r}updateReportColumnFormat(i){return this.http.post(this.apiUrl+"/updateReportColumnFormat",i)}refreshReportColumnFormate(i,r){let o={status:"error",result:""},t=new z.xQ;return this.http.post(`${this.apiUrl}/refreshReportColumnFormate`,{reportname:i,reportparam:r}).subscribe(l=>{t.next(l),t.unsubscribe()},l=>{o.status="error",o.result=l,t.next(o),t.unsubscribe()}),t}}return a.\u0275fac=function(i){return new(i||a)(e.LFG(P.e),e.LFG(de.eN),e.LFG(vr.q))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();var Te=S(14970),R=S(67311),f=S(87584),he=S(76750),ge=S(68567),c=S(35757);const fr=["modalcontainer"];function Cr(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"li")(1,"a",5),e.NdJ("click",function(){const t=e.CHM(i).$implicit,n=e.oxw();return e.KtG(n.callSubscriber(t))}),e._uU(2),e.qZA()()}if(2&a){const i=s.$implicit;e.xp6(2),e.Oqu(i.label)}}let Ar=(()=>{class a{constructor(i){this.changeDetectorRef=i,this.containerPosY=0,this.containerPosX=0,this.isArrowUpward=!0}ngOnInit(){this.changeDetectorRef.detectChanges(),this.prepareContextMenu()}hideContextMenuWithTimer(i){(0,H.isNullOrUndefined)(i)&&(i=a.MOUSE_OUT_TIMEOUT_MS),this.autoHideTimer=setTimeout(()=>{this.data.show=!1},i)}clearContextMenuHideTimer(){clearTimeout(this.autoHideTimer)}isValueNullOrUndefined(i){return!!(0,H.isNullOrUndefined)(i)}callSubscriber(i){i.subject.next(i)}prepareContextMenu(){try{this.validateData(),this.buildDisplayPositions()}catch(i){this.hideContextMenuWithTimer(0),console.error("unable to prepareContextMenu the context menu due to following exception/error: "+i)}finally{this.data.show&&this.hideContextMenuWithTimer(a.IDLE_TIMEOUT_MS)}}buildDisplayPositions(){const i=this.container.nativeElement;let r=0;(0,H.isNullOrUndefined)(i)||(r=i.offsetHeight),r>0&&(this.buildTopPosition(r),this.buildLeftPosition())}validateData(){if((0,H.isNullOrUndefined)(this.data))throw new TypeError("context menu info can not be null or undefined");if((0,H.isNullOrUndefined)(this.data.mouseEvent))throw new TypeError("context menu should be associated with mouseEvent e.g. mouse left click");if((0,H.isNullOrUndefined)(this.data.menuItems))throw new TypeError("action item is missing")}buildLeftPosition(){this.containerPosX=this.data.mouseEvent.clientX}buildTopPosition(i){const r=this.data.mouseEvent.currentTarget.offsetHeight,o=window.innerHeight,t=this.data.mouseEvent.clientY;let l=-10;i+t+r<o?l=t+r:(l=t-(i+r),this.isArrowUpward=!1),l<0&&(l=0),this.containerPosY=l}}return a.IDLE_TIMEOUT_MS=2e4,a.MOUSE_OUT_TIMEOUT_MS=2e4,a.\u0275fac=function(i){return new(i||a)(e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-contextmenu"]],viewQuery:function(i,r){if(1&i&&e.Gf(fr,5),2&i){let o;e.iGM(o=e.CRH())&&(r.container=o.first)}},inputs:{data:"data"},decls:5,vars:6,consts:[[1,"modal-container",3,"mouseout","mouseover"],["modalcontainer",""],[1,"modal-tip",3,"ngClass"],["id","left-container",1,"left-container"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0,1),e.NdJ("mouseout",function(t){return r.hideContextMenuWithTimer(t)})("mouseover",function(){return r.clearContextMenuHideTimer()}),e._UZ(2,"div",2),e.TgZ(3,"ul",3),e.YNc(4,Cr,3,1,"li",4),e.qZA()()),2&i&&(e.Udp("left",r.containerPosX,"px")("top",r.containerPosY,"px"),e.xp6(2),e.s9C("ngClass",r.isArrowUpward?"modal-tip-upward-arrow":"modal-tip-downward-arrow"),e.xp6(2),e.Q6J("ngForOf",r.data.menuItems))},dependencies:[m.mk,m.sg],styles:['li[_ngcontent-%COMP%]{list-style:none}.modal-container[_ngcontent-%COMP%]{left:40px;position:absolute;z-index:100000}.modal-container[_ngcontent-%COMP%]   .modal-tip[_ngcontent-%COMP%]{content:"";display:block;position:absolute;left:20px;width:8px;height:4px}.modal-container[_ngcontent-%COMP%]   .modal-tip-upward-arrow[_ngcontent-%COMP%]{top:-4px}.modal-container[_ngcontent-%COMP%]   .modal-tip-downward-arrow[_ngcontent-%COMP%]{bottom:-4px;top:auto}.modal-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{float:left;padding:15px;min-width:110px;margin-right:5px;margin-bottom:0;box-shadow:1px 1px 2px #999;border:1px solid #999999;background-color:#fff}.modal-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 0}']}),a})(),Pr=(()=>{class a{transform(i,r){return r&&i?a.filter(i,r):i}static filter(i,r){const o=r.toLowerCase();function t(n,l){for(let _ in n)if(null!==n[_]&&null!=n[_]&&("object"==typeof n[_]&&t(n[_],l)||n[_].toString().toLowerCase().includes(o)))return!0;return!1}return i.filter(function(n){return t(n,r)})}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275pipe=e.Yjl({name:"filter",type:a,pure:!1}),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),Mr=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})();const Rr=["childModal"],Er=["body"];function Ir(a,s){1&a&&(e.TgZ(0,"label",53),e._uU(1,"@As On Dated:\xa0"),e.qZA())}function yr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.AsE("",i.engDateFrom," To ",i.engDateTo," ")}}function Dr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.AsE("(",i.FromdateInAD," To ",i.TodateInAD,") \xa0")}}function Nr(a,s){if(1&a&&(e.TgZ(0,"label",55),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.AsE("",i.reportparam.DATE,"\xa0(",i.FromdateInAD,")")}}function jr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Division: ",i.divisionDisplayName,"\xa0")}}function kr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Warehouse: ",i.warehouseDisplayName,"\xa0")}}function Fr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@F/W: ",i.FromwarehouseName,"\xa0")}}function wr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@T/W: ",i.ToWarehouseName,"\xa0")}}function Wr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Item Group: ",i.itemGroupDisplayName,"\xa0")}}function Lr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Category: ",i.categoryDisplayName,"\xa0")}}function Zr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Item: ",i.itemName,"\xa0")}}function xr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Item Type: ",i.itemTypeDisplay,"\xa0")}}function Ur(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Supplier: ",i.supplierDisplayName,"\xa0")}}function Vr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",i.itemDisplayName," (",i.itemDisplaycode,")\xa0")}}function Br(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",i.stockLedgerItemDisplayName," (",i.stockLedgerItemDisplaycode,")\xa0")}}function Yr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",i.itemwiseDisplayName," (",i.itemwiseDisplaycode,")\xa0\xa0")}}function Jr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.labelDisplayName,"\xa0")}}function qr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.reportTypeDisplayName,"\xa0")}}function Gr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Report Mode: ",i.reporModeDisplayName,"\xa0")}}function Hr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.includeReturnDisplayName,"\xa0")}}function Qr(a,s){1&a&&(e.TgZ(0,"label",54),e._uU(1," {{creditNoteDisplayName}\xa0}"),e.qZA())}function zr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.debitNoteDisplayName,"\xa0")}}function Kr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Report Type: ",i.purchaseItemWiseDisplay,"\xa0")}}function $r(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Cost Center: ",i.costcenterDisplayName,"\xa0")}}function Xr(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Customer Name: ",i.customerDisplayName,"\xa0")}}function ei(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Salesman Name: ",i.SalesmanDisplayName,"\xa0")}}function ti(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Recurring Item: ",i.RecurringItemName,"\xa0")}}function ri(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Recurring Category: ",i.RecurringCategory,"\xa0")}}function ii(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Report Option: ",i.RecurringOptionDisplayName,"\xa0")}}function oi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.reportOptionDisplayName,"\xa0")}}function ni(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Transaction Mode: ",i.recurringTransactionMode,"\xa0")}}function ai(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.showDetailDisplay,"\xa0")}}function si(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.showUserWiseFormat,"\xa0")}}function li(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.stockshowDetailDisplay,"\xa0")}}function pi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.showdetalreportdisplay,"\xa0")}}function ci(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.reportTypeDisplay,"\xa0")}}function _i(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Customer Type:",i.customerTypeDisplayName,"\xa0")}}function di(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Area:",i.areaDisplayName,"\xa0")}}function hi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Trn Mode:",i.transactionDisplayName,"\xa0")}}function gi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.areaWiseDisplayName,"\xa0")}}function ui(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Sales Amount >= ",i.tranAmntDisplayName,"\xa0")}}function mi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Purchase Amount >= ",i.purchasetranAmntDisplayName,"\xa0")}}function Si(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Product Type:",i.productTypeDisplay,"\xa0")}}function Oi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.purchaseReturnDisplayName,"\xa0")}}function bi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.showReportType,"\xa0")}}function Ti(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Member Name: ",i.memberDisplayName,"\xa0")}}function vi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@Points >= ",i.membershipPointDisplay,"\xa0")}}function fi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("",i.topNsortDisplay,"\xa0")}}function Ci(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij("@User: ",i.UserDisplayName,"\xa0")}}function Ai(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Terminal: ",i.terminalDisplayName,"")}}function Pi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.AsE(" @TimeWiseReport: @From:",i.TimeDisplay," @To: ",i.TimeDisplay2,"")}}function Mi(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Req From: ",i.REQFROMDISPLAYNAME,"")}}function Ri(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Requ To: ",i.REQTODISPLAYNAME,"")}}function Ei(a,s){if(1&a&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.hij(" @Status: ",i.StatusDisplayName,"")}}function Ii(a,s){if(1&a&&(e.ynx(0),e.YNc(1,Ir,2,0,"label",50),e.YNc(2,yr,2,2,"label",51),e.YNc(3,Dr,2,2,"label",51),e.YNc(4,Nr,2,2,"label",52),e.YNc(5,jr,2,1,"label",51),e.YNc(6,kr,2,1,"label",51),e.YNc(7,Fr,2,1,"label",51),e.YNc(8,wr,2,1,"label",51),e.YNc(9,Wr,2,1,"label",51),e.YNc(10,Lr,2,1,"label",51),e.YNc(11,Zr,2,1,"label",51),e.YNc(12,xr,2,1,"label",51),e.YNc(13,Ur,2,1,"label",51),e.YNc(14,Vr,2,2,"label",51),e.YNc(15,Br,2,2,"label",51),e.YNc(16,Yr,2,2,"label",51),e.YNc(17,Jr,2,1,"label",51),e.YNc(18,qr,2,1,"label",51),e.YNc(19,Gr,2,1,"label",51),e.YNc(20,Hr,2,1,"label",51),e.YNc(21,Qr,2,0,"label",51),e.YNc(22,zr,2,1,"label",51),e.YNc(23,Kr,2,1,"label",51),e.YNc(24,$r,2,1,"label",51),e.YNc(25,Xr,2,1,"label",51),e.YNc(26,ei,2,1,"label",51),e.YNc(27,ti,2,1,"label",51),e.YNc(28,ri,2,1,"label",51),e.YNc(29,ii,2,1,"label",51),e.YNc(30,oi,2,1,"label",51),e.YNc(31,ni,2,1,"label",51),e.YNc(32,ai,2,1,"label",51),e.YNc(33,si,2,1,"label",51),e.YNc(34,li,2,1,"label",51),e.YNc(35,pi,2,1,"label",51),e.YNc(36,ci,2,1,"label",51),e.YNc(37,_i,2,1,"label",51),e.YNc(38,di,2,1,"label",51),e.YNc(39,hi,2,1,"label",51),e.YNc(40,gi,2,1,"label",51),e.YNc(41,ui,2,1,"label",51),e.YNc(42,mi,2,1,"label",51),e.YNc(43,Si,2,1,"label",51),e.YNc(44,Oi,2,1,"label",51),e.YNc(45,bi,2,1,"label",51),e.YNc(46,Ti,2,1,"label",51),e.YNc(47,vi,2,1,"label",51),e.YNc(48,fi,2,1,"label",51),e.YNc(49,Ci,2,1,"label",51),e.YNc(50,Ai,2,1,"label",51),e.YNc(51,Pi,2,2,"label",51),e.YNc(52,Mi,2,1,"label",51),e.YNc(53,Ri,2,1,"label",51),e.YNc(54,Ei,2,1,"label",51),e.BQk()),2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.reportparam.DATE1||i.reportparam.DATE2||i.reportparam.DATE),e.xp6(1),e.Q6J("ngIf",i.reportparam.DATE1&&i.reportparam.DATE2),e.xp6(1),e.Q6J("ngIf",i.reportparam.DATE1&&i.reportparam.DATE2),e.xp6(1),e.Q6J("ngIf",i.reportparam.DATE),e.xp6(1),e.Q6J("ngIf",i.divisionDisplayName),e.xp6(1),e.Q6J("ngIf",i.warehouseDisplayName),e.xp6(1),e.Q6J("ngIf",i.FromwarehouseName),e.xp6(1),e.Q6J("ngIf",i.ToWarehouseName),e.xp6(1),e.Q6J("ngIf",i.itemGroupDisplayName),e.xp6(1),e.Q6J("ngIf",i.categoryDisplayName),e.xp6(1),e.Q6J("ngIf",i.itemName),e.xp6(1),e.Q6J("ngIf",i.itemTypeDisplay),e.xp6(1),e.Q6J("ngIf",i.supplierDisplayName),e.xp6(1),e.Q6J("ngIf",i.itemDisplayName),e.xp6(1),e.Q6J("ngIf",i.stockLedgerItemDisplaycode),e.xp6(1),e.Q6J("ngIf",i.itemwiseDisplaycode),e.xp6(1),e.Q6J("ngIf",i.labelDisplayName),e.xp6(1),e.Q6J("ngIf",i.reportTypeDisplayName),e.xp6(1),e.Q6J("ngIf",i.reporModeDisplayName),e.xp6(1),e.Q6J("ngIf",i.includeReturnDisplayName),e.xp6(1),e.Q6J("ngIf",i.creditNoteDisplayName),e.xp6(1),e.Q6J("ngIf",i.debitNoteDisplayName),e.xp6(1),e.Q6J("ngIf",i.purchaseItemWiseDisplay),e.xp6(1),e.Q6J("ngIf",i.costcenterDisplayName),e.xp6(1),e.Q6J("ngIf",i.customerDisplayName),e.xp6(1),e.Q6J("ngIf",i.SalesmanDisplayName),e.xp6(1),e.Q6J("ngIf",i.RecurringItemName),e.xp6(1),e.Q6J("ngIf",i.RecurringCategory),e.xp6(1),e.Q6J("ngIf",i.RecurringOptionDisplayName),e.xp6(1),e.Q6J("ngIf",i.reportOptionDisplayName),e.xp6(1),e.Q6J("ngIf",i.recurringTransactionMode),e.xp6(1),e.Q6J("ngIf",i.showDetailDisplay),e.xp6(1),e.Q6J("ngIf",i.showUserWiseFormat),e.xp6(1),e.Q6J("ngIf",i.stockshowDetailDisplay),e.xp6(1),e.Q6J("ngIf",i.showdetalreportdisplay),e.xp6(1),e.Q6J("ngIf",i.reportTypeDisplay),e.xp6(1),e.Q6J("ngIf",i.customerTypeDisplayName),e.xp6(1),e.Q6J("ngIf",i.areaDisplayName),e.xp6(1),e.Q6J("ngIf",i.transactionDisplayName),e.xp6(1),e.Q6J("ngIf",i.areaWiseDisplayName),e.xp6(1),e.Q6J("ngIf",i.tranAmntDisplayName),e.xp6(1),e.Q6J("ngIf",i.purchasetranAmntDisplayName),e.xp6(1),e.Q6J("ngIf",i.productTypeDisplay),e.xp6(1),e.Q6J("ngIf",i.purchaseReturnDisplayName),e.xp6(1),e.Q6J("ngIf",i.showReportType),e.xp6(1),e.Q6J("ngIf",i.memberDisplayName),e.xp6(1),e.Q6J("ngIf",i.membershipPointDisplay),e.xp6(1),e.Q6J("ngIf",i.topNsortDisplay),e.xp6(1),e.Q6J("ngIf",i.UserDisplayName),e.xp6(1),e.Q6J("ngIf",i.terminalDisplayName),e.xp6(1),e.Q6J("ngIf",i.TimeDisplay),e.xp6(1),e.Q6J("ngIf",i.REQFROMDISPLAYNAME),e.xp6(1),e.Q6J("ngIf",i.REQTODISPLAYNAME),e.xp6(1),e.Q6J("ngIf",i.StatusDisplayName)}}function yi(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"tr",13)(1,"td",56),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.SaveInReportColumnFormat())}),e.TgZ(2,"i",57),e._UZ(3,"span",58),e.qZA()()()}}function Di(a,s){if(1&a&&(e.TgZ(0,"th",60),e._uU(1),e.qZA()),2&a){const i=s.$implicit,r=e.oxw(2);e.Udp("text-align",i.alignment),e.s9C("width",i.width),e.Q6J("ngClass",("MAIN GROUP"!=i.mappingName&&"MAINGROUP"!=i.mappingName&&"SUB GROUP_A"!=i.mappingName&&"SUBGROUP_A"!=i.mappingName&&"SUB GROUP_B"!=i.mappingName&&"SUBGROUP_B"!=i.mappingName&&"SUB GROUP_C"!=i.mappingName&&"SUBGROUP_C"!=i.mappingName&&"CATEGORY"!=i.mappingName||0!=r.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==i.mappingName&&0==r.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==i.mappingName&&0==r.reportparam.ShowDetail?"notdisplay":"")),e.uIk("colspan",i.colspan),e.xp6(1),e.hij(" ",i.colGroup," ")}}function Ni(a,s){if(1&a&&(e.TgZ(0,"thead")(1,"tr",30),e.YNc(2,Di,2,6,"th",59),e.qZA()()),2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.optionalreportHeaders)}}function ji(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"i",64),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(),t=o.$implicit,n=o.index,l=e.oxw();return e.KtG(l.sortTableData(t.mappingName,"desc",n))}),e.qZA()}}function ki(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"i",65),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(),t=o.$implicit,n=o.index,l=e.oxw();return e.KtG(l.sortTableData(t.mappingName,"asc",n))}),e.qZA()}}function Fi(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"i",64),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(),t=o.$implicit,n=o.index,l=e.oxw();return e.KtG(l.sortTableData(t.mappingName,"desc",n))}),e.qZA()}}function wi(a,s){if(1&a&&(e.TgZ(0,"th",61),e._uU(1),e.YNc(2,ji,1,0,"i",62),e.YNc(3,ki,1,0,"i",63),e.YNc(4,Fi,1,0,"i",62),e.qZA()),2&a){const i=s.$implicit,r=e.oxw();e.s9C("width",i.width),e.Q6J("ngStyle",r.getReportHeadingStyles())("ngClass",("MAIN GROUP"!=i.mappingName&&"MAINGROUP"!=i.mappingName&&"SUB GROUP_A"!=i.mappingName&&"SUBGROUP_A"!=i.mappingName&&"SUB GROUP_B"!=i.mappingName&&"SUBGROUP_B"!=i.mappingName&&"SUB GROUP_C"!=i.mappingName&&"SUBGROUP_C"!=i.mappingName&&"CATEGORY"!=i.mappingName||0!=r.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==i.mappingName&&0==r.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==i.mappingName&&0==r.reportparam.ShowDetail?"notdisplay":"")),e.xp6(1),e.hij(" ",i.colHeader," "),e.xp6(1),e.Q6J("ngIf",null==i.sortOrder||"none"==i.sortOrder),e.xp6(1),e.Q6J("ngIf","asc"==i.sortOrder),e.xp6(1),e.Q6J("ngIf","desc"==i.sortOrder)}}const Wi=function(a,s){return[a,s]};function Li(a,s){if(1&a&&(e.TgZ(0,"td",68)(1,"pre",69),e._uU(2),e.qZA()()),2&a){const i=s.$implicit,r=e.oxw().$implicit,o=e.oxw();e.Udp("text-align",0==i.alignment?"inherit":"end"),e.s9C("width",i.width),e.Q6J("ngClass",e.WLB(6,Wi,"B"==r.FFLG?"Boldtd":"Regulartd",("MAIN GROUP"!=i.mappingName&&"MAINGROUP"!=i.mappingName&&"SUB GROUP_A"!=i.mappingName&&"SUBGROUP_A"!=i.mappingName&&"SUB GROUP_B"!=i.mappingName&&"SUBGROUP_B"!=i.mappingName&&"SUB GROUP_C"!=i.mappingName&&"SUBGROUP_C"!=i.mappingName&&"CATEGORY"!=i.mappingName||0!=o.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==i.mappingName&&0==o.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==i.mappingName&&0==o.reportparam.ShowDetail?"notdisplay":""))),e.xp6(1),e.Q6J("ngStyle",o.getReportDetailStyles()),e.xp6(1),e.Oqu(r[i.mappingName])}}function Zi(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"tr",66),e.NdJ("dblclick",function(){const t=e.CHM(i).$implicit,n=e.oxw();return e.KtG(n.drillDownReport(t))})("contextmenu",function(o){const n=e.CHM(i).$implicit,l=e.oxw();return e.KtG(l.onRightClick(o,n))})("click",function(){const t=e.CHM(i).index,n=e.oxw();return e.KtG(n.clicked(t))}),e.YNc(1,Li,3,9,"td",67),e.qZA()}if(2&a){const i=s.$implicit,r=s.index,o=e.oxw();e.ekj("active",r==o.HighlightRow),e.Q6J("ngClass","B"==i.FFLG?"Bold":"Regular"),e.xp6(1),e.Q6J("ngForOf",o.reportHeaders)}}function xi(a,s){if(1&a&&(e.TgZ(0,"td",72)(1,"pre",69),e._uU(2),e.qZA()()),2&a){const i=s.$implicit,r=e.oxw().$implicit,o=e.oxw();e.Udp("text-align",0==i.alignment?"inherit":"end"),e.s9C("width",i.width),e.Q6J("ngClass",("MAIN GROUP"!=i.mappingName&&"MAINGROUP"!=i.mappingName&&"SUB GROUP_A"!=i.mappingName&&"SUBGROUP_A"!=i.mappingName&&"SUB GROUP_B"!=i.mappingName&&"SUBGROUP_B"!=i.mappingName&&"SUB GROUP_C"!=i.mappingName&&"SUBGROUP_C"!=i.mappingName&&"CATEGORY"!=i.mappingName||0!=o.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==i.mappingName&&0==o.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==i.mappingName&&0==o.reportparam.ShowDetail?"notdisplay":"")),e.xp6(1),e.Q6J("ngStyle",o.getReportFooterStyles()),e.xp6(1),e.Oqu(r[i.mappingName])}}function Ui(a,s){if(1&a&&(e.TgZ(0,"tr",70),e.YNc(1,xi,3,6,"td",71),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.reportHeaders)}}function Vi(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.refreshReportColumns())}),e._uU(1,"REFRESH"),e.qZA()}}function Bi(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"tr")(1,"td",109),e._uU(2),e.qZA(),e.TgZ(3,"td",110)(4,"input",111),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.ColumnName=o)}),e.qZA()(),e.TgZ(5,"td",110)(6,"input",112),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.MappingName=o)}),e.qZA()(),e.TgZ(7,"td",113)(8,"input",114),e.NdJ("change",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.Show=o.target.checked?1:0)})("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.Show=o)}),e.qZA()(),e.TgZ(9,"td",115)(10,"input",116),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.ColWidth=o)}),e.qZA()(),e.TgZ(11,"td",117)(12,"input",118),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.Format=o)}),e.qZA()(),e.TgZ(13,"td",119)(14,"input",116),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.Align=o)}),e.qZA()(),e.TgZ(15,"td",120)(16,"input",116),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.ColumnPosition=o)}),e.qZA()(),e.TgZ(17,"td",120)(18,"input",111),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.ColGroup=o)}),e.qZA()(),e.TgZ(19,"td",120)(20,"input",121),e.NdJ("change",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.GroupSummary=o.target.checked?1:0)})("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.GroupSummary=o)}),e.qZA()(),e.TgZ(21,"td",120)(22,"input",121),e.NdJ("change",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.TableSummary=o.target.checked?1:0)})("ngModelChange",function(o){const n=e.CHM(i).$implicit;return e.KtG(n.TableSummary=o)}),e.qZA()()()}if(2&a){const i=s.$implicit,r=s.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Q6J("ngModel",i.ColumnName),e.xp6(2),e.Q6J("readonly",!0)("ngModel",i.MappingName),e.xp6(2),e.Q6J("ngModel",i.Show),e.xp6(2),e.Q6J("ngModel",i.ColWidth),e.xp6(2),e.Q6J("ngModel",i.Format),e.xp6(2),e.Q6J("ngModel",i.Align),e.xp6(2),e.Q6J("ngModel",i.ColumnPosition),e.xp6(2),e.Q6J("ngModel",i.ColGroup),e.xp6(2),e.Q6J("ngModel",i.GroupSummary),e.xp6(2),e.Q6J("ngModel",i.TableSummary)}}function Yi(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"div",75)(3,"div")(4,"h4",76),e._uU(5,"Report Format "),e.qZA()(),e.TgZ(6,"div")(7,"button",77),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.exportReportFormat())}),e._uU(8,"EXPORT FORMAT"),e.qZA(),e.TgZ(9,"button",77),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.resetToDefault())}),e._uU(10,"RESET DEFAULT"),e.qZA(),e.YNc(11,Vi,2,0,"button",78),e.TgZ(12,"button",79),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.OkCommand())}),e._uU(13,"SAVE"),e.qZA(),e.TgZ(14,"button",80),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelCommand())}),e._uU(15,"CANCEL"),e.qZA()()(),e.TgZ(16,"div",81)(17,"div",82)(18,"div",83)(19,"div",84)(20,"label",85),e._uU(21,"Report Name"),e.qZA(),e.TgZ(22,"div",86)(23,"input",87),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportname=o)}),e.qZA()()(),e.TgZ(24,"div",84)(25,"label",85),e._uU(26,"Report Title"),e.qZA(),e.TgZ(27,"div",86)(28,"input",88),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportTitle=o)}),e.qZA()()()(),e.TgZ(29,"div",89)(30,"div",84)(31,"label",85),e._uU(32,"Rows Per Column"),e.qZA(),e.TgZ(33,"div",86)(34,"input",90),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.rowsperpage=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onRowsPerPageChange(o.target.value))}),e.qZA()()(),e.TgZ(35,"div",84)(36,"label",85),e._uU(37,"Has Dynamic Columns?"),e.qZA(),e.TgZ(38,"div",86)(39,"select",91),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.hasDynamicColumns=o)}),e.TgZ(40,"option",92),e._uU(41,"YES"),e.qZA(),e.TgZ(42,"option",93),e._uU(43,"NO"),e.qZA()()()(),e.TgZ(44,"div",84)(45,"label",85),e._uU(46,"Has Dynamic Headers?"),e.qZA(),e.TgZ(47,"div",86)(48,"select",94),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.hasDynamicHeaders=o)}),e.TgZ(49,"option",92),e._uU(50,"YES"),e.qZA(),e.TgZ(51,"option",93),e._uU(52,"NO"),e.qZA()()()()(),e.TgZ(53,"div",89)(54,"div",84)(55,"label",85),e._uU(56,"Dynamic Column Level"),e.qZA(),e.TgZ(57,"div",86)(58,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.dynamicColumnLevel=o)}),e.qZA()()(),e.TgZ(59,"div",84)(60,"label",85),e._uU(61,"Dynamic Column Width"),e.qZA(),e.TgZ(62,"div",86)(63,"input",96),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.dynamicColumnWidth=o)}),e.qZA()()(),e.TgZ(64,"div",84)(65,"label",85),e._uU(66,"Merge Header?"),e.qZA(),e.TgZ(67,"div",86)(68,"select",97),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.MergeReportHeader=o)}),e.TgZ(69,"option",92),e._uU(70,"YES"),e.qZA(),e.TgZ(71,"option",93),e._uU(72,"NO"),e.qZA()()()()(),e.TgZ(73,"div",89)(74,"div",84)(75,"label",85),e._uU(76,"Report Rounding Mode"),e.qZA(),e.TgZ(77,"div",86)(78,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.REPORTROUNDINGMODE=o)}),e.qZA()()()()()(),e.TgZ(79,"div",98)(80,"table",99)(81,"thead")(82,"tr")(83,"th",100),e._uU(84,"SI NO "),e.qZA(),e.TgZ(85,"th",101),e._uU(86,"Column Name"),e.qZA(),e.TgZ(87,"th",101),e._uU(88,"Mapping Name"),e.qZA(),e.TgZ(89,"th",102),e._uU(90,"Show"),e.qZA(),e.TgZ(91,"th",103),e._uU(92,"Col Width"),e.qZA(),e.TgZ(93,"th",104),e._uU(94,"Format"),e.qZA(),e.TgZ(95,"th",105),e._uU(96,"Align"),e.qZA(),e.TgZ(97,"th",106),e._uU(98,"Column Position"),e.qZA(),e.TgZ(99,"th",106),e._uU(100,"Merge Header"),e.qZA(),e.TgZ(101,"th",106),e._uU(102,"Group Summary"),e.qZA(),e.TgZ(103,"th",106),e._uU(104,"Table Summary"),e.qZA()()(),e.TgZ(105,"tbody",107),e.YNc(106,Bi,23,12,"tr",108),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngIf",i.ReportColumnName.length>0),e.xp6(12),e.Q6J("readonly",!0)("ngModel",i.reportname),e.xp6(5),e.Q6J("ngModel",i.reportTitle),e.xp6(6),e.Q6J("ngModel",i.rowsperpage),e.xp6(5),e.Q6J("ngModel",i.hasDynamicColumns),e.xp6(9),e.Q6J("ngModel",i.hasDynamicHeaders),e.xp6(10),e.Q6J("ngModel",i.dynamicColumnLevel),e.xp6(5),e.Q6J("ngModel",i.dynamicColumnWidth),e.xp6(5),e.Q6J("ngModel",i.MergeReportHeader),e.xp6(10),e.Q6J("ngModel",i.REPORTROUNDINGMODE),e.xp6(28),e.Q6J("ngForOf",i.ReportColumnName)}}function Ji(a,s){if(1&a&&(e.TgZ(0,"tr",135)(1,"td",129),e._uU(2),e.qZA(),e.TgZ(3,"td",136),e._uU(4),e.qZA()()),2&a){const i=s.$implicit,r=s.index,o=e.oxw(2);e.ekj("highlighted",r===o.selectedRowIndex),e.xp6(2),e.Oqu(r+1),e.xp6(1),e.Q6J("routerLink",i.activeurlpath),e.xp6(1),e.Oqu(i.reportname)}}function qi(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",122)(1,"div",74)(2,"div",123)(3,"div",82)(4,"h6",124),e._uU(5,"Loaded Report List"),e.qZA()()(),e.TgZ(6,"div",125)(7,"table",126)(8,"thead",127)(9,"tr",128)(10,"th",129),e._uU(11,"S.N."),e.qZA(),e.TgZ(12,"th",130),e._uU(13,"Report Name"),e.qZA()()(),e.TgZ(14,"tbody",131),e.YNc(15,Ji,5,5,"tr",132),e.qZA()()(),e.TgZ(16,"div",133)(17,"button",134),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelReportList())}),e._uU(18,"Cancel"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(15),e.Q6J("ngForOf",i.previouslyLoadedReportsList)}}function Gi(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",137)(1,"div",74)(2,"div",138)(3,"h5",139),e._uU(4,"View Image"),e.qZA(),e.TgZ(5,"button",140),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeImagePopup())}),e.TgZ(6,"span",141),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",46)(9,"div",81),e._UZ(10,"img",142),e.qZA(),e.TgZ(11,"div",143)(12,"label",144),e._uU(13,"Item Name:"),e.qZA(),e.TgZ(14,"label",145),e._uU(15),e.qZA()(),e.TgZ(16,"div",143)(17,"label",144),e._uU(18,"MRP:"),e.qZA(),e.TgZ(19,"label",145),e._uU(20),e.ALo(21,"currency"),e.qZA()()(),e.TgZ(22,"div",133)(23,"button",134),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeImagePopup())}),e._uU(24,"Close"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(10),e.s9C("src",i.itemObj.IMAGEURL,e.LSH),e.xp6(5),e.AsE("",i.itemObj.ITEMNAME," ( ",i.itemObj.MENUCODE," )"),e.xp6(5),e.Oqu(e.Dn7(21,4,i.itemObj.MRP,"INR","Rs. "))}}function Hi(a,s){if(1&a&&(e.TgZ(0,"div"),e._UZ(1,"app-contextmenu",146),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.Q6J("data",i.contextMenuView)}}const Qi=function(a){return{"mySidenav-show":a}},zi=function(a){return{"toggler-btn-icon-reverse":a}},Ki=function(a,s){return{itemsPerPage:a,currentPage:s}};let C=(()=>{class a{constructor(i,r,o,t,n,l,_,p,d,h){this.router=i,this.masterService=r,this.authService=o,this.arouter=t,this.dialog=n,this.reportMasterService=l,this.spinnerService=_,this.alertService=p,this._hotkeysService=d,this._transactionService=h,this.reportMaster={},this.reportHeaders=[],this.reportData=[],this.reportDetail=[],this.trialUrl=!1,this.paramValue=[],this.page=1,this.hideShow=!1,this.ReportColumnName=[],this.reportFooter=[],this.optionalreportHeaders=[],this.reportContextMenu=[],this.previouslyLoadedReportsList=[],this.hasDynamicColumns="0",this.allHeaders=[],this.itemObj={},this.imgUrl="",this.showItemImage=!1,this.hasDynamicHeaders=0,this.excelColumnName=[],this.mergereportHeaders=[],this.reportColumnFormate=[],this.totalRow={},this.checkedColumnName=[],this.activeurlpath=this.arouter.snapshot.url[0].path,this.userProfile=this.authService.getUserProfile();let u=this.reportMasterService.reportDataStore[this.activeurlpath];this.contextMenuView=new Or,this.reportLoadedSuccess=!1,this.reportMasterService.reportUrlPath=this.activeurlpath;let g=this.masterService.apiUrl;this.imgUrl=g.substring(g.length-3,0),this.arouter.queryParams.subscribe(N=>{if("DRILL"==N.mode&&this.reportMasterService.drillParam.returnUrl)setTimeout(()=>{this.loadReport(this.reportMasterService.drillParam),this.rowsperpage||(this.rowsperpage=100),this.reportparam=this.reportMasterService.drillParam.reportparam,this.reportname=this.reportMasterService.drillParam.reportname,this.ReportCriteriaDisplay(this.reportparam,this.reportname)});else if(null!=u&&null!=u){for(var oe of(this.reportHeaders=u.data.result.headers,this.allHeaders=u.data.result.allHeaders,this.prepareOptionalHeader(this.reportHeaders),this.reportHeaders))oe.width=null==oe.size||0==oe.size?"auto":oe.size+"px";if(this.loadReportDataFromExistingStore(),this.ReportCriteriaDisplay(this.reportparam,this.showReportName),1!=this.hasDynamicHeaders&&0!=this.MergeReportHeader)this.preparereportHeader(this.reportHeaders);else if(1!=this.hasDynamicHeaders&&1!=this.MergeReportHeader)this.mergereportHeaders=this.reportHeaders;else{let y=_e().sortBy(this.reportHeaders,"colPosition");this.mergereportHeaders=y}this.reportMasterService.getReportColumnFormate(this.reportname).subscribe(y=>{"ok"==y.status?(this.reportColumnFormate=y.result,this.rowsperpage=y.result?y.result[0].rowsperpage:"100"):this.reportColumnFormate=[]}),0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(y=>({ReportName:this.reportname,ColumnName:y.colHeader,MappingName:y.mappingName,Show:y.Visible,ColWidth:y.size,Format:y.stringFormat,Align:y.alignment,ColumnPosition:y.colPosition,ColGroup:y.ColGroup,GroupSummary:y.groupSummaryFunction,GSFunction:y.groupSummaryFunction,TableSummary:y.showTables,TSFunction:y.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((y,Xb)=>{y.Show=1,y.TableSummary=0,y.GroupSummary=0,y.ColumnPosition=Xb+1})):this.ReportColumnName=this.reportColumnFormate.map(y=>({ReportName:this.reportname,ColumnName:y.colHeader,MappingName:y.mappingName,Show:y.Visible,ColWidth:y.size,Format:y.stringFormat,Align:y.alignment,ColumnPosition:y.colPosition,ColGroup:y.ColGroup,GroupSummary:y.groupSummaryFunction,GSFunction:y.groupSummaryFunction,TableSummary:y.showTables,TSFunction:y.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:y.rowsperpage}))}else this.fiterClickEvent()}),this.previouslyLoadedReportsList=this.reportMasterService.previouslyLoadedReportList,this._hotkeysService.add(new Oe.qm("shift+tab",N=>(this.showPreviouslyLoadedReports(),!1)))}ngOnInit(){}ngAfterViewInit(){}exportReportFormat(){this.spinnerService.show("Exporting, Please Wait..."),this.reportMasterService.exportReportFormat(this.showReportName).subscribe(i=>{let r=new Blob([JSON.stringify(i)],{type:"text/html"}),o=`${this.showReportName}.txt`;var t=URL.createObjectURL(r),n=document.createElement("a");n.href=t,n.download=o.replace(/\s/g,""),n.click(),this.spinnerService.hide()},i=>{console.log("Error message for text",i),this.alertService.info("Exporting Unsuccessfull!!"),this.spinnerService.hide()})}resetToDefault(){console.log("reset to default clicked"),console.log("report name",this.reportname),this.spinnerService.show("Resetting..."),this.reportMasterService.importReportFormat(this.showReportName).subscribe(i=>{console.log("import res",i),i&&(this.spinnerService.hide(),"ok"==i.status?this.alertService.success(i.result):this.alertService.warning("Resetting Unsuccessfull!!"))},i=>{console.log("Error message for reset",i),this.alertService.info("Resetting Unsuccessfull!!"),this.spinnerService.hide()})}fiterClickEvent(){console.log("here is the boom");let i=this.dialog.open(Se,{panelClass:"custom-report-information-dialog",hasBackdrop:!0,data:{activeurlpath:this.activeurlpath,reportparam:this.reportparam,reportname:this.reportname}});console.log("here is the boom part 2",i),i.afterClosed().subscribe(r=>{void 0!==r&&"ok"==r.status&&(this.reportname=r.data.reportname,this.reportparam=r.data.reportparam,this.showReportName=r.data.REPORTDISPLAYNAME?r.data.REPORTDISPLAYNAME:r.data.reportname,this.loadReport(r.data),console.log("reportdataatatatatata",r),this.ReportCriteriaDisplay(this.reportparam,this.showReportName),this.reportMasterService.getReportColumnFormate(this.reportname).subscribe(o=>{"ok"==o.status?(this.reportColumnFormate=o.result,this.rowsperpage=0==o?.result[0].rowsperpage?100:o?.result[0].rowsperpage):this.reportColumnFormate=[]})),i=null})}onReportDataEmitted(i){this.reportparam=i.reportparam,this.loadReport(i)}RowClick(){}loadReport(i){this.DialogMessage="Report Loading Please Wait...",this.childModal.show(),this.page=1,this.masterService.getReportData(i,"/loadReports").subscribe(r=>{let o=r;if("ok"==o.status){for(var t of(this.prepareReportData(o.result.headers,o.result.data),this.storeAndUpdateReportDataStore(i,o),this.reportHeaders=o.result.headers,this.reportHeaders))t.width=null==t.size||0==t.size?"auto":t.size+"px";if(this.prepareOptionalHeader(this.reportHeaders),this.reportData=o.result.data,this.reportDetail=o.result.repDetails,this.reportFooter=o.result.totalRowData,this.reportmasterDetail=o.result.reportmasterDetail,this.reportContextMenu=o.result.reportContextMenu,this.allHeaders=o.result.allHeaders,this.hasDynamicColumns=this.reportmasterDetail.HASDYNAMICCOLUMNS,this.dynamicColumnLevel=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL,this.dynamicColumnWidth=this.reportmasterDetail.DYNAMICCOLUMNWIDTH,this.hasDynamicHeaders=this.reportmasterDetail.DYNAMICHEADER,this.MergeReportHeader=this.reportmasterDetail.MERGEREPORTHEADER,this.REPORTROUNDINGMODE=this.reportmasterDetail.REPORTROUNDINGMODE,1!=this.hasDynamicHeaders&&0!=this.MergeReportHeader?this.preparereportHeader(this.reportHeaders):1!=this.hasDynamicHeaders&&1!=this.MergeReportHeader&&(this.mergereportHeaders=this.reportHeaders),this.DialogMessage="Report Loaded successfully.",setTimeout(()=>{this.childModal.hide()},2e3),0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(n=>({ReportName:this.reportname,ColumnName:n.colHeader,MappingName:n.mappingName,Show:n.Visible,ColWidth:n.size,Format:n.stringFormat,Align:n.alignment,ColumnPosition:n.colPosition,ColGroup:n.ColGroup,GroupSummary:n.groupSummaryFunction,GSFunction:n.groupSummaryFunction,TableSummary:n.showTables,TSFunction:n.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((n,l)=>{n.Show=1,n.TableSummary=0,n.GroupSummary=0,n.ColumnPosition=l+1})):this.ReportColumnName=this.reportColumnFormate.map(n=>({ReportName:this.reportname,ColumnName:n.ColumnName,MappingName:n.MappingName,Show:n.Show,ColWidth:n.ColWidth,Format:n.Format,Align:n.Align,ColumnPosition:n.ColumnPosition,ColGroup:n.ColGroup,GroupSummary:n.GroupSummary,GSFunction:n.GSFunction,TableSummary:n.TableSummary,TSFunction:n.TSFunction,ReportTitle:this.reportTitle,rowsperpage:n.rowsperpage})),this.reportmasterDetail.HASDYNAMICCOLUMNS){let n="Default";this.allHeaders.forEach((_,p)=>{n=1==this.reportmasterDetail.DYNAMICHEADER&&_.mappingName.includes("~")?_.mappingName.split("~")[1]:"Default",p+1>=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL&&this.reportHeaders.push({alignment:1,allowMerge:!1,colHeader:"Default"==n?_.colHeader:n,colNo:0,colPosition:"Default"==n?p+5e3:p+1,mappingName:_.mappingName,showGroupSummary:!1,showTableSummary:!1,size:Number(this.reportmasterDetail.DYNAMICCOLUMNWIDTH),width:Number(this.reportmasterDetail.DYNAMICCOLUMNWIDTH)+"px",visible:1})});let l=_e().sortBy(this.reportHeaders,"colPosition");this.mergereportHeaders=l,1==this.reportmasterDetail.DYNAMICHEADER&&this.prepareOptionalDynamicHeader(this.allHeaders)}}else setTimeout(()=>{this.childModal.hide()}),this.reportData=[],this.reportHeaders=[],this.optionalreportHeaders=[]},r=>{this.DialogMessage=r,setTimeout(()=>{this.childModal.hide()},3e3)})}getFormattedValue(i){if(null!=i){if("number"==typeof i)return i.toLocaleString("en-us",{minimumFractionDigits:2});if("Invalid Date"!=new Date(i).toString())return i.split("T")[0]}return i}SettingClickEvent(){}ExportReportInExcel(){this.downloadReportPrepareFromAPI()}ExportReportInPdf(){this.downloadpdfPrepareFromAPI()}excelDownloadFromHtml_manualTable(){try{let l='<p style=" text-align:center;font-weight:bold;font-size:16px;">'+this.activeurlpath.toUpperCase()+'</p><p style=" text-align:center;font-weight:bold;font-size:14px;">'+this.userProfile.CompanyInfo.NAME+'</p><p style=" text-align:center;font-weight:bold;font-size:13px">'+this.userProfile.CompanyInfo.ADDRESS+'</p><p style=" text-align:center;font-weight:bold"> PAN No : <label style="letter-spacing:5px">'+this.userProfile.CompanyInfo.VAT+"</label></p>";this.param='<label style=" text-align:center;font-weight:bold;font-size:12px;">'+this.getReportParamForPreviewKey(this.reportparam,this.reportDetail)+"</label>";let _="<table>  <thead>   <tr>";for(let p of this.reportHeaders)_+="<th>"+p.colHeader+"</th>";_+="</tr> </thead>",_+="<tbody>";for(let p of this.reportData){_+="<tr>";for(let d of this.reportHeaders)null==(i=p[d.mappingName])&&(i=""),_+="<td>"+i+"</td>"}for(let p of this.reportFooter){_+="<tr>";for(let d of this.reportHeaders){var i;null==(i=p[d.mappingName])&&(i=""),_+="<td>"+i+"</td>"}}_+="</tbody></table>";var o=new Blob([l+this.param+_],{type:"application/vnd.ms-excel"}),t=URL.createObjectURL(o),n=document.createElement("a");n.href=t,n.download=this.excelReportNameProvide()+".xls",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(l){alert(l)}}repName(){}excelReportNameProvide(){return this.activeurlpath}excelNameChooser(){try{if("DEBITORSREPORT"==this.reportname)return"DEBTORS REPORT ( FROM: "+this.reportMaster.reportQuery.find(i=>"DATE1"==i.param).value+"  TO:"+this.reportMaster.reportQuery.find(i=>"DATE2"==i.param).value+" )";if("DEBITORSREPORTEXD"==this.reportname)return"DEBTORS REPORT EXTENDED( FROM: "+this.reportMaster.reportQuery.find(i=>"DATE1"==i.param).value+"  TO:"+this.reportMaster.reportQuery.find(i=>"DATE2"==i.param).value+" )";if("SALESBOOKREPORT"==this.reportname)return"SALES REPORT ( FROM: "+this.reportMaster.reportQuery.find(i=>"DATE1"==i.param).value+"  TO:"+this.reportMaster.reportQuery.find(i=>"DATE2"==i.param).value+" )";if("STOCKREPORT"==this.reportname)return"STOCK REPORT ( FROM: "+this.reportMaster.reportQuery.find(i=>"DATE1"==i.param).value+"  TO:"+this.reportMaster.reportQuery.find(i=>"DATE2"==i.param).value+" )";if("STOCKREPORTEXD"==this.reportname)return"STOCK REPORT EXTENDED( FROM: "+this.reportMaster.reportQuery.find(i=>"DATE1"==i.param).value+"  TO:"+this.reportMaster.reportQuery.find(i=>"DATE2"==i.param).value+" )";if("DEBITORSREPORT_AGING"==this.reportname)return"DEBTORS AGEING REPORT ( As On Dated: "+this.reportMaster.reportQuery.find(i=>"DATE2"==i.param).value+" )";if("DEBITORSREPORT_AGINGEXD"==this.reportname)return"DEBTORS AGEING REPORT EXTENDED( As On Dated: "+this.reportMaster.reportQuery.find(i=>"DATE2"==i.param).value+" )";if("DEBITORSREPORT_AGINGEXD"==this.reportname)return"DEBTORS AGEING REPORT EXTENDED( As On Dated: "+this.reportMaster.reportQuery.find(i=>"DATE2"==i.param).value+" )";if("STOCKLEDGERREPORT"==this.reportname){let i=this.masterService._itemList.find(r=>r.MCODE==this.reportMaster.reportQuery.find(o=>"MCODE"==o.param).value);if(null!=i)return"STOCK LEDGER REPRT ( "+i.MENUCODE+"  "+i.DESCA+" )"}return this.reportMaster.title}catch{return this.reportMaster.title}}getReportParamForPreviewKey(i,r){let o=Object.keys(i);var t="";for(let _ in o){var n=o[_];let p=r.filter(d=>d.PROPNAME==o[_])[0];null!=p&&null!=p.PRINTLABEL&&""!=p.PRINTLABEL&&(n=p.PRINTLABEL),("DATE1"==n||"DATE2"==n)&&(t+=n+":"+i[o[_]]+" , ")}return t}prepareReportData(i,r){this.totalRow={};for(let o in i){let t=0;if(i[o].totalCalculation){for(let n of r)t=this.masterService.nullToZeroConverter(t)+this.masterService.nullToZeroConverter(n[i[o].mappingName]);this.totalRow[i[o].mappingName]=t>0?t.toFixed(2):null}else this.totalRow[i[o].mappingName]=null}}OkCommand(){this.showReportColumnFormatPopup=!1,this.ReportColumnName.forEach(i=>{i.ReportTitle=this.reportTitle,i.rowsperpage=this.rowsperpage}),this.masterService.masterPostmethod("/updateReportMaster",{REPORTNAME:this.reportname,hasDynamicColumns:this.hasDynamicColumns,dynamicColumnLevel:this.dynamicColumnLevel,dynamicColumnWidth:this.dynamicColumnWidth,hasDynamicHeaders:this.hasDynamicHeaders,MergeReportHeader:this.MergeReportHeader,REPORTROUNDINGMODE:this.REPORTROUNDINGMODE}).subscribe(i=>{}),this.spinnerService.show("Data is saving ...."),this.reportMasterService.saveReportColumnFormat(this.ReportColumnName,"/saveReportColumnFormat").subscribe(i=>{"ok"==i.status?(this.spinnerService.hide(),this.alertService.success("Report format is successfully saved"),this.reportColumnFormate=[]):this.spinnerService.hide()},i=>{this.spinnerService.hide()})}SaveInReportColumnFormat(){this.showReportColumnFormatPopup=!0}showPreviouslyLoadedReports(){this.showReportListDialog=!0}CancelReportList(){this.showReportListDialog=!1}CancelCommand(){this.showReportColumnFormatPopup=!1}closeReport(){this.allHeaders=[],this.reportHeaders=[],this.reportData=[],this.reportparam=[],"stock-summary-report"==this.activeurlpath?this.reportMasterService.StockSummaryObj={}:"stock-ledger-report"==this.activeurlpath?this.reportMasterService.StockLedgerObj={}:"stock-valuation-report"==this.activeurlpath?this.reportMasterService.StockValuationObj={}:"salesbook-report"==this.activeurlpath?this.reportMasterService.SalesBookObj={}:"purchasebookreport"==this.activeurlpath?this.reportMasterService.PurchaseBookObj={}:"creditnotebook-report"==this.activeurlpath?this.reportMasterService.CreditNoteObj={}:"debitnotebook-report"==this.activeurlpath?this.reportMasterService.DebitNoteObj={}:"salesreport-itemwise"==this.activeurlpath?this.reportMasterService.SalesItemWiseObj={}:"purchasereport-itemwise"==this.activeurlpath?this.reportMasterService.PurchaseItemWiseObj={}:"salesreport-itemwise-detail"==this.activeurlpath?this.reportMasterService.SalesItemWiseDetailObj={}:"purchasereport-itemwise-detail"==this.activeurlpath?this.reportMasterService.PurchaseItemWiseDetailObj={}:"salesreport-customerwise"==this.activeurlpath?this.reportMasterService.SalesCustomerWiseObj={}:"purchasereport-supplierwise"==this.activeurlpath?this.reportMasterService.PurchaseSupplierWiseObj={}:"SalesReportCategoryWise"==this.activeurlpath?this.reportMasterService.SalesCategoryWiseObj={}:"PurchaseReportCategoryWise"==this.activeurlpath?this.reportMasterService.PurchaseCategoryWiseObj={}:"SalesReportProductTypeWise"==this.activeurlpath?this.reportMasterService.SalesProductTypeObj={}:"PurchaseReportProductTypeWise"==this.activeurlpath?this.reportMasterService.PurchaseProductTypeObj={}:"salesreport-supplierwise"==this.activeurlpath?this.reportMasterService.SalesSupplierWiseObj={}:"branch-transfer-report"==this.activeurlpath?this.reportMasterService.BranchTransferObj={}:"item-expiry-report"==this.activeurlpath?this.reportMasterService.ItemExpiryObj={}:"max-stocklevel-report"==this.activeurlpath?this.reportMasterService.MaximumStockLevelObj={}:"minimum-stocklevel-report"==this.activeurlpath?this.reportMasterService.MinimumStockLevelObj={}:"reorder-levelstock-report"==this.activeurlpath?this.reportMasterService.ReorderLevelStockReport={}:"stock-abcanalysis-report"==this.activeurlpath?this.reportMasterService.StockAbcAnalysisObj={}:"price-changelog-reportt"==this.activeurlpath?this.reportMasterService.PriceChangeLogObj={}:"salesprofitability-analysis"==this.activeurlpath?this.reportMasterService.SalesProfitabilityAnalysisObj={}:"purchaseorderreport"==this.activeurlpath?this.reportMasterService.PurchaseOrderReportObj={}:"purchaseorder-outstanding"==this.activeurlpath?this.reportMasterService.PurchaseOrderOutstandingObj={}:"quotationreport"==this.activeurlpath?this.reportMasterService.QuotationReportObj={}:"salesorderreport"==this.activeurlpath?this.reportMasterService.SalesOrderReportObj={}:"salesorderoutstanding"==this.activeurlpath?this.reportMasterService.SalesOrderOutstandingObj={}:"currentstock-warehousewise"==this.activeurlpath?(this.reportMasterService.CurrentStockWarehousewiseObj={},this.reportMasterService.ConsolidatedStockWarehousewiseObj={}):"grn-report"==this.activeurlpath?this.reportMasterService.GrnReportObj={}:"repack-report"==this.activeurlpath?this.reportMasterService.RepackReportObj={}:"requisition-report"==this.activeurlpath?this.reportMasterService.RequisitionReportObj={}:"raw-data-report"==this.activeurlpath?this.reportMasterService.RawDataReportObj={}:"stockageing-report"==this.activeurlpath?this.reportMasterService.StockAgeingObj={}:"branch-transferout-vs-inreport"==this.activeurlpath?this.reportMasterService.BranchtransferoutVsInObj={}:"stock-report-warehouse-wise"==this.activeurlpath?this.reportMasterService.StockWarehousewiseObj={}:"consolidatedpurchase-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedPurchaseBranchWiseObj={}:"consolidatedsales-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedSalesBranchWiseObj={}:"consolidatedstock-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedStockBranchWiseObj={}:"branch-transfer-inreport-itemwise"==this.activeurlpath?this.reportMasterService.BranchTransferInItemWiseObj={}:"branch-transferout-itemwise"==this.activeurlpath?this.reportMasterService.BranchTransferOutItemwiseObj={}:"sales-collection-report"==this.activeurlpath?this.reportMasterService.SalesCollectionObj={}:"openingstockreport"==this.activeurlpath?this.reportMasterService.OpeningStockObj={}:"stock-issue-report"==this.activeurlpath?this.reportMasterService.StockIssueObj={}:"vat-saleseregisterreport-new"==this.activeurlpath?this.reportMasterService.VATSalesNewObj={}:"vat-purchaseregisterreport-new"==this.activeurlpath?this.reportMasterService.VATPurchaseNewObj={}:"stock-variance-report"==this.activeurlpath?this.reportMasterService.StockVarianceObj={}:"salesrevenue-analysisreport"==this.activeurlpath?this.reportMasterService.SalesRevenueAnalysisObj={}:"salesreport-salesmanwise"==this.activeurlpath?this.reportMasterService.SalesReportSalesmanWiseObj={}:"salesreport-membershipwise"==this.activeurlpath?this.reportMasterService.SalesMembershipWiseObj={}:"recurring-transaction-analysis-report"==this.activeurlpath?this.reportMasterService.RecurringTransactionAnalysisObj={}:"recurring-transaction-report"==this.activeurlpath?this.reportMasterService.RecurringTransactionReportObj={}:"sales-flow-report-monthwise"==this.activeurlpath?this.reportMasterService.SalesFlowObj={}:"purchase-flow-report-monthwise"==this.activeurlpath?this.reportMasterService.PurchaseFlowObj={}:"sales-revenue-metrics-report"==this.activeurlpath?this.reportMasterService.SalesRevenueMetricsObj={}:"transreport"==this.activeurlpath&&(this.reportMasterService.TransactionLogObj={}),this.warehouseDisplayName="",this.categoryDisplayName="",this.itemGroupDisplayName="",this.itemTypeDisplay="",this.supplierDisplayName="",this.itemDisplayName="",this.itemDisplaycode="",this.labelDisplayName="",this.costcenterDisplayName="",this.reportTypeDisplayName="",this.reportModeDisplayName="",this.includeReturnDisplayName="",this.creditNoteDisplayName="",this.customerDisplayName="",this.reportOptionDisplayName="",this.recurringTransactionMode="",this.showDetailDisplay="",this.showUserWiseFormat="",this.reportTypeDisplay="",this.customerTypeDisplayName="",this.areaDisplayName="",this.transactionDisplayName="",this.areaWiseDisplayName="",this.tranAmntDisplayName="",this.productTypeDisplay="",this.purchaseReturnDisplayName="",this.debitNoteDisplayName="",this.purchasetranAmntDisplayName="",this.RecurringCategory="",this.itemName="",this.purchaseItemWiseDisplay="",this.divisionDisplayName="",this.reportMasterService.reportDataStore[this.activeurlpath]=void 0;let i=this.reportMasterService.previouslyLoadedReportList.findIndex(r=>r.activerurlpath2==this.activeurlpath);this.reportMasterService.previouslyLoadedReportList.splice(i,1),this.router.navigate(0==this.reportMasterService.previouslyLoadedReportList.length?["/pages/dashboard"]:[this.reportMasterService.previouslyLoadedReportList[this.reportMasterService.previouslyLoadedReportList.length-1].activeurlpath])}ngOnDestroy(){this.dialog.closeAll()}changeDate(i,r,o){var t=S(82071);if("AD"==o){var n=i.replace("-","/").replace("-","/"),l=t.ad2bs(n),_=r.replace("-","/").replace("-","/"),p=t.ad2bs(_);this.FromdateInAD=("1"==l.en.day||"2"==l.en.day||"3"==l.en.day||"4"==l.en.day||"5"==l.en.day||"6"==l.en.day||"7"==l.en.day||"8"==l.en.day||"9"==l.en.day?"0"+l.en.day:l.en.day)+"/"+l.en.month+"/"+l.en.year,this.TodateInAD=("1"==p.en.day||"2"==p.en.day||"3"==p.en.day||"4"==p.en.day||"5"==p.en.day||"6"==p.en.day||"7"==p.en.day||"8"==p.en.day||"9"==p.en.day?"0"+p.en.day:p.en.day)+"/"+p.en.month+"/"+p.en.year}}getReportHeadingStyles(){return{"font-size.px":this.masterService.userSetting.REPHEADING_FONTSIZE?this.masterService.userSetting.REPHEADING_FONTSIZE:"12","font-family":this.masterService.userSetting.REPHEADING_FONTNAME?this.masterService.userSetting.REPHEADING_FONTNAME:"Roboto, Arial, sans-serif"}}getReportDetailStyles(){return{"font-size.px":this.masterService.userSetting.REPDETAIL_FONTSIZE?this.masterService.userSetting.REPDETAIL_FONTSIZE:"12","font-family":this.masterService.userSetting.REPDETAIL_FONTNAME?this.masterService.userSetting.REPDETAIL_FONTNAME:"Tahoma"}}getReportFooterStyles(){return{"font-size.px":this.masterService.userSetting.REPTOTAL_FONTSIZE?this.masterService.userSetting.REPTOTAL_FONTSIZE:"12","font-family":this.masterService.userSetting.REPTOTAL_FONTNAME?this.masterService.userSetting.REPTOTAL_FONTNAME:"Tahoma"}}prepareOptionalHeader(i=[]){let r=[];if(i.length){for(var o of i)if(o.hasOwnProperty("colGroup")&&""!=o.colGroup&&!(0,H.isNullOrUndefined)(o.colGroup)){let d=i.filter(u=>u.colGroup==o.colGroup);r.filter(u=>u.colGroup==o.colGroup).length||r.push({colGroup:o.colGroup,width:n(d)+"px",colspan:Number(d.length),alignment:"center",mappingName:o.mappingName})}else r.push({colGroup:"",colspan:1,width:Number(o.size)+"px",alignment:"left",mappingName:o.mappingName});let l=r.filter(d=>"AGE1"==d.colGroup||"AGE2"==d.colGroup||"AGE3"==d.colGroup||"AGE4"==d.colGroup||"AGE5"==d.colGroup||"AGE6"==d?.colGroup||"AGE7"==d?.colGroup||"AGE8"==d?.colGroup||"AGE9"==d?.colGroup||"AGE10"==d?.colGroup),_=this.masterService.userProfile.userRights.find(d=>"StockAgeingLimit"==d.right).value;for(var t of l)"AGE1"==t.colGroup?t.colGroup="<="+this.reportparam.AGE1+" DAYS":"AGE2"==t.colGroup?t.colGroup="> "+this.reportparam.AGE1+" & <= "+this.reportparam.AGE2+" DAYS":"AGE3"==t.colGroup?t.colGroup="> "+this.reportparam.AGE2+" & <= "+this.reportparam.AGE3+" DAYS":"AGE4"==t.colGroup?t.colGroup="> "+this.reportparam.AGE3+" & <= "+this.reportparam.AGE4+" DAYS":"AGE5"==t.colGroup?t.colGroup=_<5?"OVER "+this.reportparam.AGE4+" DAYS":"> "+this.reportparam.AGE4+" & <= "+this.reportparam.AGE5+" DAYS":"AGE6"==t.colGroup?t.colGroup=_<6?"OVER "+this.reportparam.AGE5+" DAYS":"> "+this.reportparam.AGE5+" & <= "+this.reportparam.AGE6+" DAYS":"AGE7"==t.colGroup?t.colGroup=_<7?"OVER "+this.reportparam.AGE6+" DAYS":"> "+this.reportparam.AGE6+" & <= "+this.reportparam.AGE7+" DAYS":"AGE8"==t.colGroup?t.colGroup=_<8?"OVER "+this.reportparam.AGE7+" DAYS":"> "+this.reportparam.AGE7+" & <= "+this.reportparam.AGE8+" DAYS":"AGE9"==t.colGroup?t.colGroup=_<9?"OVER "+this.reportparam.AGE8+" DAYS":"> "+this.reportparam.AGE8+" & <= "+this.reportparam.AGE9+" DAYS":"AGE10"==t.colGroup&&(t.colGroup=_<10?"OVER "+this.reportparam.AGE9+" DAYS":"> "+this.reportparam.AGE9+" & <= "+this.reportparam.AGE10+" DAYS");let p=r.filter(d=>""!=d.colGroup);this.optionalreportHeaders=p.length?r:[]}function n(l=[]){let _=0;return l.length?(l.forEach(p=>{_+=Number(p.size)}),_):100}}drillDownReport(i){console.log("Drill report 1",i),console.log("reportmaster detail",this.reportmasterDetail),this.reportmasterDetail.hasOwnProperty("DRILLKEY")&&this.reportmasterDetail.hasOwnProperty("DRILLTO")&&this.reportmasterDetail.hasOwnProperty("ISDRILLABLE")&&this.reportmasterDetail.ISDRILLABLE&&("Sales Book Report_2"==this.reportmasterDetail.DRILLTO||"Credit Note Book Report_2"==this.reportmasterDetail.DRILLTO||"Purchase Book Report_2"==this.reportmasterDetail.DRILLTO||"Debit Note Book Report_2"==this.reportmasterDetail.DRILLTO?this.masterService.masterPostmethod("/getStartEndMonthDate",{data:{YEAR:i.YNAME,MONTH:i.MNAME}}).subscribe(t=>{this.startDate=t.result?t.result[0].FROMDATE.split("T")[0]:"",this.endDate=t.result?t.result[0].TODATE.split("T")[0]:"",this.routerToVouchers(i)},t=>{},()=>{}):this.routerToVouchers(i))}onRightClick(i,r){if(i.preventDefault(),!this.reportContextMenu.length)return;let o=new z.xQ;this.conTextMenuAction(o,r),this.contextMenuView.mouseEvent=i,this.contextMenuView.menuItems=this.buildContextMenuItems(o),this.contextMenuView.show=!0}conTextMenuAction(i,r){i.asObservable().subscribe(t=>{console.log("RIGHT CLICKEDD CONTEXT",t.value,t),"SHOWIMAGE"==t.value?(console.log("image show",r),this.getItemImage(r)):(this.reportmasterDetail.DRILLTO=t.value,this.drillDownReport(r),this.contextMenuView.show=!0)})}buildContextMenuItems(i){let r=[];for(let o of this.reportContextMenu)r.push(new br(o.menuname,o.commandname,i));return r}getItemImage(i){console.log("getItemImage",i),i.MCODE&&this.reportMasterService.getItemImage(i.MCODE).subscribe(r=>{if("ok"==r.status){let o=r.result[0];null!=o.ImageUpload?(this.itemObj.MENUCODE=o.MENUCODE,this.itemObj.ITEMNAME=o.DESCA,this.itemObj.IMAGEURL=""+this.imgUrl+o.ImageUpload,this.itemObj.MRP=o.MRP,console.log("image",this.itemObj.IMAGEURL),this.showItemImage=!0):this.alertService.error("No Image found for this item")}else this.alertService.error("Cannot find Image for this item")},r=>{this.alertService.error(r)})}closeImagePopup(){this.showItemImage=!1}sortTableData(i,r,o){this.mergereportHeaders[o].sortOrder="asc"==r?"desc":"asc",this.reportData.sort(function t(n,l="asc"){return function(p,d){if(!p.hasOwnProperty(n)||!d.hasOwnProperty(n))return 0;const h="string"==typeof p[n]?p[n].toUpperCase():p[n],u="string"==typeof d[n]?d[n].toUpperCase():d[n];let g=0;return h>u?g=1:h<u&&(g=-1),"desc"===l?-1*g:g}}(i,r))}resolveDrillDownParam(i,r,o=null){switch(this.reportMasterService.drillParam={},this.reportMasterService.drillParam.reportparam={},this.reportMasterService.drillParam.returnUrl=this.arouter.snapshot._routerState.url,this.reportMasterService.drillParam.reportparam.mode="DRILL",i){case"Stock Ledger Report":case"Stock Ledger Other Report":console.log("CheckChecccc##",this.masterService.PhiscalObj.BeginDate,this.masterService.PhiscalObj.EndDate),this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.masterService.PhiscalObj.BeginDate,this.reportMasterService.drillParam.reportparam.DATE2=this.masterService.PhiscalObj.EndDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.PhiscalObj.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,"GROUP"===o||(this.reportMasterService.drillParam.reportname="Stock Ledger Other Report");let d=this.reportMasterService.previouslyLoadedReportList.findIndex(g=>"Stock Ledger Report"==g.reportname);d>=0&&this.reportMasterService.previouslyLoadedReportList.splice(d,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Stock Ledger Report",activeurlpath:"/pages/reports/stock-ledger-report",activerurlpath2:"stock-ledger-report"});break;case"Stock Summary Report_A":this.reportMasterService.drillParam.reportname="Stock Summary Report_A",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=0,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=this.reportparam.ShowItemInGroupWiseReport,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT;break;case"Stock Summary Report_2":this.reportMasterService.drillParam.reportname="Stock Summary Report_2",this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=1,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=1,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT;break;case"Stock Summary Report_4":this.reportMasterService.drillParam.reportname="Stock Summary Report_4",this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=2,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=1,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=r[this.reportmasterDetail.DRILLKEY];break;case"Membership Point Report_1":this.reportMasterService.drillParam.reportname="Membership Point Report_1",this.reportMasterService.drillParam.reportparam.MEMID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.POINT=this.reportparam.POINT,this.reportMasterService.drillParam.reportparam.SUMMARY=0,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.MEMNAME=r.MEMBER_NAME;break;case"Stock Valuation ReportNONDMS_1":this.reportMasterService.drillParam.reportname="Stock Valuation ReportNONDMS_1",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE=this.reportparam.DATE,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"];break;case"Sales Book Report_2":if(this.reportMasterService.drillParam.reportname="Sales Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD)this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate;else if(0==this.reportparam.INAD){var t=S(82071),n=this.startDate.replace("-","/").replace("-","/"),l=t.bs2ad(n);this.reportMasterService.drillParam.reportparam.DATE1=l.year+"-"+(1==l.month.toString().length?"0"+l.month:l.month)+"-"+(1==l.day.toString().length?"0"+l.day:l.day);var _=this.endDate.replace("-","/").replace("-","/"),p=t.bs2ad(_);this.reportMasterService.drillParam.reportparam.DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Sales Book Report":this.reportMasterService.drillParam.reportname="Sales Book Report",this.datetochange=r.DATE,this.formattedDate=(0,m.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Sales Book Report_1":this.reportMasterService.drillParam.reportname="Sales Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Purchase Book Report_2":this.reportMasterService.drillParam.reportname="Purchase Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(t=S(82071),n=this.startDate.replace("-","/").replace("-","/"),l=t.bs2ad(n),this.reportMasterService.drillParam.reportparam.DATE1=l.year+"-"+(1==l.month.toString().length?"0"+l.month:l.month)+"-"+(1==l.day.toString().length?"0"+l.day:l.day),_=this.endDate.replace("-","/").replace("-","/"),p=t.bs2ad(_),this.reportMasterService.drillParam.reportparam.DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Purchase Book Report":this.reportMasterService.drillParam.reportname="Purchase Book Report",this.datetochange=r.DATE,this.formattedDate=(0,m.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Purchase Book Report_1":this.reportMasterService.drillParam.reportname="Purchase Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Credit Note Book Report_2":this.reportMasterService.drillParam.reportname="Credit Note Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(t=S(82071),n=this.startDate.replace("-","/").replace("-","/"),l=t.bs2ad(n),this.reportMasterService.drillParam.reportparam.DATE1=l.year+"-"+(1==l.month.toString().length?"0"+l.month:l.month)+"-"+(1==l.day.toString().length?"0"+l.day:l.day),_=this.endDate.replace("-","/").replace("-","/"),p=t.bs2ad(_),this.reportMasterService.drillParam.reportparam.DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Credit Note Book Report":this.reportMasterService.drillParam.reportname="Credit Note Book Report",this.datetochange=r.DATE,this.formattedDate=(0,m.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE;break;case"Credit Note Book Report_1":this.reportMasterService.drillParam.reportname="Credit Note Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE;break;case"Debit Note Book Report_2":this.reportMasterService.drillParam.reportname="Debit Note Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(t=S(82071),n=this.startDate.replace("-","/").replace("-","/"),l=t.bs2ad(n),this.reportMasterService.drillParam.reportparam.DATE1=l.year+"-"+(1==l.month.toString().length?"0"+l.month:l.month)+"-"+(1==l.day.toString().length?"0"+l.day:l.day),_=this.endDate.replace("-","/").replace("-","/"),p=t.bs2ad(_),this.reportMasterService.drillParam.reportparam.DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Debit Note Book Report":this.reportMasterService.drillParam.reportname="Debit Note Book Report",this.datetochange=r.DATE,this.formattedDate=(0,m.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE;break;case"Debit Note Book Report_1":this.reportMasterService.drillParam.reportname="Debit Note Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE;break;case"Sales Report Item Wise Detail":"Sales Report Item Wise Detail_2"==this.reportmasterDetail.REPORTNAME?(this.datetochange=r.DATE,this.formattedDate=(0,m.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE):"Sales Report Category Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.CATEGORY,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"]):"Sales Report Product Type Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.PTYPENAME,this.reportMasterService.drillParam.reportparam.MENUCODE=r.UNIT):"Sales Report Supplier Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"]):(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"],this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM NAME"]),this.reportMasterService.drillParam.reportname="Sales Report Item Wise Detail",this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=0;let h=this.reportMasterService.previouslyLoadedReportList.findIndex(g=>"Sales Report Item Wise Detail"==g.reportname);h>=0&&this.reportMasterService.previouslyLoadedReportList.splice(h,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Sales Report Item Wise Detail",activeurlpath:"/pages/reports/salesreport-itemwise-detail",activerurlpath2:"salesreport-itemwise-detail"});break;case"Purchase Report Item Wise Detail":"Purchase Report Item Wise Detail_2"==this.reportmasterDetail.REPORTNAME?(this.datetochange=r.DATE,this.formattedDate=(0,m.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE):"Purchase Report Product Type Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.PTYPENAME,this.reportMasterService.drillParam.reportparam.MENUCODE=r.UNIT):"Purchase Report Category Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.CATEGORY,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"]):(this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.MENUCODE=r["ITEM CODE"],this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM NAME"]),this.reportMasterService.drillParam.reportname="Purchase Report Item Wise Detail",this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=this.reportparam.SHOWDETAIL,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=0;let u=this.reportMasterService.previouslyLoadedReportList.findIndex(g=>"Purchase Report Item Wise Detail"==g.reportname);u>=0&&this.reportMasterService.previouslyLoadedReportList.splice(u,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Purchase Report Item Wise Detail",activeurlpath:"/pages/reports/purchasereport-itemwise-detail",activerurlpath2:"purchasereport-itemwise-detail"});break;case"Sales Report Item Wise_2":this.reportMasterService.drillParam.reportname="Sales Report Item Wise_2",this.reportMasterService.drillParam.reportparam.MGROUP=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=2,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE;break;case"Purchase Report Item Wise_2":this.reportMasterService.drillParam.reportname="Purchase Report Item Wise_2",this.reportMasterService.drillParam.reportparam.MGROUP=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=2,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE;break;case"Sales Report Item Wise_3":"B"!=r.FFLG&&(this.reportMasterService.drillParam.reportname="Sales Report Item Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=3,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE);break;case"Purchase Report Item Wise_3":"B"!=r.FFLG&&(this.reportMasterService.drillParam.reportname="Purchase Report Item Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=3,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.ITEMNAME=r.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=r.MGROUP_NAME);break;case"Sales Report Customer Wise_2":this.reportMasterService.drillParam.reportname="Sales Report Customer Wise_2",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CTYPE=this.reportparam.CTYPE,this.reportMasterService.drillParam.reportparam.AREAID=this.reportparam.AREAID,this.reportMasterService.drillParam.reportparam.TRNMODE=this.reportparam.TRNMODE,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.SHOWAREAWISE=this.reportparam.SHOWAREAWISE,this.reportMasterService.drillParam.reportparam.CUSTID=r.CUSTID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=r["CUSTOMER NAME"],this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Customer Wise_3":this.reportMasterService.drillParam.reportname="Sales Report Customer Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CTYPE=this.reportparam.CTYPE,this.reportMasterService.drillParam.reportparam.AREAID=this.reportparam.AREAID,this.reportMasterService.drillParam.reportparam.TRNMODE=this.reportparam.TRNMODE,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.SHOWAREAWISE=this.reportparam.SHOWAREAWISE,this.reportMasterService.drillParam.reportparam.CUSTID=this.reportparam.CUSTID,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.SHOWDETAIL=2;break;case"Purchase Report Supplier Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Supplier Wise_1",this.reportMasterService.drillParam.reportparam.ACID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=r["SUPPLIER NAME"],this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Supplier Wise_2":this.reportMasterService.drillParam.reportname="Purchase Report Supplier Wise_2",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MCODE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ITEMNAME=r["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=2;break;case"Sales Report Category Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Category Wise_1",this.reportMasterService.drillParam.reportparam.MCAT=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Category Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Category Wise_1",this.reportMasterService.drillParam.reportparam.MCAT=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Product Type Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Product Type Wise_1",this.reportMasterService.drillParam.reportparam.PTYPE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Product Type Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Product Type Wise_1",this.reportMasterService.drillParam.reportparam.PTYPE=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Supplier Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Supplier Wise_1",this.reportMasterService.drillParam.reportparam.ACID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=r["SUPPLIER NAME"],this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Salesman Wise_1":case"Sales Report Salesman Wise_2":case"Sales Report Salesman Wise_3":this.reportMasterService.drillParam.reportname=i,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SALESMAN=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.SALESMANNAME=r.SALESMAN,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT="Sales Report Salesman Wise_1"==i?"0":"1",this.reportMasterService.drillParam.reportparam.REPORT_TYPE="2";break;case"Sales Report Membership Wise_1":this.reportMasterService.drillParam.reportname=i,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.MEMID=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.MEMBERNAME=r["MEMBER NAME"];break;case"Recurring Transaction Analysis Report_2":this.reportMasterService.drillParam.reportname=i,"Recurring Transaction Analysis Report"==this.reportmasterDetail.REPORTNAME&&(this.reportMasterService.drillParam.reportparam.CATNAME=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ITEM=this.reportparam.ITEM,console.log("Catname",this.reportMasterService.drillParam.reportparam.CATNAME),console.log("Item",this.reportMasterService.drillParam.reportparam.ITEM)),"Recurring Transaction Analysis Report_1"==this.reportmasterDetail.REPORTNAME&&(this.reportMasterService.drillParam.reportparam.ITEM=r[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.CATNAME=this.reportparam.CATNAME,console.log("Catname",this.reportMasterService.drillParam.reportparam.CATNAME),console.log("Item",this.reportMasterService.drillParam.reportparam.ITEM)),this.reportMasterService.drillParam.reportparam.REPORTYPE=2,this.reportMasterService.drillParam.reportparam.REPORTOPTION=this.reportparam.REPORTOPTION,this.reportMasterService.drillParam.reportparam.RECURRINGMODE=this.reportparam.RECURRINGMODE,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID}}getDrillRouteVoucherWise(i,r){let o=i.substring(0,2).toUpperCase();switch(console.log("voucher no",o),o){case"TI":return"/pages/transaction/sales/add-sales-invoice";case"PI":return"/pages/transaction/purchases/add-purchase-invoice";case"CN":return"/pages/transaction/sales/add-creditnote-itembase";case"DN":return"/pages/transaction/purchases/add-debitnote-itembase";case"PO":return"0"==r?"/pages/transaction/purchases/add-purchase-order":"10"==r?"/pages/transaction/purchases/purchase-import-order":"/pages/transaction/purchases/add-purchase-order";case"SO":return"/pages/transaction/sales/salesorder";case"QT":return"/pages/transaction/sales/quotation";case"IS":return"/pages/transaction/inventory/add-stock-issue";case"IR":return"/pages/transaction/inventory/stock-issue-return";case"SI":return"/pages/transaction/sales/abbreviated-sales-invoice";case"GR":return"/pages/transaction/purchases/goods-received-note";case"PP":return"/pages/transaction//sales/performa-invoice";case"RQ":return"/pages/transaction/inventory/requisition-entry";case"RP":return"/pages/transaction/inventory/repack-entry"}}loadReportDataFromExistingStore(){let i=this.reportMasterService.reportDataStore[this.activeurlpath];null!=i&&null!=i&&(this.reportData=i.data.result.data,this.reportDetail=i.data.result.repDetails,this.reportname=i.param.reportname,this.reportparam=i.param.reportparam,this.reportContextMenu=i.data.result.reportContextMenu,this.reportmasterDetail=i.data.result.reportmasterDetail,this.showReportName=i.param.REPORTDISPLAYNAME?i.param.REPORTDISPLAYNAME:i.param.reportname,this.reportFooter=i.data.result.totalRowData,this.hasDynamicHeaders=this.reportmasterDetail.DYNAMICHEADER,this.MergeReportHeader=this.reportmasterDetail.MERGEREPORTHEADER,this.REPORTROUNDINGMODE=this.reportmasterDetail.REPORTROUNDINGMODE)}storeAndUpdateReportDataStore(i,r){this.reportMasterService.reportDataStore[this.activeurlpath]={param:i,data:r}}ReportCriteriaDisplay(i,r){this.showReportName="Annex 5 Report"==r?"Annex 5 Report":r,this.engDateFrom=E()(i.DATE1).format("MM/DD/YYYY"),this.engDateTo=E()(i.DATE2).format("MM/DD/YYYY"),i.DATE1&&i.DATE2?this.changeDate(i.DATE1,i.DATE2,"AD"):i.DATE&&this.changeDate(i.DATE,i.DATE,"AD"),i.DIV&&(i.DIVISIONAME?this.divisionDisplayName=i.DIVISIONAME:"%"==i.DIV?this.divisionDisplayName="All":"%"!=i.DIV?this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(o=>{let t=o.filter(n=>n.Division==i.DIV);this.divisionDisplayName=t&&t.length>0&&t[0]?t[0].NAME:""}):this.divisionDisplayName=""),("Stock Summary Report"==this.showReportName||"Stock Summary Report_A"==this.showReportName||"Stock Summary Report_2"==this.showReportName||"Stock Summary Report_4"==this.showReportName)&&(this.showReportName="Stock Summary Report","%"!=i.MCODE?(this.itemDisplayName=i.ITEMNAME,this.itemDisplaycode=i.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.labelDisplayName="1"==i.ReportMode?" @Stock Report Excluding Zero B/L":"2"==i.ReportMode?" @Negative Stock Report Only":"3"==i.ReportMode?" @Zero B/L Stock Report Only":"",this.stockshowDetailDisplay=1==i.ShowDetail?"@Report with Item Detail":"",this.warehouseDisplayName="%"!=i.WAREHOUSE?i.WAREHOUSE:"ALL","%"!=i.MGROUP&&i.MGROUP?this.masterService.getItemGroupName(i.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=i.MCAT?i.MCAT:"","100"!=i.PTYPE?this.masterService.getItemTypeName(i.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.supplierDisplayName="%"!=i.SUPCODE?i.SUPPLIERNAME:""),"Stock Ledger Report"==this.showReportName&&("%"!=i.MCODE?(this.stockLedgerItemDisplayName=i.ITEMNAME,this.stockLedgerItemDisplaycode=i.MENUCODE):(this.stockLedgerItemDisplayName="",this.stockLedgerItemDisplaycode=""),"%"!=i.ITEMGROUP&&i.ITEMGROUP?this.masterService.getItemGroupName(i.ITEMGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.warehouseDisplayName="%"!=i.WAREHOUSE?i.WAREHOUSE:"",this.showDetailDisplay=1==i.SHOWDETAIL?" @Report with Item Detail":""),("Stock Valuation ReportNONDMS"==this.showReportName||"Stock Valuation ReportNONDMS_1"==this.showReportName||"Stock Valuation Report"==this.showReportName)&&(this.showReportName="Stock Valuation Report","%"!=i.MCODE?(this.itemDisplayName=i.ITEMNAME,this.itemDisplaycode=i.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.reportTypeDisplay=0==i.SHOWDETAIL?"@Summary Report":1==i.SHOWDETAIL?"@Detail Report":""),("Sales Book Report"==this.showReportName||"Sales Book Report_1"==this.showReportName||"Sales Book Report_2"==this.showReportName||"Sales Book Report_3"==this.showReportName)&&(this.showReportName="Sales Book Report",this.customerDisplayName="%"!=i.ACID?i.CUSTOMERNAME:"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==i.REPORT_TYPE?"@Voucher Wise Sales Report":2==i.REPORT_TYPE?"@Day Wise Sales Report":3==i.REPORT_TYPE?"@Month Wise Sales Report":"",1==i.INCLUDE_RETURN?this.includeReturnDisplayName="@Report Including Sales Return":0==i.INCLUDE_RETURN&&(this.includeReturnDisplayName="@Report Excluding Sales Return"),this.showdetalreportdisplay=1==i.REPORT_TYPE?0==i.SHOWDETALREPORT?"@Summary Report":1==i.SHOWDETALREPORT?"@Detail Report":"":""),"Recurring Transaction Report"==this.showReportName&&(this.showReportName="Recurring Transaction Reprt",this.customerDisplayName="%"!=i.ACID?i.CUSTOMER:"",this.RecurringItemName=i.ITEM?"%"==i.ITEM?"ALL":i.ITEM:"",this.RecurringCategory=i.CATEGORY?"%"==i.CATEGORY?"ALL":i.CATEGORY:"",this.RecurringOptionDisplayName=0==i.REPORTOPTION?"Upcoming Recurring Transaction Report":1==i.REPORTOPTION?"Processed Recurring Transaction Report":2==i.REPORTOPTION?"Hold Recurring Transaction Report":3==i.REPORTOPTION?"New Recurring Transaction Report":4==i.REPORTOPTION?"Pending Recurring Transaction Report":""),("Recurring Transaction Analysis Report"==this.showReportName||"Recurring Transaction Analysis Report_1"==this.showReportName||"Recurring Transaction Analysis Report_2"==this.showReportName)&&(console.log("report param",i),this.showReportName="Recurring Transaction Analysis Report",this.reportTypeDisplayName=0==i.REPORTYPE?"@Category Wise Report":1==i.REPORTYPE?"@Item Wise Report":2==i.REPORTYPE?"@Customer Wise Report":3==i.REPORTYPE?"@Yearly Comparision Report":"",this.RecurringOptionDisplayName=0==i.REPORTOPTION?"All Recurring":1==i.REPORTOPTION?"Processed Recurring":2==i.REPORTOPTION?"Non-Processed Recurring":3==i.REPORTOPTION?"New Recurring":"",this.recurringTransactionMode=0==i.RecurringMode?"ALL":1==i.RecurringMode?"Each Month":2==i.RecurringMode?"Each 3 Months":3==i.RecurringMode?"Each 6 Months":4==i.RecurringMode?"Each Year":"",this.categoryDisplayName="%"!=i.CATNAME?i.CATNAME:"",this.itemName="%"!=i.ITEM?i.ITEM:""),("Credit Note Book Report"==this.showReportName||"Credit Note Book Report_1"==this.showReportName||"Credit Note Book Report_2"==this.showReportName)&&(this.showReportName="Credit Note Book Report",this.customerDisplayName="%"!=i.ACID?i.CUSTOMERNAME:"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==i.REPORT_TYPE?"@Voucher Wise Sales Report":2==i.REPORT_TYPE?"@Day Wise Sales Report":3==i.REPORT_TYPE?"@Month Wise Sales Report":"",0==i.CNMODE?this.creditNoteDisplayName="@Item Base Credit Note Only":1==i.CNMODE?this.creditNoteDisplayName="@A/C Base Credit Note Only":2==i.CNMODE&&(this.creditNoteDisplayName=""),this.showdetalreportdisplay=1==i.REPORT_TYPE?0==i.SHOWDETALREPORT?"@Summary Report":1==i.SHOWDETALREPORT?"@Detail Report":"":""),("Sales Report Item Wise"==this.showReportName||"Sales Report Item Wise_2"==this.showReportName||"Sales Report Item Wise_3"==this.showReportName)&&(this.showReportName="Sales Report Item Wise","%"!=i.MGROUP?this.masterService.getItemGroupName(i.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=i.MCAT?i.MCAT:"","100"!=i.PTYPE?this.masterService.getItemTypeName(i.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.customerDisplayName="%"!=i.ACID?i.CUSTOMERNAME:"","%"!=i.MCODE?(this.itemwiseDisplaycode=i.ITEMNAME,this.itemwiseDisplayName=i.MENUCODE):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.showUserWiseFormat=1==i.SHOWUSERWISE?"@Report with User Wise Format":""),"Sales Report Item Wise Detail"==this.showReportName&&("%"!=i.MCODE?(this.itemwiseDisplaycode=i.MENUCODE,this.itemwiseDisplayName=i.ITEMNAME):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportOptionDisplayName=0==i.REPORT_TYPE?"@Bill Wise Report":1==i.REPORT_TYPE?"@Day Wise Report":"",this.showDetailDisplay=1==i.SHOWDETAIL?"@Report with Item Detail":"",this.showUserWiseFormat=1==i.SHOWUSERWISE?"@Report with User Wise Format":""),("Sales Report Customer Wise"==this.showReportName||"Sales Report Customer Wise_2"==this.showReportName||"Sales Report Customer Wise_3"==this.showReportName)&&(this.showReportName="Sales Report Customer Wise",this.reportTypeDisplay=0==i.SHOWDETAIL?"@Summary Report":1==i.SHOWDETAIL?"@Detail Report- By Item":2==i.SHOWDETAIL?"@Detail Report- By Sales Bill":"",this.customerDisplayName="%"!=i.CUSTID?i.CUSTOMERNAME:"","%"!=i.CTYPE||(this.customerTypeDisplayName=""),"%"!=i.AREAID||(this.areaDisplayName=""),"%"!=i.TRNMODE?"CREDIT"==i.TRNMODE?this.transactionDisplayName="CREDIT":"NONCREDIT"==i.TRNMODE&&(this.transactionDisplayName="NONCREDIT"):this.transactionDisplayName="",1==i.SHOWAREAWISE?this.areaWiseDisplayName="@Area Wise Report":0==i.SHOWAREAWISE&&(this.areaWiseDisplayName=""),this.tranAmntDisplayName=i.TRANSACTIONAMOUNT?i.TRANSACTIONAMOUNT:"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Category Wise"==this.showReportName||"Sales Report Category Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Category Wise",this.categoryDisplayName="%"!=i.MCAT?i.MCAT:"",this.reportTypeDisplay=0==i.SHOWDETAIL?"@Summary Report":1==i.SHOWDETAIL?"@Detail Report":"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Product Type Wise"==this.showReportName||"Sales Report Product Type Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Product Type Wise","100"!=i.PTYPE?this.masterService.getItemTypeName(i.PTYPE).subscribe(o=>{this.productTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.productTypeDisplay="",this.reportTypeDisplay=0==i.SHOWDETAIL?"@Summary Report":1==i.SHOWDETAIL?"@Detail Report":"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Supplier Wise"==this.showReportName||"Sales Report Supplier Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Supplier Wise",this.reportTypeDisplay=0==i.SHOWDETAIL?"@Summary Report":1==i.SHOWDETAIL||2==i.SHOWDETAIL?"@Detail Report":"",this.supplierDisplayName="%"!=i.ACID?i.SUPPLIERNAME:"",this.tranAmntDisplayName=i.TRANSACTIONAMOUNT?i.TRANSACTIONAMOUNT:"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Book Report"==this.showReportName||"Purchase Book Report_1"==this.showReportName||"Purchase Book Report_2"==this.showReportName)&&(this.showReportName="Purchase Book Report",this.reportTypeDisplayName=1==i.REPORT_TYPE?"@Voucher Wise Purchase Report":2==i.REPORT_TYPE?"@Day Wise Purchase Report":3==i.REPORT_TYPE?"@Month Wise Purchase Report":"",this.purchaseReturnDisplayName=1==i.INCLUDE_RETURN?"@Report Including Purchase Return":0==i.INCLUDE_RETURN?"@Report Excluding Purchase Return":"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.showdetalreportdisplay=1==i.REPORT_TYPE?0==i.SHOWDETALREPORT?"@Summary Report":1==i.SHOWDETALREPORT?"@Detail Report":"":""),("Debit Note Book Report"==this.showReportName||"Debit Note Book Report_1"==this.showReportName||"Debit Note Book Report_2"==this.showReportName)&&(this.showReportName="Debit Note Book Report","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==i.REPORT_TYPE?"@Voucher Wise Purchase Report":2==i.REPORT_TYPE?"@Day Wise Purchase Report":3==i.REPORT_TYPE?"@Month Wise Purchase Report":"",0==i.DNMODE?this.debitNoteDisplayName="@Item Base Debit Note Only":1==i.DNMODE?this.debitNoteDisplayName="@A/C Base Debit Note Only":2==i.DNMODE&&(this.debitNoteDisplayName=""),this.showdetalreportdisplay=1==i.REPORT_TYPE?0==i.SHOWDETALREPORT?"@Summary Report":1==i.SHOWDETALREPORT?"@Detail Report":"":""),("Purchase Report Item Wise"==this.showReportName||"Purchase Report Item Wise_2"==this.showReportName||"Purchase Report Item Wise_3"==this.showReportName)&&(this.showReportName="Purchase Report Item Wise","%"!=i.MGROUP?this.masterService.getItemGroupName(i.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=i.MCAT?i.MCAT:"","100"!=i.PTYPE?this.masterService.getItemTypeName(i.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.supplierDisplayName="%"!=i.ACID?i.SUPPLIERNAME:"","%"!=i.MCODE?(this.itemDisplayName=i.ITEMNAME,this.itemDisplaycode=i.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.purchaseItemWiseDisplay=0==i.ITEMGROUPWISE?"Item Wise":1==i.ITEMGROUPWISE?"Mother Item Wise":"Mother Item Wise with Item Details"),"Purchase Report Item Wise Detail"==this.showReportName&&("%"!=i.MCODE?(this.itemDisplayName=i.ITEMNAME,this.itemDisplaycode=i.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportOptionDisplayName=0==i.REPORT_TYPE?"@Bill Wise Report":1==i.REPORT_TYPE?"@Day Wise Report":"",this.showDetailDisplay=1==i.SHOWDETAIL?"@Report with Item Detail":""),("Purchase Report Supplier Wise"==this.showReportName||"Purchase Report Supplier Wise_1"==this.showReportName||"Purchase Report Supplier Wise_2"==this.showReportName)&&(this.showReportName="Purchase Report Supplier Wise",this.reportTypeDisplay=0==i.SHOWDETAIL?"@Summary Report":1==i.SHOWDETAIL?"@Detail Report-By Item":2==i.SHOWDETAIL?"@Detail Report-By Purchase Bill":"",this.supplierDisplayName="%"!=i.ACID?i.SUPPLIERNAME:"",this.purchasetranAmntDisplayName=i.TRANSACTIONAMOUNT?i.TRANSACTIONAMOUNT:"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Report Category Wise"==this.showReportName||"Purchase Report Category Wise_1"==this.showReportName)&&(this.showReportName="Purchase Report Category Wise",this.categoryDisplayName="%"!=i.MCAT?i.MCAT:"",this.reportTypeDisplay=0==i.SHOWDETAIL?"@Summary Report":1==i.SHOWDETAIL?"@Detail Report":"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Report Product Type Wise"==this.showReportName||"Purchase Report Product Type Wise_1"==this.showReportName)&&(this.showReportName="Purchase Report Product Type Wise","100"!=i.PTYPE?this.masterService.getItemTypeName(i.PTYPE).subscribe(o=>{this.productTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.productTypeDisplay="",this.reportTypeDisplay=0==i.SHOWDETAIL?"@Summary Report":1==i.SHOWDETAIL?"@Detail Report":"","%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Membership Point Report"==this.showReportName||"Membership Point Report_1"==this.showReportName)&&(this.showReportName="Membership Point Report",this.showReportType=1==i.SUMMARY?"@Summary Report":0==i.SUMMARY?"@Detail Report":"",this.memberDisplayName="%"!=i.MEMID?i.MEMNAME:"",this.membershipPointDisplay=i.POINT?i.POINT:"",this.topNsortDisplay=1==i.TOPNSORT?"@Sorted By Top N Order":""),("Sales Profitability Analysis ReportNONDMS"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_1"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_2"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_3"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_4"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_5"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_6"==this.showReportName)&&(this.showReportName="Sales Profitability Analysis Report","%"!=i.MGROUP?this.masterService.getItemGroupName(i.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=i.MCAT?i.MCAT:"","100"!=i.PTYPE?this.masterService.getItemTypeName(i.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.customerDisplayName="%"!=i.ACID?i.CUSTOMERNAME:"","%"!=i.MCODE?(this.itemwiseDisplaycode=i.ITEMNAME,this.itemwiseDisplayName=i.MENUCODE):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=i.CCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),"Purchase Order Report"==this.showReportName&&(this.showReportName="Purchase Order Report",this.supplierDisplayName="%"!=i.ACID?i.CUSTOMERNAME:"",0==i.SUMMARYREPORT?this.reportTypeDisplay="@Detail Report":1==i.SUMMARYREPORT&&(this.reportTypeDisplay="@Summary Report")),"Purchase Order Outstanding Report"==this.showReportName&&(this.showReportName="Purchase Order Outstanding Report",this.supplierDisplayName="%"!=i.ACID?i.CUSTOMERNAME:"","%"!=i.MCODE?(this.itemDisplayName=i.ITEMNAME,this.itemDisplaycode=i.MCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=i.MGROUP?this.masterService.getItemGroupName(i.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",0==i.ITEMWISEREPORT?this.reportTypeDisplay="@Purchase Order Wise Report":1==i.ITEMWISEREPORT&&(this.reportTypeDisplay="@Item Wise Report")),"Quotation Report"==this.showReportName&&(this.showReportName="Quotation Report",this.customerDisplayName="%"!=i.ACID?i.CUSTOMERNAME:"","%"!=i.MCODE?(this.itemDisplayName=i.ITEMNAME,this.itemDisplaycode=i.MCODE):(this.itemDisplayName="",this.itemDisplaycode="")),"Sales Order Report"==this.showReportName&&(this.showReportName="Sales Order Report",this.customerDisplayName="%"!=i.ACID?i.CUSTOMERNAME:"",0==i.SUMMARYREPORT?this.reportTypeDisplay="@Detail Report":1==i.SUMMARYREPORT&&(this.reportTypeDisplay="@Summary Report"),this.UserDisplayName="%"!=i.USER?i.USER:"","%"!=i.COSTCENTER?this.masterService.getCostCenterName(i.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.SalesmanDisplayName="%"!=i.SMANID?i.SALESMANNAME:""),"Sales Order Outstanding Report"==this.showReportName&&(this.showReportName="Sales Order Outstanding Report",this.customerDisplayName="%"!=i.ACID?i.CUSTOMERNAME:"","%"!=i.MCODE?(this.itemDisplayName=i.ITEMNAME,this.itemDisplaycode=i.MCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=i.MGROUP?this.masterService.getItemGroupName(i.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",0==i.ITEMWISEREPORT?this.reportTypeDisplay="@Sales Order Wise Report":1==i.ITEMWISEREPORT&&(this.reportTypeDisplay="@Item Wise Report")),"Raw Data Report"==this.showReportName&&(this.showReportName="Raw Data Report","%"!=i.REPORT_ID?(console.log("@@reportparam",i.REPORT_NAME),this.reportTypeDisplay=`Report Type: ${i.REPORT_NAME}`):this.reportTypeDisplay=""),"Branch Transfer Report"==this.showReportName&&(this.reportTypeDisplay="TO%"==i.OPT_BRANCHINOUT?"@Report Type: Branch Transfer Out Report":"TR%"==i.OPT_BRANCHINOUT?"@Report Type: Branch Transfer In Report":""),"Stock Ageing Report"==this.showReportName&&(this.reportTypeDisplay=1==i.AGEINGMODE?"@Ageing Type: By Purchase Date":2==i.AGEINGMODE?"@Ageing Type: By Expiry Date":3==i.AGEINGMODE?"@Ageing Type: By Manufacturing Date":""),"Sales Collection Report"==this.showReportName&&(this.reportTypeDisplayName=0==i.REPORTTYPE?"@Summary Report":1==i.REPORTTYPE?"@Detail Report":"",this.reportOptionDisplayName=0==i.REPORTOPTION?"@User Wise Report":1==i.REPORTOPTION?"@Counter Wise Report":2==i.REPORTOPTION?"@Day Wise Report":"",this.UserDisplayName="%"!=i.TRNUSER?i.TRNUSER:"%"==i.TRNUSER&&1==i.ALLUSER?"All Users":"",this.terminalDisplayName="%"!=i.TERMINAL?i.TERMINALNAME:"%"==i.TERMINAL&&1==i.ALLTERMINAL?"All Counters":"",1==i.TIMWISEREPORT&&("00:00"!=i.TIME1&&"00:00"!=i.TIME2?(this.TimeDisplay=i.TIME1,this.TimeDisplay2=i.TIME2):(this.TimeDisplay="",this.TimeDisplay2=""))),("Consolidated Stock Report - Division Wise"==this.showReportName||"Consolidated Stock Report - Warehouse Wise"==this.showReportName||"Consolidated Sales Report - Division Wise"==this.showReportName||"Consolidated Purchase Report - Division Wise"==this.showReportName)&&(this.reportTypeDisplay=i.REPORTOPTIONDISPLAYNAME?i.REPORTOPTIONDISPLAYNAME:"",this.supplierDisplayName=i.SUPPLIERDISPLAYNAME?i.SUPPLIERDISPLAYNAME:"",this.customerDisplayName=i.CUSTOMERDISPLAYNAME?i.CUSTOMERDISPLAYNAME:"",this.categoryDisplayName=i.CATEGORYNAME?i.CATEGORYNAME:"",this.itemDisplayName=i.ITEMNAME?i.ITEMNAME:"",this.itemTypeDisplay=i.ITEMTYPENAME?i.ITEMTYPENAME:"",this.itemGroupDisplayName=i.ITEMGROUPNAME?i.ITEMGROUPNAME:"",this.warehouseDisplayName=i.WAREHOUSENAME?i.WAREHOUSENAME:""),"Opening Stock Report"==this.showReportName&&("%"!=i.MCODE?(this.itemDisplayName=i.ITEMNAME,this.itemDisplaycode=i.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.labelDisplayName="1"==i.ReportMode?" @Negative Stock Report Only":"",this.stockshowDetailDisplay=1==i.ShowDetail?"@Report with Item Detail":"",this.warehouseDisplayName="%"!=i.WAREHOUSE?i.WAREHOUSE:"",this.itemGroupDisplayName="%"!=i.MGROUP&&i.MGROUP?i.ITEMGROUPNAME:"",this.categoryDisplayName="%"!=i.MCAT?i.MCAT:"",this.itemTypeDisplay="100"!=i.PTYPE?i.ITEMTYPENAME:"",this.supplierDisplayName="%"!=i.SUPCODE?i.SUPPLIERNAME:""),"Stock Issue Report"==this.showReportName&&(this.FromwarehouseName=i.FROMWAREHOUSENAME?i.FROMWAREHOUSENAME:"",this.ToWarehouseName=i.TOWAREHOUSENAME?i.TOWAREHOUSENAME:"",this.reportTypeDisplay=i.REPORTOPTIONDISPLAYNAME?i.REPORTOPTIONDISPLAYNAME:""),"Requisition Report"==this.showReportName&&(this.reportTypeDisplay=1==i.ENTRYWISEREPORT?"@Entry Wise Report":2==i.ENTRYWISEREPORT?"@Item WiseReport":"",this.REQFROMDISPLAYNAME=i.REQFROMDISPLAYNAME?i.REQFROMDISPLAYNAME:"",this.REQTODISPLAYNAME=i.REQTODISPLAYNAME?i.REQTODISPLAYNAME:"","%"!=i.MCODE?this.itemwiseDisplaycode=i.ITEMNAME:this.itemwiseDisplayName="",0==i.Status?this.StatusDisplayName="All":1==i.Status?this.StatusDisplayName="Pending":2==i.Status?this.StatusDisplayName="Delivered":3==i.Status&&(this.StatusDisplayName="Force Closed")),"Shift Close Report"==this.showReportName&&(this.UserDisplayName="%"!=i.TRNUSER?i.TRNUSER:"",this.terminalDisplayName="%"!=i.TERMINAL?i.TERMINALNAME:""),"Stock Variance Report"==this.showReportName&&(this.warehouseDisplayName="%"!=i.WAREHOUSE?i.WAREHOUSE:""),"Sales Revenue Metrics Report"==this.showReportName&&(this.reportModeDisplayName=0==i.REPORTMODE?"Daily":1==i.REPORTMODE?"Weekly":"Monthly")}clickNext(){this.body.nativeElement.scrollTop=0}updown(i){"F2"==i.code&&(i.preventDefault(),this.fiterClickEvent()),"F9"==i.code&&(i.preventDefault(),this.ExportReportInExcel()),"F7"==i.code&&(i.preventDefault(),this.ExportReportInPdf()),"Escape"==i.code&&(1==this.reportLoadedSuccess&&(i.preventDefault(),this.closeReport()),1==this.showReportListDialog&&(i.preventDefault(),this.CancelReportList())),null==this.selectedRowIndex&&(this.selectedRowIndex=0),"ArrowDown"===i.code?1==this.showReportListDialog&&(i.preventDefault(),this.selectedRowIndex=this.selectedRowIndex+1,this.selectedRowIndex>this.previouslyLoadedReportsList.length-1&&(this.selectedRowIndex=this.previouslyLoadedReportsList.length-1)):"ArrowUp"===i.code&&1==this.showReportListDialog&&(i.preventDefault(),this.selectedRowIndex=this.selectedRowIndex-1,this.selectedRowIndex<0&&(this.selectedRowIndex=0)),"Enter"!==i.code&&"NumpadEnter"!==i.code||1!=this.showReportListDialog||(i.preventDefault(),null==this.selectedRowIndex||null==this.previouslyLoadedReportsList[this.selectedRowIndex])||this.router.navigate([this.previouslyLoadedReportsList[this.selectedRowIndex].activeurlpath])}routerToVouchers(i){switch(this.reportmasterDetail.DRILLTO){case"Stock Ledger Report":case"Stock Ledger Other Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,i.TYPE),this.router.navigate(["/pages/reports/stock-ledger-report"],{queryParams:{mode:"DRILL"}});break;case"VOUCHER":if((0,H.isNullOrUndefined)(i[this.reportmasterDetail.DRILLKEY]))return;this.router.navigate([this.getDrillRouteVoucherWise(i[this.reportmasterDetail.DRILLKEY],i.CNDN_MODE)],{queryParams:{mode:"DRILL",voucher:i[this.reportmasterDetail.DRILLKEY],returnUrl:this.activeurlpath}});break;case"Membership Point Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["/pages/reports/membershippointreport"],{queryParams:{mode:"DRILL"}});break;case"Stock Valuation ReportNONDMS_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/stock-valuation-report"],{queryParams:{mode:"DRILL"}});break;case"Sales Book Report_2":case"Sales Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesbook-report"],{queryParams:{mode:"DRILL"}});break;case"Sales Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesbook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Stock Summary Report_A":case"Stock Summary Report_4":case"Stock Summary Report_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/stock-summary-report"],{queryParams:{mode:"DRILL"}});break;case"Purchase Book Report_2":case"Purchase Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/purchasebookreport"],{queryParams:{mode:"DRILL"}});break;case"Purchase Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/purchasebookreport"],{queryParams:{mode:"DRILL",counter:0}});break;case"Credit Note Book Report_2":case"Credit Note Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/creditnotebook-report"],{queryParams:{mode:"DRILL"}});break;case"Credit Note Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/creditnotebook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Debit Note Book Report_2":case"Debit Note Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/debitnotebook-report"],{queryParams:{mode:"DRILL"}});break;case"Debit Note Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/debitnotebook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Item Wise Detail":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesreport-itemwise-detail"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Item Wise Detail":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/purchasereport-itemwise-detail"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Item Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesreport-itemwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Item Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesreport-itemwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Purchase Report Item Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/purchasereport-itemwise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Item Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/purchasereport-itemwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Customer Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesreport-customerwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Customer Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesreport-customerwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Purchase Report Supplier Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/purchasereport-supplierwise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Supplier Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/purchasereport-supplierwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Category Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/SalesReportCategoryWise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Category Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/PurchaseReportCategoryWise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Product Type Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/SalesReportProductTypeWise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Product Type Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/PurchaseReportProductTypeWise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Supplier Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesreport-supplierwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Salesman Wise_1":case"Sales Report Salesman Wise_2":case"Sales Report Salesman Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesreport-salesmanwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Membership Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/salesreport-membershipwise"],{queryParams:{mode:"DRILL"}});break;case"Recurring Transaction Analysis Report_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,i,null),this.router.navigate(["pages/reports/recurring-transaction-analysis-report"],{queryParams:{mode:"DRILL"}})}}clicked(i){this.HighlightRow=i}downloadReportPrepareFromAPI(){console.log("report rounding mode",this.REPORTROUNDINGMODE,"reports params",this.reportparam);var i=1;let r=this.reportHeaders.map(n=>({SNO:i++,ReportName:this.reportname,ColumnName:n.colHeader,MappingName:n.mappingName,MergeHeader:n.colGroup}));0!=this.REPORTROUNDINGMODE?this.reportparam.REPORTROUNDINGMODE=this.REPORTROUNDINGMODE:(this.reportparam.REPORTROUNDINGMODE=0,delete this.reportparam.REPORTROUNDINGMODE);let t={reportname:this.reportname,reportparam:this.reportparam,columnSetting:r||this.reportHeaders,REPORTDISPLAYNAME:this.showReportName};this.spinnerService.show("Report is downloading..Please wait"),this.masterService.DownLoadAllExcelReportPreparedFromAPI(t).subscribe(n=>{this.spinnerService.hide();let l=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),_=t.REPORTDISPLAYNAME?t.REPORTDISPLAYNAME:t.reportname;_&&"Annex 5 Report"==_&&(_="Materialized View Report"),be.saveAs(l,`${_}.xlsx`)},n=>{this.spinnerService.hide()})}onRowsPerPageChange(i){i<15&&(this.alertService.error("Minimun value for Rows Per Column must be 15"),this.rowsperpage=15)}downloadpdfPrepareFromAPI(){var i=1;let r=this.reportHeaders.map(n=>({SNO:i++,ReportName:this.reportname,ColumnName:n.colHeader,MappingName:n.mappingName,MergeHeader:n.colGroup})),t={reportname:this.reportname,reportparam:this.reportparam,columnSetting:r||this.reportHeaders,REPORTDISPLAYNAME:this.showReportName};this.spinnerService.show("PDF is downloading...Please wait"),this.masterService.DownLoadAllPdfReportPreparedFromAPI(t).subscribe(n=>{this.spinnerService.hide();let l=new Blob([n],{type:"application/pdf"}),_=t.REPORTDISPLAYNAME?t.REPORTDISPLAYNAME:t.reportname;_&&"Annex 5 Report"==_&&(_="Materialized View Report"),be.saveAs(l,`${_}.pdf`)},n=>{this.spinnerService.hide()})}updateReportFormat(){this.reportMasterService.updateReportColumnFormat(this.ReportColumnName).subscribe(i=>{"ok"==i.status&&this.alertService.info("Report format is updated successfully")})}refreshReportColumns(){this.reportMasterService.refreshReportColumnFormate(this.reportname,this.reportparam).subscribe(i=>{"ok"==i.status?(this.reportColumnFormate=i.result,this.rowsperpage=i.result?i.result[0].rowsperpage:"100",0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(r=>({ReportName:this.reportname,ColumnName:r.colHeader,MappingName:r.mappingName,Show:r.Visible,ColWidth:r.size,Format:r.stringFormat,Align:r.alignment,ColumnPosition:r.colPosition,ColGroup:r.ColGroup,GroupSummary:r.groupSummaryFunction,GSFunction:r.groupSummaryFunction,TableSummary:r.showTables,TSFunction:r.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((r,o)=>{r.Show=1,r.TableSummary=0,r.GroupSummary=0,r.ColumnPosition=o+1})):this.ReportColumnName=this.reportColumnFormate.map(r=>({ReportName:this.reportname,ColumnName:r.ColumnName,MappingName:r.MappingName,Show:r.Show,ColWidth:r.ColWidth,Format:r.Format,Align:r.Align,ColumnPosition:r.ColumnPosition,ColGroup:r.ColGroup,GroupSummary:r.GroupSummary,GSFunction:r.GSFunction,TableSummary:r.TableSummary,TSFunction:r.TSFunction,ReportTitle:this.reportTitle,rowsperpage:r.rowsperpage}))):this.reportColumnFormate=[]})}prepareOptionalDynamicHeader(i=[]){let r=[],o=0;if(i.length){for(var t in i){if(this.reportmasterDetail.HASDYNAMICCOLUMNS&&1==this.reportmasterDetail.DYNAMICHEADER){let p,_="Default";_=1==this.reportmasterDetail.DYNAMICHEADER&&i[t].mappingName.includes("~")?i[t].mappingName.split("~")[0]:"Default",p=this.allHeaders.filter(h=>h.mappingName.split("~")[0]==i[t].mappingName.split("~")[0]);let d=r.filter(h=>h.mappingName.split("~")[0]==i[t].mappingName.split("~")[0]);o+1>=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL?d.length||r.push({colGroup:"Default"==_?"":_,width:n(p,this.reportmasterDetail.DYNAMICCOLUMNWIDTH)+"px",colspan:Number(p.length),alignment:"center",mappingName:i[t].mappingName,colPosition:"Default"==_?i[t].colPosition+5e3:i[t].colPosition}):r.push({colGroup:"",colspan:1,width:Number(i[t].size)+"px",alignment:"center",mappingName:i[t].mappingName,colPosition:i[t].colPosition})}o++}r=_e().sortBy(r,"colPosition"),this.optionalreportHeaders=r.length?r:[]}function n(l=[],_){console.log("@@DYNAMICCOLUMNWIDTH",_);let p=0;return l.length?(l.forEach(d=>{p+=Number(_)}),p):100}}preparereportHeader(i=[]){let r=[];if(i.length){for(var o of i)if(o.hasOwnProperty("colHeader")&&""!=o.colHeader&&!(0,H.isNullOrUndefined)(o.colHeader)){let n=i.filter(_=>_.colHeader==o.colHeader);r.filter(_=>_.colHeader==o.colHeader).length||r.push({width:t(n)+"px",colspan:Number(n.length),alignment:"center",mappingName:o.mappingName,colHeader:o.colHeader})}else r.push({colHeader:o.colHeader,colspan:1,width:Number(o.size)+"px",alignment:"center",mappingName:o.mappingName});this.mergereportHeaders=r||[]}function t(n=[]){let l=0;return n.length?(n.forEach(_=>{l+=Number(_.size)}),l):100}}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(O.F0),e.Y36(T.P),e.Y36(P.e),e.Y36(O.gz),e.Y36(L.uw),e.Y36(A),e.Y36(Te.V),e.Y36(R.c),e.Y36(Oe.tm),e.Y36(f.p))},a.\u0275cmp=e.Xpm({type:a,selectors:[["reportmain"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Rr,5),e.Gf(Er,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.body=o.first)}},hostBindings:function(i,r){1&i&&e.NdJ("keydown",function(t){return r.updown(t)},!1,e.evT)},inputs:{reportMaster:"reportMaster",reportname:"reportname"},decls:76,vars:30,consts:[[1,"clearfix"],[1,"row","col-md-12"],[1,"row","col-md-11"],[1,"modal-title","bold_text",2,"font-size","18px","margin-top","0px","margin-left","19px"],[4,"ngIf"],[1,"col-md-1"],["type","button","data-dismiss","modal",1,"close",2,"margin-right","30%","margin-top","5px",3,"click"],[1,"plainBackGround","toggable-sidebar",3,"ngClass"],[1,"btn","btn-info","btn-toggler",3,"click"],[1,"glyphicon","glyphicon-search"],[1,"fa","fa-angle-double-left",3,"ngClass"],["type","text","name","search","placeholder","Search in report",1,"form-control",2,"width","250px","height","25px","margin-right","50px","margin-bottom","10px",3,"ngModel","ngModelChange"],[2,"float","left","margin-left","10px","margin-right","0.5%"],[2,"height","30px","width","30px"],[1,"cell-with-comment",2,"border","1pt solid black",3,"click"],[2,"margin","5px"],["tooltip","Main filters",1,"fa","fa-filter"],[1,"cell-comment"],["style","height:30px;width:30px",4,"ngIf"],[2,"margin","4px"],["tooltip","Main filters",1,"fa","fa-file-export"],["id","pdfWidth",1,"cell-with-comment",2,"border","1pt solid black",3,"click"],[2,"margin","7px"],["tooltip","Main filters",1,"fa","fa-file-pdf"],["tooltip","Main filters",1,"fa","fa-file-alt"],[1,"report-table",2,"width","102%"],[1,"widgets"],[1,"row","table-container"],["id","BlueHeaderResizableTable",1,"reportTabel",2,"font-size","12px","width","98%","height","96%","overflow-x","auto"],["reportHtmlTable",""],[2,"height","25px"],["style","font-weight: bold;text-align: center;",3,"width","ngStyle","ngClass",4,"ngFor","ngForOf"],[2,"width","fit-content"],["body",""],[3,"ngClass","active","dblclick","contextmenu","click",4,"ngFor","ngForOf"],[2,"margin-bottom","0.5%"],["style","font-weight: bold;font-size: inherit;height: 20px !important;color: inherit;",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"pageChange","click"],["bsModal","","role","dialog",1,"modal","fade",2,"position","absolute","top","50%"],["childModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-title"],[1,"modal-body"],["class","modal-sticky","style","overflow-y: auto; overflow-x: hidden; right: 4%;width: 92%;z-index: 9999999",4,"ngIf"],["class","modal-sticky","style","overflow: auto;right: 40%;width: 30%;z-index: 9999999",4,"ngIf"],["class","modal-sticky","style","overflow: auto;right: 20%;width: 40%;z-index: 9999999",4,"ngIf"],["class","bold_text",4,"ngIf"],["class","bold_text","style","width: auto;",4,"ngIf"],["class","bold_text","style","width: 140px;",4,"ngIf"],[1,"bold_text"],[1,"bold_text",2,"width","auto"],[1,"bold_text",2,"width","140px"],[2,"border","1pt solid black",3,"click"],["tooltip-placement","right","tooltip","Main filters",2,"margin","5px"],["tooltip","Main filters",1,"fa","fa-tasks"],[3,"text-align","width","ngClass",4,"ngFor","ngForOf"],[3,"width","ngClass"],[2,"font-weight","bold","text-align","center",3,"width","ngStyle","ngClass"],["class","arrow down",3,"click",4,"ngIf"],["class","arrow up",3,"click",4,"ngIf"],[1,"arrow","down",3,"click"],[1,"arrow","up",3,"click"],[3,"ngClass","dblclick","contextmenu","click"],["style","height: 20px !important;",3,"ngClass","width","text-align",4,"ngFor","ngForOf"],[2,"height","20px !important",3,"ngClass","width"],[2,"margin","0 !important","overflow","hidden",3,"ngStyle"],[2,"font-weight","bold","font-size","inherit","height","20px !important","color","inherit"],["style","height: 30px !important;background: #ABDCFB;",3,"width","text-align","ngClass",4,"ngFor","ngForOf"],[2,"height","30px !important","background","#ABDCFB",3,"width","ngClass"],[1,"modal-sticky",2,"overflow-y","auto","overflow-x","hidden","right","4%","width","92%","z-index","9999999"],[1,"modal-content","modal-content-main-area"],[2,"background-color","#d9e5e7","display","flex","justify-content","space-between","align-items","center"],["id","myModalLabel",1,"modal-title"],["type","button",1,"btn","btn-info",2,"font-size","14px",3,"click"],["type","button","class","btn btn-info","style","font-size: 14px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info",2,"margin-left","115px","margin-top","-6px","font-size","14px",3,"click"],["type","button",1,"btn","btn-info",2,"margin-left","12px","margin-top","-6px","font-size","14px",3,"click"],[1,"row"],[1,"col-md-12"],[1,"row",2,"margin-top","5px","align-items","baseline"],[1,"row","col-md-4",2,"margin-top","5px"],[1,"col-md-4","label",2,"margin","0","padding","0"],[1,"col-md-6"],["type","text",1,"form-control","input-text-element",2,"color","black","height","24px",3,"readonly","ngModel","ngModelChange"],["type","text",1,"form-control","input-text-element",2,"height","24px",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","5px"],["type","text",1,"form-control","input-text-element",3,"ngModel","ngModelChange","change"],["name","dynamic","id","dynamiccolumn",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["name","dynamicheaders","id","dynamicheader",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],["type","number",1,"form-control","input-text-element",3,"ngModel","ngModelChange"],["type","text",1,"form-control","input-text-element",3,"ngModel","ngModelChange"],["name","mergeheader","id","_mergeheader",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"margin-left","5px"],[1,"table",2,"display","grid","font-size","12px"],[2,"width","56px"],["scope","col",2,"width","190px"],["scope","col",2,"width","60px"],["scope","col",2,"width","90px"],["scope","col",2,"width","100px"],["scope","col",2,"width","65px"],["scope","col",2,"width","120px"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],[1,"columformat-class",2,"width","56px"],[1,"columformat-class",2,"width","190px","line-height","32px"],["type","text",1,"form-control",2,"height","26px","margin-top","2px","font-size","12px",3,"ngModel","ngModelChange"],["type","text",1,"form-control",2,"color","black","height","26px","margin-top","2px","font-size","12px",3,"readonly","ngModel","ngModelChange"],[1,"columformat-class",2,"width","60px","line-height","32px"],["type","checkbox",1,"form-control",2,"font-size","2px","margin-top","10%",3,"ngModel","change","ngModelChange"],[1,"columformat-class",2,"width","90px","line-height","32px"],["type","number",1,"form-control",2,"height","26px","margin-top","2px","font-size","12px",3,"ngModel","ngModelChange"],[1,"columformat-class",2,"width","100px","line-height","32px","font-size","12px"],["type","text",1,"form-control",2,"height","26px","margin-top","2px",3,"ngModel","ngModelChange"],[1,"columformat-class",2,"width","65px","line-height","32px"],[1,"columformat-class",2,"width","120px","line-height","32px"],["type","checkbox",1,"form-control",2,"font-size","2px","margin-top","5%",3,"ngModel","change","ngModelChange"],[1,"modal-sticky",2,"overflow","auto","right","40%","width","30%","z-index","9999999"],[2,"height","28px","margin-top","5px"],["id","myModalLabel",1,"modal-title",2,"line-height","15px","font-weight","bold"],[1,"table-responsive"],[1,"table",2,"display","grid"],[2,"width","100%"],[2,"line-height","7px"],[2,"width","1%"],[2,"width","7%"],[2,"height","200px","overflow","auto","font-size","15px"],["style","line-height: 5px;",3,"highlighted",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[2,"line-height","5px"],[2,"width","7%",3,"routerLink"],[1,"modal-sticky",2,"overflow","auto","right","20%","width","40%","z-index","9999999"],[1,"modal-header",2,"padding","0px","background","#87ceeb"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin","auto","height","45vh","width","80vh",3,"src"],[1,"row","col-md-12","pd0"],[2,"font-weight","bold","font-size","14px","width","auto"],[2,"font-size","14px","width","auto"],[3,"data"]],template:function(i,r){if(1&i){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"titlecase"),e.qZA(),e.YNc(6,Ii,55,54,"ng-container",4),e.qZA(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return r.closeReport()}),e._uU(9,"\xd7"),e.qZA()(),e.TgZ(10,"div",7)(11,"button",8),e.NdJ("click",function(){return r.hideShow=!r.hideShow}),e._UZ(12,"span",9)(13,"i",10),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(n){return r.filter=n}),e.qZA()()()(),e.TgZ(15,"div",0)(16,"div",12)(17,"table")(18,"tr",13)(19,"td",14),e.NdJ("click",function(){return r.fiterClickEvent()}),e.TgZ(20,"i",15),e._UZ(21,"span",16),e.qZA(),e.TgZ(22,"span",17),e._uU(23," View Report Dialog Box [F2] "),e.qZA()()(),e.YNc(24,yi,4,0,"tr",18),e.TgZ(25,"tr",13)(26,"td",14),e.NdJ("click",function(){return r.ExportReportInExcel()}),e.TgZ(27,"i",19),e._UZ(28,"span",20),e.qZA(),e.TgZ(29,"span",17),e._uU(30," Save To Excel [F9] "),e.qZA()()(),e.TgZ(31,"tr",13)(32,"td",21),e.NdJ("click",function(){return r.ExportReportInPdf()}),e.TgZ(33,"i",22),e._UZ(34,"span",23),e.qZA(),e.TgZ(35,"span",17),e._uU(36," Save To PDF [F7] "),e.qZA()()(),e.TgZ(37,"tr",13)(38,"td",14),e.NdJ("click",function(){return r.showPreviouslyLoadedReports()}),e.TgZ(39,"i",22),e._UZ(40,"span",24),e.qZA(),e.TgZ(41,"span",17),e._uU(42," Open Report List [Shift+Tab] "),e.qZA()()()()(),e.TgZ(43,"div",25)(44,"div",26)(45,"div",27)(46,"table",28,29),e.YNc(48,Ni,3,1,"thead",4),e.TgZ(49,"thead")(50,"tr",30),e.YNc(51,wi,5,7,"th",31),e.qZA()(),e.TgZ(52,"tbody",32,33),e.YNc(54,Zi,2,4,"tr",34),e.ALo(55,"paginate"),e.ALo(56,"filter"),e.qZA(),e.TgZ(57,"tfoot",35),e.YNc(58,Ui,2,1,"tr",36),e.qZA(),e.TgZ(59,"div",37)(60,"pagination-controls",38),e.NdJ("pageChange",function(n){return r.page=n})("click",function(){return r.clickNext()}),e.qZA()()()()()()(),e.TgZ(61,"div",39,40)(63,"div",41)(64,"div",42)(65,"div",43)(66,"button",44),e.NdJ("click",function(){e.CHM(o);const n=e.MAs(62);return e.KtG(n.hide())}),e._uU(67,"\xd7"),e.qZA(),e.TgZ(68,"h4",45),e._uU(69,"Information"),e.qZA()(),e.TgZ(70,"div",46),e._uU(71),e.qZA()()()(),e.YNc(72,Yi,107,12,"div",47),e.YNc(73,qi,19,1,"div",48),e.YNc(74,Gi,25,8,"div",49),e.YNc(75,Hi,2,1,"div",4)}2&i&&(e.xp6(4),e.hij("",e.lcZ(5,15,r.showReportName),"\xa0\xa0"),e.xp6(2),e.Q6J("ngIf",r.reportparam&&r.reportname),e.xp6(4),e.Q6J("ngClass",e.VKq(23,Qi,r.hideShow)),e.xp6(3),e.Q6J("ngClass",e.VKq(25,zi,r.hideShow)),e.xp6(1),e.Q6J("ngModel",r.filter),e.xp6(10),e.Q6J("ngIf","ADMIN"==r.userProfile.username.toUpperCase()),e.xp6(24),e.Q6J("ngIf",r.optionalreportHeaders.length),e.xp6(3),e.Q6J("ngForOf",r.mergereportHeaders),e.xp6(3),e.Q6J("ngForOf",e.xi3(55,17,e.xi3(56,20,r.reportData,r.filter),e.WLB(27,Ki,r.rowsperpage,r.page))),e.xp6(4),e.Q6J("ngForOf",r.reportFooter),e.xp6(13),e.hij(" ",r.DialogMessage," "),e.xp6(1),e.Q6J("ngIf",r.showReportColumnFormatPopup),e.xp6(1),e.Q6J("ngIf",r.showReportListDialog),e.xp6(1),e.Q6J("ngIf",r.showItemImage),e.xp6(1),e.Q6J("ngIf",1==r.contextMenuView.show))},dependencies:[O.rH,he.oB,ge.LS,m.mk,m.sg,m.O5,m.PC,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c.JJ,c.On,Ar,ge._s,m.rS,m.H9,Pr],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:500px!important}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{min-width:100%!important}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;right:0;position:absolute;margin:0}.arrow[_ngcontent-%COMP%]{border:solid black;border-width:0 3px 3px 0;display:inline-block;padding:2px}.right[_ngcontent-%COMP%]{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.up[_ngcontent-%COMP%]{transform:rotate(-135deg);-webkit-transform:rotate(-135deg)}.down[_ngcontent-%COMP%]{transform:rotate(45deg);-webkit-transform:rotate(45deg)}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}",".Regular[_ngcontent-%COMP%] {\n    font-weight: inherit;\n    font-size: inherit;\n    height: 20px !important;\n    color: inherit;\n  }\n\n  .Bold[_ngcontent-%COMP%] {\n    font-weight: bold;\n    font-size: inherit;\n    height: 20px !important;\n    color: inherit;\n  }\n\n  .Regulartd[_ngcontent-%COMP%] {\n    white-space: inherit;\n    \n    line-height: 10px;\n    overflow: hidden;\n    padding-left: 5px;\n    padding-right: 3px\n  }\n\n  .Boldtd[_ngcontent-%COMP%] {\n    white-space: inherit;\n    \n    overflow: hidden;\n    padding-left: 5px;\n    padding-right: 3px;\n    line-height: 10px;\n  }\n\n  .toggable-sidebar[_ngcontent-%COMP%] {\n    position: absolute;\n    right: -280px;\n    transition: 0.3s;\n    padding: 10px;\n    width: 270px;\n    text-decoration: none;\n    font-size: 20px;\n    border-radius: 0 5px 5px 0;\n    background: #c0c0c0;\n    color: #000000;\n    \n    \n    margin: 0px;\n    border: 1px solid #f1ebeb;\n  }\n\n  .mySidenav-show[_ngcontent-%COMP%] {\n    right: 0 !important;\n  }\n\n  .btn-toggler[_ngcontent-%COMP%] {\n    position: absolute;\n    left: -45px;\n    top: 3px;\n    background: #8cccfb !important;\n    border-color: #8cccfb !important;\n    padding: 5px 12px 5px 5px !important;\n    font-size: 10px !important;\n    width: 45px !important;\n  }\n\n  .toggler-btn-icon-reverse[_ngcontent-%COMP%] {\n    transform: rotate(180deg);\n  }\n\n  .bold_text[_ngcontent-%COMP%] {\n    font-weight: bold;\n  }\n\n  .columformat-class[_ngcontent-%COMP%]{\n    padding: 0.25rem;\n  }\n  .noMergerHeader[_ngcontent-%COMP%]{\n    margin-top: 0px;\n  }\n  .MergerHeader[_ngcontent-%COMP%]{\n    margin-top: 10px;\n  }\n\n  .highlighted[_ngcontent-%COMP%]\n  {\n    background: #dbedf9;\n    color: black;\n  }\n\n  .input-text-element[_ngcontent-%COMP%]{\n        width: 216px;\n        height: 24px;\n    }\n\n    .notdisplay[_ngcontent-%COMP%] {\n    display:none;\n  }\n\n  #pdfWidth[_ngcontent-%COMP%]{\n    width:52px; \n    border-left-style: solid;\n    border-left-width: 2px;\n  }"]}),a})();var v=S(82661),J=S(15861),ae=S(75130),I=S(60105),M=S(23470),K=S(31722);const $i=["childModal"],Xi=["genericDatePicker"],eo=["reportFilter"],to=["genericSimpleTable"],ro=function(a){return{"mySidenav-show":a}},io=function(a){return{"toggler-btn-icon-reverse":a}};function oo(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",9)(1,"button",10),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.hideShow=!o.hideShow)}),e._uU(2," F10 "),e._UZ(3,"i",11),e.qZA(),e.TgZ(4,"div")(5,"report-filter",12,13),e.NdJ("ClickFilter",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.applyFilter(o,1))})("downloadExcel",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.downloadExcel(o))})("SaveReport",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onSaveReport(o))})("DeleteReport",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onDeleteReport(o))}),e.qZA()()()}if(2&a){const i=e.oxw(),r=e.MAs(4);e.Q6J("ngClass",e.VKq(5,ro,i.hideShow)),e.xp6(3),e.Q6J("ngClass",e.VKq(7,io,i.hideShow)),e.xp6(2),e.Q6J("ReportFilterSetting",i.reportObj)("UserReportList",i.userReportList)("newTemplate",r)}}function no(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",14)(1,"report-grid",15,16),e.NdJ("onActionClick",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onActionClick(o))})("onCurrentPageChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onPageChange(o))})("columnSettingChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onColumnSettingChange(o))})("onContextMenu",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onContextMenuClick(o))}),e.qZA()()}if(2&a){const i=e.oxw(),r=e.MAs(12);e.xp6(1),e.Q6J("simpleTableConfig",i.genericSimpleTableConfig)("FooterTemplate",r)}}function ao(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"ul",38)(1,"li",39),e._uU(2),e.TgZ(3,"div",40),e.NdJ("click",function(){const t=e.CHM(i).$implicit,n=e.oxw(2);return e.KtG(n.deleteReport(t.reportName))}),e._UZ(4,"span",41),e.qZA(),e.TgZ(5,"ul",42)(6,"li")(7,"a",43),e.NdJ("click",function(){const t=e.CHM(i).$implicit,n=e.oxw(2);return e.KtG(n.deleteReport(t.reportName))}),e._uU(8,"Delete"),e.qZA()()()()()}if(2&a){const i=s.$implicit;e.xp6(2),e.hij(" ",i.reportName," ")}}function so(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"input",56),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.selectChangeHandler(o,t))}),e.qZA()}if(2&a){const i=e.oxw(2).$implicit;e.Q6J("checked",1==i.fieldValue||i.selected)("disabled",i.required)}}function lo(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(3).$implicit;return e.KtG(t.fieldValue=o)}),e.qZA()()()}if(2&a){const i=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngModel",i.fieldValue)}}function po(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,lo,3,1,"div",57),e.qZA()),2&a){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",i.selected)}}function co(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",61)(1,"div",58)(2,"div",62)(3,"dropdown-multiselect",63,64),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2).$implicit;return e.KtG(t.fieldValue=o)})("onItemSelect",function(o){e.CHM(i);const t=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.onItemSelect(o,t))})("onItemDeSelect",function(o){e.CHM(i);const t=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.onItemSelect(o,t))}),e.qZA()()()()}if(2&a){const i=e.oxw(2).$implicit;e.xp6(3),e.Q6J("data",i.fieldSelectionValues.fieldvalues)("ngModel",i.fieldValue)}}function _o(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",70)(1,"ims-custom-form",71),e.NdJ("change",function(){e.CHM(i);const o=e.oxw(3).$implicit,t=e.oxw(3);return e.KtG(t.onChange(o))}),e.qZA()()}if(2&a){const i=e.oxw(6);e.xp6(1),e.Q6J("service",i.masterService)}}function ho(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",65)(1,"div",58)(2,"div",66)(3,"app-simple-suggest",67),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(5);return e.KtG(t.masterService.prodAttSearchObj.DEPARTMENT=o)})("selectOption",function(o){e.CHM(i);const t=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.filters(o,t))}),e.qZA()(),e.TgZ(4,"div",68),e.YNc(5,_o,2,1,"div",69),e.qZA()()()}if(2&a){const i=e.oxw(2).$implicit,r=e.oxw(3);e.xp6(3),e.Q6J("options",i.fieldSelectionValues.fieldvalues)("labelKey","name")("valueKey","name")("ngModel",r.masterService.prodAttSearchObj.DEPARTMENT),e.xp6(2),e.Q6J("ngIf",(""!=r.masterService.prodAttSearchObj.DEPARTMENT||null!=r.masterService.prodAttSearchObj.DEPARTMENT||null!=r.masterService.prodAttSearchObj.DEPARTMENT)&&r.masterService.prodAttSearchObj.DEPARTMENT)}}function go(a,s){if(1&a&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.name," ")}}function uo(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",72)(1,"select",73),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2).$implicit;return e.KtG(t.fieldvalue=o)}),e.YNc(2,go,2,2,"option",74),e.qZA()()}if(2&a){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",i.fieldvalue),e.xp6(1),e.Q6J("ngForOf",i.fieldSelectionValues.fieldvalues)}}function mo(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div")(2,"generic-daterange-picker",76,77),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2).$implicit;return e.KtG(t.fieldValue=o)}),e.qZA()()()}if(2&a){const i=e.oxw(2).$implicit,r=e.oxw(3),o=e.MAs(14);e.xp6(2),e.Q6J("ngModel",i.fieldValue)("FiscalBeginDate",r.reportObj.fiscalBeginDate)("newTemplate",o)}}function So(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",78)(1,"input",79),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2).$implicit;return e.KtG(t.fieldValue=o)}),e.qZA()()}if(2&a){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",i.fieldValue)}}function Oo(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",80)(1,"generic-multiselect",81),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.onMultiSelect(o,t))}),e.qZA()()}if(2&a){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",i.fieldSelectionValues.fieldvalues)}}function bo(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",80)(1,"generic-multiselect",82),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.onMultiSelect(o,t))}),e.qZA()()}if(2&a){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",i.fieldSelectionValues.fieldvalues)("singleSelect",!0)}}const To=function(a){return{width:a}};function vo(a,s){if(1&a&&(e.TgZ(0,"div",47),e.YNc(1,so,1,2,"input",48),e.TgZ(2,"label",49),e._uU(3),e.qZA(),e.YNc(4,po,2,1,"div",50),e.YNc(5,co,5,2,"div",51),e.YNc(6,ho,6,5,"div",52),e.YNc(7,uo,3,2,"div",53),e.YNc(8,mo,4,3,"div",50),e.YNc(9,So,2,1,"div",54),e.YNc(10,Oo,2,1,"div",55),e.YNc(11,bo,2,2,"div",55),e.qZA()),2&a){const i=e.oxw().$implicit,r=e.oxw().showCheckbox;e.xp6(1),e.Q6J("ngIf","checkbox"==i.controlType||r),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,To,"checkbox"==i.controlType?"60%":"12%")),e.xp6(1),e.Oqu(i.fieldName),e.xp6(1),e.Q6J("ngIf","text"==i.controlType),e.xp6(1),e.Q6J("ngIf","dropdownmultiselect"==i.controlType&&i.selected),e.xp6(1),e.Q6J("ngIf","attributes"==i.controlType&&i.selected),e.xp6(1),e.Q6J("ngIf","dropdown"==i.controlType&&i.selected),e.xp6(1),e.Q6J("ngIf","daterange"==i.controlType&&i.selected),e.xp6(1),e.Q6J("ngIf","date"==i.controlType&&i.selected),e.xp6(1),e.Q6J("ngIf","multiselect"==i.controlType&&i.selected),e.xp6(1),e.Q6J("ngIf","singleselect"==i.controlType&&i.selected)}}function fo(a,s){if(1&a&&(e.TgZ(0,"div",45),e.YNc(1,vo,12,13,"div",46),e.qZA()),2&a){const i=s.$implicit;e.xp6(1),e.Q6J("ngIf",0==i.isFieldDisabled)}}function Co(a,s){1&a&&e.YNc(0,fo,2,1,"div",44),2&a&&e.Q6J("ngForOf",s.fields)}function Ao(a,s){if(1&a){const i=e.EpF();e.ynx(0),e.TgZ(1,"button",83),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.excelExport())}),e._uU(2," Download "),e.qZA(),e.BQk()}}function Po(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"button",83),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().excelDownloading;return e.KtG(o())}),e._uU(1," Download "),e.qZA()}}const ve=function(a,s){return{"glyphicon-chevron-down":a,"glyphicon-chevron-up":s}},Mo=function(a,s){return{fields:a,showCheckbox:s}},Ro=function(a){return{fields:a,showCheckbox:!0}};function Eo(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div")(3,"div",19)(4,"div")(5,"span",20),e._uU(6),e.qZA(),e._UZ(7,"br")(8,"br"),e.TgZ(9,"span")(10,"strong",21),e._uU(11,"Report Filter"),e.qZA()()(),e.YNc(12,ao,9,1,"ul",22),e.qZA(),e.TgZ(13,"accordion",23)(14,"accordion-group",24,25)(16,"div",26),e._uU(17," Required Fields "),e._UZ(18,"i",27),e.qZA(),e.TgZ(19,"div",28),e.GkF(20,29),e.qZA()(),e.TgZ(21,"accordion-group",30,31)(23,"div",26),e._uU(24," Optional Fields "),e._UZ(25,"i",27),e.qZA(),e.TgZ(26,"div",28),e.GkF(27,29),e.qZA()()()(),e.TgZ(28,"div",32),e.YNc(29,Co,1,1,"ng-template",null,33,e.W1O),e.qZA(),e.TgZ(31,"div",34)(32,"button",35),e.NdJ("click",function(){const t=e.CHM(i).applyFiltering;return e.KtG(t())}),e._uU(33," Apply filter "),e.qZA(),e.YNc(34,Ao,3,0,"ng-container",36),e.YNc(35,Po,2,0,"ng-template",null,37,e.W1O),e.qZA()()()}if(2&a){const i=s.UserReportList,r=s.selectedFields,o=s.requiredFields,t=e.MAs(15),n=e.MAs(22),l=e.MAs(30),_=e.MAs(36),p=e.oxw();e.xp6(6),e.Oqu(p.reportTitle),e.xp6(6),e.Q6J("ngForOf",i),e.xp6(1),e.Q6J("closeOthers",!1),e.xp6(1),e.Q6J("isOpen",!0),e.xp6(4),e.Q6J("ngClass",e.WLB(13,ve,null==t?null:t.isOpen,!t.isOpen)),e.xp6(2),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.WLB(16,Mo,r,"checkbox"===r.controlType)),e.xp6(1),e.Q6J("isOpen",!1),e.xp6(4),e.Q6J("ngClass",e.WLB(19,ve,null==n?null:n.isOpen,!n.isOpen)),e.xp6(2),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.VKq(22,Ro,o)),e.xp6(7),e.Q6J("ngIf",p.clientSideDownload())("ngIfElse",_)}}const Io=function(){return{"text-align":"center","white-space":"normal","background-color":"red"}};function yo(a,s){if(1&a&&(e.ynx(0),e.TgZ(1,"th",85),e._uU(2),e.qZA(),e.BQk()),2&a){const i=s.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,Io)),e.uIk("colspan",i.colspan),e.xp6(1),e.hij(" ",i.groupHeader," ")}}function Do(a,s){1&a&&e.YNc(0,yo,3,4,"ng-container",84),2&a&&e.Q6J("ngForOf",s.mergereportHeaders)}function No(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"input",88,89),e.NdJ("keyup",function(o){e.CHM(i);const t=e.oxw(2).$implicit,n=e.oxw().triggerMultiSearch;return e.KtG(n(o,t,!1))}),e.qZA()()}if(2&a){const i=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",i.title)}}const fe=function(a){return{"text-align":a}};function jo(a,s){if(1&a&&(e.TgZ(0,"th",87),e.YNc(1,No,3,1,"div",50),e.qZA()),2&a){const i=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,fe,i.alignment)),e.xp6(1),e.Q6J("ngIf",!i.noSearch)}}function ko(a,s){if(1&a&&(e.ynx(0),e.YNc(1,jo,2,4,"th",86),e.BQk()),2&a){const i=s.$implicit;e.xp6(1),e.Q6J("ngIf",!i.hidden)}}function Fo(a,s){1&a&&e.YNc(0,ko,2,1,"ng-container",84),2&a&&e.Q6J("ngForOf",s.columns)}function wo(a,s){if(1&a&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",93),e.qZA()),2&a){const i=s.$implicit,r=e.oxw(3).$implicit;e.xp6(1),e.Q6J("itemObj",i)("item",r)}}function Wo(a,s){if(1&a&&(e.TgZ(0,"div")(1,"ul",92),e.YNc(2,wo,2,2,"li",84),e.qZA()()),2&a){const i=e.oxw(2).$implicit,r=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",r[i.key])}}const Lo=function(a,s,i){return{itemObj:a,item:s,fieldName:i}};function Zo(a,s){if(1&a&&e.GkF(0,29),2&a){const i=e.oxw(2).$implicit,r=e.oxw().itemObj,o=e.oxw();e.Q6J("ngTemplateOutlet",o.dataColumnTemplate)("ngTemplateOutletContext",e.kEZ(2,Lo,r,i,i.key))}}function xo(a,s){if(1&a&&(e.TgZ(0,"td",85),e.YNc(1,Wo,3,1,"div",36),e.YNc(2,Zo,1,6,"ng-template",null,91,e.W1O),e.qZA()),2&a){const i=e.MAs(3),r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,fe,r.alignment)),e.xp6(1),e.Q6J("ngIf",r.isListField)("ngIfElse",i)}}function Uo(a,s){if(1&a&&(e.ynx(0),e.YNc(1,xo,4,5,"td",90),e.BQk()),2&a){const i=s.$implicit;e.xp6(1),e.Q6J("ngIf",!i.hidden)}}function Vo(a,s){1&a&&e.YNc(0,Uo,2,1,"ng-container",84),2&a&&e.Q6J("ngForOf",s.columns)}function Bo(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const i=e.oxw().$implicit,r=e.oxw().TotalData;e.xp6(1),e.hij(" ",r[i.key]," ")}}const Yo=function(a){return{"text-align":a,padding:"0.35rem"}};function Jo(a,s){if(1&a&&(e.ynx(0),e.TgZ(1,"td",85),e.YNc(2,Bo,2,1,"div",50),e.qZA(),e.BQk()),2&a){const i=s.$implicit,r=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,Yo,i.alignment)),e.xp6(1),e.Q6J("ngIf",r)}}function qo(a,s){1&a&&e.YNc(0,Jo,3,4,"ng-container",84),2&a&&e.Q6J("ngForOf",s.columns)}function Go(a,s){if(1&a&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.Q6J("ngValue",i),e.xp6(1),e.hij(" ",i," ")}}function Ho(a,s){1&a&&(e.TgZ(0,"div"),e._UZ(1,"input",102),e.qZA())}function Qo(a,s){1&a&&(e.TgZ(0,"div",103),e._UZ(1,"input",104),e.qZA())}function zo(a,s){1&a&&(e.TgZ(0,"div",103),e._UZ(1,"input",105),e.qZA())}function Ko(a,s){1&a&&(e.TgZ(0,"div",103),e._UZ(1,"input",106),e.qZA())}const Ce=function(){return{standalone:!0}};function $o(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"input",107),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t.changeEntryDate(o.target.value,"AD","start"))}),e.qZA(),e.TgZ(2,"nepali-date-picker",108),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t.changeEntryDate(o.detail.value,"BS","start"))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t.startNepaliDate=o)}),e.qZA()()}if(2&a){const i=e.oxw(2);e.xp6(1),e.s9C("min",i.minDate),e.xp6(1),e.Q6J("id","nepaliDatefrom")("ngModelOptions",e.DdM(5,Ce))("label","From")("ngModel",i.startNepaliDate)}}function Xo(a,s){if(1&a&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.xp6(1),e.hij(" ",i," ")}}function en(a,s){if(1&a&&(e.TgZ(0,"div")(1,"select",109),e.YNc(2,Xo,2,1,"option",84),e.qZA()()),2&a){const i=e.oxw(2).intheLastRangeOptions;e.xp6(2),e.Q6J("ngForOf",i)}}function tn(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"input",110),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.changeEntryDate(o.target.value,"AD","end"))}),e.qZA(),e.TgZ(2,"nepali-date-picker",111),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.changeEntryDate(o.detail.value,"BS","end"))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.endNepaliDate=o)}),e.qZA()()}if(2&a){const i=e.oxw(3);e.xp6(2),e.Q6J("id","nepaliDateto")("ngModelOptions",e.DdM(4,Ce))("label","To")("ngModel",i.endNepaliDate)}}function rn(a,s){if(1&a&&(e.TgZ(0,"div",98),e.YNc(1,en,3,1,"div",50),e.YNc(2,tn,3,5,"div",50),e.qZA()),2&a){const i=e.oxw().selectedRange;e.xp6(1),e.Q6J("ngIf","in the last"==i),e.xp6(1),e.Q6J("ngIf","between"==i)}}function on(a,s){if(1&a&&(e.TgZ(0,"div"),e._UZ(1,"div"),e.TgZ(2,"form",94)(3,"div",58)(4,"div",95)(5,"select",96),e.YNc(6,Go,2,2,"option",97),e.qZA()(),e.TgZ(7,"div",98),e.YNc(8,Ho,2,0,"div",50),e.YNc(9,Qo,2,0,"div",99),e.YNc(10,zo,2,0,"div",99),e.YNc(11,Ko,2,0,"div",99),e.YNc(12,$o,3,6,"div",50),e.qZA(),e.YNc(13,rn,3,2,"div",100),e.qZA()()()),2&a){const i=s.myForm,r=s.rangelist,o=s.selectedRange;e.xp6(2),e.Q6J("formGroup",i),e.xp6(4),e.Q6J("ngForOf",r),e.xp6(2),e.Q6J("ngIf","in the last"==o),e.xp6(1),e.Q6J("ngIf","on"==o),e.xp6(1),e.Q6J("ngIf","before"==o),e.xp6(1),e.Q6J("ngIf","after"==o),e.xp6(1),e.Q6J("ngIf","between"==o),e.xp6(1),e.Q6J("ngIf","in the last"==o||"between"==o)}}let Ae=(()=>{class a{constructor(i,r,o,t,n,l){this.reportService=i,this.alertService=r,this.spinnerService=o,this.masterService=t,this.activatedRoute=n,this.router=l,this.hideShow=!0,this.reportObj=new I.R7,this.filterReport=new I.R7,this.currentReportParam=new I.XC,this.simpleTableSettings=new I.n9,this.genericSimpleTableConfig=new I.vA,this.reportName="",this.reportUser="",this.reportType="",this.currentPage=1,this.reportTitle="",this.reportList=[],this.totalList=[],this.totalPage=1,this.pageSize=20,this.dropdownSettings={},this.userReportList=[],this.isFirstLoadReport=!1,this.showFilter=!1,this.showTable=!1,this.showGrid=!1,this.title="ReportFilterWorkspace",this.showFilterTab=!0,this.filter="Hide Filter",this.reportService.apiUrl=j.N.apiUrl.substring(0,j.N.apiUrl.lastIndexOf("/"));var _=this.masterService.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.minDate=_}handleKeyDownEvent(i){"F10"==i.code&&(i.preventDefault(),this.hideShow=!this.hideShow)}ngOnInit(){this.dropdownSettings={itemsShowLimit:0,singleSelection:!1,allowSearchFilter:!1,selectAllText:"Select All",unSelectAllText:"UnSelect All"};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this.assignReportParam(),this.routerSubscription=this.router.events.subscribe(r=>{r instanceof O.m2&&r.url.includes("report-master")&&this.assignReportParam()})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}assignReportParam(){this.onLoadReportParam(this.activatedRoute.snapshot.params.name,this.activatedRoute.snapshot.params.type,"a")}onLoadReport(){this.onLoadReportParam(this.reportName,this.reportType,this.reportUser)}applyFilter(i,r=0){var o=this;return(0,J.Z)(function*(){o.isFirstLoadReport=!1,1==r&&(o.currentPage=1,o.pageSize=20,o.isFirstLoadReport=!0),o.spinnerService.show("Report Loading please wait.....");try{o.showGrid=!0,o.reportObj.currentPage=o.currentPage,o.reportObj.recordsPerPage=o.pageSize,o.reportObj.fieldgroup[0].filterFields.forEach(l=>{"attributes"==l.controlType&&l.selected&&""==l.fieldValue&&(l.fieldValue="%")});var t=yield o.reportService.getDynamicReport(o.reportObj);if(0==t?.result?.length)return o.showGrid=!1,o.alertService.info("Data not found with the given filters!"),void o.spinnerService.hide();o.reportList=t.result,o.totalList=o.convertPropery(t.result2),console.log({evetdata:i,reportData:t}),o.reportObj.totalItems=t.totalRecord,0==o.reportObj.totalItems&&(o.reportObj.totalItems=o.reportList.length),o.totalPage=Math.abs(o.reportObj.totalItems/o.pageSize)+(o.reportObj.totalItems%o.pageSize>0?1:0),o.simpleTableListConfig(),o.hideShow=!1,o.spinnerService.hide()}catch(n){o.spinnerService.hide(),console.log("log error",n),o.alertService.error(n.error.message)}})()}applyDrillFilter(i,r=0){var o=this;return(0,J.Z)(function*(){1==r&&(o.currentPage=1,o.pageSize=20),o.spinnerService.show("Report Loading please wait.....");try{i.currentPage=o.currentPage,i.recordsPerPage=o.pageSize;var t=yield o.reportService.getDynamicReport(i),n=t.result,l=o.convertPropery(t.result2);i.totalItems=t.totalRecord,0==i.totalItems&&(i.totalItems=n.length),o.totalPage=Math.abs(i.totalItems/o.pageSize)+(i.totalItems%o.pageSize>0?1:0),o.simpleTableListConfigDrill(i,n,l),o.spinnerService.hide()}catch{o.spinnerService.hide(),o.showGrid=!1,o.alertService.error("Error in loading report")}})()}onDeleteReport(i){var r=this;return(0,J.Z)(function*(){console.log({dialogEvent:i,newsetting:r.reportFilterSetting})})()}convertPropery(i){try{var o;return Object.keys(i).forEach(t=>{let n=t.substring(3,t.length);o[n]=i[t]}),o}catch{return i}}getdrillReportForDesign(i,r){this.reportService.getReportParam(i.reportName,i.reportType,this.reportObj.reportUser).subscribe(o=>{if(null!=o.result){var t=o.result;this.setDrillValues(t,i,r),this.applyDrillFilter(t,1),this.reportObj=t,this.refresh()}},o=>{this.alertService.error("error loading data")})}setDrillValues(i,r,o){r.fields.forEach(t=>{"fromfilter"==t.drilldownFieldFrom?this.reportObj.fieldgroup.forEach(n=>n.filterFields.forEach(l=>{l.fieldName==t.drilldownFieldId&&(t.fieldValue=l.fieldValue)})):"fromgrid"==t.drilldownFieldFrom&&(t.fieldValue=o[t.drilldownFieldId])}),i.fieldgroup.forEach(t=>{t.filterFields.forEach(n=>{n.fieldValue=r.fields.find(l=>l.fieldName==n.fieldName)?.fieldValue||""})})}onLoadReportParam(i,r,o){this.spinnerService.show("Loading report, please wait...."),this.reportService.getReportParam(i,r,o).subscribe(n=>{if(n.result){this.spinnerService.hide(),n.result.fieldgroup[0].filterFields.find(_=>"daterange"===_.controlType)&&(n.result.fieldgroup[0].filterFields.find(_=>"daterange"===_.controlType).fieldValue=`${this.minDate},${this.currDate}`),this.hideShow=!0,this.showFilter=!0,this.reportObj=n.result,this.reportTitle=n.result.reportName;let l=this.reportObj.fieldgroup[0].filterFields.find(_=>"daterange"===_.controlType)?.fieldValue.split(",");l&&l[0]&&this.changeEntryDate(l[0],"AD","start"),l&&l[1]&&this.changeEntryDate(l[1],"AD","end"),this.refresh()}},n=>{throw this.spinnerService.hide(),this.refresh(),n})}refresh(){this.reportFilterComponent?.ReportFilterSetting&&(this.reportFilterComponent.ReportFilterSetting=this.reportObj),this.reportFilterComponent?.seperateSelectedFields?.()}onSaveReport(i){var r=this;return(0,J.Z)(function*(){r.reportFilterSetting.reportName=i.description})()}downloadExcel(i){var r=this;return(0,J.Z)(function*(){r.currentReportParam=i,r.spinnerService.show("Report Downloading please wait..."),r.reportService.downloadExcelReport(r.reportObj).subscribe(o=>{o.headers.get("content-disposition");const n=i.reportName+".xlsx",_=window.URL.createObjectURL(o.body),p=document.createElement("a");p.download=n,p.href=_,p.click()},o=>{r.spinnerService.hide(),r.alertService.error("Download Error!"),console.log({error:"error downloading file",log:o})},()=>{r.spinnerService.hide(),r.alertService.success("Download Complete")})})()}simpleTableListConfig(){this.simpleTableSettings={title:this.reportTitle,apiEndpoints:"/V2/getProductList",DataSource:this.reportObj.dataSourceType,defaultColumns:[],contextMenus:this.getContextMenu(this.reportObj),LocalData:this.reportList,TotalData:this.totalList,defaultFilterIndex:0,currentPageNo:this.currentPage,pageSize:this.pageSize,totalItems:this.reportObj.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:I.Ok.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}simpleTableListConfigDrill(i,r,o){var t=i.dataSourceType;this.isFirstLoadReport=!0,this.simpleTableSettings={title:this.reportTitle,apiEndpoints:"/V2/getProductList",DataSource:t,defaultColumns:[],contextMenus:this.getContextMenu(i),LocalData:r,TotalData:o,defaultFilterIndex:0,currentPageNo:i.currentPage,pageSize:this.pageSize,totalItems:i.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:I.Ok.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}onActionClick(i){}onPageChange(i){var r=this;return(0,J.Z)(function*(){r.currentPage=i.currentPage;var o=0,t="";null!=i.sortKey&&null!=i.sortOrder&&(r.reportObj.reportSort=`${i.sortKey} ${i.sortOrder}`,o=i.index,t=i.sortOrder),"getData"!=i.triggerFrom&&(r.pageSize=i.pageSize,yield r.applyFilter("")),null!=i.sortKey&&null!=i.sortOrder&&setTimeout(()=>{i.changeSortOrder(t,o)},0)})()}getContextMenu(i){return i.drilldownmenus}onColumnSettingChange(i){var r=i.filter(t=>1==t.dirty),o={reportName:this.reportObj.reportName,reportType:this.reportObj.reportType,reportUser:this.reportObj.reportUser,columns:r=i};this.genericSimpleTableConfig.simpleTablesettings.columns=r,this.simpleTable.refresh(this.isFirstLoadReport),console.log({columnSaveObject:o}),this.reportService.saveColumnSetting("",o).subscribe(t=>{console.log(t)},t=>{throw console.log(t),t})}onContextMenuClick(i){this.getdrillReportForDesign(i.menuName,i.item)}excelExport(){let i=this.reportObj.fieldgroup[0].filterFields.find(l=>"daterange"===l.controlType).fieldValue.split(","),r=this.reportObj.fieldgroup[0].filterFields.find(l=>"PHISCALID"===l.fieldId).fieldValue,o=i[0]!=i[1]?`${i[0]} to ${i[1]}`:`${i[0]}`,t={},n=(0,ce.cloneDeep)(this.genericSimpleTableConfig.simpleTablesettings.LocalData);Object.keys(n[0]).forEach(l=>{t[l]=l}),n.splice(0,0,{MENUCODE:`${this.genericSimpleTableConfig.simpleTablesettings.title}`},{MENUCODE:`CompanyName: ${this.masterService.userProfile.CompanyInfo.NAME}, VATNO: ${this.masterService.userProfile.CompanyInfo.VAT}, Address: ${this.masterService.userProfile.CompanyInfo.ADDRESS}`},{},{},{},{MENUCODE:`As On Dated: ${o},  Fiscal Year: ${r}`},{},t),S.e(574).then(S.bind(S,80574)).then(l=>{const _=l.utils.json_to_sheet(n,{skipHeader:!0});_["!rows"]=[{hpx:30},{hpx:30}],_["!merges"]=[{s:{r:0,c:0},e:{r:0,c:24}},{s:{r:1,c:0},e:{r:3,c:24}},{s:{r:5,c:0},e:{r:5,c:24}}];const d=l.write({Sheets:{data:_},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(d,this.genericSimpleTableConfig.simpleTablesettings.title)})}saveAsExcelFile(i,r){const n=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),l=URL.createObjectURL(n),_=document.createElement("a");_.href=l,_.download=r+(new Date).getTime()+".xlsx",_.click()}clientSideDownload(){return!!this.activatedRoute.snapshot.params.name.toUpperCase().includes("PORDER".toUpperCase())}filters(i,r){let o={};o.Department=this.masterService.prodAttSearchObj.DEPARTMENT,o.CustomValues=[],r.fieldValue=JSON.stringify(o),r.fieldType="json",this.getCustomField("",i.name)}getCustomField(i,r){return this.masterService.getCustomFields(i,r).subscribe(o=>{var t=[];o.result.forEach(n=>{t.push((new ae.o4).deserialize(n))}),this.customForm.setForm(t)})}onChange(i){this.masterService.CustomValues=this.customForm?.getValues("1");let r={};r.Department=this.masterService.prodAttSearchObj.DEPARTMENT,r.CustomValues=(0,ce.cloneDeep)(this.masterService.CustomValues.filter(o=>o.Value&&(""!==o.Value||void 0!==o.Value))),i.fieldValue=JSON.stringify(r),i.fieldType="json"}onMultiSelect(i,r){r.fieldValue=i.id}selectChangeHandler(i,r){"checkbox"===r.controlType&&(r.fieldValue=i.target.checked?1:0),r.selected=!!i.target.checked}changeEntryDate(i,r,o){var t=S(82071);if("AD"==r){var n=i.replace("-","/").replace("-","/"),l=t.ad2bs(n);let h=("1"==l.en.day||"2"==l.en.day||"3"==l.en.day||"4"==l.en.day||"5"==l.en.day||"6"==l.en.day||"7"==l.en.day||"8"==l.en.day||"9"==l.en.day?"0"+l.en.day:l.en.day)+"/"+l.en.month+"/"+l.en.year;"start"==o?this.startNepaliDate=h:this.endNepaliDate=h}else if("BS"==r){var _=i.split("/"),p=(n=t.bs2ad(_[2]+"/"+_[1]+"/"+_[0])).year+"-"+(1==n.month.toString().length?"0"+n.month:n.month)+"-"+(1==n.day.toString().length?"0"+n.day:n.day);if(1!=this.masterService.ValidateNepaliDate(p))return void this.alertService.error("Date Exceed to Current Phiscal Year !");{var d=t.bs2ad(_[2]+"/"+_[1]+"/"+_[0]);const X=d.year+"-"+(1==d.month.toString().length?"0"+d.month:d.month)+"-"+(1==d.day.toString().length?"0"+d.day:d.day);"start"==o?this.genericDatePicker.myForm.get("startbetween").setValue(X):this.genericDatePicker.myForm.get("endbetween").setValue(X)}}}isChecked(i){return"1"==i.fieldValue}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(I.rM),e.Y36(R.c),e.Y36(Te.V),e.Y36(T.P),e.Y36(O.gz),e.Y36(O.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-report-master"]],viewQuery:function(i,r){if(1&i&&(e.Gf($i,5),e.Gf(Xi,5),e.Gf(ae.q0,5),e.Gf(eo,5),e.Gf(to,5,I.B6)),2&i){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.genericDatePicker=o.first),e.iGM(o=e.CRH())&&(r.customForm=o.first),e.iGM(o=e.CRH())&&(r.reportFilterComponent=o.first),e.iGM(o=e.CRH())&&(r.simpleTable=o.first)}},hostBindings:function(i,r){1&i&&e.NdJ("keydown",function(t){return r.handleKeyDownEvent(t)},!1,e.evT)},features:[e._Bn([])],decls:15,vars:2,consts:[["class","toggable-sidebar",3,"ngClass",4,"ngIf"],[1,"report-container"],["class","col-lg-12","style","height: 100%",4,"ngIf"],["newTemplate",""],["mergeHeaderTemplate",""],["SearchHeaderTemplate",""],["TableDataTemplate",""],["FooterTemplate",""],["datePicker",""],[1,"toggable-sidebar",3,"ngClass"],[1,"btn","btn-info","btn-toggler",3,"click"],[1,"fa","fa-angle-double-left",3,"ngClass"],[3,"ReportFilterSetting","UserReportList","newTemplate","ClickFilter","downloadExcel","SaveReport","DeleteReport"],["reportFilter",""],[1,"col-lg-12",2,"height","100%"],[3,"simpleTableConfig","FooterTemplate","onActionClick","onCurrentPageChange","columnSettingChange","onContextMenu"],["genericSimpleTable",""],["id","filterindex",1,"row",2,"background","#ffffff","transition","0.5s","border","2px solid #ddd","border-radius","10px","width","100%","overflow-y","auto","overflow-x","hidden","height","540px"],[1,"row",2,"padding","1% 1% 0 1%","display","flex","width","100%","flex-direction","column","margin-bottom","15px","justify-content","space-between"],[1,"mb-3",2,"display","flex","align-items","center","justify-content","space-between"],[2,"font-size","15px","font-weight","600"],[2,"border-bottom","1px solid #ddd","font-size","14px"],["style","\n            list-style: none;\n            padding-left: 5px;\n            padding-top: 10px;\n            padding-bottom: 10px;\n            padding-left: 15px;\n            background-color: #f0f3f4;\n            border-left: 3px solid #393434;\n            margin-left: 2px;\n          ",4,"ngFor","ngForOf"],[3,"closeOthers"],[3,"isOpen"],["group1",""],["accordion-heading","",2,"width","100%","font-size","12px","font-weight","500"],[1,"pull-right","float-xs-right","glyphicon",3,"ngClass"],[2,"padding-top","0px","padding-bottom","6px","padding-left","15px"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"margin-top","5px",3,"isOpen"],["group2",""],[1,"panel-wrapper"],["fieldList",""],[1,"button-wrapper"],[1,"btn","btn-info",2,"margin-top","2%","margin-left","2px","margin-right","2px",3,"click"],[4,"ngIf","ngIfElse"],["serverSideDownload",""],[2,"list-style","none","padding-left","5px","padding-top","10px","padding-bottom","10px","padding-left","15px","background-color","#f0f3f4","border-left","3px solid #393434","margin-left","2px"],[2,"display","flex","align-items","center","position","relative"],[1,"dotted-menu",2,"margin-left","auto","cursor","pointer","margin-top","-3px",3,"click"],[1,"dot"],[1,"reportPopup"],["href","#",3,"click"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],["style","display: flex;\n            align-items: center;",4,"ngIf"],[2,"display","flex","align-items","center"],["type","checkbox","style","width: 15px;\n                  height: 15px;\n                  background: #6599FF;",3,"checked","disabled","change",4,"ngIf"],[2,"margin-top","6px","margin-left","10px",3,"ngStyle"],[4,"ngIf"],["style","margin-left: 4%",4,"ngIf"],["style","width: 100%",4,"ngIf"],["style","display: flex; align-items: center; width: 27%",4,"ngIf"],["style","margin-top: 2%",4,"ngIf"],["style","width: 26%",4,"ngIf"],["type","checkbox",2,"width","15px","height","15px","background","#6599FF",3,"checked","disabled","change"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-10"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm",1,"",3,"ngModel","ngModelChange"],[2,"margin-left","4%"],[1,"col-md-10",2,"width","500px"],[3,"data","ngModel","ngModelChange","onItemSelect","onItemDeSelect"],["dropdown","ngModel"],[2,"width","100%"],[1,"col-md-4",2,"display","flex","align-items","center"],["id","department",2,"width","100%",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[1,"col-md-8",2,"width","500px"],["class","form-group",4,"ngIf"],[1,"form-group"],["id","customForm",3,"service","change"],[2,"display","flex","align-items","center","width","27%"],[2,"width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModel","FiscalBeginDate","newTemplate","ngModelChange"],["genericDatePicker",""],[2,"margin-top","2%"],["type","date",1,"form-control",2,"margin-top","1%","width","90%","margin-bottom","3%",3,"ngModel","ngModelChange"],[2,"width","26%"],["fieldName","name","fieldId","value",3,"dataSource","onSelect"],["fieldName","name","fieldId","value",3,"dataSource","singleSelect","onSelect"],[1,"btn","btn-info",2,"margin-top","2%",3,"click"],[4,"ngFor","ngForOf"],[3,"ngStyle"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","10px 0px 10px 3px","background-color","aqua",3,"placeholder","keyup"],["inputBox",""],[3,"ngStyle",4,"ngIf"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item"],[3,"formGroup"],[1,"col-md-3","pd0"],["formControlName","selectedrange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-4"],["class","ml-4",4,"ngIf"],["class","col-md-4",4,"ngIf"],[3,"ngValue"],["type","text","formControlName","inthelastno"],[1,"ml-4"],["type","date","formControlName","on"],["type","date","formControlName","before"],["type","date","formControlName","after"],["type","date","formControlName","startbetween",3,"min","change"],["name","nepaliDateFrom",1,"dateFormat",3,"id","ngModelOptions","label","ngModel","change","ngModelChange"],["formControlName","inthelastrange"],["type","date","formControlName","endbetween",3,"change"],["name","nepaliDateto",1,"dateFormat",3,"id","ngModelOptions","label","ngModel","change","ngModelChange"]],template:function(i,r){1&i&&(e.YNc(0,oo,7,9,"div",0),e.TgZ(1,"div",1),e.YNc(2,no,3,2,"div",2),e.qZA(),e.YNc(3,Eo,37,24,"ng-template",null,3,e.W1O),e.YNc(5,Do,1,1,"ng-template",null,4,e.W1O),e.YNc(7,Fo,1,1,"ng-template",null,5,e.W1O),e.YNc(9,Vo,1,1,"ng-template",null,6,e.W1O),e.YNc(11,qo,1,1,"ng-template",null,7,e.W1O),e.YNc(13,on,14,8,"ng-template",null,8,e.W1O)),2&i&&(e.Q6J("ngIf",r.reportObj&&r.showFilter),e.xp6(2),e.Q6J("ngIf",r.showGrid))},dependencies:[m.mk,m.sg,m.O5,m.tP,m.PC,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,M.v,K.c,I.B6,I.XO,I.Zw,I.Oj,I.QB,I.Tu,ae.q0],styles:[".m0[_ngcontent-%COMP%]{margin:0}.flex[_ngcontent-%COMP%]{display:flex}.center[_ngcontent-%COMP%]{align-items:center}.report-container[_ngcontent-%COMP%]{overflow-x:hidden;height:86vh;overflow-y:auto}.rotate[_ngcontent-%COMP%]{transform:rotate(180deg);transition:.3s ease;display:inline-block;margin-top:-3px;margin-right:10px}.noRotate[_ngcontent-%COMP%]{transform:rotate(360deg);transition:.3s ease;display:inline-block;margin-right:10px}.toggable-sidebar[_ngcontent-%COMP%]{position:fixed;left:-50%;transition:.3s;width:260px;text-decoration:none;font-size:11px;border-radius:0 5px 5px 0;color:#000;height:100%;width:50%;margin:0;z-index:99}@media (max-width: 1191px){.toggable-sidebar[_ngcontent-%COMP%]{left:-20%}}.mySidenav-show[_ngcontent-%COMP%]{left:0}.btn-toggler[_ngcontent-%COMP%]{position:absolute;right:-45px;top:-3px;background:#81DAAC!important;border-color:#81daac!important;padding:5px!important;font-size:10px!important;width:45px!important}.toggler-btn-icon-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}  .ims-custom-select{width:160px;padding:0 .75rem;font-size:12px;height:23px}.dateFormat[_ngcontent-%COMP%]{width:94%;margin-top:2%;display:inherit}  .custom-form-control{padding:5px!important}  .fa-calendar{right:7px!important}"]}),a})();var W=S(30324);const nn=["childModal"],an=["addProjection"],sn=["addSystemFields"],ln=["addOptionalFields"],pn=["reportFilter"],cn=["genericSimpleTable"],_n=function(a,s){return{rfield:a,idx:s}};function dn(a,s){if(1&a&&e.GkF(0,82),2&a){const i=s.$implicit,r=s.index;e.oxw();const o=e.MAs(99);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(2,_n,i,r))}}const hn=function(a,s,i){return{fld:a,i:s,operatorList:i}};function gn(a,s){if(1&a){const i=e.EpF();e.ynx(0),e.GkF(1,70),e.TgZ(2,"button",12),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onDeleteProjection(o.reportObj.projectionfieldFormats,1))}),e._uU(3," Delete Projection "),e.qZA(),e.BQk()}if(2&a){const i=s.$implicit,r=s.index,o=e.oxw(),t=e.MAs(103);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.kEZ(2,hn,i,r,o.operatorsList))}}const un=function(a,s){return{menu:a,idx:s}};function mn(a,s){if(1&a&&(e.ynx(0),e.GkF(1,70),e.BQk()),2&a){const i=s.$implicit,r=s.index;e.oxw();const o=e.MAs(101);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(2,un,i,r))}}function Sn(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",83)(1,"div",15)(2,"label",84),e._uU(3,"Field Name"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldName=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Field Id"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldId=o)}),e.qZA()(),e.TgZ(9,"div",15)(10,"label",84),e._uU(11,"Second Field Id"),e.qZA(),e.TgZ(12,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldIdSecond=o)}),e.qZA()(),e.TgZ(13,"div",15)(14,"label",84),e._uU(15,"Control Type"),e.qZA(),e.TgZ(16,"select",86),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.controlType=o)}),e.TgZ(17,"option",87),e._uU(18,"text"),e.qZA(),e.TgZ(19,"option",88),e._uU(20,"multiselect"),e.qZA(),e.TgZ(21,"option",89),e._uU(22,"singleselect"),e.qZA(),e.TgZ(23,"option",90),e._uU(24,"daterange"),e.qZA(),e.TgZ(25,"option",91),e._uU(26,"dropdownmultiselect"),e.qZA(),e.TgZ(27,"option",92),e._uU(28,"dropdown"),e.qZA(),e.TgZ(29,"option",93),e._uU(30,"checkbox"),e.qZA(),e.TgZ(31,"option",94),e._uU(32,"attributes"),e.qZA()()(),e.TgZ(33,"div",15)(34,"label",84),e._uU(35,"Field Type"),e.qZA(),e.TgZ(36,"select",86),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldType=o)}),e.TgZ(37,"option",95),e._uU(38,"string"),e.qZA(),e.TgZ(39,"option",96),e._uU(40,"number"),e.qZA(),e.TgZ(41,"option",97),e._uU(42,"date"),e.qZA(),e.TgZ(43,"option",98),e._uU(44,"boolean"),e.qZA()()(),e.TgZ(45,"div",99)(46,"input",100),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.isFieldDisabled=o)}),e.qZA(),e.TgZ(47,"label",84),e._uU(48,"IsFieldDisabled"),e.qZA()(),e.TgZ(49,"div",15)(50,"label",101),e._uU(51,"Operators"),e.qZA(),e.TgZ(52,"ng-multiselect-dropdown",102),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.operators=o)}),e.qZA()(),e._UZ(53,"br"),e.TgZ(54,"h5"),e._uU(55,"Selection Criteria"),e.qZA(),e.TgZ(56,"div",15)(57,"label",84),e._uU(58,"Selection Type"),e.qZA(),e.TgZ(59,"select",86),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldtype=o)}),e.TgZ(60,"option",103),e._uU(61,"static"),e.qZA(),e.TgZ(62,"option",104),e._uU(63,"dynamic"),e.qZA()()(),e.TgZ(64,"div",15)(65,"label",84),e._uU(66,"FieldValues"),e.qZA(),e.TgZ(67,"field-values",105),e.NdJ("fieldValuesChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldvalues=o)}),e.qZA()(),e.TgZ(68,"div",15)(69,"label",106),e._uU(70,"Value"),e.qZA(),e.TgZ(71,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldvalue=o)}),e.qZA()(),e.TgZ(72,"div",15)(73,"label",84),e._uU(74,"Value Type"),e.qZA(),e.TgZ(75,"select",86),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldvaluetype=o)}),e.TgZ(76,"option",95),e._uU(77,"string"),e.qZA(),e.TgZ(78,"option",96),e._uU(79,"number"),e.qZA(),e.TgZ(80,"option",97),e._uU(81,"date"),e.qZA()()(),e.TgZ(82,"div",15)(83,"label",84),e._uU(84,"DataSource Type:"),e.qZA(),e.TgZ(85,"select",86),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.dataSourceType=o)}),e.TgZ(86,"option",29),e._uU(87,"Local DataSource"),e.qZA(),e.TgZ(88,"option",30),e._uU(89,"Server DataSource"),e.qZA(),e.TgZ(90,"option",31),e._uU(91,"External DataSource"),e.qZA()()(),e.TgZ(92,"div",15)(93,"label",84),e._uU(94,"API URL:"),e.qZA(),e.TgZ(95,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.apiURL=o)}),e.qZA()(),e.TgZ(96,"div",15)(97,"label",84),e._uU(98,"Search URL:"),e.qZA(),e.TgZ(99,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.searchURL=o)}),e.qZA()(),e.TgZ(100,"div",99)(101,"input",100),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.isDbSql=o)}),e.qZA(),e.TgZ(102,"label",84),e._uU(103,"Is Query from Db"),e.qZA(),e._UZ(104,"br"),e.qZA(),e.TgZ(105,"div",15)(106,"label",84),e._uU(107,"Query string "),e.qZA(),e.TgZ(108,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.query=o)}),e.qZA()(),e.TgZ(109,"div",15)(110,"label",84),e._uU(111,"Query api url "),e.qZA(),e.TgZ(112,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldqueryurl=o)}),e.qZA()(),e.TgZ(113,"div",15)(114,"label",84),e._uU(115,"Field value "),e.qZA(),e.TgZ(116,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldValue=o)}),e.qZA()(),e.TgZ(117,"button",12),e.NdJ("click",function(){const o=e.CHM(i),t=o.rfield,n=o.idx,l=e.oxw();return e.KtG(l.deleteSystemField(t,n))}),e._uU(118,"Delete"),e.qZA()()}if(2&a){const i=s.rfield,r=s.idx,o=e.oxw();e.xp6(2),e.MGl("for","fieldName_",r,""),e.xp6(2),e.MGl("id","fieldName_",r,""),e.Q6J("ngModel",i.fieldName),e.xp6(2),e.MGl("for","fieldId_",r,""),e.xp6(2),e.MGl("id","fieldId_",r,""),e.Q6J("ngModel",i.fieldId),e.xp6(2),e.MGl("for","fieldIdSecond_",r,""),e.xp6(2),e.MGl("id","fieldIdSecond_",r,""),e.Q6J("ngModel",i.fieldIdSecond),e.xp6(2),e.MGl("for","controlType_",r,""),e.xp6(2),e.MGl("id","controlType_",r,""),e.Q6J("ngModel",i.controlType),e.xp6(18),e.MGl("for","fieldType_",r,""),e.xp6(2),e.MGl("id","fieldType_",r,""),e.Q6J("ngModel",i.fieldType),e.xp6(10),e.MGl("id","isFieldDisabled_",r,""),e.Q6J("ngModel",i.isFieldDisabled),e.xp6(1),e.MGl("for","isFieldDisabled_",r,""),e.xp6(5),e.MGl("id","operators_",r,""),e.Q6J("data",o.operatorsList)("ngModel",i.operators)("settings",o.dropdownSettings),e.xp6(5),e.MGl("for","fieldtype_",r,""),e.xp6(2),e.MGl("id","fieldtype_",r,""),e.Q6J("ngModel",i.fieldSelectionValues.fieldtype),e.xp6(6),e.MGl("for","fieldvalues_",r,""),e.xp6(2),e.MGl("id","fieldValues_",r,""),e.Q6J("fieldValues",i.fieldSelectionValues.fieldvalues),e.xp6(4),e.MGl("id","fieldvalues_",r,""),e.Q6J("ngModel",i.fieldSelectionValues.fieldvalue),e.xp6(2),e.MGl("for","fieldvaluetype_",r,""),e.xp6(2),e.MGl("id","fieldvaluetype_",r,""),e.Q6J("ngModel",i.fieldSelectionValues.fieldvaluetype),e.xp6(8),e.MGl("for","datasourceType_",r,""),e.xp6(2),e.MGl("id","dataSourceType_",r,""),e.Q6J("ngModel",i.fieldSelectionValues.dataSourceType),e.xp6(8),e.MGl("for","apiurl_",r,""),e.xp6(2),e.MGl("id","apiUrl_",r,""),e.Q6J("ngModel",i.fieldSelectionValues.apiURL),e.xp6(2),e.MGl("for","searchurl_",r,""),e.xp6(2),e.MGl("id","searchUrl_",r,""),e.Q6J("ngModel",i.fieldSelectionValues.searchURL),e.xp6(2),e.MGl("id","isDbSql_",r,""),e.Q6J("ngModel",i.fieldSelectionValues.isDbSql),e.xp6(1),e.MGl("for","isDbSql_",r,""),e.xp6(4),e.MGl("for","sQuery_",r,""),e.xp6(2),e.MGl("id","sQuery_",r,""),e.Q6J("ngModel",i.fieldSelectionValues.query),e.xp6(2),e.MGl("for","queryUrl",r,""),e.xp6(2),e.MGl("id","queryUrl",r,""),e.Q6J("ngModel",i.fieldSelectionValues.fieldqueryurl),e.xp6(2),e.MGl("for","fieldvalue",r,""),e.xp6(2),e.MGl("id","fieldvalue",r,""),e.Q6J("ngModel",i.fieldValue)}}function On(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",107)(1,"div",15)(2,"label",84),e._uU(3,"Menu Name"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).menu;return e.KtG(n.name=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Drill To Report Name"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).menu;return e.KtG(n.reportName=o)}),e.qZA()(),e.TgZ(9,"div",15)(10,"label",84),e._uU(11,"Drill To Report Type"),e.qZA(),e.TgZ(12,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).menu;return e.KtG(n.reportType=o)}),e.qZA()(),e.TgZ(13,"div")(14,"label",84),e._uU(15,"Report Parameters"),e.qZA(),e._UZ(16,"drill-menu",108),e.qZA(),e.TgZ(17,"div")(18,"button",12),e.NdJ("click",function(){const t=e.CHM(i).menu,n=e.oxw();return e.KtG(n.addDrilldownfield(t))}),e._uU(19,"Add"),e.qZA()(),e.TgZ(20,"button",12),e.NdJ("click",function(){const t=e.CHM(i).menu,n=e.oxw();return e.KtG(n.deleteDrilldownMenu(t))}),e._uU(21,"Delete menu"),e.qZA()()}if(2&a){const i=s.menu,r=s.idx;e.xp6(2),e.MGl("for","menuname",r,""),e.xp6(2),e.MGl("id","menuname",r,""),e.Q6J("ngModel",i.name),e.xp6(2),e.MGl("for","reportName",r,""),e.xp6(2),e.MGl("id","reportName",r,""),e.Q6J("ngModel",i.reportName),e.xp6(2),e.MGl("for","reportType",r,""),e.xp6(2),e.MGl("id","reportType",r,""),e.Q6J("ngModel",i.reportType),e.xp6(2),e.MGl("for","reportdrii",r,""),e.xp6(2),e.Q6J("drilldownmenu",i)}}function bn(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",109)(1,"div",15)(2,"label",84),e._uU(3,"Key"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.key=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.title=o)}),e.qZA()(),e.TgZ(9,"div",110)(10,"input",100),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.hidden=o)}),e.qZA(),e.TgZ(11,"label",111),e._uU(12,"hidden"),e.qZA()(),e.TgZ(13,"div",110)(14,"input",100),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.noSearch=o)}),e.qZA(),e.TgZ(15,"label",111),e._uU(16,"No Search"),e.qZA()(),e.TgZ(17,"div",15)(18,"label",84),e._uU(19,"Width"),e.qZA(),e.TgZ(20,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.width=o)}),e.qZA()(),e.TgZ(21,"div",15)(22,"label",84),e._uU(23,"Style"),e.qZA(),e.TgZ(24,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.style=o)}),e.qZA()(),e.TgZ(25,"div",15)(26,"label",84),e._uU(27,"Alignment"),e.qZA(),e.TgZ(28,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.alignment=o)}),e.qZA()(),e.TgZ(29,"div",15)(30,"input",100),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.isListField=o)}),e.qZA(),e.TgZ(31,"label",111),e._uU(32,"is ListField"),e.qZA()(),e.TgZ(33,"div",15)(34,"label",84),e._uU(35,"List FieldName"),e.qZA(),e.TgZ(36,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.listFieldName=o)}),e.qZA()(),e.TgZ(37,"div",15)(38,"label",84),e._uU(39,"Format Type:"),e.qZA(),e.TgZ(40,"select",112),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).fld;return e.KtG(n.formatType=o)}),e.TgZ(41,"option",29),e._uU(42,"Text"),e.qZA(),e.TgZ(43,"option",30),e._uU(44,"Number"),e.qZA(),e.TgZ(45,"option",31),e._uU(46,"Rounding Two Digit"),e.qZA(),e.TgZ(47,"option",113),e._uU(48,"Editable"),e.qZA()()()()}if(2&a){const i=s.fld,r=s.i;e.xp6(2),e.MGl("for","key_",r,""),e.xp6(2),e.MGl("id","Key_",r,""),e.Q6J("ngModel",i.key),e.xp6(2),e.MGl("for","title_",r,""),e.xp6(2),e.MGl("id","title_",r,""),e.Q6J("ngModel",i.title),e.xp6(2),e.MGl("id","hidden_",r,""),e.Q6J("ngModel",i.hidden),e.xp6(1),e.MGl("for","hidden_",r,""),e.xp6(3),e.MGl("id","noSearch_",r,""),e.Q6J("ngModel",i.noSearch),e.xp6(1),e.MGl("for","noSearch_",r,""),e.xp6(3),e.MGl("for","width_",r,""),e.xp6(2),e.MGl("id","width_",r,""),e.Q6J("ngModel",i.width),e.xp6(2),e.MGl("for","style_",r,""),e.xp6(2),e.MGl("id","style_",r,""),e.Q6J("ngModel",i.style),e.xp6(2),e.MGl("for","alignment_",r,""),e.xp6(2),e.MGl("id","alignment_",r,""),e.Q6J("ngModel",i.alignment),e.xp6(2),e.MGl("id","isListField_",r,""),e.Q6J("ngModel",i.isListField),e.xp6(1),e.MGl("for","isListField_",r,""),e.xp6(3),e.MGl("for","listFieldName_",r,""),e.xp6(2),e.MGl("id","listFieldName_",r,""),e.Q6J("ngModel",i.listFieldName),e.xp6(2),e.MGl("for","formatType_",r,""),e.xp6(2),e.MGl("id","formatType_",r,""),e.Q6J("ngModel",i.formatType)}}function Tn(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",114)(1,"div",115)(2,"div",15)(3,"label",84),e._uU(4,"Field Name"),e.qZA(),e.TgZ(5,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldName=o)}),e.qZA()(),e.TgZ(6,"div",15)(7,"label",84),e._uU(8,"Field Id"),e.qZA(),e.TgZ(9,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldId=o)}),e.qZA()(),e.TgZ(10,"div",15)(11,"label",84),e._uU(12,"Control Type"),e.qZA(),e.TgZ(13,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.controlType=o)}),e.qZA()(),e.TgZ(14,"div",15)(15,"label",84),e._uU(16,"Field Type"),e.qZA(),e.TgZ(17,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldType=o)}),e.qZA()(),e.TgZ(18,"div",99)(19,"input",100),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.isFieldDisabled=o)}),e.qZA(),e.TgZ(20,"label",84),e._uU(21,"IsFieldDisabled"),e.qZA(),e._UZ(22,"input",116),e.TgZ(23,"label",101),e._uU(24,"Operators"),e.qZA(),e._UZ(25,"input",117),e.TgZ(26,"label",118),e._uU(27,"Selection Criteria"),e.qZA(),e._UZ(28,"input",119),e.TgZ(29,"label",84),e._uU(30,"Selection Type"),e.qZA()(),e.TgZ(31,"div",15)(32,"label",84),e._uU(33,"FieldValues"),e.qZA(),e.TgZ(34,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldtype=o)}),e.qZA()()(),e.TgZ(35,"div",120)(36,"div",15)(37,"label",84),e._uU(38,"Value"),e.qZA(),e.TgZ(39,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldvalues=o)}),e.qZA()(),e.TgZ(40,"div",15)(41,"label",84),e._uU(42,"Value Type"),e.qZA(),e.TgZ(43,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldvalue=o)}),e.qZA()(),e.TgZ(44,"div",15)(45,"label",84),e._uU(46,"Is Query from Db"),e.qZA(),e.TgZ(47,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldvaluetype=o)}),e.qZA()(),e.TgZ(48,"div",15)(49,"input",100),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.isDbSql=o)}),e.qZA()(),e.TgZ(50,"div",15)(51,"label",84),e._uU(52,"Query api url "),e.qZA(),e.TgZ(53,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.fieldqueryurl=o)}),e.qZA()(),e.TgZ(54,"div",15)(55,"label",84),e._uU(56,"Query string "),e.qZA(),e.TgZ(57,"input",85),e.NdJ("ngModelChange",function(o){const n=e.CHM(i).rfield;return e.KtG(n.fieldSelectionValues.query=o)}),e.qZA()()()()}if(2&a){const i=s.rfield,r=s.idx;e.xp6(3),e.MGl("for","fieldName_o",r,""),e.xp6(2),e.MGl("id","fieldName_o",r,""),e.Q6J("ngModel",i.fieldName),e.xp6(2),e.MGl("for","fieldId_o",r,""),e.xp6(2),e.MGl("id","fieldId_o",r,""),e.Q6J("ngModel",i.fieldId),e.xp6(2),e.MGl("for","controlType_o",r,""),e.xp6(2),e.MGl("id","controlType_o",r,""),e.Q6J("ngModel",i.controlType),e.xp6(2),e.MGl("for","fieldtype_o",r,""),e.xp6(2),e.MGl("id","fieldtype_o",r,""),e.Q6J("ngModel",i.fieldType),e.xp6(2),e.MGl("id","isFieldDisabled_o",r,""),e.Q6J("ngModel",i.isFieldDisabled),e.xp6(1),e.MGl("for","isFieldDisabled_o",r,""),e.xp6(8),e.MGl("id","fieldtype_o",r,""),e.xp6(1),e.MGl("for","fieldtype_o",r,""),e.xp6(3),e.MGl("for","fieldvalues_o",r,""),e.xp6(2),e.MGl("id","fieldtype_o",r,""),e.Q6J("ngModel",i.fieldSelectionValues.fieldtype),e.xp6(3),e.MGl("for","fieldvalue_o",r,""),e.xp6(2),e.MGl("id","fieldvalues_o",r,""),e.Q6J("ngModel",i.fieldSelectionValues.fieldvalues),e.xp6(2),e.MGl("for","fieldvaluetype_o",r,""),e.xp6(2),e.MGl("id","fieldvalue_o",r,""),e.Q6J("ngModel",i.fieldSelectionValues.fieldvalue),e.xp6(2),e.MGl("for","isDbSql_o",r,""),e.xp6(2),e.MGl("id","fieldvaluetype_o",r,""),e.Q6J("ngModel",i.fieldSelectionValues.fieldvaluetype),e.xp6(2),e.MGl("id","isDbSql_o",r,""),e.Q6J("ngModel",i.fieldSelectionValues.isDbSql),e.xp6(2),e.MGl("for","queryUrl",r,""),e.xp6(2),e.MGl("id","queryUrl",r,""),e.Q6J("ngModel",i.fieldSelectionValues.fieldqueryurl),e.xp6(2),e.MGl("for","sQuery_o",r,""),e.xp6(2),e.MGl("id","sQuery_o",r,""),e.Q6J("ngModel",i.fieldSelectionValues.query)}}function vn(a,s){1&a&&(e.TgZ(0,"div"),e._UZ(1,"div"),e.qZA())}const fn=function(){return{"text-align":"center","white-space":"normal","background-color":"red"}};function Cn(a,s){if(1&a&&(e.ynx(0),e.TgZ(1,"th",121),e._uU(2),e.qZA(),e.BQk()),2&a){const i=s.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,fn)),e.uIk("colspan",i.colspan),e.xp6(1),e.hij(" ",i.groupHeader," ")}}function An(a,s){1&a&&e.YNc(0,Cn,3,4,"ng-container",45),2&a&&e.Q6J("ngForOf",s.mergereportHeaders)}function Pn(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"input",125,126),e.NdJ("keyup",function(o){e.CHM(i);const t=e.oxw(2).$implicit,n=e.oxw().triggerMultiSearch;return e.KtG(n(o,t,!1))}),e.qZA()()}if(2&a){const i=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",i.title)}}const Pe=function(a){return{"text-align":a}};function Mn(a,s){if(1&a&&(e.TgZ(0,"th",123),e.YNc(1,Pn,3,1,"div",124),e.qZA()),2&a){const i=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,Pe,i.alignment)),e.xp6(1),e.Q6J("ngIf",!i.noSearch)}}function Rn(a,s){if(1&a&&(e.ynx(0),e.YNc(1,Mn,2,4,"th",122),e.BQk()),2&a){const i=s.$implicit;e.xp6(1),e.Q6J("ngIf",!i.hidden)}}function En(a,s){1&a&&e.YNc(0,Rn,2,1,"ng-container",45),2&a&&e.Q6J("ngForOf",s.columns)}function In(a,s){if(1&a&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",131),e.qZA()),2&a){const i=s.$implicit,r=e.oxw(3).$implicit;e.xp6(1),e.Q6J("itemObj",i)("item",r)}}function yn(a,s){if(1&a&&(e.TgZ(0,"div")(1,"ul",130),e.YNc(2,In,2,2,"li",45),e.qZA()()),2&a){const i=e.oxw(2).$implicit,r=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",r[i.key])}}const Dn=function(a,s,i){return{itemObj:a,item:s,fieldName:i}};function Nn(a,s){if(1&a&&e.GkF(0,70),2&a){const i=e.oxw(2).$implicit,r=e.oxw().itemObj;e.oxw();const o=e.MAs(175);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.kEZ(2,Dn,r,i,i.key))}}function jn(a,s){if(1&a&&(e.TgZ(0,"td",121),e.YNc(1,yn,3,1,"div",128),e.YNc(2,Nn,1,6,"ng-template",null,129,e.W1O),e.qZA()),2&a){const i=e.MAs(3),r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,Pe,r.alignment)),e.xp6(1),e.Q6J("ngIf",r.isListField)("ngIfElse",i)}}function kn(a,s){if(1&a&&(e.ynx(0),e.YNc(1,jn,4,5,"td",127),e.BQk()),2&a){const i=s.$implicit;e.xp6(1),e.Q6J("ngIf",!i.hidden)}}function Fn(a,s){1&a&&e.YNc(0,kn,2,1,"ng-container",45),2&a&&e.Q6J("ngForOf",s.columns)}function wn(a,s){if(1&a&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&a){const i=e.oxw(2),r=i.itemObj,o=i.fieldName,t=i.item;e.xp6(1),e.s9C("title",r[o]),e.Q6J("ngStyle",t.style),e.xp6(1),e.hij(" ",e.xi3(3,3,r[o],t.formatString)," ")}}function Wn(a,s){if(1&a&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.ALo(3,"number"),e.qZA()()),2&a){const i=e.oxw(2),r=i.itemObj,o=i.fieldName,t=i.item;e.xp6(1),e.s9C("title",r[o]),e.Q6J("ngStyle",t.style),e.xp6(1),e.hij(" ",e.xi3(3,3,r[o],"1.2-2")," ")}}function Ln(a,s){if(1&a&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.qZA()()),2&a){const i=e.oxw(2),r=i.itemObj,o=i.fieldName,t=i.item;e.xp6(1),e.s9C("title",r[o]),e.Q6J("ngStyle",t.style),e.xp6(1),e.hij(" ",r[o]," ")}}function Zn(a,s){if(1&a&&(e.TgZ(0,"div")(1,"div",132),e.YNc(2,wn,4,6,"div",133),e.YNc(3,Wn,4,6,"div",133),e.YNc(4,Ln,3,3,"div",134),e.qZA()()),2&a){const i=e.oxw().item;e.xp6(1),e.Q6J("ngSwitch",i.formatType),e.xp6(1),e.Q6J("ngSwitchCase",2),e.xp6(1),e.Q6J("ngSwitchCase",3)}}function xn(a,s){1&a&&e.YNc(0,Zn,5,3,"div",124),2&a&&e.Q6J("ngIf",s.itemObj)}function Un(a,s){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&a){const i=e.oxw().$implicit,r=e.oxw().TotalData;e.xp6(1),e.hij(" ",e.xi3(2,1,r[i.key],"1.2-2")," ")}}const Vn=function(a){return{"text-align":a,"background-color":"green"}};function Bn(a,s){if(1&a&&(e.ynx(0),e.TgZ(1,"td",121),e.YNc(2,Un,3,4,"div",124),e.qZA(),e.BQk()),2&a){const i=s.$implicit,r=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,Vn,i.alignment)),e.xp6(1),e.Q6J("ngIf",r)}}function Yn(a,s){1&a&&e.YNc(0,Bn,3,4,"ng-container",45),2&a&&e.Q6J("ngForOf",s.columns)}const se=function(){return{backdrop:"static"}},Jn=function(a){return{fld:a,i:1e3}},Me=function(a){return{rfield:a,idx:1e3}};let Re=(()=>{class a{constructor(i){this.reportService=i,this.simpleTableSettings=new I.n9,this.filterReport=new I.R7,this.reportTitle="",this.reportType="",this.currentPage=1,this.genericSimpleTableConfig=new I.vA,this.title="ReportFilterWorkspace",this.reportObj=new I.R7,this.currentReportParam=new I.XC,this.DialogMessage="You are not authorized",this.reportList=[],this.totalList=[],this.totalPage=1,this.pageSize=20,this.newSystemField=new I.rs,this.newOptionalField=new I.rs,this.reportName="",this.reportUser="",this.dropdownSettings={},this.operatorsList=[],this.userReportList=[],this.formatType=I.a5,this.isFirstLoadReport=!1,this.newProjection=new I._$,this.reportService.apiUrl=j.N.apiUrl.substring(0,j.N.apiUrl.lastIndexOf("/")),this.newSystemField.fieldSelectionValues=new I.WM,this.newOptionalField.fieldSelectionValues=new I.WM,this.intializeReportObj(this.reportObj)}intializeReportObj(i){i.fieldgroup=[];var r=new I.r5;r.groupId="SystemFields",r.groupName="SystemFields",r.filterFields=[];var o=new I.rs;o.fieldSelectionValues=new I.WM,r.filterFields.push(o),this.reportObj.fieldgroup.push(r);var t=new I.r5;t.groupId="FilterFields",t.groupName="FilterFields",t.filterFields=[];var n=new I.rs;n.fieldSelectionValues=new I.WM,t.filterFields.push(n),i.fieldgroup.push(t);var l=new I._$;i.projectionfieldFormats=[],i.projectionfieldFormats.push(l),i.drilldownmenus=[],console.log({reportObj:i,operatorslist:this.operatorsList})}applyFilter(i,r=0){var o=this;return(0,J.Z)(function*(){o.isFirstLoadReport=!1,1==r&&(o.currentPage=1,o.pageSize=20,o.isFirstLoadReport=!0),o.DialogMessage="Report Loading please wait......",o.childModal.show(),console.log({reportParamEvent:i});try{o.reportObj.currentPage=o.currentPage,o.reportObj.recordsPerPage=o.pageSize;var t=yield o.reportService.getDynamicReportForDesign(o.reportObj);console.log({reportParamEvent1:i,data:t}),o.reportList=t.result,o.totalList=o.convertPropery(t.result2),console.log({evetdata:i,reportData:t}),o.reportObj.totalItems=t.totalRecord,0==o.reportObj.totalItems&&(o.reportObj.totalItems=o.reportList.length),o.totalPage=Math.abs(o.reportObj.totalItems/o.pageSize)+(o.reportObj.totalItems%o.pageSize>0?1:0),console.log({beforeField:o.reportObj.fieldgroup[0].filterFields[0].fieldId,beforeRepObj:o.reportObj.fieldgroup[0].filterFields[0].fieldValue}),o.simpleTableListConfig(),o.DialogMessage="",o.childModal.hide(),console.log({afterapplyrobject:o.reportObj.fieldgroup[0].filterFields[0].fieldId,afterApplyRObject:o.reportObj.fieldgroup[0].filterFields[0].fieldValue})}catch(n){throw o.DialogMessage="error in loading report",setTimeout(()=>{},2e3),n}})()}applyDrillFilter(i,r=0){var o=this;return(0,J.Z)(function*(){1==r&&(o.currentPage=1,o.pageSize=20),o.DialogMessage="Report Loading please wait......",o.childModal.show(),console.log({reportParamEvent:event});try{i.currentPage=o.currentPage,i.recordsPerPage=o.pageSize;var t=yield o.reportService.getDynamicReportForDesign(i);console.log({reportParamEvent1:event,data:t});var n=t.result,l=o.convertPropery(t.result2);console.log({evetdata:event,reportData:t}),i.totalItems=t.totalRecord,0==i.totalItems&&(i.totalItems=n.length),o.totalPage=Math.abs(i.totalItems/o.pageSize)+(i.totalItems%o.pageSize>0?1:0),console.log({beforeField:i.fieldgroup[0].filterFields[0].fieldId,beforeRepObj:i.fieldgroup[0].filterFields[0].fieldValue}),o.simpleTableListConfigDrill(i,n,l),o.DialogMessage="",o.childModal.hide(),console.log({afterapplyrobject:i.fieldgroup[0].filterFields[0].fieldId,afterApplyRObject:i.fieldgroup[0].filterFields[0].fieldValue})}catch(_){throw o.DialogMessage="error in loading report",setTimeout(()=>{},2e3),_}})()}getNewReport(){}getSelectionList(i){console.log({query:i})}convertPropery(i){try{console.log({toconvert:i});var o,r=Object.keys(i);return console.log({keys:r}),r.forEach(t=>{if(t.length>3&&"sum"==t.slice(0,3).toLowerCase()){let n=t.substring(3,t.length);o[n]=i[t]}else o[t]=i[t]}),console.log({objectConverted:o}),o}catch(t){return console.log({ERROR:t}),i}}onDeleteReport(i){var r=this;return(0,J.Z)(function*(){console.log({dialogEvent:i,newsetting:r.reportFilterSetting})})()}onLoadReport(){this.reportService.getDesignTimeReportParam(this.reportObj.reportName,this.reportObj.reportType,this.reportObj.reportUser).subscribe(r=>{null!=r.result&&(console.log({before:r.result}),this.reportObj=r.result,this.refresh())},r=>{throw this.intializeReportObj(this.reportObj),this.refresh(),this.reportObj.table="error in report fetch, Check the reportname or reporttype or user",console.log({error:r}),r})}getdrillReportForDesign(i,r){this.reportService.getDesignTimeReportParam(i.reportName,i.reportType,this.reportObj.reportUser).subscribe(o=>{if(null!=o.result){console.log({before:o.result});var t=o.result;this.setDrillValues(t,i,r),this.applyDrillFilter(t,1),this.reportObj=t,this.refresh()}},o=>{throw o})}setDrillValues(i,r,o){r.fields.forEach(t=>{"fromfilter"==t.drilldownFieldFrom?this.reportObj.fieldgroup.forEach(n=>n.filterFields.forEach(l=>{l.fieldName==t.drilldownFieldId&&(t.fieldValue=l.fieldValue)})):"fromgrid"==t.drilldownFieldFrom&&(t.fieldValue=o[t.drilldownFieldId])}),i.fieldgroup.forEach(t=>{t.filterFields.forEach(n=>{n.fieldValue=r.fields.find(l=>l.fieldName==n.fieldName)?.fieldValue||""})})}refresh(){this.reportFilterComponent.ReportFilterSetting=this.reportObj,this.reportFilterComponent.seperateSelectedFields()}onSaveReport(i){var r=this;return(0,J.Z)(function*(){r.reportFilterSetting.reportName=i.description,console.log({dialogEvent:i,newsetting:r.reportFilterSetting})})()}downloadExcel(i){var r=this;return(0,J.Z)(function*(){r.currentReportParam=i,r.DialogMessage="Report Downloading please wait......",r.childModal.show()})()}ngOnInit(){this.dropdownSettings={singleSelection:!1,selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:0,allowSearchFilter:!1},this.operatorsList=["is","=","like","notlike","isnot","between","greate than","less than",">","<",">=","<=","in"]}ngAfterViewInit(){}simpleTableListConfig(){this.simpleTableSettings={title:" this.reportTitle",apiEndpoints:"/V2/getProductList",DataSource:this.reportObj.dataSourceType,defaultColumns:this.reportObj.projectionfieldFormats,contextMenus:this.getContextMenu(this.reportObj),LocalData:this.reportList,TotalData:this.totalList,defaultFilterIndex:0,currentPageNo:this.currentPage,pageSize:this.pageSize,totalItems:this.reportObj.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:I.Ok.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}simpleTableListConfigDrill(i,r,o){this.isFirstLoadReport=!0,this.simpleTableSettings={title:" this.reportTitle",apiEndpoints:"/V2/getProductList",DataSource:i.dataSourceType,defaultColumns:[],contextMenus:this.getContextMenu(i),LocalData:r,TotalData:o,defaultFilterIndex:0,currentPageNo:i.currentPage,pageSize:this.pageSize,totalItems:i.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:I.Ok.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}onActionClick(i){}onPageChange(i){var r=this;return(0,J.Z)(function*(){r.currentPage=i.currentPage;var o=0,t="";null!=i.sortKey&&null!=i.sortOrder&&(r.reportObj.reportSort=`${i.sortKey} ${i.sortOrder}`,o=i.index,t=i.sortOrder,console.log({onPageevent:i,index:o,sortorder:t})),"getData"!=i.triggerFrom&&(r.pageSize=i.pageSize,yield r.applyFilter("")),null!=i.sortKey&&null!=i.sortOrder&&setTimeout(()=>{i.changeSortOrder(t,o)},0),console.log({pagechangeEvent:i})})()}getContextMenu(i){return i.drilldownmenus}onColumnSettingChange(i){var r=i.filter(t=>1==t.dirty),o={reportName:this.reportObj.reportName,reportType:this.reportObj.reportType,reportUser:this.reportObj.reportUser,columns:r};console.log({columnSaveObject:o}),this.reportService.saveColumnSetting("",o).subscribe(t=>{console.log(t)},t=>{throw console.log(t),t})}onContextMenuClick(i){console.log({event:i}),this.getdrillReportForDesign(i.menuName,i.item)}onProjectionAdd(){this.newProjection=new I._$,this.addProjectionModal.show()}onDeleteProjection(i,r){i.splice(r-1,1)}newProjectionHide(){this.addProjectionModal.hide(),this.reportObj.projectionfieldFormats.push(this.newProjection),console.log({projectionadded:"added",projections:this.reportObj.projectionfieldFormats})}onSystemFieldAdd(){this.newSystemField=new I.rs,this.newSystemField.fieldgroupName="SystemFields",this.newSystemField.fieldSelectionValues=new I.WM,this.addSystemFieldModal.show()}newSystemFieldSave(){this.addSystemFieldModal.hide(),this.reportObj.fieldgroup[0].filterFields.push(this.newSystemField),this.refresh(),console.log({projectionadded:"added",projections:this.reportObj.fieldgroup[0].filterFields})}deleteSystemField(i,r){this.reportObj.fieldgroup[0].filterFields.splice(r,1)}onOptionalFieldAdd(){this.newOptionalField=new I.rs,this.newOptionalField.fieldgroupName="FilterFields",this.newOptionalField.fieldSelectionValues=new I.WM,this.addOptionalFieldModal.show()}newOptionalFieldSave(){this.addOptionalFieldModal.hide(),this.reportObj.fieldgroup[1].filterFields.push(this.newSystemField),this.refresh(),console.log({projectionadded:"added",projections:this.reportObj.fieldgroup[1].filterFields})}saveReportObject(){var i=this;return(0,J.Z)(function*(){i.reportService.authToken="abc";var r=yield i.reportService.saveDesignTimeReportParam(i.reportObj);alert("Report Saved"),console.log({tosaveReportObject:i.reportObj,savedReportParam:r})})()}addDrilldownMenu(){var i=new I.f;i.fields=[],this.reportObj.drilldownmenus.push(i)}deleteDrilldownMenu(i){var r=this.reportObj.drilldownmenus.findIndex(o=>o.name=i.name);this.reportObj.drilldownmenus.splice(r,1)}addDrilldownfield(i){var r=new I.rs;i.fields||(i.fields=[]),i.fields.push(r),console.log({driilmenu:i,reportObje:this.reportObj})}deleteDrilldownfield(i,r){var o=i.fields.findIndex(t=>t.fieldId==r.fieldId);i.fields.splice(o,1)}arrayToOperatorList(i){}deleteReport(i){console.log({onDeleteReport:event})}toggleAccordian(i){var r=i.target;console.log("event value",i),r.parentElement.classList.toggle("active")}toggleReport(i,r){i.target.parentElement.classList.toggle("reportOption")}selectChangeHandler(i){this.reportFilterComponent.seperateSelectedFields()}onItemSelect(i,r){console.log({event:i,fld:r})}onMultiSelect(i,r){console.log({event:i,fld:r})}downloadExecl(){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(I.rM))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-report-designer"]],viewQuery:function(i,r){if(1&i&&(e.Gf(nn,5),e.Gf(an,5),e.Gf(sn,5),e.Gf(ln,5),e.Gf(pn,5),e.Gf(cn,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.childModal=o.first),e.iGM(o=e.CRH())&&(r.addProjectionModal=o.first),e.iGM(o=e.CRH())&&(r.addSystemFieldModal=o.first),e.iGM(o=e.CRH())&&(r.addOptionalFieldModal=o.first),e.iGM(o=e.CRH())&&(r.reportFilterComponent=o.first),e.iGM(o=e.CRH())&&(r.simpleTable=o.first)}},decls:178,vars:40,consts:[[1,"container"],[1,"row",2,"padding-top","20px"],[1,"col-lg-3"],[3,"ReportFilterSetting","UserReportList","ClickFilter","downloadExcel","SaveReport","DeleteReport"],["reportFilter",""],[1,"col-md-9"],[3,"simpleTableConfig","mergeHeaderTemplate","SearchHeaderTemplate","TableDataTemplate","FooterTemplate","onActionClick","onCurrentPageChange","columnSettingChange","onContextMenu"],["genericSimpleTable",""],[1,"row"],["type","text","id","reportName",3,"ngModel","ngModelChange"],["type","text","id","reportType",3,"ngModel","ngModelChange"],["type","text","id","reportUser",3,"ngModel","ngModelChange"],[3,"click"],[1,"row",2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","margin-top","15px","margin-bottom","20px"],[1,"col-lg-4"],[1,"form-group"],["for","queryType"],["id","queryType","placeholder","QueryType",1,"form-control",3,"ngModel","ngModelChange"],["value","parameterquery"],["value","storedprocedure"],["value","consolidatedstoredprocedure"],["value","rawquery"],["value","api"],["for","querySplit"],["id","querySplit","type","text","placeholder","Spllit table on",1,"form-control",3,"ngModel","ngModelChange"],["for","reportSort"],["id","reportSort","type","text","placeholder","Sort Report by",1,"form-control",3,"ngModel","ngModelChange"],["for","dataSourceType"],["id","dataSourceType","placeholder","DataSource",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["for","FiscalBeginDate"],["id","FiscalBeginDate","type","text","placeholder","Fiscal Year Begin",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-8"],["for","Query"],["id","Query","rows","8",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"row",2,"height","600px"],[1,"col-lg-4",2,"border","1px solid black"],[2,"text-align","center"],[1,"row",2,"overflow","scroll","height","500px","margin-bottom","30px"],[1,"row",2,"width","100%"],["style","width: -webkit-fill-available",3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[1,"row",2,"margin-bottom","15px"],[1,"btn","btn-info",3,"click"],[4,"ngFor","ngForOf"],[1,"row",2,"align-content","center"],[1,"btn","btn-info",2,"text-align","center",3,"click"],[2,"position","sticky"],[1,"row",2,"height","500px","overflow","scroll","margin-bottom","30px"],[1,"btn","btn-info",2,"margin-bottom","10 px","padding","10px",3,"click"],[1,"row",2,"margin-top","35px"],[1,"col-lg-12"],[1,"btn","btn-info",2,"margin-left","15px",3,"click"],["RequiredFields",""],["drilldownTemplate",""],["projectionField",""],["OptionalFields",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","mySmallModalLabel","aria-hidden","true",1,"modal","fade",3,"config"],["childModal","bs-modal"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-title"],[1,"modal-body"],["addProjection","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content",2,"height","655px","overflow-x","hidden","overflow-y","auto"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["addSystemFields","bs-modal"],[1,"btn","btn-info",2,"margin-top","15px",3,"click"],[1,"btn","btn-info",2,"margin-left","15px","margin-top","15px",3,"click"],["addOptionalFields","bs-modal"],[1,"btn","btn-info",2,"margin-top","15px","margin-left","15px",3,"click"],["datePicker",""],["mergeHeaderTemplate",""],["SearchHeaderTemplate",""],["TableDataTemplate",""],["dataColumnTemplate",""],["FooterTemplate",""],[2,"width","-webkit-fill-available",3,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px 15px 1px 15px","width","100%","margin-bottom","20px"],[3,"for"],["type","text",1,"form-control",3,"id","ngModel","ngModelChange"],[1,"form-control",3,"id","ngModel","ngModelChange"],["value","text"],["value","multiselect"],["value","singleselect"],["value","daterange"],["value","dropdownmultiselect"],["value","dropdown"],["value","checkbox"],["value","attributes"],["value","string"],["value","number"],["value","date"],["value","boolean"],[1,"form-group","checkbox"],["type","checkbox",3,"id","ngModel","ngModelChange"],["for","operators"],[3,"data","id","ngModel","settings","ngModelChange"],["value","static"],["value","dynamic"],[3,"id","fieldValues","fieldValuesChange"],["for","fieldvalue"],[2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px 15px 1px 15px","width","-webkit-fill-available","margin-bottom","20px"],[3,"drilldownmenu"],[1,"projectionFieldWrapper",2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","margin-bottom","20px","width","-webkit-fill-available"],[1,"form-group",2,"margin-bottom","0"],[2,"margin-left","10px",3,"for"],["placeholder","QueryType",1,"form-control",3,"id","ngModel","ngModelChange"],["value","3"],[1,"d-flex",2,"justify-content","space-between","box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","width","-webki-fill-available"],[1,"left-optfield",2,"flex","0 0 49%"],["type","checkbox","id","operators"],["type","checkbox","id","SelectionCriteria"],["for","SelectionCriteria"],["type","checkbox",3,"id"],[1,"right-OptField",2,"flex","0 0 49%"],[3,"ngStyle"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],[4,"ngIf"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","10px 0px 10px 3px","background-color","aqua",3,"placeholder","keyup"],["inputBox",""],[3,"ngStyle",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"title","ngStyle"]],template:function(i,r){if(1&i){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"report-filter",3,4),e.NdJ("ClickFilter",function(n){return r.applyFilter(n,1)})("downloadExcel",function(n){return r.downloadExcel(n)})("SaveReport",function(n){return r.onSaveReport(n)})("DeleteReport",function(n){return r.onDeleteReport(n)}),e.qZA()(),e.TgZ(5,"div",5)(6,"report-grid",6,7),e.NdJ("onActionClick",function(n){return r.onActionClick(n)})("onCurrentPageChange",function(n){return r.onPageChange(n)})("columnSettingChange",function(n){return r.onColumnSettingChange(n)})("onContextMenu",function(n){return r.onContextMenuClick(n)}),e.qZA()()(),e.TgZ(8,"div",8)(9,"span")(10,"span"),e._uU(11,"Report Name"),e.TgZ(12,"span")(13,"input",9),e.NdJ("ngModelChange",function(n){return r.reportObj.reportName=n}),e.qZA()()(),e.TgZ(14,"span"),e._uU(15,"Report Type"),e.TgZ(16,"span")(17,"input",10),e.NdJ("ngModelChange",function(n){return r.reportObj.reportType=n}),e.qZA()()(),e.TgZ(18,"span"),e._uU(19,"Report User"),e.TgZ(20,"span")(21,"input",11),e.NdJ("ngModelChange",function(n){return r.reportObj.reportUser=n}),e.qZA()()(),e.TgZ(22,"span")(23,"button",12),e.NdJ("click",function(){return r.onLoadReport()}),e._uU(24,"Load Report"),e.qZA()()()(),e.TgZ(25,"div",13)(26,"div",14)(27,"div",15)(28,"label",16),e._uU(29,"Query Type : "),e.qZA(),e.TgZ(30,"select",17),e.NdJ("ngModelChange",function(n){return r.reportObj.queryType=n}),e.TgZ(31,"option",18),e._uU(32,"parameterquery"),e.qZA(),e.TgZ(33,"option",19),e._uU(34,"storedprocedure"),e.qZA(),e.TgZ(35,"option",20),e._uU(36,"consolidatedstoredprocedure"),e.qZA(),e.TgZ(37,"option",21),e._uU(38,"rawquery"),e.qZA(),e.TgZ(39,"option",22),e._uU(40,"api"),e.qZA()()(),e.TgZ(41,"div",15)(42,"label",23),e._uU(43,"Split Table on : "),e.qZA(),e.TgZ(44,"input",24),e.NdJ("ngModelChange",function(n){return r.reportObj.querySplit=n}),e.qZA()(),e.TgZ(45,"div",15)(46,"label",25),e._uU(47,"Report Sort : "),e.qZA(),e.TgZ(48,"input",26),e.NdJ("ngModelChange",function(n){return r.reportObj.reportSort=n}),e.qZA()(),e.TgZ(49,"div",15)(50,"label",27),e._uU(51,"DataSource Type : "),e.qZA(),e.TgZ(52,"select",28),e.NdJ("ngModelChange",function(n){return r.reportObj.dataSourceType=n}),e.TgZ(53,"option",29),e._uU(54,"Local DataSource"),e.qZA(),e.TgZ(55,"option",30),e._uU(56,"Server DataSource"),e.qZA(),e.TgZ(57,"option",31),e._uU(58,"External DataSource"),e.qZA()()(),e.TgZ(59,"div",15)(60,"label",32),e._uU(61,"Fiscal Year Begin Date : "),e.qZA(),e.TgZ(62,"input",33),e.NdJ("ngModelChange",function(n){return r.reportObj.fiscalBeginDate=n}),e.qZA()()(),e.TgZ(63,"div",34)(64,"div",15)(65,"label",35),e._uU(66,"Query"),e.qZA(),e.TgZ(67,"textarea",36),e.NdJ("ngModelChange",function(n){return r.reportObj.table=n}),e.qZA()()()(),e.TgZ(68,"div",37)(69,"div",38)(70,"div",8)(71,"h2",39),e._uU(72,"Filter Fields"),e.qZA()(),e.TgZ(73,"div",40)(74,"div",41),e.YNc(75,dn,1,5,"ng-container",42),e.qZA()(),e.TgZ(76,"div",43)(77,"button",44),e.NdJ("click",function(){return r.onSystemFieldAdd()}),e._uU(78," Add Filter "),e.qZA()()(),e.TgZ(79,"div",38)(80,"h2",39),e._uU(81,"Projection Fields"),e.qZA(),e.TgZ(82,"div",40),e.YNc(83,gn,4,6,"ng-container",45),e.qZA(),e.TgZ(84,"div",46)(85,"button",47),e.NdJ("click",function(){return r.onProjectionAdd()}),e._uU(86," Add Projection "),e.qZA()()(),e.TgZ(87,"div",38)(88,"h2",48),e._uU(89,"Drilldown Menu"),e.qZA(),e.TgZ(90,"div",49),e.YNc(91,mn,2,5,"ng-container",45),e.qZA(),e.TgZ(92,"button",50),e.NdJ("click",function(){return r.addDrilldownMenu()}),e._uU(93," Add Drilldown "),e.qZA()()(),e.TgZ(94,"div",51)(95,"div",52)(96,"button",53),e.NdJ("click",function(){return r.saveReportObject()}),e._uU(97," Save Report Object "),e.qZA()()()(),e.YNc(98,Sn,119,54,"ng-template",null,54,e.W1O),e.YNc(100,On,22,11,"ng-template",null,55,e.W1O),e.YNc(102,bn,49,30,"ng-template",null,56,e.W1O),e.YNc(104,Tn,58,37,"ng-template",null,57,e.W1O),e.TgZ(106,"div",58,59)(108,"div",60)(109,"div",61)(110,"div",62)(111,"button",63),e.NdJ("click",function(){e.CHM(o);const n=e.MAs(107);return e.KtG(n.hide())}),e.TgZ(112,"span",64),e._uU(113,"\xd7"),e.qZA()(),e.TgZ(114,"h4",65),e._uU(115,"Information18"),e.qZA()(),e.TgZ(116,"div",66),e._uU(117),e.qZA()()()(),e.TgZ(118,"div",58,67)(120,"div",68)(121,"div",69)(122,"div",62)(123,"h4",65),e._uU(124,"Add Projection"),e.qZA(),e.TgZ(125,"button",63),e.NdJ("click",function(){return r.addProjectionModal.hide()}),e.TgZ(126,"span",64),e._uU(127,"\xd7"),e.qZA()()(),e.TgZ(128,"div",66),e.GkF(129,70),e.TgZ(130,"button",44),e.NdJ("click",function(){return r.newProjectionHide()}),e._uU(131,"Save"),e.qZA(),e.TgZ(132,"button",53),e.NdJ("click",function(){return r.addProjectionModal.hide()}),e._uU(133," Cancel "),e.qZA()()()()(),e.TgZ(134,"div",58,71)(136,"div",68)(137,"div",69)(138,"div",62)(139,"h4",65),e._uU(140,"Add System Fields"),e.qZA(),e.TgZ(141,"button",63),e.NdJ("click",function(){return r.addSystemFieldModal.hide()}),e.TgZ(142,"span",64),e._uU(143,"\xd7"),e.qZA()()(),e.TgZ(144,"div",66),e.GkF(145,70),e.TgZ(146,"button",72),e.NdJ("click",function(){return r.newSystemFieldSave()}),e._uU(147," Save "),e.qZA(),e.TgZ(148,"button",73),e.NdJ("click",function(){return r.addSystemFieldModal.hide()}),e._uU(149," Cancel "),e.qZA()()()()(),e.TgZ(150,"div",58,74)(152,"div",68)(153,"div",61)(154,"div",62)(155,"h4",65),e._uU(156,"Add Optional Fields"),e.qZA(),e.TgZ(157,"button",63),e.NdJ("click",function(){return r.addOptionalFieldModal.hide()}),e.TgZ(158,"span",64),e._uU(159,"\xd7"),e.qZA()()(),e.TgZ(160,"div",66),e.GkF(161,70),e.TgZ(162,"button",72),e.NdJ("click",function(){return r.newOptionalFieldSave()}),e._uU(163," Save "),e.qZA(),e.TgZ(164,"button",75),e.NdJ("click",function(){return r.addOptionalFieldModal.hide()}),e._uU(165," Cancel "),e.qZA()()()()(),e.YNc(166,vn,2,0,"ng-template",null,76,e.W1O),e.YNc(168,An,1,1,"ng-template",null,77,e.W1O),e.YNc(170,En,1,1,"ng-template",null,78,e.W1O),e.YNc(172,Fn,1,1,"ng-template",null,79,e.W1O),e.YNc(174,xn,1,1,"ng-template",null,80,e.W1O),e.YNc(176,Yn,1,1,"ng-template",null,81,e.W1O)}if(2&i){const o=e.MAs(99),t=e.MAs(103),n=e.MAs(169),l=e.MAs(171),_=e.MAs(173),p=e.MAs(177);e.xp6(3),e.Q6J("ReportFilterSetting",r.reportObj)("UserReportList",r.userReportList),e.xp6(3),e.Q6J("simpleTableConfig",r.genericSimpleTableConfig)("mergeHeaderTemplate",n)("SearchHeaderTemplate",l)("TableDataTemplate",_)("FooterTemplate",p),e.xp6(7),e.Q6J("ngModel",r.reportObj.reportName),e.xp6(4),e.Q6J("ngModel",r.reportObj.reportType),e.xp6(4),e.Q6J("ngModel",r.reportObj.reportUser),e.xp6(9),e.Q6J("ngModel",r.reportObj.queryType),e.xp6(14),e.Q6J("ngModel",r.reportObj.querySplit),e.xp6(4),e.Q6J("ngModel",r.reportObj.reportSort),e.xp6(4),e.Q6J("ngModel",r.reportObj.dataSourceType),e.xp6(10),e.Q6J("ngModel",r.reportObj.fiscalBeginDate),e.xp6(5),e.Q6J("ngModel",r.reportObj.table),e.xp6(8),e.Q6J("ngForOf",r.reportObj.fieldgroup[0].filterFields),e.xp6(8),e.Q6J("ngForOf",r.reportObj.projectionfieldFormats),e.xp6(8),e.Q6J("ngForOf",r.reportObj.drilldownmenus),e.xp6(15),e.Q6J("config",e.DdM(30,se)),e.xp6(11),e.Oqu(r.DialogMessage),e.xp6(1),e.Q6J("config",e.DdM(31,se)),e.xp6(11),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(32,Jn,r.newProjection)),e.xp6(5),e.Q6J("config",e.DdM(34,se)),e.xp6(11),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(35,Me,r.newSystemField)),e.xp6(5),e.Q6J("config",e.DdM(37,se)),e.xp6(11),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(38,Me,r.newOptionalField))}},dependencies:[he.oB,m.sg,m.O5,m.tP,m.PC,m.RF,m.n9,m.ED,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,W.O,I.B6,I.XO,I.Zw,m.JJ,m.uU],styles:["@media (min-width: 1400px) {\n      .container[_ngcontent-%COMP%] {\n        max-width: 1340px;\n      }\n    }\n    .checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n      margin-left: 5px;\n      margin-right: 10px;\n    }\n\n    .container[_ngcontent-%COMP%]{\n        height: 80vh;\n        overflow: auto;\n    }\n\n    label[_ngcontent-%COMP%]{\n      width: 100px;\n    }"]}),a})();const Gn=O.Bz.forChild([{path:"",component:V,children:[{path:"reportmain",component:C,canActivate:[v.C]},{path:"closingStock",component:C,canActivate:[v.C]},{path:"purchasebookreport",component:C,canActivate:[v.C]},{path:"salesreport-itemwise",component:C,canActivate:[v.C]},{path:"salesbook-report",component:C,canActivate:[v.C]},{path:"SalesReportProductTypeWise",component:C,canActivate:[v.C]},{path:"PurchaseReportProductTypeWise",component:C,canActivate:[v.C]},{path:"SalesReportCategoryWise",component:C,canActivate:[v.C]},{path:"PurchaseReportCategoryWise",component:C,canActivate:[v.C]},{path:"saleseregisterreport-dialog",component:C,canActivate:[v.C]},{path:"purchasereport-itemwise",component:C,canActivate:[v.C]},{path:"salesreport-itemwise-detail",component:C,canActivate:[v.C]},{path:"purchasereport-itemwise-detail",component:C,canActivate:[v.C]},{path:"creditnotebook-report",component:C,canActivate:[v.C]},{path:"debitnotebook-report",component:C,canActivate:[v.C]},{path:"purchasereport-supplierwise",component:C,canActivate:[v.C]},{path:"salesreport-customerwise",component:C,canActivate:[v.C]},{path:"salesreport-supplierwise",component:C,canActivate:[v.C]},{path:"salesregisterreport-dialog",component:C,canActivate:[v.C]},{path:"purchaseRegisterReport",component:C,canActivate:[v.C]},{path:"onelakhpurchasereport",component:C,canActivate:[v.C]},{path:"onelakhsalesreport",component:C,canActivate:[v.C]},{path:"stock-summary-report",component:C,canActivate:[v.C]},{path:"requisition-approval-report",component:C,canActivate:[v.C]},{path:"report-master",component:Ae,canActivate:[v.C]},{path:"report-designer",component:Re,canActivate:[v.C]},{path:"stock-ledger-report",component:C,canActivate:[v.C]},{path:"stock-valuation-report",component:C,canActivate:[v.C]},{path:"membershippointreport",component:C,canActivate:[v.C]},{path:"datereport",component:C,canActivate:[v.C]},{path:"transreport",component:C,canActivate:[v.C]},{path:"branch-transfer-report",component:C,canActivate:[v.C]},{path:"item-expiry-report",component:C,canActivate:[v.C]},{path:"max-stocklevel-report",component:C,canActivate:[v.C]},{path:"minimum-stocklevel-report",component:C,canActivate:[v.C]},{path:"reorder-levelstock-report",component:C,canActivate:[v.C]},{path:"stock-abcanalysis-report",component:C,canActivate:[v.C]},{path:"price-changelog-report",component:C,canActivate:[v.C]},{path:"salesprofitability-analysis",component:C,canActivate:[v.C]},{path:"purchaseorderreport",component:C,canActivate:[v.C]},{path:"purchaseorder-outstanding",component:C,canActivate:[v.C]},{path:"quotationreport",component:C,canActivate:[v.C]},{path:"salesorderreport",component:C,canActivate:[v.C]},{path:"salesorderoutstanding",component:C,canActivate:[v.C]},{path:"currentstock-warehousewise",component:C,canActivate:[v.C]},{path:"grn-report",component:C,canActivate:[v.C]},{path:"repack-report",component:C,canActivate:[v.C]},{path:"requisition-report",component:C,canActivate:[v.C]},{path:"raw-data-report",component:C,canActivate:[v.C]},{path:"recurring-transaction-report",component:C,canActivate:[v.C]},{path:"recurring-transaction-analysis-report",component:C,canActivate:[v.C]},{path:"report-master",component:Ae,canActivate:[v.C]},{path:"stockageing-report",component:C,canActivate:[v.C]},{path:"branch-transferout-vs-inreport",component:C,canActivate:[v.C]},{path:"stock-report-warehouse-wise",component:C,canActivate:[v.C]},{path:"consolidatedpurchase-report-branchwise",component:C,canActivate:[v.C]},{path:"consolidatedsales-report-branchwise",component:C,canActivate:[v.C]},{path:"consolidatedstock-report-branchwise",component:C,canActivate:[v.C]},{path:"branch-transfer-inreport-itemwise",component:C,canActivate:[v.C]},{path:"branch-transferout-itemwise",component:C,canActivate:[v.C]},{path:"sales-collection-report",component:C,canActivate:[v.C]},{path:"openingstockreport",component:C,canActivate:[v.C]},{path:"rate-group-report",component:C,canActivate:[v.C]},{path:"salesprice-changelog-report",component:C,canActivate:[v.C]},{path:"openingstock-report",component:C,canActivate:[v.C]},{path:"salesprice-changelog-report",component:C,canActivate:[v.C]},{path:"vat-saleseregisterreport-new",component:C,canActivate:[v.C]},{path:"vat-purchaseregisterreport-new",component:C,canActivate:[v.C]},{path:"stock-issue-report",component:C,canActivate:[v.C]},{path:"credit-note-sales-return-report",component:C,canActivate:[v.C]},{path:"vat-other-adjustment-report",component:C,canActivate:[v.C]},{path:"debitnote-purchasereturn-report",component:C,canActivate:[v.C]},{path:"shift-close-report",component:C,canActivate:[v.C]},{path:"stock-variance-report",component:C,canActivate:[v.C]},{path:"salesrevenue-analysisreport",component:C,canActivate:[v.C]},{path:"salesreport-salesmanwise",component:C,canActivate:[v.C]},{path:"salesreport-membershipwise",component:C,canActivate:[v.C]},{path:"proformainvoicereport",component:C,canActivate:[v.C]},{path:"sales-flow-report-monthwise",component:C,canActivate:[v.C]},{path:"purchase-flow-report-monthwise",component:C,canActivate:[v.C]},{path:"annexure13report",component:C,canActivate:[v.C]},{path:"worsesales-analysisreport",component:C,canActivate:[v.C]},{path:"topnsales-analysisreport",component:C,canActivate:[v.C]},{path:"sales-revenue-metrics-report",component:C,canActivate:[v.C]},{path:"hourly-sales-report",component:C,canActivate:[v.C]},{path:"report-designer",component:Re,canActivate:[v.C]}]}]);var U=S(85864);function Hn(a,s){if(1&a&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function Qn(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.repObj.reportparam.PHISCALID=o)}),e.YNc(4,Hn,2,2,"option",18),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let zn=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.repObj={reportname:"Purchase Order Detail",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYTYPE:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportparam.COMPANYTYPE=this.masterService.userProfile.CompanyInfo.ORG_TYPE;let i=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-order-detail-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Order Detail Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,Qn,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&i&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})(),Kn=(()=>{class a{constructor(i,r,o,t){this.masterService=i,this._transactionService=r,this.fb=o,this.reportMainService=t,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",division:"",REPMODE:0}},this.reportdataEmit=new e.vpe,this.ClosingStockReport={},this.repObj.reportparam.division=this.masterService.userProfile.userDivision,this.masterService.reportName="Closing Stock",this.reportMainService.reportName="Closing Stock",this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ClosingStockReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.ClosingStockReport.DATE1,"AD"),this.ClosingStockReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.ClosingStockReport.DATE,"AD"),this.ranges=this.masterService.dateFilterRange}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.ClosingStockReport.BSDATE1=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.ClosingStockReport.DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.ClosingStockReport.BSDATE2=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.ClosingStockReport.DATE=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}onload(){this.repObj.reportname="Closing Stock",this.repObj.reportparam.REPMODE="0"==this.REPORTMODE?0:1,this.repObj.reportparam.DATE2=this.ClosingStockReport.DATE,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.repObj})}ngOnInit(){}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A))},a.\u0275cmp=e.Xpm({type:a,selectors:[["closing-stock"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:37,vars:2,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#ffffff"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"smallBoldLabel"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Closing Stock Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"fieldset")(16,"legend",11),e._uU(17,"Date Range Selection :"),e.qZA(),e.TgZ(18,"table")(19,"tr")(20,"td")(21,"label",12),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",12)(26,"input",13),e.NdJ("ngModelChange",function(t){return r.ClosingStockReport.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()()()(),e.TgZ(27,"tr")(28,"td")(29,"label",12)(30,"input",14),e.NdJ("ngModelChange",function(t){return r.ClosingStockReport.BSDATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"BS")}),e.qZA()()()()()()()()()()(),e._UZ(31,"hr",15),e.TgZ(32,"div",16)(33,"button",17),e.NdJ("click",function(){return r.onload()}),e._uU(34,"RUN"),e.qZA(),e.TgZ(35,"button",18),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(36,"Close"),e.qZA()()()()),2&i&&(e.xp6(26),e.Q6J("ngModel",r.ClosingStockReport.DATE),e.xp6(4),e.Q6J("ngModel",r.ClosingStockReport.BSDATE2))},dependencies:[c.Fj,c.JJ,c.On],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function $n(a,s){if(1&a&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function Xn(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.repObj.reportparam.PHISCALID=o)}),e.YNc(4,$n,2,2,"option",18),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let ea=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.repObj={reportname:"Purchase Invoice Detail",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYTYPE:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportparam.COMPANYTYPE=this.masterService.userProfile.CompanyInfo.ORG_TYPE;let i=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-invoice-detail-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Invoice Detail Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,Xn,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&i&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function ta(a,s){if(1&a&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function ra(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.PHISCALID=o)}),e.YNc(4,ta,2,2,"option",19),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let ia=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.reportdataEmit=new e.vpe,this.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let i=this.calendarForm.value;this.reportdataEmit.emit({status:"ok",data:{reportname:"Customer Wise Item Sales Detail",reportparam:{PHISCALID:this.PHISCALID,COMPANYTYPE:this.masterService.userProfile.CompanyInfo.ORG_TYPE,DATE1:E()(i.selectedDate.startDate).format("MM-DD-YYYY"),DATE2:E()(i.selectedDate.endDate).format("MM-DD-YYYY")}}})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:{}})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["customer-wise-item-sales-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Customerwise item sales Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,ra,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&i&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function oa(a,s){if(1&a&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function na(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.dailySalesObj.reportparam.PHISCALID=o)}),e.YNc(4,oa,2,2,"option",19),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.dailySalesObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let aa=(()=>{class a{constructor(i,r,o){this.masterService=i,this._transactionService=r,this.fb=o,this.dailySalesObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.dailySalesObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.dailySalesObj.reportname="DAILY SALES REPORT";let i=this.calendarForm.value;this.dailySalesObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.dailySalesObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.dailySalesObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.dailySalesObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["daily-sales-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Daily Sales Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,na,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&i&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})(),sa=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.reportObj={reportname:"STOCK SETTLEMENT",reportparam:{DATE1:"",DATE2:""}},this.reportdataEmit=new e.vpe,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let i=this.calendarForm.value;this.reportObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["stock-settlement-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:4,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Stock Settlement Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&i&&(e.xp6(15),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function la(a,s){if(1&a&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function pa(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.repObj.reportparam.PHISCALID=o)}),e.YNc(4,la,2,2,"option",18),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let ca=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.repObj={reportname:"PURCHASE RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let i=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-return-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Return Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,pa,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&i&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function _a(a,s){if(1&a&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function da(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.repObj.reportparam.PHISCALID=o)}),e.YNc(4,_a,2,2,"option",19),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let ha=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportname="SALES ORDER";let i=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-order-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Order Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,da,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&i&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function ga(a,s){if(1&a&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function ua(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.repObj.reportparam.PHISCALID=o)}),e.YNc(4,ga,2,2,"option",19),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let ma=(()=>{class a{constructor(i,r,o){this.masterService=i,this._transactionService=r,this.fb=o,this.repObj={reportname:"CUSTOMERWISE SALES RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let i=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["customerwise-salesreturn-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," CustomerWise SalesReturn Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,ua,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&i&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function Sa(a,s){if(1&a&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function Oa(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportObj.reportparam.PHISCALID=o)}),e.YNc(4,Sa,2,2,"option",19),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.reportObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let ba=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.reportObj={reportname:"SALES RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.reportObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let i=this.calendarForm.value;this.reportObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["salesreturn-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Return Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,Oa,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&i&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function Ta(a,s){if(1&a&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function va(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.repObj.reportparam.PHISCALID=o)}),e.YNc(4,Ta,2,2,"option",18),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let fa=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.repObj={reportname:"Purchase Order Summary",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let i=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-order-summary"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Order Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,va,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&i&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function Ca(a,s){if(1&a&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function Aa(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.repObj.reportparam.PHISCALID=o)}),e.YNc(4,Ca,2,2,"option",18),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let Pa=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.repObj={reportname:"Purchase Summary",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let i=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-summary"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,Aa,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&i&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function Ma(a,s){if(1&a&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function Ra(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.reportObj.reportparam.PHISCALID=o)}),e.YNc(4,Ma,2,2,"option",19),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.reportObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let Ea=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.reportObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.reportObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.reportObj.reportname="Sales Return Summary";let i=this.calendarForm.value;this.reportObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-return-summary"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Return Summary Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,Ra,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&i&&(e.xp6(12),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Ia=["division"];function ya(a,s){if(1&a&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let Da=(()=>{class a{constructor(i,r,o,t){if(this.masterService=i,this._trnMainService=r,this._alertService=o,this._authService=t,this.purchaseRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var n=new Date;n.setMonth(n.getMonth()-1),this.purchaseRegisterReport.DATE1=n.toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD")}else this.purchaseRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.purchaseRegisterReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD")):(this.purchaseRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD")),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.purchaseRegisterReport.isPI=!0,this.purchaseRegisterReport.isCP=!0,this.purchaseRegisterReport.isDN=!0,this.purchaseRegisterReport.isCN=!0;var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const _=new Date;this.currDate=(0,m.p6)(_,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this.purchaseRegisterReport.V1=1==this.purchaseRegisterReport.isPI?"PI":"",this.purchaseRegisterReport.V3=1==this.purchaseRegisterReport.isCP?"CP":"",this.purchaseRegisterReport.V2=1==this.purchaseRegisterReport.isDN?"DN":"",this.purchaseRegisterReport.V4=1==this.purchaseRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:i,data:{reportname:"VAT Purchase Register Report",reportparam:{DATE1:this.purchaseRegisterReport.DATE1,DATE2:this.purchaseRegisterReport.DATE,DIVISION:this.purchaseRegisterReport.DIV?this.purchaseRegisterReport.DIV:"%",PHISCALID:this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:" ",V1:this.purchaseRegisterReport.V1,V2:this.purchaseRegisterReport.V2,V3:this.purchaseRegisterReport.V3}}})}divisionChanged(){this.purchaseRegisterReport.DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.purchaseRegisterReport.BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.purchaseRegisterReport.DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.purchaseRegisterReport.BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.purchaseRegisterReport.DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["result-purchaseregisterreport-dialog"]],viewQuery:function(i,r){if(1&i&&e.Gf(Ia,5),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:60,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","100%"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Purchase Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.purchaseRegisterReport.BSDATE1=t}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.purchaseRegisterReport.BSDATE2=t}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.DIV=t})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,ya,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"div",19)(44,"label",20)(45,"input",21),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.isPI=t}),e.qZA(),e._uU(46," Trading Purchase Transaction "),e.qZA()(),e.TgZ(47,"div",22)(48,"label",20)(49,"input",23),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.isCP=t}),e.qZA(),e._uU(50," Capital Purchase Transaction "),e.qZA()(),e.TgZ(51,"div",22)(52,"label",20)(53,"input",23),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.isDN=t}),e.qZA(),e._uU(54," Debit Note Transaction "),e.qZA()()(),e.TgZ(55,"div",24)(56,"button",25),e.NdJ("click",function(){return r.onload()}),e._uU(57,"RUN"),e.qZA(),e.TgZ(58,"button",26),e.NdJ("click",function(){return r.cancel()}),e._uU(59,"Close"),e.qZA()()()()()()()()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.purchaseRegisterReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.purchaseRegisterReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.purchaseRegisterReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.purchaseRegisterReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isPI),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isCP),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isDN))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})(),Na=(()=>{class a{constructor(i){this.masterService=i,this.isActive=!1,this.closingStock={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe}onload(){this.closingStock.reportname="Opening Stock",this.closingStock.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.closingStock})}ngOnInit(){}dateChanged(){this.closingStock.reportparam.DATE1=E()(this.selectedDate.startDate).format("MM-DD-YYYY"),this.closingStock.reportparam.DATE2=E()(this.selectedDate.endDate).format("MM-DD-YYYY")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.closingStock})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P))},a.\u0275cmp=e.Xpm({type:a,selectors:[["opening-stock"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:14,vars:0,consts:[[2,"height","200px"],[1,"modal-content","modal-content-main-area","mx-auto;"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Opening Stock Report "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.onload()}),e._uU(11,"RUN"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(13,"Close"),e.qZA()()()())},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}",".modal-content-main-area[_ngcontent-%COMP%] {\n    width: 100% !important;\n  }"]}),a})(),ja=(()=>{class a{constructor(i){this.masterService=i,this.isActive=!1,this.audit={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe}onload(){this.audit.reportname="Audit Report",this.audit.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.audit})}ngOnInit(){}dateChanged(i){this.audit.reportparam.DATE1=E()(this.selectedDate.startDate).format("MM-DD-YYYY"),this.audit.reportparam.DATE2=E()(this.selectedDate.endDate).format("MM-DD-YYYY")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.audit})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P))},a.\u0275cmp=e.Xpm({type:a,selectors:[["audit-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:14,vars:0,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Audit Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.onload()}),e._uU(11,"RUN"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(13,"Close"),e.qZA()()()())},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function ka(a,s){if(1&a&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PhiscalID),e.xp6(1),e.hij(" ",i.PhiscalID,"")}}function Fa(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.repObj.reportparam.PHISCALID=o)}),e.YNc(4,ka,2,2,"option",18),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",i.masterService.fiscalYearList)}}let wa=(()=>{class a{constructor(i,r){this.masterService=i,this.fb=r,this.repObj={reportname:"Purchase Return Summary Report",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},c.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let i=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(i.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(i.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(c.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchasereturn-summary-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Return Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,Fa,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return r.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&i&&(e.xp6(11),e.Q6J("ngIf",r.masterService.fiscalYearList&&r.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",r.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",r.ranges)("alwaysShowCalendars",!0))},dependencies:[m.sg,m.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.sg,c.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();var Wa=S(46543);const La=["division"];function Za(a,s){if(1&a&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.INITIAL),e.xp6(1),e.hij(" ",i.NAME," ")}}let xa=(()=>{class a{constructor(i,r){this.masterService=i,this._trnMainService=r,this.VATsalesRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.VATsalesRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD"),this.VATsalesRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.VATsalesRegisterReport.DIV="%",this.VATsalesRegisterReport.SUMMARYREPORT=1,this.VATsalesRegisterReport.isSI=!0,this.VATsalesRegisterReport.isCN=!0}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this.VATsalesRegisterReport.V1=1==this.VATsalesRegisterReport.isSI?"SI":"",this.VATsalesRegisterReport.V2=1==this.VATsalesRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:i,data:{reportname:"VAT Sales Register Report",reportparam:{DATE1:this.VATsalesRegisterReport.DATE1,DATE2:this.VATsalesRegisterReport.DATE,DIV:this.VATsalesRegisterReport.DIV?this.VATsalesRegisterReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,REPMODE:"1"==this.VATsalesRegisterReport.SUMMARYREPORT?1:0,V1:this.VATsalesRegisterReport.V1,V2:this.VATsalesRegisterReport.V2,V3:"XX"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.VATsalesRegisterReport.BSDATE1=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.VATsalesRegisterReport.DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.VATsalesRegisterReport.BSDATE2=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.VATsalesRegisterReport.DATE=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p))},a.\u0275cmp=e.Xpm({type:a,selectors:[["vat-sales-register-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(La,5),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:74,vars:12,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"width","100%"],[2,"width","inherit !important"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDatefrom","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],["id","nepaliDateto","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"radio",2,"width","inherit !important"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat Sales Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend"),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table",10)(16,"tr")(17,"td")(18,"label",11),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label",11),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.BSDATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",14),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.BSDATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",15,16),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.DIV=t}),e.TgZ(43,"option",17),e._uU(44,"ALL"),e.qZA(),e.YNc(45,Za,2,2,"option",18),e.qZA()()(),e.TgZ(46,"div",9)(47,"fieldset")(48,"legend",19),e._uU(49,"Report Mode:"),e.qZA(),e.TgZ(50,"div",20)(51,"label",11)(52,"input",21),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.SUMMARYREPORT=t}),e.qZA(),e._uU(53," Summary Report"),e.qZA()(),e.TgZ(54,"div",20)(55,"label",11)(56,"input",21),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.SUMMARYREPORT=t}),e.qZA(),e._uU(57," Detail Report"),e.qZA()()()(),e.TgZ(58,"div",9)(59,"fieldset")(60,"div",22)(61,"label",11)(62,"input",23),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.isSI=t}),e.qZA(),e._uU(63," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(64,"div",22)(65,"label",11)(66,"input",23),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.isCN=t}),e.qZA(),e._uU(67," Show Credit Note "),e.qZA()()()()()()()(),e._UZ(68,"hr",24),e.TgZ(69,"div",25)(70,"button",26),e.NdJ("click",function(){return r.onload()}),e._uU(71,"RUN"),e.qZA(),e.TgZ(72,"button",27),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(73,"Close"),e.qZA()()()()),2&i&&(e.xp6(26),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.VATsalesRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.VATsalesRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("value",1)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(4),e.Q6J("value",0)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",r.VATsalesRegisterReport.isSI),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.isCN))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),a})();const Ua=["division"];function Va(a,s){if(1&a&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.INITIAL),e.xp6(1),e.hij(" ",i.NAME," ")}}let Ba=(()=>{class a{constructor(i,r){this.masterService=i,this._trnMainService=r,this.purchaseRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.purchaseRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD"),this.purchaseRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.purchaseRegisterReport.DIV="%",this.purchaseRegisterReport.isPI=!0,this.purchaseRegisterReport.isCP=!0,this.purchaseRegisterReport.isDN=!0,this.purchaseRegisterReport.isCN=!0}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this.purchaseRegisterReport.V1=1==this.purchaseRegisterReport.isPI?"PI":"",this.purchaseRegisterReport.V3=1==this.purchaseRegisterReport.isCP?"CP":"",this.purchaseRegisterReport.V2=1==this.purchaseRegisterReport.isDN?"DN":"",this.purchaseRegisterReport.V4=1==this.purchaseRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:i,data:{reportname:"VAT Purchase Register Report",reportparam:{DATE1:this.purchaseRegisterReport.DATE1,DATE2:this.purchaseRegisterReport.DATE,DIVISION:this.purchaseRegisterReport.DIV?this.purchaseRegisterReport.DIV:"%",PHISCALID:this._trnMainService.userProfile.CompanyInfo.PhiscalID?this._trnMainService.userProfile.CompanyInfo.PhiscalID:" ",V1:this.purchaseRegisterReport.V1,V2:this.purchaseRegisterReport.V2,V3:this.purchaseRegisterReport.V3}}})}divisionChanged(){this.purchaseRegisterReport.DIV=this.division.nativeElement.value}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.purchaseRegisterReport.BSDATE1=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.purchaseRegisterReport.DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.purchaseRegisterReport.BSDATE2=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.purchaseRegisterReport.DATE=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p))},a.\u0275cmp=e.Xpm({type:a,selectors:[["vat-purchase-register-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(Ua,5),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:66,vars:9,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat Purchase Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.BSDATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.BSDATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.DIV=t}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,Va,2,2,"option",17),e.qZA()()(),e.TgZ(46,"div",9)(47,"fieldset")(48,"div",18)(49,"label",11)(50,"input",19),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.isPI=t}),e.qZA(),e._uU(51," Trading Purchase Transaction "),e.qZA()(),e.TgZ(52,"div",18)(53,"label",11)(54,"input",20),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.isCP=t}),e.qZA(),e._uU(55," Capital Purchase Transaction "),e.qZA()(),e.TgZ(56,"div",18)(57,"label",11)(58,"input",20),e.NdJ("ngModelChange",function(t){return r.purchaseRegisterReport.isDN=t}),e.qZA(),e._uU(59," Debit Note Transaction "),e.qZA()()()()()()()(),e._UZ(60,"hr",21),e.TgZ(61,"div",22)(62,"button",23),e.NdJ("click",function(){return r.onload()}),e._uU(63,"RUN"),e.qZA(),e.TgZ(64,"button",24),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(65,"Close"),e.qZA()()()()),2&i&&(e.xp6(26),e.Q6J("ngModel",r.purchaseRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.purchaseRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.purchaseRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.purchaseRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r.purchaseRegisterReport.isPI),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isCP),e.xp6(4),e.Q6J("ngModel",r.purchaseRegisterReport.isDN))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),a})();const Ya=["division"];function Ja(a,s){if(1&a&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.INITIAL),e.xp6(1),e.Oqu(i.NAME)}}let qa=(()=>{class a{constructor(i,r){this.masterService=i,this._trnMainService=r,this.CreditNoteRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.CreditNoteRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.CreditNoteRegisterReport.DATE1,"AD"),this.CreditNoteRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.CreditNoteRegisterReport.DATE,"AD"),this.CreditNoteRegisterReport.DIV="%",this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this.reportdataEmit.emit({status:i,data:{reportname:"Credit Note Register Report",reportparam:{DATE1:this.CreditNoteRegisterReport.DATE1,DATE2:this.CreditNoteRegisterReport.DATE,DIV:this.CreditNoteRegisterReport.DIV?this.CreditNoteRegisterReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.CreditNoteRegisterReport.BSDATE1=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.CreditNoteRegisterReport.DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.CreditNoteRegisterReport.BSDATE2=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.CreditNoteRegisterReport.DATE=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p))},a.\u0275cmp=e.Xpm({type:a,selectors:[["creditnote-register-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(Ya,5),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:52,vars:6,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat CreditNote Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection :"),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(t){return r.CreditNoteRegisterReport.DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(t){return r.CreditNoteRegisterReport.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(t){return r.CreditNoteRegisterReport.BSDATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(t){return r.CreditNoteRegisterReport.BSDATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(t){return r.CreditNoteRegisterReport.DIV=t}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,Ja,2,2,"option",17),e.qZA()()()()()()(),e._UZ(46,"hr",18),e.TgZ(47,"div",19)(48,"button",20),e.NdJ("click",function(){return r.onload()}),e._uU(49,"RUN"),e.qZA(),e.TgZ(50,"button",21),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(51,"Close"),e.qZA()()()()),2&i&&(e.xp6(26),e.Q6J("ngModel",r.CreditNoteRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.CreditNoteRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.CreditNoteRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.CreditNoteRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.CreditNoteRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On],styles:["legend[_ngcontent-%COMP%] {\n    font-size: 11px;\n    font-weight: bold;\n    width: auto;\n\n  }"]}),a})();const Ga=["division"];function Ha(a,s){if(1&a&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.INITIAL),e.xp6(1),e.hij(" ",i.NAME,"")}}let Qa=(()=>{class a{constructor(i,r){this.masterService=i,this._trnMainService=r,this.DebitNoteRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.DebitNoteRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.DebitNoteRegisterReport.DATE1,"AD"),this.DebitNoteRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.DebitNoteRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.DebitNoteRegisterReport.DIV="%"}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this.reportdataEmit.emit({status:i,data:{reportname:"Debit Note Register Report",reportparam:{DATE1:this.DebitNoteRegisterReport.DATE1,DATE2:this.DebitNoteRegisterReport.DATE,DIVISION:this.DebitNoteRegisterReport.DIV,COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,PHISCALID:" "}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.DebitNoteRegisterReport.BSDATE1=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.DebitNoteRegisterReport.DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.DebitNoteRegisterReport.BSDATE2=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this.DebitNoteRegisterReport.DATE=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p))},a.\u0275cmp=e.Xpm({type:a,selectors:[["debitnote-register-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(Ga,5),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:52,vars:6,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat DebitNote Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(t){return r.DebitNoteRegisterReport.DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(t){return r.DebitNoteRegisterReport.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(t){return r.DebitNoteRegisterReport.BSDATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(t){return r.DebitNoteRegisterReport.BSDATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(t){return r.DebitNoteRegisterReport.DIV=t}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,Ha,2,2,"option",17),e.qZA()()()()()()(),e._UZ(46,"hr",18),e.TgZ(47,"div",19)(48,"button",20),e.NdJ("click",function(){return r.onload()}),e._uU(49,"RUN"),e.qZA(),e.TgZ(50,"button",21),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(51,"Close"),e.qZA()()()()),2&i&&(e.xp6(26),e.Q6J("ngModel",r.DebitNoteRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",r.DebitNoteRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",r.DebitNoteRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",r.DebitNoteRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.DebitNoteRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),a})();function za(a,s){if(1&a&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let Ka=(()=>{class a{constructor(i,r,o,t){if(this.masterService=i,this._trnMainService=r,this._alertService=o,this._authService=t,this.OneLakhAbovePurchaseReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var n=new Date;n.setMonth(n.getMonth()-1),this.OneLakhAbovePurchaseReport.DATE1=n.toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAbovePurchaseReport.DATE1,"AD")}else this.OneLakhAbovePurchaseReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAbovePurchaseReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.OneLakhAbovePurchaseReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.OneLakhAbovePurchaseReport.DATE,"AD")):(this.OneLakhAbovePurchaseReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.OneLakhAbovePurchaseReport.DATE,"AD")),this.OneLakhAbovePurchaseReport.DIV="%",this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.OneLakhAbovePurchaseReport.isR1=!0,this.OneLakhAbovePurchaseReport.isR2=!0,this.OneLakhAbovePurchaseReport.isR3=!0;var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const _=new Date;this.currDate=(0,m.p6)(_,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this.OneLakhAbovePurchaseReport.R1=1==this.OneLakhAbovePurchaseReport.isR1?"1":"",this.OneLakhAbovePurchaseReport.R2=1==this.OneLakhAbovePurchaseReport.isR2?"1":"",this.OneLakhAbovePurchaseReport.R3=1==this.OneLakhAbovePurchaseReport.isR3?"1":"",this.reportdataEmit.emit({status:i,data:{reportname:"One Lakh Above Purchase Report",reportparam:{DATE1:this.OneLakhAbovePurchaseReport.DATE1,DATE2:this.OneLakhAbovePurchaseReport.DATE,DIV:this.OneLakhAbovePurchaseReport.DIV?this.OneLakhAbovePurchaseReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,R1:this.OneLakhAbovePurchaseReport.R1,R2:this.OneLakhAbovePurchaseReport.R2,R3:this.OneLakhAbovePurchaseReport.R3,DETAIL:"0",PARTY:"%",VATNO:"%"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.OneLakhAbovePurchaseReport.BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.OneLakhAbovePurchaseReport.DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.OneLakhAbovePurchaseReport.BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.OneLakhAbovePurchaseReport.DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["one-lakh-above-purchase-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:59,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","inherit"],[2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","inherit"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"One Lakh Above Purchase Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.cancel()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(t){return r.OneLakhAbovePurchaseReport.DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.OneLakhAbovePurchaseReport.BSDATE1=t}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(t){return r.OneLakhAbovePurchaseReport.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.OneLakhAbovePurchaseReport.BSDATE2=t}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15),e.NdJ("ngModelChange",function(t){return r.OneLakhAbovePurchaseReport.DIV=t}),e.TgZ(38,"option",16),e._uU(39,"ALL"),e.qZA(),e.YNc(40,za,2,2,"option",17),e.qZA()(),e.TgZ(41,"fieldset")(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(t){return r.OneLakhAbovePurchaseReport.isR1=t}),e.qZA(),e._uU(45," Credit Purchases Only "),e.qZA()(),e.TgZ(46,"div",21)(47,"label",19)(48,"input",20),e.NdJ("ngModelChange",function(t){return r.OneLakhAbovePurchaseReport.isR2=t}),e.qZA(),e._uU(49," Non Credit Purchases With Pan No Only "),e.qZA()(),e.TgZ(50,"div",21)(51,"label",19)(52,"input",20),e.NdJ("ngModelChange",function(t){return r.OneLakhAbovePurchaseReport.isR3=t}),e.qZA(),e._uU(53," Non Credit Purchases Without Pan No Only "),e.qZA()()(),e.TgZ(54,"div",22)(55,"button",23),e.NdJ("click",function(){return r.onload()}),e._uU(56,"RUN"),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(){return r.cancel()}),e._uU(58,"Close"),e.qZA()()()()()()()()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.OneLakhAbovePurchaseReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.OneLakhAbovePurchaseReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.isR1),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.isR2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAbovePurchaseReport.isR3))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function $a(a,s){if(1&a&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let Xa=(()=>{class a{constructor(i,r,o,t){if(this.masterService=i,this._trnMainService=r,this._alertService=o,this._authService=t,this.OneLakhAboveSalesReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var n=new Date;n.setMonth(n.getMonth()-1),this.OneLakhAboveSalesReport.DATE1=n.toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAboveSalesReport.DATE1,"AD")}else this.OneLakhAboveSalesReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAboveSalesReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.OneLakhAboveSalesReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.OneLakhAboveSalesReport.DATE,"AD")):(this.OneLakhAboveSalesReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.OneLakhAboveSalesReport.DATE,"AD")),this.OneLakhAboveSalesReport.DIV="%",this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.OneLakhAboveSalesReport.isR1=!0,this.OneLakhAboveSalesReport.isR2=!0,this.OneLakhAboveSalesReport.isR3=!0;var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const _=new Date;this.currDate=(0,m.p6)(_,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this.OneLakhAboveSalesReport.R1=1==this.OneLakhAboveSalesReport.isR1?"1":"",this.OneLakhAboveSalesReport.R2=1==this.OneLakhAboveSalesReport.isR2?"1":"",this.OneLakhAboveSalesReport.R3=1==this.OneLakhAboveSalesReport.isR3?"1":"",this.reportdataEmit.emit({status:i,data:{reportname:"One Lakh Above Sales Report",reportparam:{DATE1:this.OneLakhAboveSalesReport.DATE1,DATE2:this.OneLakhAboveSalesReport.DATE,DIV:this.OneLakhAboveSalesReport.DIV?this.OneLakhAboveSalesReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,R1:this.OneLakhAboveSalesReport.R1,R2:this.OneLakhAboveSalesReport.R2,R3:this.OneLakhAboveSalesReport.R3,DETAIL:"0",PARTY:"%",VATNO:"%"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.OneLakhAboveSalesReport.BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.OneLakhAboveSalesReport.DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.OneLakhAboveSalesReport.BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.OneLakhAboveSalesReport.DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["one-lakh-above-SALES-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:59,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","inherit"],[2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","inherit"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"One Lakh Above Sales Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.cancel()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(t){return r.OneLakhAboveSalesReport.DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.OneLakhAboveSalesReport.BSDATE1=t}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(t){return r.OneLakhAboveSalesReport.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.OneLakhAboveSalesReport.BSDATE2=t}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15),e.NdJ("ngModelChange",function(t){return r.OneLakhAboveSalesReport.DIV=t}),e.TgZ(38,"option",16),e._uU(39,"ALL"),e.qZA(),e.YNc(40,$a,2,2,"option",17),e.qZA()(),e.TgZ(41,"fieldset")(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(t){return r.OneLakhAboveSalesReport.isR1=t}),e.qZA(),e._uU(45," Credit Sales Only "),e.qZA()(),e.TgZ(46,"div",21)(47,"label",19)(48,"input",20),e.NdJ("ngModelChange",function(t){return r.OneLakhAboveSalesReport.isR2=t}),e.qZA(),e._uU(49," Non Credit Sales With Pan No Only "),e.qZA()(),e.TgZ(50,"div",21)(51,"label",19)(52,"input",20),e.NdJ("ngModelChange",function(t){return r.OneLakhAboveSalesReport.isR3=t}),e.qZA(),e._uU(53," Non Credit Sales Without Pan No Only "),e.qZA()()(),e.TgZ(54,"div",22)(55,"button",23),e.NdJ("click",function(){return r.onload()}),e._uU(56,"RUN"),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(){return r.cancel()}),e._uU(58,"Close"),e.qZA()()()()()()()()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAboveSalesReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.OneLakhAboveSalesReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.OneLakhAboveSalesReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.OneLakhAboveSalesReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.isR1),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.isR2),e.xp6(4),e.Q6J("ngModel",r.OneLakhAboveSalesReport.isR3))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();var es=S(71606),b=S(28698);const ts=["PLedgerChild"],rs=["genericGridAccountLedger"],is=["genericGridMultipleAccountLedger"];function os(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.INITIAL),e.xp6(1),e.hij(" ",i.NAME," ")}}function ns(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function as(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",17)(1,"label",11)(2,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.AccoutLedgerObj.SHOWNARATION=o)}),e.qZA(),e._uU(3," Show Narration in Summary "),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.AccoutLedgerObj.SHOWNARATION)}}function ss(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"tr",11)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",48)(6,"button",49),e.NdJ("click",function(){const t=e.CHM(i).index,n=e.oxw(2);return e.KtG(n.deleteAccount(t))}),e._uU(7,"Delete"),e.qZA()()()}if(2&a){const i=s.$implicit,r=s.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(i.ACNAME)}}function ls(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"fieldset")(2,"legend")(3,"label",11),e._uU(4,"\xa0Ledger Wise"),e.qZA()(),e.TgZ(5,"div")(6,"div",35)(7,"input",36),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.AccoutLedgerObj.multipleACNAME=o)})("keydown.Tab",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.MultipleAccountEnterClicked(o))})("keydown.enter",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.MultipleAccountEnterClicked(o))}),e.qZA()(),e.TgZ(8,"div",37)(9,"button",38),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.addAccountToList())}),e._uU(10,"Add"),e.qZA()(),e.TgZ(11,"div",39)(12,"table",40)(13,"tr",11)(14,"th",41),e._uU(15,"S.No."),e.qZA(),e.TgZ(16,"th",42),e._uU(17,"Account"),e.qZA(),e.TgZ(18,"th",43),e._uU(19,"Action"),e.qZA()(),e.YNc(20,ss,8,2,"tr",44),e.qZA()()(),e.TgZ(21,"div",17)(22,"label",11)(23,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.AccoutLedgerObj.MERGEREPORT=o)}),e.qZA(),e._uU(24," Merge Combined Ledger "),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(7),e.Q6J("disabled",0==i._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===i._reportFilterService.AccoutLedgerObj.EnableCombineLedger)("ngModel",i._reportFilterService.AccoutLedgerObj.multipleACNAME),e.xp6(2),e.Q6J("disabled",0==i._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===i._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(11),e.Q6J("ngForOf",i._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts),e.xp6(3),e.Q6J("ngModel",i._reportFilterService.AccoutLedgerObj.MERGEREPORT)("disabled",0==i._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===i._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function ps(a,s){1&a&&(e.TgZ(0,"div"),e._UZ(1,"area-list"),e.qZA())}function cs(a,s){if(1&a&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.Q6J("ngValue",i),e.xp6(1),e.hij(" ",i.COSTCENTERNAME," ")}}function _s(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.addCostcenterToList())}),e._uU(1,"Add"),e.qZA()}if(2&a){const i=e.oxw(2);e.Q6J("disabled",0==i._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===i._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function ds(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"tr",11)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",48)(6,"button",49),e.NdJ("click",function(){const t=e.CHM(i).index,n=e.oxw(3);return e.KtG(n.deleteCostcenter(t))}),e._uU(7,"Delete"),e.qZA()()()}if(2&a){const i=s.$implicit,r=s.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(i.COSTCENTERNAME)}}function hs(a,s){if(1&a&&(e.TgZ(0,"div",39)(1,"table",55)(2,"tr",11)(3,"th",41),e._uU(4,"S.No."),e.qZA(),e.TgZ(5,"th",42),e._uU(6,"Cost Center"),e.qZA(),e.TgZ(7,"th",43),e._uU(8,"Action"),e.qZA()(),e.YNc(9,ds,8,2,"tr",44),e.qZA()()),2&a){const i=e.oxw(2);e.xp6(9),e.Q6J("ngForOf",i._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter)}}function gs(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",17)(1,"label",11)(2,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts=o)})("change",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.checkCostCenterValue())}),e.qZA(),e._uU(3," Show All Cost Center "),e.qZA()()}if(2&a){const i=e.oxw(2);e.xp6(2),e.Q6J("ngModel",i._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts)("disabled",0==i._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===i._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function us(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"fieldset")(2,"legend")(3,"label",11),e._uU(4,"\xa0Cost Center Wise"),e.qZA()(),e.TgZ(5,"div")(6,"div",35)(7,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.AccoutLedgerObj.CCENTER=o)}),e.YNc(8,cs,2,2,"option",51),e.qZA()(),e.TgZ(9,"div",37),e.YNc(10,_s,2,1,"button",52),e.qZA(),e.YNc(11,hs,10,1,"div",53),e.qZA(),e.YNc(12,gs,4,2,"div",19),e.TgZ(13,"div",17)(14,"label",11)(15,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.AccoutLedgerObj.MERGEREPORT=o)}),e.qZA(),e._uU(16," Merge Combined Ledger "),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(7),e.Q6J("ngModel",i._reportFilterService.AccoutLedgerObj.CCENTER)("disabled",0==i._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===i._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(1),e.Q6J("ngForOf",i.CostcenterList),e.xp6(2),e.Q6J("ngIf",i.showMultipleCC),e.xp6(1),e.Q6J("ngIf",i.showMultipleCC),e.xp6(1),e.Q6J("ngIf",i._reportFilterService.showAllcontactsInCC),e.xp6(3),e.Q6J("ngModel",i._reportFilterService.AccoutLedgerObj.MERGEREPORT)("disabled",0==i._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===i._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}let ms=(()=>{class a{constructor(i,r,o,t,n){this.masterService=i,this._authService=r,this.alertService=o,this._reportFilterService=t,this.arouter=n,this.acname="",this.accode="",this.account=[],this.division=[],this.CostcenterList=[],this.reportdataEmit=new e.vpe,this.gridPopupSettingsForAccountLedgerList=new b.im,this.gridPopupSettingsForMultipleAccountLedgerList=new b.im,this.dropListItem=l=>new es.Observable(_=>{this.masterService.getAccountListACIDNotLikePA().map(p=>(this.result=p.result,this.result.filter(d=>d.ACNAME.toUpperCase().indexOf(l.toUpperCase())>-1))).subscribe(p=>{_.next(p)})}),this.masterService.reportName="Account Ledger report",this._reportFilterService.showAllcontactsInCC=!0,this._reportFilterService.AccoutLedgerObj.Reportnameis="accountledger",this._reportFilterService.AccoutLedgerObj.Reportnameis="accountledger",this.userProfile=this._authService.getUserProfile(),this.reportNameFormatWise="Account Ledger Report",this.masterService.getAccountListACIDNotLikePA().subscribe(l=>{this.account=l.data,this.AccLedger_result=0!=this.account.length}),this.division=[],this.masterService.getAllDivisions().subscribe(l=>{this.division.push(l)},l=>{this.masterService.resolveError(l,"divisions - getDivisions")}),this.masterService.getCostcenter().subscribe(l=>{this.CostcenterList=l}),this.showMultipleCC=!0,this.getReportTitle(),this.checkValueForCombine()}ngOnInit(){1!=this._reportFilterService.AccoutLedgerObj.assignPrevioiusDate&&(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.userProfile.CompanyInfo.ActualFY==this.masterService.PhiscalObj.PhiscalID?(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,"AD")):(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.changeEndDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,"AD")),this._reportFilterService.AccoutLedgerObj.AccLedger_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter="%",this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=2,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[],this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[],this.checkValue(),1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&this.checkValue()),this.changeEntryDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1,"AD")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else"BS"==r&&(n=i.replace("-","/").replace("-","/"),t=o.bs2ad(n),this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day))}onload(){if(1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger||2!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts&&0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.length)if(1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger||4!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||0!=this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts&&void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter&&0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.length)if(!(1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts)||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount&&""!=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount)if(1!=this.AccLedger_result||void 0!==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&0!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger)this.DialogClosedResult("ok");else{if(void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount||""==this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount||""==this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME)return void this.alertService.info("Please Select Account");this.DialogClosedResult("ok")}else this.alertService.info("Please Select Account");else this.alertService.info("Please Select Costcenter");else this.alertService.info("Please Select Account")}getReportTitle(){this.masterService.getReportTitle(this.reportNameFormatWise).subscribe(i=>{"ok"==i.status&&(this.reportNameFormatWise=i.result)})}DialogClosedResult(i){let r=[],o="";void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter?o=this._reportFilterService.AccoutLedgerObj.CCENTER:0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.length?this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.forEach(n=>{r.push(n.CCID),o+=`${r},`}):o=this._reportFilterService.AccoutLedgerObj.CCENTER;let t=[];if(void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts?this._reportFilterService.SelectedAccount=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount:0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.length?this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.forEach(n=>{t.push(n.ACID),this._reportFilterService.SelectedAccount+=`${t},`}):this._reportFilterService.SelectedAccount=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount,4!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(o=this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter),1==this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC?(this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=1,this.reportNameFormatWise="Account Ledger Report_1"):(this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=0,this.reportNameFormatWise="Account Ledger Report"),this._reportFilterService.AccoutLedgerObj.SHOWNDATE=1==this._reportFilterService.AccoutLedgerObj.SHOWNDATE?1:0,this._reportFilterService.AccoutLedgerObj.MERGEREPORT=1==this._reportFilterService.AccoutLedgerObj.MERGEREPORT?1:0,this._reportFilterService.AccoutLedgerObj.SHOWNARATION=1==this._reportFilterService.AccoutLedgerObj.SHOWNARATION?1:0,1==this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=3,o="%"),1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&(this._reportFilterService.selectedAccountParty=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount,o=this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter,this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=0),2!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(this._reportFilterService.selectedAccountParty=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount),"ok"==i){this._reportFilterService.AccoutLedgerObj.assignPrevioiusDate=!0;let l,n=this.arouter.url.split("/");n&&n.length&&(l=n[n.length-1]);let _=this._reportFilterService.previouslyLoadedReportList.findIndex(p=>"Account Ledger Report"==p.reportname);_>=0&&this._reportFilterService.previouslyLoadedReportList.splice(_,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:"Account Ledger Report",activeurlpath:this.arouter.url,activerurlpath2:l})}this.reportdataEmit.emit({status:i,data:{reportname:this.reportNameFormatWise,reportparam:{DATE1:this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1,DATE2:this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,DIV:this._reportFilterService.AccoutLedgerObj.AccLedger_DIV?this._reportFilterService.AccoutLedgerObj.AccLedger_DIV:"%",COSTCENTER:o||"%",AREA:this._reportFilterService.AccoutLedgerObj.AccLedger_Areawise?this._reportFilterService.AccoutLedgerObj.AccLedger_Areawise:0,COMID:this.masterService.userProfile.CompanyInfo.COMPANYID,REPORTTYPE:this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType:0,IGNOREOPPOSITAC:this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC,SHOWNDATE:this._reportFilterService.AccoutLedgerObj.SHOWNDATE,ACID:this._reportFilterService.SelectedAccount?this._reportFilterService.SelectedAccount:"%",MERGEREPORT:this._reportFilterService.AccoutLedgerObj.MERGEREPORT,SHOWNARATION:this._reportFilterService.AccoutLedgerObj.SHOWNARATION,ACNAME:this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME}}})}closeReportBox(){this.DialogClosedResult("cancel")}checkValue(){2==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?(this.showLedgerTable=!0,this.acname=this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",this.accode=this._reportFilterService.AccoutLedgerObj.AccLedger_ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID="",this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount="",this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[]):(this.showLedgerTable=!1,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=this.acname,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=this.accode,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=this.accode),this.showAreaTable=1==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType,4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?(this.showCCtable=!0,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[]):this.showCCtable=!1}checkValueForCombine(){1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger?(this.showCombineLedgerList=!0,this.showMergeCombineLedger=!0,this.acname=this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",this.accode=this._reportFilterService.AccoutLedgerObj.AccLedger_ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID="",this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount="",2==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?this.showLedgerTable=!0:4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(this.showCCtable=!0)):(this.showCombineLedgerList=!1,this.showMergeCombineLedger=!1,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[],this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[])}accodeChanged(i){var r;r=this.masterService.accountList.find(o=>o.ACCODE==i),this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",r&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=i=r.ACNAME)}onEnterAcnameChange(i){this.accodeChanged(i)}itemChanged(i){"object"==typeof i&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=i.ACNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCODE=i.ACCODE,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=i.ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=i.ACID)}AccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridAccountLedger.show()}dblClickAccountSelect(i){this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=i.ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=i.ACNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=i.ACID}checkCostCenterValue(){this.showMultipleCC=1!=this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts}addCostcenterToList(){const i=this._reportFilterService.AccoutLedgerObj.CCENTER;this._reportFilterService.AccoutLedgerObj.CCENTER=i&&i.CCID?i.CCID:"";let r=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.filter(o=>o.COSTCENTERNAME==i.COSTCENTERNAME);""===i.COSTCENTERNAME||null==i.COSTCENTERNAME||0===r.length&&this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.push({CCID:i.CCID,COSTCENTERNAME:i.COSTCENTERNAME})}deleteCostcenter(i){this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.splice(i,1)}addAccountToList(){let i=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.filter(r=>r.ACNAME==this._reportFilterService.AccoutLedgerObj.multipleACNAME);""===this._reportFilterService.AccoutLedgerObj.multipleACNAME||null==this._reportFilterService.AccoutLedgerObj.multipleACNAME||0===i.length&&(this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.push({ACID:this._reportFilterService.AccoutLedgerObj.multipleACID,ACNAME:this._reportFilterService.AccoutLedgerObj.multipleACNAME}),this._reportFilterService.AccoutLedgerObj.multipleACNAME="",this._reportFilterService.AccoutLedgerObj.multipleACCODE="")}deleteAccount(i){this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.splice(i,1)}MultipleAccountEnterClicked(){this.gridPopupSettingsForMultipleAccountLedgerList=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridMultipleAccountLedger.show()}dblClickMultipleAccountSelect(i){this._reportFilterService.AccoutLedgerObj.multipleACID=i.ACID,this._reportFilterService.AccoutLedgerObj.multipleACNAME=i.ACNAME}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(P.e),e.Y36(R.c),e.Y36(A),e.Y36(O.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["account-ledger-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(ts,5),e.Gf(rs,5),e.Gf(is,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.PLedgerChild=o.first),e.iGM(o=e.CRH())&&(r.genericGridAccountLedger=o.first),e.iGM(o=e.CRH())&&(r.genericGridMultipleAccountLedger=o.first)}},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:37,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header",2,"border","0px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-12",2,"padding-top","2%"],[1,"col-md-6"],[2,"font-size","11px","font-weight","bold","width","auto","margin-bottom","-4px"],[1,"td-class"],[1,"smallBoldLabel"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar","date-input","form-control",2,"text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],["class","checkbox","style","padding-top:5px;width:200px;",4,"ngIf"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control",2,"font-weight","bold",3,"ngModel","ngModelChange","keydown.Tab","keydown.enter"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","disabled","ngModelChange","change"],["value","2"],["value","4"],[4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[1,"reportpopup",2,"width","90%"],[3,"popupsettings","onItemDoubleClick"],["genericGridAccountLedger",""],["genericGridMultipleAccountLedger",""],[3,"value"],[1,"col-md-10"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control",2,"font-weight","bold",3,"disabled","ngModel","ngModelChange","keydown.Tab","keydown.enter"],[1,"col-md-2"],["type","button",1,"btn","btn-info",3,"disabled","click"],[1,"col-md-12"],[2,"height","175px"],[2,"width","3px","font-weight","bold"],[2,"width","10px","font-weight","bold"],[2,"width","4px","font-weight","bold"],["class","smallBoldLabel",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","disabled","ngModelChange"],[2,"width","3px"],[2,"width","10px"],[2,"width","4px"],["type","button",1,"action-btn",3,"click"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button","class","btn btn-info",3,"disabled","click",4,"ngIf"],["class","col-md-12",4,"ngIf"],[3,"ngValue"],[2,"height","150px"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"button",5),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(7,"\xd7"),e.qZA(),e.TgZ(8,"h4",6),e._uU(9),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"fieldset")(13,"legend",9),e._uU(14,"Date Range Selection :"),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td",10)(18,"label",11),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td",10)(21,"label",11),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td",10)(25,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.ALo(26,"date"),e.ALo(27,"date"),e.qZA()(),e.TgZ(28,"td",10)(29,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.ALo(30,"date"),e.ALo(31,"date"),e.qZA()()(),e.TgZ(32,"tr")(33,"td",10)(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"BS")}),e.qZA()(),e.TgZ(35,"td",10)(36,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"BS")}),e.qZA()()()()(),e.TgZ(37,"fieldset")(38,"legend"),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",14),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.AccLedger_DIV=t}),e.TgZ(41,"option",15),e._uU(42,"ALL"),e.qZA(),e.YNc(43,os,2,2,"option",16),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend"),e._uU(46,"Cost Center:"),e.qZA(),e.TgZ(47,"select",14),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter=t}),e._UZ(48,"option",15),e.YNc(49,ns,2,2,"option",16),e.qZA()(),e.TgZ(50,"div",17)(51,"label",11)(52,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.SHOWNDATE=t}),e.qZA(),e._uU(53," Show BS Date In Report "),e.qZA()(),e.TgZ(54,"div",17)(55,"label",11)(56,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=t}),e.qZA(),e._uU(57," Show Ledger Report in Summary "),e.qZA()(),e.YNc(58,as,4,1,"div",19),e.qZA(),e.TgZ(59,"div",20)(60,"fieldset")(61,"legend"),e._uU(62,"Account Selection :"),e.qZA(),e.TgZ(63,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=t})("keydown.Tab",function(){return r.AccountEnterClicked()})("keydown.enter",function(){return r.AccountEnterClicked()}),e.qZA()(),e.TgZ(64,"fieldset")(65,"legend")(66,"label",11)(67,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.EnableCombineLedger=t})("change",function(){return r.checkValueForCombine()}),e.qZA(),e._uU(68," Show Combined Ledger"),e.qZA()(),e.TgZ(69,"select",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=t})("change",function(){return r.checkValue()}),e.TgZ(70,"option",24),e._uU(71,"Multi Ledger Wise"),e.qZA(),e.TgZ(72,"option",25),e._uU(73,"Cost Center Wise"),e.qZA()()(),e.YNc(74,ls,25,6,"div",26),e.YNc(75,ps,2,0,"div",26),e.YNc(76,us,17,8,"div",26),e.qZA()(),e.TgZ(77,"div",27)(78,"button",28),e.NdJ("click",function(){return r.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",29),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()(),e.TgZ(82,"div",30)(83,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(t){return r.dblClickAccountSelect(t)}),e.qZA()(),e.TgZ(85,"div",30)(86,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(t){return r.dblClickMultipleAccountSelect(t)}),e.qZA()()),2&i&&(e.xp6(9),e.Oqu(r.reportNameFormatWise),e.xp6(16),e.s9C("max",e.xi3(26,25,r.masterService.date1,"yyyy-MM-dd")),e.s9C("min",e.xi3(27,28,r.masterService.date2,"yyyy-MM-dd")),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_DATE1),e.xp6(4),e.s9C("max",e.xi3(30,31,r.masterService.date1,"yyyy-MM-dd")),e.s9C("min",e.xi3(31,34,r.masterService.date2,"yyyy-MM-dd")),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_DATE2),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_DIV),e.xp6(3),e.Q6J("ngForOf",r.division),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter),e.xp6(2),e.Q6J("ngForOf",r.CostcenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.SHOWNDATE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_ReportType)("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(5),e.Q6J("ngIf",r.showLedgerTable),e.xp6(1),e.Q6J("ngIf",r.showAreaTable&&r.showCombineLedgerList),e.xp6(1),e.Q6J("ngIf",r.showCCtable),e.xp6(7),e.Q6J("popupsettings",r.gridPopupSettingsForAccountLedgerList),e.xp6(3),e.Q6J("popupsettings",r.gridPopupSettingsForMultipleAccountLedgerList))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,m.uU],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}",".action-btn[_ngcontent-%COMP%] {\n        width: 80%;\n        height: 80%;\n        display: block;\n        margin: 0 auto;\n        background-color: inherit;\n        border: none;\n    }\n    .input-text[_ngcontent-%COMP%]{\n        width : 100%; \n        \n        font-weight: bold;\n    }\n    .td-class[_ngcontent-%COMP%]{\n        border: none !important;\n    }\n    .date-input[_ngcontent-%COMP%]{\n        width: 93%;\n        font-size: 12px !important;\n        height: 30px !important;\n    }"]}),a})();const Ss=["genericGridSupplierPopup"];function Os(a,s){1&a&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function bs(a,s){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Ts(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=o)}),e.YNc(4,Os,2,0,"option",40),e.YNc(5,bs,2,2,"option",41),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.PurchaseBookObj.PurchaseBook_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function vs(a,s){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function fs(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER=o)}),e._UZ(4,"option",44),e.TgZ(5,"option",42),e._uU(6," ALL "),e.qZA(),e.YNc(7,vs,2,2,"option",41),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function Cs(a,s){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function As(a,s){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function Ps(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",45)(5,"select",46),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,Cs,2,2,"option",41),e.qZA()(),e.TgZ(7,"div",19)(8,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES=o)}),e._UZ(9,"option",42),e.YNc(10,As,2,2,"option",41),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}function Ms(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",29)(4,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",29)(8,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i._reportFilterService.PurchaseBookObj.PurchaseBook_INAD),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.PurchaseBookObj.PurchaseBook_INAD)}}function Rs(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Report Filter Option :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",45)(5,"label",49),e._uU(6,"Purchase Type :"),e.qZA()(),e.TgZ(7,"div",19)(8,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE=o)}),e.TgZ(9,"option",50),e._uU(10,"All"),e.qZA(),e.TgZ(11,"option",51),e._uU(12,"Local Purchase"),e.qZA(),e.TgZ(13,"option",52),e._uU(14,"Import Purchase"),e.qZA()()()(),e.TgZ(15,"div",1)(16,"div",45)(17,"label",49),e._uU(18,"Invoice Type :"),e.qZA()(),e.TgZ(19,"div",19)(20,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE=o)}),e.TgZ(21,"option",51),e._uU(22,"All"),e.qZA(),e.TgZ(23,"option",52),e._uU(24,"Trading"),e.qZA(),e.TgZ(25,"option",53),e._uU(26,"Non-Trading"),e.qZA(),e.TgZ(27,"option",54),e._uU(28,"Mixed"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(8),e.Q6J("ngModel",i._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE),e.xp6(12),e.Q6J("ngModel",i._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE)}}let Es=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CUSTOMERNAME:"",params:"%",DIVISIONNAME:"",REPORTOPTIONDISPLAYNAME:"",INCLUDERETURNDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",SUPPLIERDISPLAYNAME:"",PURCHASETYPE:0,SHOWREVERESEENTRYONLY:0,INVOICETYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new b.im,this.AppMode=j.N.appMode,this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("FORM AUTHSERVICE",this._authService.getUserProfile().PhiscalYearInfo),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),t.PurchaseBookObj.PurchaseBook_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="2",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0"):"Purchase Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0"):"Purchase Book Report_1"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="1"),this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER=this._reportFilterService.drillParam.reportparam.COSTCENTER,this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.PurchaseBookObj.PurchaseBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,"AD")):(1!=this._reportFilterService.PurchaseBookObj.assignPreviousValue&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0",this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=0,this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD="1",this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE=100,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=0,this._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE=0),this.changeVariant(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,"AD"))})}changeEntryDate(i,r){i>this.currDate&&"AD"==r&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate,i=this.currDate);var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){i>this.currDate&&"AD"==r&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.currDate,i=this.currDate);var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER||null==this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV&&"%"==this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV)this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV&&"%"!=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV){let n=this.divisionList.filter(l=>l.Division==this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV);this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME=n&&n.length>0&&n[0]?n[0].NAME:""}else this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER?this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV?this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN?this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE?this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT?this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE?this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE:"%",this.repObj.reportparam.INAD=this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD?this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD:1,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME?this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER?this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER?this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE?this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE:100,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE??0,this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE?this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE:0;let i={};this.variantmaster.length>0?(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT||(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT]=this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES?this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?"@Voucher Wise Purchase Report":2==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Purchase Report":3==this.repObj.reportparam.REPORT_TYPE?"@Month Wise Purchase Report":"",this.repObj.reportparam.INCLUDERETURNDISPLAYNAME=1==this.repObj.reportparam.INCLUDE_RETURN?"@Report Including Purchase Return":0==this.repObj.reportparam.INCLUDE_RETURN?"@Report Excluding Purchase Return":"",this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?0==this.repObj.reportparam.SHOWDETALREPORT?"@Summary Report":1==this.repObj.reportparam.SHOWDETALREPORT?"@Detail Report":"":"",1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Purchase Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Purchase Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Purchase Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Book Report_3"),this.repObj.REPORTDISPLAYNAME="Purchase Book Report",this._reportFilterService.PurchaseBookObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE=i.ACID,this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onReportOptionChange(){3==this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-book-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(Ss,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:30,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],["value","100"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,Ts,6,3,"fieldset",15),e.YNc(38,fs,8,2,"fieldset",15),e.TgZ(39,"div",16)(40,"div",17)(41,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=t})("change",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=t.target.checked?1:0}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",20),e._uU(44,"Include Purchase Return (Debit Note) Transaction Also"),e.qZA()()()(),e.TgZ(45,"div",21)(46,"fieldset")(47,"legend",10),e._uU(48,"Supplier Selection :"),e.qZA(),e.TgZ(49,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.YNc(50,Ps,11,4,"fieldset",15),e.TgZ(51,"fieldset",23),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(52,"legend",10),e._uU(53,"Report Option :"),e.qZA(),e.TgZ(54,"div",24)(55,"div",25)(56,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=t}),e.qZA(),e.TgZ(57,"label"),e._uU(58,"Voucher Wise"),e.qZA()(),e.TgZ(59,"div",25)(60,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=t}),e.qZA(),e.TgZ(61,"label"),e._uU(62,"Day Wise"),e.qZA()(),e.TgZ(63,"div",25)(64,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=t}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Month Wise"),e.qZA()()()(),e.TgZ(67,"fieldset")(68,"legend",10),e._uU(69,"Report Type :"),e.qZA(),e.TgZ(70,"div",29)(71,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT=t}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Summary Report"),e.qZA()(),e.TgZ(74,"div",29)(75,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT=t}),e.qZA(),e.TgZ(76,"label"),e._uU(77,"Detail Report"),e.qZA()()(),e.YNc(78,Ms,11,2,"fieldset",15),e.TgZ(79,"div",32)(80,"div",17)(81,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=t})("change",function(t){return r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=t.target.checked?1:0}),e.qZA()(),e.TgZ(82,"div",19)(83,"label",33),e._uU(84,"Show Reverse Entry Only"),e.qZA()()(),e.YNc(85,Rs,29,2,"fieldset",15),e.qZA()()(),e.TgZ(86,"div",34)(87,"button",35),e.NdJ("click",function(){return r.onload()}),e._uU(88,"RUN"),e.qZA(),e.TgZ(89,"button",36),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(90,"Close"),e.qZA()()()()()(),e.TgZ(91,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN)("checked",1==r._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==r._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE)("checked",1==r._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function Is(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function ys(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Ds(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function Ns(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function js(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function ks(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function Fs(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",30)(5,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,js,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",32)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,ks,2,2,"option",17),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}let ws=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",SHOWDETAIL:0,PTYPE:100,params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.PTypeList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),t.SalesProductTypeObj.SalesProductType_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Product Type Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,"AD")):(1!=this._reportFilterService.SalesProductTypeObj.assignPreviousValue&&(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL="0"),this.changeVariant(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT),this.changeEntryDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER||null==this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER?this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV?this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE?this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE:100,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL?this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL:0;let i={};this.variantmaster.length>0?(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT||(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT]=this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES?this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Product Type Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Product Type Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Product Type Wise",this._reportFilterService.SalesProductTypeObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["SalesReportProductTypeWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:76,vars:22,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["value","100"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"],[1,"col"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Product Type Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=t}),e.YNc(41,Is,2,0,"option",16),e.YNc(42,ys,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Ds,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Product Type Selection:"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE=t}),e._UZ(56,"option",21),e.YNc(57,Ns,2,2,"option",17),e.qZA()(),e.YNc(58,Fs,11,4,"fieldset",22),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Type :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL=t}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Summary Report"),e.qZA()(),e.TgZ(67,"div",23)(68,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL=t}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Detail Report"),e.qZA()()()()()()(),e.TgZ(71,"div",26)(72,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",28),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Ws=["genericGridCustomerPopup"],Ls=["genericGridUserListPopup"];function Zs(a,s){1&a&&(e.TgZ(0,"option",53),e._uU(1,"ALL"),e.qZA())}function xs(a,s){if(1&a&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Us(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesBookObj.SalesBook_DIV=o)}),e.YNc(4,Zs,2,0,"option",51),e.YNc(5,xs,2,2,"option",52),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesBookObj.SalesBook_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function Vs(a,s){if(1&a&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function Bs(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesBookObj.SalesBook_CCENTER=o)}),e._UZ(4,"option",55),e.TgZ(5,"option",53),e._uU(6," All "),e.qZA(),e.YNc(7,Vs,2,2,"option",52),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesBookObj.SalesBook_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function Ys(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset",36)(1,"legend",10),e._uU(2,"Order Mode Selection :"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesBookObj.SalesBook_ORDERMODE=o)}),e.TgZ(4,"option",56),e._uU(5,"ALL"),e.qZA(),e.TgZ(6,"option",57),e._uU(7,"TAKE AWAY"),e.qZA(),e.TgZ(8,"option",58),e._uU(9,"DELIVERY"),e.qZA(),e.TgZ(10,"option",59),e._uU(11,"DINE IN"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesBookObj.SalesBook_ORDERMODE)}}function Js(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset",36)(1,"legend",10),e._uU(2,"Sales Type :"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesBookObj.SalesBook_SALESTYPE=o)}),e.TgZ(4,"option",60),e._uU(5,"ALL"),e.qZA(),e.TgZ(6,"option",61),e._uU(7,"RETAIL SALES"),e.qZA(),e.TgZ(8,"option",62),e._uU(9,"WHOLESALE SALES"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesBookObj.SalesBook_SALESTYPE)}}function qs(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",26)(4,"label",27),e._uU(5,"Show Item Details Also"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL)("checked",1==i._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL)}}function Gs(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",37)(4,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesBookObj.SalesBook_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",37)(8,"input",64),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesBookObj.SalesBook_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i._reportFilterService.SalesBookObj.SalesBook_INAD),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.SalesBookObj.SalesBook_INAD)}}let Hs=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CUSTOMERNAME:"",params:"%",DIVISIONNAME:"",REPORTOPTIONDISPLAYNAME:"",INCLUDERETURNDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",CUSTOMERDISPLAYNAME:"",ORDERMODE:"",SHOWITEMDETAIL:0,SHOWREVERESEENTRYONLY:0,SALESTYPE:"",CUSTID:"",TRNUSER:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForCustomer=new b.im,this.gridPopupSettingsForUserList=new b.im,this.AppMode=j.N.appMode,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{const o=r.mode;"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="1",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD"),this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="2",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):(1!=this._reportFilterService.SalesBookObj.assignPreviousValue&&(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesBookObj.SalesBook_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesBookObj.SalesBook_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=0,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=0,this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE="0",this._reportFilterService.SalesBookObj.SalesBook_INAD="1"),this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesBookObj.SalesBook_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesBookObj.SalesBook_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesBookObj.SalesBook_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesBookObj.SalesBook_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesBookObj.SalesBook_CCENTER||null==this._reportFilterService.SalesBookObj.SalesBook_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesBookObj.SalesBook_DIV&&"%"==this._reportFilterService.SalesBookObj.SalesBook_DIV)this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME="All";else if(this._reportFilterService.SalesBookObj.SalesBook_DIV&&"%"!=this._reportFilterService.SalesBookObj.SalesBook_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.SalesBookObj.SalesBook_DIV);this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesBookObj.SalesBook_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesBookObj.SalesBook_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesBookObj.SalesBook_CCENTER?this._reportFilterService.SalesBookObj.SalesBook_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesBookObj.SalesBook_DIV?this._reportFilterService.SalesBookObj.SalesBook_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN?this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE?this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT?this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesBookObj.SalesBook_ACID?this._reportFilterService.SalesBookObj.SalesBook_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesBookObj.SalesBook_CUSTID?this._reportFilterService.SalesBookObj.SalesBook_CUSTID:"%",this.repObj.reportparam.INAD=this._reportFilterService.SalesBookObj.SalesBook_INAD?this._reportFilterService.SalesBookObj.SalesBook_INAD:1,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME?this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER?this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER?this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER:"",this.repObj.reportparam.ORDERMODE=this._reportFilterService.SalesBookObj.SalesBook_ORDERMODE?this._reportFilterService.SalesBookObj.SalesBook_ORDERMODE:"",this.repObj.reportparam.SHOWITEMDETAIL=this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL?this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL:0,this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE?this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE:0,this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE?this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesBookObj.SalesBook_USERNAME?this._reportFilterService.SalesBookObj.SalesBook_USERNAME:"%",3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.SHOWDETALREPORT&&(this.repObj.reportparam.SHOWITEMDETAIL=0),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?"@Voucher Wise Sales Report":2==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Sales Report":3==this.repObj.reportparam.REPORT_TYPE?"@Month Wise Sales Report":"",this.repObj.reportparam.INCLUDERETURNDISPLAYNAME=1==this.repObj.reportparam.INCLUDE_RETURN?"@Report Including Sales Return":0==this.repObj.reportparam.INCLUDE_RETURN?"@Report Excluding Sales Return":"",this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?0==this.repObj.reportparam.SHOWDETALREPORT?"@Summary Report":1==this.repObj.reportparam.SHOWDETALREPORT?"@Detail Report":"":"",1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Sales Book Report_3"),this.repObj.REPORTDISPLAYNAME="Sales Book Report",this._reportFilterService.SalesBookObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(i){this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=i.CUSTID,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=i.CUSTNAME,this._reportFilterService.SalesBookObj.SalesBook_ACID=i.ACID,this._reportFilterService.SalesBookObj.SalesBook_CUSTID=i.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}onchangeReportType(){0==this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT&&(this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=0)}UserListEnter(i){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(i){this._reportFilterService.SalesBookObj.SalesBook_USERNAME=i.UNAME}Change(){1==this._reportFilterService.SalesBookObj.SalesBook_ALLUSER&&(this._reportFilterService.SalesBookObj.SalesBook_USERNAME="")}onReportOptionChange(){3==this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-book-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Ws,5),e.Gf(Ls,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:112,vars:35,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[2,"width","100%"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange","change"],["style","width: 100%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;width:200px;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["value","%","selected",""],["value","TAKE AWAY"],["value","DELIVERY"],["value","DINE IN"],["value","0"],["value","1"],["value","2"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,Us,6,3,"fieldset",15),e.YNc(38,Bs,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Filter Option :"),e.qZA(),e.TgZ(42,"div",1)(43,"div",16)(44,"label",17),e._uU(45,"User Name :"),e.qZA()(),e.TgZ(46,"div",18)(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_USERNAME=t})("keydown.enter",function(t){return r.UserListEnter(t)})("keydown.Tab",function(t){return r.UserListEnter(t)})("keyup",function(t){return r.UserListEnter(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA(),e.TgZ(49,"input",21),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_ALLUSER=t}),e.qZA(),e.TgZ(50,"label",22),e._uU(51,"All User"),e.qZA()()()()(),e.TgZ(52,"div",23)(53,"div",24)(54,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=t})("change",function(t){return r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=t.target.checked?1:0}),e.qZA()(),e.TgZ(55,"div",26)(56,"label",27),e._uU(57,"Include Sales Return (Credit Note) Transaction Also"),e.qZA()()()(),e.TgZ(58,"div",28)(59,"fieldset")(60,"legend",10),e._uU(61,"Customer Selection :"),e.qZA(),e.TgZ(62,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(63,"fieldset",30),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(64,"legend",10),e._uU(65,"Report Option :"),e.qZA(),e.TgZ(66,"div",31)(67,"div",32)(68,"input",33),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=t}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Voucher Wise"),e.qZA()(),e.TgZ(71,"div",32)(72,"input",34),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=t}),e.qZA(),e.TgZ(73,"label"),e._uU(74,"Day Wise"),e.qZA()(),e.TgZ(75,"div",32)(76,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=t}),e.qZA(),e.TgZ(77,"label"),e._uU(78,"Month Wise"),e.qZA()()()(),e.TgZ(79,"div",1)(80,"div",5)(81,"fieldset",36)(82,"legend",10),e._uU(83,"Report Type :"),e.qZA(),e.TgZ(84,"div",37)(85,"input",38),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT=t})("change",function(){return r.onchangeReportType()}),e.qZA(),e.TgZ(86,"label"),e._uU(87,"Summary Report"),e.qZA()(),e.TgZ(88,"div",37)(89,"input",39),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT=t})("change",function(){return r.onchangeReportType()}),e.qZA(),e.TgZ(90,"label"),e._uU(91,"Detail Report"),e.qZA()()()(),e.TgZ(92,"div",5),e.YNc(93,Ys,12,1,"fieldset",40),e.YNc(94,Js,10,1,"fieldset",40),e.qZA()(),e.YNc(95,qs,6,2,"div",41),e.YNc(96,Gs,11,2,"fieldset",15),e.TgZ(97,"div",42)(98,"div",24)(99,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=t})("change",function(t){return r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=t.target.checked?1:0}),e.qZA()(),e.TgZ(100,"div",26)(101,"label",43),e._uU(102,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(103,"div",44)(104,"button",45),e.NdJ("click",function(){return r.onload()}),e._uU(105,"RUN"),e.qZA(),e.TgZ(106,"button",46),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(107,"Close"),e.qZA()()()()()(),e.TgZ(108,"generic-popup-grid",47,48),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(110,"generic-popup-grid",47,49),e.NdJ("onItemDoubleClick",function(t){return r.onUserListSelected(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesBookObj.SalesBook_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesBookObj.SalesBook_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_USERNAME)("disabled",1==r._reportFilterService.SalesBookObj.SalesBook_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_ALLUSER),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN)("checked",1==r._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",3==r._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE)("checked",1==r._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();var F=S(38011),$=S(72661),ue=S(77220),me=S(63666);function Qs(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"input",12),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw().$implicit,n=e.oxw();return e.KtG(n.check(t,!t.data.check,o))}),e.qZA()}if(2&a){const i=e.oxw().$implicit;e.Q6J("indeterminate",i.data.indeterminate)("checked",i.data.check)}}function zs(a,s){if(1&a&&(e.YNc(0,Qs,1,2,"input",8),e.TgZ(1,"span",9),e._UZ(2,"img",10),e.TgZ(3,"label",11),e._uU(4),e.qZA()()),2&a){const i=s.$implicit,r=e.oxw();e.Q6J("ngIf",r.multiselect),e.xp6(1),e.s9C("title",i.data.subTitle),e.xp6(3),e.Oqu(null==i.data?null:i.data.name)}}let Ks=(()=>{class a{constructor(i,r,o){this.brandService=i,this.masterService=r,this.productMasterService=o,this.selectedNode=new e.vpe,this.multiselect=!1,this.mainGroupList=[],this.actionMapping={mouse:{click:(t,n,l)=>{this.multiselect&&this.afterSelect(n.data,l)}}},this.selectedItems=[],this.asyncChildren=[{name:"child2.1",subTitle:"new and improved"},{name:"child2.2",subTitle:"new and improved2"}],this.customTemplateStringOptions={displayField:"name",isExpandedField:"expanded",idField:"uuid",getChildren:this.getChildren.bind(this),allowDrag:!1},this.initTree(),this.productMasterService.getMainGroupList().subscribe(t=>{console.log("MainGroup",t),t.length>0?(this.mainGroupList=t,this.masterService.mainGroupList=t):(this.mainGroupList=[],this.masterService.mainGroupList=[])})}ngOnInit(){this.masterService.updateBrandTreeSubject.subscribe(i=>{console.log("init function ho hai"),console.log("init ma k hudaicha",i),this.initTree()}),this.multiselect&&(this.customTemplateStringOptions.actionMapping=this.actionMapping)}afterSelect(i,r){console.log("DATA on select",i,r.target.checked),r.target.checked?this.selectedItems.push(i):this.selectedItems=this.selectedItems.filter(p=>p!==i);let o="",t="";this.selectedItems.forEach(p=>{o+=`${p.id},`,t+=`${p.name},`});let n=o.substring(0,o.length-1),l=t.substring(0,t.length-1);this.selectedNode.emit({id:n,name:l})}onselect(i,r){this.selectedNode.emit(i.treeModel.getFocusedNode().data),console.log("selected node",this.selectedNode)}initTree(){this.nodes=[],this.busy=this.brandService.getBrandTree().subscribe(i=>{console.log("busy log",i),this.nodes=i[0],console.log("res0 ko log",this.nodes),null!=this.tree&&this.tree.treeModel.update()},i=>{var r=this.masterService.resolveError(i,"error");r&&alert(r)})}filterNodes(i){try{this.tree.treeModel.filterNodes(i,!0)}catch(r){console.log("Filter Not Working",r)}}getChildren(i){return new Promise((r,o)=>{setTimeout(()=>r(this.asyncChildren.map(t=>Object.assign({},t,{hasChildren:i.level<5}))),1e3)})}check(i,r){this.updateChildNodeCheckbox(i,r),this.updateParentNodeCheckbox(i.realParent)}updateChildNodeCheckbox(i,r){i.data.check=r,i.children&&i.children.forEach(o=>this.updateChildNodeCheckbox(o,r))}updateParentNodeCheckbox(i){if(!i)return;let r=!0,o=!0;for(const t of i.children)(!t.data.check||t.data.indeterminate)&&(r=!1),t.data.check&&(o=!1);r?(i.data.check=!0,i.data.indeterminate=!1):o?(i.data.check=!1,i.data.indeterminate=!1):(i.data.check=!0,i.data.indeterminate=!0),this.updateParentNodeCheckbox(i.parent)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36($.c),e.Y36(T.P),e.Y36(ue.L))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-report-tree"]],viewQuery:function(i,r){if(1&i&&e.Gf(me.qr,5),2&i){let o;e.iGM(o=e.CRH())&&(r.tree=o.first)}},inputs:{multiselect:"multiselect"},outputs:{selectedNode:"selectedNode"},features:[e._Bn([ue.L])],decls:9,vars:2,consts:[[1,"plainBackground"],[1,"mx-auto"],["name","filter","placeholder","Search Item Group",1,"filterclass",3,"keyup"],["filter",""],[1,"tree"],[1,"reverse",3,"nodes","options","activate"],["tree",""],["treeNodeTemplate",""],["type","checkbox",3,"indeterminate","checked","change",4,"ngIf"],[3,"title"],["src","../../../assets/Folder.jpg","alt","Group","height","20","width","20",2,"margin-top","-2px"],[2,"padding-top","0px !important","width","auto !important","height","15px !important"],["type","checkbox",3,"indeterminate","checked","change"]],template:function(i,r){if(1&i){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("keyup",function(){e.CHM(o);const n=e.MAs(3);return e.KtG(r.filterNodes(n.value))}),e.qZA()(),e.TgZ(4,"div",4)(5,"tree-root",5,6),e.NdJ("activate",function(n){e.CHM(o);const l=e.MAs(6);return e.KtG(r.onselect(l,n))}),e.YNc(7,zs,5,3,"ng-template",null,7,e.W1O),e.qZA()()()}2&i&&(e.xp6(5),e.Q6J("nodes",r.nodes)("options",r.customTemplateStringOptions))},dependencies:[m.O5,me.qr],styles:[".tree[_ngcontent-%COMP%]{overflow:auto;border:black;border-width:2px;height:70vh;width:96%;background:white;margin:10px;font-size:12px}.plainBackground[_ngcontent-%COMP%]{border:2px solid #e6e6e6;padding:5px;margin-left:5px!important;margin-right:5px!important;background-color:#f7f7f7;width:98%}.filterclass[_ngcontent-%COMP%]{width:90%;padding:10px}"]}),a})();function $s(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.hide())}),e._uU(6," \xd7 "),e.qZA()()()(),e.TgZ(7,"app-report-tree",7),e.NdJ("selectedNode",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.getTreeNodeValue(o))}),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(7),e.Q6J("multiselect",i.multiselect)}}let te=(()=>{class a{constructor(){this.isActive=!1,this.treeNodeValue=new e.vpe}ngOnInit(){}show(){this.isActive=!0}getTreeNodeValue(i){console.log("tree ko valueee",i),console.log("name matraaaa",i.name),this.treeNodeValue.emit(i)}hide(){console.log("helloStockLedger"),this.isActive=!1}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-report-popup"]],inputs:{multiselect:"multiselect"},outputs:{treeNodeValue:"treeNodeValue"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row",2,"margin-left","-15px !important"],[1,"col-12","col-md-12"],[1,"row"],[1,"modal-header","col-md-12",2,"border","0px"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"mx-auto",2,"width","100%",3,"multiselect","selectedNode"]],template:function(i,r){1&i&&e.YNc(0,$s,8,1,"div",0),2&i&&e.Q6J("ngIf",r.isActive)},dependencies:[m.O5,Ks],styles:[".container[_ngcontent-%COMP%]{position:fixed!important;transform:translate(-50px,-50px);background:#ffffff;z-index:99999;width:30.5%;top:17%;left:39%;height:85%;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px}"]}),a})();const Xs=["reportPopup"],el=["genericGridCustomerPopup"],tl=["genericGridItemPopup"],rl=["genericGridUserListPopup"],il=["multiselectGenericGrid"];function ol(a,s){1&a&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function nl(a,s){if(1&a&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function al(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=o)}),e.YNc(4,ol,2,0,"option",73),e.YNc(5,nl,2,2,"option",43),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function sl(a,s){if(1&a&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function ll(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER=o)}),e._UZ(4,"option",75),e.TgZ(5,"option",42),e._uU(6," ALL "),e.qZA(),e.YNc(7,sl,2,2,"option",43),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function pl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"input",76),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=o)})("change",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.checkValue(5))}),e.qZA()(),e.TgZ(3,"div",21)(4,"label",22),e._uU(5,"Cost Center Wise Report"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT)}}function cl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset",77)(1,"div",17)(2,"div",18)(3,"div",78)(4,"input",79),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",21)(6,"label",22),e._uU(7,"Show Item Group Only"),e.qZA()()(),e.TgZ(8,"div",18)(9,"div",78)(10,"input",80),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",21)(12,"label",22),e._uU(13,"Show Item Within Groups"),e.qZA()()(),e.TgZ(14,"div",18)(15,"div",78)(16,"input",81),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(17,"div",21)(18,"label",22),e._uU(19,"Show All Item Group Hierarchy"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE)}}function _l(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",82)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT)("checked",1==i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT)}}function dl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show User Wise Format"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER)("checked",1==i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER)}}function hl(a,s){if(1&a&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function gl(a,s){if(1&a&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function ul(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE=o)}),e._UZ(6,"option",45),e.YNc(7,gl,2,2,"option",43),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",i.PTypeList)}}function ml(a,s){if(1&a&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MANUFACTURER),e.xp6(1),e.hij("",i.MANUFACTURER," ")}}function Sl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER=o)}),e._UZ(6,"option",42),e.YNc(7,ml,2,2,"option",43),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",i.ManufacturerList)}}function Ol(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE=o)}),e.TgZ(6,"option",47),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",46),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",83),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE)}}function bl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"input",84),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.selectMultiItems=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",85),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectMultiItems)("checked",1==i.selectMultiItems)}}function Tl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",101)(1,"ng-multiselect-dropdown",102),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function vl(a,s){if(1&a&&(e.TgZ(0,"div",97)(1,"div",98)(2,"label",99),e._uU(3),e.qZA()(),e.YNc(4,Tl,2,4,"div",100),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function fl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",86)(2,"div",87)(3,"div",88)(4,"h5",89),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",90),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",91),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",92)(10,"div",93),e.YNc(11,vl,5,2,"div",94),e.qZA()(),e.TgZ(12,"div",95)(13,"button",96),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",96),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let Cl=(()=>{class a{constructor(i,r,o,t,n,l,_,p,d){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.brandService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",CUSTOMERNAME:"",MENUCODE:"",params:"%",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",CUSTOMERDISPLAYNAME:"",VATMODE:"",MANUFACTURER:"%",SALESTYPE:"",ITEMGROUP:"",VCHR1:0,VCHR2:0,CUSTID:"",TRNUSER:"",SHOWUSERWISE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForCustomer=new b.im,this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForUserList=new b.im,this.multiselectPopupSettings=new F.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.AppMode=j.N.appMode,this.masterService.getAllCostCenter().subscribe(u=>{this.costCenterList=u&&u||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(u=>{this.divisionList=u}),this.masterService.getMCatList().subscribe(u=>{this.MCatList=u}),this.masterService.getPTypeList().subscribe(u=>{u&&(this.PTypeList=u)}),this.masterService.getItemGroup().subscribe(u=>{u&&(this.ItemGroupList=u)}),this.masterService.getProductGroupList().subscribe(u=>{u&&(this.ProductGroupList=u)}),this.masterService.getManufacturerList().subscribe(u=>{u&&(this.ManufacturerList=u)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(u=>{u.result&&u.result.length&&(this.categorywiseConfigurationdetails=u.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let N=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof N&&N&&N.length?N:[]}}))},u=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Item Wise_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="2"):"Sales Report Item Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="3"),this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,"AD")):(1!=this._reportFilterService.SalesItemWiseObj.assignPreviousValue&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE="100",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE="0"),this.changeVariant(this._reportFilterService.SalesItemWiseObj.SalesItemWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");const d=l[2]+"/"+l[1]+"/"+l[0];t=o.bs2ad(d);var _=(t=o.bs2ad(d)).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(console.log("saels item wise",this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER),1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER||null==this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV)this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME="All";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV);this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP)this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP);this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE&&"100"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP)this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME="";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE&&"100"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE);this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?"All":this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV?this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER:"",this.repObj.reportparam.VATMODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER:"%",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME:"%",this.repObj.reportparam.SHOWUSERWISE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER:0,this._reportFilterService.SalesItemWiseObj.VCHR1>this._reportFilterService.SalesItemWiseObj.VCHR2)return void this._alertService.warning("Range selection of From must be less the To");this.repObj.reportparam.VCHR1=this._reportFilterService.SalesItemWiseObj.VCHR1,this.repObj.reportparam.VCHR2=this._reportFilterService.SalesItemWiseObj.VCHR2,console.log("to and from",this.repObj.reportparam.VCHR1,this.repObj.reportparam.VCHR2),this.repObj.reportparam.params=1==this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_4":5==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Sales Report Item Wise_5"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_VARIANT":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_1_VARIANT":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_2_VARIANT":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_3_VARIANT":4==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_4_VARIANT":5==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Sales Report Item Wise_5_VARIANT")),this.repObj.REPORTDISPLAYNAME="Sales Report Item Wise",this._reportFilterService.SalesItemWiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(i){this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMERCODE=i.CUSTID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=i.CUSTNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID=i.ACID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID=i.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}ItemEnterCommand(i){this.getItemList(),console.log("selected itemd",this.selectMultiItems),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}changeMultiSelect(i){console.log("events",i),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE="",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM="",this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE="",this.selectMultiItems=1==i.target.checked?1:0}dblClickPopupItem(i){this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=i.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=i.DESCA,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE=i.MENUCODE}onMultiItemSelected(i){console.log("on multii item select",i),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=i.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=i.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(i){0==i&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="0",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),1==i&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),4==i&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="4",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),5==i&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="5",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0)}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.SalesItemWiseObj.SalesItemWise_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(i){}reportTree(){this.reportPopup.show()}selectedValue(i){console.log("k data ho yo?",i),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=i.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=i.DESCA}treeNodeSelected(i){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",i),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=i.id,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=i.name}voucherRange(){this._reportFilterService.SalesItemWiseObj.VCHR1>this._reportFilterService.SalesItemWiseObj.VCHR2&&this._alertService.warning("Range selection of From must be less the To")}UserListEnter(i){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(i){this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME=i.UNAME}Change(){1==this._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME="")}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c),e.Y36($.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["salesreport-itemwise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Xs,5),e.Gf(el,5),e.Gf(tl,5),e.Gf(rl,5),e.Gf(il,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:165,vars:46,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[2,"margin-top","0"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","1%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-top","2%","margin-bottom","2%"],[1,"row",2,"margin-bottom","-5%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],[1,"col-md-1",2,"margin-left","-20%","margin-bottom","-1%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],["class","row","style","margin-bottom: -5%;",4,"ngIf"],["style","width: 127%; margin-left: -8%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex","margin-left","19%"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","mt-2"],[2,"display","flex"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],["genericGridUserListPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["type","radio","name","reportType","value","5",3,"ngModel","ngModelChange","change"],[2,"width","127%","margin-left","-8%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","3",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],["value","2"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr",8),e.TgZ(13,"div",9)(14,"div",10)(15,"div",5)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",14),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,al,6,3,"fieldset",16),e.YNc(38,ll,8,2,"fieldset",16),e.TgZ(39,"fieldset")(40,"legend",11),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div",12)(43,"div",5)(44,"div",17)(45,"div",18)(46,"div",19)(47,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(48,"div",21)(49,"label",22),e._uU(50,"Item Wise Report"),e.qZA()()(),e.TgZ(51,"div",18)(52,"div",23)(53,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(54,"div",21)(55,"label",22),e._uU(56,"Item Group Wise Report"),e.qZA()()(),e.TgZ(57,"div",18)(58,"div",19)(59,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(4)}),e.qZA()(),e.TgZ(60,"div",21)(61,"label",22),e._uU(62,"Day Wise Report"),e.qZA()()(),e.YNc(63,pl,6,1,"div",26),e.qZA()(),e.TgZ(64,"div",5),e.YNc(65,cl,20,3,"fieldset",27),e.qZA()()(),e.YNc(66,_l,6,2,"div",28),e.TgZ(67,"div",29)(68,"div",30)(69,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING=t})("change",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING=t.target.checked?1:0}),e.qZA()(),e.TgZ(70,"div",32)(71,"label",33),e._uU(72,"Show Item Grouping Hierarchy"),e.qZA()()(),e.YNc(73,dl,6,2,"div",34),e.qZA(),e.TgZ(74,"div",35)(75,"fieldset")(76,"legend"),e._uU(77,"Report Filter Option :"),e.qZA(),e.TgZ(78,"div",1)(79,"div",36)(80,"label",37),e._uU(81,"Item Group :"),e.qZA()(),e.TgZ(82,"div",38)(83,"app-simple-suggest",39),e.NdJ("selectOption",function(t){return r.selectedValue(t)})("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=t}),e.qZA(),e.TgZ(84,"button",40),e.NdJ("click",function(){return r.reportTree()}),e._uU(85,"+"),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",36)(88,"label",37),e._uU(89,"Item Category :"),e.qZA()(),e.TgZ(90,"div",32)(91,"select",41),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT=t}),e._UZ(92,"option",42),e.YNc(93,hl,2,2,"option",43),e.qZA()()(),e.YNc(94,ul,8,2,"div",44),e.YNc(95,Sl,8,2,"div",44),e.TgZ(96,"div",1)(97,"div",36)(98,"label",37),e._uU(99,"Vat Mode :"),e.qZA()(),e.TgZ(100,"div",32)(101,"select",41),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE=t}),e._UZ(102,"option",45),e.TgZ(103,"option",46),e._uU(104,"VATABLE ITEM"),e.qZA(),e.TgZ(105,"option",47),e._uU(106,"NON-VATABLE ITEM"),e.qZA()()()(),e.YNc(107,Ol,12,1,"div",44),e.TgZ(108,"div",1)(109,"div",36)(110,"label",48),e._uU(111,"Customer Name :"),e.qZA()(),e.TgZ(112,"div",32)(113,"input",49),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(114,"div",1)(115,"div",50)(116,"label",51),e._uU(117,"User Name :"),e.qZA()(),e.TgZ(118,"div",52)(119,"div",53)(120,"input",54),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME=t})("keydown.enter",function(t){return r.UserListEnter(t)})("keydown.Tab",function(t){return r.UserListEnter(t)})("keyup",function(t){return r.UserListEnter(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA(),e.TgZ(121,"input",55),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER=t}),e.qZA(),e.TgZ(122,"label",56),e._uU(123,"All User"),e.qZA()()()()(),e.TgZ(124,"fieldset")(125,"legend",11),e._uU(126,"Item Selection :"),e.qZA(),e.TgZ(127,"div",1)(128,"div",36)(129,"label",37),e._uU(130,"Item Name :"),e.qZA()(),e.TgZ(131,"div",32)(132,"input",57),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.YNc(133,bl,5,2,"div",44),e.qZA(),e.TgZ(134,"fieldset")(135,"legend",11),e._uU(136,"Voucher Range Selection:"),e.qZA(),e.TgZ(137,"div",58)(138,"div",12)(139,"div",13)(140,"div",59)(141,"label"),e._uU(142," From: "),e.qZA(),e.TgZ(143,"input",60),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.VCHR1=t}),e.qZA()()(),e.TgZ(144,"div",5)(145,"div",59)(146,"label"),e._uU(147," To: "),e.qZA(),e.TgZ(148,"input",61),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseObj.VCHR2=t})("change",function(){return r.voucherRange()}),e.qZA()()()()()()()()(),e.TgZ(149,"div",62)(150,"button",63),e.NdJ("click",function(){return r.onload()}),e._uU(151,"RUN"),e.qZA(),e.TgZ(152,"button",64),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(153,"Close"),e.qZA()()()()()(),e.TgZ(154,"generic-popup-grid",65,66),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(156,"generic-popup-grid",65,67),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(158,"multiselect-generic-grid",68,69),e.NdJ("onItemsSelected",function(t){return r.onMultiItemSelected(t)}),e.qZA(),e.TgZ(160,"generic-popup-grid",65,70),e.NdJ("onItemDoubleClick",function(t){return r.onUserListSelected(t)}),e.qZA(),e.YNc(162,fl,17,1,"div",16),e.TgZ(163,"app-report-popup",71,72),e.NdJ("treeNodeValue",function(t){return r.treeNodeSelected(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING)("checked",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING),e.xp6(4),e.Q6J("ngIf",0==r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(10),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE),e.xp6(6),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME)("disabled",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.VCHR1),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.VCHR2),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,F.ky,te,K.c,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Al=["genericGridCustomerPopup"],Pl=["genericGridUserListPopup"];function Ml(a,s){1&a&&(e.TgZ(0,"option",52),e._uU(1,"ALL"),e.qZA())}function Rl(a,s){if(1&a&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function El(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CreditNoteObj.CreditNote_DIV=o)}),e.YNc(4,Ml,2,0,"option",50),e.YNc(5,Rl,2,2,"option",51),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.CreditNoteObj.CreditNote_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function Il(a,s){if(1&a&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function yl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CreditNoteObj.CreditNote_CCENTER=o)}),e._UZ(4,"option",54),e.TgZ(5,"option",52),e._uU(6," ALL "),e.qZA(),e.YNc(7,Il,2,2,"option",51),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.CreditNoteObj.CreditNote_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function Dl(a,s){if(1&a&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function Nl(a,s){if(1&a&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function jl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",55)(5,"select",56),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CreditNoteObj.CreditNote_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,Dl,2,2,"option",51),e.qZA()(),e.TgZ(7,"div",41)(8,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES=o)}),e._UZ(9,"option",52),e.YNc(10,Nl,2,2,"option",51),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.CreditNoteObj.CreditNote_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}function kl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",16)(4,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CreditNoteObj.CreditNote_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",16)(8,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CreditNoteObj.CreditNote_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i._reportFilterService.CreditNoteObj.CreditNote_INAD),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.CreditNoteObj.CreditNote_INAD)}}let Fl=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CNMODE:0,CUSTOMERNAME:"",params:"%",SHOWREVERESEENTRYONLY:0,CUSTID:"",TRNUSER:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.CreditNotebookReport={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new b.im,this.gridPopupSettingsForUserList=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.AppMode=j.N.appMode,this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),t.CreditNoteObj.CreditNote_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Credit Note Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="2",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0"):"Credit Note Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0"):"Credit Note Book Report_1"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="1"),this._reportFilterService.CreditNoteObj.CreditNote_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.CreditNoteObj.CreditNote_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.CreditNoteObj.CreditNote_CNMODE=this._reportFilterService.drillParam.reportparam.CNMODE,this._reportFilterService.CreditNoteObj.CreditNote_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE2,"AD")):(1!=this._reportFilterService.CreditNoteObj.assignPreviousValue&&(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.CreditNoteObj.CreditNote_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0",this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN=0,this._reportFilterService.CreditNoteObj.CreditNote_INAD="1",this._reportFilterService.CreditNoteObj.CreditNote_CNMODE="2",this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=0),this.changeVariant(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT),this.changeEntryDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.CreditNoteObj.CreditNote_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CreditNoteObj.CreditNote_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.CreditNoteObj.CreditNote_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CreditNoteObj.CreditNote_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.CreditNoteObj.CreditNote_CCENTER||null==this._reportFilterService.CreditNoteObj.CreditNote_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.CreditNoteObj.CreditNote_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CreditNoteObj.CreditNote_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.CreditNoteObj.CreditNote_CCENTER?this._reportFilterService.CreditNoteObj.CreditNote_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.CreditNoteObj.CreditNote_DIV?this._reportFilterService.CreditNoteObj.CreditNote_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN?this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE?this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT?this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.CreditNoteObj.CreditNote_ACID?this._reportFilterService.CreditNoteObj.CreditNote_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.CreditNoteObj.CreditNote_CUSTID?this._reportFilterService.CreditNoteObj.CreditNote_CUSTID:"%",this.repObj.reportparam.INAD=this._reportFilterService.CreditNoteObj.CreditNote_INAD?this._reportFilterService.CreditNoteObj.CreditNote_INAD:1,this.repObj.reportparam.CNMODE=this._reportFilterService.CreditNoteObj.CreditNote_CNMODE?this._reportFilterService.CreditNoteObj.CreditNote_CNMODE:2,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER?this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER:"",this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE?this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE:0,this.repObj.reportparam.TRNUSER=this._reportFilterService.CreditNoteObj.CreditNote_USERNAME?this._reportFilterService.CreditNoteObj.CreditNote_USERNAME:"%";let i={};this.variantmaster.length>0?(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT||(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.CreditNoteObj.CreditNote_VARIANT]=this._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES?this._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Credit Note Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Credit Note Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Credit Note Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Credit Note Book Report_3"),this.repObj.REPORTDISPLAYNAME="Credit Note Book Report",this._reportFilterService.CreditNoteObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(i){this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMERCODE=i.CUSTID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=i.CUSTNAME,this._reportFilterService.CreditNoteObj.CreditNote_ACID=i.ACID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTID=i.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.CreditNoteObj.CreditNote_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}UserListEnter(i){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(i){this._reportFilterService.CreditNoteObj.CreditNote_USERNAME=i.UNAME}Change(){1==this._reportFilterService.CreditNoteObj.CreditNote_ALLUSER&&(this._reportFilterService.CreditNoteObj.CreditNote_USERNAME="")}onReportOptionChange(){3==this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["credit-notebook-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Al,5),e.Gf(Pl,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:116,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","creditNoteOption","value","2",2,"font-size","11px",3,"ngModel","ngModelChange"],["type","radio","name","creditNoteOption","value","0",2,"font-size","11px",3,"ngModel","ngModelChange"],[2,"width","50%"],["type","radio","name","creditNoteOption","value","1",2,"font-size","11px",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Credit Note Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,El,6,3,"fieldset",15),e.YNc(38,yl,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Credit Note Type Selection:"),e.qZA(),e.TgZ(42,"div",16)(43,"input",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_CNMODE=t}),e.qZA(),e.TgZ(44,"label"),e._uU(45,"Both"),e.qZA()(),e.TgZ(46,"div",16)(47,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_CNMODE=t}),e.qZA(),e.TgZ(48,"label",19),e._uU(49,"Item Base Credit Note"),e.qZA()(),e.TgZ(50,"div",16)(51,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_CNMODE=t}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"A/C Base Credit Note"),e.qZA()()()(),e.TgZ(54,"div",21)(55,"fieldset")(56,"legend",10),e._uU(57,"Customer Selection :"),e.qZA(),e.TgZ(58,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"label",24),e._uU(65,"User Name :"),e.qZA()(),e.TgZ(66,"div",25)(67,"div",26)(68,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_USERNAME=t})("keydown.enter",function(t){return r.UserListEnter(t)})("keydown.Tab",function(t){return r.UserListEnter(t)})("keyup",function(t){return r.UserListEnter(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA(),e.TgZ(69,"input",28),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_ALLUSER=t}),e.qZA(),e.TgZ(70,"label",29),e._uU(71,"All User"),e.qZA()()()()(),e.YNc(72,jl,11,4,"fieldset",15),e.TgZ(73,"fieldset",30),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(74,"legend",10),e._uU(75,"Report Option :"),e.qZA(),e.TgZ(76,"div",31)(77,"div",32)(78,"input",33),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=t}),e.qZA(),e.TgZ(79,"label"),e._uU(80,"Voucher Wise"),e.qZA()(),e.TgZ(81,"div",32)(82,"input",34),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=t}),e.qZA(),e.TgZ(83,"label"),e._uU(84,"Day Wise"),e.qZA()(),e.TgZ(85,"div",32)(86,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=t}),e.qZA(),e.TgZ(87,"label"),e._uU(88,"Month Wise"),e.qZA()()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Report Type :"),e.qZA(),e.TgZ(92,"div",16)(93,"input",36),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT=t}),e.qZA(),e.TgZ(94,"label"),e._uU(95,"Summary Report"),e.qZA()(),e.TgZ(96,"div",16)(97,"input",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT=t}),e.qZA(),e.TgZ(98,"label"),e._uU(99,"Detail Report"),e.qZA()()(),e.YNc(100,kl,11,2,"fieldset",15),e.TgZ(101,"div",38)(102,"div",39)(103,"input",40),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=t})("change",function(t){return r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=t.target.checked?1:0}),e.qZA()(),e.TgZ(104,"div",41)(105,"label",42),e._uU(106,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(107,"div",43)(108,"button",44),e.NdJ("click",function(){return r.onload()}),e._uU(109,"RUN"),e.qZA(),e.TgZ(110,"button",45),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(111,"Close"),e.qZA()()()()()(),e.TgZ(112,"generic-popup-grid",46,47),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(114,"generic-popup-grid",46,48),e.NdJ("onItemDoubleClick",function(t){return r.onUserListSelected(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_USERNAME)("disabled",1==r._reportFilterService.CreditNoteObj.CreditNote_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_ALLUSER),e.xp6(3),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==r._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE)("checked",1==r._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const wl=["genericGridSupplierPopup"];function Wl(a,s){1&a&&(e.TgZ(0,"option",44),e._uU(1,"ALL"),e.qZA())}function Ll(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Zl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.DebitNoteObj.DebitNote_DIV=o)}),e.YNc(4,Wl,2,0,"option",42),e.YNc(5,Ll,2,2,"option",43),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.DebitNoteObj.DebitNote_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function xl(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function Ul(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.DebitNoteObj.DebitNote_CCENTER=o)}),e._UZ(4,"option",46),e.TgZ(5,"option",44),e._uU(6," ALL "),e.qZA(),e.YNc(7,xl,2,2,"option",43),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.DebitNoteObj.DebitNote_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function Vl(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function Bl(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function Yl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",47)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.DebitNoteObj.DebitNote_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,Vl,2,2,"option",43),e.qZA()(),e.TgZ(7,"div",34)(8,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES=o)}),e._UZ(9,"option",44),e.YNc(10,Bl,2,2,"option",43),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.DebitNoteObj.DebitNote_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}function Jl(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",16)(4,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.DebitNoteObj.DebitNote_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",16)(8,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.DebitNoteObj.DebitNote_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i._reportFilterService.DebitNoteObj.DebitNote_INAD),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.DebitNoteObj.DebitNote_INAD)}}function ql(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Report Filter Option :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",47)(5,"label",51),e._uU(6,"Invoice Type :"),e.qZA()(),e.TgZ(7,"div",34)(8,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE=o)}),e.TgZ(9,"option",52),e._uU(10,"All"),e.qZA(),e.TgZ(11,"option",53),e._uU(12,"Trading"),e.qZA(),e.TgZ(13,"option",54),e._uU(14,"Non-Trading"),e.qZA(),e.TgZ(15,"option",55),e._uU(16,"Mixed"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(8),e.Q6J("ngModel",i._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE)}}let Gl=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,DNMODE:0,CUSTOMERNAME:"",params:"%",SHOWREVERESEENTRYONLY:0,INVOICETYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.DebitNotebookReport={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new b.im,this.AppMode=j.N.appMode,this.userSetting=p.getSetting(),this.userprofile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),t.DebitNoteObj.DebitNote_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userprofile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Debit Note Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="2",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0"):"Debit Note Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0"):"Debit Note Book Report"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="1"),this._reportFilterService.DebitNoteObj.DebitNote_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.DebitNoteObj.DebitNote_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.DebitNoteObj.DebitNote_DNMODE=this._reportFilterService.drillParam.reportparam.DNMODE,this._reportFilterService.DebitNoteObj.DebitNote_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE2,"AD")):(1!=this._reportFilterService.DebitNoteObj.assignPreviousValue&&(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.currDate>this.userprofile.PhiscalYearInfo.EndDate?this.userprofile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this.currDate>this.userprofile.PhiscalYearInfo.EndDate?this.userprofile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.DebitNoteObj.DebitNote_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0",this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN=0,this._reportFilterService.DebitNoteObj.DebitNote_INAD="1",this._reportFilterService.DebitNoteObj.DebitNote_DNMODE="2",this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=0,this._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE=0),this.changeVariant(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT),this.changeEntryDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.DebitNoteObj.DebitNote_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.DebitNoteObj.DebitNote_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.DebitNoteObj.DebitNote_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.DebitNoteObj.DebitNote_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.DebitNoteObj.DebitNote_CCENTER||null==this._reportFilterService.DebitNoteObj.DebitNote_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.DebitNoteObj.DebitNote_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.DebitNoteObj.DebitNote_DATE2,this.repObj.reportparam.PHISCALID=this.userprofile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.DebitNoteObj.DebitNote_CCENTER?this._reportFilterService.DebitNoteObj.DebitNote_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.DebitNoteObj.DebitNote_DIV?this._reportFilterService.DebitNoteObj.DebitNote_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN?this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE?this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT?this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE?this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE:"%",this.repObj.reportparam.INAD=this._reportFilterService.DebitNoteObj.DebitNote_INAD?this._reportFilterService.DebitNoteObj.DebitNote_INAD:1,this.repObj.reportparam.DNMODE=this._reportFilterService.DebitNoteObj.DebitNote_DNMODE?this._reportFilterService.DebitNoteObj.DebitNote_DNMODE:2,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER?this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER:"",this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE?this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE:0,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE??0;let i={};this.variantmaster.length>0?(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT||(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.DebitNoteObj.DebitNote_VARIANT]=this._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES?this._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Debit Note Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Debit Note Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Debit Note Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Debit Note Book Report_3"),this.repObj.REPORTDISPLAYNAME="Debit Note Book Report",this._reportFilterService.DebitNoteObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getSuppliersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE=i.ACID,this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=i.ACNAME}getSuppliersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.DebitNoteObj.DebitNote_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onReportOptionChange(){3==this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["debit-notebook-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(wl,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","creditNoteOption","value","2",2,"font-size","11px",3,"ngModel","ngModelChange"],["type","radio","name","creditNoteOption","value","0",2,"font-size","11px",3,"ngModel","ngModelChange"],[2,"width","50%"],["type","radio","name","creditNoteOption","value","1",2,"font-size","11px",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Debit Note Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,Zl,6,3,"fieldset",15),e.YNc(38,Ul,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Debit Note Type Selection:"),e.qZA(),e.TgZ(42,"div",16)(43,"input",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_DNMODE=t}),e.qZA(),e.TgZ(44,"label"),e._uU(45,"Both"),e.qZA()(),e.TgZ(46,"div",16)(47,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_DNMODE=t}),e.qZA(),e.TgZ(48,"label",19),e._uU(49,"Item Base Debit Note"),e.qZA()(),e.TgZ(50,"div",16)(51,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_DNMODE=t}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"A/C Base Debit Note"),e.qZA()()()(),e.TgZ(54,"div",21)(55,"fieldset")(56,"legend",10),e._uU(57,"Supplier Selection :"),e.qZA(),e.TgZ(58,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.YNc(59,Yl,11,4,"fieldset",15),e.TgZ(60,"fieldset",23),e.NdJ("change",function(){return r.onReportOptionChange()}),e.TgZ(61,"legend",10),e._uU(62,"Report Option :"),e.qZA(),e.TgZ(63,"div",24)(64,"div",25)(65,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=t}),e.qZA(),e.TgZ(66,"label"),e._uU(67,"Voucher Wise"),e.qZA()(),e.TgZ(68,"div",25)(69,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=t}),e.qZA(),e.TgZ(70,"label"),e._uU(71,"Day Wise"),e.qZA()(),e.TgZ(72,"div",25)(73,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=t}),e.qZA(),e.TgZ(74,"label"),e._uU(75,"Month Wise"),e.qZA()()()(),e.TgZ(76,"fieldset")(77,"legend",10),e._uU(78,"Report Type :"),e.qZA(),e.TgZ(79,"div",16)(80,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT=t}),e.qZA(),e.TgZ(81,"label"),e._uU(82,"Summary Report"),e.qZA()(),e.TgZ(83,"div",16)(84,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT=t}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Detail Report"),e.qZA()()(),e.YNc(87,Jl,11,2,"fieldset",15),e.YNc(88,ql,17,1,"fieldset",15),e.TgZ(89,"div",31)(90,"div",32)(91,"input",33),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=t})("change",function(t){return r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=t.target.checked?1:0}),e.qZA()(),e.TgZ(92,"div",34)(93,"label",35),e._uU(94,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(95,"div",36)(96,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT)("disabled",1!=r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==r._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE)("checked",1==r._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Hl=["multiselectGenericGrid"],Ql=["reportPopup"],zl=["genericGridSupplierPopup"],Kl=["genericGridItemPopup"];function $l(a,s){1&a&&(e.TgZ(0,"option",51),e._uU(1,"ALL"),e.qZA())}function Xl(a,s){if(1&a&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function ep(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=o)}),e.YNc(4,$l,2,0,"option",49),e.YNc(5,Xl,2,2,"option",50),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function tp(a,s){if(1&a&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function rp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER=o)}),e._UZ(4,"option",53),e.TgZ(5,"option",51),e._uU(6," ALL "),e.qZA(),e.YNc(7,tp,2,2,"option",50),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function ip(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",18)(2,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=o)})("change",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.checkValue(4))}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",21),e._uU(5,"Day Wise Report"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT)}}function op(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset",55)(1,"div",56)(2,"div",1)(3,"div",57)(4,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",20)(6,"label",21),e._uU(7,"Show Item Group Only"),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",57)(10,"input",59),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",20)(12,"label",21),e._uU(13,"Show Item Within Groups"),e.qZA()()(),e.TgZ(14,"div",1)(15,"div",57)(16,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(17,"div",20)(18,"label",21),e._uU(19,"Show All Item Group Hierarchy"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE)}}function np(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",61)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT)("checked",1==i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT)}}function ap(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",65)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=o.target.checked?1:0)})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onChangeEvent(o))}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Item Details Also"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO)("checked",1==i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO)}}function sp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",29)(2,"label",30),e._uU(3,"Purchase Type :"),e.qZA()(),e.TgZ(4,"div",34)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP=o)}),e.TgZ(6,"option",66),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",67),e._uU(9,"IMPORT PURCHASE"),e.qZA(),e.TgZ(10,"option",68),e._uU(11,"LOCAL PURCHASE"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP)}}function lp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",29)(2,"label",30),e._uU(3,"Invoice Type :"),e.qZA()(),e.TgZ(4,"div",34)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE=o)}),e.TgZ(6,"option",68),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",67),e._uU(9,"TRADING"),e.qZA(),e.TgZ(10,"option",69),e._uU(11,"NON-TRADING"),e.qZA(),e.TgZ(12,"option",70),e._uU(13,"MIXED"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE)}}function pp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"input",71),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.selectMultiItems=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",72),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectMultiItems)("checked",1==i.selectMultiItems)}}function cp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",73)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE)("checked",1==i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE)}}function _p(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",89)(1,"ng-multiselect-dropdown",90),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function dp(a,s){if(1&a&&(e.TgZ(0,"div",85)(1,"div",86)(2,"label",87),e._uU(3),e.qZA()(),e.YNc(4,_p,2,4,"div",88),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function hp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",74)(2,"div",75)(3,"div",76)(4,"h5",77),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",78),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",79),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",80)(10,"div",81),e.YNc(11,dp,5,2,"div",82),e.qZA()(),e.TgZ(12,"div",83)(13,"button",84),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",84),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let gp=(()=>{class a{constructor(i,r,o,t,n,l,_,p,d){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.brandService=d,this.categorywiseConfigurationdetails=[],this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",SUPPLIERNAME:"",MENUCODE:"",params:"%",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",VATMODE:"",MANUFACTURER:"%",PURCHASETYPE:"",ITEMGROUP:"",SHOWBATCHWISESTOCK:0,INVOICETYPE:0,DEPARTMENT:"",MOTHERITEM:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.PurchaseReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.resultList=[],this.showVariantPopup=!1,this.multiselectPopupSettings=new F.oe,this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(u=>{this.costCenterList=u&&u||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(u=>{this.divisionList=u}),this.masterService.getMCatList().subscribe(u=>{this.MCatList=u}),this.masterService.getPTypeList().subscribe(u=>{u&&(this.PTypeList=u)}),this.masterService.getItemGroup().subscribe(u=>{u&&(this.ItemGroupList=u)}),this.masterService.getProductGroupList().subscribe(u=>{u&&(this.ProductGroupList=u)}),this.masterService.getManufacturerList().subscribe(u=>{u&&(this.ManufacturerList=u)}),this.masterService.getDepartmentList().subscribe(u=>{this.masterService.departmentList=u}),this.masterService.getMotherItemList().subscribe(u=>{this.masterService.motherItemList=u.result}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(u=>{u.result&&u.result.length&&(this.categorywiseConfigurationdetails=u.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let N=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof N&&N&&N.length?N:[]}}))},u=>{}),console.log("this.categorywiseConfigurationdetails",this.categorywiseConfigurationdetails);var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Report Item Wise_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="2"):"Purchase Report Item Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="3"),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,"AD")):(1!=this._reportFilterService.PurchaseItemWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE="100",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP="100",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=0,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE=0),this.changeVariant(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,"AD"))})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(i=>{this.resss=i[0],this.resultList=this.resss[0]})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeMultiSelect(i){console.log("events",i),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE="",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM="",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE="",this.selectMultiItems=1==i.target.checked?1:0}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER||null==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME="";if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME="";if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE&&"100"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME="";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE&&"100"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME="";this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?"All":this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWGROUPING?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME:"",this.repObj.reportparam.VATMODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MANUFACTURER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MANUFACTURER:"%",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE??0,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE??0,this.repObj.reportparam.DEPARTMENT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT:"%",this.repObj.reportparam.MOTHERITEM=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM:"%",this.repObj.reportparam.params=1==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=4),0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Purchase Report Item Wise_4"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_VARIANT":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_1_VARIANT":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_2_VARIANT":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_3_VARIANT":4==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Purchase Report Item Wise_4_VARIANT")),this.repObj.REPORTDISPLAYNAME="Purchase Report Item Wise",this._reportFilterService.PurchaseItemWiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE=i.ACID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(i){console.log("on multii item select",i),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=i.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=i.DESCA}dblClickPopupItem(i){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=i.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=i.DESCA,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(i){console.log("value check value",i),0==i&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="0"),1==i&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=0),4==i&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="4")}onChangeEvent(i){console.log("k ho esto",i),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=1==i?"2":"1"}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}reportTree(){this.reportPopup.show()}selectedValue(i){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=i.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP=i.DESCA}filterForDepartment(i){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWise_DEPARTMENT=i.DepartmentName}filterForMotherItem(i){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM=i.ID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME=i.MOTHERITEMNAME}treeNodeSelected(i){this.reportPopup.hide(),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=i.id,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP=i.name}showVariantFilter(i){1==i.target.checked?(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1)}onMultiSelect(i){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e),e.Y36($.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchasereport-itemwise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Hl,5),e.Gf(Ql,5),e.Gf(zl,5),e.Gf(Kl,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:111,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-5"],[2,"margin-top","2%","margin-bottom","2%","margin-left","-15%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["class","row",4,"ngIf"],[1,"col-md-7"],["style","width: 115%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[2,"margin-left","-10%","width","100%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"treeNodeValue"],["reportPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],[2,"width","115%"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","3",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox"],["value","100"],["value","1"],["value","0"],["value","2"],["value","3"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"row","checkbox",2,"margin-top","5px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,ep,6,3,"fieldset",15),e.YNc(38,rp,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div",11)(43,"div",16)(44,"div",17)(45,"div",1)(46,"div",18)(47,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(48,"div",20)(49,"label",21),e._uU(50,"Item Wise Report"),e.qZA()()(),e.TgZ(51,"div",1)(52,"div",18)(53,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(54,"div",20)(55,"label",21),e._uU(56,"Mother Item Wise Report"),e.qZA()()(),e.YNc(57,ip,6,1,"div",23),e.qZA()(),e.TgZ(58,"div",24),e.YNc(59,op,20,3,"fieldset",25),e.qZA()()(),e.YNc(60,np,6,2,"div",26),e.YNc(61,ap,6,2,"div",27),e.qZA(),e.TgZ(62,"div",28)(63,"fieldset")(64,"legend"),e._uU(65,"Report Filter Option :"),e.qZA(),e.TgZ(66,"div",1)(67,"div",29)(68,"label",30),e._uU(69,"Department :"),e.qZA()(),e.TgZ(70,"div",31)(71,"app-simple-suggest",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT=t})("selectOption",function(t){return r.filterForDepartment(t)}),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",29)(74,"label",30),e._uU(75,"Main Item :"),e.qZA()(),e.TgZ(76,"div",31)(77,"app-simple-suggest",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME=t})("selectOption",function(t){return r.filterForMotherItem(t)}),e.qZA()()(),e.YNc(78,sp,12,1,"div",23),e.YNc(79,lp,14,1,"div",23),e.TgZ(80,"div",1)(81,"div",29)(82,"label",33),e._uU(83,"Supplier Name :"),e.qZA()(),e.TgZ(84,"div",34)(85,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(86,"fieldset")(87,"legend",10),e._uU(88,"Item Selection :"),e.qZA(),e.TgZ(89,"div",1)(90,"div",29)(91,"label",30),e._uU(92,"Item Name :"),e.qZA()(),e.TgZ(93,"div",34)(94,"input",36),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.YNc(95,pp,5,2,"div",23),e.qZA(),e.YNc(96,cp,6,2,"div",37),e.qZA()()(),e.TgZ(97,"div",38)(98,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(99,"RUN"),e.qZA(),e.TgZ(100,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(101,"Close"),e.qZA()()()()()(),e.TgZ(102,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(104,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(106,"multiselect-generic-grid",44,45),e.NdJ("onItemsSelected",function(t){return r.onMultiItemSelected(t)}),e.qZA(),e.TgZ(108,"app-report-popup",46,47),e.NdJ("treeNodeValue",function(t){return r.treeNodeSelected(t)}),e.qZA(),e.YNc(110,hp,17,1,"div",15)),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(10),e.Q6J("options",r.masterService.departmentList)("labelKey","DepartmentName")("valueKey","DepartmentName")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT),e.xp6(6),e.Q6J("options",r.masterService.motherItemList)("labelKey","MOTHERITEMNAME")("valueKey","MOTHERITEMNAME")("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(4),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,F.ky,te,K.c,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const up=["genericGridItemPopup"],mp=["genericGridUserListPopup"];function Sp(a,s){1&a&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function Op(a,s){if(1&a&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function bp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=o)}),e.YNc(4,Sp,2,0,"option",53),e.YNc(5,Op,2,2,"option",30),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function Tp(a,s){if(1&a&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function vp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER=o)}),e._UZ(4,"option",55),e.TgZ(5,"option",29),e._uU(6," ALL "),e.qZA(),e.YNc(7,Tp,2,2,"option",30),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function fp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",23),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT)("checked",1==i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT)}}function Cp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",56)(1,"div",18)(2,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",23),e._uU(5,"Show User Wise Format"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER)("checked",1==i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER)}}function Ap(a,s){if(1&a&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Pp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",25)(2,"label",26),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",20)(5,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE=o)}),e.TgZ(6,"option",57),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",58),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",59),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE)}}function Mp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",75)(1,"ng-multiselect-dropdown",76),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function Rp(a,s){if(1&a&&(e.TgZ(0,"div",71)(1,"div",72)(2,"label",73),e._uU(3),e.qZA()(),e.YNc(4,Mp,2,4,"div",74),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function Ep(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",60)(2,"div",61)(3,"div",62)(4,"h5",63),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",64),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",65),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",66)(10,"div",67),e.YNc(11,Rp,5,2,"div",68),e.qZA()(),e.TgZ(12,"div",69)(13,"button",70),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",70),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let Ip=(()=>{class a{constructor(i,r,o,t,n,l,_,p,d){this.masterService=i,this._transactionService=r,this.fb=o,this._alertService=t,this._reportFilterService=n,this.arouter=l,this._ActivatedRoute=_,this._authService=p,this._alertservice=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORT_TYPE:0,VCHR:"",BARCODE:"",SHOWDETAIL:0,MCODE:"",ITEMGROUPWISE:0,ITEMGROUP:"",ITEMNAME:"",MENUCODE:"",params:"%",DIVISIONNAME:"",ITEMGROUPNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SEGREGATEBYITEM:0,ShowDetail:0,SALESTYPE:"",VCHR1:0,VCHR2:0,TRNUSER:"",SHOWUSERWISE:0,SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForUserList=new b.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(u=>{this.costCenterList=u&&u||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(u=>{this.divisionList=u}),this.masterService.getItemGroup().subscribe(u=>{u&&(this.ItemGroupList=u)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(u=>{u.result&&u.result.length&&(this.categorywiseConfigurationdetails=u.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let N=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof N&&N&&N.length?N:[]}}))},u=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.AppMode=j.N.appMode}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?"Sales Report Item Wise Detail"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETAIL,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE="0",this.changeEntryDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,"AD")):(1!=this._reportFilterService.SalesItemWiseDetailObj.assignPreviousValue&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=0,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE="0",this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=0,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE="0"),this.changeVariant(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_VARIANT),this.changeEntryDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER||null==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV&&"%"==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME="All";else if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV&&"%"!=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME="";if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP&&"%"==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP&&"%"!=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME="";if(this.repObj.reportparam.DATE1=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL??0,this.repObj.reportparam.ShowDetail=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL??0,this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPWISE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME:"",this.repObj.reportparam.SEGREGATEBYITEM=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION??0,this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME:"%",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING??0,this.repObj.reportparam.SHOWUSERWISE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER??0,this._reportFilterService.SalesItemWiseDetailObj.VCHR1>this._reportFilterService.SalesItemWiseDetailObj.VCHR2)return void this._alertService.warning("Range selection of From must be less the To");this.repObj.reportparam.VCHR1=this._reportFilterService.SalesItemWiseDetailObj.VCHR1,this.repObj.reportparam.VCHR2=this._reportFilterService.SalesItemWiseDetailObj.VCHR2,this.repObj.reportparam.params=1==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORT_TYPE?"@Bill Wise Report":1==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Report":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_1":1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_2":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM&&(this.repObj.reportname="Sales Report Item Wise Detail_3"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_VARIANT":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_1_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_2_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM&&(this.repObj.reportname="Sales Report Item Wise Detail_3_VARIANT")),this.repObj.REPORTDISPLAYNAME="Sales Report Item Wise Detail",this._reportFilterService.SalesItemWiseDetailObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE=i.MCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=i.DESCA,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(i){}voucherRange(){this._reportFilterService.SalesItemWiseDetailObj.VCHR1>this._reportFilterService.SalesItemWiseDetailObj.VCHR2&&this._alertService.warning("Range selection of From must be less the To")}UserListEnter(i){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(i){this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME=i.UNAME}Change(){1==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME="")}checkValue(i){(0==i||1==i)&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=0)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-report-itemwise-detail"]],viewQuery:function(i,r){if(1&i&&(e.Gf(up,5),e.Gf(mp,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:124,vars:36,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],["class","row checkbox",4,"ngIf"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex","margin-left","19%"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","change"],[1,"row","mt-2"],[2,"display","flex"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridUserListPopup",""],["value","%",4,"ngIf"],[3,"value"],["value",""],[1,"row","checkbox"],["value","0"],["value","1"],["value","2"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Item Wise Detail"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,bp,6,3,"fieldset",15),e.YNc(38,vp,8,2,"fieldset",15),e.YNc(39,fp,6,2,"div",16),e.TgZ(40,"div",17)(41,"div",18)(42,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=t})("change",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=t.target.checked?1:0}),e.qZA()(),e.TgZ(43,"div",20)(44,"label",21),e._uU(45,"Show Item Detail In Report"),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",18)(48,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=t})("change",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=t.target.checked?1:0}),e.qZA()(),e.TgZ(49,"div",20)(50,"label",21),e._uU(51,"Show Report Without Item Wise Segregation"),e.qZA()()(),e.YNc(52,Cp,6,2,"div",22),e.TgZ(53,"div",17)(54,"div",18)(55,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING=t})("change",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING=t.target.checked?1:0}),e.qZA()(),e.TgZ(56,"div",20)(57,"label",23),e._uU(58,"Show Item Grouping Hierarchy"),e.qZA()()()(),e.TgZ(59,"div",24)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Filter Option :"),e.qZA(),e.TgZ(63,"div",1)(64,"div",25)(65,"label",26),e._uU(66,"Item Name :"),e.qZA()(),e.TgZ(67,"div",20)(68,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",25)(71,"label",26),e._uU(72,"Item Group :"),e.qZA()(),e.TgZ(73,"div",20)(74,"select",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP=t}),e._UZ(75,"option",29),e.YNc(76,Ap,2,2,"option",30),e.qZA()()(),e.YNc(77,Pp,12,1,"div",31),e.TgZ(78,"div",1)(79,"div",32)(80,"label",33),e._uU(81,"User Name :"),e.qZA()(),e.TgZ(82,"div",34)(83,"div",35)(84,"input",36),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME=t})("keydown.enter",function(t){return r.UserListEnter(t)})("keydown.Tab",function(t){return r.UserListEnter(t)})("keyup",function(t){return r.UserListEnter(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA(),e.TgZ(85,"input",37),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER=t}),e.qZA(),e.TgZ(86,"label",38),e._uU(87,"All User"),e.qZA()()()()(),e.TgZ(88,"fieldset")(89,"legend",10),e._uU(90,"Report Option :"),e.qZA(),e.TgZ(91,"div",39)(92,"div",40)(93,"input",41),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE=t})("change",function(){return r.checkValue(0)}),e.qZA(),e.TgZ(94,"label"),e._uU(95,"Bill Wise Report"),e.qZA()(),e.TgZ(96,"div",40)(97,"input",42),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE=t})("change",function(){return r.checkValue(1)}),e.qZA(),e.TgZ(98,"label"),e._uU(99,"Day Wise Report"),e.qZA()()()(),e.TgZ(100,"fieldset")(101,"legend",10),e._uU(102,"Voucher Range Selection:"),e.qZA(),e.TgZ(103,"div",43)(104,"div",40)(105,"div",44)(106,"label"),e._uU(107," From: "),e.qZA(),e.TgZ(108,"input",45),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.VCHR1=t}),e.qZA()()(),e.TgZ(109,"div",40)(110,"div",44)(111,"label"),e._uU(112," To: "),e.qZA(),e.TgZ(113,"input",46),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesItemWiseDetailObj.VCHR2=t})("change",function(){return r.voucherRange()}),e.qZA()()()()()()()(),e.TgZ(114,"div",47)(115,"button",48),e.NdJ("click",function(){return r.onload()}),e._uU(116,"RUN"),e.qZA(),e.TgZ(117,"button",49),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(118,"Close"),e.qZA()()()()()(),e.TgZ(119,"generic-popup-grid",50,51),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(121,"generic-popup-grid",50,52),e.NdJ("onItemDoubleClick",function(t){return r.onUserListSelected(t)}),e.qZA(),e.YNc(123,Ep,17,1,"div",15)),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION),e.xp6(4),e.Q6J("ngIf",0==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME)("disabled",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.VCHR1),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.VCHR2),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const yp=["genericGridSupplierPopup"],Dp=["genericMultiSelectItems"];function Np(a,s){1&a&&(e.TgZ(0,"option",22),e._uU(1,"ALL"),e.qZA())}function jp(a,s){if(1&a&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function kp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=o)}),e.YNc(4,Np,2,0,"option",38),e.YNc(5,jp,2,2,"option",23),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function Fp(a,s){if(1&a&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function wp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER=o)}),e._UZ(4,"option",40),e.TgZ(5,"option",22),e._uU(6," ALL "),e.qZA(),e.YNc(7,Fp,2,2,"option",23),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function Wp(a,s){if(1&a&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Lp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",17)(2,"label",18),e._uU(3,"Purchase Type :"),e.qZA()(),e.TgZ(4,"div",19)(5,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE=o)}),e.TgZ(6,"option",41),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",42),e._uU(9,"IMPORT PURCHASE"),e.qZA(),e.TgZ(10,"option",43),e._uU(11,"LOCAL PURCHASE"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE)}}function Zp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",19)(4,"label",47),e._uU(5,"Show Item Detail In Report"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL)("checked",1==i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL)}}function xp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",19)(4,"label",47),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT)("checked",1==i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT)}}function Up(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",63)(1,"ng-multiselect-dropdown",64),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function Vp(a,s){if(1&a&&(e.TgZ(0,"div",59)(1,"div",60)(2,"label",61),e._uU(3),e.qZA()(),e.YNc(4,Up,2,4,"div",62),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function Bp(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",48)(2,"div",49)(3,"div",50)(4,"h5",51),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",52),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",53),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",54)(10,"div",55),e.YNc(11,Vp,5,2,"div",56),e.qZA()(),e.TgZ(12,"div",57)(13,"button",58),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",58),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let Yp=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._alertService=t,this._reportFilterService=n,this.arouter=l,this._ActivatedRoute=_,this._authService=p,this.categorywiseConfigurationdetails=[],this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{SUPPLIERDISPLAYNAME:"",CUSTOMERNAME:"",ACID:"",DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORT_TYPE:0,VCHR:"",BARCODE:"",SHOWDETAIL:0,MCODE:"",ITEMGROUPWISE:0,ITEMGROUP:"",ITEMNAME:"",MENUCODE:"",params:"%",DIVISIONNAME:"",ITEMGROUPNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",PURCHASETYPE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.showVariantPopup=!1,this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForMultipleItems=new F.oe,this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),n.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList(),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{})}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?"Purchase Report Item Wise Detail"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETAIL,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE="0",this.changeEntryDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,"AD")):(1!=this._reportFilterService.PurchaseItemWiseDetailObj.assignPreviousValue&&(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=0,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE="0",this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE="100"),this.changeVariant(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER||null==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(""==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||void 0===this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||null==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||null===this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM)return void this._alertService.info("Please Select Item");if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV&&"%"==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV&&"%"!=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME="";if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP&&"%"==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP&&"%"!=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL:0,this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPWISE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE:"",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE||"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER||"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER||"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.params=1==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORT_TYPE?"@Bill Wise Report":1==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Report":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_1":1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Report Item Wise Detail_2"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_VARIANT":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_1_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Report Item Wise Detail_2_VARIANT")),this.repObj.REPORTDISPLAYNAME="Purchase Report Item Wise Detail",this._reportFilterService.PurchaseItemWiseDetailObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemsEnterCommand(){this.getMultiItemsList(),this.genericMultiSelectItems.show()}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(i){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE=i.ACID,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=i.ACNAME}onMultiItemsSelected(i){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE=i.MCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=i.DESCA}getMultiItemsList(){this.gridPopupSettingsForMultipleItems=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){1==i.target.checked?(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1)}onMultiSelect(i){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-report-itemwise-detail"]],viewQuery:function(i,r){if(1&i&&(e.Gf(yp,5),e.Gf(Dp,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericMultiSelectItems=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:86,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter to select Items",1,"form-control","input-text",2,"background","white",3,"ngModel","readonly","ngModelChange","keydown.enter"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["type","text","placeholder","Press Enter for Account List",1,"form-control","input-text",2,"background","white",3,"readonly","ngModel","ngModelChange","keydown.enter"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"popupsettings","onItemsSelected"],["genericMultiSelectItems",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["value","100"],["value","1"],["value","0"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Item Wise Detail"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,kp,6,3,"fieldset",15),e.YNc(38,wp,8,2,"fieldset",15),e.qZA(),e.TgZ(39,"div",16)(40,"fieldset")(41,"legend",10),e._uU(42,"Item Selection :"),e.qZA(),e.TgZ(43,"div",1)(44,"div",17)(45,"label",18),e._uU(46,"Item Name :"),e.qZA()(),e.TgZ(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=t})("keydown.enter",function(){return r.ItemsEnterCommand()}),e.qZA()()(),e.TgZ(49,"div",1)(50,"div",17)(51,"label",18),e._uU(52,"Item Group :"),e.qZA()(),e.TgZ(53,"div",19)(54,"select",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP=t}),e._UZ(55,"option",22),e.YNc(56,Wp,2,2,"option",23),e.qZA()()(),e.YNc(57,Lp,12,1,"div",24),e.qZA(),e.TgZ(58,"fieldset")(59,"legend",10),e._uU(60,"Supplier Selection :"),e.qZA(),e.TgZ(61,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)}),e.qZA()(),e.TgZ(62,"fieldset")(63,"legend",10),e._uU(64,"Report Option :"),e.qZA(),e.TgZ(65,"div",26)(66,"div",27)(67,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE=t}),e.qZA(),e.TgZ(68,"label"),e._uU(69,"Bill Wise Report"),e.qZA()(),e.TgZ(70,"div",27)(71,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE=t}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Day Wise Report"),e.qZA()()()(),e.YNc(74,Zp,6,2,"div",30),e.YNc(75,xp,6,2,"div",30),e.qZA()()(),e.TgZ(76,"div",31)(77,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(83,"multiselect-generic-grid",36,37),e.NdJ("onItemsSelected",function(t){return r.onMultiItemsSelected(t)}),e.qZA(),e.YNc(85,Bp,17,1,"div",15)),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM)("readonly",!0),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("readonly",!0)("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForMultipleItems),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,F.ky,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Jp=["genericGridItemPopup"],qp=["genericGridSupplierPopup"];function Gp(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Hp(a,s){if(1&a&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Qp(a,s){if(1&a&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function zp(a,s){if(1&a&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function Kp(a,s){if(1&a&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function $p(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",25)(5,"select",45),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,zp,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",27)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Kp,2,2,"option",17),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}let Xp=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,VCHR:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,ACID:"",SHOWBILLDETAIL:0,SUPPLIERNAME:"",ITEMNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForSupplier=new b.im,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),t.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Report Supplier Wise_1"==this._reportFilterService.drillParam.reportname?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="1":"Purchase Report Supplier Wise_2"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="2"),this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE):(1!=this._reportFilterService.PurchaseSupplierWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="0",this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=0,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL=0),this.changeVariant(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER||null==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT:0,this.repObj.reportparam.SHOWBILLDETAIL=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM:"";let i={};this.variantmaster.length>0?(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT||(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT]=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),(1==this.repObj.reportparam.SHOWDETAIL||2==this.repObj.reportparam.SHOWDETAIL)&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0),this.repObj.reportparam.SHOWBILLDETAIL=2==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL?1:0,0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Supplier Wise":1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Supplier Wise_1":2==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Supplier Wise_2"),this.repObj.REPORTDISPLAYNAME="Purchase Report Supplier Wise",this._reportFilterService.PurchaseSupplierWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE=i.MCODE,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=i.DESCA}dblClickPopupParty(i){this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID=i.ACID,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=i.ACNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-report-supplier-wise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Jp,5),e.Gf(qp,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:104,vars:30,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","3%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","col-md-8"],[1,"col-md-2"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"width","85%"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Supplier Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=t}),e.YNc(41,Gp,2,0,"option",16),e.YNc(42,Hp,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Qp,2,2,"option",17),e.qZA()(),e.TgZ(51,"div",1)(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=t})("change",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=t.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"fieldset")(58,"legend",10),e._uU(59,"Supplier Selection :"),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Item Selection :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"label",26),e._uU(67,"Item Name :"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(70,"div",1),e._UZ(71,"div",25),e.TgZ(72,"div",29),e._UZ(73,"div",30),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Transaction >= Amount :"),e.qZA()(),e.TgZ(77,"div",5)(78,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT=t}),e.qZA()()()()(),e.YNc(79,$p,11,4,"fieldset",32),e.TgZ(80,"fieldset")(81,"legend",10),e._uU(82,"Report Type :"),e.qZA(),e.TgZ(83,"div",33)(84,"input",34),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Summary Report"),e.qZA()(),e.TgZ(87,"div",33)(88,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(89,"label",36),e._uU(90,"Detail Report - By Item"),e.qZA()(),e.TgZ(91,"div",33)(92,"input",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(93,"label",36),e._uU(94,"Detail Report - By Purchase Bill"),e.qZA()()()()()(),e.TgZ(95,"div",38)(96,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(102,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT)("checked",1==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT)("disabled",1==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL||2==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL||2==r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const ec=["genericGridItemPopup"],tc=["genericGridCustomerPopup"];function rc(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function ic(a,s){if(1&a&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function oc(a,s){if(1&a&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function nc(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",23)(1,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=o.target.checked?1:0)}),e.qZA(),e.TgZ(2,"label",22),e._uU(3,"List Customer Name By Customer Type"),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE)("checked",1==i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE)("disabled",0!=i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL)}}function ac(a,s){if(1&a&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.OrgTypeCode),e.xp6(1),e.hij(" ",i.OrgTypeName,"")}}function sc(a,s){if(1&a&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.AREA_ID),e.xp6(1),e.hij(" ",i.AREA_NAME," ")}}function lc(a,s){if(1&a&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.ACID),e.xp6(1),e.hij(" ",i.PARTYTYPE,"")}}function pc(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",32)(2,"label",34),e._uU(3,"Customer Type :"),e.qZA()(),e.TgZ(4,"div",28)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE=o)}),e._UZ(6,"option",19),e.YNc(7,lc,2,2,"option",17),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE),e.xp6(2),e.Q6J("ngForOf",i.CustomerTypeList)}}function cc(a,s){if(1&a&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function _c(a,s){if(1&a&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function dc(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",32)(5,"select",57),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,cc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",28)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,_c,2,2,"option",17),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}let hc=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,CUSTID:"",CTYPE:"",VCHR:"",AREAID:"",TRNMODE:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,SHOWBILLDETAIL:0,SHOWAREAWISE:0,ITEMNAME:"",CUSTOMERNAME:"",params:"%",PARTYTYPE:"%",SHOWCTYPEWISE:0,ACID:"%",WITHOUTCUSTOMERWISESEGRATION:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.areaLists=[],this.GeoList=[],this.variantmaster=[],this.variantvaluesList=[],this.CustomerTypeList=[],this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForCustomer=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getAreaGroup().subscribe(h=>{this.areaLists="ok"==h.status&&h.result?h.result:[]}),this.masterService.getGeoList().subscribe(h=>{"ok"==h.status&&(this.GeoList=h.result)}),this.masterService.getCustomerType().subscribe(h=>{h&&(this.CustomerTypeList=h)}),t.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Customer Wise_2"==this._reportFilterService.drillParam.reportname?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="1":"Sales Report Customer Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="2"),this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE=this._reportFilterService.drillParam.reportparam.CTYPE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=this._reportFilterService.drillParam.reportparam.SHOWAREAWISE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE=this._reportFilterService.drillParam.reportparam.TRNMODE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID=this._reportFilterService.drillParam.reportparam.AREAID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID=this._reportFilterService.drillParam.reportparam.CUSTID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this.changeEntryDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,"AD")):(1!=this._reportFilterService.SalesCustomerWiseObj.assignPreviousValue&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="0",this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=0),this.changeVariant(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER||null==this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL:0,this.repObj.reportparam.ACID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID:"%",this.repObj.reportparam.CTYPE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE:"%",this.repObj.reportparam.AREAID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID:0,this.repObj.reportparam.TRNMODE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT:0,this.repObj.reportparam.SHOWBILLDETAIL=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL:0,this.repObj.reportparam.SHOWAREAWISE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER:"",this.repObj.reportparam.PARTYTYPE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE:"%",0!=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=0),this.repObj.reportparam.SHOWCTYPEWISE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE:0,this.repObj.reportparam.WITHOUTCUSTOMERWISESEGRATION=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION:0;let i={};this.variantmaster.length>0?(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT||(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT]=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",(1==this.repObj.reportparam.SHOWDETAIL||2==this.repObj.reportparam.SHOWDETAIL)&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0,this.repObj.reportparam.SHOWAREAWISE=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.CUSTID="%"),0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWAREAWISE?this.repObj.reportname="Sales Report Customer Wise":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWAREAWISE?this.repObj.reportname="Sales Report Customer Wise_1":1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Customer Wise_2":2==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Customer Wise_3":3==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Customer Wise_4"),this.repObj.REPORTDISPLAYNAME="Sales Report Customer Wise",this._reportFilterService.SalesCustomerWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE=i.MCODE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=i.DESCA}dblClickPopupParty(i){this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=i.ACID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID=i.CUSTID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=i.CUSTNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=i.ACID}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onChangeValue(){0!=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=0)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-report-customer-wise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(ec,5),e.Gf(tc,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:143,vars:44,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","-9%","margin-left","5%","font-weight","bold","width","110%"],[1,"col",2,"padding-left","5px","margin-top","-5%"],[2,"font-size","11px","margin-left","5%","font-weight","bold","width","110%","margin-top","-9%"],["class","col","style","padding-left:5px;margin-top: -5%;",4,"ngIf"],[1,"row","checkbox",2,"padding-left","5px"],[1,"col-sm-1",2,"margin-left","-3%"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%","width","100% !important"],[2,"margin-left","-10%"],["value","0"],[1,"row","col-md-8"],[1,"form-control",2,"width","140%","margin-left","-9%","margin-top","8%","height","30px",3,"ngModel","ngModelChange"],["value","CREDIT"],["value","NONCREDIT"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change","click"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change","click"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridCustomerPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report- Customer Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=t}),e.YNc(41,rc,2,0,"option",16),e.YNc(42,ic,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49,"ALL "),e.qZA(),e.YNc(50,oc,2,2,"option",17),e.qZA()(),e.TgZ(51,"div")(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=t})("change",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=t.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"List Customer Name By Area"),e.qZA()(),e.TgZ(56,"div",23)(57,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=t})("change",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=t.target.checked?1:0}),e.qZA(),e.TgZ(58,"label",24),e._uU(59,"Sort in Top N Basis"),e.qZA()(),e.YNc(60,nc,4,3,"div",25),e.TgZ(61,"div",26)(62,"div",27)(63,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=t})("change",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=t.target.checked?1:0}),e.qZA()(),e.TgZ(64,"div",28)(65,"label",29),e._uU(66,"Show Report Without Customer Wise Record Segregation"),e.qZA()()()()(),e.TgZ(67,"div",30)(68,"fieldset")(69,"legend",10),e._uU(70,"Customer Selection :"),e.qZA(),e.TgZ(71,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(72,"fieldset")(73,"div",1)(74,"div",32)(75,"label",33),e._uU(76,"Customer Category :"),e.qZA()(),e.TgZ(77,"div",28)(78,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE=t}),e._UZ(79,"option",19),e.YNc(80,ac,2,2,"option",17),e.qZA()()(),e.TgZ(81,"div",1)(82,"div",32)(83,"label",34),e._uU(84,"Area :"),e.qZA()(),e.TgZ(85,"div",28)(86,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID=t}),e._UZ(87,"option",35),e.YNc(88,sc,2,2,"option",17),e.qZA()()(),e.TgZ(89,"div",1)(90,"div",32)(91,"label",33),e._uU(92,"Transaction Mode :"),e.qZA()(),e.TgZ(93,"div",36)(94,"div",32)(95,"select",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE=t}),e._UZ(96,"option",19),e.TgZ(97,"option",38),e._uU(98,"Credit"),e.qZA(),e.TgZ(99,"option",39),e._uU(100,"Non Credit"),e.qZA()()(),e.TgZ(101,"div",32)(102,"label",34),e._uU(103,"Transaction >= Amount :"),e.qZA()(),e.TgZ(104,"div",32)(105,"input",40),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=t}),e.qZA()()()(),e.TgZ(106,"div",1)(107,"div",32)(108,"label",34),e._uU(109,"Item Name :"),e.qZA()(),e.TgZ(110,"div",28)(111,"input",41),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.YNc(112,pc,8,2,"div",42),e.qZA(),e.YNc(113,dc,11,4,"fieldset",43),e.TgZ(114,"fieldset")(115,"legend",10),e._uU(116,"Report Type :"),e.qZA(),e.TgZ(117,"div")(118,"div",44)(119,"input",45),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=t})("change",function(){return r.onChangeValue()}),e.qZA(),e.TgZ(120,"label",46),e._uU(121,"Summary Report - By Customer"),e.qZA()(),e.TgZ(122,"div",44)(123,"input",47),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=t})("change",function(){return r.onChangeValue()}),e.qZA(),e.TgZ(124,"label",46),e._uU(125,"Summary Report - Day Wise"),e.qZA()(),e.TgZ(126,"div",44)(127,"input",48),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=t})("change",function(){return r.onChangeValue()})("click",function(){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=null}),e.qZA(),e.TgZ(128,"label",46),e._uU(129,"Detail Report - By Item"),e.qZA()(),e.TgZ(130,"div",44)(131,"input",49),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=t})("change",function(){return r.onChangeValue()})("click",function(){return r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=null}),e.qZA(),e.TgZ(132,"label",46),e._uU(133,"Detail Report - By Sales Bill"),e.qZA()()()()()()(),e.TgZ(134,"div",50)(135,"button",51),e.NdJ("click",function(){return r.onload()}),e._uU(136,"RUN"),e.qZA(),e.TgZ(137,"button",52),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(138,"Close"),e.qZA()()()()()(),e.TgZ(139,"generic-popup-grid",53,54),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(141,"generic-popup-grid",53,55),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE)("disabled",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT)("disabled",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(3),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION)("disabled",0==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||3==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE),e.xp6(2),e.Q6J("ngForOf",r.GeoList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID),e.xp6(2),e.Q6J("ngForOf",r.areaLists),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const gc=["genericGridItemPopup"],uc=["genericGridSupplierPopup"];function mc(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Sc(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Oc(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function bc(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function Tc(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function vc(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",25)(5,"select",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,bc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",27)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Tc,2,2,"option",17),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}let fc=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._alertService=l,this._ActivatedRoute=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,VCHR:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,ACID:"",SHOWBILLDETAIL:0,SUPPLIERNAME:"",ITEMNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForSupplier=new b.im,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),t.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Supplier Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,"AD")):(1!=this._reportFilterService.SalesSupplierWiseObj.assignPreviousValue&&(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL="0",this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=0,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWBILLDETAIL=0),this.changeVariant(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER||null==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(1==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL&&(""==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||void 0===this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||null==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||null===this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER))return void this._alertService.info("Please Select Supplier");this.repObj.reportparam.DATE1=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM:"";let i={};this.variantmaster.length>0?(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT||(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT]=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0),0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Supplier Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Supplier Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Supplier Wise",this._reportFilterService.SalesSupplierWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE=i.MCODE,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=i.DESCA}dblClickPopupParty(i){this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID=i.ACID,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=i.ACNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(R.c),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-report-supplier-wise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(gc,5),e.Gf(uc,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:100,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","2%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","col-md-8"],[1,"col-md-2"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Supplier Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=t}),e.YNc(41,mc,2,0,"option",16),e.YNc(42,Sc,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Oc,2,2,"option",17),e.qZA()(),e.TgZ(51,"div",1)(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=t})("change",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=t.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"fieldset")(58,"legend",10),e._uU(59,"Supplier Selection :"),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Item Selection :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"label",26),e._uU(67,"Item Name :"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(70,"div",1),e._UZ(71,"div",25),e.TgZ(72,"div",29),e._UZ(73,"div",30),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Transaction >= Amount :"),e.qZA()(),e.TgZ(77,"div",5)(78,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT=t}),e.qZA()()()()(),e.YNc(79,vc,11,4,"fieldset",32),e.TgZ(80,"fieldset")(81,"legend",10),e._uU(82,"Report Type :"),e.qZA(),e.TgZ(83,"div",33)(84,"input",34),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Summary Report"),e.qZA()(),e.TgZ(87,"div",33)(88,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(89,"label"),e._uU(90,"Detail Report"),e.qZA()()()()()(),e.TgZ(91,"div",36)(92,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(93,"RUN"),e.qZA(),e.TgZ(94,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(95,"Close"),e.qZA()()()()()(),e.TgZ(96,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(98,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT)("checked",1==r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT)("disabled",1==r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function Cc(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Ac(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Pc(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function Mc(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Rc(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function Ec(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function Ic(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",34)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,Rc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",25)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Ec,2,2,"option",17),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}let yc=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",MCAT:"",SHOWREPORT_ON_EXTRA_CATEGORY:0,SHOWDETAIL:0,VCHR:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),t.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Category Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,"AD")):(1!=this._reportFilterService.SalesCategoryWiseObj.assignPreviousValue&&(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL="0",this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=0),this.changeVariant(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day),this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day),this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER||null==this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV:"%",this.repObj.reportparam.MCAT=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT:"%",this.repObj.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let i={};this.variantmaster.length>0?(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT||(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT]=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Category Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Category Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Category Wise",this._reportFilterService.SalesCategoryWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["SalesReportCategoryWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:82,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Category Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=t}),e.YNc(41,Cc,2,0,"option",16),e.YNc(42,Ac,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Pc,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Category Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT=t}),e._UZ(56,"option",19),e.YNc(57,Mc,2,2,"option",17),e.qZA()(),e.YNc(58,Ic,11,4,"fieldset",21),e.TgZ(59,"div",22)(60,"div",23)(61,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=t})("change",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=t.target.checked?1:0}),e.qZA()(),e.TgZ(62,"div",25)(63,"label",26),e._uU(64,"Show Report Of Extra Category"),e.qZA()()(),e.TgZ(65,"fieldset")(66,"legend",10),e._uU(67,"Report Type :"),e.qZA(),e.TgZ(68,"div",1)(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(71,"label"),e._uU(72,"Summary Report"),e.qZA()(),e.TgZ(73,"div",27)(74,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(75,"label"),e._uU(76,"Detail Report"),e.qZA()()()()()()(),e.TgZ(77,"div",30)(78,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",32),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY)("checked",1==r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Dc=["division"];function Nc(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let jc=(()=>{class a{constructor(i,r,o,t){if(this.masterService=i,this._trnMainService=r,this._alertService=o,this._authService=t,this.VATsalesRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",REPMODE:"",V1:"",V2:"",V3:""},REPORTDISPLAYNAME:""},this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var n=new Date;n.setMonth(n.getMonth()-1),this.VATsalesRegisterReport.DATE1=n.toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD")}else this.VATsalesRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.VATsalesRegisterReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD")):(this.VATsalesRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD")),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.VATsalesRegisterReport.isSI=!0,this.VATsalesRegisterReport.isCN=!0,this.VATsalesRegisterReport.SUMMARYREPORT=0;var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const _=new Date;this.currDate=(0,m.p6)(_,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this.VATsalesRegisterReport.V1=1==this.VATsalesRegisterReport.isSI?"SI":"",this.VATsalesRegisterReport.V2=1==this.VATsalesRegisterReport.isCN?"CN":"",this.repObj.reportparam.DATE1=this.VATsalesRegisterReport.DATE1,this.repObj.reportparam.DATE2=this.VATsalesRegisterReport.DATE,this.repObj.reportparam.DIV=this.VATsalesRegisterReport.DIV?this.VATsalesRegisterReport.DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.REPMODE=this.VATsalesRegisterReport.SUMMARYREPORT,this.repObj.reportparam.V1=this.VATsalesRegisterReport.V1,this.repObj.reportparam.V2=this.VATsalesRegisterReport.V2,this.repObj.reportparam.V3="XX","1"==this.repObj.reportparam.REPMODE?this.repObj.reportname="VAT Sales Register Report":"0"==this.repObj.reportparam.REPMODE&&(this.repObj.reportname="VAT Sales Register Report_1"),this.repObj.REPORTDISPLAYNAME="VAT Sales Register Report",this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this.VATsalesRegisterReport.DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.VATsalesRegisterReport.BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.VATsalesRegisterReport.DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.VATsalesRegisterReport.BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.VATsalesRegisterReport.DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["salesregisterreport-dialog"]],viewQuery:function(i,r){if(1&i&&e.Gf(Dc,5),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:69,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff","width","69%","margin-left","280px"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"radio",2,"width","152px"],[1,"smallBoldLabel",2,"width","100%"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[2,"display","flex"],[1,"checkbox",2,"padding-top","5px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","152px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Sales Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.VATsalesRegisterReport.BSDATE1=t}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.VATsalesRegisterReport.BSDATE2=t}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.DIV=t})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,Nc,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",9),e._uU(44,"Report Mode:"),e.qZA(),e.TgZ(45,"div",19)(46,"label",20)(47,"input",21),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.SUMMARYREPORT=t}),e.qZA(),e._uU(48," Summary Report"),e.qZA()(),e.TgZ(49,"div",19)(50,"label",20)(51,"input",21),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.SUMMARYREPORT=t}),e.qZA(),e._uU(52," Detail Report"),e.qZA()()(),e.TgZ(53,"fieldset")(54,"div",22)(55,"div")(56,"div",23)(57,"label",20)(58,"input",24),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.isSI=t}),e.qZA(),e._uU(59," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(60,"div",25)(61,"label",20)(62,"input",24),e.NdJ("ngModelChange",function(t){return r.VATsalesRegisterReport.isCN=t}),e.qZA(),e._uU(63," Show Credit Note "),e.qZA()()()()(),e.TgZ(64,"div",26)(65,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(66,"RUN"),e.qZA(),e.TgZ(67,"button",28),e.NdJ("click",function(){return r.cancel()}),e._uU(68,"Close"),e.qZA()()()()()()()()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.VATsalesRegisterReport.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.VATsalesRegisterReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.VATsalesRegisterReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("value",1)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(4),e.Q6J("value",0)("ngModel",r.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(7),e.Q6J("ngModel",r.VATsalesRegisterReport.isSI),e.xp6(4),e.Q6J("ngModel",r.VATsalesRegisterReport.isCN))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,M.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function kc(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Fc(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function wc(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function Wc(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Lc(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function Zc(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function xc(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",34)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,Lc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",24)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Zc,2,2,"option",17),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}let Uc=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",MCAT:"",SHOWREPORT_ON_EXTRA_CATEGORY:0,SHOWDETAIL:0,VCHR:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),t.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Purchase Report Category Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,"AD")):(1!=this._reportFilterService.PurchaseCategoryWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL="0",this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=0),this.changeVariant(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER||null==this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV:"%",this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT:"%",this.repObj.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let i={};this.variantmaster.length>0?(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT||(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT]=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Category Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Category Wise_1"),this.repObj.REPORTDISPLAYNAME="Purchase Report Category Wise",this._reportFilterService.PurchaseCategoryWiseObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["PurchaseReportCategoryWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:82,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Category Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=t}),e.YNc(41,kc,2,0,"option",16),e.YNc(42,Fc,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,wc,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Category Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT=t}),e._UZ(56,"option",19),e.YNc(57,Wc,2,2,"option",17),e.qZA()(),e.TgZ(58,"div",21)(59,"div",22)(60,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=t})("change",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=t.target.checked?1:0}),e.qZA()(),e.TgZ(61,"div",24)(62,"label",25),e._uU(63,"Show Report Of Extra Category"),e.qZA()()(),e.YNc(64,xc,11,4,"fieldset",26),e.TgZ(65,"fieldset")(66,"legend",10),e._uU(67,"Report Type :"),e.qZA(),e.TgZ(68,"div",1)(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(71,"label"),e._uU(72,"Summary Report"),e.qZA()(),e.TgZ(73,"div",27)(74,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(75,"label"),e._uU(76,"Detail Report"),e.qZA()()()()()()(),e.TgZ(77,"div",30)(78,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",32),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY)("checked",1==r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY),e.xp6(4),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Vc=["genericGridSupplierPopup"];function Bc(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Yc(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME,"\n")}}function Jc(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function qc(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function Gc(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.VARIANTNAME),e.xp6(1),e.hij(" ",i.VARIANTNAME," ")}}function Hc(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function Qc(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",32)(5,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeVariant(o.target.value))}),e.YNc(6,Gc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",34)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Hc,2,2,"option",17),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT),e.xp6(1),e.Q6J("ngForOf",i.variantmaster),e.xp6(2),e.Q6J("ngModel",i._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",i.variantvaluesList)}}let zc=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",SHOWDETAIL:0,PTYPE:100,params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.PTypeList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new b.im,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),t.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Purchase Report Product Type Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,"AD")):(1!=this._reportFilterService.PurchaseProductTypeObj.assignPreviousValue&&(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL="0"),this.changeVariant(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER||null==this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE:100,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let i={};this.variantmaster.length>0?(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT||(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT]=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Product Type Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Product Type Wise_1"),this.repObj.REPORTDISPLAYNAME="Purchase Report Product Type Wise",this._reportFilterService.PurchaseProductTypeObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CUSTOMERCODE=i.ACID,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["PurchaseReportProductTypeWise"]],viewQuery:function(i,r){if(1&i&&e.Gf(Vc,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:78,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["value","100"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"],[1,"col"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report Product Type Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=t}),e.YNc(41,Bc,2,0,"option",16),e.YNc(42,Yc,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Jc,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Product Type Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE=t}),e._UZ(56,"option",21),e.YNc(57,qc,2,2,"option",17),e.qZA()(),e.YNc(58,Qc,11,4,"fieldset",22),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Type :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL=t}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Summary Report"),e.qZA()(),e.TgZ(67,"div",23)(68,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL=t}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Detail Report"),e.qZA()()()()()()(),e.TgZ(71,"div",26)(72,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",28),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()(),e.TgZ(76,"generic-popup-grid",29,30),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();var Kc=S(63321),q=S(63213);const $c=["reportPopup"],Xc=["genericGridSupplierPopup"],e_=["genericGridItemPopup"],t_=["multiselectGenericGrid"];function r_(a,s){1&a&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function i_(a,s){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function o_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",68),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_DIV=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onSelectDivision(o))}),e.YNc(4,r_,2,0,"option",69),e.YNc(5,i_,2,2,"option",43),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function n_(a,s){1&a&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function a_(a,s){1&a&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function s_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20),e.YNc(4,n_,2,0,"label",71),e.YNc(5,a_,2,0,"label",71),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport)("checked",1==i._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==i._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==i._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE)}}function l_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",72)(1,"div",31)(2,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",33)(4,"label",34),e._uU(5,"Show Variant Filters Popup"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT)("checked",1==i._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT)}}function p_(a,s){if(1&a){const i=e.EpF();e.ynx(0),e.TgZ(1,"ng-multiselect-dropdown",73),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=o)}),e.ALo(2,"disableField"),e.qZA(),e.BQk()}if(2&a){const i=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Warehouse ")("settings",i.warehousedropdownSettings)("data",i.warehouseList)("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE)("disabled",e.lcZ(2,5,"disableWareHouse"))}}function c_(a,s){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function __(a,s){if(1&a){const i=e.EpF();e.ynx(0),e.TgZ(1,"select",74),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=o)}),e.ALo(2,"disableField"),e._UZ(3,"option",42),e.YNc(4,c_,2,2,"option",43),e.qZA(),e.BQk()}if(2&a){const i=e.oxw(2);e.xp6(1),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE)("disabled",e.lcZ(2,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",i.warehouseList)}}function d_(a,s){if(1&a&&(e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Warehouse Selection:"),e.qZA(),e.YNc(3,p_,3,7,"ng-container",15),e.YNc(4,__,5,5,"ng-container",15),e.qZA()),2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngIf",0==i.userSetting.UserWiseWarehouse),e.xp6(1),e.Q6J("ngIf",1==i.userSetting.UserWiseWarehouse)}}function h_(a,s){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function g_(a,s){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function u_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",33)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_PTYPE=o)}),e._UZ(6,"option",75),e.YNc(7,g_,2,2,"option",43),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_PTYPE),e.xp6(2),e.Q6J("ngForOf",i.PTypeList)}}function m_(a,s){if(1&a&&(e.TgZ(0,"option",70),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MANUFACTURER),e.xp6(1),e.hij("",i.MANUFACTURER," ")}}function S_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",49)(2,"label",37),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",33)(5,"select",76),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER=o)}),e._UZ(6,"option",42),e.YNc(7,m_,2,2,"option",43),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",i.ManufacturerList)}}function O_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"input",77),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.selectMultiItems=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",78),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectMultiItems)("checked",1==i.selectMultiItems)}}function b_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Format :"),e.qZA(),e.TgZ(3,"div",79)(4,"div",80)(5,"input",81),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT=o)}),e.qZA(),e.TgZ(6,"label"),e._uU(7,"Summary Report"),e.qZA()(),e.TgZ(8,"div",80)(9,"input",82),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT=o)}),e.qZA(),e.TgZ(10,"label"),e._uU(11,"Detail Report"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT)}}function T_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",83)(1,"div",84)(2,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",33)(4,"label",34),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE)("checked",1==i._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE)}}function v_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",53)(1,"div",1)(2,"div",84)(3,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",33)(5,"label",34),e._uU(6,"Show Alt Unit Stock Report"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)("checked",1==i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)}}function f_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",83)(1,"div",1)(2,"div",84)(3,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",33)(5,"label",34),e._uU(6,"Show Alt Unit Stock Report"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)("checked",1==i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)}}function C_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",84)(1,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL)("checked",1==i._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL)}}function A_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",100)(1,"ng-multiselect-dropdown",101),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function P_(a,s){if(1&a&&(e.TgZ(0,"div",96)(1,"div",97)(2,"label",98),e._uU(3),e.qZA()(),e.YNc(4,A_,2,4,"div",99),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function M_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",85)(2,"div",86)(3,"div",87)(4,"h5",88),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",89),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",90),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",91)(10,"div",92),e.YNc(11,P_,5,2,"div",93),e.qZA()(),e.TgZ(12,"div",94)(13,"button",95),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",95),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let R_=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0,MANUFACTURER:"%",DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",SHOWLCOSTFORLOCALPURCHASE:0,ITEMGROUP:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.multiselectPopupSettings=new F.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.variantparamters2={},this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getProductGroupList().subscribe(h=>{h&&(this.ProductGroupList=h)}),this.masterService.getWarehouseListByDivision(this._reportFilterService.StockSummaryObj.StockSummary_DIV??"").subscribe(h=>{this.warehouseList=h.result},h=>{this.warehouseList=[]}),this.masterService.getManufacturerList().subscribe(h=>{h&&(this.ManufacturerList=h)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100},this.warehousedropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"NAME",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:200};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?"Stock Summary Report_A"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):"Stock Summary Report_4"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="2",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):"Stock Summary Report_2"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="1",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):(1!=this._reportFilterService.StockSummaryObj.assignPreviousValue&&(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockSummaryObj.StockSummary_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":"lite"==this.AppMode?this.masterService.userProfile.userDivision:this.masterService.PhiscalObj.Div,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=0,this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=1==this.userSetting.UserWiseWarehouse?this.userProfile.userWarehouse:"%",this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=0),"lite"==this.AppMode&&(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this.masterService.userProfile.userWarehouse),this.changeVariant(this._reportFilterService.StockSummaryObj.StockSummary_VARIANT),this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD"))})}onSelectDivision(i){this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE="%",this.masterService.getWarehouseListByDivision(i.target.value).subscribe(r=>{this.warehouseList=r.result},r=>{this.warehouseList=[]})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockSummaryObj.StockSummary_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockSummaryObj.StockSummary_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockSummaryObj.StockSummary_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockSummaryObj.StockSummary_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeMultiSelect(i){console.log("events",i),this._reportFilterService.StockSummaryObj.StockSummary_MCODE="",this._reportFilterService.StockSummaryObj.StockSummary_ITEM="",this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE="",this.selectMultiItems=1==i.target.checked?1:0}onload(){let i=[];if(0==this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE.length&&(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE="%"),"%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE.forEach(n=>{i.push(n.NAME)}),this._reportFilterService.StockSummaryObj.StockSummary_DIV&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_DIV)this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME="All";else if(this._reportFilterService.StockSummaryObj.StockSummary_DIV&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_DIV){let n=this.divisionList.filter(l=>l.Division==this._reportFilterService.StockSummaryObj.StockSummary_DIV);this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME=n&&n.length>0&&n[0]?n[0].NAME:""}else this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME="";if(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSENAME=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?"All":this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE:"",this._reportFilterService.StockSummaryObj.StockSummary_MGROUP&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP)this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME="All";else if(this._reportFilterService.StockSummaryObj.StockSummary_MGROUP&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_MGROUP){let n=this.ProductGroupList.filter(l=>l.MCODE==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP);this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME=n&&n.length>0&&n[0]?n[0].DESCA:""}else this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME="";if(this._reportFilterService.StockSummaryObj.StockSummary_PTYPE&&"100"==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP)this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME="";else if(this._reportFilterService.StockSummaryObj.StockSummary_PTYPE&&"100"!=this._reportFilterService.StockSummaryObj.StockSummary_PTYPE){let n=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.StockSummaryObj.StockSummary_PTYPE);this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME=n&&n.length>0&&n[0]?n[0].PTYPENAME:""}else this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME="";this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME=this._reportFilterService.StockSummaryObj.StockSummary_MCAT&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_MCAT?"All":this._reportFilterService.StockSummaryObj.StockSummary_MCAT&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_MCAT?this._reportFilterService.StockSummaryObj.StockSummary_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockSummaryObj.StockSummary_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockSummaryObj.StockSummary_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockSummaryObj.StockSummary_DIV?this._reportFilterService.StockSummaryObj.StockSummary_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.DETAILFORMAT=this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT?this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT:0,this.repObj.reportparam.SUPCODE=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockSummaryObj.StockSummary_MCODE?this._reportFilterService.StockSummaryObj.StockSummary_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE?this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE:0,this.repObj.reportparam.ReportMode=this._reportFilterService.StockSummaryObj.StockSummary_ReportMode?this._reportFilterService.StockSummaryObj.StockSummary_ReportMode:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport?this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport:0,this.repObj.reportparam.WAREHOUSE="%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?i.toString():"%",this.repObj.reportparam.MGROUP=this._reportFilterService.StockSummaryObj.StockSummary_MGROUP?this._reportFilterService.StockSummaryObj.StockSummary_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockSummaryObj.StockSummary_PTYPE?this._reportFilterService.StockSummaryObj.StockSummary_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockSummaryObj.StockSummary_MCAT?this._reportFilterService.StockSummaryObj.StockSummary_MCAT:"%",this.repObj.reportparam.ShowDetail=this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL?this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEM?this._reportFilterService.StockSummaryObj.StockSummary_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE?this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE?this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE:0,this.repObj.reportparam.ShowAltUnitStockReport=this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT?this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING?this._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME?this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSENAME?i.toString():"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME?this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME?this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME?this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER?this._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER:"%",this.repObj.reportparam.SHOWLCOSTFORLOCALPURCHASE=this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL?this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP?this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP:"",this.repObj.reportparam.params=1==this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.ReportMode?" @Stock Report Excluding Zero B/L":2==this.repObj.reportparam.ReportMode?" @Negative Stock Report Only":3==this.repObj.reportparam.ReportMode?" @Zero B/L Stock Report Only":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.ShowDetail?"@Report with Item Detail":"",1==this.masterService.userSetting.EnableVariantCategory?(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A_VARIANT"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A_VARIANT")):1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A_SBATCH"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A_SBATCH")):(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A")),this.repObj.REPORTDISPLAYNAME="Stock Summary Report",this._reportFilterService.StockSummaryObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=i.ACID,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(i){console.log("on multii item select",i),this._reportFilterService.StockSummaryObj.StockSummary_MCODE=i.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=i.DESCA}dblClickPopupItem(i){this._reportFilterService.StockSummaryObj.StockSummary_MCODE=i.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=i.DESCA,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.StockSummaryObj.StockSummary_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(i){}reportTree(){this.reportPopup.show()}selectedValue(i){console.log("k data ho yo?",i),this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=i.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=i.DESCA}changeValue(i){(""==i||null==i||null==i)&&(this._reportFilterService.StockSummaryObj.StockSummary_MGROUP="%")}treeNodeSelected(i){console.log("stock ledger ma data ayoo",i),this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=i.id,this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=i.name}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["stock-summary-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf($c,5),e.Gf(Xc,5),e.Gf(e_,5),e.Gf(t_,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:167,vars:48,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["class","row","style","margin-bottom: -3%",4,"ngIf"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center","margin-right","1%"],[2,"width","95%","margin-left","8.2%",3,"options","labelKey","valueKey","ngModel","selectOption","change","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"form-control","input-text",2,"width","91%","margin-left","8%",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","120%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"width","91%","margin-left","8%",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],["class","row checkbox","style","margin-top:-10px;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","-10px"],["class","col-sm-1","style","margin-left: -10px;",4,"ngIf"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-3%"],[1,"col-sm-1",2,"margin-left","-10px","margin-top","4%"],[2,"font-size","12px","width","175px","margin-top","5%","margin-left","-10px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"multiselect","treeNodeValue"],["reportPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["value","%",4,"ngIf"],[3,"value"],["style","width: 100%;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","disabled","onSelect","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","100"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"row",2,"margin-top","-2%","margin-bottom","-1%"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Summary Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,o_,6,3,"fieldset",15),e.TgZ(38,"fieldset")(39,"legend",10),e._uU(40,"Report Type Selection :"),e.qZA(),e.TgZ(41,"div",16)(42,"div",17)(43,"div",18)(44,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=t}),e.qZA()(),e.TgZ(45,"div",20)(46,"label",21),e._uU(47,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(48,"div",17)(49,"div",18)(50,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=t}),e.qZA()(),e.TgZ(51,"div",20)(52,"label",21),e._uU(53,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(54,"div",17)(55,"div",18)(56,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=t}),e.qZA()(),e.TgZ(57,"div",20)(58,"label",21),e._uU(59,"Item Category Wise Stock Report"),e.qZA()()(),e.YNc(60,s_,6,4,"div",24),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Report Option :"),e.qZA(),e.TgZ(64,"div",16)(65,"div",17)(66,"div",18)(67,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=t}),e.qZA()(),e.TgZ(68,"div",20)(69,"label",21),e._uU(70,"Show All Item Stock Report"),e.qZA()()(),e.TgZ(71,"div",17)(72,"div",18)(73,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=t}),e.qZA()(),e.TgZ(74,"div",20)(75,"label",21),e._uU(76,"Show Stock Report Excluding Zero B/L"),e.qZA()()(),e.TgZ(77,"div",17)(78,"div",18)(79,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=t}),e.qZA()(),e.TgZ(80,"div",20)(81,"label",21),e._uU(82,"Show Negative Stock B/L Item Only"),e.qZA()()(),e.TgZ(83,"div",17)(84,"div",18)(85,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_ReportMode=t}),e.qZA()(),e.TgZ(86,"div",20)(87,"label",21),e._uU(88,"Show Zero Stock B/L Item Only"),e.qZA()()()()(),e.YNc(89,l_,6,2,"div",29),e.TgZ(90,"div",30)(91,"div",31)(92,"input",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=t})("change",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=t.target.checked?1:0}),e.qZA()(),e.TgZ(93,"div",33)(94,"label",34),e._uU(95,"Show Landing Cost For Local Purchase Item as Well"),e.qZA()()()(),e.TgZ(96,"div",35),e.YNc(97,d_,5,2,"fieldset",15),e.TgZ(98,"fieldset")(99,"legend"),e._uU(100,"Report Filter Option :"),e.qZA(),e.TgZ(101,"div",8)(102,"div",36)(103,"label",37),e._uU(104,"Item Group :"),e.qZA()(),e.TgZ(105,"div",38)(106,"app-simple-suggest",39),e.NdJ("selectOption",function(t){return r.selectedValue(t)})("change",function(t){return r.changeValue(t)})("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=t}),e.qZA(),e.TgZ(107,"button",40),e.NdJ("click",function(){return r.reportTree()}),e._uU(108,"+"),e.qZA()()(),e.TgZ(109,"div",1)(110,"div",36)(111,"label",37),e._uU(112,"Item Category :"),e.qZA()(),e.TgZ(113,"div",33)(114,"select",41),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_MCAT=t}),e._UZ(115,"option",42),e.YNc(116,h_,2,2,"option",43),e.qZA()()(),e.YNc(117,u_,8,2,"div",44),e.YNc(118,S_,8,2,"div",44),e.TgZ(119,"div",45)(120,"div",36)(121,"label",46),e._uU(122,"Supplier Name :"),e.qZA()(),e.TgZ(123,"div",33)(124,"input",47),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(125,"fieldset")(126,"legend",10),e._uU(127,"Item Selection :"),e.qZA(),e.TgZ(128,"div",48)(129,"div",49)(130,"label",37),e._uU(131,"Item Name :"),e.qZA()(),e.TgZ(132,"div",33)(133,"input",50),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.YNc(134,O_,5,2,"div",44),e.qZA(),e.YNc(135,b_,12,2,"fieldset",15),e.TgZ(136,"div"),e.YNc(137,T_,6,2,"div",51),e.YNc(138,v_,7,2,"div",52),e.YNc(139,f_,7,2,"div",51),e.TgZ(140,"div",53)(141,"div",1),e.YNc(142,C_,2,2,"div",54),e.TgZ(143,"div",33)(144,"label",55),e._uU(145,"Show Item Detail In Report"),e.qZA()()(),e.TgZ(146,"div",53)(147,"div",1)(148,"div",56)(149,"input",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING=t})("change",function(t){return r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING=t.target.checked?1:0}),e.qZA()(),e.TgZ(150,"div",33)(151,"label",57),e._uU(152,"Show Item Grouping Hierarchy"),e.qZA()()()()()()()()(),e.TgZ(153,"div",58)(154,"button",59),e.NdJ("click",function(){return r.onload()}),e._uU(155,"RUN"),e.qZA(),e.TgZ(156,"button",60),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(157,"Close"),e.qZA()()()()()(),e.YNc(158,M_,17,1,"div",15),e.TgZ(159,"generic-popup-grid",61,62),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(161,"generic-popup-grid",61,63),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(163,"multiselect-generic-grid",64,65),e.NdJ("onItemsSelected",function(t){return r.onMultiItemSelected(t)}),e.qZA(),e.TgZ(165,"app-report-popup",66,67),e.NdJ("treeNodeValue",function(t){return r.treeNodeSelected(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0!=r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(4),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL),e.xp6(5),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(3),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING),e.xp6(9),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("multiselect",!0))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,F.ky,te,K.c,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const E_=["reportPopup"],I_=["genericGridItemPopup"],y_=["multiselectGenericGrid"];function D_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT)("checked",1==i._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT)}}function N_(a,s){if(1&a&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function j_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Warehouse Selection:"),e.qZA(),e.TgZ(3,"select",34),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=o)}),e.ALo(4,"disableField"),e._UZ(5,"option",35),e.YNc(6,N_,2,2,"option",36),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE)("disabled","lite"==i.AppMode||e.lcZ(4,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",i.warehouseList)}}function k_(a,s){1&a&&(e.TgZ(0,"option",35),e._uU(1,"ALL"),e.qZA())}function F_(a,s){if(1&a&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function w_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",38),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_DIV=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.onSelectDivision(o))}),e.YNc(4,k_,2,0,"option",39),e.YNc(5,F_,2,2,"option",36),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_DIV)("disabled","lite"==i.AppMode),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function W_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Type:"),e.qZA(),e.TgZ(3,"div",40)(4,"div",41)(5,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE=o)}),e.qZA(),e.TgZ(6,"label",43),e._uU(7,"Detail Report"),e.qZA()(),e.TgZ(8,"div",41)(9,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE=o)}),e.qZA(),e.TgZ(10,"label",43),e._uU(11,"Summary Report"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE)}}function L_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Option"),e.qZA(),e.TgZ(3,"div",40)(4,"div",5)(5,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE=o)}),e.qZA(),e.TgZ(6,"label",43),e._uU(7,"Item Wise Report"),e.qZA()(),e.TgZ(8,"div",5)(9,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE=o)}),e.qZA(),e.TgZ(10,"label",47),e._uU(11,"Item Group Wise Report"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE)}}function Z_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"input",53),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t.selectMultiItems=o)})("change",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",54),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&a){const i=e.oxw(2);e.xp6(1),e.Q6J("ngModel",i.selectMultiItems)("checked",1==i.selectMultiItems)}}function x_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset",48)(1,"legend",10),e._uU(2,"Item Selection :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",49)(5,"label",50),e._uU(6,"Item Name :"),e.qZA()(),e.TgZ(7,"div",32)(8,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_ITEM=o)})("keydown.enter",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.ItemEnterCommand(o))})("keydown.Tab",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.ItemEnterCommand(o))})("keyup",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.ItemEnterCommand(o))})("keypress",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.keyPress(o))}),e.qZA()()(),e.YNc(9,Z_,5,2,"div",52),e.qZA()}if(2&a){const i=e.oxw();e.xp6(8),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==i.AppMode)}}function U_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset",48)(1,"legend",10),e._uU(2,"Item Group Selection :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",55)(5,"label",50),e._uU(6,"Item Group :"),e.qZA()(),e.TgZ(7,"div",56)(8,"app-simple-suggest",57),e.NdJ("selectOption",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.selectedValue(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=o)}),e.qZA(),e.TgZ(9,"button",58),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.reportTree())}),e._uU(10,"+"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(8),e.Q6J("options",i.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME)}}function V_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",62)(1,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=o)})("change",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()()}if(2&a){const i=e.oxw(2);e.xp6(1),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE)("checked",1==i._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE)}}function B_(a,s){1&a&&(e.TgZ(0,"div",32)(1,"label",33),e._uU(2,"Show Batch Wise Stock Report"),e.qZA()())}function Y_(a,s){if(1&a&&(e.TgZ(0,"div",59),e.YNc(1,V_,2,2,"div",60),e.YNc(2,B_,3,0,"div",61),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",1!=i.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(1),e.Q6J("ngIf",1!=i.masterService.userSetting.ENABLESINGLEBATCHMODE)}}function J_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",29)(1,"div",62)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show Item Detail In Report"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL)("checked",1==i._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL)}}function q_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",78)(1,"ng-multiselect-dropdown",79),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function G_(a,s){if(1&a&&(e.TgZ(0,"div",74)(1,"div",75)(2,"label",76),e._uU(3),e.qZA()(),e.YNc(4,q_,2,4,"div",77),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function H_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",63)(2,"div",64)(3,"div",65)(4,"h5",66),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",67),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",68),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",69)(10,"div",70),e.YNc(11,G_,5,2,"div",71),e.qZA()(),e.TgZ(12,"div",72)(13,"button",73),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",73),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let Q_=(()=>{class a{constructor(i,r,o,t,n,l,_,p,d,h){this.masterService=i,this._transactionService=r,this.fb=o,this._alertService=t,this._reportFilterService=n,this.arouter=l,this._ActivatedRoute=_,this._authService=p,this.brandService=d,this.productMasterService=h,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MCODE:"",WAREHOUSE:"",ITEMGROUPWISE:0,ITEMGROUP:"",SHOWDETAIL:0,ITEMNAME:"",MENUCODE:"",params:"%",SHOWBATCH:0,DIVISIONNAME:"",WAREHOUSENAME:"",SHOWITEMDETAILDISPLAY:"",REPORTYPE:0,ITEMGROUPNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.mainGroupList=[],this.resultList=[],this.gridPopupSettingsForItem=new b.im,this.multiselectPopupSettings=new F.oe,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.showVariantPopup=!1,this.variantparamters2={},this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(g=>{this.costCenterList=g&&g||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(g=>{this.divisionList=g}),this.masterService.getItemGroup().subscribe(g=>{g&&(this.ItemGroupList=g)}),this.masterService.getWarehouseListByDivision(this._reportFilterService.StockLedgerObj.StockLedger_DIV??"").subscribe(g=>{this.warehouseList=g.result},g=>{this.warehouseList=[]}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(g=>{g.result&&g.result.length&&(this.categorywiseConfigurationdetails=g.result,this.categorywiseConfigurationdetails.forEach(N=>{if(N.SELECTEDMCAT=[],N.finalSelectedMCAT=[],N.hasOwnProperty("VARIANTVALUES")){let X=JSON.parse(N.VARIANTVALUES);N.VARIANTVALUES="object"==typeof X&&X&&X.length?X:[]}}))},g=>{});var u=this.userProfile.PhiscalYearInfo.BeginDate;u=u.substring(0,10),this.date2=u,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(console.log("drill to stock leedget",this._reportFilterService.drillParam.returnUrl,this._reportFilterService.drillParam),this._reportFilterService.StockLedgerObj.StockLedger_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this._reportFilterService.drillParam.reportparam.DATE1?this._reportFilterService.drillParam.reportparam.DATE1.toString().substring(0,10):"",this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this._reportFilterService.drillParam.reportparam.DATE2?this._reportFilterService.drillParam.reportparam.DATE2.toString().substring(0,10):"",this._reportFilterService.StockLedgerObj.StockLedger_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE="0",this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=0,this.changeEntryDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE2,"AD")):(1!=this._reportFilterService.StockLedgerObj.assignPreviousValue&&(this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this.userProfile.userWarehouse),1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?this._reportFilterService.StockLedgerObj.StockLedger_DIV="%":"lite"==this.AppMode?(this._reportFilterService.StockLedgerObj.StockLedger_DIV=this.masterService.userProfile.userDivision,this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this.masterService.userProfile.userWarehouse):this._reportFilterService.StockLedgerObj.StockLedger_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE="0",this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=0,this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0,this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=0,this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE="1"),this.changeVariant(this._reportFilterService.StockLedgerObj.StockLedger_VARIANT),this.changeEntryDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockLedgerObj.StockLedger_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockLedgerObj.StockLedger_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockLedgerObj.StockLedger_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockLedgerObj.StockLedger_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeMultiSelect(i){console.log("events",i),this._reportFilterService.StockLedgerObj.StockLedger_MCODE="",this._reportFilterService.StockLedgerObj.StockLedger_ITEM="",this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE="",this.selectMultiItems=1==i.target.checked?1:0}onload(){if(0==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE&&(""==this._reportFilterService.StockLedgerObj.StockLedger_ITEM||void 0===this._reportFilterService.StockLedgerObj.StockLedger_ITEM||null==this._reportFilterService.StockLedgerObj.StockLedger_ITEM||null===this._reportFilterService.StockLedgerObj.StockLedger_ITEM))return void this._alertService.info("Please Select Item");if(1==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE&&("%"==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||void 0===this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||""==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||null==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||null===this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP))return void this._alertService.info("Please Select Item Group first!");if(this._reportFilterService.StockLedgerObj.StockLedger_DIV&&"%"==this._reportFilterService.StockLedgerObj.StockLedger_DIV)this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME="All";else if(this._reportFilterService.StockLedgerObj.StockLedger_DIV&&"%"!=this._reportFilterService.StockLedgerObj.StockLedger_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.StockLedgerObj.StockLedger_DIV);this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME="";this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE&&"%"==this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?"All":this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE&&"%"!=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockLedgerObj.StockLedger_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockLedgerObj.StockLedger_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockLedgerObj.StockLedger_DIV?this._reportFilterService.StockLedgerObj.StockLedger_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockLedgerObj.StockLedger_MCODE?this._reportFilterService.StockLedgerObj.StockLedger_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL?this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEM?this._reportFilterService.StockLedgerObj.StockLedger_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE?this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE:"",this.repObj.reportparam.SHOWBATCH=this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE?this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME?this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME:"",this.repObj.reportparam.REPORTYPE=this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE?this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE:0,this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME:"",console.log("this.repObj.reportparam.ITEMGROUPNAME",this.repObj.reportparam.ITEMGROUPNAME),this.repObj.reportparam.params=1==this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT&&this.abc.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportparam.ITEMGROUP="%":1==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportparam.MCODE="%",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME,console.log("loglolglglglglg",this.repObj.reportparam.ITEMGROUPNAME)),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_SBATCH":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_1_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_2_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH&&(this.repObj.reportname="Stock Ledger Other Report_3_SBATCH"),0==this.repObj.reportparam.REPORTYPE&&(this.repObj.reportname="Stock Ledger Other Report_4_SBATCH")):(0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_1":1==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_2":1==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH&&(this.repObj.reportname="Stock Ledger Other Report_3"),0==this.repObj.reportparam.REPORTYPE&&(this.repObj.reportname="Stock Ledger Other Report_4")),this.repObj.REPORTDISPLAYNAME="Stock Ledger Report",this._reportFilterService.StockLedgerObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(i){console.log("on multii item select",i),this._reportFilterService.StockLedgerObj.StockLedger_MCODE=i.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=i.DESCA}dblClickPopupItem(i){this._reportFilterService.StockLedgerObj.StockLedger_MCODE=i.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=i.DESCA,this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.StockLedgerObj.StockLedger_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(i){}reportTree(){this.reportPopup.show()}selectedValue(i){console.log("k data ho yo?",i),this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP=i.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=i.DESCA}treeNodeSelected(i){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",i),this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP=i.id,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=i.name}onSelectDivision(i){this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE="%",this.masterService.getWarehouseListByDivision(i.target.value).subscribe(r=>{this.warehouseList=r.result},r=>{this.warehouseList=[]})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36($.c),e.Y36(ue.L))},a.\u0275cmp=e.Xpm({type:a,selectors:[["stock-ledger-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(E_,5),e.Gf(I_,5),e.Gf(y_,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:60,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[4,"ngIf"],[1,"col-md-6","filter-part"],["style","width: 96%;",4,"ngIf"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"treeNodeValue"],["reportPopup",""],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange","change"],["value","%",4,"ngIf"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reporttype","value","1",3,"ngModel","ngModelChange"],[2,"width","85% !important"],["type","radio","name","reporttype","value","0",3,"ngModel","ngModelChange"],["type","radio","name","itemgroup","value","0",3,"ngModel","ngModelChange"],["type","radio","name","itemgroup","value","1",3,"ngModel","ngModelChange"],[2,"width","88% !important"],[2,"width","96%"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row",4,"ngIf"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-3"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"row","checkbox",2,"margin-top","5px"],["class","col-sm-1","style","margin-left: -10px;",4,"ngIf"],["class","col",4,"ngIf"],[1,"col-sm-1",2,"margin-left","-10px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Ledger Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockLedgerObj.StockLedger_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockLedgerObj.StockLedger_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockLedgerObj.StockLedger_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockLedgerObj.StockLedger_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,D_,6,2,"div",15),e.YNc(38,j_,7,5,"fieldset",16),e.YNc(39,w_,6,4,"fieldset",16),e.qZA(),e.TgZ(40,"div",17),e.YNc(41,W_,12,2,"fieldset",16),e.YNc(42,L_,12,2,"fieldset",16),e.TgZ(43,"div",1),e.YNc(44,x_,10,2,"fieldset",18),e.YNc(45,U_,11,4,"fieldset",18),e.qZA(),e.YNc(46,Y_,3,2,"div",19),e.YNc(47,J_,6,2,"div",15),e.qZA()()(),e.TgZ(48,"div",20)(49,"button",21),e.NdJ("click",function(){return r.onload()}),e._uU(50,"RUN"),e.qZA(),e.TgZ(51,"button",22),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(52,"Close"),e.qZA()()()()()(),e.YNc(53,H_,17,1,"div",16),e.TgZ(54,"generic-popup-grid",23,24),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(56,"multiselect-generic-grid",25,26),e.NdJ("onItemsSelected",function(t){return r.onMultiItemSelected(t)}),e.qZA(),e.TgZ(58,"app-report-popup",27,28),e.NdJ("treeNodeValue",function(t){return r.treeNodeSelected(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_BSDATE2),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf",0==r._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE&&"pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE),e.xp6(6),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,F.ky,te,K.c,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const z_=["genericGridItemPopup"];function K_(a,s){1&a&&(e.TgZ(0,"option",37),e._uU(1,"ALL"),e.qZA())}function $_(a,s){if(1&a&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function X_(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",34),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockValuationObj.StockValuation_DIV=o)}),e.YNc(4,K_,2,0,"option",35),e.YNc(5,$_,2,2,"option",36),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.StockValuationObj.StockValuation_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function ed(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",39)(1,"div",26)(2,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",23)(4,"label",28),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT)("checked",1==i._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT)}}function td(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",55)(1,"ng-multiselect-dropdown",56),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function rd(a,s){if(1&a&&(e.TgZ(0,"div",51)(1,"div",52)(2,"label",53),e._uU(3),e.qZA()(),e.YNc(4,td,2,4,"div",54),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function id(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",40)(2,"div",41)(3,"div",42)(4,"h5",43),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",44),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",45),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",46)(10,"div",47),e.YNc(11,rd,5,2,"div",48),e.qZA()(),e.TgZ(12,"div",49)(13,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let od=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMID:"",DIV:"",BARCODE:"",MCODE:"",MENUCODE:"",SHOWDETAIL:0,ITEMNAME:"",params:"%",SHOWLCOSTFORLOCALPURCHASE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new b.im,this.showVariantPopup=!1,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.categorywiseConfigurationdetails=[],this.variantparamters2={},this.finalParam={},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100},this.AppMode=j.N.appMode;const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.StockValuationObj.StockValuation_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockValuationObj.StockValuation_DATE1=this._reportFilterService.drillParam.reportparam.DATE,this._reportFilterService.StockValuationObj.StockValuation_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL="1",this._reportFilterService.StockValuationObj.StockValuation_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this.changeEntryDate(this._reportFilterService.StockValuationObj.StockValuation_DATE1,"AD")):(1!=this._reportFilterService.StockValuationObj.assignPreviousValue&&(this._reportFilterService.StockValuationObj.StockValuation_DATE1=(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]:this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.StockValuationObj.StockValuation_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL="0",this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=0),this.changeVariant(this._reportFilterService.StockValuationObj.StockValuation_VARIANT),this.changeEntryDate(this._reportFilterService.StockValuationObj.StockValuation_DATE1,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockValuationObj.StockValuation_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockValuationObj.StockValuation_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockValuationObj.StockValuation_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockValuationObj.StockValuation_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.StockValuationObj.StockValuation_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockValuationObj.StockValuation_DIV?this._reportFilterService.StockValuationObj.StockValuation_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockValuationObj.StockValuation_MCODE?this._reportFilterService.StockValuationObj.StockValuation_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL?this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockValuationObj.StockValuation_ITEM?this._reportFilterService.StockValuationObj.StockValuation_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockValuationObj.StockValuation_MENUCODE?this._reportFilterService.StockValuationObj.StockValuation_MENUCODE:"",this.repObj.reportparam.SHOWLCOSTFORLOCALPURCHASE=this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL?this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL:0;let i={};this.variantmaster.length>0?(this._reportFilterService.StockValuationObj.StockValuation_VARIANT||(this._reportFilterService.StockValuationObj.StockValuation_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.StockValuationObj.StockValuation_VARIANT]=this._reportFilterService.StockValuationObj.StockValuation_VARIANTVALUES?this._reportFilterService.StockValuationObj.StockValuation_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Stock Valuation ReportNONDMS_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Stock Valuation ReportNONDMS_1_SBATCH"):0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Stock Valuation ReportNONDMS":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Stock Valuation ReportNONDMS_1"),this.repObj.REPORTDISPLAYNAME="Stock Valuation Report",this._reportFilterService.StockValuationObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.StockValuationObj.StockValuation_MCODE=i.MCODE,this._reportFilterService.StockValuationObj.StockValuation_ITEM=i.DESCA,this._reportFilterService.StockValuationObj.StockValuation_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.StockValuationObj.StockValuation_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];this.abc=this.categorywiseConfigurationdetails.filter(o=>o.SELECTEDMCAT.length>0),this.abc.forEach(o=>{r.push(o.VARIANTNAME)}),this.abc.forEach(o=>{i="",r.forEach(t=>{o.VARIANTNAME==t&&(o.SELECTEDMCAT.forEach(n=>{i+=`${n.NAME},`,this.finalParam[t]=i}),this.finalParam[t]=this.finalParam[t].slice(0,-1))})})}onMultiSelect(i){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["stock-valuation-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(z_,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:65,vars:15,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Valuation Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockValuationObj.StockValuation_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockValuationObj.StockValuation_BSDATE1=t}),e.qZA()()()()()(),e.YNc(27,X_,6,3,"fieldset",15),e.TgZ(28,"fieldset")(29,"legend",10),e._uU(30,"Report Type :"),e.qZA(),e.TgZ(31,"div",1)(32,"div",16)(33,"input",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL=t}),e.qZA(),e.TgZ(34,"label"),e._uU(35,"Summary Report"),e.qZA()(),e.TgZ(36,"div",16)(37,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL=t}),e.qZA(),e.TgZ(38,"label"),e._uU(39,"Detail Report"),e.qZA()()()(),e.YNc(40,ed,6,2,"div",19),e.qZA(),e.TgZ(41,"div",20)(42,"fieldset")(43,"legend",10),e._uU(44,"Item Selection :"),e.qZA(),e.TgZ(45,"div",1)(46,"div",21)(47,"label",22),e._uU(48,"Item Name :"),e.qZA()(),e.TgZ(49,"div",23)(50,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockValuationObj.StockValuation_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(51,"div",25)(52,"div",26)(53,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=t})("change",function(t){return r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=t.target.checked?1:0}),e.qZA()(),e.TgZ(54,"div",23)(55,"label",28),e._uU(56,"Show Landing Cost For Purchase Item As Well "),e.qZA()()()()()(),e.TgZ(57,"div",29)(58,"button",30),e.NdJ("click",function(){return r.onload()}),e._uU(59,"RUN"),e.qZA(),e.TgZ(60,"button",31),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(61,"Close"),e.qZA()()()()()(),e.YNc(62,id,17,1,"div",15),e.TgZ(63,"generic-popup-grid",32,33),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockValuationObj.StockValuation_BSDATE1),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL),e.xp6(3),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_ITEM),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL)("checked",1==r._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL),e.xp6(9),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const nd=["genericGridMemberPopup"];function ad(a,s){1&a&&(e.TgZ(0,"option",39),e._uU(1,"ALL"),e.qZA())}function sd(a,s){if(1&a&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let ld=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MEMID:"",TOPNSORT:0,POINT:0,SUMMARY:1,MEMNAME:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.gridPopupSettingsForMember=new b.im,this.userProfile=this._authService.getUserProfile(),this.userSetting=p.getSetting(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID=this._reportFilterService.drillParam.reportparam.MEMID,this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.MembershipPointObj.MembershipPoint_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY="0",this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.MembershipPointObj.MembershipPoint_POINT=this._reportFilterService.drillParam.reportparam.POINT,this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=this._reportFilterService.drillParam.reportparam.MEMNAME,this.changeEntryDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,"AD")):(1!=this._reportFilterService.MembershipPointObj.assignPreviousValue&&(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.MembershipPointObj.MembershipPoint_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY="1",this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=0),this.changeEntryDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MembershipPointObj.MembershipPoint_DIV?this._reportFilterService.MembershipPointObj.MembershipPoint_DIV:"%",this.repObj.reportparam.MEMID=this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID?this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID:"%",this.repObj.reportparam.POINT=this._reportFilterService.MembershipPointObj.MembershipPoint_POINT?this._reportFilterService.MembershipPointObj.MembershipPoint_POINT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT?this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT:0,this.repObj.reportparam.SUMMARY=this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY?this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY:1,this.repObj.reportparam.MEMNAME=this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME?this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME:"",""==this.repObj.reportparam.MEMNAME&&(this.repObj.reportparam.MEMID="%"),1==this.repObj.reportparam.SUMMARY?this.repObj.reportname="Membership Point Report":0==this.repObj.reportparam.SUMMARY&&(this.repObj.reportname="Membership Point Report_1"),this.repObj.REPORTDISPLAYNAME="Membership Point Report",this._reportFilterService.MembershipPointObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}memberEnterCommand(i){this.getMembersList(),this.genericGridMemberPopup.show()}dblClickPopupParty(i){this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID=i.MEMID,this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=null==i.LNAME?i.FNAME:i.FNAME+" "+i.LNAME}getMembersList(){this.gridPopupSettingsForMember=this.masterService.getGenericGridPopUpSettings("AllMemberList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["membership-point-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(nd,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridMemberPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:79,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-5"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keypress"],[1,"row",2,"padding-top","5px","width","90%"],[2,"width","60%"],[2,"width","100%","font-weight","bold"],[2,"width","20%"],["type","text",1,"form-control","input-text",2,"width","100%",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridMemberPopup",""],["value","%"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Membership Point Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_DIV=t}),e.YNc(41,ad,2,0,"option",16),e.YNc(42,sd,2,2,"option",17),e.qZA()()(),e.TgZ(43,"div",18)(44,"fieldset")(45,"legend",10),e._uU(46,"Report Type :"),e.qZA(),e.TgZ(47,"div",19)(48,"div",20)(49,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY=t}),e.qZA(),e.TgZ(50,"label"),e._uU(51,"Summary Report"),e.qZA()(),e.TgZ(52,"div",20)(53,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY=t}),e.qZA(),e.TgZ(54,"label"),e._uU(55,"Detail Report"),e.qZA()()()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Member Name Selection :"),e.qZA(),e.TgZ(59,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=t})("keydown.enter",function(t){return r.memberEnterCommand(t)})("keydown.Tab",function(t){return r.memberEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(60,"div",24)(61,"div",25)(62,"label",26),e._uU(63,"Show Report having Points >= "),e.qZA()(),e.TgZ(64,"div",27)(65,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_POINT=t}),e.qZA()()(),e.TgZ(66,"div",29)(67,"div",30)(68,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=t})("change",function(t){return r._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=t.target.checked?1:0}),e.qZA()(),e.TgZ(69,"div",32)(70,"label",33),e._uU(71,"Sort Report by Top N order"),e.qZA()()()()()(),e.TgZ(72,"div",34)(73,"button",35),e.NdJ("click",function(){return r.onload()}),e._uU(74,"RUN"),e.qZA(),e.TgZ(75,"button",36),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(76,"Close"),e.qZA()()()()()(),e.TgZ(77,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_POINT),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForMember))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function pd(a,s){if(1&a&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let cd=(()=>{class a{constructor(i,r,o,t){this.masterService=i,this._alertService=r,this._transactionService=o,this._authService=t,this.Annex5Report={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),this.Annex5Report.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.Annex5Report.DATE1,"AD"),this.Annex5Report.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.Annex5Report.DATE,"AD");var n=this.userProfile.PhiscalYearInfo.BeginDate;n=n.substring(0,10),this.date2=n;const l=new Date;this.currDate=(0,m.p6)(l,"yyyy-MM-dd","en-US"),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.Annex5Report.DIV="%"}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this.reportdataEmit.emit({status:i,data:{reportname:"Annex 5 Report",reportparam:{DATE1:this.Annex5Report.DATE1,DATE2:this.Annex5Report.DATE,DIV:this.Annex5Report.DIV?this.Annex5Report.DIV:"%"}}})}hide(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.Annex5Report.BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.Annex5Report.DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this.Annex5Report.BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this.Annex5Report.DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(R.c),e.Y36(f.p),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["datereport"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:50,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-12"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Materialized View Report (Annex 5)"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(t){return r.Annex5Report.DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.Annex5Report.BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",14),e.NdJ("ngModelChange",function(t){return r.Annex5Report.DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r.Annex5Report.BSDATE2=t}),e.qZA()()()()()()(),e.TgZ(37,"div",10)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(t){return r.Annex5Report.DIV=t}),e.TgZ(42,"option",17),e._uU(43,"ALL"),e.qZA(),e.YNc(44,pd,2,2,"option",18),e.qZA()()(),e.TgZ(45,"div",19)(46,"button",20),e.NdJ("click",function(){return r.onload()}),e._uU(47,"RUN"),e.qZA(),e.TgZ(48,"button",21),e.NdJ("click",function(){return r.cancel()}),e._uU(49,"Close"),e.qZA()()()()()()()()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.Annex5Report.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r.Annex5Report.BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r.Annex5Report.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r.Annex5Report.BSDATE2),e.xp6(5),e.Q6J("ngModel",r.Annex5Report.DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function _d(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.UserId),e.xp6(1),e.Oqu(i.UserId)}}function dd(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.FormName),e.xp6(1),e.Oqu(i.FormName)}}function hd(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.HostName),e.xp6(1),e.Oqu(i.HostName)}}function gd(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.TrnMode),e.xp6(1),e.Oqu(i.TrnMode)}}let ud=(()=>{class a{constructor(i,r,o,t,n){this.masterService=i,this._alertService=r,this._authService=o,this._reportFilterService=t,this.arouter=n,this.usersList=[],this.FormNameList=[],this.HostNameList=[],this.ActionList=[],this.repObj={reportname:"",reportparam:{SDate:"",EDate:"",Flg:1,UserID:"",HostNM:"",FormNM:"",ActionNM:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),this.masterService.getUsersFromLog().subscribe(p=>{"ok"==p.status&&(this.usersList=p.result)});var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const _=new Date;this.currDate=(0,m.p6)(_,"yyyy-MM-dd","en-US")}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),console.log("check",this._reportFilterService.TransactionLogObj.assignPreviousValue),1!=this._reportFilterService.TransactionLogObj.assignPreviousValue&&(this._reportFilterService.TransactionLogObj.transLog_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.TransactionLogObj.transLog_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=1,this._reportFilterService.TransactionLogObj.transLog_USERID="",this._reportFilterService.TransactionLogObj.transLog_HOSTNM="",this._reportFilterService.TransactionLogObj.transLog_FORMNM="",this._reportFilterService.TransactionLogObj.transLog_ACTIONNM="",this.changeEntryDate(this._reportFilterService.TransactionLogObj.transLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.TransactionLogObj.transLog_DATE2,"AD"))}onUserChange(){this.userID=this._reportFilterService.TransactionLogObj.transLog_USERID,this.masterService.getFormNameFromLog(this.userID).subscribe(i=>{this.FormNameList=i.result}),this.masterService.getHostNameFromLog(this.userID).subscribe(i=>{this.HostNameList=i.result}),this.masterService.getActionFromLog(this.userID).subscribe(i=>{this.ActionList=i.result})}onload(){this.repObj.reportparam.SDate=this._reportFilterService.TransactionLogObj.transLog_DATE1,this.repObj.reportparam.EDate=this._reportFilterService.TransactionLogObj.transLog_DATE2,this.repObj.reportparam.Flg=this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT?this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT:1,this.repObj.reportparam.UserID=this._reportFilterService.TransactionLogObj.transLog_USERID?this._reportFilterService.TransactionLogObj.transLog_USERID:"%",this.repObj.reportparam.HostNM=this._reportFilterService.TransactionLogObj.transLog_HOSTNM?this._reportFilterService.TransactionLogObj.transLog_HOSTNM:"%",this.repObj.reportparam.FormNM=this._reportFilterService.TransactionLogObj.transLog_FORMNM?this._reportFilterService.TransactionLogObj.transLog_FORMNM:"%",this.repObj.reportparam.ActionNM=this._reportFilterService.TransactionLogObj.transLog_ACTIONNM?this._reportFilterService.TransactionLogObj.transLog_ACTIONNM:"%",this.repObj.reportname="Transaction Activity Log Report",this.repObj.REPORTDISPLAYNAME="Transaction Activity Log Report",this._reportFilterService.TransactionLogObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}hide(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.TransactionLogObj.transLog_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.TransactionLogObj.transLog_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.TransactionLogObj.transLog_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.TransactionLogObj.transLog_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}cancel(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(R.c),e.Y36(P.e),e.Y36(A),e.Y36(O.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["transreport"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:26,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","form-group"],[1,"col-sm-4"],[1,"radio"],[1,"smallBoldLabel",2,"padding-right","10px"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"form-group","row"],[1,"col-md-3","smallBoldLabel"],[1,"col-md-9"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Transaction Activity Log Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",15),e._uU(39,"Report Mode:"),e.qZA(),e.TgZ(40,"div",16)(41,"div",17)(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=t}),e.qZA(),e._uU(45," Summary (User Wise)"),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",18)(48,"label",19)(49,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=t}),e.qZA(),e._uU(50," Summary"),e.qZA()()(),e.TgZ(51,"div",17)(52,"div",18)(53,"label",19)(54,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=t}),e.qZA(),e._uU(55," Detail"),e.qZA()()()()()(),e.TgZ(56,"div",21)(57,"fieldset")(58,"div",22)(59,"label",23),e._uU(60,"User"),e.qZA(),e.TgZ(61,"div",24)(62,"select",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_USERID=t})("change",function(){return r.onUserChange()}),e.YNc(63,_d,2,2,"option",26),e.qZA()()()(),e.TgZ(64,"fieldset")(65,"div",22)(66,"label",23),e._uU(67,"Entry Form"),e.qZA(),e.TgZ(68,"div",24)(69,"select",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_FORMNM=t}),e.YNc(70,dd,2,2,"option",26),e.qZA()()(),e.TgZ(71,"div",22)(72,"label",23),e._uU(73,"Computer Name"),e.qZA(),e.TgZ(74,"div",24)(75,"select",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_HOSTNM=t}),e.YNc(76,hd,2,2,"option",26),e.qZA()()(),e.TgZ(77,"div",22)(78,"label",23),e._uU(79,"Action"),e.qZA(),e.TgZ(80,"div",24)(81,"select",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TransactionLogObj.transLog_ACTIONNM=t}),e.YNc(82,gd,2,2,"option",26),e.qZA()()()()(),e.TgZ(83,"div",28)(84,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",30),e.NdJ("click",function(){return r.cancel()}),e._uU(87,"Close"),e.qZA()()()()()()()()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.TransactionLogObj.transLog_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.TransactionLogObj.transLog_BSDATE2),e.xp6(8),e.Q6J("value",1)("ngModel",r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(5),e.Q6J("value",2)("ngModel",r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(5),e.Q6J("value",3)("ngModel",r._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_USERID),e.xp6(1),e.Q6J("ngForOf",r.usersList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_FORMNM),e.xp6(1),e.Q6J("ngForOf",r.FormNameList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_HOSTNM),e.xp6(1),e.Q6J("ngForOf",r.HostNameList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.TransactionLogObj.transLog_ACTIONNM),e.xp6(1),e.Q6J("ngForOf",r.ActionList))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function md(a,s){1&a&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function Sd(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Od(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",36)(4,"label",37),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT)("checked",1==i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT)}}function bd(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.INITIAL),e.xp6(1),e.hij("",i.NAME," ")}}function Td(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",36)(4,"label",37),e._uU(5,"Show InTransit Branch Transfer In Transaction Only"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT)("checked",1==i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT)("disabled","TO%"==i._reportFilterService.BranchTransferObj.BranchTransfer_VNO)}}function vd(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",59)(1,"ng-multiselect-dropdown",60),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function fd(a,s){if(1&a&&(e.TgZ(0,"div",55)(1,"div",56)(2,"label",57),e._uU(3),e.qZA()(),e.YNc(4,vd,2,4,"div",58),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function Cd(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",44)(2,"div",45)(3,"div",46)(4,"h5",47),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",48),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",49),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",50)(10,"div",51),e.YNc(11,fd,5,2,"div",52),e.qZA()(),e.TgZ(12,"div",53)(13,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let Ad=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",OPT_BRANCHINOUT:"",ITEMWISE:0,IGNOREBRANCH:0,SHOWINTRANSIT:0,COMID:"",DIV:"",STATUS:0,BRANCH:"%",PHISCALID:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getNotLoginDivisionList().subscribe(h=>{this.transferToList=h}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.BranchTransferObj.assignPreviousValue&&(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferObj.BranchTransfer_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.BranchTransferObj.BranchTransfer_VNO="TO%",this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE="0",this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS="0"),this.changeVariant(this._reportFilterService.BranchTransferObj.BranchTransfer_VARIANT),this.changeEntryDate(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.BranchTransferObj.BranchTransfer_DIV?this._reportFilterService.BranchTransferObj.BranchTransfer_DIV:"%",this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferObj.BranchTransfer_DIV?this._reportFilterService.BranchTransferObj.BranchTransfer_DIV:"%",this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.BRANCH=this._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH?this._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH:"%",this.repObj.reportparam.OPT_BRANCHINOUT=this._reportFilterService.BranchTransferObj.BranchTransfer_VNO?this._reportFilterService.BranchTransferObj.BranchTransfer_VNO:"TR%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ITEMWISE=this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE?this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE:0,this.repObj.reportparam.STATUS=this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS?this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS:0,this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH?this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH:0,this.repObj.reportparam.SHOWINTRANSIT=this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT?this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT:0,this.repObj.reportparam.params=1==this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportparam.IGNOREBRANCH=0),"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&(this.repObj.reportparam.SHOWINTRANSIT=0),"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&(this.repObj.reportparam.STATUS=0),"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&1==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_2":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&0==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer In Report_1":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer Out Report":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportname="Branch Transfer Out Report_1"),1===this.masterService.userSetting.EnableVariantCategory&&("TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&1==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_2_VARIANT":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&0==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_VARIANT":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer In Report_1_VARIANT":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer Out Report_VARIANT":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportname="Branch Transfer Out Report_1_VARIANT")),this.repObj.REPORTDISPLAYNAME="Branch Transfer Report",this._reportFilterService.BranchTransferObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}TransferInOutChange(i){"TO%"==this._reportFilterService.BranchTransferObj.BranchTransfer_VNO&&(this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=0),"TR%"==this._reportFilterService.BranchTransferObj.BranchTransfer_VNO&&(this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS="0")}ItemWiseChange(i){0==this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE&&(this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=0)}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.BranchTransferObj.BranchTransfer_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(i){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["branch-transfer-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:33,consts:[[1,"container",2,"width","58rem"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-left","4%"],["type","radio","name","reportOption","value","TO%",3,"ngModel","ngModelChange","change"],[2,"width","auto"],["type","radio","name","reportOption","value","TR%",3,"ngModel","ngModelChange","change"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],[2,"width","88%"],["value","%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[4,"ngIf"],[3,"value"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_DIV=t}),e.YNc(41,md,2,0,"option",16),e.YNc(42,Sd,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Report Option :"),e.qZA(),e.TgZ(46,"div",18)(47,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_VNO=t})("change",function(t){return r.TransferInOutChange(t)}),e.qZA(),e.TgZ(48,"label",20),e._uU(49,"Branch Transfer Out Report"),e.qZA()(),e.TgZ(50,"div",18)(51,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_VNO=t})("change",function(t){return r.TransferInOutChange(t)}),e.qZA(),e.TgZ(52,"label",20),e._uU(53,"Branch Transfer In Report"),e.qZA()()(),e.YNc(54,Od,6,2,"div",22),e.qZA(),e.TgZ(55,"div",23)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE=t})("change",function(t){return r.ItemWiseChange(t)}),e.qZA(),e.TgZ(62,"label",26),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",24)(65,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE=t}),e.qZA(),e.TgZ(66,"label",28),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Branch Transfer to/from:"),e.qZA(),e.TgZ(71,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH=t}),e._UZ(72,"option",29),e.YNc(73,bd,2,2,"option",17),e.qZA()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Report Type :"),e.qZA(),e.TgZ(77,"div",18)(78,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=t}),e.qZA(),e.TgZ(79,"label",26),e._uU(80,"Show All"),e.qZA()(),e.TgZ(81,"div",18)(82,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=t}),e.qZA(),e.TgZ(83,"label",26),e._uU(84,"Show Closed Transaction Only"),e.qZA()(),e.TgZ(85,"div",18)(86,"input",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=t}),e.qZA(),e.TgZ(87,"label",26),e._uU(88,"Show Pending Transaction Only"),e.qZA()()(),e.TgZ(89,"div",33)(90,"div",34)(91,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=t})("change",function(t){return r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=t.target.checked?1:0}),e.qZA()(),e.TgZ(92,"div",36)(93,"label",37),e._uU(94,"Disable Branch Wise Segragation In Report"),e.qZA()()(),e.YNc(95,Td,6,3,"div",22),e.qZA()()(),e.TgZ(96,"div",38)(97,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(98,"RUN"),e.qZA(),e.TgZ(99,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(100,"Close"),e.qZA()()()()()(),e.YNc(101,Cd,17,1,"div",41)),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(3),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH),e.xp6(2),e.Q6J("ngForOf",r.transferToList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH)("checked",1==r._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH)("disabled",0==r._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(4),e.Q6J("ngIf","TR%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(6),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,M.v,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Pd=["genericGridSupplierPopup"];function Md(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function Rd(a,s){1&a&&(e.TgZ(0,"option",16),e._uU(1,"ALL"),e.qZA())}function Ed(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Id(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",25)(4,"label",45),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT)("checked",1==i._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT)}}function yd(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Dd(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Nd(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",61)(1,"ng-multiselect-dropdown",62),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function jd(a,s){if(1&a&&(e.TgZ(0,"div",57)(1,"div",58)(2,"label",59),e._uU(3),e.qZA()(),e.YNc(4,Nd,2,4,"div",60),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function kd(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",46)(2,"div",47)(3,"div",48)(4,"h5",49),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",51),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",52)(10,"div",53),e.YNc(11,jd,5,2,"div",54),e.qZA()(),e.TgZ(12,"div",55)(13,"button",56),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",56),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let Fd=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,WAREHOUSE:"%",MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",SUPPLIERNAME:"",FROMDATE:"",TODATE:"",CURRENTDATE:"",COMID:"",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new b.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ItemExpiryObj.assignPreviousValue&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE="0"),this.changeVariant(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT),this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,this.repObj.reportparam.CURRENTDATE=(new Date).toJSON().split("T")[0],this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV?this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID?this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE?this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE:0,this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE?this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP?this._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT?this._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT:"%",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER?this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER:"";let i={};this.variantmaster.length>0?(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT||(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT]=this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANTVALUES?this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),1==this.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report SBATCH":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report SBATCH_1"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report SBATCH_VARIANT":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report SBATCH_1_VARIANT"))):(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report_1"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report_VARIANT":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report_1_VARIANT"))),this.repObj.REPORTDISPLAYNAME="Item Expiry Report",this._reportFilterService.ItemExpiryObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID=i.ACID,this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}daysSelection(i){let r=i.target.value;(""==r||null==r||null==r)&&(r=0),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt(r)),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.date.toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD")}disableDaysSelection(i){1==this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection="",this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD")),0==this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD"))}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(i){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["item-expiry-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(Pd,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:106,vars:32,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],[2,"margin-left","3%","width","100%"],["type","number",2,"width","50px",3,"ngModel","disabled","ngModelChange","input"],[1,"col"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange","change"],[2,"width","88%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Item Expiry Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Warehouse Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE=t}),e.ALo(41,"disableField"),e._UZ(42,"option",16),e.YNc(43,Md,2,2,"option",17),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend",10),e._uU(46,"Division Selection:"),e.qZA(),e.TgZ(47,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_DIV=t}),e.YNc(48,Rd,2,0,"option",19),e.YNc(49,Ed,2,2,"option",17),e.qZA()(),e.YNc(50,Id,6,2,"div",20),e.qZA(),e.TgZ(51,"div",21)(52,"fieldset")(53,"legend",10),e._uU(54,"Days Selection :"),e.qZA(),e.TgZ(55,"div",1)(56,"div",22)(57,"label",23),e._uU(58,"Going To Expire With In "),e.TgZ(59,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection=t})("input",function(t){return r.daysSelection(t)}),e.qZA(),e._uU(60," Days"),e.qZA()()()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Report Format :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE=t})("change",function(t){return r.disableDaysSelection(t)}),e.qZA(),e.TgZ(67,"label",27),e._uU(68,"Near To Expire Report"),e.qZA()(),e.TgZ(69,"div",25)(70,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE=t})("change",function(t){return r.disableDaysSelection(t)}),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"Already Expired Report"),e.qZA()()()(),e.TgZ(73,"fieldset")(74,"legend"),e._uU(75,"Report Filter Option :"),e.qZA(),e.TgZ(76,"div",8)(77,"div",30)(78,"label",31),e._uU(79,"Item Group :"),e.qZA()(),e.TgZ(80,"div",25)(81,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP=t}),e._UZ(82,"option",16),e.YNc(83,yd,2,2,"option",17),e.qZA()()(),e.TgZ(84,"div",1)(85,"div",30)(86,"label",31),e._uU(87,"Item Category :"),e.qZA()(),e.TgZ(88,"div",25)(89,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT=t}),e._UZ(90,"option",16),e.YNc(91,Dd,2,2,"option",17),e.qZA()()(),e.TgZ(92,"div",32)(93,"div",30)(94,"label",33),e._uU(95,"Supplier Name :"),e.qZA()(),e.TgZ(96,"div",25)(97,"input",34),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(98,"div",35)(99,"button",36),e.NdJ("click",function(){return r.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",37),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",38,39),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.YNc(105,kd,17,1,"div",40)),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE)("disabled",e.lcZ(41,30,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection)("disabled",1==r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const wd=["genericGridSupplierPopup"];function Wd(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Ld(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Zd(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function xd(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT)("checked",1==i._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT)}}function Ud(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function Vd(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Bd(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Yd(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function Jd(a,s){if(1&a&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,Yd,2,4,"div",53),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function qd(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,Jd,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let Gd=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new b.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.MaximumStockLevelObj.assignPreviousValue&&(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_REPORTTYPE="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ReportMode="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DETAILFORMAT="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.ACID=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE:"100",this.repObj.reportparam.CATEGORY=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ITEM?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MENUCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MENUCODE:"";let i={};this.variantmaster.length>0?(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT||(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT]=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANTVALUES?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Maximum Stock Level Report",this.repObj.REPORTDISPLAYNAME="Maximum Stock Level Report",this._reportFilterService.MaximumStockLevelObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE=i.ACID,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(i){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["maximum-stock-level-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(wd,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Maximum Stock Level Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1=t}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP=t}),e._UZ(36,"option",19),e.YNc(37,Wd,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT=t}),e._UZ(44,"option",19),e.YNc(45,Ld,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE=t}),e._UZ(52,"option",21),e.YNc(53,Zd,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.YNc(60,xd,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE=t}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,Ud,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV=t}),e.YNc(74,Vd,2,0,"option",27),e.YNc(75,Bd,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.YNc(83,qd,17,1,"div",33)),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Hd=["genericGridSupplierPopup"];function Qd(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function zd(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Kd(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function $d(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT)("checked",1==i._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT)}}function Xd(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function eh(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function th(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function rh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function ih(a,s){if(1&a&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,rh,2,4,"div",53),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function oh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,ih,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let nh=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new b.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.MinimumStockLevelObj.assignPreviousValue&&(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_REPORTTYPE="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ReportMode="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DETAILFORMAT="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.ACID=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE:"100",this.repObj.reportparam.ITEMNAME=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ITEM?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MENUCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MENUCODE:"";let i={};this.variantmaster.length>0?(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT||(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT]=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANTVALUES?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Minimum Stock Level Report",this.repObj.REPORTDISPLAYNAME="Minimum Stock Level Report",this._reportFilterService.MinimumStockLevelObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE=i.ACID,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(i){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["minimum-stock-level-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(Hd,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Minimum Stock Level Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1=t}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP=t}),e._UZ(36,"option",19),e.YNc(37,Qd,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT=t}),e._UZ(44,"option",19),e.YNc(45,zd,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE=t}),e._UZ(52,"option",21),e.YNc(53,Kd,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.YNc(60,$d,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE=t}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,Xd,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV=t}),e.YNc(74,eh,2,0,"option",27),e.YNc(75,th,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.YNc(83,oh,17,1,"div",33)),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const ah=["genericGridSupplierPopup"];function sh(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function lh(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function ph(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function ch(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT)("checked",1==i._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT)}}function _h(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function dh(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function hh(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function gh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function uh(a,s){if(1&a&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,gh,2,4,"div",53),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function mh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,uh,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let Sh=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new b.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ReorderLevelStockReport.assignPreviousValue&&(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_REPORTTYPE="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ReportMode="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.DETAILFORMAT=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT:0,this.repObj.reportparam.ACID=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE:"100",this.repObj.reportparam.CATEGORY=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ITEM?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MENUCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MENUCODE:"";let i={};this.variantmaster.length>0?(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT||(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT]=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANTVALUES?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Reorder Level Stock Report",this.repObj.REPORTDISPLAYNAME="Reorder Level Stock Report",this._reportFilterService.ReorderLevelStockReport.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE=i.ACID,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(i){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["reorder-level-stock-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(ah,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Reorder Level Stock Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1=t}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP=t}),e._UZ(36,"option",19),e.YNc(37,sh,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT=t}),e._UZ(44,"option",19),e.YNc(45,lh,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE=t}),e._UZ(52,"option",21),e.YNc(53,ph,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.YNc(60,ch,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE=t}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,_h,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV=t}),e.YNc(74,dh,2,0,"option",27),e.YNc(75,hh,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.YNc(83,mh,17,1,"div",33)),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==r.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Oh=["reportPopup"],bh=["genericGridSupplierPopup"],Th=["genericGridItemPopup"];function vh(a,s){1&a&&(e.TgZ(0,"option",32),e._uU(1,"ALL"),e.qZA())}function fh(a,s){if(1&a&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Ch(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV=o)}),e.YNc(4,vh,2,0,"option",48),e.YNc(5,fh,2,2,"option",33),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function Ah(a,s){1&a&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function Ph(a,s){1&a&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function Mh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20),e.YNc(4,Ah,2,0,"label",51),e.YNc(5,Ph,2,0,"label",51),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport)("checked",1==i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE)}}function Rh(a,s){if(1&a&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Eh(a,s){if(1&a&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function Ih(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",25)(2,"label",26),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",30)(5,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE=o)}),e._UZ(6,"option",52),e.YNc(7,Eh,2,2,"option",33),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE),e.xp6(2),e.Q6J("ngForOf",i.PTypeList)}}function yh(a,s){if(1&a&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MANUFACTURER),e.xp6(1),e.hij("",i.MANUFACTURER," ")}}function Dh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",25)(2,"label",26),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",30)(5,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER=o)}),e._UZ(6,"option",32),e.YNc(7,yh,2,2,"option",33),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",i.ManufacturerList)}}let Nh=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._alertService=l,this._authService=_,this.brandService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",MANUFACTURER:"%",ITEMGROUP:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.ManufacturerList=[],this.resultList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.AppMode=j.N.appMode,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getProductGroupList().subscribe(h=>{h&&(this.ProductGroupList=h)}),this.masterService.getManufacturerList().subscribe(h=>{h&&(this.ManufacturerList=h)}),o.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockAbcAnalysisObj.assignPreviousValue&&(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE="0",this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=0),this.changeVariant(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT),this.changeEntryDate(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2,"AD"))})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(i=>{console.log("dataaaaaa",i[0]),this.resss=i[0],this.resultList=this.resss[0],console.log("dataaaaaaChildren",this.resss[0].children),console.log("LEVELS",this.resss[0].LEVELS),console.log("name",this.resss[0].name)})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER:"%",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP:"%";let i={};this.variantmaster.length>0?(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT||(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),i[this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT]=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(i)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Stock Abc Analysis Report_SBATCH":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_1_SBATCH":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_2_SBATCH":2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_3_SBATCH":2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&(this.repObj.reportname="Stock Abc Analysis Report_4_SBATCH"):0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Stock Abc Analysis Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_1":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_2":2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Abc Analysis Report_3":2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&(this.repObj.reportname="Stock Abc Analysis Report_4"),this.repObj.REPORTDISPLAYNAME="Stock Movement Analysis Report",this._reportFilterService.StockAbcAnalysisObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE=i.ACID,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE=i.MCODE,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM=i.DESCA,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}reportTree(){this.reportPopup.show()}selectedValue(i){console.log("k data ho yo?",i),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP=i.MCODE,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=i.DESCA}treeNodeSelected(i){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",i),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP=i.id,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=i.name}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e),e.Y36($.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["stockabc-analysis-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Oh,5),e.Gf(bh,5),e.Gf(Th,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:109,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["class","row","style","margin-bottom: -3%",4,"ngIf"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],["style","width: 100%;",4,"ngIf"],["value","100"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Movement Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,Ch,6,3,"fieldset",15),e.qZA(),e.TgZ(38,"div",16)(39,"fieldset")(40,"legend",10),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div")(43,"div",17)(44,"div",18)(45,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(46,"div",20)(47,"label",21),e._uU(48,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(49,"div",17)(50,"div",18)(51,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(52,"div",20)(53,"label",21),e._uU(54,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(55,"div",17)(56,"div",18)(57,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(58,"div",20)(59,"label",21),e._uU(60,"Item Category Wise Stock Report"),e.qZA()()(),e.YNc(61,Mh,6,4,"div",24),e.qZA()(),e.TgZ(62,"fieldset")(63,"legend"),e._uU(64,"Report Filter Option :"),e.qZA(),e.TgZ(65,"div",8)(66,"div",25)(67,"label",26),e._uU(68,"Item Group :"),e.qZA()(),e.TgZ(69,"div",27)(70,"app-simple-suggest",28),e.NdJ("selectOption",function(t){return r.selectedValue(t)})("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=t}),e.qZA(),e.TgZ(71,"button",29),e.NdJ("click",function(){return r.reportTree()}),e._uU(72,"+"),e.qZA()()(),e.TgZ(73,"div",1)(74,"div",25)(75,"label",26),e._uU(76,"Item Category :"),e.qZA()(),e.TgZ(77,"div",30)(78,"select",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT=t}),e._UZ(79,"option",32),e.YNc(80,Rh,2,2,"option",33),e.qZA()()(),e.YNc(81,Ih,8,2,"div",34),e.YNc(82,Dh,8,2,"div",34),e.TgZ(83,"div",35)(84,"div",25)(85,"label",36),e._uU(86,"Supplier Name :"),e.qZA()(),e.TgZ(87,"div",30)(88,"input",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Item Selection :"),e.qZA(),e.TgZ(92,"div",38)(93,"div",25)(94,"label",26),e._uU(95,"Item Name :"),e.qZA()(),e.TgZ(96,"div",30)(97,"input",39),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(98,"div",40)(99,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(105,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(107,"app-report-popup",46,47),e.NdJ("treeNodeValue",function(t){return r.treeNodeSelected(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0!=r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(9),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,te,K.c],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();var jh=S(14422);const kh=["genericGridCustomerPopup"];function Fh(a,s){if(1&a&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.UNAME),e.xp6(1),e.hij(" ",i.UNAME," ")}}let wh=(()=>{class a{constructor(i,r,o,t,n,l){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._alertService=n,this._ActivatedRoute=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",USERNAME:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.usernameList=[],this.gridPopupSettingsForCustomer=new b.im,this.masterService.getUsername().subscribe(d=>{console.log("@@response",d),this.usernameList=d});var _=this.masterService.PhiscalObj.BeginDate;_=_.substring(0,10),this.date2=_;const p=new Date;this.currDate=(0,m.p6)(p,"yyyy-MM-dd","en-US")}ngOnInit(){1!=this._reportFilterService.PriceChangeLogObj.assignPreviousValue&&(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2,"AD")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.USERNAME=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME?this._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME:"%",this.repObj.reportname="Price Change Log Report",this.repObj.REPORTDISPLAYNAME="Price Change Log Report",this._reportFilterService.PriceChangeLogObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(R.c),e.Y36(O.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["pricechange-log-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(kh,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:49,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-9"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-3"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-12"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Price Change Log Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"fieldset")(17,"legend",12),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",13)(21,"div",14)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",16),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",17)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",16),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",12),e._uU(39,"Username Selection:"),e.qZA(),e.TgZ(40,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME=t}),e.TgZ(41,"option",19),e._uU(42,"ALL"),e.qZA(),e.YNc(43,Fh,2,2,"option",20),e.qZA()()()()(),e.TgZ(44,"div",21)(45,"button",22),e.NdJ("click",function(){return r.onload()}),e._uU(46,"RUN"),e.qZA(),e.TgZ(47,"button",23),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(48,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME),e.xp6(3),e.Q6J("ngForOf",r.usernameList))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();var Wh=S(71459);const Lh=["genericGridCustomerPopup"],Zh=["genericGridItemPopup"],xh=["genericGridSalesMan"];function Uh(a,s){1&a&&(e.TgZ(0,"option",36),e._uU(1,"ALL"),e.qZA())}function Vh(a,s){if(1&a&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Bh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=o)}),e.YNc(4,Uh,2,0,"option",49),e.YNc(5,Vh,2,2,"option",37),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function Yh(a,s){if(1&a&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function Jh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER=o)}),e._UZ(4,"option",51),e.TgZ(5,"option",36),e._uU(6," ALL "),e.qZA(),e.YNc(7,Yh,2,2,"option",37),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function qh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Salesman Selection :"),e.qZA(),e.TgZ(3,"input",52),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN=o)})("keydown.enter",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.salesmanEnterCommand(o))})("keydown.Tab",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.salesmanEnterCommand(o))})("keyup",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.salesmanEnterCommand(o))})("keypress",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.keyPress(o))}),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN)}}function Gh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",55)(2,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(3,"div",25)(4,"label",26),e._uU(5,"Show Item With Group Hierarchy"),e.qZA()()()}if(2&a){const i=e.oxw(2);e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE)}}function Hh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset",53)(1,"div",54)(2,"div",1)(3,"div",55)(4,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",25)(6,"label",26),e._uU(7,"Show Summary Only"),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",55)(10,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",25)(12,"label",26),e._uU(13,"Show Item Detail Also"),e.qZA()()(),e.YNc(14,Gh,6,1,"div",39),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE),e.xp6(4),e.Q6J("ngIf",1==i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT)}}function Qh(a,s){if(1&a&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function zh(a,s){if(1&a&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Kh(a,s){if(1&a&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function $h(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",33)(2,"label",34),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",19)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE=o)}),e.TgZ(6,"option",59),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",60),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",61),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE)}}function Xh(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",77)(1,"ng-multiselect-dropdown",78),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function eg(a,s){if(1&a&&(e.TgZ(0,"div",73)(1,"div",74)(2,"label",75),e._uU(3),e.qZA()(),e.YNc(4,Xh,2,4,"div",76),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function tg(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",62)(2,"div",63)(3,"div",64)(4,"h5",65),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",66),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",67),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",68)(10,"div",69),e.YNc(11,eg,5,2,"div",70),e.qZA()(),e.TgZ(12,"div",71)(13,"button",72),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",72),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let rg=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",SHOWITEMDETAIL:0,REPORTYTYPE:0,ITEMNAME:"",CUSTOMERNAME:"",MENUCODE:"",params:"%",SALESMAN:0,SALESMANNAME:"",SALESTYPE:"",showGrouping:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new b.im,this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForSalesMan=new b.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,"AD")):(1!=this._reportFilterService.SalesProfitabilityAnalysisObj.assignPreviousValue&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER||null==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP:"%",this.repObj.reportparam.SHOWITEMDETAIL=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE:0,this.repObj.reportparam.REPORTYTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER:"",this.repObj.reportparam.SALESMAN=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID:0,this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN:"",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE:"",this.repObj.reportparam.showGrouping=this._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping??0,this.repObj.reportparam.params=1==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT&&this.abc.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.REPORTYTYPE&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS":1!=this.repObj.reportparam.REPORTYTYPE||0!=this.repObj.reportparam.SHOWITEMDETAIL&&1!=this.repObj.reportparam.SHOWITEMDETAIL?1==this.repObj.reportparam.REPORTYTYPE&&2==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_2":2==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_3":3==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_4":4==this.repObj.reportparam.REPORTYTYPE&&0==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_5":4==this.repObj.reportparam.REPORTYTYPE&&1==this.repObj.reportparam.SHOWITEMDETAIL&&(this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_6"):this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_1",this.repObj.REPORTDISPLAYNAME="Sales Profitability Analysis Report",this._reportFilterService.SalesProfitabilityAnalysisObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(i){console.log("supplier ma k aaucha",i),this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE=i.ACID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCODE=i.MCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEM=i.DESCA,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(i){0==i&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="0"),0!=i&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="1")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){1==i.target.checked?(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(i){}salesmanEnterCommand(i){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(i){this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID=i.SALESMANID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN=i.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-profitabilityanalysis"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Lh,5),e.Gf(Zh,5),e.Gf(xh,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:131,vars:35,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%","margin-left","-10%"],[1,"col-md-1",2,"margin-left","-16%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],[1,"col-md-6",2,"margin-left","-5%"],["style","width: 130%;",4,"ngIf"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],["class","row",4,"ngIf"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],["genericGridSalesMan",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"width","130%"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Profitability Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,Bh,6,3,"fieldset",15),e.YNc(38,Jh,8,2,"fieldset",15),e.YNc(39,qh,4,1,"fieldset",15),e.TgZ(40,"div",16)(41,"div",17)(42,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping=t})("change",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping=t.target.checked?1:0}),e.qZA()(),e.TgZ(43,"div",19)(44,"label",20),e._uU(45,"Show Item Hierarchy"),e.qZA()()()(),e.TgZ(46,"div",21)(47,"fieldset")(48,"legend",10),e._uU(49,"Report Type Selection :"),e.qZA(),e.TgZ(50,"div",11)(51,"div",5)(52,"div",22)(53,"div",1)(54,"div",23)(55,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(56,"div",25)(57,"label",26),e._uU(58,"Item Wise Report"),e.qZA()()(),e.TgZ(59,"div",1)(60,"div",23)(61,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(62,"div",25)(63,"label",26),e._uU(64,"Item Group Wise Report"),e.qZA()()(),e.TgZ(65,"div",1)(66,"div",23)(67,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(2)}),e.qZA()(),e.TgZ(68,"div",25)(69,"label",26),e._uU(70,"Item Category Wise"),e.qZA()()(),e.TgZ(71,"div",1)(72,"div",23)(73,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(3)}),e.qZA()(),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Supplier Wise Report"),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",23)(79,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=t})("change",function(){return r.checkValue(4)}),e.qZA()(),e.TgZ(80,"div",25)(81,"label",26),e._uU(82,"Day Wise Report"),e.qZA()()()()(),e.TgZ(83,"div",31),e.YNc(84,Hh,15,3,"fieldset",32),e.qZA()()(),e.TgZ(85,"fieldset")(86,"legend"),e._uU(87,"Report Filter Option :"),e.qZA(),e.TgZ(88,"div",1)(89,"div",33)(90,"label",34),e._uU(91,"Item Group :"),e.qZA()(),e.TgZ(92,"div",19)(93,"select",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP=t}),e._UZ(94,"option",36),e.YNc(95,Qh,2,2,"option",37),e.qZA()()(),e.TgZ(96,"div",1)(97,"div",33)(98,"label",34),e._uU(99,"Item Category :"),e.qZA()(),e.TgZ(100,"div",19)(101,"select",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT=t}),e._UZ(102,"option",36),e.YNc(103,zh,2,2,"option",37),e.qZA()()(),e.TgZ(104,"div",1)(105,"div",33)(106,"label",34),e._uU(107,"Item Type :"),e.qZA()(),e.TgZ(108,"div",19)(109,"select",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE=t}),e._UZ(110,"option",38),e.YNc(111,Kh,2,2,"option",37),e.qZA()()(),e.YNc(112,$h,12,1,"div",39),e.TgZ(113,"div",1)(114,"div",33)(115,"label",40),e._uU(116,"Supplier Name :"),e.qZA()(),e.TgZ(117,"div",19)(118,"input",41),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(119,"div",42)(120,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(121,"RUN"),e.qZA(),e.TgZ(122,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(123,"Close"),e.qZA()()()()()(),e.TgZ(124,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(126,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(128,"generic-popup-grid",45,48),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupSalesman(t)}),e.qZA(),e.YNc(130,tg,17,1,"div",15)),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping)("checked",1==r._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(5),e.Q6J("ngIf",0!=r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const ig=["genericGridSupplierPopup"];function og(a,s){1&a&&(e.TgZ(0,"option",40),e._uU(1,"ALL"),e.qZA())}function ng(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let ag=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",FROMEXPDATE:"",TOEXPDATE:"",ACID:"%",SUMMARYREPORT:0,STATUS:100,POTYPE:100,REPORTMODE:0,CUSTOMERNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.gridPopupSettingsForSupplier=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.PurchaseOrderReportObj.assignPreviousValue&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT="0",this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE,"AD"),this.changeFromExpiryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE,"AD"),this.changeToExpiryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeFromDeliveryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeToDeliveryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeFromExpiryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeToExpiryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE,this.repObj.reportparam.FROMEXPDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE,this.repObj.reportparam.TOEXPDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV:"%",this.repObj.reportparam.SUMMARYREPORT=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT:0,this.repObj.reportparam.STATUS=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS:100,this.repObj.reportparam.POTYPE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE:100,this.repObj.reportparam.ACID=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER:"",0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=1:0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE&&(this.repObj.reportparam.REPORTMODE=2),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.reportname=0==this.repObj.reportparam.SUMMARYREPORT?"Purchase Order Report":"Purchase Order Report_1",this.repObj.REPORTDISPLAYNAME="Purchase Order Report",this._reportFilterService.PurchaseOrderReportObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID=i.ACID,this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}checkDeliveryDate(){1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE=!1)}checkExpiryDate(){1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE=!1)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-order-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(ig,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:144,vars:47,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],["name","nepaliDateTo",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","0"],["value","1"],["value","2"],["value","3"],["value","10"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["value","%"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Order Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE=t})("change",function(){return r.checkDeliveryDate()}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=t})("change",function(t){return r.changeFromDeliveryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeFromDeliveryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE=t}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=t})("change",function(t){return r.changeToDeliveryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",16),e.NdJ("change",function(t){return r.changeToDeliveryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE=t}),e.qZA()()()()()(),e.TgZ(59,"fieldset")(60,"legend",10)(61,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE=t})("change",function(){return r.checkExpiryDate()}),e.qZA(),e._uU(62,"Order Expiry Date Range Selection : "),e.qZA(),e.TgZ(63,"div",1)(64,"div",11)(65,"div",12)(66,"div")(67,"label"),e._uU(68," From:(AD) "),e.qZA()(),e.TgZ(69,"div")(70,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=t})("change",function(t){return r.changeFromExpiryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(71,"div")(72,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeFromExpiryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE=t}),e.qZA()()(),e.TgZ(73,"div",5)(74,"div")(75,"label"),e._uU(76," To:(AD) "),e.qZA()(),e.TgZ(77,"div")(78,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=t})("change",function(t){return r.changeToExpiryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(79,"div")(80,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeToExpiryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE=t}),e.qZA()()()()()()(),e.TgZ(81,"div",17)(82,"fieldset")(83,"legend",10),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",1)(86,"div",18)(87,"label",19),e._uU(88,"Supplier :"),e.qZA()(),e.TgZ(89,"div",20)(90,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(91,"div",1)(92,"div",18)(93,"label",19),e._uU(94,"PO Status :"),e.qZA()(),e.TgZ(95,"div",20)(96,"select",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS=t}),e._UZ(97,"option",23),e.TgZ(98,"option",24),e._uU(99,"New/Pending PO"),e.qZA(),e.TgZ(100,"option",25),e._uU(101,"Confirmed PO"),e.qZA(),e.TgZ(102,"option",26),e._uU(103,"Non Confirmed PO"),e.qZA(),e.TgZ(104,"option",27),e._uU(105,"Cancelled PO"),e.qZA(),e.TgZ(106,"option",28),e._uU(107,"Delivered PO"),e.qZA()()()(),e.TgZ(108,"div",1)(109,"div",18)(110,"label",19),e._uU(111,"PO Type :"),e.qZA()(),e.TgZ(112,"div",20)(113,"select",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE=t}),e._UZ(114,"option",23),e.TgZ(115,"option",24),e._uU(116,"PO - Local"),e.qZA(),e.TgZ(117,"option",25),e._uU(118,"PO - Import"),e.qZA()()()()(),e.TgZ(119,"fieldset")(120,"legend",10),e._uU(121,"Report Type :"),e.qZA(),e.TgZ(122,"div",29)(123,"div",30)(124,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT=t}),e.qZA(),e.TgZ(125,"label"),e._uU(126,"Detail Report"),e.qZA()(),e.TgZ(127,"div",30)(128,"input",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT=t}),e.qZA(),e.TgZ(129,"label"),e._uU(130,"Summary Report"),e.qZA()()()(),e.TgZ(131,"fieldset")(132,"legend",10),e._uU(133,"Division Selection:"),e.qZA(),e.TgZ(134,"select",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV=t}),e.YNc(135,og,2,0,"option",33),e.YNc(136,ng,2,2,"option",34),e.qZA()()()()(),e.TgZ(137,"div",35)(138,"button",36),e.NdJ("click",function(){return r.onload()}),e._uU(139,"RUN"),e.qZA(),e.TgZ(140,"button",37),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(141,"Close"),e.qZA()()()()()(),e.TgZ(142,"generic-popup-grid",38,39),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE),e.xp6(2),e.Q6J("id","from")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE),e.xp6(2),e.Q6J("id","to")("label","From")("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS),e.xp6(17),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const sg=["genericGridSupplierPopup"],lg=["genericGridItemPopup"];function pg(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function cg(a,s){1&a&&(e.TgZ(0,"option",36),e._uU(1,"ALL"),e.qZA())}function _g(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let dg=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",ACID:"%",REPORTMODE:0,CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",MGROUP:"",REPORTTYPE:0,ITEMWISEREPORT:0,SHOWITEMWISESUMMARY:0,SHOWSUPPLIERWISEITEM:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.PurchaseOrderOutstandingObj.assignPreviousValue&&(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT="0",this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeFromDeliveryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeToDeliveryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.checkValue(),this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE:0,this.repObj.reportparam.ITEMWISEREPORT=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT:0,this.repObj.reportparam.SHOWITEMWISESUMMARY=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY:0,this.repObj.reportparam.SHOWSUPPLIERWISEITEM=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM:0,0==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE&&(this.repObj.reportparam.REPORTMODE=1),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMWISEREPORT?this.repObj.reportname="Purchase Order Outstanding Report":1==this.repObj.reportparam.ITEMWISEREPORT&&0==this.repObj.reportparam.SHOWITEMWISESUMMARY?this.repObj.reportname="Purchase Order Outstanding Report_1":1==this.repObj.reportparam.ITEMWISEREPORT&&1==this.repObj.reportparam.SHOWITEMWISESUMMARY&&(this.repObj.reportname="Purchase Order Outstanding Report_2"),this.repObj.REPORTDISPLAYNAME="Purchase Order Outstanding Report",this._reportFilterService.PurchaseOrderOutstandingObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID=i.ACID,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE=i.MCODE,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM=i.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(){0==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT&&(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=0,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=0)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-order-outstanding"]],viewQuery:function(i,r){if(1&i&&(e.Gf(sg,5),e.Gf(lg,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:153,vars:43,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"col-md-1",2,"margin-left","-8%"],["type","checkbox","name","reportTypeSelection",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-5"],[2,"margin-left","-7%","width","100%"],[1,"col"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Order - Outstanding Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE=t})("change",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE=t.target.checked?1:0}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=t})("change",function(t){return r.changeFromDeliveryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeFromDeliveryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE=t}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=t})("change",function(t){return r.changeToDeliveryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeToDeliveryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE=t}),e.qZA()()()()()()(),e.TgZ(59,"div",16)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Type Selection :"),e.qZA(),e.TgZ(63,"div",11)(64,"div",5)(65,"div",17)(66,"div",1)(67,"div",18)(68,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT=t})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(69,"div",20)(70,"label",21),e._uU(71,"Purchase Order Wise"),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",18)(74,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT=t})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77,"Item Wise Report"),e.qZA()()()()(),e.TgZ(78,"div",5)(79,"div",17)(80,"div",1)(81,"div",23)(82,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=t})("change",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=t.target.checked?1:0}),e.qZA()(),e.TgZ(83,"div",20)(84,"label",21),e._uU(85,"Show Item Wise Summary"),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",23)(88,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=t})("change",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=t.target.checked?1:0}),e.qZA()(),e.TgZ(89,"div",20)(90,"label",21),e._uU(91,"Show Supplier Wise Item"),e.qZA()()()()()()(),e.TgZ(92,"fieldset")(93,"legend",10),e._uU(94,"Report Filter Option :"),e.qZA(),e.TgZ(95,"div",1)(96,"div",25)(97,"label",26),e._uU(98,"PO Delivery Status :"),e.qZA()(),e.TgZ(99,"div",27)(100,"div",1)(101,"div",18)(102,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=t}),e.qZA()(),e.TgZ(103,"div",20)(104,"label",21),e._uU(105,"Outstanding Only"),e.qZA()()(),e.TgZ(106,"div",1)(107,"div",18)(108,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=t}),e.qZA()(),e.TgZ(109,"div",20)(110,"label",21),e._uU(111,"Delivered Only"),e.qZA()()(),e.TgZ(112,"div",1)(113,"div",18)(114,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=t}),e.qZA()(),e.TgZ(115,"div",20)(116,"label",21),e._uU(117,"Both"),e.qZA()()()()(),e.TgZ(118,"div",1)(119,"div",31)(120,"label",32),e._uU(121,"Supplier :"),e.qZA()(),e.TgZ(122,"div",27)(123,"input",33),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(124,"div",1)(125,"div",31)(126,"label",32),e._uU(127,"Item Name :"),e.qZA()(),e.TgZ(128,"div",27)(129,"input",34),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(130,"div",1)(131,"div",31)(132,"label",32),e._uU(133,"Item Group :"),e.qZA()(),e.TgZ(134,"div",27)(135,"select",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP=t}),e._UZ(136,"option",36),e.YNc(137,pg,2,2,"option",37),e.qZA()()()(),e.TgZ(138,"fieldset")(139,"legend",10),e._uU(140,"Division Selection:"),e.qZA(),e.TgZ(141,"select",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV=t}),e.YNc(142,cg,2,0,"option",38),e.YNc(143,_g,2,2,"option",37),e.qZA()()()()(),e.TgZ(144,"div",39)(145,"button",40),e.NdJ("click",function(){return r.onload()}),e._uU(146,"RUN"),e.qZA(),e.TgZ(147,"button",41),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(148,"Close"),e.qZA()()()()()(),e.TgZ(149,"generic-popup-grid",42,43),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(151,"generic-popup-grid",42,44),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY)("disabled",0==r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM)("disabled",0==r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(14),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();var hg=S(30334);const gg=["genericGridCustomerPopup"],ug=["genericGridItemPopup"],mg=["genericGridSalesMan"];function Sg(a,s){if(1&a&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.ID),e.xp6(1),e.Oqu(i.STATUS)}}function Og(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",16)(2,"label",17),e._uU(3," Decline Remarks : "),e.qZA()(),e.TgZ(4,"div",18)(5,"select",38),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.selectedOption=o)})("change",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onStatusChange())}),e.YNc(6,Sg,2,2,"option",39),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i.selectedOption),e.xp6(1),e.Q6J("ngForOf",i.remarksList)}}function bg(a,s){1&a&&(e.TgZ(0,"option",41),e._uU(1,"ALL"),e.qZA())}function Tg(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let vg=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._paymentTermsService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",ACID:"%",CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",SMANID:"%",SALESMANNAME:"",STATUS:100,CUSTID:"",declinemode:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new b.im,this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForSalesMan=new b.im,this.remarksList=[],this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList(),this.getDeclineStatusRemarks()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.QuotationReportObj.assignPreviousValue&&(this._reportFilterService.QuotationReportObj.QuotationReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.QuotationReportObj.QuotationReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.QuotationReportObj.QuotationReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.QuotationReportObj.QuotationReport_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.QuotationReportObj.QuotationReport_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.QuotationReportObj.QuotationReport_DIV?this._reportFilterService.QuotationReportObj.QuotationReport_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.QuotationReportObj.QuotationReport_ACID?this._reportFilterService.QuotationReportObj.QuotationReport_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID?this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER?this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.QuotationReportObj.QuotationReport_ITEM?this._reportFilterService.QuotationReportObj.QuotationReport_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.QuotationReportObj.QuotationReport_MCODE?this._reportFilterService.QuotationReportObj.QuotationReport_MCODE:"%",this.repObj.reportparam.SMANID=this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID?this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID:"%",this.repObj.reportparam.SALESMANNAME=this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN?this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN:"",this.repObj.reportparam.STATUS=this._reportFilterService.QuotationReportObj.QuotationReport_STATUS?this._reportFilterService.QuotationReportObj.QuotationReport_STATUS:100,this.repObj.reportparam.declinemode=this.selectedOption,""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SMANID="%"),this.repObj.reportname="Quotation Report",this.repObj.REPORTDISPLAYNAME="Quotation Report",this._reportFilterService.QuotationReportObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(i){this._reportFilterService.QuotationReportObj.QuotationReport_ACID=i.ACID,this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER=i.ACNAME,this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID=i.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.QuotationReportObj.QuotationReport_MCODE=i.MCODE,this._reportFilterService.QuotationReportObj.QuotationReport_ITEM=i.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(i){this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID=i.SALESMANID,this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN=i.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}getDeclineStatusRemarks(){this._paymentTermsService.getDeclineStatusRemarks().subscribe(i=>{this.remarksList=i.result})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(hg.S))},a.\u0275cmp=e.Xpm({type:a,selectors:[["quotation-report-selector"]],viewQuery:function(i,r){if(1&i&&(e.Gf(gg,5),e.Gf(ug,5),e.Gf(mg,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%","width","110% !important"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","2"],["value","1"],["value","0"],["class","row",4,"ngIf"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],["genericGridSalesMan",""],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["value","",3,"value",4,"ngFor","ngForOf"],["value","",3,"value"],["value","%"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Quotation Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.QuotationReportObj.QuotationReport_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.QuotationReportObj.QuotationReport_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2=t}),e.qZA()()()()()()(),e.TgZ(37,"div",15)(38,"fieldset")(39,"legend",10),e._uU(40,"Report Filter Option :"),e.qZA(),e.TgZ(41,"div",1)(42,"div",16)(43,"label",17),e._uU(44,"Quotation Status : "),e.qZA()(),e.TgZ(45,"div",18)(46,"select",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.QuotationReportObj.QuotationReport_STATUS=t}),e._UZ(47,"option",20),e.TgZ(48,"option",21),e._uU(49,"Declined Quotation"),e.qZA(),e.TgZ(50,"option",22),e._uU(51,"SO Converted Quotation"),e.qZA(),e.TgZ(52,"option",23),e._uU(53,"SO Pending Quotation"),e.qZA()()()(),e.YNc(54,Og,7,2,"div",24),e.TgZ(55,"div",1)(56,"div",16)(57,"label",25),e._uU(58,"Customer :"),e.qZA()(),e.TgZ(59,"div",18)(60,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(61,"div",1)(62,"div",16)(63,"label",25),e._uU(64,"Item Name :"),e.qZA()(),e.TgZ(65,"div",18)(66,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.QuotationReportObj.QuotationReport_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(67,"div",1)(68,"div",16)(69,"label",25),e._uU(70,"Salesman :"),e.qZA()(),e.TgZ(71,"div",18)(72,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN=t})("keydown.enter",function(){return r.salesmanEnterCommand()})("keydown.Tab",function(){return r.salesmanEnterCommand()})("keyup",function(){return r.salesmanEnterCommand()})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(73,"fieldset")(74,"legend",10),e._uU(75,"Division Selection:"),e.qZA(),e.TgZ(76,"select",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.QuotationReportObj.QuotationReport_DIV=t}),e.YNc(77,bg,2,0,"option",29),e.YNc(78,Tg,2,2,"option",30),e.qZA()()()()(),e.TgZ(79,"div",31)(80,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(81,"RUN"),e.qZA(),e.TgZ(82,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(83,"Close"),e.qZA()()()()()(),e.TgZ(84,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(86,"generic-popup-grid",34,36),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(88,"generic-popup-grid",34,37),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupSalesman(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_STATUS),e.xp6(8),e.Q6J("ngIf",2==r._reportFilterService.QuotationReportObj.QuotationReport_STATUS),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.QuotationReportObj.QuotationReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const fg=["genericGridCustomerPopup"],Cg=["genericGridUserListPopup"],Ag=["genericGridSalesMan"];function Pg(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function Mg(a,s){1&a&&(e.TgZ(0,"option",30),e._uU(1,"ALL"),e.qZA())}function Rg(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let Eg=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",FROMEXPDATE:"",TOEXPDATE:"",ACID:"%",SUMMARYREPORT:0,STATUS:100,REPORTMODE:0,CUSTOMERNAME:"",USER:"",CCENTER:"",COSTCENTER:"",SALESMANNAME:"",SMANID:"%",CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.costCenterList=[],this.gridPopupSettingsForCustomer=new b.im,this.gridPopupSettingsForUserList=new b.im,this.gridPopupSettingsForSalesMan=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList(),this.masterService.getAllCostCenter().subscribe(d=>{this.costCenterList=d&&d||[]})}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesOrderReportObj.assignPreviousValue&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT="0",this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE,"AD"),this.changeFromExpiryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE,"AD"),this.changeToExpiryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeFromDeliveryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeToDeliveryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeFromExpiryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeToExpiryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE,this.repObj.reportparam.FROMEXPDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE,this.repObj.reportparam.TOEXPDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COSTCENTER=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV:"%",this.repObj.reportparam.SUMMARYREPORT=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT:0,this.repObj.reportparam.STATUS=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS:100,this.repObj.reportparam.ACID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER:"",this.repObj.reportparam.USER=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER:"%",this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN:"",this.repObj.reportparam.SMANID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID:"%",0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=1:0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE&&(this.repObj.reportparam.REPORTMODE=2),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SMANID="%"),0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT?this.repObj.reportname="Sales Order Report":1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT&&(this.repObj.reportname="Sales Order Report_1"),this.repObj.REPORTDISPLAYNAME="Sales Order Report",this._reportFilterService.SalesOrderReportObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(i){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID=i.ACID,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER=i.ACNAME,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID=i.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getAccountPagedListByPType/PA/C",defaultFilterIndex:this.userSetting.FilterIndexForCustomer,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ACCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}checkDeliveryDate(){1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE=!1)}checkExpiryDate(){1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE=!1)}UserListEnter(i){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(i){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER=i.UNAME}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(i){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID=i.SALESMANID,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN=i.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["salesorderreport-selector"]],viewQuery:function(i,r){if(1&i&&(e.Gf(fg,5),e.Gf(Cg,5),e.Gf(Ag,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:159,vars:52,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","0"],["value","20"],["value","30"],["value","10"],["value","1"],["value","2"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],["genericGridSalesMan",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Order Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE=t})("change",function(){return r.checkDeliveryDate()}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=t})("change",function(t){return r.changeFromDeliveryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeFromDeliveryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE=t}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=t})("change",function(t){return r.changeToDeliveryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeToDeliveryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE=t}),e.qZA()()()()()(),e.TgZ(59,"fieldset")(60,"legend",10)(61,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE=t})("change",function(){return r.checkExpiryDate()}),e.qZA(),e._uU(62,"Order Expiry Date Range Selection : "),e.qZA(),e.TgZ(63,"div",1)(64,"div",11)(65,"div",12)(66,"div")(67,"label"),e._uU(68," From:(AD) "),e.qZA()(),e.TgZ(69,"div")(70,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=t})("change",function(t){return r.changeFromExpiryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(71,"div")(72,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeFromExpiryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE=t}),e.qZA()()(),e.TgZ(73,"div",5)(74,"div")(75,"label"),e._uU(76," To:(AD) "),e.qZA()(),e.TgZ(77,"div")(78,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=t})("change",function(t){return r.changeToExpiryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(79,"div")(80,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeToExpiryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE=t}),e.qZA()()()()()()(),e.TgZ(81,"div",16)(82,"fieldset")(83,"legend",10),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",1)(86,"div",17)(87,"label",18),e._uU(88,"Customer :"),e.qZA()(),e.TgZ(89,"div",19)(90,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(91,"div",1)(92,"div",17)(93,"label",18),e._uU(94,"User Name :"),e.qZA()(),e.TgZ(95,"div",19)(96,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER=t})("keydown.enter",function(t){return r.UserListEnter(t)})("keydown.Tab",function(t){return r.UserListEnter(t)})("keyup",function(t){return r.UserListEnter(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(97,"div",1)(98,"div",17)(99,"label",18),e._uU(100,"SO Status :"),e.qZA()(),e.TgZ(101,"div",19)(102,"select",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS=t}),e._UZ(103,"option",23),e.TgZ(104,"option",24),e._uU(105,"New/Pending SO "),e.qZA(),e.TgZ(106,"option",25),e._uU(107,"Delivered SO"),e.qZA(),e.TgZ(108,"option",26),e._uU(109,"Partial Delivered SO"),e.qZA(),e.TgZ(110,"option",27),e._uU(111,"Force Closed SO"),e.qZA(),e.TgZ(112,"option",28),e._uU(113,"Confirmed SO"),e.qZA(),e.TgZ(114,"option",29),e._uU(115,"NonConfirmed SO"),e.qZA()()()(),e.TgZ(116,"div",1)(117,"div",17)(118,"label",18),e._uU(119,"Cost Center:"),e.qZA()(),e.TgZ(120,"div",19)(121,"select",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER=t}),e._UZ(122,"option",30),e.YNc(123,Pg,2,2,"option",31),e.qZA()()(),e.TgZ(124,"div",1)(125,"div",17)(126,"label",18),e._uU(127,"Salesman :"),e.qZA()(),e.TgZ(128,"div",19)(129,"input",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN=t})("keydown.enter",function(){return r.salesmanEnterCommand()})("keydown.Tab",function(){return r.salesmanEnterCommand()})("keyup",function(){return r.salesmanEnterCommand()})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(130,"fieldset")(131,"legend",10),e._uU(132,"Report Type :"),e.qZA(),e.TgZ(133,"div",33)(134,"div",34)(135,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT=t}),e.qZA(),e.TgZ(136,"label"),e._uU(137,"Detail Report"),e.qZA()(),e.TgZ(138,"div",34)(139,"input",36),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT=t}),e.qZA(),e.TgZ(140,"label"),e._uU(141,"Summary Report"),e.qZA()()()(),e.TgZ(142,"fieldset")(143,"legend",10),e._uU(144,"Division Selection:"),e.qZA(),e.TgZ(145,"select",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV=t}),e.YNc(146,Mg,2,0,"option",37),e.YNc(147,Rg,2,2,"option",31),e.qZA()()()()(),e.TgZ(148,"div",38)(149,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(150,"RUN"),e.qZA(),e.TgZ(151,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(152,"Close"),e.qZA()()()()()(),e.TgZ(153,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(155,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(t){return r.onUserListSelected(t)}),e.qZA(),e.TgZ(157,"generic-popup-grid",41,44),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupSalesman(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE),e.xp6(2),e.Q6J("id","Datefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE),e.xp6(2),e.Q6J("id","Dateto")("label","From")("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS),e.xp6(19),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER),e.xp6(2),e.Q6J("ngForOf",r.costCenterList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Ig=["genericGridCustomerPopup"],yg=["genericGridItemPopup"];function Dg(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Ng(a,s){1&a&&(e.TgZ(0,"option",38),e._uU(1,"ALL"),e.qZA())}function jg(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let kg=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",ACID:"%",REPORTMODE:0,CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",MGROUP:"",REPORTTYPE:0,ITEMWISEREPORT:0,SHOWITEMWISESUMMARY:0,SHOWCUSTOMERWISEITEM:0,CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new b.im,this.gridPopupSettingsForItem=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesOrderOutstandingObj.assignPreviousValue&&(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT="0",this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeFromDeliveryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeToDeliveryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.checkValue(),this.repObj.reportparam.DATE1=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE:0,this.repObj.reportparam.ITEMWISEREPORT=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT:0,this.repObj.reportparam.SHOWITEMWISESUMMARY=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY:0,this.repObj.reportparam.SHOWCUSTOMERWISEITEM=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM:0,this.repObj.reportparam.CUSTID=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID:"%",0==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE&&(this.repObj.reportparam.REPORTMODE=1),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMWISEREPORT?this.repObj.reportname="Sales Order Outstanding Report":1==this.repObj.reportparam.ITEMWISEREPORT&&0==this.repObj.reportparam.SHOWITEMWISESUMMARY?this.repObj.reportname="Sales Order Outstanding Report_1":1==this.repObj.reportparam.ITEMWISEREPORT&&1==this.repObj.reportparam.SHOWITEMWISESUMMARY&&(this.repObj.reportname="Sales Order Outstanding Report_2"),this.repObj.REPORTDISPLAYNAME="Sales Order Outstanding Report",this._reportFilterService.SalesOrderOutstandingObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(i){this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID=i.ACID,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER=i.ACNAME,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID=i.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getAccountPagedListByPType/PA/C",defaultFilterIndex:this.userSetting.FilterIndexForCustomer,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ACCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE=i.MCODE,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM=i.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(){0==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT&&(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=0,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=0)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["salesorderoutstanding-selector"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Ig,5),e.Gf(yg,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:159,vars:44,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"row",2,"flex-wrap","nowrap"],[1,"col-md-1",2,"margin-left","-8%"],["type","checkbox","name","reportTypeSelection",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-5"],[2,"margin-left","-7%","width","100%"],[1,"col"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Order - Outstanding Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE=t})("change",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE=t.target.checked?1:0}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=t})("change",function(t){return r.changeFromDeliveryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeFromDeliveryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE=t}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=t})("change",function(t){return r.changeToDeliveryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeToDeliveryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE=t}),e.qZA()()()()()()(),e.TgZ(59,"div",16)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Type Selection :"),e.qZA(),e.TgZ(63,"div",11)(64,"div",5)(65,"div",17)(66,"div",1)(67,"div",18)(68,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT=t})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(69,"div",20)(70,"label",21),e._uU(71,"Sales Order Wise"),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",18)(74,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT=t})("change",function(){return r.checkValue()}),e.qZA()(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77,"Item Wise Report"),e.qZA()()()()(),e.TgZ(78,"div",5)(79,"div",17)(80,"div",23)(81,"div",24)(82,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=t})("change",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=t.target.checked?1:0}),e.qZA()(),e.TgZ(83,"div",20)(84,"label",21),e._uU(85,"Show Item Wise Summary"),e.qZA()()(),e.TgZ(86,"div",23)(87,"div",24)(88,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=t})("change",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=t.target.checked?1:0}),e.qZA()(),e.TgZ(89,"div",20)(90,"label",21),e._uU(91,"Show Customer Wise Item"),e.qZA()()()()()()(),e.TgZ(92,"fieldset")(93,"legend",10),e._uU(94,"Report Filter Option :"),e.qZA(),e.TgZ(95,"div",1)(96,"div",26)(97,"label",27),e._uU(98,"SO Delivery Status :"),e.qZA()(),e.TgZ(99,"div",28)(100,"div",1)(101,"div",18)(102,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=t}),e.qZA()(),e.TgZ(103,"div",20)(104,"label",21),e._uU(105,"Outstanding Only"),e.qZA()()(),e.TgZ(106,"div",1)(107,"div",18)(108,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=t}),e.qZA()(),e.TgZ(109,"div",20)(110,"label",21),e._uU(111,"Delivered Only"),e.qZA()()(),e.TgZ(112,"div",1)(113,"div",18)(114,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=t}),e.qZA()(),e.TgZ(115,"div",20)(116,"label",21),e._uU(117,"Both"),e.qZA()()(),e.TgZ(118,"div",1)(119,"div",18)(120,"input",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=t}),e.qZA()(),e.TgZ(121,"div",20)(122,"label",21),e._uU(123,"Force Closed Only "),e.qZA()()()()(),e.TgZ(124,"div",1)(125,"div",33)(126,"label",34),e._uU(127,"Customer :"),e.qZA()(),e.TgZ(128,"div",28)(129,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(130,"div",1)(131,"div",33)(132,"label",34),e._uU(133,"Item Name :"),e.qZA()(),e.TgZ(134,"div",28)(135,"input",36),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(136,"div",1)(137,"div",33)(138,"label",34),e._uU(139,"Item Group :"),e.qZA()(),e.TgZ(140,"div",28)(141,"select",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP=t}),e._UZ(142,"option",38),e.YNc(143,Dg,2,2,"option",39),e.qZA()()()(),e.TgZ(144,"fieldset")(145,"legend",10),e._uU(146,"Division Selection:"),e.qZA(),e.TgZ(147,"select",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV=t}),e.YNc(148,Ng,2,0,"option",40),e.YNc(149,jg,2,2,"option",39),e.qZA()()()()(),e.TgZ(150,"div",41)(151,"button",42),e.NdJ("click",function(){return r.onload()}),e._uU(152,"RUN"),e.qZA(),e.TgZ(153,"button",43),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(154,"Close"),e.qZA()()()()()(),e.TgZ(155,"generic-popup-grid",44,45),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(157,"generic-popup-grid",44,46),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE),e.xp6(9),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY)("disabled",0==r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM)("disabled",0==r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(14),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Fg=["genericGridSupplierPopup"],wg=["genericGridItemPopup"];function Wg(a,s){1&a&&(e.TgZ(0,"option",20),e._uU(1,"ALL"),e.qZA())}function Lg(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Zg(a,s){1&a&&(e.TgZ(0,"option",30),e._uU(1,"Main Warehouse"),e.qZA())}function xg(a,s){if(1&a&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.Q6J("ngValue",i.NAME),e.xp6(1),e.Oqu(i.NAME)}}function Ug(a,s){if(1&a&&(e.ynx(0),e.YNc(1,xg,2,2,"option",31),e.BQk()),2&a){const i=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",i.warehouseList)}}function Vg(a,s){if(1&a){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",2)(6,"div",5)(7,"div",6)(8,"h5",7),e._uU(9,"Consolidated Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(10,"div",6)(11,"button",8),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(12,"\xd7"),e.qZA()()()(),e._UZ(13,"hr"),e.TgZ(14,"div",9)(15,"div",10)(16,"div",6)(17,"fieldset")(18,"legend",11),e._uU(19,"Date Range Selection : "),e.qZA(),e.TgZ(20,"div",2)(21,"div",12)(22,"div",13)(23,"div")(24,"label"),e._uU(25," From:(AD) "),e.qZA()(),e.TgZ(26,"div")(27,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(28,"div")(29,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1=o)}),e.qZA()()(),e.TgZ(30,"div",6)(31,"div")(32,"label"),e._uU(33," To:(AD) "),e.qZA()(),e.TgZ(34,"div")(35,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(36,"div")(37,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2=o)}),e.qZA()()()()()(),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV=o)}),e.YNc(42,Wg,2,0,"option",17),e.YNc(43,Lg,2,2,"option",18),e.qZA()()(),e.TgZ(44,"div",19)(45,"fieldset")(46,"legend",11),e._uU(47,"Company Selection:"),e.qZA(),e.TgZ(48,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY=o)}),e.TgZ(49,"option",20),e._uU(50,"All"),e.qZA(),e.TgZ(51,"option",21),e._uU(52,"Nestle"),e.qZA(),e.TgZ(53,"option",22),e._uU(54,"Non-Nestle"),e.qZA()()(),e.TgZ(55,"fieldset")(56,"legend",11),e._uU(57,"Warehouse Type:"),e.qZA(),e.TgZ(58,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE=o)}),e.TgZ(59,"option",20),e._uU(60,"All"),e.qZA(),e.TgZ(61,"option",23),e._uU(62,"Saleable"),e.qZA(),e.TgZ(63,"option",24),e._uU(64,"Unsaleable"),e.qZA()()(),e.TgZ(65,"fieldset")(66,"legend",11),e._uU(67,"Warehouse Selection:"),e.qZA(),e.TgZ(68,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE=o)}),e.TgZ(69,"option",20),e._uU(70,"All"),e.qZA(),e.YNc(71,Zg,2,0,"option",25),e.YNc(72,Ug,2,1,"ng-container",0),e.qZA()()()()(),e.TgZ(73,"div",26)(74,"button",27),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onload())}),e._uU(75,"RUN"),e.qZA(),e.TgZ(76,"button",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(77,"Close"),e.qZA()()()()()(),e.BQk()}if(2&a){const i=e.oxw();e.xp6(27),e.s9C("max",i.currDate),e.s9C("min",i.date2),e.Q6J("ngModel",i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1),e.xp6(6),e.s9C("max",i.currDate),e.s9C("min",i.date2),e.Q6J("ngModel",i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList),e.xp6(5),e.Q6J("ngModel",i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY),e.xp6(10),e.Q6J("ngModel",i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE),e.xp6(10),e.Q6J("ngModel",i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE),e.xp6(3),e.Q6J("ngIf","sellable"==i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE),e.xp6(1),e.Q6J("ngIf","nonsellable"==i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE)}}function Bg(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Yg(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",45)(1,"div",46)(2,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(i);const t=e.oxw(2);return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObjSHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",48)(4,"label",49),e._uU(5,"Show Batch Wise Stock Report "),e.qZA()()()}if(2&a){const i=e.oxw(2);e.xp6(2),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE)("checked",1==i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObjSHOWBATCHWISE)}}function Jg(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function qg(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Gg(a,s){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function Hg(a,s){if(1&a){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",2)(6,"div",5)(7,"div",6)(8,"h5",33),e._uU(9,"Consolidated Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(10,"div",6)(11,"button",8),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(12,"\xd7"),e.qZA()()()(),e._UZ(13,"hr"),e.TgZ(14,"div",9)(15,"div",10)(16,"div",6)(17,"fieldset")(18,"legend",11),e._uU(19,"Date Range Selection : "),e.qZA(),e.TgZ(20,"div",2)(21,"div",12)(22,"div",13)(23,"div")(24,"label"),e._uU(25," From:(AD) "),e.qZA()(),e.TgZ(26,"div")(27,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(28,"div")(29,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1=o)}),e.qZA()()(),e.TgZ(30,"div",6)(31,"div")(32,"label"),e._uU(33," To:(AD) "),e.qZA()(),e.TgZ(34,"div")(35,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(36,"div")(37,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2=o)}),e.qZA()()()()()(),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV=o)}),e.TgZ(42,"option",20),e._uU(43,"ALL"),e.qZA(),e.YNc(44,Bg,2,2,"option",18),e.qZA()(),e.TgZ(45,"fieldset")(46,"legend",11),e._uU(47,"Report Option :"),e.qZA(),e.TgZ(48,"div",35)(49,"div",36)(50,"div",37)(51,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(52,"div",39)(53,"label",40),e._uU(54,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(55,"div",36)(56,"div",37)(57,"input",41),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(58,"div",39)(59,"label",40),e._uU(60,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(61,"div",36)(62,"div",37)(63,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(64,"div",39)(65,"label",40),e._uU(66,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(67,"fieldset",43),e.YNc(68,Yg,6,2,"div",44),e.TgZ(69,"div",45)(70,"div",46)(71,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObj_ZEROBALSTOCKALSO=o.target.checked?1:0)}),e.qZA()(),e.TgZ(72,"div",48)(73,"label",49),e._uU(74,"Show Zero Balance Stock Also "),e.qZA()()()()(),e.TgZ(75,"div",50)(76,"fieldset")(77,"legend"),e._uU(78,"Report Filter Option :"),e.qZA(),e.TgZ(79,"div",9)(80,"div",51)(81,"label",52),e._uU(82,"Item Group :"),e.qZA()(),e.TgZ(83,"div",48)(84,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP=o)}),e._UZ(85,"option",20),e.YNc(86,Jg,2,2,"option",18),e.qZA()()(),e.TgZ(87,"div",2)(88,"div",51)(89,"label",52),e._uU(90,"Item Category :"),e.qZA()(),e.TgZ(91,"div",48)(92,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT=o)}),e._UZ(93,"option",20),e.YNc(94,qg,2,2,"option",18),e.qZA()()(),e.TgZ(95,"div",2)(96,"div",51)(97,"label",52),e._uU(98,"Item Type :"),e.qZA()(),e.TgZ(99,"div",48)(100,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE=o)}),e._UZ(101,"option",53),e.YNc(102,Gg,2,2,"option",18),e.qZA()()(),e.TgZ(103,"div",54)(104,"div",51)(105,"label",55),e._uU(106,"Supplier Name :"),e.qZA()(),e.TgZ(107,"div",48)(108,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER=o)})("keydown.enter",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.customerEnterCommand(o))})("keydown.Tab",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.customerEnterCommand(o))})("keyup",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.customerEnterCommand(o))})("keypress",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.keyPress(o))}),e.qZA()()()(),e.TgZ(109,"fieldset")(110,"legend",11),e._uU(111,"Item Selection :"),e.qZA(),e.TgZ(112,"div",57)(113,"div",51)(114,"label",52),e._uU(115,"Item Name :"),e.qZA()(),e.TgZ(116,"div",48)(117,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM=o)})("keydown.enter",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.ItemEnterCommand(o))})("keydown.Tab",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.ItemEnterCommand(o))})("keyup",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.ItemEnterCommand(o))})("keypress",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.keyPress(o))}),e.qZA()()()()()()(),e.TgZ(118,"div",26)(119,"button",27),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onload())}),e._uU(120,"RUN"),e.qZA(),e.TgZ(121,"button",28),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(122,"Close"),e.qZA()()()()()(),e.TgZ(123,"generic-popup-grid",59,60),e.NdJ("onItemDoubleClick",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.dblClickPopupParty(o))}),e.qZA(),e.TgZ(125,"generic-popup-grid",59,61),e.NdJ("onItemDoubleClick",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.dblClickPopupItem(o))}),e.qZA(),e.BQk()}if(2&a){const i=e.oxw();e.xp6(27),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV),e.xp6(3),e.Q6J("ngForOf",i.divisionList),e.xp6(7),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(5),e.Q6J("ngIf",1!=i.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(3),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO)("checked",1==i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObj_ZEROBALSTOCKALSO),e.xp6(13),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP),e.xp6(2),e.Q6J("ngForOf",i.ItemGroupList),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT),e.xp6(2),e.Q6J("ngForOf",i.MCatList),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE),e.xp6(2),e.Q6J("ngForOf",i.PTypeList),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM),e.xp6(6),e.Q6J("popupsettings",i.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",i.gridPopupSettingsForItem)}}let Qg=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._alertService=l,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",date1:"",date2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"%",PhiscalID:"",DIVISION:"%",Warehouse:"%",WarehouseType:"%",Company:"%",MCODE:"",REPORTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",SUPPLIERDISPLAYNAME:"",params:"%",SHOWBATCHWISESTOCK:0,WAREHOUSE:"",DIVISIONWISEREPORT:0,DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",ZEROBALSTOCKALSO:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.warehouseList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.allwarehouseList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("HASANOTHER_PCL",this.userSetting.HASANOTHER_PCL),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getUnsaleableWarehouseList().subscribe(d=>{this.warehouseList=d});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList(),0==this.userSetting.HASANOTHER_PCL&&(this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)}))}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.CurrentStockWarehousewiseObj.assignPreviousValue&&(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV="%",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV="%"):(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV=this.masterService.PhiscalObj.Div),this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY="%",this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE="%",this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE="%",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode="0",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE=0,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO=0),this.changeEntryDate(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,"AD"),this.changeEntryDate(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day),this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day),this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.userSetting.HASANOTHER_PCL)this.repObj.reportparam.DATE1=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,this.repObj.reportparam.date1=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,this.repObj.reportparam.date2=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.PhiscalID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV:"%",this.repObj.reportparam.DIVISION=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV:"%",this.repObj.reportparam.Warehouse=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE:"%",this.repObj.reportparam.Company=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY:"%",this.repObj.reportparam.WarehouseType=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE:"%",this.repObj.reportname="Current Stock Warehousewise ReportNONDMS";else{if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME="";if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSENAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?"All":this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE:"",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE&&"100"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE&&"100"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME="";this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?"All":this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE:"%",this.repObj.reportparam.REPORTYPE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE:"",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE:"%",this.repObj.reportparam.params="%",this.repObj.reportparam.DIVISIONWISEREPORT=0,this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE:0,this.repObj.reportparam.ZEROBALSTOCKALSO=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_SBATCH"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_1_SBATCH"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_2_SBATCH"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="":0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_1"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=""}this.repObj.REPORTDISPLAYNAME="Consolidated Stock Report - Warehouse Wise",this._reportFilterService.CurrentStockWarehousewiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE=i.ACID,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE=i.MCODE,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM=i.DESCA,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["currentstockwarehousewise-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Fg,5),e.Gf(wg,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","400px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","315px"],["value","%"],["value","Nestle"],["value","Non Nestle"],["value","sellable"],["value","nonsellable"],["value","Main Warehouse",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],["value","Main Warehouse"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"modal-title",2,"padding-left","3%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[2,"display","flex","border","none","padding-bottom","20px"],["class","row checkbox","style","margin-top:5px; ",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""]],template:function(i,r){1&i&&(e.YNc(0,Vg,78,20,"ng-container",0),e.YNc(1,Hg,127,26,"ng-container",0)),2&i&&(e.Q6J("ngIf",1==r.userSetting.HASANOTHER_PCL),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.HASANOTHER_PCL))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const zg=["genericGridSupplierPopup"];function Kg(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function $g(a,s){if(1&a&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Xg(a,s){if(1&a&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}let eu=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._alertService=l,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,VCHR:"",ACID:"",CUSTOMERNAME:"",STATUS:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForSupplier=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(d=>{this.costCenterList=d&&d||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.GrnReportObj.assignPreviousValue&&(this._reportFilterService.GrnReportObj.GrnReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.GrnReportObj.GrnReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.GrnReportObj.GrnReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT="0",this._reportFilterService.GrnReportObj.GrnReport_STATUS="0"),this.changeEntryDate(this._reportFilterService.GrnReportObj.GrnReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.GrnReportObj.GrnReport_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.GrnReportObj.GrnReport_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.GrnReportObj.GrnReport_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.GrnReportObj.GrnReport_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.GrnReportObj.GrnReport_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.GrnReportObj.GrnReport_CCENTER||null==this._reportFilterService.GrnReportObj.GrnReport_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.GrnReportObj.GrnReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.GrnReportObj.GrnReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.GrnReportObj.GrnReport_CCENTER?this._reportFilterService.GrnReportObj.GrnReport_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.GrnReportObj.GrnReport_DIV?this._reportFilterService.GrnReportObj.GrnReport_DIV:"%",this.repObj.reportparam.STATUS=this._reportFilterService.GrnReportObj.GrnReport_STATUS?this._reportFilterService.GrnReportObj.GrnReport_STATUS:0,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT?this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE?this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER?this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER:"",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.reportname="Grn Report",this.repObj.REPORTDISPLAYNAME="Grn Report",this._reportFilterService.GrnReportObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE=i.ACID,this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["grn-report-selector"]],viewQuery:function(i,r){if(1&i&&e.Gf(zg,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4","pd0"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],[2,"width","100px"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","100",2,"margin-left","20px",3,"ngModel","ngModelChange"],[2,"width","50px"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"GRN Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_DIV=t}),e.YNc(41,Kg,2,0,"option",16),e.YNc(42,$g,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Xg,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Supplier Selection :"),e.qZA(),e.TgZ(55,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Report Option :"),e.qZA(),e.TgZ(59,"div",22)(60,"div",23)(61,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=t}),e.qZA(),e.TgZ(62,"label",25),e._uU(63,"Pending GRN Only"),e.qZA()(),e.TgZ(64,"div",23)(65,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=t}),e.qZA(),e.TgZ(66,"label"),e._uU(67,"Billed GRN Only"),e.qZA()(),e.TgZ(68,"div",23)(69,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_STATUS=t}),e.qZA(),e.TgZ(70,"label",28),e._uU(71,"All GRN"),e.qZA()()()(),e.TgZ(72,"fieldset")(73,"legend",10),e._uU(74,"Report Type :"),e.qZA(),e.TgZ(75,"div",29)(76,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT=t}),e.qZA(),e.TgZ(77,"label"),e._uU(78,"Summary Report"),e.qZA()(),e.TgZ(79,"div",29)(80,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT=t}),e.qZA(),e.TgZ(81,"label"),e._uU(82,"Detail Report"),e.qZA()()()()()(),e.TgZ(83,"div",32)(84,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(87,"Close"),e.qZA()()()()()(),e.TgZ(88,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.GrnReportObj.GrnReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.GrnReportObj.GrnReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_SUPPLIER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const tu=["genericGridItemPopup"],ru=["genericGridParentItemPopup"];function iu(a,s){1&a&&(e.TgZ(0,"option",38),e._uU(1,"ALL"),e.qZA())}function ou(a,s){if(1&a&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let nu=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._alertService=l,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",MCODE:"",REPORTTYPE:0,ITEMNAME:"",MENUCODE:"",COMID:"",PMCODE:"",PITEMSEGREGATION:0,PITEMNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForParentItem=new b.im,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RepackReportObj.assignPreviousValue&&(this._reportFilterService.RepackReportObj.RepackReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RepackReportObj.RepackReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RepackReportObj.RepackReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE="0",this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=0),this.changeEntryDate(this._reportFilterService.RepackReportObj.RepackReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RepackReportObj.RepackReport_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.RepackReportObj.RepackReport_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RepackReportObj.RepackReport_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.RepackReportObj.RepackReport_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RepackReportObj.RepackReport_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RepackReportObj.RepackReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RepackReportObj.RepackReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RepackReportObj.RepackReport_DIV?this._reportFilterService.RepackReportObj.RepackReport_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RepackReportObj.RepackReport_MCODE?this._reportFilterService.RepackReportObj.RepackReport_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE?this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RepackReportObj.RepackReport_ITEM?this._reportFilterService.RepackReportObj.RepackReport_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RepackReportObj.RepackReport_MENUCODE?this._reportFilterService.RepackReportObj.RepackReport_MENUCODE:"%",this.repObj.reportparam.PMCODE=this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE?this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE:"%",this.repObj.reportparam.PITEMNAME=this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM?this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM:"%",this.repObj.reportparam.PITEMSEGREGATION=this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION?this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.PITEMNAME&&(this.repObj.reportparam.PMCODE="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Repack Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.PITEMSEGREGATION?this.repObj.reportname="Repack Report_1":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.PITEMSEGREGATION&&(this.repObj.reportname="Repack Report_2"),this.repObj.REPORTDISPLAYNAME="Repack Report",this._reportFilterService.RepackReportObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.RepackReportObj.RepackReport_MCODE=i.MCODE,this._reportFilterService.RepackReportObj.RepackReport_ITEM=i.DESCA,this._reportFilterService.RepackReportObj.RepackReport_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}ParentItemEnterCommand(i){this.gridPopupSettingsForParentItem=this.masterService.getGenericGridPopUpSettings("ParentItemsList"),this.genericGridParentItemPopup.show()}dblClickPopupParentItem(i){this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE=i.MCODE,this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM=i.DESCA,this._reportFilterService.RepackReportObj.RepackReport_PARENTMENUCODE=i.MENUCODE}reportTypeChange(){0==this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE&&(this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=0)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["repack-report-selector"]],viewQuery:function(i,r){if(1&i&&(e.Gf(tu,5),e.Gf(ru,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridParentItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Parent Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridParentItemPopup",""],["value","%"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Repack Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_DIV=t}),e.YNc(41,iu,2,0,"option",16),e.YNc(42,ou,2,2,"option",17),e.qZA()()(),e.TgZ(43,"div",18)(44,"fieldset")(45,"legend",10),e._uU(46,"Report Type Selection :"),e.qZA(),e.TgZ(47,"div")(48,"div",19)(49,"div",20)(50,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE=t})("change",function(){return r.reportTypeChange()}),e.qZA()(),e.TgZ(51,"div",22)(52,"label",23),e._uU(53,"Entry Wise Report"),e.qZA()()(),e.TgZ(54,"div",19)(55,"div",20)(56,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE=t})("change",function(){return r.reportTypeChange()}),e.qZA()(),e.TgZ(57,"div",22)(58,"label",23),e._uU(59,"Item Wise Report"),e.qZA()()(),e.TgZ(60,"div",19)(61,"div",20)(62,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=t})("change",function(t){return r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=t.target.checked?1:0}),e.qZA()(),e.TgZ(63,"div",22)(64,"label",23),e._uU(65,"Do Parent Item Wise Segregation"),e.qZA()()()()(),e.TgZ(66,"fieldset")(67,"legend",10),e._uU(68,"Report Filter Option:"),e.qZA(),e.TgZ(69,"div",26)(70,"div",27)(71,"label",28),e._uU(72,"Item Name :"),e.qZA()(),e.TgZ(73,"div",29)(74,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(75,"div",26)(76,"div",27)(77,"label",28),e._uU(78,"Parent Item Name :"),e.qZA()(),e.TgZ(79,"div",29)(80,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RepackReportObj.RepackReport_PARENTITEM=t})("keydown.enter",function(t){return r.ParentItemEnterCommand(t)})("keydown.Tab",function(t){return r.ParentItemEnterCommand(t)})("keyup",function(t){return r.ParentItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(81,"div",32)(82,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(83,"RUN"),e.qZA(),e.TgZ(84,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(85,"Close"),e.qZA()()()()()(),e.TgZ(86,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(88,"generic-popup-grid",35,37),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParentItem(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RepackReportObj.RepackReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RepackReportObj.RepackReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION)("checked",1==r._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION)("disabled",0==r._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RepackReportObj.RepackReport_PARENTITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForParentItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const au=["genericGridItemPopup"];function su(a,s){1&a&&(e.TgZ(0,"option",47),e._uU(1,"ALL"),e.qZA())}function lu(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function pu(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.INITIAL),e.xp6(1),e.hij("",i.NAME," ")}}function cu(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",30)(1,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=o)}),e._UZ(2,"option",47),e.YNc(3,pu,2,2,"option",17),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM),e.xp6(2),e.Q6J("ngForOf",i.reqdivisionList)}}function _u(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij("",i.NAME," ")}}function du(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",30)(1,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=o)}),e.ALo(2,"disableField"),e._UZ(3,"option",47),e.YNc(4,_u,2,2,"option",17),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM)("disabled",e.lcZ(2,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",i.warehouseList)}}function hu(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.INITIAL),e.xp6(1),e.hij("",i.NAME," ")}}function gu(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",30)(1,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO=o)}),e._UZ(2,"option",47),e.YNc(3,hu,2,2,"option",17),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO),e.xp6(2),e.Q6J("ngForOf",i.reqdivisionList)}}function uu(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij("",i.NAME," ")}}function mu(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",30)(1,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO=o)}),e._UZ(2,"option",47),e.YNc(3,uu,2,2,"option",17),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO),e.xp6(2),e.Q6J("ngForOf",i.warehouseList)}}function Su(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",50)(1,"div",51)(2,"input",52),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",30)(4,"label",53),e._uU(5),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH)("checked",1==i._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH),e.xp6(3),e.hij("Disable ",i.typeWise," Wise Segragation In Report")}}let Ou=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._alertService=l,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",ENTRYWISEREPORT:"",REQTYPE:"",Status:"",IGNOREBRANCH:"",REQFROM:"",REQTO:"",REQFROMDISPLAYNAME:"",REQTODISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.warehouseList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.reqdivisionList=[],this.userProfile={},this.typeWise="Division",this.gridPopupSettingsForItem=new b.im,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("this.userProfile",this.userProfile),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getDivisionWiseWarehouseList(this._transactionService.userProfile.userDivision).subscribe(d=>{this.warehouseList=d}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)}),this.masterService.getNotLoginDivisionList().subscribe(d=>{this.reqdivisionList=d});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RequisitionReportObj.assignPreviousValue&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RequisitionReportObj.RequisitionReport_ShowItemInGroupWiseReport=0,this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT="1",this._reportFilterService.RequisitionReportObj.RequisitionReport_Status="0",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM="%",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO="%",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE="0"),this.changeEntryDate(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM&&"%"==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM)this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME="All";else if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM&&"%"!=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM){let t=this.reqdivisionList.filter(n=>n.INITIAL==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM);this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME="";if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO&&"%"==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO)this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME="All";else if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO&&"%"!=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO){let t=this.reqdivisionList.filter(n=>n.INITIAL==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO);this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV?this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE?this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.RequisitionReportObj.RequisitionReport_MGROUP?this._reportFilterService.RequisitionReportObj.RequisitionReport_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.RequisitionReportObj.RequisitionReport_PTYPE?this._reportFilterService.RequisitionReportObj.RequisitionReport_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.RequisitionReportObj.RequisitionReport_MCAT?this._reportFilterService.RequisitionReportObj.RequisitionReport_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM?this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE?this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE:"",this.repObj.reportparam.ENTRYWISEREPORT=this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT?this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT:"",this.repObj.reportparam.REQTYPE=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE:"0",this.repObj.reportparam.Status=this._reportFilterService.RequisitionReportObj.RequisitionReport_Status?this._reportFilterService.RequisitionReportObj.RequisitionReport_Status:"",this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH?this._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH:0,this.repObj.reportparam.REQFROM=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM:"%",this.repObj.reportparam.REQTO=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO:"%",this.repObj.reportparam.REQFROMDISPLAYNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME:"",this.repObj.reportparam.REQTODISPLAYNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),1==this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT?this.repObj.reportname="Requisition Report":2==this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT&&(this.repObj.reportname="Requisition Report_1"),this.repObj.REPORTDISPLAYNAME="Requisition Report",this._reportFilterService.RequisitionReportObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}onChangeReqType(i){0==i&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM="%",this.typeWise="Division"),1==i&&(1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=this.userProfile.userWarehouse),this.typeWise="Warehouse")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE=i.MCODE,this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM=i.DESCA,this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}ItemWiseChange(){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["requisition-report-selector"]],viewQuery:function(i,r){if(1&i&&e.Gf(au,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:130,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reqType","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reqType","value","1",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","2",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%","width","100px !important"],["class","col",4,"ngIf"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-bottom","-3%"],[1,"col-sm-1","pd0"],["type","radio","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","value","1",3,"ngModel","ngModelChange"],["type","radio","value","2",3,"ngModel","ngModelChange"],["type","radio","value","3",3,"ngModel","ngModelChange"],["type","radio","value","4",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["value","%"],[3,"value"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Requisition Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_DIV=t}),e.YNc(41,su,2,0,"option",16),e.YNc(42,lu,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Requisition Type:"),e.qZA(),e.TgZ(46,"div",1)(47,"div",18)(48,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE=t})("change",function(){return r.onChangeReqType(0)}),e.qZA(),e.TgZ(49,"label",20),e._uU(50,"Transfer Out"),e.qZA()(),e.TgZ(51,"div",18)(52,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE=t})("change",function(){return r.onChangeReqType(1)}),e.qZA(),e.TgZ(53,"label",20),e._uU(54,"Stock Issue"),e.qZA()()()()(),e.TgZ(55,"div",22)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",18)(61,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT=t}),e.qZA(),e.TgZ(62,"label",20),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",18)(65,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT=t}),e.qZA(),e.TgZ(66,"label",20),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Report Filter Option :"),e.qZA(),e.TgZ(71,"div",25)(72,"div",26)(73,"label",27),e._uU(74,"Requisition From :"),e.qZA()(),e.YNc(75,cu,4,2,"div",28),e.YNc(76,du,5,5,"div",28),e.qZA(),e.TgZ(77,"div",25)(78,"div",26)(79,"label",29),e._uU(80,"Requisition To :"),e.qZA()(),e.YNc(81,gu,4,2,"div",28),e.YNc(82,mu,4,2,"div",28),e.qZA(),e.TgZ(83,"div",25)(84,"div",26)(85,"label",29),e._uU(86,"Item Name :"),e.qZA()(),e.TgZ(87,"div",30)(88,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Requisition Status :"),e.qZA(),e.TgZ(92,"div",32)(93,"div",33)(94,"input",34),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=t}),e.qZA()(),e.TgZ(95,"div",35)(96,"label",36),e._uU(97,"All"),e.qZA()()(),e.TgZ(98,"div",32)(99,"div",33)(100,"input",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=t}),e.qZA()(),e.TgZ(101,"div",35)(102,"label",36),e._uU(103,"Pending"),e.qZA()()(),e.TgZ(104,"div",32)(105,"div",33)(106,"input",38),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=t}),e.qZA()(),e.TgZ(107,"div",35)(108,"label",36),e._uU(109,"Delivered"),e.qZA()()(),e.TgZ(110,"div",32)(111,"div",33)(112,"input",39),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=t}),e.qZA()(),e.TgZ(113,"div",35)(114,"label",36),e._uU(115,"Force Closed"),e.qZA()()(),e.TgZ(116,"div",32)(117,"div",33)(118,"input",40),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionReportObj.RequisitionReport_Status=t}),e.qZA()(),e.TgZ(119,"div",35)(120,"label",36),e._uU(121,"Partial"),e.qZA()()()()(),e.YNc(122,Su,6,3,"div",41),e.qZA()()(),e.TgZ(123,"div",42)(124,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(125,"RUN"),e.qZA(),e.TgZ(126,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(127,"Close"),e.qZA()()()()()(),e.TgZ(128,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(10),e.Q6J("ngIf","0"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(1),e.Q6J("ngIf","1"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(5),e.Q6J("ngIf","0"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(1),e.Q6J("ngIf","1"==r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(4),e.Q6J("ngIf",2==r._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function bu(a,s){if(1&a&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Tu(a,s){if(1&a&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.ID),e.xp6(1),e.hij(" ",i.REPORTNAME," ")}}function vu(a,s){if(1&a&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function fu(a,s){if(1&a&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Cu(a,s){if(1&a){const i=e.EpF();e.ynx(0),e.TgZ(1,"fieldset")(2,"legend",10),e._uU(3,"From Division:"),e.qZA(),e.TgZ(4,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV=o)}),e.TgZ(5,"option",16),e._uU(6,"ALL"),e.qZA(),e.YNc(7,vu,2,2,"option",17),e.qZA()(),e.TgZ(8,"fieldset")(9,"legend",10),e._uU(10,"To Division:"),e.qZA(),e.TgZ(11,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.RawDataReportObj.RawDataReport_TODIV=o)}),e.TgZ(12,"option",16),e._uU(13,"ALL"),e.qZA(),e.YNc(14,fu,2,2,"option",17),e.qZA()(),e.BQk()}if(2&a){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV),e.xp6(3),e.Q6J("ngForOf",i.divisionList),e.xp6(4),e.Q6J("ngModel",i._reportFilterService.RawDataReportObj.RawDataReport_TODIV),e.xp6(3),e.Q6J("ngForOf",i.divisionList)}}let Au=(()=>{class a{constructor(i,r,o,t,n,l){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",COMID:"",REPORT_ID:1,REPORT_NAME:"",FROMDIV:"%",TODIV:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.rawdatareportList=[],this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getRawDataReportList().subscribe(p=>{this.rawdatareportList=p});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10)}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RawDataReportObj.assignPreviousValue&&(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RawDataReportObj.RawDataReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RawDataReportObj.RawDataReport_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV=!1),this.changeEntryDate(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RawDataReportObj.RawDataReport_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.RawDataReportObj.RawDataReport_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.RawDataReportObj.RawDataReport_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RawDataReportObj.RawDataReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RawDataReportObj.RawDataReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RawDataReportObj.RawDataReport_DIV?this._reportFilterService.RawDataReportObj.RawDataReport_DIV:"%",this.repObj.reportparam.REPORT_ID=this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID?this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID:1,this.repObj.reportparam.REPORT_NAME=this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME?this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME:"",this.repObj.reportparam.FROMDIV=this._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV?this._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV:"%",this.repObj.reportparam.TODIV=this._reportFilterService.RawDataReportObj.RawDataReport_TODIV?this._reportFilterService.RawDataReportObj.RawDataReport_TODIV:"%",this.repObj.reportname=`Raw Data Report_${this.repObj.reportparam.REPORT_ID}`,this.repObj.REPORTDISPLAYNAME="Raw Data Report",this._reportFilterService.RawDataReportObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}showFromToDiv(){let i=this.rawdatareportList.filter(r=>r.ID==this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID);i.length>0&&(this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME=i[0].REPORTNAME,this._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV=!(!i[0].SHOWFROMTODIV||1!=i[0].SHOWFROMTODIV))}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["rawdata-report-selector"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:56,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","310px"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Raw Data Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RawDataReportObj.RawDataReport_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RawDataReportObj.RawDataReport_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RawDataReportObj.RawDataReport_DIV=t}),e.TgZ(41,"option",16),e._uU(42,"ALL"),e.qZA(),e.YNc(43,bu,2,2,"option",17),e.qZA()()(),e.TgZ(44,"div",18)(45,"fieldset")(46,"legend",10),e._uU(47,"Report Type:"),e.qZA(),e.TgZ(48,"select",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID=t})("change",function(){return r.showFromToDiv()}),e.YNc(49,Tu,2,2,"option",17),e.qZA()(),e.YNc(50,Cu,15,4,"ng-container",20),e.qZA()()(),e.TgZ(51,"div",21)(52,"button",22),e.NdJ("click",function(){return r.onload()}),e._uU(53,"RUN"),e.qZA(),e.TgZ(54,"button",23),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(55,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID),e.xp6(1),e.Q6J("ngForOf",r.rawdatareportList),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Pu=["genericGridSupplierPopup"],Mu=["genericGridItemPopup"];function Ru(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Eu(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Iu(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function yu(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAgeingObj.StockAgeing_AGE5=o)}),e.qZA()}if(2&a){const i=e.oxw();e.Q6J("ngModel",i._reportFilterService.StockAgeingObj.StockAgeing_AGE5)}}function Du(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAgeingObj.StockAgeing_AGE6=o)}),e.qZA()}if(2&a){const i=e.oxw();e.Q6J("ngModel",i._reportFilterService.StockAgeingObj.StockAgeing_AGE6)}}function Nu(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAgeingObj.StockAgeing_AGE7=o)}),e.qZA()}if(2&a){const i=e.oxw();e.Q6J("ngModel",i._reportFilterService.StockAgeingObj.StockAgeing_AGE7)}}function ju(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAgeingObj.StockAgeing_AGE8=o)}),e.qZA()}if(2&a){const i=e.oxw();e.Q6J("ngModel",i._reportFilterService.StockAgeingObj.StockAgeing_AGE8)}}function ku(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAgeingObj.StockAgeing_AGE9=o)}),e.qZA()}if(2&a){const i=e.oxw();e.Q6J("ngModel",i._reportFilterService.StockAgeingObj.StockAgeing_AGE9)}}function Fu(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAgeingObj.StockAgeing_AGE10=o)}),e.qZA()}if(2&a){const i=e.oxw();e.Q6J("ngModel",i._reportFilterService.StockAgeingObj.StockAgeing_AGE10)}}function wu(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Wu(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Lu(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function Zu(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",31)(2,"label",32),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",23)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAgeingObj.StockAgeing_PTYPE=o)}),e._UZ(6,"option",48),e.YNc(7,Lu,2,2,"option",17),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.StockAgeingObj.StockAgeing_PTYPE),e.xp6(2),e.Q6J("ngForOf",i.PTypeList)}}function xu(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MANUFACTURER),e.xp6(1),e.hij("",i.MANUFACTURER," ")}}function Uu(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",31)(2,"label",32),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",23)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER=o)}),e._UZ(6,"option",19),e.YNc(7,xu,2,2,"option",17),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",i.ManufacturerList)}}let Vu=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._alertService=l,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",AGE1:30,AGE2:60,AGE3:90,AGE4:120,AGE5:150,AGE6:180,AGE7:210,AGE8:240,AGE9:270,AGE10:300,AGEINGMODE:0,SHOWBATCHWISEAGEING:0,SHOWGROUPING:0,WAREHOUSE:"%",MANUFACTURER:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.ManufacturerList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)}),this.masterService.getWarehouseList().subscribe(d=>{this.warehouseList=d}),this.masterService.getManufacturerList().subscribe(d=>{d&&(this.ManufacturerList=d)});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){let i={};i=this.masterService.userProfile.userRights.find(o=>"StockAgeingLimit"==o.right),this.AgingValue=i.value,console.log("AGINGVALUE",this.AgingValue);const r=new Date;this.currDate=(0,m.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(o=>{"DRILL"==o.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockAgeingObj.assignPreviousValue&&(this._reportFilterService.StockAgeingObj.StockAgeing_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.StockAgeingObj.StockAgeing_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockAgeingObj.StockAgeing_AGE1=30,this._reportFilterService.StockAgeingObj.StockAgeing_AGE2=60,this._reportFilterService.StockAgeingObj.StockAgeing_AGE3=90,this._reportFilterService.StockAgeingObj.StockAgeing_AGE4=120,this._reportFilterService.StockAgeingObj.StockAgeing_AGE5=150,this._reportFilterService.StockAgeingObj.StockAgeing_AGE6=180,this._reportFilterService.StockAgeingObj.StockAgeing_AGE7=210,this._reportFilterService.StockAgeingObj.StockAgeing_AGE8=240,this._reportFilterService.StockAgeingObj.StockAgeing_AGE9=270,this._reportFilterService.StockAgeingObj.StockAgeing_AGE10=300,this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE=1,this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING=0,this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING=0),this.changeEntryDate(this._reportFilterService.StockAgeingObj.StockAgeing_DATE1,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockAgeingObj.StockAgeing_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.StockAgeingObj.StockAgeing_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockAgeingObj.StockAgeing_DIV?this._reportFilterService.StockAgeingObj.StockAgeing_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE?this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockAgeingObj.StockAgeing_MCODE?this._reportFilterService.StockAgeingObj.StockAgeing_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.StockAgeingObj.StockAgeing_MGROUP?this._reportFilterService.StockAgeingObj.StockAgeing_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockAgeingObj.StockAgeing_PTYPE?this._reportFilterService.StockAgeingObj.StockAgeing_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockAgeingObj.StockAgeing_MCAT?this._reportFilterService.StockAgeingObj.StockAgeing_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockAgeingObj.StockAgeing_ITEM?this._reportFilterService.StockAgeingObj.StockAgeing_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER?this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE?this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE:"",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE?this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE:"%",this.repObj.reportparam.AGE1=this._reportFilterService.StockAgeingObj.StockAgeing_AGE1?this._reportFilterService.StockAgeingObj.StockAgeing_AGE1:30,this.repObj.reportparam.AGE2=this._reportFilterService.StockAgeingObj.StockAgeing_AGE2?this._reportFilterService.StockAgeingObj.StockAgeing_AGE2:60,this.repObj.reportparam.AGE3=this._reportFilterService.StockAgeingObj.StockAgeing_AGE3?this._reportFilterService.StockAgeingObj.StockAgeing_AGE3:90,this.repObj.reportparam.AGE4=this._reportFilterService.StockAgeingObj.StockAgeing_AGE4?this._reportFilterService.StockAgeingObj.StockAgeing_AGE4:120,this.repObj.reportparam.AGE5=this.AgingValue>=5?this._reportFilterService.StockAgeingObj.StockAgeing_AGE5?this._reportFilterService.StockAgeingObj.StockAgeing_AGE5:150:0,this.repObj.reportparam.AGE6=this.AgingValue>=6?this._reportFilterService.StockAgeingObj.StockAgeing_AGE6?this._reportFilterService.StockAgeingObj.StockAgeing_AGE6:180:0,this.repObj.reportparam.AGE7=this.AgingValue>=7?this._reportFilterService.StockAgeingObj.StockAgeing_AGE7?this._reportFilterService.StockAgeingObj.StockAgeing_AGE7:210:0,this.repObj.reportparam.AGE8=this.AgingValue>=8?this._reportFilterService.StockAgeingObj.StockAgeing_AGE8?this._reportFilterService.StockAgeingObj.StockAgeing_AGE8:240:0,this.repObj.reportparam.AGE9=this.AgingValue>=9?this._reportFilterService.StockAgeingObj.StockAgeing_AGE9?this._reportFilterService.StockAgeingObj.StockAgeing_AGE9:270:0,this.repObj.reportparam.AGE10=this.AgingValue>=10?this._reportFilterService.StockAgeingObj.StockAgeing_AGE10?this._reportFilterService.StockAgeingObj.StockAgeing_AGE10:300:0,this.repObj.reportparam.AGEINGMODE=this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE?this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE:1,this.repObj.reportparam.SHOWBATCHWISEAGEING=this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING?this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING?this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING:0,this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER?this._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER:"%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?1==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_SBATCH":1==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_1_SBATCH":2==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_2_SBATCH":2==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_3_SBATCH":3==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_4_SBATCH":3==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING&&(this.repObj.reportname="Stock Ageing ReportNONDMS_5_SBATCH"):1==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS":1==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_1":2==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_2":2==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_3":3==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_4":3==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING&&(this.repObj.reportname="Stock Ageing ReportNONDMS_5"),this.repObj.REPORTDISPLAYNAME="Stock Ageing Report",this._reportFilterService.StockAgeingObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r});const t=this.storeInLargestAgeKeyTheLargetsAgeValue({...this.repObj.reportparam}),n={...this.repObj,reportparam:t};this.reportdataEmit.emit({status:"ok",data:n})}storeInLargestAgeKeyTheLargetsAgeValue(i){let r=0,o=0;const t=Object.entries(i);for(const[n,l]of t){let p;if(null!==(p=/(AGE)(\d+)/.exec(n))&&"number"==typeof l){if(p[2]){const d=+p[2];d>o&&(o=d)}l>r&&(r=l)}}return i[`AGE${o}`]=r,{...i}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE=i.ACID,this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.StockAgeingObj.StockAgeing_MCODE=i.MCODE,this._reportFilterService.StockAgeingObj.StockAgeing_ITEM=i.DESCA,this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["stockageing-report-selector"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Pu,5),e.Gf(Mu,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:127,vars:39,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"padding-top","0px"],[1,"col-md-6","filter-part"],[2,"margin-left","50px"],["type","text",1,"ageing","form-control",3,"ngModel","ngModelChange"],["type","text","class","ageing form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","1"],["value","2"],["value","3"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"],["value","100"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Ageing Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1=t}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_DIV=t}),e.YNc(31,Ru,2,0,"option",16),e.YNc(32,Eu,2,2,"option",17),e.qZA()(),e.TgZ(33,"fieldset")(34,"legend",10),e._uU(35,"Warehouse Selection:"),e.qZA(),e.TgZ(36,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE=t}),e.ALo(37,"disableField"),e._UZ(38,"option",19),e.YNc(39,Iu,2,2,"option",17),e.qZA()(),e.TgZ(40,"div",20)(41,"div",21)(42,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING=t}),e.qZA()(),e.TgZ(43,"div",23)(44,"label",24),e._uU(45,"Show Batch In Ageing Report"),e.qZA()()(),e.TgZ(46,"div",25)(47,"div",21)(48,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING=t}),e.qZA()(),e.TgZ(49,"div",23)(50,"label",24),e._uU(51,"Show Item Grouping Hierarchy"),e.qZA()()()(),e.TgZ(52,"div",26)(53,"fieldset")(54,"legend",10),e._uU(55,"Ageing Parameter"),e.qZA(),e.TgZ(56,"div",27)(57,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE1=t}),e.qZA(),e.TgZ(58,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE2=t}),e.qZA(),e.TgZ(59,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE3=t}),e.qZA(),e.TgZ(60,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_AGE4=t}),e.qZA(),e.YNc(61,yu,1,1,"input",29),e.YNc(62,Du,1,1,"input",29),e.YNc(63,Nu,1,1,"input",29),e.YNc(64,ju,1,1,"input",29),e.YNc(65,ku,1,1,"input",29),e.YNc(66,Fu,1,1,"input",29),e.qZA()(),e.TgZ(67,"fieldset")(68,"legend",10),e._uU(69,"Ageing Type Selection :"),e.qZA(),e.TgZ(70,"div",30)(71,"div",31)(72,"label",32),e._uU(73,"Ageing Type:"),e.qZA()(),e.TgZ(74,"div",23)(75,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE=t}),e.TgZ(76,"option",33),e._uU(77,"By Purchase Date"),e.qZA(),e.TgZ(78,"option",34),e._uU(79,"By Expiry Date"),e.qZA(),e.TgZ(80,"option",35),e._uU(81,"By Manufacturing Date"),e.qZA()()()()(),e.TgZ(82,"fieldset")(83,"legend"),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",8)(86,"div",31)(87,"label",32),e._uU(88,"Item Group :"),e.qZA()(),e.TgZ(89,"div",23)(90,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_MGROUP=t}),e._UZ(91,"option",19),e.YNc(92,wu,2,2,"option",17),e.qZA()()(),e.TgZ(93,"div",1)(94,"div",31)(95,"label",32),e._uU(96,"Item Category :"),e.qZA()(),e.TgZ(97,"div",23)(98,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_MCAT=t}),e._UZ(99,"option",19),e.YNc(100,Wu,2,2,"option",17),e.qZA()()(),e.YNc(101,Zu,8,2,"div",36),e.YNc(102,Uu,8,2,"div",36),e.TgZ(103,"div",37)(104,"div",31)(105,"label",38),e._uU(106,"Supplier Name :"),e.qZA()(),e.TgZ(107,"div",23)(108,"input",39),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(109,"fieldset")(110,"legend",10),e._uU(111,"Item Selection :"),e.qZA(),e.TgZ(112,"div",30)(113,"div",31)(114,"label",32),e._uU(115,"Item Name :"),e.qZA()(),e.TgZ(116,"div",23)(117,"input",40),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockAgeingObj.StockAgeing_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(118,"div",41)(119,"button",42),e.NdJ("click",function(){return r.onload()}),e._uU(120,"RUN"),e.qZA(),e.TgZ(121,"button",43),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(122,"Close"),e.qZA()()()()()(),e.TgZ(123,"generic-popup-grid",44,45),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(125,"generic-popup-grid",44,46),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE)("disabled",e.lcZ(37,37,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING)("checked",1==r._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING)("checked",1==r._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE1),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE2),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE3),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE4),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=5),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=6),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=7),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=8),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=9),e.xp6(1),e.Q6J("ngIf",r.AgingValue>=10),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE),e.xp6(15),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Bu=["genericGridSupplierPopup"],Yu=["genericGridItemPopup"];function Ju(a,s){1&a&&(e.TgZ(0,"option",27),e._uU(1,"ALL"),e.qZA())}function qu(a,s){if(1&a&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Gu(a,s){if(1&a&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Hu(a,s){if(1&a&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Qu(a,s){if(1&a&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let zu=(()=>{class a{constructor(i,r,o,t,n,l){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",FROMDATE:"",TODATE:"",FROMDIV:"",SHOWINTRANSITONLY:0,COMID:"",SHOWBATCHWISE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.userSetting=l.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.BranchtransferoutVsInObj.assignPreviousValue&&(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=0,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=0,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=0),this.changeEntryDate(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,"AD")})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}onload(){console.log("@@reporttype",this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit),this.repObj.reportparam.DATE1=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM:"",this.repObj.reportparam.FROMDATE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,this.repObj.reportparam.FROMDIV=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV:"%",this.repObj.reportparam.SHOWINTRANSITONLY=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit:0,this.repObj.reportparam.REPORTTYPE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE:"%",this.repObj.reportparam.SHOWBATCHWISE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_1":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_2":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_3":0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_4":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_5":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_6":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE&&(this.repObj.reportname="Branch Transfer Out Vs In Report_7"),this.repObj.REPORTDISPLAYNAME="Branch Transfer Out Vs In Report",this._reportFilterService.BranchtransferoutVsInObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_SUPPLIERCODE=i.ACID,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE=i.MCODE,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM=i.DESCA,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["branch-transferout-vs-inreport"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Bu,5),e.Gf(Yu,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:107,vars:25,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","%"],["value","100"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Out Vs In Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV=t}),e.YNc(41,Ju,2,0,"option",16),e.YNc(42,qu,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",18)(44,"div",19)(45,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=t})("change",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=t.target.checked?1:0}),e.qZA()(),e.TgZ(46,"div",21)(47,"label",22),e._uU(48,"Show value in Report Also"),e.qZA()()(),e.TgZ(49,"div",23)(50,"div",1)(51,"div",19)(52,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=t})("change",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=t.target.checked?1:0}),e.qZA()(),e.TgZ(53,"div",21)(54,"label",22),e._uU(55,"Show Item In Transit only"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"div",1)(58,"div",19)(59,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=t})("change",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=t.target.checked?1:0}),e.qZA()(),e.TgZ(60,"div",21)(61,"label",22),e._uU(62,"Show Batch Wise Report"),e.qZA()()()()(),e.TgZ(63,"div",24)(64,"fieldset")(65,"legend"),e._uU(66,"Report Filter Option :"),e.qZA(),e.TgZ(67,"div",8)(68,"div",25)(69,"label",26),e._uU(70,"Item Group :"),e.qZA()(),e.TgZ(71,"div",21)(72,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP=t}),e._UZ(73,"option",27),e.YNc(74,Gu,2,2,"option",17),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",25)(77,"label",26),e._uU(78,"Item Category :"),e.qZA()(),e.TgZ(79,"div",21)(80,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT=t}),e._UZ(81,"option",27),e.YNc(82,Hu,2,2,"option",17),e.qZA()()(),e.TgZ(83,"div",1)(84,"div",25)(85,"label",26),e._uU(86,"Item Type :"),e.qZA()(),e.TgZ(87,"div",21)(88,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE=t}),e._UZ(89,"option",28),e.YNc(90,Qu,2,2,"option",17),e.qZA()()()(),e.TgZ(91,"fieldset")(92,"legend",10),e._uU(93,"Item Selection :"),e.qZA(),e.TgZ(94,"div",29)(95,"div",25)(96,"label",26),e._uU(97,"Item Name :"),e.qZA()(),e.TgZ(98,"div",21)(99,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(100,"div",31)(101,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(102,"RUN"),e.qZA(),e.TgZ(103,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(104,"Close"),e.qZA()()()()()(),e.TgZ(105,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport)("checked",1==r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit)("checked",1==r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise)("checked",1==r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Ku=["genericGridSupplierPopup"],$u=["genericGridItemPopup"];function Xu(a,s){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function em(a,s){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function tm(a,s){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function rm(a,s){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let im=(()=>{class a{constructor(i,r,o,t,n,l){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.categorywiseConfigurationdetails=[],this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{1!=this._reportFilterService.StockWarehousewiseObj.assignPreviousValue&&(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2,"AD")})}changeEntryDate(i,r){console.log("Value in date",i);var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE:"%",this.repObj.reportparam.ReportMode=this._reportFilterService.StockWarehousewiseObj.StockSummary_ReportMode?this._reportFilterService.StockWarehousewiseObj.StockSummary_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Stock Report Warehouse Wise",this.repObj.REPORTDISPLAYNAME="Stock Report Warehouse Wise",this._reportFilterService.StockWarehousewiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE=i.ACID,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE=i.MCODE,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM=i.DESCA,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["stock-warehouse-wise-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Ku,5),e.Gf($u,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:114,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"margin-top","5px","float","right"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1=t}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV=t}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,Xu,2,2,"option",17),e.qZA()(),e.TgZ(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=t}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=t}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=t}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(56,"div",26)(57,"div",27)(58,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SHOWBATCHWISE=t}),e.qZA()(),e.TgZ(59,"div",29)(60,"label",30),e._uU(61,"Show Batch Wise Stock Report "),e.qZA()()()(),e.TgZ(62,"div",31)(63,"fieldset")(64,"legend"),e._uU(65,"Report Filter Option :"),e.qZA(),e.TgZ(66,"div",8)(67,"div",32)(68,"label",33),e._uU(69,"Item Group :"),e.qZA()(),e.TgZ(70,"div",29)(71,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP=t}),e._UZ(72,"option",16),e.YNc(73,em,2,2,"option",17),e.qZA()()(),e.TgZ(74,"div",1)(75,"div",32)(76,"label",33),e._uU(77,"Item Category :"),e.qZA()(),e.TgZ(78,"div",29)(79,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT=t}),e._UZ(80,"option",16),e.YNc(81,tm,2,2,"option",17),e.qZA()()(),e.TgZ(82,"div",1)(83,"div",32)(84,"label",33),e._uU(85,"Item Type :"),e.qZA()(),e.TgZ(86,"div",29)(87,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE=t}),e._UZ(88,"option",34),e.YNc(89,rm,2,2,"option",17),e.qZA()()(),e.TgZ(90,"div",35)(91,"div",32)(92,"label",36),e._uU(93,"Supplier Name :"),e.qZA()(),e.TgZ(94,"div",29)(95,"input",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(96,"fieldset")(97,"legend",10),e._uU(98,"Item Selection :"),e.qZA(),e.TgZ(99,"div",38)(100,"div",32)(101,"label",33),e._uU(102,"Item Name :"),e.qZA()(),e.TgZ(103,"div",29)(104,"input",39),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(105,"div",40)(106,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(107,"RUN"),e.qZA(),e.TgZ(108,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(109,"Close"),e.qZA()()()()()(),e.TgZ(110,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(112,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(23),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SHOWBATCHWISE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const om=["genericGridSupplierPopup"],nm=["genericGridItemPopup"];function am(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function sm(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function lm(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let pm=(()=>{class a{constructor(i,r,o,t,n,l){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",REPORTOPTIONDISPLAYNAME:"",SUPPLIERDISPLAYNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE="0",this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}onload(){if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Wise Report",this.repObj.reportname="Consolidated Purchase Report Division Wise"):1==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Group Wise Report",this.repObj.reportname="Consolidated Purchase Report Division Wise_1"):2==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Category Wise Report",this.repObj.reportname="Consolidated Purchase Report Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Purchase Report - Division Wise",this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE=i.ACID,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE=i.MCODE,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM=i.DESCA,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["consolidatedpurchase-reportbranchwise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(om,5),e.Gf(nm,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:111,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Purchase Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Type Selection :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=t}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Item Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=t}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Item Group Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=t}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Item Category Wise Report"),e.qZA()()()()()(),e.TgZ(59,"div",23)(60,"fieldset")(61,"legend"),e._uU(62,"Report Filter Option :"),e.qZA(),e.TgZ(63,"div",8)(64,"div",24)(65,"label",25),e._uU(66,"Item Group :"),e.qZA()(),e.TgZ(67,"div",26)(68,"select",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP=t}),e._UZ(69,"option",28),e.YNc(70,am,2,2,"option",29),e.qZA()()(),e.TgZ(71,"div",1)(72,"div",24)(73,"label",25),e._uU(74,"Item Category :"),e.qZA()(),e.TgZ(75,"div",26)(76,"select",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT=t}),e._UZ(77,"option",28),e.YNc(78,sm,2,2,"option",29),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",24)(81,"label",25),e._uU(82,"Item Type :"),e.qZA()(),e.TgZ(83,"div",26)(84,"select",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE=t}),e._UZ(85,"option",30),e.YNc(86,lm,2,2,"option",29),e.qZA()()(),e.TgZ(87,"div",31)(88,"div",24)(89,"label",32),e._uU(90,"Supplier Name :"),e.qZA()(),e.TgZ(91,"div",26)(92,"input",33),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(93,"fieldset")(94,"legend",10),e._uU(95,"Item Selection :"),e.qZA(),e.TgZ(96,"div",34)(97,"div",24)(98,"label",25),e._uU(99,"Item Name :"),e.qZA()(),e.TgZ(100,"div",26)(101,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(102,"div",36)(103,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(104,"RUN"),e.qZA(),e.TgZ(105,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(106,"Close"),e.qZA()()()()()(),e.TgZ(107,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(109,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const cm=["genericGridCustomerPopup"],_m=["genericGridItemPopup"];function dm(a,s){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function hm(a,s){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function gm(a,s){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let um=(()=>{class a{constructor(i,r,o,t,n,l){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",MENUCODE:"",CUSTOMERNAME:"",REPORTOPTIONDISPLAYNAME:"",CUSTOMERDISPLAYNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new b.im,this.gridPopupSettingsForItem=new b.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}onload(){if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping??0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Wise Report",this.repObj.reportname="Consolidated Sales Report Division Wise"):1==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Group Wise Report",this.repObj.reportname="Consolidated Sales Report Division Wise_1"):2==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Category Wise Report",this.repObj.reportname="Consolidated Sales Report Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Sales Report - Division Wise",this._reportFilterService.ConsolidtedSalesBranchWiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(i){this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE=i.CUSTID,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER=i.CUSTNAME}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE=i.MCODE,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM=i.DESCA,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["consolidatedsales-reportbranchwise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(cm,5),e.Gf(_m,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:117,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Sales Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Type Selection :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=t}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Item Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=t}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Item Group Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=t}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Item Category Wise Report"),e.qZA()()()()(),e.TgZ(59,"div",23)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping=t})("change",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping=t.target.checked?1:0}),e.qZA()(),e.TgZ(62,"div",26)(63,"label",27),e._uU(64,"Show Item Hierarchy"),e.qZA()()()(),e.TgZ(65,"div",28)(66,"fieldset")(67,"legend"),e._uU(68,"Report Filter Option :"),e.qZA(),e.TgZ(69,"div",8)(70,"div",29)(71,"label",30),e._uU(72,"Item Group :"),e.qZA()(),e.TgZ(73,"div",26)(74,"select",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP=t}),e._UZ(75,"option",32),e.YNc(76,dm,2,2,"option",33),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",29)(79,"label",30),e._uU(80,"Item Category :"),e.qZA()(),e.TgZ(81,"div",26)(82,"select",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT=t}),e._UZ(83,"option",32),e.YNc(84,hm,2,2,"option",33),e.qZA()()(),e.TgZ(85,"div",1)(86,"div",29)(87,"label",30),e._uU(88,"Item Type :"),e.qZA()(),e.TgZ(89,"div",26)(90,"select",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE=t}),e._UZ(91,"option",34),e.YNc(92,gm,2,2,"option",33),e.qZA()()(),e.TgZ(93,"div",35)(94,"div",29)(95,"label",36),e._uU(96,"Customer Name :"),e.qZA()(),e.TgZ(97,"div",26)(98,"input",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(99,"fieldset")(100,"legend",10),e._uU(101,"Item Selection :"),e.qZA(),e.TgZ(102,"div",38)(103,"div",29)(104,"label",30),e._uU(105,"Item Name :"),e.qZA()(),e.TgZ(106,"div",26)(107,"input",39),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(108,"div",40)(109,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(110,"RUN"),e.qZA(),e.TgZ(111,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(112,"Close"),e.qZA()()()()()(),e.TgZ(113,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(115,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping)("checked",1==r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const mm=["genericGridSupplierPopup"],Sm=["genericGridItemPopup"];function Om(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",28)(4,"label",29),e._uU(5,"Show Batch Wise Stock Report "),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE)("checked",1==i._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE)}}function bm(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Tm(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function vm(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let fm=(()=>{class a{constructor(i,r,o,t,n,l){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._authService=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",MCODE:"",REPORTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",WAREHOUSE:"",DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",params:"%",DIVISIONWISEREPORT:1,SHOWBATCHWISESTOCK:0,ZEROBALSTOCKALSO:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedStockBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE="0",this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=0,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=0,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.userProfile.CompanyInfo.INITIAL),this.changeEntryDate(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}onload(){if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSENAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?"All":this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE:"",this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE:"%",this.repObj.reportparam.REPORTYPE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE:"",this.repObj.reportparam.params="%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE:"%",this.repObj.reportparam.DIVISIONWISEREPORT=1,this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE:0,this.repObj.reportparam.ZEROBALSTOCKALSO=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_SBATCH"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_1_SBATCH"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_2_SBATCH"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="":0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_1"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Stock Report - Division Wise",this._reportFilterService.ConsolidtedStockBranchWiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE=i.ACID,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE=i.MCODE,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM=i.DESCA,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["consolidatedstock-reportbranchwise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(mm,5),e.Gf(Sm,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:119,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[2,"display","flex","border","none","padding-bottom","20px"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Stock Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Option :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=t}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=t}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=t}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(59,"fieldset",23),e.YNc(60,Om,6,2,"div",24),e.TgZ(61,"div",25)(62,"div",26)(63,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=t})("change",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=t.target.checked?1:0}),e.qZA()(),e.TgZ(64,"div",28)(65,"label",29),e._uU(66,"Show Zero Balance Stock Also "),e.qZA()()()()(),e.TgZ(67,"div",30)(68,"fieldset")(69,"legend"),e._uU(70,"Report Filter Option :"),e.qZA(),e.TgZ(71,"div",8)(72,"div",31)(73,"label",32),e._uU(74,"Item Group :"),e.qZA()(),e.TgZ(75,"div",28)(76,"select",33),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP=t}),e._UZ(77,"option",34),e.YNc(78,bm,2,2,"option",35),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",31)(81,"label",32),e._uU(82,"Item Category :"),e.qZA()(),e.TgZ(83,"div",28)(84,"select",33),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT=t}),e._UZ(85,"option",34),e.YNc(86,Tm,2,2,"option",35),e.qZA()()(),e.TgZ(87,"div",1)(88,"div",31)(89,"label",32),e._uU(90,"Item Type :"),e.qZA()(),e.TgZ(91,"div",28)(92,"select",33),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE=t}),e._UZ(93,"option",36),e.YNc(94,vm,2,2,"option",35),e.qZA()()(),e.TgZ(95,"div",37)(96,"div",31)(97,"label",38),e._uU(98,"Supplier Name :"),e.qZA()(),e.TgZ(99,"div",28)(100,"input",39),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(101,"fieldset")(102,"legend",10),e._uU(103,"Item Selection :"),e.qZA(),e.TgZ(104,"div",40)(105,"div",31)(106,"label",32),e._uU(107,"Item Name :"),e.qZA()(),e.TgZ(108,"div",28)(109,"input",41),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(110,"div",42)(111,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(112,"RUN"),e.qZA(),e.TgZ(113,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(114,"Close"),e.qZA()()()()()(),e.TgZ(115,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(117,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(26),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(5),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO)("checked",1==r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Cm=["genericGridSupplierPopup"],Am=["genericGridItemPopup"];function Pm(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Mm(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Rm(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Em(a,s){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let Im=(()=>{class a{constructor(i,r,o,t,n){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(l=>{this.divisionList=l}),this.masterService.getMCatList().subscribe(l=>{this.MCatList=l}),this.masterService.getPTypeList().subscribe(l=>{l&&(this.PTypeList=l)}),this.masterService.getItemGroup().subscribe(l=>{l&&(this.ItemGroupList=l)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{"DRILL"==i.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.BranchTransferOutItemwiseObj.assignPreviousValue&&(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE="0",this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport=0,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Branch Transfer Out Item Wise Report",this.repObj.REPORTDISPLAYNAME="Branch Transfer Out - Item Wise Report",this._reportFilterService.BranchTransferOutItemwiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE=i.ACID,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE=i.MCODE,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM=i.DESCA,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["branchtransferout-itemwise-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Cm,5),e.Gf(Am,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:108,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Out - Item Wise Report "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1=t}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV=t}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,Pm,2,2,"option",17),e.qZA()(),e.TgZ(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=t}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Show All"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=t}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Show Closed Transfer Out Only"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=t}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Show Open Transfer Out Only"),e.qZA()()()()()(),e.TgZ(56,"div",26)(57,"fieldset")(58,"legend"),e._uU(59,"Report Filter Option :"),e.qZA(),e.TgZ(60,"div",8)(61,"div",27)(62,"label",28),e._uU(63,"Item Group :"),e.qZA()(),e.TgZ(64,"div",29)(65,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP=t}),e._UZ(66,"option",16),e.YNc(67,Mm,2,2,"option",17),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",27)(70,"label",28),e._uU(71,"Item Category :"),e.qZA()(),e.TgZ(72,"div",29)(73,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT=t}),e._UZ(74,"option",16),e.YNc(75,Rm,2,2,"option",17),e.qZA()()(),e.TgZ(76,"div",1)(77,"div",27)(78,"label",28),e._uU(79,"Item Type :"),e.qZA()(),e.TgZ(80,"div",29)(81,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE=t}),e._UZ(82,"option",30),e.YNc(83,Em,2,2,"option",17),e.qZA()()(),e.TgZ(84,"div",31)(85,"div",27)(86,"label",32),e._uU(87,"Supplier Name :"),e.qZA()(),e.TgZ(88,"div",29)(89,"input",33),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(90,"fieldset")(91,"legend",10),e._uU(92,"Item Selection :"),e.qZA(),e.TgZ(93,"div",34)(94,"div",27)(95,"label",28),e._uU(96,"Item Name :"),e.qZA()(),e.TgZ(97,"div",29)(98,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(99,"div",36)(100,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(101,"RUN"),e.qZA(),e.TgZ(102,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(103,"Close"),e.qZA()()()()()(),e.TgZ(104,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(106,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(23),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const ym=["genericGridSupplierPopup"],Dm=["genericGridItemPopup"];function Nm(a,s){if(1&a&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function jm(a,s){if(1&a&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function km(a,s){if(1&a&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Fm(a,s){if(1&a&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let wm=(()=>{class a{constructor(i,r,o,t,n,l){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.categorywiseConfigurationdetails=[],this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{1!=this._reportFilterService.BranchTransferInItemWiseObj.assignPreviousValue&&(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchTransferInItemWiseObj.StockWarehousewise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2,"AD")})}changeEntryDate(i,r){console.log("Value in date",i);var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]),this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2=t.year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SUPCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE:"%",this.repObj.reportparam.ReportMode=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ReportMode?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchTransferInItemWiseObj.BranchtransferoutVsIn_MGROUP?this._reportFilterService.BranchTransferInItemWiseObj.BranchtransferoutVsIn_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Branch Transfer In Item Wise Report",this.repObj.REPORTDISPLAYNAME="Branch Transfer In - Item Wise Report",this._reportFilterService.BranchTransferInItemWiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE=i.ACID,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE=i.MCODE,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM=i.DESCA,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["branch-transfer-in-reportitemwise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(ym,5),e.Gf(Dm,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:92,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"margin-top","5px","float","right"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer In Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1=t}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV=t}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,Nm,2,2,"option",17),e.qZA()(),e.TgZ(34,"div",18)(35,"div",19)(36,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SHOWTRANSITWISE=t}),e.qZA()(),e.TgZ(37,"div",21)(38,"label",22),e._uU(39,"Show Batch Wise Stock Report "),e.qZA()()()(),e.TgZ(40,"div",23)(41,"fieldset")(42,"legend"),e._uU(43,"Report Filter Option :"),e.qZA(),e.TgZ(44,"div",8)(45,"div",24)(46,"label",25),e._uU(47,"Item Group :"),e.qZA()(),e.TgZ(48,"div",21)(49,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MGROUP=t}),e._UZ(50,"option",16),e.YNc(51,jm,2,2,"option",17),e.qZA()()(),e.TgZ(52,"div",1)(53,"div",24)(54,"label",25),e._uU(55,"Item Category :"),e.qZA()(),e.TgZ(56,"div",21)(57,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT=t}),e._UZ(58,"option",16),e.YNc(59,km,2,2,"option",17),e.qZA()()(),e.TgZ(60,"div",1)(61,"div",24)(62,"label",25),e._uU(63,"Item Type :"),e.qZA()(),e.TgZ(64,"div",21)(65,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE=t}),e._UZ(66,"option",26),e.YNc(67,Fm,2,2,"option",17),e.qZA()()(),e.TgZ(68,"div",27)(69,"div",24)(70,"label",28),e._uU(71,"Supplier Name :"),e.qZA()(),e.TgZ(72,"div",21)(73,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Item Selection :"),e.qZA(),e.TgZ(77,"div",30)(78,"div",24)(79,"label",25),e._uU(80,"Item Name :"),e.qZA()(),e.TgZ(81,"div",21)(82,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()(),e.TgZ(83,"div",32)(84,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(87,"Close"),e.qZA()()()()()(),e.TgZ(88,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(90,"generic-popup-grid",35,37),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(23),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SHOWTRANSITWISE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Wm=["genericGridUserListPopup"],Lm=["genericGridCounterListPopup"];function Zm(a,s){1&a&&(e.TgZ(0,"option",51),e._uU(1,"ALL"),e.qZA())}function xm(a,s){if(1&a&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Um(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCollectionObj.SalesCollection_DIV=o)}),e.YNc(4,Zm,2,0,"option",49),e.YNc(5,xm,2,2,"option",50),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesCollectionObj.SalesCollection_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function Vm(a,s){if(1&a&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function Bm(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER=o)}),e._UZ(4,"option",53),e.TgZ(5,"option",51),e._uU(6," ALL "),e.qZA(),e.YNc(7,Vm,2,2,"option",50),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER),e.xp6(4),e.Q6J("ngForOf",i.costCenterList)}}function Ym(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10)(2,"input",54),e.NdJ("change",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.ChangeTime())})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=o.target.checked?1:0)}),e.qZA(),e._uU(3,"Time Wise Report :"),e.qZA(),e.TgZ(4,"div",1)(5,"div",22)(6,"label"),e._uU(7,"From Time:"),e.qZA(),e.TgZ(8,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP=o)}),e.qZA(),e.TgZ(9,"label",56),e._uU(10,"To Time:"),e.qZA(),e.TgZ(11,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP=o)}),e.qZA()()(),e._UZ(12,"div",1),e.qZA()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT)("checked",1==i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT),e.xp6(6),e.Q6J("ngModel",i._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP)("disabled",1!=i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT),e.xp6(3),e.Q6J("ngModel",i._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP)("disabled",1!=i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT)}}let Jm=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",COSTCENTER:"",REPORTOPTION:1,REPORTTYPE:0,TRNUSER:"",TERMINAL:"",TIMWISEREPORT:0,FROM_TIMESTAMP:0,TO_TIMESTAMP:0,COMPANYID:"",TIME1:"",TIME2:"",TERMINALNAME:"",ALLUSER:0,ALLTERMINAL:0,DIVISIONAME:"",REPORTOPTIONDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",USERDISPLAYNAME:"",TERMINALDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",TIME1DISPLAY:"",TIME2DISPLAY:"",SHOWONLINEPAYMODE_INDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForUserList=new b.im,this.gridPopupSettingsForCounterList=new b.im,this.AppMode=j.N.appMode,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.SalesCollectionObj.assignPreviousValue&&(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCollectionObj.SalesCollection_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0",this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE="0",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=0),this.changeEntryDate(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2,"AD")})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER||null==this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&1!=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&("%"==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||void 0===this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||""==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||null==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||null===this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME))return void this._alertService.info("Please Select User Name first!");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&1!=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&("%"==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL||void 0===this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||""==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||null==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||null===this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME))return void this._alertService.info("Please Select Counter Name first!");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%"),1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=""),this._reportFilterService.SalesCollectionObj.SalesCollection_DIV&&"%"==this._reportFilterService.SalesCollectionObj.SalesCollection_DIV)this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME="All";else if(this._reportFilterService.SalesCollectionObj.SalesCollection_DIV&&"%"!=this._reportFilterService.SalesCollectionObj.SalesCollection_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.SalesCollectionObj.SalesCollection_DIV);this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER?this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER:"%",this.repObj.reportparam.COSTCENTER=this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER?this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCollectionObj.SalesCollection_DIV?this._reportFilterService.SalesCollectionObj.SalesCollection_DIV:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE?this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE:0,this.repObj.reportparam.REPORTOPTION=this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION?this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION:0,this.repObj.reportparam.TIMWISEREPORT=this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT?this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT:0,this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME:"%",this.repObj.reportparam.TERMINAL=this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL?this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL:"%",this.repObj.reportparam.TIME1=this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP?this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP:"00:00",this.repObj.reportparam.TIME2=this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP?this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP:"00:00",this.repObj.reportparam.TERMINALNAME=this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME:"",this.repObj.reportparam.ALLUSER=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER?this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER:0,this.repObj.reportparam.ALLTERMINAL=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER?this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER:0,this.repObj.reportparam.DIVISIONAME=this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME:"",this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL=this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL?this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL:0,this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=0==this.repObj.reportparam.REPORTTYPE?"@Summary Report":1==this.repObj.reportparam.REPORTTYPE?"@Detail Report":"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORTOPTION?"@User Wise Report":1==this.repObj.reportparam.REPORTOPTION?"@Counter Wise Report":2==this.repObj.reportparam.REPORTOPTION?"@Day Wise Report":"",this.repObj.reportparam.USERDISPLAYNAME="%"!=this.repObj.reportparam.TRNUSER?this.repObj.reportparam.TRNUSER:"%"==this.repObj.reportparam.TRNUSER&&1==this.repObj.reportparam.ALLUSER?"All Users":"",this.repObj.reportparam.TERMINALDISPLAYNAME="%"!=this.repObj.reportparam.TERMINAL?this.repObj.reportparam.TERMINALNAME:"%"==this.repObj.reportparam.TERMINAL&&1==this.repObj.reportparam.ALLTERMINAL?"All Counters":"",1==this.repObj.reportparam.TIMWISEREPORT&&(this.repObj.reportparam.SHOWITEMDETAILDISPLAY="@TimeWiseReport","00:00"!=this.repObj.reportparam.TIME1&&"00:00"!=this.repObj.reportparam.TIME2?(this.repObj.reportparam.TIME1DISPLAY=this.repObj.reportparam.TIME1,this.repObj.reportparam.TIME2DISPLAY=this.repObj.reportparam.TIME2):(this.repObj.reportparam.TIME1DISPLAY="",this.repObj.reportparam.TIME2DISPLAY="")),console.log("REPORTTYPE",this.repObj.reportparam.REPORTTYPE,this.repObj.reportparam.REPORTOPTION,this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL),0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_1":0==this.repObj.reportparam.REPORTTYPE&&2==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_2":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_3":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_4":0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_1":0==this.repObj.reportparam.REPORTTYPE&&2==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_2":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_3":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL&&(this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_4"),this.repObj.REPORTDISPLAYNAME="Sales Collection Report",this._reportFilterService.SalesCollectionObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}UserListEnter(i){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(i){this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=i.UNAME}CounterListEnter(i){this.gridPopupSettingsForCounterList={title:"Counter List",apiEndpoints:"/getSalesCounterList",defaultFilterIndex:0,columns:[{key:"INITIAL",title:"INITIAL",hidden:!1,noSearch:!1},{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridCounterListPopup.show()}onCounterListSelected(i){this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL=i.INITIAL,this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=i.NAME}Change(){1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=""),1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="")}changeDeatil(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0),1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0),2==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0)}ChangeTime(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT&&(this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP="",this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP="")}ChangeSum(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&(this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0"),1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&(this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0"),this.changeDeatil()}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}showOnlinePayment(i){console.log("show online",i.target.checked),this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL=1==i.target.checked?1:0}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["salescollection-selector"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Wm,5),e.Gf(Lm,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCounterListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:107,vars:33,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[2,"display","flex"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],[2,"margin-left","10%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","2",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"margin-left","-22px"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","disabled","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"col-md-4",2,"margin-left","-56px"],[2,"margin-left","52%"],["type","text","placeholder","Press Enter for Counter List",1,"form-control","input-text",2,"background","white","width","182px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","1",2,"margin-top","10px","margin-left","21px",3,"ngModel","disabled","change","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridUserListPopup",""],["genericGridCounterListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["type","checkbox",3,"ngModel","checked","change","ngModelChange"],["type","time",2,"width","100px","margin-left","-16px","margin-top","4px",3,"ngModel","disabled","ngModelChange"],[2,"margin-left","57px"],["type","time",2,"width","100px","margin-left","-35px","margin-top","4px",3,"ngModel","disabled","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Collection Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,Um,6,3,"fieldset",15),e.YNc(38,Bm,8,2,"fieldset",15),e.TgZ(39,"div",16)(40,"div",17)(41,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL=t})("change",function(t){return r.showOnlinePayment(t)}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",20),e._uU(44,"Show Credit Card Online Bill Payment Detail"),e.qZA()()()(),e.TgZ(45,"div",21)(46,"fieldset")(47,"legend",10),e._uU(48,"Report Type :"),e.qZA(),e.TgZ(49,"div",22)(50,"div",23)(51,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE=t})("change",function(){return r.ChangeSum()}),e.qZA(),e.TgZ(52,"label"),e._uU(53,"Summary Report"),e.qZA()(),e.TgZ(54,"div",25)(55,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE=t})("change",function(){return r.ChangeSum()}),e.qZA(),e.TgZ(56,"label"),e._uU(57,"Detail Report"),e.qZA()()()(),e.TgZ(58,"fieldset")(59,"legend",10),e._uU(60,"Report Option :"),e.qZA(),e.TgZ(61,"div",27)(62,"div",28)(63,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=t})("change",function(){return r.changeDeatil()}),e.qZA(),e.TgZ(64,"label"),e._uU(65,"User Wise"),e.qZA()(),e.TgZ(66,"div",28)(67,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=t})("change",function(){return r.changeDeatil()}),e.qZA(),e.TgZ(68,"label"),e._uU(69,"Counter Wise"),e.qZA()(),e.TgZ(70,"div",28)(71,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=t})("change",function(){return r.changeDeatil()}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Day Wise"),e.qZA()()()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Filter Option :"),e.qZA(),e.TgZ(77,"div",1)(78,"div",32)(79,"label",33),e._uU(80,"User Name :"),e.qZA()(),e.TgZ(81,"div",34)(82,"div",22)(83,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=t})("keydown.enter",function(t){return r.UserListEnter(t)})("keydown.Tab",function(t){return r.UserListEnter(t)})("keyup",function(t){return r.UserListEnter(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA(),e.TgZ(84,"input",36),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=t}),e.qZA(),e.TgZ(85,"label",37),e._uU(86,"All User"),e.qZA()()()(),e.TgZ(87,"div",1)(88,"div",38)(89,"label",39),e._uU(90,"Counter Name :"),e.qZA()(),e.TgZ(91,"div",19)(92,"div",22)(93,"input",40),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=t})("keydown.enter",function(t){return r.CounterListEnter(t)})("keydown.Tab",function(t){return r.CounterListEnter(t)})("keyup",function(t){return r.CounterListEnter(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA(),e.TgZ(94,"input",41),e.NdJ("change",function(){return r.Change()})("ngModelChange",function(t){return r._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=t}),e.qZA(),e.TgZ(95,"label",37),e._uU(96,"All Counter"),e.qZA()()()()(),e.YNc(97,Ym,13,6,"fieldset",15),e.qZA()()(),e.TgZ(98,"div",42)(99,"button",43),e.NdJ("click",function(){return r.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",44),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(t){return r.onUserListSelected(t)}),e.qZA(),e.TgZ(105,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(t){return r.onCounterListSelected(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL)("checked",1==r._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION)("disabled",1==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME)("disabled",1==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||1==r._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER)("disabled",1==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME)("disabled",0==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||1==r._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER)("disabled",0==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||2==r._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(3),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCounterList))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const qm=["reportPopup"],Gm=["genericGridSupplierPopup"],Hm=["genericGridItemPopup"];function Qm(a,s){1&a&&(e.TgZ(0,"option",33),e._uU(1,"ALL"),e.qZA())}function zm(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Km(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",32),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_DIV=o)}),e.YNc(4,Qm,2,0,"option",54),e.YNc(5,zm,2,2,"option",34),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.OpeningStockObj.OpeningStock_DIV),e.xp6(1),e.Q6J("ngIf",0==i.userSetting.UserwiseDivision||i.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",i.divisionList)}}function $m(a,s){1&a&&(e.TgZ(0,"label",17),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function Xm(a,s){1&a&&(e.TgZ(0,"label",17),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function eS(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",16),e.YNc(4,$m,2,0,"label",56),e.YNc(5,Xm,2,0,"label",56),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport)("checked",1==i._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==i._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==i._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE)}}function tS(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",57)(1,"div",58)(2,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",31)(4,"label",59),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE)("checked",1==i._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE)}}function rS(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",60)(1,"div",1)(2,"div",58)(3,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",31)(5,"label",61),e._uU(6,"Show Alt Unit Stock Report"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT)("checked",1==i._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT)}}function iS(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",60)(1,"div",1)(2,"div",58)(3,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",31)(5,"label",62),e._uU(6,"Show Item Detail In Report"),e.qZA()()()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL)("checked",1==i._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL)}}function oS(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function nS(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Warehouse Selection:"),e.qZA(),e.TgZ(3,"select",63),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE=o)}),e.ALo(4,"disableField"),e._UZ(5,"option",33),e.YNc(6,oS,2,2,"option",34),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE)("disabled",e.lcZ(4,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",i.warehouseList)}}function aS(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function sS(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let lS=(()=>{class a{constructor(i,r,o,t,n,l,_,p,d){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.brandService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0,DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",ITEMGROUP:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.resultList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.AppMode=j.N.appMode,this.userSetting=p.getSetting(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getProductGroupList().subscribe(h=>{h&&(this.ProductGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{1!=this._reportFilterService.OpeningStockObj.assignPreviousValue&&(this._reportFilterService.OpeningStockObj.OpeningStock_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE="0",this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode="0",this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=0,this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE=1==this.userSetting.UserWiseWarehouse?this.masterService.userProfile.userWarehouse:"%")})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(i=>{console.log("dataaaaaa",i[0]),this.resss=i[0],this.resultList=this.resss[0],console.log("dataaaaaaChildren",this.resss[0].children),console.log("LEVELS",this.resss[0].LEVELS),console.log("name",this.resss[0].name)})}onload(){if(this._reportFilterService.OpeningStockObj.OpeningStock_DIV&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_DIV)this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME="All";else if(this._reportFilterService.OpeningStockObj.OpeningStock_DIV&&"%"!=this._reportFilterService.OpeningStockObj.OpeningStock_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.OpeningStockObj.OpeningStock_DIV);this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME="";if(this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?"All":this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE:"",this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP)this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME="All";else if(this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP&&"%"!=this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP);this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME="";if(this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE&&"100"==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP)this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME="";else if(this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE&&"100"!=this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE);this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME="";this._reportFilterService.OpeningStockObj.OpeningStock_CATEGORYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?"All":this._reportFilterService.OpeningStockObj.OpeningStock_MCAT&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"",this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.OpeningStockObj.OpeningStock_DIV?this._reportFilterService.OpeningStockObj.OpeningStock_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.OpeningStockObj.OpeningStock_MCODE?this._reportFilterService.OpeningStockObj.OpeningStock_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE?this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE:0,this.repObj.reportparam.ReportMode=this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode?this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport?this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport:0,this.repObj.reportparam.WAREHOUSE=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP?this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE?this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"%",this.repObj.reportparam.ShowDetail=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEM?this._reportFilterService.OpeningStockObj.OpeningStock_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE?this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE:0,this.repObj.reportparam.ShowAltUnitStockReport=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME?this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS":1==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS_1":2==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Opening Stock ReportNONDMS_2"),this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.ShowDetail?"@Report with Item Detail":"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.ReportMode?" @Negative Stock Report Only":"",this.repObj.REPORTDISPLAYNAME="Opening Stock Report",this._reportFilterService.OpeningStockObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE=i.ACID,this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.OpeningStockObj.OpeningStock_MCODE=i.MCODE,this._reportFilterService.OpeningStockObj.OpeningStock_ITEM=i.DESCA,this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}Change(){(0==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||1==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE)&&(this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode="0")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}reportTree(){this.reportPopup.show()}selectedValue(i){console.log("k data ho yo?",i),this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP=i.MCODE,this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=i.DESCA}treeNodeSelected(i){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",i),this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP=i.id,this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=i.name}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e),e.Y36($.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["opening-stock-report-selector"]],viewQuery:function(i,r){if(1&i&&(e.Gf(qm,5),e.Gf(Gm,5),e.Gf(Hm,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:122,vars:27,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[4,"ngIf"],[1,"legend-class"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["class","row","style","margin-bottom: -3%",4,"ngIf"],["type","radio","name","reportOption","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","disabled","ngModelChange"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],["class","row checkbox","style","margin-top:-10px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","114%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","-5%"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","342%","margin-top","0%","margin-left","-18%"],[1,"col-sm-1",2,"margin-left","50px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["style","width: 100%;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-6%"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-7%"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Opening Stock Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5),e.YNc(16,Km,6,3,"fieldset",10),e.TgZ(17,"fieldset")(18,"legend",11),e._uU(19,"Report Type Selection :"),e.qZA(),e.TgZ(20,"div",12)(21,"div",13)(22,"div",14)(23,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=t})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(24,"div",16)(25,"label",17),e._uU(26,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(27,"div",13)(28,"div",14)(29,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=t})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(30,"div",16)(31,"label",17),e._uU(32,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(33,"div",13)(34,"div",14)(35,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=t})("change",function(){return r.Change()}),e.qZA()(),e.TgZ(36,"div",16)(37,"label",17),e._uU(38,"Item Category Wise Stock Report"),e.qZA()()(),e.YNc(39,eS,6,4,"div",20),e.qZA()(),e.TgZ(40,"fieldset")(41,"legend",11),e._uU(42,"Report Option :"),e.qZA(),e.TgZ(43,"div",12)(44,"div",13)(45,"div",14)(46,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode=t}),e.qZA()(),e.TgZ(47,"div",16)(48,"label",17),e._uU(49,"Show All Item Stock Report"),e.qZA()()(),e.TgZ(50,"div",13)(51,"div",14)(52,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode=t}),e.qZA()(),e.TgZ(53,"div",16)(54,"label",17),e._uU(55,"Show Negative Stock B/L Item Only"),e.qZA()()()()(),e.YNc(56,tS,6,2,"div",23),e.YNc(57,rS,7,2,"div",24),e.YNc(58,iS,7,2,"div",24),e.qZA(),e.TgZ(59,"div",25),e.YNc(60,nS,7,5,"fieldset",10),e.TgZ(61,"fieldset")(62,"legend"),e._uU(63,"Report Filter Option :"),e.qZA(),e.TgZ(64,"div",8)(65,"div",26)(66,"label",27),e._uU(67,"Item Group :"),e.qZA()(),e.TgZ(68,"div",28)(69,"app-simple-suggest",29),e.NdJ("selectOption",function(t){return r.selectedValue(t)})("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=t}),e.qZA(),e.TgZ(70,"button",30),e.NdJ("click",function(){return r.reportTree()}),e._uU(71,"+"),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",26)(74,"label",27),e._uU(75,"Item Category :"),e.qZA()(),e.TgZ(76,"div",31)(77,"select",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_MCAT=t}),e._UZ(78,"option",33),e.YNc(79,aS,2,2,"option",34),e.qZA()()(),e.TgZ(80,"div",1)(81,"div",26)(82,"label",27),e._uU(83,"Item Type :"),e.qZA()(),e.TgZ(84,"div",31)(85,"select",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_PTYPE=t}),e._UZ(86,"option",35),e.YNc(87,sS,2,2,"option",34),e.qZA()()(),e.TgZ(88,"div",36)(89,"div",26)(90,"label",37),e._uU(91,"Supplier Name :"),e.qZA()(),e.TgZ(92,"div",31)(93,"input",38),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(94,"fieldset")(95,"legend",11),e._uU(96,"Item Selection :"),e.qZA(),e.TgZ(97,"div",39)(98,"div",26)(99,"label",27),e._uU(100,"Item Name :"),e.qZA()(),e.TgZ(101,"div",31)(102,"input",40),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(103,"div",41)(104,"div",42)(105,"input",43),e.NdJ("ngModelChange",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING=t})("change",function(t){return r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING=t.target.checked?1:0}),e.qZA()(),e.TgZ(106,"div",31)(107,"label",44),e._uU(108,"Show Item Grouping Hierarchy"),e.qZA()(),e._UZ(109,"div",45)(110,"div",31),e.qZA()()()(),e.TgZ(111,"div",46)(112,"button",47),e.NdJ("click",function(){return r.onload()}),e._uU(113,"RUN"),e.qZA(),e.TgZ(114,"button",48),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(115,"Close"),e.qZA()()()()()(),e.TgZ(116,"generic-popup-grid",49,50),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(118,"generic-popup-grid",49,51),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(120,"app-report-popup",52,53),e.NdJ("treeNodeValue",function(t){return r.treeNodeSelected(t)}),e.qZA()),2&i&&(e.xp6(16),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0!=r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode)("disabled",1==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ReportMode)("disabled",1==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(4),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(2),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(9),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ITEM),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING)("checked",1==r._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING),e.xp6(11),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,te,K.c,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const pS=["genericGridItemPopup"];function cS(a,s){1&a&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function _S(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function dS(a,s){1&a&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function hS(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function gS(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function uS(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function mS(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let SS=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",params:"%",ShowAltUnitSalesRate:0,ShowSalesRateofAllItems:0,ShowBaseSalesRate:0,SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForItem=new b.im,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(d=>{this.costCenterList=d&&d||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getMCatList().subscribe(d=>{this.MCatList=d}),this.masterService.getPTypeList().subscribe(d=>{d&&(this.PTypeList=d)}),this.masterService.getItemGroup().subscribe(d=>{d&&(this.ItemGroupList=d)}),this.masterService.getWarehouseList().subscribe(d=>{this.warehouseList=d}),this.masterService.getAccDivList()}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{1!=this._reportFilterService.RateGroupObj.assignPreviousValue&&(this._reportFilterService.RateGroupObj.Rategroup_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=0,this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=0,this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=0)})}onload(){if(this._reportFilterService.RateGroupObj.Rategroup_DIV&&"%"==this._reportFilterService.RateGroupObj.Rategroup_DIV)this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME="All";else if(this._reportFilterService.RateGroupObj.Rategroup_DIV&&"%"!=this._reportFilterService.RateGroupObj.Rategroup_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.RateGroupObj.Rategroup_DIV);this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME="";if(this._reportFilterService.RateGroupObj.Rategroup_MGROUP&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MGROUP)this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME="All";else if(this._reportFilterService.RateGroupObj.Rategroup_MGROUP&&"%"!=this._reportFilterService.RateGroupObj.Rategroup_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.RateGroupObj.Rategroup_MGROUP);this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME="";if(this._reportFilterService.RateGroupObj.Rategroup_PTYPE&&"100"==this._reportFilterService.RateGroupObj.Rategroup_MGROUP)this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME="";else if(this._reportFilterService.RateGroupObj.Rategroup_PTYPE&&"100"!=this._reportFilterService.RateGroupObj.Rategroup_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.RateGroupObj.Rategroup_PTYPE);this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME="";this._reportFilterService.RateGroupObj.Rategroup_CATEGORYNAME=this._reportFilterService.RateGroupObj.Rategroup_MCAT&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MCAT?"All":this._reportFilterService.RateGroupObj.Rategroup_MCAT&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RateGroupObj.Rategroup_DIV?this._reportFilterService.RateGroupObj.Rategroup_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RateGroupObj.Rategroup_MCODE?this._reportFilterService.RateGroupObj.Rategroup_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.RateGroupObj.Rategroup_MGROUP?this._reportFilterService.RateGroupObj.Rategroup_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.RateGroupObj.Rategroup_PTYPE?this._reportFilterService.RateGroupObj.Rategroup_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"%",this.repObj.reportparam.ShowBaseSalesRate=this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate?this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RateGroupObj.Rategroup_ITEM?this._reportFilterService.RateGroupObj.Rategroup_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RateGroupObj.Rategroup_MENUCODE?this._reportFilterService.RateGroupObj.Rategroup_MENUCODE:"",this.repObj.reportparam.ShowAltUnitSalesRate=this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate?this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate:0,this.repObj.reportparam.ShowSalesRateofAllItems=this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems?this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING?this._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME?this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME?this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME?this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ShowAltUnitSalesRate?this.repObj.reportname="Rate Group Report":1==this.repObj.reportparam.ShowAltUnitSalesRate&&(this.repObj.reportname="Rate Group Report_1"),this.repObj.REPORTDISPLAYNAME="Rate Group Report",this._reportFilterService.RateGroupObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.RateGroupObj.Rategroup_MCODE=i.MCODE,this._reportFilterService.RateGroupObj.Rategroup_ITEM=i.DESCA,this._reportFilterService.RateGroupObj.Rategroup_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["rate-group-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(pS,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["id","rategrpdiv",1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],[2,"font-size","13px","font-weight","bold"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-6%"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-7%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],["value","100"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","168px"],[2,"font-size","12px","width","342%","margin-top","0%","margin-left","-26%"],[1,"col-sm-1",2,"margin-left","50px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Rate Group Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Division Selection:"),e.qZA(),e.TgZ(19,"select",11),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_DIV=t}),e.YNc(20,cS,2,0,"option",12),e.YNc(21,_S,2,2,"option",13),e.qZA()(),e.TgZ(22,"fieldset")(23,"legend",10),e._uU(24,"Rate Group Name Selection:"),e.qZA(),e.TgZ(25,"select",14),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_RATEDIV=t}),e.YNc(26,dS,2,0,"option",12),e.YNc(27,hS,2,2,"option",13),e.qZA(),e.TgZ(28,"label",15),e._uU(29,"Rate Type: "),e.qZA()(),e.TgZ(30,"div",16)(31,"div",17)(32,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=t})("change",function(t){return r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=t.target.checked?1:0}),e.qZA()(),e.TgZ(33,"div",19)(34,"label",20),e._uU(35,"Show Alternate Unit Sales Rate Also"),e.qZA()()(),e.TgZ(36,"div",21)(37,"div",1)(38,"div",17)(39,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=t})("change",function(t){return r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=t.target.checked?1:0}),e.qZA()(),e.TgZ(40,"div",19)(41,"label",22),e._uU(42,"Show Sales Rate of All Items"),e.qZA()()()(),e.TgZ(43,"div",21)(44,"div",1)(45,"div",17)(46,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=t})("change",function(t){return r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=t.target.checked?1:0}),e.qZA()(),e.TgZ(47,"div",19)(48,"label",23),e._uU(49,"Show Base Sales Rate Only"),e.qZA()()()()(),e.TgZ(50,"div",24)(51,"fieldset")(52,"legend"),e._uU(53,"Report Filter Option :"),e.qZA(),e.TgZ(54,"div",8)(55,"div",25)(56,"label",26),e._uU(57,"Item Group :"),e.qZA()(),e.TgZ(58,"div",19)(59,"select",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_MGROUP=t}),e._UZ(60,"option",28),e.YNc(61,gS,2,2,"option",13),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",25)(64,"label",26),e._uU(65,"Item Category :"),e.qZA()(),e.TgZ(66,"div",19)(67,"select",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_MCAT=t}),e._UZ(68,"option",28),e.YNc(69,uS,2,2,"option",13),e.qZA()()(),e.TgZ(70,"div",1)(71,"div",25)(72,"label",26),e._uU(73,"Item Type :"),e.qZA()(),e.TgZ(74,"div",19)(75,"select",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_PTYPE=t}),e._UZ(76,"option",29),e.YNc(77,mS,2,2,"option",13),e.qZA()()()(),e.TgZ(78,"fieldset")(79,"legend",10),e._uU(80,"Item Selection :"),e.qZA(),e.TgZ(81,"div",30)(82,"div",25)(83,"label",26),e._uU(84,"Item Name :"),e.qZA()(),e.TgZ(85,"div",19)(86,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(87,"div",32)(88,"div",33)(89,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING=t})("change",function(t){return r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING=t.target.checked?1:0}),e.qZA()(),e.TgZ(90,"div",19)(91,"label",34),e._uU(92,"Show Item Grouping Hierarchy"),e.qZA()(),e._UZ(93,"div",35)(94,"div",19),e.qZA()()()(),e.TgZ(95,"div",36)(96,"button",37),e.NdJ("click",function(){return r.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",38),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(19),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_DIV)("disabled",r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_RATEDIV)("disabled",r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_ITEM),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING)("checked",1==r._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING),e.xp6(11),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const OS=["genericGridItemPopup"];function bS(a,s){1&a&&(e.TgZ(0,"option",32),e._uU(1,"ALL"),e.qZA())}function TS(a,s){if(1&a&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function vS(a,s){if(1&a&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function fS(a,s){if(1&a&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function CS(a,s){if(1&a&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let AS=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",params:"%",RATETYPE:0,SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForItem=new b.im,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.SalesPricechangeLogObj.assignPreviousValue&&(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV="%":this._reportFilterService.SalesPricechangeLogObj.Rategroup_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=0),this.changeEntryDate(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2,"AD")})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME="All";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV&&"%"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME="";if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP&&"%"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME="";if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE&&"100"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME="";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE&&"100"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME="";this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_CATEGORYNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?"All":this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE:"%",this.repObj.reportparam.RATETYPE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportname="Sales Price Change Log Report",this.repObj.REPORTDISPLAYNAME="Sales Price Change Log Report",this._reportFilterService.SalesPricechangeLogObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE=i.MCODE,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM=i.DESCA,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["salesprice-changelog-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(OS,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:109,vars:26,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%"],["value","100"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Price Change Log Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Rate Group Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV=t}),e.YNc(41,bS,2,0,"option",16),e.YNc(42,TS,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Rate Type Selection:"),e.qZA(),e.TgZ(46,"div",18)(47,"div",19)(48,"div",20)(49,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=t}),e.qZA()(),e.TgZ(50,"div",22)(51,"label",23),e._uU(52,"Show retail Price Only"),e.qZA()()(),e.TgZ(53,"div",19)(54,"div",20)(55,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=t}),e.qZA()(),e.TgZ(56,"div",22)(57,"label",23),e._uU(58,"Show whole Sales price Only"),e.qZA()()(),e.TgZ(59,"div",19)(60,"div",20)(61,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=t}),e.qZA()(),e.TgZ(62,"div",22)(63,"label",23),e._uU(64,"Show Both"),e.qZA()()()()()(),e.TgZ(65,"div",26)(66,"fieldset")(67,"legend",10),e._uU(68,"Item Selection :"),e.qZA(),e.TgZ(69,"div",27)(70,"div",28)(71,"label",29),e._uU(72,"Item Name :"),e.qZA()(),e.TgZ(73,"div",30)(74,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(75,"fieldset")(76,"legend"),e._uU(77,"Report Filter Option :"),e.qZA(),e.TgZ(78,"div",8)(79,"div",28)(80,"label",29),e._uU(81,"Item Group :"),e.qZA()(),e.TgZ(82,"div",30)(83,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP=t}),e._UZ(84,"option",32),e.YNc(85,vS,2,2,"option",17),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",28)(88,"label",29),e._uU(89,"Item Category :"),e.qZA()(),e.TgZ(90,"div",30)(91,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT=t}),e._UZ(92,"option",32),e.YNc(93,fS,2,2,"option",17),e.qZA()()(),e.TgZ(94,"div",1)(95,"div",28)(96,"label",29),e._uU(97,"Item Type :"),e.qZA()(),e.TgZ(98,"div",30)(99,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE=t}),e._UZ(100,"option",33),e.YNc(101,CS,2,2,"option",17),e.qZA()()()()()()(),e.TgZ(102,"div",34)(103,"button",35),e.NdJ("click",function(){return r.onload()}),e._uU(104,"RUN"),e.qZA(),e.TgZ(105,"button",36),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(106,"Close"),e.qZA()()()()()(),e.TgZ(107,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const PS=["division"],MS=["genericGridCustomerPopup"],RS=["multiselectGenericGrid"];function ES(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function IS(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",37,38),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=o)})("change",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",39),e._uU(6,"ALL"),e.qZA(),e.YNc(7,ES,2,2,"option",40),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.VATSalesNewObj.VATSalesNew_DIV)("disabled","lite"==i.AppMode),e.xp6(4),e.Q6J("ngForOf",i.divisionList)}}let yS=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._trnMainService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this.selectMultiCustomers=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",REPMODE:"",V1:"",V2:"",V3:"",SHOWSUBTOTAL:0,SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTOMERNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForCustomer=new b.im,this.multiselectPopupSettings=new F.oe,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(h=>{this.divisionList=h});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,m.p6)(d,"yyyy-MM-dd","en-US"),this.AppMode=j.N.appMode}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{if(("DRILL"!=i.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VATSalesNewObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,"AD")}else this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,"AD")):(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,"AD")),this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV="%",this._reportFilterService.VATSalesNewObj.VATSalesNew_isTI=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_isSI=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_isCN=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=0,this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=0,this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=0,"lite"==this.AppMode&&(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this.masterService.userProfile.userDivision)}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){if(this._reportFilterService.VATSalesNewObj.VATSalesNew_V1=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isTI?"TI":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_V2=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isSI?"SI":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_V3=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isCN?"CN":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV&&"%"==this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV)this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME="All";else if(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV&&"%"!=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV){let n=this.divisionList.filter(l=>l.Division==this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV);this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME=n&&n.length>0&&n[0]?n[0].NAME:""}this.repObj.reportparam.DATE1=this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,this.repObj.reportparam.DIV=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV?this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.REPMODE=this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT?this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT:0,this.repObj.reportparam.V1=this._reportFilterService.VATSalesNewObj.VATSalesNew_V1?this._reportFilterService.VATSalesNewObj.VATSalesNew_V1:"~~",this.repObj.reportparam.V2=this._reportFilterService.VATSalesNewObj.VATSalesNew_V2?this._reportFilterService.VATSalesNewObj.VATSalesNew_V2:"~~",this.repObj.reportparam.V3=this._reportFilterService.VATSalesNewObj.VATSalesNew_V3?this._reportFilterService.VATSalesNewObj.VATSalesNew_V3:"~~",this.repObj.reportparam.SHOWSUBTOTAL=this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL?this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL:0,this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE?this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING?this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME?this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME:"",this.repObj.reportparam.CUSTID=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID:"%",this.repObj.reportparam.ACID=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="VAT Sales Register New ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="VAT Sales Register New ReportNONDMS_1"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="VAT Sales Register  Report",this._reportFilterService.VATSalesNewObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),0==this.selectMultiCustomers?this.genericGridCustomerPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForCustomer,this.multiselectGenericGrid.show())}onMultiCustomerSelected(i){this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID=i.MCODE,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=i.DESCA,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID=i.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:this.masterService.userSetting.FilterIndexForCustomer,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]}}dblClickPopupParty(i){this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID=i.CUSTID,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=i.CUSTNAME,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID=i.ACID}changeMultiSelect(i){this.selectMultiCustomers=1==i.target.checked?1:0}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["VATSalesRegister-ReportNew"]],viewQuery:function(i,r){if(1&i&&(e.Gf(PS,5),e.Gf(MS,5),e.Gf(RS,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:94,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleCustomer",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","152px"],[1,"row",2,"margin-top","-20px"],[1,"col-md-12"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"smallBoldLabel",2,"width","200px","margin-top","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[1,"form-control",2,"font-size","12px",3,"ngModel","disabled","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Sales Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"fieldset")(15,"legend",9),e._uU(16,"Date Range Selection :"),e.qZA(),e.TgZ(17,"div",1)(18,"div",10)(19,"div",11)(20,"div")(21,"label"),e._uU(22," From:(AD) "),e.qZA()(),e.TgZ(23,"div")(24,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(25,"div")(26,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1=t}),e.qZA()()(),e.TgZ(27,"div",14)(28,"div")(29,"label"),e._uU(30," To:(AD) "),e.qZA()(),e.TgZ(31,"div")(32,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(33,"div")(34,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2=t}),e.qZA()()()()()(),e.YNc(35,IS,8,3,"fieldset",15),e.TgZ(36,"fieldset")(37,"legend",16),e._uU(38,"Customer Selection :"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA(),e.TgZ(40,"div",1)(41,"input",18),e.NdJ("ngModelChange",function(t){return r.selectMultiCustomers=t})("change",function(t){return r.changeMultiSelect(t)}),e.qZA(),e._uU(42," \xa0 "),e.TgZ(43,"a",19),e._uU(44," Select Multiple Customers"),e.qZA()()(),e.TgZ(45,"fieldset")(46,"div",20)(47,"label",21)(48,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_isTI=t}),e.qZA(),e._uU(49," Show Tax Sales Invoice "),e.qZA()(),e.TgZ(50,"div",20)(51,"label",21)(52,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_isSI=t}),e.qZA(),e._uU(53," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(54,"div",23)(55,"label",21)(56,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_isCN=t}),e.qZA(),e._uU(57," Show Sales Return (Credit Note) "),e.qZA()(),e.TgZ(58,"fieldset")(59,"legend"),e._uU(60,"Abbreviated Sales Invoice Report Mode"),e.qZA(),e.TgZ(61,"div",24)(62,"div",25)(63,"div",14)(64,"label",21)(65,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=t}),e.qZA(),e._uU(66," Summary Report"),e.qZA()(),e.TgZ(67,"div",14)(68,"label",27)(69,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=t}),e.qZA(),e._uU(70," Detail Report"),e.qZA()()()()()(),e.TgZ(71,"fieldset")(72,"div",1)(73,"div",14)(74,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=t})("change",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=t.target.checked?1:0}),e.qZA(),e.TgZ(75,"label",29),e._uU(76,"Show Sub Total In Report"),e.qZA()(),e.TgZ(77,"div",14)(78,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=t})("change",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=t.target.checked?1:0}),e.qZA(),e.TgZ(79,"label",29),e._uU(80,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(81,"div",14)(82,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=t})("change",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=t.target.checked?1:0}),e.qZA(),e.TgZ(83,"label",29),e._uU(84,"Show Report Without Round Off "),e.qZA()()()(),e.TgZ(85,"div",30)(86,"button",31),e.NdJ("click",function(){return r.onload()}),e._uU(87,"RUN"),e.qZA(),e.TgZ(88,"button",32),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(89,"Close"),e.qZA()()()()()()()(),e.TgZ(90,"generic-popup-grid",33,34),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(92,"multiselect-generic-grid",35,36),e.NdJ("onItemsSelected",function(t){return r.onMultiCustomerSelected(t)}),e.qZA()),2&i&&(e.xp6(24),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER),e.xp6(2),e.Q6J("ngModel",r.selectMultiCustomers)("checked",1==r.selectMultiCustomers),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_isTI),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_isSI),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_isCN),e.xp6(9),e.Q6J("value",0)("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT),e.xp6(4),e.Q6J("value",1)("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,F.ky],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const DS=["division"],NS=["genericGridSupplierPopup"],jS=["multiselectGenericGrid"];function kS(a,s){if(1&a&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function FS(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",34,35),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=o)})("change",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",36),e._uU(6,"ALL"),e.qZA(),e.YNc(7,kS,2,2,"option",37),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV)("disabled","lite"==i.AppMode),e.xp6(4),e.Q6J("ngForOf",i.divisionList)}}let wS=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._trnMainService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this.selectMultiSupplier=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.gridPopupSettingsForSupplier=new b.im,this.multiselectPopupSettings=new F.oe,this.AppMode=j.N.appMode,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(h=>{this.divisionList=h});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,m.p6)(d,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{if(("DRILL"!=i.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VATPurchaseNewObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,"AD")}else this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,"AD")):(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,"AD")),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV="%",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=0}}),"lite"==this.AppMode&&(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this.masterService.userProfile.userDivision)}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI?"PI":"",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP?"CP":"",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN?"DN":"";let r="VAT Purchase Register New ReportNONDMS";if(0==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE?r="VAT Purchase Register New ReportNONDMS":1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE&&(r="VAT Purchase Register New ReportNONDMS_1"),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV&&"%"==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV)this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME="All";else if(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV&&"%"!=this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV){let _=this.divisionList.filter(p=>p.Division==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME=_&&_.length>0&&_[0]?_[0].NAME:""}else this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME="";(""==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER||null==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER||null==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER)&&(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE="%"),this._reportFilterService.VATPurchaseNewObj.assignPreviousValue=!0;let n,o="VAT Purchase Register  Report",t=this.arouter.url.split("/");t&&t.length&&(n=t[t.length-1]);let l=this._reportFilterService.previouslyLoadedReportList.findIndex(_=>_.reportname==o);l>=0&&this._reportFilterService.previouslyLoadedReportList.splice(l,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:o,activeurlpath:this.arouter.url,activerurlpath2:n}),this.reportdataEmit.emit({status:i,data:{REPORTDISPLAYNAME:"VAT Purchase Register Report",reportname:r,reportparam:{DATE1:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,DATE2:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,DIVISION:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV:"%",DIV:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV:"%",PHISCALID:this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:" ",V1:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1:"~~",V2:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2:"~~",V3:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3:"~~",SHOWSUBTOTAL:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL:0,SHOWSUMMARYREPORT:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE:0,EXCLUDEROUNDING:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING:0,COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,DIVISIONNAME:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME:"",ACID:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE:"%",SUPPLIERDISPLAYNAME:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER:""}}})}divisionChanged(){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}cancel(){this.DialogClosedResult("cancel")}preventInput(i){return i.preventDefault(),!1}customerEnterCommand(i){this.getCustomersList(),0==this.selectMultiSupplier?this.genericGridSupplierPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForSupplier,this.multiselectGenericGrid.show())}changeMultiSelect(i){this.selectMultiSupplier=1==i.target.checked?1:0}onMultiItemSelected(i){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=i.DESCA,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE=i.MCODE}dblClickPopupParty(i){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE=i.ACID,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["vat-purchaseregisterreport-new"]],viewQuery:function(i,r){if(1&i&&(e.Gf(DS,5),e.Gf(NS,5),e.Gf(jS,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:80,vars:27,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleSupplier",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","230px"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[1,"form-control",2,"font-size","12px",3,"ngModel","disabled","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Purchase Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1=t}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2=t}),e.qZA()()()()()(),e.YNc(34,FS,8,3,"fieldset",15),e.TgZ(35,"fieldset")(36,"legend",16),e._uU(37,"Supplier Selection :"),e.qZA(),e.TgZ(38,"input",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA(),e.TgZ(39,"div",1)(40,"input",18),e.NdJ("ngModelChange",function(t){return r.selectMultiSupplier=t})("change",function(t){return r.changeMultiSelect(t)}),e.qZA(),e._uU(41," \xa0 "),e.TgZ(42,"a",19),e._uU(43," Select Multiple Suppliers"),e.qZA()()(),e.TgZ(44,"fieldset")(45,"div",20)(46,"label",21)(47,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI=t}),e.qZA(),e._uU(48," Trading Purchase Transaction "),e.qZA()(),e.TgZ(49,"div",23)(50,"label",21)(51,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP=t}),e.qZA(),e._uU(52," Capital Purchase Transaction "),e.qZA()(),e.TgZ(53,"div",23)(54,"label",21)(55,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN=t}),e.qZA(),e._uU(56," Purchase Return (Debit Note) Transaction "),e.qZA()()(),e.TgZ(57,"fieldset")(58,"div",1)(59,"div",14)(60,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=t})("change",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=t.target.checked?1:0}),e.qZA(),e.TgZ(61,"label",26),e._uU(62,"Show Sub Total In Report"),e.qZA()(),e.TgZ(63,"div",14)(64,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=t})("change",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=t.target.checked?1:0}),e.qZA(),e.TgZ(65,"label",26),e._uU(66,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(67,"div",14)(68,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=t})("change",function(t){return t.target.checked?r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=1:r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=0}),e.qZA(),e.TgZ(69,"label",26),e._uU(70,"Show Report Without Round Off "),e.qZA()()()(),e.TgZ(71,"div",27)(72,"button",28),e.NdJ("click",function(){return r.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",29),e.NdJ("click",function(){return r.cancel()}),e._uU(75,"Close"),e.qZA()()()()()()()(),e.TgZ(76,"generic-popup-grid",30,31),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(78,"multiselect-generic-grid",32,33),e.NdJ("onItemsSelected",function(t){return r.onMultiItemSelected(t)}),e.qZA()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER),e.xp6(2),e.Q6J("ngModel",r.selectMultiSupplier)("checked",1==r.selectMultiSupplier),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL)("checked",1==r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE)("checked",1==r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING)("checked",1==r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v,F.ky],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();function WS(a,s){1&a&&(e.TgZ(0,"option",31),e._uU(1,"ALL"),e.qZA())}function LS(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function ZS(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function xS(a,s){if(1&a&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}let US=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",IGNOREBRANCH:0,COMID:"",DIV:"",PHISCALID:"",FROMWAREHOUSE:"%",TOWAREHOUSE:"%",ENTRYWISEREPORT:0,REPORTTYPE:0,DIVISIONNAME:"",FROMWAREHOUSENAME:"",TOWAREHOUSENAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.warehouseList=[],this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getNotLoginDivisionList().subscribe(h=>{this.transferToList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList(),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h})}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockIssueObj.assignPreviousValue&&(this._reportFilterService.StockIssueObj.StockIssue_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockIssueObj.StockIssue_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockIssueObj.StockIssue_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockIssueObj.StockIssue_BRANCH="0",this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE="1"),this.changeEntryDate(this._reportFilterService.StockIssueObj.StockIssue_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockIssueObj.StockIssue_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockIssueObj.StockIssue_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockIssueObj.StockIssue_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.StockIssueObj.StockIssue_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.StockIssueObj.StockIssue_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(this._reportFilterService.StockIssueObj.StockIssue_DIV&&"%"==this._reportFilterService.StockIssueObj.StockIssue_DIV)this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME="All";else if(this._reportFilterService.StockIssueObj.StockIssue_DIV&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.StockIssueObj.StockIssue_DIV);this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME="";this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE&&"%"==this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?"All":this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE:"",this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE&&"%"==this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?"All":this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockIssueObj.StockIssue_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockIssueObj.StockIssue_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.StockIssueObj.StockIssue_DIV?this._reportFilterService.StockIssueObj.StockIssue_DIV:"%",this.repObj.reportparam.DIV=this._reportFilterService.StockIssueObj.StockIssue_DIV?this._reportFilterService.StockIssueObj.StockIssue_DIV:"%",this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ENTRYWISEREPORT=this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE?this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE:1,this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockIssueObj.StockIssue_BRANCH?this._reportFilterService.StockIssueObj.StockIssue_BRANCH:0,this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH?this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH:0,this.repObj.reportparam.FROMWAREHOUSE=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE:"%",this.repObj.reportparam.TOWAREHOUSE=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE:"%",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME?this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME:"%",this.repObj.reportparam.FROMWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME?this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME:"",this.repObj.reportparam.TOWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME?this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME:"",1==this.repObj.reportparam.ENTRYWISEREPORT?this.repObj.reportname="Stock Issue Report":2==this.repObj.reportparam.ENTRYWISEREPORT&&(this.repObj.reportname="Stock Issue Report_1"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="@Stock Issue Report":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="@Stock Issue Return Report"),this.repObj.REPORTDISPLAYNAME="Stock Issue Report",this._reportFilterService.StockIssueObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}change(){1==this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE&&(this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=0)}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["stock-issue-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:29,consts:[[1,"container",2,"width","58rem"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"display","flex"],[2,"margin-left","4%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],[2,"width","auto"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","2",3,"ngModel","ngModelChange"],[2,"width","88%"],[2,"width","110px","font-weight","bold","font-size","14px"],[1,"form-control","input-text",2,"margin-left","3px","width","96%",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"form-control","input-text",2,"margin-left","3px","width","96%",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Issue Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_DIV=t}),e.YNc(41,WS,2,0,"option",16),e.YNc(42,LS,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Report Option :"),e.qZA(),e.TgZ(46,"div",18)(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_BRANCH=t}),e.qZA(),e.TgZ(49,"label",21),e._uU(50,"Stock Issue Report"),e.qZA()(),e.TgZ(51,"div",19)(52,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_BRANCH=t}),e.qZA(),e.TgZ(53,"label",21),e._uU(54,"Stock Issue Return Report"),e.qZA()()()()(),e.TgZ(55,"div",23)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE=t})("change",function(){return r.change()}),e.qZA(),e.TgZ(62,"label",26),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",24)(65,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE=t}),e.qZA(),e.TgZ(66,"label",28),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Issue Warehouse Selection:"),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"From Warehouse:"),e.qZA(),e.TgZ(73,"select",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE=t}),e.ALo(74,"disableField"),e._UZ(75,"option",31),e.YNc(76,ZS,2,2,"option",17),e.qZA(),e.TgZ(77,"label",29),e._uU(78,"To Warehouse:"),e.qZA(),e.TgZ(79,"select",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE=t}),e._UZ(80,"option",31),e.YNc(81,xS,2,2,"option",17),e.qZA()(),e.TgZ(82,"div",33)(83,"div",34)(84,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=t})("change",function(t){return r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=t.target.checked?1:0}),e.qZA()(),e.TgZ(85,"div",36)(86,"label",37),e._uU(87,"Disable Warehouse Wise Segragation In Report"),e.qZA()()()()()(),e.TgZ(88,"div",38)(89,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(90,"RUN"),e.qZA(),e.TgZ(91,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(92,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BRANCH),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_BRANCH),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE)("disabled",e.lcZ(74,27,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE),e.xp6(2),e.Q6J("ngForOf",r.warehouseList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH)("checked",1==r._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH)("disabled",1==r._reportFilterService.StockIssueObj.StockIssue_ITEMWISE))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,M.v,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const VS=["division"],BS=["genericGridCustomerPopup"],YS=["multiselectGenericGrid"];function JS(a,s){if(1&a&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let qS=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._trnMainService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this.selectMultiCustomer=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUBTOTAL:0,REPMODE:0,SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTOMERNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForCustomer=new b.im,this.multiselectPopupSettings=new F.oe,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(h=>{this.divisionList=h});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,m.p6)(d,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{if(("DRILL"!=i.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.CreditNoteSalesReturnObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,"AD")}else this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,"AD")):(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,"AD")),this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV="%",this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=0,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){if(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV&&"%"==this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV)this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME="All";else if(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV&&"%"!=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV){let n=this.divisionList.filter(l=>l.Division==this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME=n&&n.length>0&&n[0]?n[0].NAME:""}else this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,this.repObj.reportparam.DIV=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="Credit Note Sales Return Register ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="Credit Note Sales Return Register ReportNONDMS_1"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="Credit Note (Sales Return) Register Report",this._reportFilterService.CreditNoteSalesReturnObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),0==this.selectMultiCustomer?this.genericGridCustomerPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForCustomer,this.multiselectGenericGrid.show())}onMultiCustomerSelected(i){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID=i.MCODE,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=i.DESCA}changeMultiCustomer(i){this.selectMultiCustomer=1==i.target.checked?1:0}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:this.masterService.userSetting.FilterIndexForCustomer,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]}}dblClickPopupParty(i){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID=i.CUSTID,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=i.CUSTNAME}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}preventInput(i){return i.preventDefault(),!1}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["creditnote-sales-return-register-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(VS,5),e.Gf(BS,5),e.Gf(YS,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:70,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleCustomer",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],["type","checkbox",2,"margin-left","45px",3,"ngModel","checked","ngModelChange","change"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"Credit Note (Sales Return) Register"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1=t}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV=t})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,JS,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",19),e._uU(44,"Customer Selection :"),e.qZA(),e.TgZ(45,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA(),e.TgZ(46,"div",1)(47,"input",21),e.NdJ("ngModelChange",function(t){return r.selectMultiCustomer=t})("change",function(t){return r.changeMultiCustomer(t)}),e.qZA(),e._uU(48," \xa0 "),e.TgZ(49,"a",22),e._uU(50," Select Multiple Customers"),e.qZA()()(),e.TgZ(51,"fieldset")(52,"div",1)(53,"div",14)(54,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=t})("change",function(t){return r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=t.target.checked?1:0}),e.qZA(),e.TgZ(55,"label",24),e._uU(56,"Show Report Without Round Off "),e.qZA()(),e.TgZ(57,"div",14)(58,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=t})("change",function(t){return r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=t.target.checked?1:0}),e.qZA(),e.TgZ(59,"label",24),e._uU(60,"Show Bill Wise Summary Report"),e.qZA()()()(),e.TgZ(61,"div",26)(62,"button",27),e.NdJ("click",function(){return r.onload()}),e._uU(63,"RUN"),e.qZA(),e.TgZ(64,"button",28),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(65,"Close"),e.qZA()()()()()()()(),e.TgZ(66,"generic-popup-grid",29,30),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(68,"multiselect-generic-grid",31,32),e.NdJ("onItemsSelected",function(t){return r.onMultiCustomerSelected(t)}),e.qZA()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER),e.xp6(2),e.Q6J("ngModel",r.selectMultiCustomer)("checked",1==r.selectMultiCustomer),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING)("checked",1==r._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE)("checked",1==r._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v,F.ky],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const GS=["division"],HS=["genericGridSupplierPopup"],QS=["genericGridCustomerPopup"];function zS(a,s){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function KS(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",27,28),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV=o)})("change",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",29),e._uU(6,"ALL"),e.qZA(),e.YNc(7,zS,2,2,"option",30),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV),e.xp6(4),e.Q6J("ngForOf",i.divisionList)}}let $S=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._trnMainService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUBTOTAL:0,REPMODE:0,SHOWSUMMARYREPORT:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForCustomer=new b.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(h=>{this.divisionList=h});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,m.p6)(d,"yyyy-MM-dd","en-US")}ngOnInit(){this.AppMode=j.N.appMode,this._ActivatedRoute.queryParams.subscribe(i=>{if(("DRILL"!=i.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VatOtherAdjustmentObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,"AD")}else this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,"AD")):(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,"AD")),this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV="%",this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){if(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV&&"%"==this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV)this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME="All";else if(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV&&"%"!=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV){let n=this.divisionList.filter(l=>l.Division==this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME=n&&n.length>0&&n[0]?n[0].NAME:""}else this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,this.repObj.reportparam.DIV=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID:"%",this.repObj.reportname="Vat Other Adjustment ReportNONDMS",this.repObj.REPORTDISPLAYNAME="Vat Other Adjustment Report",this._reportFilterService.VatOtherAdjustmentObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(i){return i.preventDefault(),!1}SupplierEnterCommand(i){this.getSupplierList(),this.genericGridSupplierPopup.show()}dblClickSupplierPopupParty(i){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CUSTOMERCODE=i.ACID,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER=i.ACNAME}getSupplierList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:0,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]},this.genericGridCustomerPopup.show()}dblClickPopupParty(i){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID=i.CUSTID,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER=i.CUSTNAME,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID=i.ACID}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["vat-other-adjustment-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(GS,5),e.Gf(HS,5),e.Gf(QS,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:62,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12",2,"padding-right","30px"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[2,"display","flex"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white","margin-top","-3px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox",2,"margin-left","27px",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridCustomerPopup",""],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Other Adjustment Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1=t}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2=t}),e.qZA()()()()()(),e.YNc(34,KS,8,2,"fieldset",15),e.TgZ(35,"fieldset")(36,"legend"),e._uU(37,"Party Selection:"),e.qZA(),e.TgZ(38,"div",16)(39,"label"),e._uU(40,"Customer:"),e.qZA(),e.TgZ(41,"input",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(42,"div",16)(43,"label"),e._uU(44,"Supplier:"),e.qZA(),e.TgZ(45,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER=t})("keydown.enter",function(t){return r.SupplierEnterCommand(t)})("keydown.Tab",function(t){return r.SupplierEnterCommand(t)})("keyup",function(t){return r.SupplierEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(46,"fieldset")(47,"div",1),e._UZ(48,"div",14),e.TgZ(49,"div",14)(50,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=t})("change",function(t){return r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=t.target.checked?1:0}),e.qZA(),e.TgZ(51,"label",20),e._uU(52,"Show Bill Wise Summary Report"),e.qZA()()()(),e.TgZ(53,"div",21)(54,"button",22),e.NdJ("click",function(){return r.onload()}),e._uU(55,"RUN"),e.qZA(),e.TgZ(56,"button",23),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(57,"Close"),e.qZA()()()()()()()(),e.TgZ(58,"generic-popup-grid",24,25),e.NdJ("onItemDoubleClick",function(t){return r.dblClickSupplierPopupParty(t)}),e.qZA(),e.TgZ(60,"generic-popup-grid",24,26),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE)("checked",1==r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const XS=["division"],eO=["genericGridSupplierPopup"];function tO(a,s){if(1&a&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let rO=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._trnMainService=r,this._alertService=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",V1:"PI",V2:"DN",V3:"",ACID:"",SUPPLIERDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForSupplier=new b.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(h=>{this.divisionList=h});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p;const d=new Date;this.currDate=(0,m.p6)(d,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{if(("DRILL"!=i.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.DebitNotePurchaseReturnObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,"AD")}else this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,"AD")):(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,"AD")),this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV="%",this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=0,this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(i){if(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV&&"%"==this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV)this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME="All";else if(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV&&"%"!=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV){let n=this.divisionList.filter(l=>l.Division==this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME=n&&n.length>0&&n[0]?n[0].NAME:""}else this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,this.repObj.reportparam.DIV=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE:"%",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="Debit Note Purchase Return Register ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="Debit Note Purchase Return Register ReportNONDMS_1"),""==this.repObj.reportparam.SUPPLIERDISPLAYNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="Debit Note (Purchase Return) Register Report",this._reportFilterService.DebitNotePurchaseReturnObj.assignPreviousValue=!0;let o,r=this.arouter.url.split("/");r&&r.length&&(o=r[r.length-1]);let t=this._reportFilterService.previouslyLoadedReportList.findIndex(n=>n.reportname==this.repObj.REPORTDISPLAYNAME);t>=0&&this._reportFilterService.previouslyLoadedReportList.splice(t,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(i){return i.preventDefault(),!1}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(i){this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE=i.ACID,this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER=i.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["debitnote-purchasereturn-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(XS,5),e.Gf(eO,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:63,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%","width","110%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox",2,"margin-left","56px",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"Debit Note (Purchase Return) Register"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1=t}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV=t})("change",function(){return r.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,tO,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",19),e._uU(44,"Supplier Selection :"),e.qZA(),e.TgZ(45,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(46,"fieldset")(47,"div",1)(48,"div",14)(49,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=t})("change",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=t.target.checked?1:0}),e.qZA(),e.TgZ(50,"label",22),e._uU(51,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(52,"div",14)(53,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=t})("change",function(t){return r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=t.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Show Report Without Round Off"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"button",24),e.NdJ("click",function(){return r.onload()}),e._uU(58,"RUN"),e.qZA(),e.TgZ(59,"button",25),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(60,"Close"),e.qZA()()()()()()()(),e.TgZ(61,"generic-popup-grid",26,27),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE)("checked",1==r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING)("checked",1==r._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const iO=["genericGridUserListPopup"],oO=["genericGridCounterListPopup"];function nO(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let aO=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",TRNUSER:"",TERMINAL:"",COMPANYID:"",TERMINALNAME:"",DIVISIONAME:"",REPORTOPTIONDISPLAYNAME:"",USERDISPLAYNAME:"",TERMINALDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForUserList=new b.im,this.gridPopupSettingsForCounterList=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.ShiftCloseObj.assignPreviousValue&&(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ShiftCloseObj.ShiftClose_DATE=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ShiftCloseObj.ShiftClose_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE,"AD")})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ShiftCloseObj.ShiftClose_DATE=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(this._reportFilterService.ShiftCloseObj.ShiftClose_DIV&&"%"==this._reportFilterService.ShiftCloseObj.ShiftClose_DIV)this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME="All";else if(this._reportFilterService.ShiftCloseObj.ShiftClose_DIV&&"%"!=this._reportFilterService.ShiftCloseObj.ShiftClose_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.ShiftCloseObj.ShiftClose_DIV);this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ShiftCloseObj.ShiftClose_DATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ShiftCloseObj.ShiftClose_DIV?this._reportFilterService.ShiftCloseObj.ShiftClose_DIV:"%",this.repObj.reportparam.TRNUSER=this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME:"%",this.repObj.reportparam.TERMINAL=this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL?this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL:"%",this.repObj.reportparam.TERMINALNAME=this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME:"",this.repObj.reportparam.DIVISIONAME=this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME:"",this.repObj.reportparam.USERDISPLAYNAME="%"!=this.repObj.reportparam.TRNUSER?this.repObj.reportparam.TRNUSER:"",this.repObj.reportparam.TERMINALDISPLAYNAME="%"!=this.repObj.reportparam.TERMINAL?this.repObj.reportparam.TERMINALNAME:"",this.repObj.reportname="Shift Close Report",this.repObj.REPORTDISPLAYNAME="Shift Close Report",this._reportFilterService.ShiftCloseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}UserListEnter(i){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(i){this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME=i.UNAME}CounterListEnter(i){this.gridPopupSettingsForCounterList={title:"Counter List",apiEndpoints:"/getSalesCounterList",defaultFilterIndex:0,columns:[{key:"INITIAL",title:"INITIAL",hidden:!1,noSearch:!1},{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridCounterListPopup.show()}onCounterListSelected(i){this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL=i.INITIAL,this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME=i.NAME}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["shift-close-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(iO,5),e.Gf(oO,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCounterListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:71,vars:18,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","margin-left","26px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4",2,"margin-left","-56px"],[2,"margin-left","54%","margin-top","5px"],[1,"col"],["type","text","placeholder","Press Enter for Counter List",1,"form-control","input-text",2,"background","white","margin-left","31px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridUserListPopup",""],["genericGridCounterListPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Shift Close Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ShiftCloseObj.ShiftClose_DATE=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ShiftCloseObj.ShiftClose_DIV=t}),e.TgZ(41,"option",16),e._uU(42,"ALL"),e.qZA(),e.YNc(43,nO,2,2,"option",17),e.qZA()()(),e.TgZ(44,"div",18)(45,"fieldset")(46,"legend",10),e._uU(47,"Filter Option :"),e.qZA(),e.TgZ(48,"div",1)(49,"div",19)(50,"label",20),e._uU(51,"User Name :"),e.qZA()(),e.TgZ(52,"div",21)(53,"div",22)(54,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME=t})("keydown.enter",function(t){return r.UserListEnter(t)})("keydown.Tab",function(t){return r.UserListEnter(t)})("keyup",function(t){return r.UserListEnter(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(55,"div",1)(56,"div",24)(57,"label",25),e._uU(58,"Counter Name :"),e.qZA()(),e.TgZ(59,"div",26)(60,"div",22)(61,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME=t})("keydown.enter",function(t){return r.CounterListEnter(t)})("keydown.Tab",function(t){return r.CounterListEnter(t)})("keyup",function(t){return r.CounterListEnter(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()()()()(),e.TgZ(62,"div",28)(63,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(64,"RUN"),e.qZA(),e.TgZ(65,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(66,"Close"),e.qZA()()()()()(),e.TgZ(67,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(t){return r.onUserListSelected(t)}),e.qZA(),e.TgZ(69,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(t){return r.onCounterListSelected(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCounterList))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();var sO=S(53158);function lO(a,s){1&a&&(e.TgZ(0,"option",15),e._uU(1,"ALL"),e.qZA())}function pO(a,s){if(1&a&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function cO(a,s){if(1&a&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.NAME),e.xp6(1),e.hij(" ",i.NAME," ")}}function _O(a,s){if(1&a&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.BATCH),e.xp6(1),e.hij(" ",i.BATCH," ")}}let dO=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._alertService=l,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMPANYID:"",DIV:"",VARIANCEMODE:0,WAREHOUSE:"",DIVISIONNAME:"",WAREHOUSENAME:"",BATCH:"",REPORTOPTIONDISPLAYNAME:"",DIVISION:"",WARE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.warehouseList=[],this.majorGroupList=[],this.showVariantPopup=!1,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getWarehouseList().subscribe(p=>{this.warehouseList=p})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{"DRILL"==i.mode&&this._reportFilterService.drillParam.returnUrl||1!=this._reportFilterService.StockVarianceObj.assignPreviousValue&&(this._reportFilterService.StockVarianceObj.StockVariance_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE="0")}),this.getBatchList(this.masterService.PhiscalObj.Div)}getBatchList(i){this.masterService.getbatchSelectionList(i).subscribe(r=>{this.batchSelectionList=r})}onChangeDivision(){console.log("div",this._reportFilterService.StockVarianceObj.StockVariance_DIV),this.getBatchList(this._reportFilterService.StockVarianceObj.StockVariance_DIV)}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){if(this._reportFilterService.StockVarianceObj.StockVariance_DIV&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_DIV)this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME="All";else if(this._reportFilterService.StockVarianceObj.StockVariance_DIV&&"%"!=this._reportFilterService.StockVarianceObj.StockVariance_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.StockVarianceObj.StockVariance_DIV);this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME="";this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSENAME=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?"All":this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIVISION=this._reportFilterService.StockVarianceObj.StockVariance_DIV?this._reportFilterService.StockVarianceObj.StockVariance_DIV:"%",this.repObj.reportparam.VARIANCEMODE=this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE?this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE:0,this.repObj.reportparam.WARE=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"%",this.repObj.reportparam.BATCH=this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION?this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION:"%",this.repObj.reportparam.DATE=this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE?this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME?this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME:"%",this.repObj.reportname=0==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report":1==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_1":2==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_2":3==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_3":4==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_4":5==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_5":6==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_6":"Stock Variance Report",this.repObj.REPORTDISPLAYNAME="Stock Variance Report",this._reportFilterService.StockVarianceObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}onChangeBatch(){let i=this.batchSelectionList.filter(r=>r.BATCH==this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION);i&&i.length>0&&i[0]&&(this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE=i[0].TRNDATE.substring(0,10),console.log("BATCH SELECTION",this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE))}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["stock-variance-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:92,vars:18,consts:[[1,"container",2,"width","800px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","change","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["type","text",1,"form-control","input-text",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[1,"variance-font",2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[2,"width","100%"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","4",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","5",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","6",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Variance Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Division Selection:"),e.qZA(),e.TgZ(19,"select",11),e.NdJ("change",function(){return r.onChangeDivision()})("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_DIV=t}),e.YNc(20,lO,2,0,"option",12),e.YNc(21,pO,2,2,"option",13),e.qZA()(),e.TgZ(22,"fieldset")(23,"fieldset")(24,"legend",10),e._uU(25,"Warehouse Selection:"),e.qZA(),e.TgZ(26,"select",14),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE=t}),e.ALo(27,"disableField"),e._UZ(28,"option",15),e.YNc(29,cO,2,2,"option",13),e.qZA()(),e.TgZ(30,"fieldset")(31,"legend",10),e._uU(32,"Batch Selection:"),e.qZA(),e.TgZ(33,"select",16),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION=t})("change",function(){return r.onChangeBatch()}),e._UZ(34,"option",15),e.YNc(35,_O,2,2,"option",13),e.qZA()(),e.TgZ(36,"fieldset")(37,"legend",10),e._uU(38,"Batch Date:"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE=t}),e.qZA()()()(),e.TgZ(40,"div",18)(41,"fieldset")(42,"legend",10),e._uU(43,"Report Option :"),e.qZA(),e.TgZ(44,"div",19)(45,"div",20)(46,"div",21)(47,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=t}),e.qZA()(),e.TgZ(48,"div",23)(49,"label",24),e._uU(50,"Show All"),e.qZA()()(),e.TgZ(51,"div",20)(52,"div",21)(53,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=t}),e.qZA()(),e.TgZ(54,"div",23)(55,"label",26),e._uU(56,"Show Difference Stock"),e.qZA()()(),e.TgZ(57,"div",20)(58,"div",21)(59,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=t}),e.qZA()(),e.TgZ(60,"div",23)(61,"label",26),e._uU(62,"Show Excess Stock Only"),e.qZA()()(),e.TgZ(63,"div",20)(64,"div",21)(65,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=t}),e.qZA()(),e.TgZ(66,"div",23)(67,"label",26),e._uU(68,"Show Shortage Only"),e.qZA()()(),e.TgZ(69,"div",20)(70,"div",21)(71,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=t}),e.qZA()(),e.TgZ(72,"div",23)(73,"label",26),e._uU(74,"Show Items That Counted But Not In Stock"),e.qZA()()(),e.TgZ(75,"div",20)(76,"div",21)(77,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=t}),e.qZA()(),e.TgZ(78,"div",23)(79,"label",26),e._uU(80,"Show Items That Not Come In Counting"),e.qZA()()(),e.TgZ(81,"div",20)(82,"div",21)(83,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=t}),e.qZA()(),e.TgZ(84,"div",23)(85,"label",26),e._uU(86,"Show Equal Stock Only"),e.qZA()()()()()()()(),e.TgZ(87,"div",32)(88,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(89,"RUN"),e.qZA(),e.TgZ(90,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(91,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(19),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE)("disabled",e.lcZ(27,16,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION),e.xp6(2),e.Q6J("ngForOf",r.batchSelectionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const hO=["genericGridCusCategoryPopup"],gO=["genericGridCusGroupPopup"];function uO(a,s){1&a&&(e.TgZ(0,"option",34),e._uU(1," ALL"),e.qZA())}function mO(a,s){if(1&a&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let SO=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._alertService=l,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",DIV:"",REPORT_TYPE:0,COMID:"%",CATEGORY:"%",PARTYGROUP:"%",CCENTER:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.gridPopupSettingsForCusCategory=new b.im,this.gridPopupSettingsForCusGroup=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesRevenueAnalysisObj.assignPreviousValue&&(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE="2"),this.changeEntryDate(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2,this.repObj.reportparam.COMID="%",this.repObj.reportparam.DIV=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV:"%",this.repObj.reportparam.CCENTER="%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.CATEGORY=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE:0,this.repObj.reportparam.PARTYGROUP=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE:"%",0==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Revenue Analysis Report":1==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Revenue Analysis Report_1":2==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Sales Revenue Analysis Report_2"),this.repObj.REPORTDISPLAYNAME="Sales Revenue Analysis Report",this._reportFilterService.SalesRevenueAnalysisObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}CusCategoryEnterCommand(i){this.getCustomerCategoryList(),this.genericGridCusCategoryPopup.show()}dblClickPopupCusCategory(i){this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY=i.ORGTYPENAME,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE=i.ORGTYPECODE}getCustomerCategoryList(){this.gridPopupSettingsForCusCategory=this.masterService.getGenericGridPopUpSettings("CustomerCategoryList")}CusGroupEnterCommand(i){this.getCustomerGroupList(),this.genericGridCusGroupPopup.show()}dblClickPopupCusGroup(i){this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE=i.ACID,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP=i.ACNAME}getCustomerGroupList(){this.gridPopupSettingsForCusGroup=this.masterService.getGenericGridPopUpSettings("CustomerGroupList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-revenueanalysis-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(hO,5),e.Gf(gO,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCusCategoryPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCusGroupPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:73,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Customer Category List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Customer Group List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCusCategoryPopup",""],["genericGridCusGroupPopup",""],["value","%"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Revenue Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV=t}),e.YNc(31,uO,2,0,"option",16),e.YNc(32,mO,2,2,"option",17),e.qZA()()(),e.TgZ(33,"div",18)(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div")(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Party Category Wise Report"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Party Group Wise Report"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Party Wise Report"),e.qZA()()()()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Customer Category Selection:"),e.qZA(),e.TgZ(59,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY=t})("keydown.enter",function(t){return r.CusCategoryEnterCommand(t)})("keydown.Tab",function(t){return r.CusCategoryEnterCommand(t)})("keyup",function(t){return r.CusCategoryEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(60,"fieldset")(61,"legend",10),e._uU(62,"Customer Group Selection:"),e.qZA(),e.TgZ(63,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP=t})("keydown.enter",function(t){return r.CusGroupEnterCommand(t)})("keydown.Tab",function(t){return r.CusGroupEnterCommand(t)})("keyup",function(t){return r.CusGroupEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()(),e.TgZ(64,"div",28)(65,"button",29),e.NdJ("click",function(){return r.onload()}),e._uU(66,"RUN"),e.qZA(),e.TgZ(67,"button",30),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(68,"Close"),e.qZA()()()()()(),e.TgZ(69,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupCusCategory(t)}),e.qZA(),e.TgZ(71,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupCusGroup(t)}),e.qZA()),2&i&&(e.xp6(23),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForCusCategory),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForCusGroup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const OO=["genericGridSalesMan"];function bO(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1," ALL"),e.qZA())}function TO(a,s){if(1&a&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function vO(a,s){if(1&a&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}let fO=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._alertService=n,this._authService=l,this._ActivatedRoute=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,SALESMAN:0,SALESMANNAME:"",REPORT_TYPE:1},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForSalesMan=new b.im,this.userSetting=l.getSetting(),this.userProfile=l.getUserProfile(),this.masterService.getAllCostCenter().subscribe(d=>{this.costCenterList=d&&d||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Salesman Wise_1"==this._reportFilterService.drillParam.reportname||"Sales Report Salesman Wise_2"==this._reportFilterService.drillParam.reportname||"Sales Report Salesman Wise_3"==this._reportFilterService.drillParam.reportname)&&(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETALREPORT,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=this._reportFilterService.drillParam.reportparam.REPORT_TYPE,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID=this._reportFilterService.drillParam.reportparam.SALESMAN,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=this._reportFilterService.drillParam.reportparam.SALESMANNAME,this.changeEntryDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,"AD")):(1!=this._reportFilterService.SalesReportSalesmanWiseObj.assignPreviousValue&&(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE="1",this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL="0"),this.changeEntryDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER||null==this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL:0,this.repObj.reportparam.SALESMAN=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID:0,this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN:"",""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SALESMAN=0),1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),1==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Report Salesman Wise":2==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Report Salesman Wise_1":2==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT&&(0==this.userSetting.EnableVariantCategory?this.repObj.reportname="Sales Report Salesman Wise_2":1==this.userSetting.EnableVariantCategory&&(this.repObj.reportname="Sales Report Salesman Wise_3")),this.repObj.REPORTDISPLAYNAME="Sales Report Salesman Wise",this._reportFilterService.SalesReportSalesmanWiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}salesmanEnterCommand(i){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(i){this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID=i.SALESMANID,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=i.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(R.c),e.Y36(P.e),e.Y36(O.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-report-salesman-wise"]],viewQuery:function(i,r){if(1&i&&e.Gf(OO,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:25,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[1,"col-md-5"],[2,"display","flex","align-items","center"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"display","flex","align-items","center","margin-top","10px"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"col-md-7"],[2,"margin-left","1%"],["type","radio","name","detailoption","value","0",3,"ngModel","disabled","ngModelChange"],[2,"width","120px !important"],["type","radio","name","detailoption","value","1",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSalesMan",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Salesman Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=t}),e.YNc(41,bO,2,0,"option",16),e.YNc(42,TO,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,vO,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Report Type :"),e.qZA(),e.TgZ(55,"div",11)(56,"div",21)(57,"div",22)(58,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=t}),e.qZA(),e.TgZ(59,"label"),e._uU(60,"Summary Report"),e.qZA()(),e.TgZ(61,"div",24)(62,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=t}),e.qZA(),e.TgZ(63,"label"),e._uU(64,"Detail Report"),e.qZA()()(),e.TgZ(65,"div",26)(66,"fieldset")(67,"legend"),e._uU(68,"Detail Report Option"),e.qZA(),e.TgZ(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"Voucher Wise Report "),e.qZA()(),e.TgZ(73,"div",27)(74,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=t}),e.qZA(),e.TgZ(75,"label",29),e._uU(76,"Item Wise Report "),e.qZA()()()()()(),e.TgZ(77,"fieldset")(78,"legend",10),e._uU(79,"Salesman Selection :"),e.qZA(),e.TgZ(80,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=t})("keydown.enter",function(t){return r.salesmanEnterCommand(t)})("keydown.Tab",function(t){return r.salesmanEnterCommand(t)})("keyup",function(t){return r.salesmanEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()()(),e.TgZ(81,"div",32)(82,"button",33),e.NdJ("click",function(){return r.onload()}),e._uU(83,"RUN"),e.qZA(),e.TgZ(84,"button",34),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(85,"Close"),e.qZA()()()()()(),e.TgZ(86,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupSalesman(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL)("disabled",1==r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL)("disabled",1==r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSalesMan))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const CO=["genericGridItemPopup"],AO=["genericGridMemberPopup"];function PO(a,s){1&a&&(e.TgZ(0,"option",23),e._uU(1," ALL"),e.qZA())}function MO(a,s){if(1&a&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function RO(a,s){if(1&a&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.SCHEMEID),e.xp6(1),e.hij("",i.NAME," ")}}let EO=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._alertService=l,this._ActivatedRoute=_,this._authService=p,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,MEMID:"%",SHOWBILLDETAIL:0,SCHEME:"%",MEMBERNAME:"",ITEMNAME:"",MEMBERPOINT:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.MemberSchemeList=[],this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForMember=new b.im,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMemberSchemeList().subscribe(h=>{this.MemberSchemeList=h&&h||[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Membership Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID=this._reportFilterService.drillParam.reportparam.MEMID,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=this._reportFilterService.drillParam.reportparam.MEMBERNAME,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,"AD")):(1!=this._reportFilterService.SalesMembershipWiseObj.assignPreviousValue&&(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL="0",this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWBILLDETAIL=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME="%"),this.changeEntryDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2=n.en.year+"-"+n.en.month+"-"+("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV:"%",this.repObj.reportparam.MEMID=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT:0,this.repObj.reportparam.SCHEME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME:"%",this.repObj.reportparam.MEMBERNAME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM:"",this.repObj.reportparam.MEMBERPOINT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.MEMBERNAME&&(this.repObj.reportparam.MEMID="%"),1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0,this.repObj.reportparam.MEMBERPOINT=0),0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Membership Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Membership Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Membership Wise",this._reportFilterService.SalesMembershipWiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(i){this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE=i.MCODE,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM=i.DESCA}dblClickPopupParty(i){this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID=i.MEMID,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=i.FNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}memberEnterCommand(i){this.getMermbersList(),this.genericGridMemberPopup.show()}getMermbersList(){this.gridPopupSettingsForMember=this.masterService.getGenericGridPopUpSettings("AllMemberList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}onChangeDetail(){1==this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL&&(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT=0)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(R.c),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-report-membership-wise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(CO,5),e.Gf(AO,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridMemberPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:98,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","2%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Member List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%"],[1,"col-md-4"],[2,"margin-left","-10%","width","135px !important"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[1,"col-md-2"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridMemberPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Membership Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=t}),e.YNc(41,PO,2,0,"option",16),e.YNc(42,MO,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",1)(44,"div",18)(45,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=t})("change",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=t.target.checked?1:0}),e.qZA(),e.TgZ(46,"label",20),e._uU(47,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(48,"div",21)(49,"fieldset")(50,"legend",10),e._uU(51,"Member Selection :"),e.qZA(),e.TgZ(52,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=t})("keydown.enter",function(t){return r.memberEnterCommand(t)})("keydown.Tab",function(t){return r.memberEnterCommand(t)})("keyup",function(t){return r.memberEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(53,"fieldset")(54,"legend",10),e._uU(55,"Membership Scheme Selection :"),e.qZA(),e.TgZ(56,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME=t}),e._UZ(57,"option",23),e.YNc(58,RO,2,2,"option",17),e.qZA()(),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",11)(64,"div",24)(65,"label",25),e._uU(66,"Transaction Amount >= :"),e.qZA()(),e.TgZ(67,"div",24)(68,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=t}),e.qZA()(),e._UZ(69,"div",27),e.qZA()(),e.TgZ(70,"div",1)(71,"div",11)(72,"div",24)(73,"label",25),e._uU(74,"Member Point >= :"),e.qZA()(),e.TgZ(75,"div",24)(76,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT=t}),e.qZA()(),e._UZ(77,"div",27),e.qZA()()(),e.TgZ(78,"fieldset")(79,"legend",10),e._uU(80,"Report Type :"),e.qZA(),e.TgZ(81,"div",28)(82,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL=t})("change",function(){return r.onChangeDetail()}),e.qZA(),e.TgZ(83,"label"),e._uU(84,"Summary Report"),e.qZA()(),e.TgZ(85,"div",28)(86,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL=t})("change",function(){return r.onChangeDetail()}),e.qZA(),e.TgZ(87,"label"),e._uU(88,"Detail Report"),e.qZA()()()()()(),e.TgZ(89,"div",31)(90,"button",32),e.NdJ("click",function(){return r.onload()}),e._uU(91,"RUN"),e.qZA(),e.TgZ(92,"button",33),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(93,"Close"),e.qZA()()()()()(),e.TgZ(94,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(96,"generic-popup-grid",34,36),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT)("checked",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT)("disabled",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME),e.xp6(2),e.Q6J("ngForOf",r.MemberSchemeList),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT)("disabled",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT)("disabled",1==r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForMember))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const IO=["genericGridCustomerPopup"];function yO(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",16),e._uU(2,"Date Range Selection : "),e.qZA(),e.TgZ(3,"div",1)(4,"div",43)(5,"div",44)(6,"div")(7,"label"),e._uU(8," From:(AD) "),e.qZA()(),e.TgZ(9,"div")(10,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(11,"div")(12,"nepali-date-picker",46),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1=o)}),e.qZA()()(),e.TgZ(13,"div",5)(14,"div")(15,"label"),e._uU(16," To:(AD) "),e.qZA()(),e.TgZ(17,"div")(18,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(19,"div")(20,"nepali-date-picker",46),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=o)}),e.qZA()()()()()()}if(2&a){const i=e.oxw();e.xp6(10),e.s9C("max",i.currDate),e.s9C("min",i.date2),e.Q6J("ngModel",i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1),e.xp6(6),e.s9C("max",i.currDate),e.s9C("min",i.date2),e.Q6J("ngModel",i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2)}}function DO(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",16),e._uU(2,"As On Dated : "),e.qZA(),e.TgZ(3,"div",1)(4,"div",43)(5,"div",44)(6,"div")(7,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=o)})("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEndDate(o.target.value,"AD"))}),e.qZA()()(),e.TgZ(8,"div",5)(9,"div")(10,"nepali-date-picker",46),e.NdJ("change",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=o)}),e.qZA()()()()()()}if(2&a){const i=e.oxw();e.xp6(7),e.s9C("max",i.currDate),e.s9C("min",i.date2),e.Q6J("ngModel",i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2)}}function NO(a,s){1&a&&(e.TgZ(0,"option",20),e._uU(1,"ALL"),e.qZA())}function jO(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function kO(a,s){if(1&a&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}let FO=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",CCENTER:"",DETAILSREPORT:0,ASONDATED:0,PROFORMAMODE:0,AGE:0,ACID:"",CUSTOMERNAME:"",CUSTOMERDISPLAYNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new b.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.ProformaInvoiceWiseObj.assignPreviousValue&&(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT="0",this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED="0",this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE="2"),this.changeEntryDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=1==this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2:this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER:"%",this.repObj.reportparam.ASONDATED=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED:0,this.repObj.reportparam.DIV=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV:"%",this.repObj.reportparam.DETAILSREPORT=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT:0,this.repObj.reportparam.PROFORMAMODE=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE:0,this.repObj.reportparam.AGE=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE:0,this.repObj.reportparam.ACID=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER:"",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.DETAILSREPORT?this.repObj.reportname="Proforma Invoice Report":1==this.repObj.reportparam.DETAILSREPORT&&(this.repObj.reportname="Proforma Invoice Report_1"),this.repObj.REPORTDISPLAYNAME="Proforma Invoice Report",this._reportFilterService.ProformaInvoiceWiseObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(i){this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID=i.ACID,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER=i.CUSTNAME,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID=i.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}asOnDefaultDate(){console.log("as on date click event checked"),this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD")}dateRangeDefaultDate(){console.log("date range date click event checked"),this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD"),this.changeEntryDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,"AD")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["proformainvoicereport"]],viewQuery:function(i,r){if(1&i&&e.Gf(IO,5),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-5"],["type","radio","name","dateType","value","0",2,"margin-left","-10px",3,"ngModel","ngModelChange","click"],[2,"width","80%","margin-left","5px"],["type","radio","name","dateType","value","1",3,"ngModel","ngModelChange","click"],[2,"width","85%","margin-left","5px"],[4,"ngIf"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"display","flex"],[1,"col-sm-4"],["type","radio","value","2",3,"ngModel","ngModelChange"],[2,"width","75px","margin-left","5px"],["type","radio","value","1",3,"ngModel","ngModelChange"],["type","radio","value","0",3,"ngModel","ngModelChange"],[1,"row",2,"padding-top","5px","width","90%"],[2,"width","50%"],[2,"width","100%"],[2,"width","20%"],["type","text",1,"form-control","input-text",2,"width","100%","margin-left","-15px",3,"ngModel","ngModelChange"],[2,"width","100%","margin-left","10px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Proforma Invoice Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"div",1)(17,"div",10)(18,"input",11),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED=t})("click",function(){return r.dateRangeDefaultDate()}),e.qZA(),e.TgZ(19,"label",12),e._uU(20,"Date Range Wise"),e.qZA()(),e.TgZ(21,"div",5)(22,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED=t})("click",function(){return r.asOnDefaultDate()}),e.qZA(),e.TgZ(23,"label",14),e._uU(24,"As On Date Wise Report"),e.qZA()()(),e.YNc(25,yO,21,12,"fieldset",15),e.YNc(26,DO,11,6,"fieldset",15),e.TgZ(27,"fieldset")(28,"legend",16),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV=t}),e.YNc(31,NO,2,0,"option",18),e.YNc(32,jO,2,2,"option",19),e.qZA()(),e.TgZ(33,"fieldset")(34,"legend",16),e._uU(35,"Cost Center:"),e.qZA(),e.TgZ(36,"select",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER=t}),e._UZ(37,"option",20),e.YNc(38,kO,2,2,"option",19),e.qZA()()(),e.TgZ(39,"div",21)(40,"fieldset")(41,"legend",16),e._uU(42,"Customer Selection :"),e.qZA(),e.TgZ(43,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend",16),e._uU(46,"Report Type :"),e.qZA(),e.TgZ(47,"div",1)(48,"div",23)(49,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT=t}),e.qZA(),e.TgZ(50,"label"),e._uU(51,"Summary Report"),e.qZA()(),e.TgZ(52,"div",23)(53,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT=t}),e.qZA(),e.TgZ(54,"label"),e._uU(55,"Detail Report"),e.qZA()()()(),e.TgZ(56,"fieldset")(57,"legend",16),e._uU(58,"Proforma Invoice Status :"),e.qZA(),e.TgZ(59,"div",26)(60,"div",27)(61,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=t}),e.qZA(),e.TgZ(62,"label",29),e._uU(63,"Billed"),e.qZA()(),e.TgZ(64,"div",27)(65,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=t}),e.qZA(),e.TgZ(66,"label",29),e._uU(67,"Non-Billed"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=t}),e.qZA(),e.TgZ(70,"label",29),e._uU(71,"Both"),e.qZA()()()(),e.TgZ(72,"div",32)(73,"div",33)(74,"label",34),e._uU(75,"Proforma Invoice Age >= "),e.qZA()(),e.TgZ(76,"div",35)(77,"input",36),e.NdJ("ngModelChange",function(t){return r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE=t}),e.qZA()(),e.TgZ(78,"div",35)(79,"label",37),e._uU(80,"Days"),e.qZA()()()()()(),e.TgZ(81,"div",38)(82,"button",39),e.NdJ("click",function(){return r.onload()}),e._uU(83,"RUN"),e.qZA(),e.TgZ(84,"button",40),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(85,"Close"),e.qZA()()()()()(),e.TgZ(86,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(18),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(3),e.Q6J("ngIf",0==r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(1),e.Q6J("ngIf",1==r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER),e.xp6(2),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const wO=["genericGridCustomerPopup"],WO=["genericGridCRescurringPopup"];function LO(a,s){if(1&a&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function ZO(a,s){if(1&a&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.category),e.xp6(1),e.hij(" ",i.category," ")}}let xO=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DAYS:"",DIV:"",REPORTOPTION:"",ITEM:"",ACID:"",INCLUDEPENDINGTRANSACTION:"",CATEGORY:"",CUSTOMER:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.rCategoryList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.gridPopupSettingsForCustomer=new b.im,this.gridPopupSettingsForRecurring=new b.im,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getRecurringCategoryList().subscribe(h=>{this.rCategoryList=h,console.log(h)});var d=this.userProfile.PhiscalYearInfo.PhiscalID;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt("7")),this._ActivatedRoute.queryParams.subscribe(o=>{"DRILL"==o.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=this._reportFilterService.drillParam.reportparam.DIVISON):(1!=this._reportFilterService.RecurringTransactionReportObj.assignPreviousValue&&(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION="0",this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=1),this.changeEntryDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,"AD"))})}daysSelection(i){let r=i.target.value;(""==r||null==r||null==r)&&(r=0),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt(r)),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.date.toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,"AD"),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1.toString(),"AD")}customerEnterCommand(i){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}getRecurringList(){this.gridPopupSettingsForRecurring={title:"Recurring Items",apiEndpoints:"/getRecurringItemPagesList",defaultFilterIndex:0,columns:[{key:"MENUCODE",title:"MENUCODE",hidden:!1,noSearch:!1},{key:"DESCA",title:"ITEM NAME",hidden:!1,noSearch:!1}]},this.genericGridCRescurringPopup.show()}itemEnterCommand1(i){this.getRecurringList()}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}dblClickPopupParty(i){console.log("memebr list",i),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID=i.ACID,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER=i.CUSTNAME}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,this.repObj.reportparam.DIV=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY:"%",this.repObj.reportparam.ACID=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID:"%",this.repObj.reportparam.ITEM=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE:"%",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION:0,this.repObj.reportparam.INCLUDEPENDINGTRANSACTION=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION:0,this.repObj.reportparam.CUSTOMER=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER:"",""==this.repObj.reportparam.CUSTOMER&&(this.repObj.reportparam.ACID="%"),""==this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM&&(this.repObj.reportparam.ITEM="%"),console.log(this.repObj),this.repObj.reportname="Recurring Transaction Report",this.repObj.REPORTDISPLAYNAME="Recurring Transaction Report",this._reportFilterService.RecurringTransactionReportObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}dblClickPopupRecurring(i){console.log("Recurring Transaction List",i),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM=i.DESCA,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE=i.MCODE}showCurrentDateOnClick(){this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=(new Date).toJSON().split("T")[0]}showDateAfterWeek(){this.date=new Date,this.date.setDate(this.date.getDate()+parseInt("7")),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.date.toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0]}showFiscalStartDateOnClick(){this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=(new Date).toJSON().split("T")[0]}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["recurring-transaction-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(wO,5),e.Gf(WO,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridCRescurringPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:132,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[3,"disabled"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],[2,"margin-left","3%","width","100%"],["type","number",2,"width","50px","margin-left","10px",3,"ngModel","ngModelChange","input"],[1,"col-md-4"],[2,"margin-left","-10%","white-space","nowrap"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white","margin-top","-5px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"white-space","nowrap","margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Recurring Transaction List",1,"form-control","input-text",2,"background","white","margin-top","8px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","4",3,"ngModel","ngModelChange","click","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridCRescurringPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Recurring Transaction Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset",11)(17,"legend",12),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",13)(21,"div",14)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",16),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",16),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",12),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=t}),e.TgZ(41,"option",19),e._uU(42,"ALL"),e.qZA(),e.YNc(43,LO,2,2,"option",20),e.qZA()(),e.TgZ(44,"div",21)(45,"div",22)(46,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=t})("change",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=t.target.checked?1:0}),e.qZA()(),e.TgZ(47,"div",24)(48,"label",25),e._uU(49,"Include Pending Recurring Transaction Also"),e.qZA()()()(),e.TgZ(50,"div",26)(51,"fieldset")(52,"legend",12),e._uU(53,"Days Selection :"),e.qZA(),e.TgZ(54,"div",1)(55,"div",27)(56,"label",28),e._uU(57,"Days :"),e.TgZ(58,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DAYS=t})("input",function(t){return r.daysSelection(t)}),e.qZA()()()()(),e.TgZ(59,"fieldset")(60,"legend",12),e._uU(61,"Report Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",30)(64,"label",31),e._uU(65,"Customer Selection :"),e.qZA()(),e.TgZ(66,"div",24)(67,"input",32),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",30)(70,"label",33),e._uU(71,"Recurring Transaction "),e._UZ(72,"br"),e._uU(73,"Category : "),e.qZA()(),e.TgZ(74,"div",24)(75,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY=t}),e.TgZ(76,"option",19),e._uU(77,"ALL"),e.qZA(),e.YNc(78,ZO,2,2,"option",20),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",30)(81,"label",33),e._uU(82,"Recurring Transaction "),e._UZ(83,"br"),e._uU(84," Item :"),e.qZA()(),e.TgZ(85,"div",24)(86,"input",34),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM=t})("keydown.enter",function(t){return r.itemEnterCommand1(t)})("keydown.Tab",function(t){return r.itemEnterCommand1(t)})("keyup",function(t){return r.itemEnterCommand1(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()()(),e.TgZ(87,"fieldset")(88,"legend",12),e._uU(89,"Report Option :"),e.qZA(),e.TgZ(90,"div",13)(91,"div",7)(92,"div",35)(93,"div",1)(94,"div",36)(95,"input",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=t})("click",function(){return r.showDateAfterWeek()})("change",function(){return r.showDateAfterWeek()}),e.qZA()(),e.TgZ(96,"div",38)(97,"label",39),e._uU(98,"Show Upcoming Recurring Transaction Report"),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",36)(101,"input",40),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=t})("click",function(){return r.showFiscalStartDateOnClick()})("change",function(){return r.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(102,"div",38)(103,"label",39),e._uU(104,"Show Processed Recurring Transaction Report"),e.qZA()()(),e.TgZ(105,"div",1)(106,"div",36)(107,"input",41),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=t})("click",function(){return r.showFiscalStartDateOnClick()})("change",function(){return r.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(108,"div",38)(109,"label",39),e._uU(110,"Show Hold Recurring Transaction Report"),e.qZA()()(),e.TgZ(111,"div",1)(112,"div",36)(113,"input",42),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=t})("click",function(){return r.showCurrentDateOnClick()})("change",function(){return r.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(114,"div",38)(115,"label",39),e._uU(116,"Show Newly Added Recurring Transaction Report"),e.qZA()()(),e.TgZ(117,"div",1)(118,"div",36)(119,"input",43),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=t})("click",function(){return r.showFiscalStartDateOnClick()})("change",function(){return r.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(120,"div",38)(121,"label",39),e._uU(122,"Show Pending Recurring Transaction Report"),e.qZA()()()()()()()()()(),e.TgZ(123,"div",44)(124,"button",45),e.NdJ("click",function(){return r.onload()}),e._uU(125,"RUN"),e.qZA(),e.TgZ(126,"button",46),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(127,"Close"),e.qZA()()()()()(),e.TgZ(128,"generic-popup-grid",47,48),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA(),e.TgZ(130,"generic-popup-grid",47,49),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupRecurring(t)}),e.qZA()),2&i&&(e.xp6(16),e.Q6J("disabled",3==r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(10),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION)("checked",1==r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION&&0==r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION)("disabled",0!=r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DAYS),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY),e.xp6(3),e.Q6J("ngForOf",r.rCategoryList),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForRecurring))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const UO=["genericGridSupplierPopup"],VO=["genericGridItemPopup"];let BO=(()=>{class a{constructor(i,r,o,t,n){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this.isActive=!1,this.repObj={reportname:"",reportparam:{REPORTOPTION:"",REPORTYPE:"",RECURRINGMODE:"",CATNAME:"",ITEM:"",PHISCALID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(i=>{"DRILL"==i.mode&&this._reportFilterService.drillParam.returnUrl&&"Recurring Transaction Analysis Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=this._reportFilterService.drillParam.reportparam.REPORTOPTION,this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE=this._reportFilterService.drillParam.reportparam.RECURRINGMODE,this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE="2"):1!=this._reportFilterService.RecurringTransactionAnalysisObj.assignPreviousValue&&(this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION="0",this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE="0",this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE="0")})}onload(){this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.REPORTOPTION=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION:"",this.repObj.reportparam.REPORTYPE=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE:"",this.repObj.reportparam.RECURRINGMODE=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE:"",this.repObj.reportparam.CATNAME=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_CATNAME?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_CATNAME:"%",this.repObj.reportparam.ITEM=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_ITEM?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_ITEM:"%",0==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report":1==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report_1":2==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report_2":3==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE&&(this.repObj.reportname="Recurring Transaction Analysis Report_3"),this.repObj.REPORTDISPLAYNAME="Recurring Transaction Analysis Report",this._reportFilterService.RecurringTransactionAnalysisObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["recurring-transaction-analysis-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(UO,5),e.Gf(VO,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:94,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%","margin-bottom","1%"],[2,"width","101%"],[1,"legend-class"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"row",2,"margin-bottom","-3%","visibility","hidden"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"row",2,"width","107%"],[1,"col"],[2,"margin-left","-5%","width","165px"],[1,"form-control","input-text",2,"width","136%","margin-left","-40%",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Recurring Transaction Analysis Report "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset",10)(17,"legend",11),e._uU(18,"Report Type :"),e.qZA(),e.TgZ(19,"div",12)(20,"div",13)(21,"div",14)(22,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(23,"div",16)(24,"label",17),e._uU(25,"Recurring Transaction Category Wise Report"),e.qZA()()(),e.TgZ(26,"div",13)(27,"div",14)(28,"input",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(29,"div",16)(30,"label",17),e._uU(31,"Recurring Transaction Item Wise Report"),e.qZA()()(),e.TgZ(32,"div",13)(33,"div",14)(34,"input",19),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(35,"div",16)(36,"label",17),e._uU(37,"Customer Wise Report"),e.qZA()()(),e.TgZ(38,"div",20)(39,"div",14)(40,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=t}),e.qZA()(),e.TgZ(41,"div",16)(42,"label",17),e._uU(43,"Recurring Transaction Yearly Comparision Report"),e.qZA()()()()()(),e.TgZ(44,"div",5)(45,"fieldset",10)(46,"legend",11),e._uU(47,"Report Option :"),e.qZA(),e.TgZ(48,"div",12)(49,"div",13)(50,"div",14)(51,"input",22),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=t}),e.qZA()(),e.TgZ(52,"div",16)(53,"label",17),e._uU(54,"Show All Recurring Transaction"),e.qZA()()(),e.TgZ(55,"div",13)(56,"div",14)(57,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=t}),e.qZA()(),e.TgZ(58,"div",16)(59,"label",17),e._uU(60,"Show Processed Recurring Transaction Only"),e.qZA()()(),e.TgZ(61,"div",13)(62,"div",14)(63,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=t}),e.qZA()(),e.TgZ(64,"div",16)(65,"label",17),e._uU(66,"Show Non-Processed Recurring Transaction Only"),e.qZA()()(),e.TgZ(67,"div",13)(68,"div",14)(69,"input",25),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=t}),e.qZA()(),e.TgZ(70,"div",16)(71,"label",17),e._uU(72,"Show Newly Added Recurring Transaction Only"),e.qZA()()()()(),e.TgZ(73,"div",26)(74,"div",27)(75,"label",28),e._uU(76,"Recurring Transaction Mode :"),e.qZA()(),e.TgZ(77,"div",27)(78,"select",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE=t}),e.TgZ(79,"option",30),e._uU(80,"ALL"),e.qZA(),e.TgZ(81,"option",31),e._uU(82,"Each Month"),e.qZA(),e.TgZ(83,"option",32),e._uU(84,"Each 3 Months"),e.qZA(),e.TgZ(85,"option",33),e._uU(86,"Each 6 Months"),e.qZA(),e.TgZ(87,"option",34),e._uU(88,"Each Year"),e.qZA()()()()()()(),e.TgZ(89,"div",35)(90,"button",36),e.NdJ("click",function(){return r.onload()}),e._uU(91,"RUN"),e.qZA(),e.TgZ(92,"button",37),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(93,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(22),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE))},dependencies:[c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const YO=["genericGridItemPopup"],JO=["multiselectGenericGrid"];function qO(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function GO(a,s){if(1&a&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function HO(a,s){if(1&a&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function QO(a,s){if(1&a&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function zO(a,s){if(1&a&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function KO(a,s){if(1&a&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function $O(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE=o)}),e._UZ(6,"option",38),e.YNc(7,KO,2,2,"option",17),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",i.PTypeList)}}function XO(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",73)(1,"ng-multiselect-dropdown",74),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function eb(a,s){if(1&a&&(e.TgZ(0,"div",69)(1,"div",70)(2,"label",71),e._uU(3),e.qZA()(),e.YNc(4,XO,2,4,"div",72),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function tb(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",58)(2,"div",59)(3,"div",60)(4,"h5",61),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",62),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",63),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",64)(10,"div",65),e.YNc(11,eb,5,2,"div",66),e.qZA()(),e.TgZ(12,"div",67)(13,"button",68),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",68),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let rb=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._authService=_,this._alertService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",COMID:"",DIV:"",CCENTER:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",CATEGORYNAME:"",VATMODE:"",MANUFACTURER:"%",SALESTYPE:"",REPORTOPTION:0,SHOWDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForItem=new b.im,this.multiselectPopupSettings=new F.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getManufacturerList().subscribe(h=>{h&&(this.ManufacturerList=h)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.userProfile.PhiscalYearInfo.PhiscalID;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.SalesFlowObj.assignPreviousValue&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE="100",this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2,"AD")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/");const d=l[2]+"/"+l[1]+"/"+l[0];t=o.bs2ad(d);var _=(t=o.bs2ad(d)).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER||null==this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV&&"%"==this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV)this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME="All";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV&&"%"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV);this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME="";if(this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP&&"%"==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP)this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP&&"%"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP);this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME="";if(this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE&&"100"==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP)this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME="";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE&&"100"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE);this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER?this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV?this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP?this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM?this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME?this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT:"",this.repObj.reportparam.VATMODE=this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE?this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE:"",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE:"",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION?this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL?this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL:0,this.repObj.reportparam.MANUFACTURER=this._reportFilterService.SalesFlowObj.SalesMonthWise_MANUFACTURER?this._reportFilterService.SalesFlowObj.SalesMonthWise_MANUFACTURER:"%",0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise":1==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_4":0==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS":1==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_1":2==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_2":3==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_3":4==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION&&(this.repObj.reportname="Sales Flow Report Month Wise_BS_4"),this.repObj.REPORTDISPLAYNAME="Sales Flow Report Month Wise",this._reportFilterService.SalesFlowObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),console.log("selected itemd",this.selectMultiItems),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}changeMultiSelect(i){console.log("events",i),this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE="",this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM="",this.selectMultiItems=1==i.target.checked?1:0}dblClickPopupItem(i){this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE=i.MCODE,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=i.DESCA}onMultiItemSelected(i){console.log("on multii item select",i),this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE=i.MCODE,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=i.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(i){0==i&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="0"),1==i&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="1"),2==i&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="2"),3==i&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="3")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.SalesFlowObj.SalesMonthWise_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(i){}showCurrentDateOnClick(){this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=(new Date).toJSON().split("T")[0]}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e),e.Y36(R.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-flow-report-monthwise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(YO,5),e.Gf(JO,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:173,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-22%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-md-1"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],["value","2"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[4,"ngIf"],[3,"value"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Flow Report - Month Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_DIV=t}),e.YNc(41,qO,2,0,"option",16),e.YNc(42,GO,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,HO,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Report Type Selection :"),e.qZA(),e.TgZ(54,"div",11)(55,"div",20)(56,"div",21)(57,"div",1)(58,"div",22)(59,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=t})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(60,"div",24)(61,"label",25),e._uU(62,"Item Wise Report"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",22)(65,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=t})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(66,"div",24)(67,"label",25),e._uU(68,"Item Group Wise Report"),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",22)(71,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=t})("change",function(){return r.checkValue(2)}),e.qZA()(),e.TgZ(72,"div",24)(73,"label",25),e._uU(74,"Item Category Wise Report"),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",22)(77,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=t})("change",function(){return r.checkValue(3)}),e.qZA()(),e.TgZ(78,"div",24)(79,"label",25),e._uU(80,"Cost Center Wise Report"),e.qZA()()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL=t})("change",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL=t.target.checked?1:0}),e.qZA()(),e.TgZ(84,"div",32)(85,"label",33),e._uU(86,"Show Item List Also"),e.qZA()()()(),e.TgZ(87,"div",34)(88,"fieldset")(89,"legend"),e._uU(90,"Report Filter Option :"),e.qZA(),e.TgZ(91,"div",1)(92,"div",35)(93,"label",36),e._uU(94,"Item Group :"),e.qZA()(),e.TgZ(95,"div",32)(96,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP=t}),e._UZ(97,"option",19),e.YNc(98,QO,2,2,"option",17),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",35)(101,"label",36),e._uU(102,"Item Category :"),e.qZA()(),e.TgZ(103,"div",32)(104,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT=t}),e._UZ(105,"option",19),e.YNc(106,zO,2,2,"option",17),e.qZA()()(),e.YNc(107,$O,8,2,"div",37),e.TgZ(108,"div",1)(109,"div",35)(110,"label",36),e._uU(111,"Vat Mode :"),e.qZA()(),e.TgZ(112,"div",32)(113,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE=t}),e._UZ(114,"option",38),e.TgZ(115,"option",39),e._uU(116,"VATABLE ITEM"),e.qZA(),e.TgZ(117,"option",40),e._uU(118,"NON-VATABLE ITEM"),e.qZA()()()(),e.TgZ(119,"div",1)(120,"div",35)(121,"label",36),e._uU(122,"Sales Type :"),e.qZA()(),e.TgZ(123,"div",32)(124,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE=t}),e.TgZ(125,"option",40),e._uU(126,"ALL"),e.qZA(),e.TgZ(127,"option",39),e._uU(128,"RETAIL SALES"),e.qZA(),e.TgZ(129,"option",41),e._uU(130,"WHOLESALE SALES"),e.qZA()()()()(),e.TgZ(131,"fieldset")(132,"legend",10),e._uU(133,"Item Selection :"),e.qZA(),e.TgZ(134,"div",1)(135,"div",35)(136,"label",36),e._uU(137,"Item Name :"),e.qZA()(),e.TgZ(138,"div",32)(139,"input",42),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(140,"div",1)(141,"input",43),e.NdJ("ngModelChange",function(t){return r.selectMultiItems=t})("change",function(t){return r.changeMultiSelect(t)}),e.qZA(),e._uU(142," \xa0 "),e.TgZ(143,"a",44),e._uU(144," Select Multiple Items"),e.qZA()()(),e.TgZ(145,"fieldset")(146,"legend",10),e._uU(147,"Report Option :"),e.qZA(),e.TgZ(148,"div",11)(149,"div",5)(150,"div",21)(151,"div",1)(152,"div",45)(153,"input",46),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION=t})("click",function(){return r.showCurrentDateOnClick()})("change",function(){return r.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(154,"div",24)(155,"label",47),e._uU(156,"Show Report In English Date"),e.qZA()()(),e.TgZ(157,"div",1)(158,"div",45)(159,"input",48),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION=t}),e.qZA()(),e.TgZ(160,"div",24)(161,"label",47),e._uU(162,"Show Report In Nepali Date"),e.qZA()()()()()()()()()(),e.TgZ(163,"div",49)(164,"button",50),e.NdJ("click",function(){return r.onload()}),e._uU(165,"RUN"),e.qZA(),e.TgZ(166,"button",51),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(167,"Close"),e.qZA()()()()()(),e.TgZ(168,"generic-popup-grid",52,53),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(170,"multiselect-generic-grid",54,55),e.NdJ("onItemsSelected",function(t){return r.onMultiItemSelected(t)}),e.qZA(),e.YNc(172,tb,17,1,"div",56)),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL)("disabled",0==r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE),e.xp6(15),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM),e.xp6(2),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("ngIf",1==r.showVariantPopup))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,F.ky,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const ib=["multiselectGenericGrid"],ob=["genericGridItemPopup"];function nb(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function ab(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function sb(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function lb(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function pb(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function cb(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function _b(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE=o)}),e._UZ(6,"option",38),e.YNc(7,cb,2,2,"option",17),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",i.PTypeList)}}function db(a,s){if(1&a&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MANUFACTURER),e.xp6(1),e.hij("",i.MANUFACTURER," ")}}function hb(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MANUFACTURER=o)}),e._UZ(6,"option",19),e.YNc(7,db,2,2,"option",17),e.qZA()()()}if(2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",i.ManufacturerList)}}let gb=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",COMID:"",DIV:"",CCENTER:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMCATEGORYWISE:0,ITEMCOSTCENTERWISE:0,ITEMNAME:"",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",CATEGORYNAME:"",VATMODE:"",PURCHASETYPE:"",REPORTOPTION:0,SHOWDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.PurchaseReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.finalParam={},this.multiselectPopupSettings=new F.oe,this.gridPopupSettingsForItem=new b.im,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),t.PurchaseFlowObj.PurchaseMonthWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.variantmaster=h.result)},h=>{this.variantmaster=[]});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.PurchaseFlowObj.assignPreviousValue&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE="100",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP="100",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="0",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION="0"),this.changeVariant(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2,"AD")}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeMultiSelect(i){console.log("events",i),this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE="",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM="",this.selectMultiItems=1==i.target.checked?1:0}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER||null==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV){let t=this.divisionList.filter(n=>n.Division==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME=t&&t.length>0&&t[0]?t[0].NAME:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME="";if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP){let t=this.ItemGroupList.filter(n=>n.MCODE==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME=t&&t.length>0&&t[0]?t[0].DESCA:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME="";if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE&&"100"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME="";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE&&"100"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE){let t=this.PTypeList.filter(n=>n.PTYPEID==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME=t&&t.length>0&&t[0]?t[0].PTYPENAME:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME="";this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?"All":this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2,this.repObj.reportparam.COMID=this.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME:"",this.repObj.reportparam.VATMODE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP:"",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL:0,0==this.repObj.reportparam.ITEMGROUPWISE&&(this._reportFilterService.SalesFlowObj.PurchaseMonthWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISE&&(this._reportFilterService.SalesFlowObj.PurchaseMonthWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise":1==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_4":0==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS":1==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_1":2==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_2":3==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_3":4==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION&&(this.repObj.reportname="Purchase Flow Report Month Wise_BS_4"),this.repObj.REPORTDISPLAYNAME="Purchase Flow Report Month Wise",this._reportFilterService.PurchaseFlowObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(i){console.log("on multii item select",i),this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE=i.MCODE,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=i.DESCA}dblClickPopupItem(i){this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE=i.MCODE,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=i.DESCA,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(i){console.log("value check value",i),0==i&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="0"),1==i&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="1"),2==i&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="2"),3==i&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="3")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showCurrentDateOnClick(){this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=(new Date).toJSON().split("T")[0]}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["purchase-flow-report-monthwise"]],viewQuery:function(i,r){if(1&i&&(e.Gf(ib,5),e.Gf(ob,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:173,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-22%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Flow Report - Month Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV=t}),e.YNc(41,nb,2,0,"option",16),e.YNc(42,ab,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,sb,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Report Type Selection :"),e.qZA(),e.TgZ(54,"div",11)(55,"div",20)(56,"div",21)(57,"div",1)(58,"div",22)(59,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=t})("change",function(){return r.checkValue(0)}),e.qZA()(),e.TgZ(60,"div",24)(61,"label",25),e._uU(62,"Item Wise Report"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",22)(65,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=t})("change",function(){return r.checkValue(1)}),e.qZA()(),e.TgZ(66,"div",24)(67,"label",25),e._uU(68,"Item Group Wise Report"),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",22)(71,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=t})("change",function(){return r.checkValue(2)}),e.qZA()(),e.TgZ(72,"div",24)(73,"label",25),e._uU(74,"Item Category Wise Report"),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",22)(77,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=t})("change",function(){return r.checkValue(3)}),e.qZA()(),e.TgZ(78,"div",24)(79,"label",25),e._uU(80,"Cost Center Wise Report"),e.qZA()()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL=t})("change",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL=t.target.checked?1:0}),e.qZA()(),e.TgZ(84,"div",32)(85,"label",33),e._uU(86,"Show Item List Also"),e.qZA()()()(),e.TgZ(87,"div",34)(88,"fieldset")(89,"legend"),e._uU(90,"Report Filter Option :"),e.qZA(),e.TgZ(91,"div",1)(92,"div",35)(93,"label",36),e._uU(94,"Item Group :"),e.qZA()(),e.TgZ(95,"div",32)(96,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP=t}),e._UZ(97,"option",19),e.YNc(98,lb,2,2,"option",17),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",35)(101,"label",36),e._uU(102,"Item Category :"),e.qZA()(),e.TgZ(103,"div",32)(104,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT=t}),e._UZ(105,"option",19),e.YNc(106,pb,2,2,"option",17),e.qZA()()(),e.YNc(107,_b,8,2,"div",37),e.YNc(108,hb,8,2,"div",37),e.TgZ(109,"div",1)(110,"div",35)(111,"label",36),e._uU(112,"Vat Mode :"),e.qZA()(),e.TgZ(113,"div",32)(114,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE=t}),e._UZ(115,"option",38),e.TgZ(116,"option",39),e._uU(117,"VATABLE ITEM"),e.qZA(),e.TgZ(118,"option",40),e._uU(119,"NON-VATABLE ITEM"),e.qZA()()()(),e.TgZ(120,"div",1)(121,"div",35)(122,"label",36),e._uU(123,"Purchase Type :"),e.qZA()(),e.TgZ(124,"div",32)(125,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP=t}),e.TgZ(126,"option",38),e._uU(127,"ALL"),e.qZA(),e.TgZ(128,"option",39),e._uU(129,"IMPORT PURCHASE"),e.qZA(),e.TgZ(130,"option",40),e._uU(131,"LOCAL PURCHASE"),e.qZA()()()()(),e.TgZ(132,"fieldset")(133,"legend",10),e._uU(134,"Item Selection :"),e.qZA(),e.TgZ(135,"div",1)(136,"div",35)(137,"label",36),e._uU(138,"Item Name :"),e.qZA()(),e.TgZ(139,"div",32)(140,"input",41),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(141,"div",1)(142,"input",42),e.NdJ("ngModelChange",function(t){return r.selectMultiItems=t})("change",function(t){return r.changeMultiSelect(t)}),e.qZA(),e._uU(143," \xa0 "),e.TgZ(144,"a",43),e._uU(145," Select Multiple Items"),e.qZA()()(),e.TgZ(146,"fieldset")(147,"legend",10),e._uU(148,"Report Option :"),e.qZA(),e.TgZ(149,"div",11)(150,"div",5)(151,"div",21)(152,"div",1)(153,"div",44)(154,"input",45),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION=t})("click",function(){return r.showCurrentDateOnClick()})("change",function(){return r.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(155,"div",24)(156,"label",46),e._uU(157,"Show Report In English Date"),e.qZA()()(),e.TgZ(158,"div",1)(159,"div",44)(160,"input",47),e.NdJ("ngModelChange",function(t){return r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION=t}),e.qZA()(),e.TgZ(161,"div",24)(162,"label",46),e._uU(163,"Show Report In Nepali Date"),e.qZA()()()()()()()()()(),e.TgZ(164,"div",48)(165,"button",49),e.NdJ("click",function(){return r.onload()}),e._uU(166,"RUN"),e.qZA(),e.TgZ(167,"button",50),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(168,"Close"),e.qZA()()()()()(),e.TgZ(169,"generic-popup-grid",51,52),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(171,"multiselect-generic-grid",53,54),e.NdJ("onItemsSelected",function(t){return r.onMultiItemSelected(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL)("disabled",0==r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP),e.xp6(15),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM),e.xp6(2),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c._,c.JJ,c.On,b.Zl,M.v,F.ky],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const ub=["division"];function mb(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Sb(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(i);const t=e.oxw();return e.KtG(t._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION=o)}),e.TgZ(4,"option",32),e._uU(5,"ALL"),e.qZA(),e.YNc(6,mb,2,2,"option",33),e.qZA()()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION),e.xp6(3),e.Q6J("ngForOf",i.divisionList)}}function Ob(a,s){if(1&a&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.Q6J("ngValue",i.monthlyOrYearlyFormatValue),e.xp6(1),e.hij(" ",i.monthlyOrYearlyFormatName," ")}}let bb=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",REPORTOPTION:"",PHISCALID:"",MONTHLY:0},REPORTDISPLAYNAME:""},this.monthlyOrYearlyFormatList=[{monthlyOrYearlyFormatName:"Yearly",monthlyOrYearlyFormatValue:0},{monthlyOrYearlyFormatName:"Monthly",monthlyOrYearlyFormatValue:1}],this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.AppMode=j.N.appMode,this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.Annexure13ReportObj.assignPreviousValue&&(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.AccoutLedgerObj.Annexure13_REPORTOPTION="0",this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY=0),this.changeEntryDate(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1,"AD"),this.changeEndDate(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2,"AD")})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION?this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION:"%",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION?this._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION:0,this.repObj.reportparam.MONTHLY=this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY?this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY:0,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,console.log(this.repObj),this.repObj.reportname="Annexure 13 Report",this.repObj.reportname=0===this.repObj.reportparam.MONTHLY?"Annexure 13 Report":"Annexure 13 Report-Monthly",this.repObj.REPORTDISPLAYNAME="Annexure 13 Report",this._reportFilterService.Annexure13ReportObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["annexure13report"]],viewQuery:function(i,r){if(1&i&&e.Gf(ub,5),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:79,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngValue"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Annexure 13 Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(t){return r._reportFilterService.Annexure13ReportObj.Annexure13_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",16),e.NdJ("ngModelChange",function(t){return r._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2=t}),e.qZA()()()()()(),e.YNc(37,Sb,7,2,"fieldset",17),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Monthly Or Yearly Selection:"),e.qZA(),e.TgZ(41,"select",18),e.NdJ("ngModelChange",function(t){return r._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY=t}),e.YNc(42,Ob,2,2,"option",19),e.qZA()()(),e.TgZ(43,"div",20)(44,"fieldset")(45,"legend",11),e._uU(46,"Report Option :"),e.qZA(),e.TgZ(47,"div",12)(48,"div",7)(49,"div",21)(50,"div",1)(51,"div",22)(52,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=t}),e.qZA()(),e.TgZ(53,"div",24)(54,"label",25),e._uU(55,"Show All "),e.qZA()()(),e.TgZ(56,"div",1)(57,"div",22)(58,"input",26),e.NdJ("ngModelChange",function(t){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=t}),e.qZA()(),e.TgZ(59,"div",24)(60,"label",25),e._uU(61,"Show Sales Transaction Only"),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",22)(64,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=t}),e.qZA()(),e.TgZ(65,"div",24)(66,"label",25),e._uU(67,"Show Purchase Transaction - Others Only"),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",22)(70,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=t}),e.qZA()(),e.TgZ(71,"div",24)(72,"label",25),e._uU(73,"Show Purchase Transaction - Capital Ony"),e.qZA()()()()()()()()()(),e.TgZ(74,"div",29)(75,"button",30),e.NdJ("click",function(){return r.onload()}),e._uU(76,"RUN"),e.qZA(),e.TgZ(77,"button",31),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(78,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY),e.xp6(1),e.Q6J("ngForOf",r.monthlyOrYearlyFormatList),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Tb=["genericGridItemPopup"],vb=["multiselectGenericGrid"],fb=["genericGridSupplierPopup"];function Cb(a,s){1&a&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function Ab(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function Pb(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Mb(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Rb(a,s){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}function Eb(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div",64)(1,"ng-multiselect-dropdown",65),e.NdJ("onSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(i);const t=e.oxw(3);return e.KtG(t.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(i);const t=e.oxw().$implicit;return e.KtG(t.SELECTEDMCAT=o)}),e.qZA()()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",r.dropdownSettings)("data",i.VARIANTVALUES)("ngModel",i.SELECTEDMCAT)}}function Ib(a,s){if(1&a&&(e.TgZ(0,"div",60)(1,"div",61)(2,"label",62),e._uU(3),e.qZA()(),e.YNc(4,Eb,2,4,"div",63),e.qZA()),2&a){const i=s.$implicit;e.xp6(3),e.hij("",null==i?null:i.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",i.VARIANTVALUES.length)}}function yb(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"div")(1,"div",49)(2,"div",50)(3,"div",51)(4,"h5",52),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",53),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",54),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",55)(10,"div",56),e.YNc(11,Ib,5,2,"div",57),e.qZA()(),e.TgZ(12,"div",58)(13,"button",59),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",59),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&a){const i=e.oxw();e.xp6(11),e.Q6J("ngForOf",i.categorywiseConfigurationdetails)}}let Db=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._alertService=t,this._reportFilterService=n,this.arouter=l,this._ActivatedRoute=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MGROUP:"%",MCAT:"%",PTYPE:100,SUPCODE:"%",SHOWGROUPING:0,VATMODE:100,WORSTQTY:0,SALESTYPE:0,SUPPLIERNAME:"",IGNOREZEROQTY:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.gridPopupSettingsForItem=new b.im,this.multiselectPopupSettings=new F.oe,this.gridPopupSettingsForSupplier=new b.im,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.showVariantPopup=!1,this.variantparamters2={},this.finalParam={},this.userSetting=p.getSetting(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(h=>{h.result&&h.result.length&&(this.categorywiseConfigurationdetails=h.result,this.categorywiseConfigurationdetails.forEach(u=>{if(u.SELECTEDMCAT=[],u.finalSelectedMCAT=[],u.hasOwnProperty("VARIANTVALUES")){let g=JSON.parse(u.VARIANTVALUES);u.VARIANTVALUES="object"==typeof g&&g&&g.length?g:[]}}))},h=>{});var d=this.masterService.PhiscalObj.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.WorstSalesObj.assignPreviousValue&&(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP="%",this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT="%",this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE=100,this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE=100,this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME="",this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE="",this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=0),this.changeEntryDate(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1,"AD"),this.changeEndDate(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION?this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP?this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT?this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE?this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE:100,this.repObj.reportparam.VATMODE=this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE?this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE:100,this.repObj.reportparam.SALESTYPE=this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE?this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE:0,this.repObj.reportparam.SUPCODE=this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE?this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE:"%",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING?this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING:0,this.repObj.reportparam.WORSTQTY=this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY?this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME?this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME:"",this.repObj.reportparam.IGNOREZEROQTY=this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY?this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY:0,""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Worst Sales Analysis Report",this.repObj.REPORTDISPLAYNAME="Worst Sales Analysis Report",this._reportFilterService.WorstSalesObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(i){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(i){console.log("on multii item select",i),this._reportFilterService.WorstSalesObj.StockLedger_MCODE=i.MCODE,this._reportFilterService.WorstSalesObj.StockLedger_ITEM=i.DESCA}dblClickPopupItem(i){this._reportFilterService.WorstSalesObj.StockLedger_MCODE=i.MCODE,this._reportFilterService.WorstSalesObj.StockLedger_ITEM=i.DESCA,this._reportFilterService.WorstSalesObj.StockLedger_MENUCODE=i.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}changeVariant(i){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(r=>{r.result&&r.result.length&&(this.variantmaster=r.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==i){let t=JSON.parse(o.VARIANTVALUES);"object"==typeof t&&t&&t.length?(this.variantvaluesList=t,this._reportFilterService.WorstSalesObj.StockLedger_VARIANT=i):this.variantvaluesList=[]}}))},r=>{this.variantmaster=[]}):this.variantmaster.forEach(r=>{if(r.hasOwnProperty("VARIANTVALUES")&&r.VARIANTNAME==i){let o=JSON.parse(r.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(i){console.log("show variant filter",i.target.checked),1==i.target.checked?(this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let i="",r=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(t=>t.SELECTEDMCAT.length>0),this.abc.forEach(t=>{r.push(t.VARIANTNAME)}),this.abc.forEach(t=>{i="",r.forEach(n=>{t.VARIANTNAME==n&&t.SELECTEDMCAT.forEach(l=>{i+=`${l.NAME},`,this.finalParam[n]=i})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}supplierEnter(i){this.getCustomerList(),this.genericGridSupplierPopup.show()}getCustomerList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(i){this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE=i.ACID,this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME=i.ACNAME}changeWorstqty(i){console.log("event",i.target.value),(i.target.value<1||null==i.target.value||null==i.target.value||""==i.target.value)&&(this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=0)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["worsesales-analysisreport"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Tb,5),e.Gf(vb,5),e.Gf(fb,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:129,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"font-size","13px","width","100%","margin-top","0%","font-weight","500"],[1,"col-sm-6"],["type","number",2,"position","relative","top","9px","height","2rem","width","12rem",3,"ngModel","ngModelChange","change"],[1,"row","checkbox",2,"padding-top","5px","margin-top","14px"],[1,"col-sm-1"],["type","checkbox",2,"width","1rem",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","13px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","%"],["value","100"],["value","1"],["value","0"],["value","2"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keypress","keydown.Enter","keydown.Tab"],[1,"row","checkbox",2,"padding-top","5px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[4,"ngIf"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],["genericGridSupplierPopup",""],[3,"value"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Worse Sales Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION=t}),e.YNc(41,Cb,2,0,"option",16),e.YNc(42,Ab,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",1)(44,"div",5)(45,"label",18),e._uU(46,"Show Report of item having sales Qty less than Equal to:"),e.qZA()(),e.TgZ(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY=t})("change",function(t){return r.changeWorstqty(t)}),e.qZA()()(),e.TgZ(49,"div",21)(50,"div",22)(51,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=t})("change",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=t.target.checked?1:0}),e.qZA()(),e.TgZ(52,"div",24)(53,"label",25),e._uU(54,"Exclude Zero Quantity "),e.qZA()()()(),e.TgZ(55,"div",26)(56,"fieldset")(57,"legend"),e._uU(58,"Report Filter Option :"),e.qZA(),e.TgZ(59,"div",8)(60,"div",27)(61,"label",28),e._uU(62,"Item Group :"),e.qZA()(),e.TgZ(63,"div",24)(64,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP=t}),e._UZ(65,"option",29),e.YNc(66,Pb,2,2,"option",17),e.qZA()()(),e.TgZ(67,"div",1)(68,"div",27)(69,"label",28),e._uU(70,"Item Category :"),e.qZA()(),e.TgZ(71,"div",24)(72,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT=t}),e._UZ(73,"option",29),e.YNc(74,Mb,2,2,"option",17),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",27)(77,"label",28),e._uU(78,"Item Type :"),e.qZA()(),e.TgZ(79,"div",24)(80,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE=t}),e._UZ(81,"option",30),e.YNc(82,Rb,2,2,"option",17),e.qZA()()(),e.TgZ(83,"div",1)(84,"div",27)(85,"label",28),e._uU(86,"Vat Mode :"),e.qZA()(),e.TgZ(87,"div",24)(88,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE=t}),e._UZ(89,"option",30),e.TgZ(90,"option",31),e._uU(91,"VATABLE "),e.qZA(),e.TgZ(92,"option",32),e._uU(93,"NON VATABLE "),e.qZA()()()(),e.TgZ(94,"div",1)(95,"div",27)(96,"label",28),e._uU(97,"Sales type :"),e.qZA()(),e.TgZ(98,"div",24)(99,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE=t}),e._UZ(100,"option",32),e.TgZ(101,"option",31),e._uU(102,"Retail only "),e.qZA(),e.TgZ(103,"option",33),e._uU(104,"Wholesale only "),e.qZA()()()(),e.TgZ(105,"div",34)(106,"div",27)(107,"label",28),e._uU(108,"Supplier Name :"),e.qZA()(),e.TgZ(109,"div",24)(110,"input",35),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME=t})("keypress",function(t){return r.keyPress(t)})("keydown.Enter",function(t){return r.supplierEnter(t)})("keydown.Tab",function(t){return r.supplierEnter(t)}),e.qZA()()()(),e.TgZ(111,"div",36)(112,"div",22)(113,"input",37),e.NdJ("ngModelChange",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=t})("change",function(t){return r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=t.target.checked?1:0}),e.qZA()(),e.TgZ(114,"div",24)(115,"label",38),e._uU(116,"Show Item Grouping Hierarchy"),e.qZA()()()()()(),e.TgZ(117,"div",39)(118,"button",40),e.NdJ("click",function(){return r.onload()}),e._uU(119,"RUN"),e.qZA(),e.TgZ(120,"button",41),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(121,"Close"),e.qZA()()()()()(),e.YNc(122,yb,17,1,"div",42),e.TgZ(123,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(125,"multiselect-generic-grid",45,46),e.NdJ("onItemsSelected",function(t){return r.onMultiItemSelected(t)}),e.qZA(),e.TgZ(127,"generic-popup-grid",43,47),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY)("checked",1==r._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY)("disabled",r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY<=0||null==r._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING)("checked",1==r._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING),e.xp6(9),e.Q6J("ngIf",1==r.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.multiselectPopupSettings),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c.JJ,c.On,b.Zl,M.v,F.ky,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})();const Nb=["genericGridItemPopup"],jb=["genericGridSupplierPopup"];function kb(a,s){1&a&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Fb(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}function wb(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.CCID),e.xp6(1),e.hij("",i.COSTCENTERNAME," ")}}function Wb(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MCODE),e.xp6(1),e.hij("",i.DESCA," ")}}function Lb(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.MENUCAT),e.xp6(1),e.hij("",i.MENUCAT," ")}}function Zb(a,s){if(1&a&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.PTYPEID),e.xp6(1),e.hij("",i.PTYPENAME," ")}}let xb=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._alertService=t,this._reportFilterService=n,this.arouter=l,this._ActivatedRoute=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORTTYPE:0,MCODE:"%",ITEMGROUP:"%",ITEMCAT:"%",ITEMTYPE:0,SUPPLIER:"%",SUPPLIERNAME:"",TOPNMODE:0,TOPNRANGE:0,VATMODE:100,SALESTYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.gridPopupSettingsForItem=new b.im,this.gridPopupSettingsForSupplier=new b.im,this.userSetting=p.getSetting(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)});var d=this.masterService.PhiscalObj.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(console.log("ng on init"),1!=this._reportFilterService.TopNSalesObj.assignPreviousValue&&(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE="0",this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE=100,this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME="",this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE="",this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE="0",this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE=0,this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE=100,this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE=0),this.changeEntryDate(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1,"AD"),this.changeEndDate(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2,"AD"))})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER||null==this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER?this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV?this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE:"%",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP?this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP:"%",this.repObj.reportparam.ITEMCAT=this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT?this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT:"%",this.repObj.reportparam.ITEMTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE:0,this.repObj.reportparam.VATMODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE:100,this.repObj.reportparam.SALESTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE:0,this.repObj.reportparam.SUPPLIER=this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE:"%",this.repObj.reportparam.TOPNMODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE:0,this.repObj.reportparam.TOPNRANGE=this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE?this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME?this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME:"",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE:0,""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPPLIER="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Top N Sales Analysis Report":1==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Top N Sales Analysis Report_1":2==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Top N Sales Analysis Report_2"),this.repObj.REPORTDISPLAYNAME="Top N Sales Analysis Report",this._reportFilterService.TopNSalesObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}supplierEnter(i){this.getCustomerList(),this.genericGridSupplierPopup.show()}getCustomerList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(i){this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE=i.ACID,this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME=i.ACNAME}onMultiSelect(i){}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(R.c),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["topsales-analysisreport"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Nb,5),e.Gf(jb,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:146,vars:33,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[2,"margin-left","4%"],["type","radio","name","topNmode","value","0",3,"ngModel","ngModelChange"],[2,"width","85%"],["type","radio","name","topNmode","value","1",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"font-size","13px","width","100%","margin-top","0%","font-weight","500"],[1,"col-sm-6"],["type","number",2,"width","10rem",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],[1,"col"],["value","100"],["value","1"],["value","0"],["value","2"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keypress","keydown.Enter","keydown.Tab"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Top N Sales Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_DIV=t}),e.YNc(41,kb,2,0,"option",16),e.YNc(42,Fb,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER=t}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,wb,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Top N Mode:"),e.qZA(),e.TgZ(54,"div",20)(55,"input",21),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE=t}),e.qZA(),e.TgZ(56,"label",22),e._uU(57,"As per Sales Qty"),e.qZA()(),e.TgZ(58,"div",20)(59,"input",23),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE=t}),e.qZA(),e.TgZ(60,"label",22),e._uU(61,"As per Sales Value"),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",24)(64,"label",25),e._uU(65,"Top N Range:"),e.qZA()(),e.TgZ(66,"div",26)(67,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE=t}),e.qZA()()()(),e.TgZ(68,"div",28)(69,"fieldset")(70,"legend",10),e._uU(71,"Report Type Selection:"),e.qZA(),e.TgZ(72,"div",20)(73,"input",29),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=t}),e.qZA(),e.TgZ(74,"label",22),e._uU(75,"Item Wise Stock Report"),e.qZA()(),e.TgZ(76,"div",20)(77,"input",30),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=t}),e.qZA(),e.TgZ(78,"label",22),e._uU(79,"Item Group Wise Stock Report"),e.qZA()(),e.TgZ(80,"div",20)(81,"input",31),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=t}),e.qZA(),e.TgZ(82,"label",22),e._uU(83,"Item Category Wise Stock Report"),e.qZA()()(),e.TgZ(84,"fieldset")(85,"legend"),e._uU(86,"Report Filter Option :"),e.qZA(),e.TgZ(87,"div",8)(88,"div",24)(89,"label",32),e._uU(90,"Item Group :"),e.qZA()(),e.TgZ(91,"div",33)(92,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP=t}),e._UZ(93,"option",19),e.YNc(94,Wb,2,2,"option",17),e.qZA()()(),e.TgZ(95,"div",1)(96,"div",24)(97,"label",32),e._uU(98,"Item Category :"),e.qZA()(),e.TgZ(99,"div",33)(100,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT=t}),e._UZ(101,"option",19),e.YNc(102,Lb,2,2,"option",17),e.qZA()()(),e.TgZ(103,"div",1)(104,"div",24)(105,"label",32),e._uU(106,"Item Type :"),e.qZA()(),e.TgZ(107,"div",33)(108,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE=t}),e._UZ(109,"option",34),e.YNc(110,Zb,2,2,"option",17),e.qZA()()(),e.TgZ(111,"div",1)(112,"div",24)(113,"label",32),e._uU(114,"Vat Mode :"),e.qZA()(),e.TgZ(115,"div",33)(116,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE=t}),e._UZ(117,"option",34),e.TgZ(118,"option",35),e._uU(119,"VATABLE "),e.qZA(),e.TgZ(120,"option",36),e._uU(121,"NON VATABLE "),e.qZA()()()(),e.TgZ(122,"div",1)(123,"div",24)(124,"label",32),e._uU(125,"Sales type :"),e.qZA()(),e.TgZ(126,"div",33)(127,"select",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE=t}),e._UZ(128,"option",36),e.TgZ(129,"option",35),e._uU(130,"Retail only "),e.qZA(),e.TgZ(131,"option",37),e._uU(132,"Wholesale only "),e.qZA()()()(),e.TgZ(133,"div",38)(134,"div",24)(135,"label",32),e._uU(136,"Supplier Name :"),e.qZA()(),e.TgZ(137,"div",33)(138,"input",39),e.NdJ("ngModelChange",function(t){return r._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME=t})("keypress",function(t){return r.keyPress(t)})("keydown.Enter",function(t){return r.supplierEnter(t)})("keydown.Tab",function(t){return r.supplierEnter(t)}),e.qZA()()()()()()(),e.TgZ(139,"div",40)(140,"button",41),e.NdJ("click",function(){return r.onload()}),e._uU(141,"RUN"),e.qZA(),e.TgZ(142,"button",42),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(143,"Close"),e.qZA()()()()()(),e.TgZ(144,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE),e.xp6(8),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE),e.xp6(11),e.Q6J("ngModel",r._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[m.sg,m.O5,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c._,c.JJ,c.On,b.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})(),Ub=(()=>{class a{static forRoot(){return{ngModule:a}}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[$.c],imports:[m.ez,me.xc]}),a})();var Vb=S(47766);const Bb=["division"];function Yb(a,s){if(1&a&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&a){const i=s.$implicit;e.s9C("value",i.Division),e.xp6(1),e.hij(" ",i.NAME," ")}}let Jb=(()=>{class a{constructor(i,r,o,t,n,l,_,p){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",REPORTMODE:"",PHISCALID:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.userSetting=p.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.SalesRevenueMetricsObj.assignPreviousValue&&(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION=this.masterService.PhiscalObj.Div,this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE="0"),this.changeEntryDate(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2,"AD")})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}}changeEndDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION?this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION:"%",this.repObj.reportparam.REPORTMODE=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE?this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE:0,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,console.log(this.repObj),this.repObj.reportname="Sales Revenue Metrics Report",this.repObj.REPORTDISPLAYNAME="Sales Revenue Metrics Report",this._reportFilterService.SalesRevenueMetricsObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["sales-revenue-metrics-report"]],viewQuery:function(i,r){if(1&i&&e.Gf(Bb,5),2&i){let o;e.iGM(o=e.CRH())&&(r.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:74,vars:15,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff","width","50vw"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportMode","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportMode","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportMode","value","2",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Revenue Metrics Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1=t}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",16),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=t})("change",function(t){return r.changeEndDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(t){return r.changeEndDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2=t}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",11),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION=t}),e.TgZ(41,"option",18),e._uU(42,"ALL"),e.qZA(),e.YNc(43,Yb,2,2,"option",19),e.qZA()()(),e.TgZ(44,"div",20)(45,"fieldset")(46,"legend",11),e._uU(47,"Report Mode :"),e.qZA(),e.TgZ(48,"div",12)(49,"div",21)(50,"div",22)(51,"div",1)(52,"div",23)(53,"input",24),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=t}),e.qZA()(),e.TgZ(54,"div",25)(55,"label",26),e._uU(56,"Daily "),e.qZA()()(),e.TgZ(57,"div",1)(58,"div",23)(59,"input",27),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=t}),e.qZA()(),e.TgZ(60,"div",25)(61,"label",26),e._uU(62,"Weekly"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",23)(65,"input",28),e.NdJ("ngModelChange",function(t){return r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=t}),e.qZA()(),e.TgZ(66,"div",25)(67,"label",26),e._uU(68,"Monthly"),e.qZA()()()()()()()()()(),e.TgZ(69,"div",29)(70,"button",30),e.NdJ("click",function(){return r.onload()}),e._uU(71,"RUN"),e.qZA(),e.TgZ(72,"button",31),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(73,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(26),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE))},dependencies:[m.sg,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}"]}),a})(),qb=(()=>{class a{constructor(i,r,o,t,n,l,_){this.masterService=i,this._transactionService=r,this._reportFilterService=o,this.arouter=t,this._ActivatedRoute=n,this._alertService=l,this._authService=_,this.repObj={reportname:"",reportparam:{DATE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE=this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1,this.repObj.reportname="HourlySalesReport_Daywise",this.repObj.REPORTDISPLAYNAME="Hourly Sales Report",this.reportdataEmit.emit({status:"ok",data:this.repObj})}changeEntryDate(i,r){var o=S(82071);if("AD"==r){var t=i.replace("-","/").replace("-","/"),n=o.ad2bs(t);this._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1=("1"==n.en.day||"2"==n.en.day||"3"==n.en.day||"4"==n.en.day||"5"==n.en.day||"6"==n.en.day||"7"==n.en.day||"8"==n.en.day||"9"==n.en.day?"0"+n.en.day:n.en.day)+"/"+n.en.month+"/"+n.en.year}else if("BS"==r){var l=i.split("/"),_=(t=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0])).year+"-"+(1==t.month.toString().length?"0"+t.month:t.month)+"-"+(1==t.day.toString().length?"0"+t.day:t.day);if(1!=this.masterService.ValidateNepaliDate(_))return void this._alertService.error("Date Exceed to Current Phiscal Year !");var p=o.bs2ad(l[2]+"/"+l[1]+"/"+l[0]);this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1=p.year+"-"+(1==p.month.toString().length?"0"+p.month:p.month)+"-"+(1==p.day.toString().length?"0"+p.day:p.day)}}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-hourly-sales-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:34,vars:6,consts:[[1,"container",2,"width","690px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12",2,"margin-left","-4%"],[1,"input"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Hourly Sales Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"fieldset")(16,"legend",10),e._uU(17,"Date Selection : "),e.qZA(),e.TgZ(18,"div",1)(19,"div",11)(20,"div")(21,"label"),e._uU(22," AD: "),e.qZA()(),e.TgZ(23,"div",12)(24,"input",13),e.NdJ("ngModelChange",function(t){return r._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1=t})("change",function(t){return r.changeEntryDate(t.target.value,"AD")}),e.qZA()(),e.TgZ(25,"div",1)(26,"label"),e._uU(27,"BS: "),e.qZA(),e.TgZ(28,"nepali-date-picker",14),e.NdJ("change",function(t){return r.changeEntryDate(t.detail.value,"BS")})("ngModelChange",function(t){return r._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1=t}),e.qZA()()()()()()(),e.TgZ(29,"div",15)(30,"button",16),e.NdJ("click",function(){return r.onload()}),e._uU(31,"RUN"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(33,"Close"),e.qZA()()()()()()),2&i&&(e.xp6(24),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1),e.xp6(4),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1))},dependencies:[c.Fj,c.JJ,c.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}","label[_ngcontent-%COMP%]{\n        width: 50px;\n    }\n\n    .input[_ngcontent-%COMP%]{\n        width: 168px;\n    }\n\n    hr[_ngcontent-%COMP%]{\n        margin-top: 5px;\n    }"]}),a})();var Ee=S(63746);const Gb=["multiselectGenericGrid"],Hb=["reportPopup"],Qb=["genericGridSupplierPopup"],zb=["genericGridItemPopup"];let Kb=(()=>{class a{constructor(i,r,o,t,n,l,_,p,d){this.masterService=i,this._transactionService=r,this.fb=o,this._reportFilterService=t,this.arouter=n,this._ActivatedRoute=l,this._alertService=_,this._authService=p,this.brandService=d,this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{MCODE:"%",SUPCODE:"%",PHISCALID:"",DEPT:"",ITEMNAME:"",SUPPLIERNAME:"",ACID:"",DEPTNAME:""},REPORTDISPLAYNAME:""},this.ReportParameters={},this.divisionList=[],this.DeptList=[],this.selectMultiItems=0,this.resultList=[],this.multiselectPopupSettings=new F.oe,this.gridPopupSettingsForSupplier=new b.im,this.gridPopupSettingsForItem=new b.im,this.userSetting=p.getSetting(),this.userProfile=p.getUserProfile();var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.masterService.getDepartmentList().subscribe(u=>{u&&(this.DeptList=u,console.log("deptlist",u,this.DeptList))})}ngOnInit(){const i=new Date;this.currDate=(0,m.p6)(i,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(r=>{})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.MCODE=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE:"%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER:"",this.repObj.reportparam.DEPT=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT:"",this.repObj.reportparam.DEPTNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),""==this.repObj.reportparam.DEPTNAME&&(this.repObj.reportparam.DEPT="%"),this.repObj.reportname="REQUISITION APPROVAL REPORT",this.repObj.REPORTDISPLAYNAME="Requisition Approval Report",this._reportFilterService.RequisitionApprovalObj.assignPreviousValue=!0;let r,i=this.arouter.url.split("/");i&&i.length&&(r=i[i.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(t=>t.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:r}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}ItemEnterCommand(i){this.getItemList(),this.genericGridItemPopup.show()}keyPress(i){const o=String.fromCharCode(i.charCode);/[\b]/.test(o)||i.preventDefault()}dblClickPopupItem(i){this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE=i.MCODE,this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM=i.DESCA}customerEnterCommand(i){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(i){this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE=i.ACID,this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER=i.ACNAME}selectedValue(i){console.log("selectedValueEvent",i),this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT=i.DepartmentName}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.P),e.Y36(f.p),e.Y36(c.qu),e.Y36(A),e.Y36(O.F0),e.Y36(O.gz),e.Y36(R.c),e.Y36(P.e),e.Y36($.c))},a.\u0275cmp=e.Xpm({type:a,selectors:[["requisition-approval-report"]],viewQuery:function(i,r){if(1&i&&(e.Gf(Gb,5),e.Gf(Hb,5),e.Gf(Qb,5),e.Gf(zb,5)),2&i){let o;e.iGM(o=e.CRH())&&(r.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(r.reportPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(r.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:40,vars:8,consts:[[1,"container",2,"width","690px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header",2,"border","0px","padding-top","20px"],[1,"col-md-10"],[1,"modal-title"],[1,"col-md-2"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"form-wrapper",2,"padding","17px"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"Requisition Approval Report"),e.qZA()(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(10,"\xd7"),e.qZA()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Item Name:"),e.qZA()(),e.TgZ(17,"div",14)(18,"input",15),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM=t})("keydown.enter",function(t){return r.ItemEnterCommand(t)})("keydown.Tab",function(t){return r.ItemEnterCommand(t)})("keyup",function(t){return r.ItemEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(19,"div",1)(20,"div",12)(21,"label",16),e._uU(22,"Supplier Name:"),e.qZA()(),e.TgZ(23,"div",14)(24,"input",17),e.NdJ("ngModelChange",function(t){return r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER=t})("keydown.enter",function(t){return r.customerEnterCommand(t)})("keydown.Tab",function(t){return r.customerEnterCommand(t)})("keyup",function(t){return r.customerEnterCommand(t)})("keypress",function(t){return r.keyPress(t)}),e.qZA()()(),e.TgZ(25,"div",1)(26,"div",12)(27,"label",13),e._uU(28,"Department Name:"),e.qZA()(),e.TgZ(29,"div",18)(30,"app-simple-suggest",19),e.NdJ("selectOption",function(t){return r.selectedValue(t)})("ngModelChange",function(t){return r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT=t})("change",function(t){return r.selectedValue(t)}),e.qZA()()()()(),e.TgZ(31,"div",20)(32,"button",21),e.NdJ("click",function(){return r.onload()}),e._uU(33,"RUN"),e.qZA(),e.TgZ(34,"button",22),e.NdJ("click",function(){return r.closeReportBox()}),e._uU(35,"Close"),e.qZA()()()()()(),e.TgZ(36,"generic-popup-grid",23,24),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupItem(t)}),e.qZA(),e.TgZ(38,"generic-popup-grid",23,25),e.NdJ("onItemDoubleClick",function(t){return r.dblClickPopupParty(t)}),e.qZA()),2&i&&(e.xp6(18),e.Q6J("ngModel",r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER),e.xp6(6),e.Q6J("options",r.DeptList)("labelKey","DepartmentName")("valueKey","DepartmentName")("ngModel",r._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier))},dependencies:[c.Fj,c.JJ,c.On,b.Zl,K.c],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}","input[_ngcontent-%COMP%]{\n        font-size: 13px !important;\n    }\n    select[_ngcontent-%COMP%]{\n        font-size: 13px !important;\n\n    }\n    label[_ngcontent-%COMP%] {\n    width: auto !important;\n    margin: 2px;\n    font-size: 13px !important;\n    padding-top: 0 !important;\n}\n.form-wrapper[_ngcontent-%COMP%]{\n    padding: 10px;\n}"]}),a})(),$b=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[v.C,f.p,A,{provide:de.TP,useClass:Ee.zu,multi:!0},{provide:de.TP,useClass:Ee.aQ,multi:!0}],imports:[Gn,he.zk.forRoot(),ge.JX,Wa.m,U.n1.forRoot(),L.Is,c.u5,c.UX,Kc._.forRoot(),jh.AngularMultiSelectModule,Wh.J,sO.i.forRoot(),Ub.forRoot(),Vb.e,W.Z,I.l6,I._7,I.ZS,I.Bj,I.Hb,I.gX,ae.Jo,Mr]}),a})();e.B6R(Se,function(){return[m.O5,Kn,ea,zn,ia,aa,sa,ca,ha,ma,ba,fa,Pa,Ea,Da,Na,ja,wa,xa,Ba,qa,Qa,Ka,Xa,ms,Es,ws,yc,Hs,Cl,rb,Fl,gp,Ip,Yp,Gl,Xp,hc,fc,jc,zc,Uc,R_,Kb,Q_,od,ld,cd,ud,Ad,Fd,Gd,nh,Sh,Nh,wh,rg,ag,dg,vg,Eg,kg,Qg,eu,nu,Ou,Au,xO,Vu,zu,im,wm,pm,um,fm,Im,Jm,lS,SS,AS,yS,wS,bb,US,qS,rO,$S,aO,dO,SO,fO,EO,FO,BO,gb,Db,xb,Jb,qb]},[])},72661:(re,Z,S)=>{S.d(Z,{c:()=>le});var O=S(8929),e=S(24850),V=S(88117),L=S(92340),G=S(718),x=S(17545),ne=S(67297),ie=S(71180);let le=(()=>{class Q{constructor(k,w,D){this.http=k,this.authService=w,this.state=D,this._brandTree=[]}get apiUrl(){let k=L.N.apiUrl,w="";return!!k&&k.length>0&&(w=k),w}getBrand(k){let w={status:"error",result:""},D=new O.xQ;return this.http.post(this.apiUrl+"/getBrand",{mode:"query",data:{BID:k}}).subscribe(B=>{D.next(B),D.unsubscribe()},B=>{w.status="error",w.result=B,D.next(w),D.unsubscribe()}),D}getParentbrandList(){return this.http.get(this.apiUrl+"/getAllBrandParentList")}getBrandTypeList(){return this.http.get(this.apiUrl+"/getAllBrandCategoryList")}getProductBrandParent(k){let w={status:"error",result:""},D=new O.xQ;return this.http.post(this.apiUrl+"/getAllBrandParentList",{mode:"query",data:{BID:k}}).subscribe(B=>{D.next(B),D.unsubscribe()},B=>{w.status="error",w.result=B,D.next(w),D.unsubscribe()}),D}getProductBrandLevel(k){let w={status:"error",result:""},D=new O.xQ;return this.http.post(this.apiUrl+"/getAllBrandLevelList",{mode:"query",data:{BID:k}}).subscribe(B=>{D.next(B),D.unsubscribe()},B=>{w.status="error",w.result=B,D.next(w),D.unsubscribe()}),D}getBrandTree(){this.getBrandTreeObservable=null;var k=[];return this.getBrandTreeObservable=this.http.get(this.apiUrl+"/getProductGroupTree").pipe((0,e.U)(w=>(this.getBrandTreeObservable=null,k.push(w),this._brandTree=k,k)),(0,V.B)()),this.getBrandTreeObservable}getBrandTreeAsset(){this.getBrandTreeObservable=null;var k=[];return this.getBrandTreeObservable=this.http.get(this.apiUrl+"/getAssetProductGroupTree").pipe((0,e.U)(w=>(this.getBrandTreeObservable=null,k.push(w),this._brandTree=k,k)),(0,V.B)()),this.getBrandTreeObservable}}return Q.\u0275fac=function(k){return new(k||Q)(G.LFG(x.eN),G.LFG(ne.e),G.LFG(ie.q))},Q.\u0275prov=G.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},37604:(re,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var O=S(68599);Z.Observable=O.Observable},71606:(re,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),function O(e){for(var V in e)Z.hasOwnProperty(V)||(Z[V]=e[V])}(S(37604))}}]);