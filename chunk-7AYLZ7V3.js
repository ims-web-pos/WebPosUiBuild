import{U as k,V as P,W as c,X as w,Y as R,Z as V,aa as z,ca as G,da as B,ea as L,fa as j,ga as H,ha as U,ia as q,la as $,na as J,oa as K,pa as y,qa as Q,va as W}from"./chunk-6OITFAFU.js";import{j as T}from"./chunk-UNLELH36.js";import"./chunk-XAZLOLJU.js";import{$a as d,$b as h,Ab as S,Bb as v,Cb as e,Db as t,Eb as r,Fb as O,Gb as A,Hc as M,Jc as D,Kb as g,Nc as I,O as N,Tb as i,Ub as u,_a as m,ka as f,pb as E,tb as p,vc as _,yb as b,z as F}from"./chunk-DSQJ5M6D.js";var C=class l{constructor(n){this.tableFetchService=n}menutableColumns=_(()=>[...this.tableFetchService.tableColumns(),{header:"ACTION",def:"ACTION"}]);menutableData=_(()=>this.tableFetchService.tableData());ngOnInit(){this.tableFetchService.getTableData("getAllAppSetting"),this.tableFetchService.selectedTab.set("app-setting-form")}static \u0275fac=function(o){return new(o||l)(d(y))};static \u0275cmp=f({type:l,selectors:[["app-app-setting-reg"]],standalone:!0,features:[h],decls:9,vars:4,consts:[[1,"container","mt-3"],[1,"heading","fw-bold","fs-5"],[1,"border-bottom","border-secondary"],[1,"container","d-flex","flex-column","flex-grow-1"],[1,"row"],[1,"col-md-6","mt-2","ms-auto"],[3,"columns","dataSource"]],template:function(o,a){o&1&&(e(0,"div",0)(1,"h5",1),i(2,"App Setting Configuration"),t()(),r(3,"div",2),e(4,"div",3)(5,"div",4)(6,"div",5),r(7,"app-generic-filter",6),t()(),r(8,"app-generic-table",6),t()),o&2&&(m(7),p("columns",a.menutableColumns())("dataSource",a.menutableData()),m(),p("columns",a.menutableColumns())("dataSource",a.menutableData()))},dependencies:[W,Q]})};function ee(l,n){if(l&1&&(e(0,"tr"),O(1,55),e(2,"td"),r(3,"input",56),t(),e(4,"td"),r(5,"input",57),t(),A(),t()),l&2){let o=n.index;m(),p("formGroupName",o)}}function te(l,n){if(l&1&&(e(0,"option",48),i(1),t()),l&2){let o=n.$implicit;p("value",o.ID),m(),u(o.Module)}}function ie(l,n){if(l&1&&(e(0,"option",48),i(1),t()),l&2){let o=n.$implicit;p("value",o.ID),m(),u(o.Category)}}function ne(l,n){if(l&1&&(e(0,"option",48),i(1),t()),l&2){let o=n.$implicit;p("value",o.ID),m(),u(o.SubCategory)}}var x=class l{constructor(n,o,a,s,oe){this.tableFetchService=n;this.fb=o;this.apiService=a;this.route=s;this.location=oe}settingsForm=new V({});formHeading="App Setting Registration ";featureMapping;loading=!1;mode="add";appSettingData;category;module;subcategory;ngOnInit(){this.getData(),this.route.queryParams.subscribe(n=>{let o=n.mode,a=n.id;o&&a&&(o==="view"&&(this.mode="view"),o==="edit"&&(this.mode="edit"),this.getViewApi("getAppSettingByName",a))}),this.formInitializer()}formInitializer(){this.settingsForm=this.fb.group({mode:[this.mode],data:this.fb.group({settingName:[this.appSettingData?.SettingName||"",c.required],displayName:[this.appSettingData?.DisplayName||"",c.required],description:[this.appSettingData?.Description||"",c.required],dataType:[this.appSettingData?.DataType||"",c.required],dataSize:[this.appSettingData?.DataSize||""],options:this.fb.array([]),isUserConfigurable:[this.appSettingData?.isUserConfigurable||""],defaultValue:[this.appSettingData?.DefaultValue||"",c.required],disablingValue:[this.appSettingData?.DisablingValue||"",c.required],features_Header:[this.appSettingData?.Features_Header||""],features_HelpLink:[this.appSettingData?.Features_HelpLink||""],Category:[this.appSettingData?.Category||""],SubCategory:[this.appSettingData?.SubCategory||""],sn:[this.appSettingData?.SN||""]})}),this.addOption(),this.mode=="view"&&this.settingsForm.disable()}getData(){F({category:this.apiService.get("getCategory"),subCategory:this.apiService.get("getSubCategory"),module:this.apiService.get("getModule")}).subscribe(n=>{console.log(n),n.category?.result?.length>0&&(this.category=n.category.result),n.subCategory?.result?.length>0&&(this.subcategory=n.subCategory.result),n.module?.result?.length>0&&(this.module=n.module.result)})}get(n,o){this.apiService.get(n,o).subscribe(a=>{a?.result&&a.result.length>0&&(this.featureMapping=a.result,console.log("res",a.result))})}getViewApi(n,o){o={settingName:o},this.apiService.get(n,o).subscribe(a=>{a?.result&&a.result.length>0&&(this.appSettingData=a.result[0],this.formInitializer())})}addOption(){if(this.mode==="view"||this.mode==="edit")JSON.parse(this.appSettingData?.Options||"[]")?.forEach(o=>{let a=this.fb.group({key:[o?.Key||""],value:[o?.Value||""]});this.options.push(a)});else{let n=this.fb.group({key:[""],value:[""]});this.options.push(n)}}get options(){return this.settingsForm.get("data.options")}removeOption(n){this.options.removeAt(n)}fieldChange(){this.settingsForm.get("data")?.get("dataType")?.value==="List"?(this.options.enable(),this.settingsForm.get("data.dataSize")?.disable(),this.settingsForm.get("data.dataSize")?.reset()):(this.options.disable(),this.options.reset(),this.settingsForm.get("data.dataSize")?.enable())}submit(){let n=this.settingsForm.get("data")?.get("isUserConfigurable")?.value;this.settingsForm.get("data")?.get("isUserConfigurable")?.setValue(n?"true":"false");let o=this.settingsForm.getRawValue();this.settingsForm.valid&&this.apiService.post("saveAppSetting",o).pipe(N(()=>this.loading=!1)).subscribe(a=>console.log(a))}goBack(){this.location.back()}static \u0275fac=function(o){return new(o||l)(d(y),d($),d(K),d(T),d(M))};static \u0275cmp=f({type:l,selectors:[["app-app-setting-reg-form"]],standalone:!0,features:[h],decls:137,vars:6,consts:[[1,"my-1","d-flex","justify-content-between","align-items-center"],[1,"col-md-6","px-0"],[1,"mb-0","heading"],[1,"pe-5","col-md-6","d-flex","justify-content-end"],["id","save",1,"btn","me-2","px-4",3,"click","disabled"],["id","back",1,"btn","px-4",3,"click"],[1,"border-bottom","mb-3"],[1,"container"],[3,"ngSubmit","formGroup"],[1,"container",3,"formGroupName"],[1,"row","mb-2"],[1,"col-12","col-md-2"],["for","mainMenu",1,"form-label"],[1,"star"],[1,"col-12","col-md-5"],["type","text","id","mainMenu","formControlName","settingName","autocomplete","off",1,"form-control","px-2","py-1"],["for","subMenu",1,"form-label"],[1,"col-12","col-md-6"],["type","text","id","mainMenu","formControlName","displayName",1,"form-control","px-2","py-1"],["for","parentMenu",1,"form-label"],["type","textarea","formControlName","description",1,"form-control","px-2","py-1"],["for","menuIndex",1,"form-label"],[1,"col-12","col-md-3"],["id","category","formControlName","dataType",1,"form-select","px-2","py-1",3,"change"],["value","Number"],["value","Boolean"],["value","List"],["value","Text"],[1,"col-12","col-md-auto","ps-2","pe-2"],["for","dataSize",1,"form-label"],["type","text","id","dataSize","formControlName","dataSize",1,"form-control","px-2","py-1"],["for","category",1,"form-label"],[1,"col-11","col-md-6"],[1,"option-table"],["formArrayName","options"],[4,"ngFor","ngForOf"],[1,"col-1","d-flex","flex-column","align-items-start","p-0"],["type","button",1,"dialog-button","mt-auto",3,"click","disabled"],["src","assets/images/addButton.png","alt","addicon"],["for","subCategory",1,"form-label"],[1,"col-11","col-md-3"],["type","text","id","Icon","formControlName","defaultValue",1,"form-control","px-2","py-1"],[1,"col-1","col-md-auto","ps-1","mt-1"],["type","checkbox","for","UserConfiguration","formControlName","isUserConfigurable"],[1,"col-1","col-md-4","p-0","mt-1"],["for","modules",1,"form-label"],["type","text","id","Icon","formControlName","disablingValue",1,"form-control","px-2","py-1"],["id","modules",1,"form-select","px-2","py-1"],[3,"value"],["id","modules","formControlName","Category",1,"form-select","px-2","py-1"],["id","modules","formControlName","SubCategory",1,"form-select","px-2","py-1"],["for","Icon",1,"form-label"],["type","text","id","Icon","formControlName","features_HelpLink",1,"form-control","px-2","py-1"],["type","text","id","Icon","formControlName","sn",1,"form-control","px-2","py-1"],[1,"footer","mb-1"],[3,"formGroupName"],["formControlName","key"],["formControlName","value"]],template:function(o,a){if(o&1&&(e(0,"div",0)(1,"div",1)(2,"h4",2),i(3),t()(),e(4,"div",3)(5,"button",4),g("click",function(){return a.submit()}),i(6,"SAVE"),t(),e(7,"button",5),g("click",function(){return a.goBack()}),i(8,"BACK"),t()()(),r(9,"div",6),e(10,"div",7)(11,"form",8),g("ngSubmit",function(){return a.submit()}),e(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12),i(16,"Setting Name:"),e(17,"span",13),i(18,"*"),t()()(),e(19,"div",14),r(20,"input",15),t()(),e(21,"div",10)(22,"div",11)(23,"label",16),i(24,"Display Names: "),e(25,"span",13),i(26,"*"),t()()(),e(27,"div",17),r(28,"input",18),t()(),e(29,"div",10)(30,"div",11)(31,"label",19),i(32,"Description: "),e(33,"span",13),i(34,"*"),t()()(),e(35,"div",17),r(36,"textarea",20),t()(),e(37,"div",10)(38,"div",11)(39,"label",21),i(40,"Value Type: "),e(41,"span",13),i(42,"*"),t()()(),e(43,"div",22)(44,"select",23),g("change",function(){return a.fieldChange()}),e(45,"option",24),i(46,"Number"),t(),e(47,"option",25),i(48,"Boolean"),t(),e(49,"option",26),i(50,"List"),t(),e(51,"option",27),i(52,"Text"),t()()(),e(53,"div",28)(54,"label",29),i(55,"Data Size: "),e(56,"span",13),i(57,"*"),t()()(),e(58,"div",11),r(59,"input",30),t()(),e(60,"div",10)(61,"div",11)(62,"label",31),i(63,"List Option:"),t()(),e(64,"div",32)(65,"table",33)(66,"thead")(67,"tr")(68,"th"),i(69,"Captions"),t(),e(70,"th"),i(71,"Values"),t()()(),e(72,"tbody",34),E(73,ee,6,1,"tr",35),t()()(),e(74,"div",36)(75,"button",37),g("click",function(){return a.addOption()}),r(76,"img",38),t()()(),e(77,"div",10)(78,"div",11)(79,"label",39),i(80,"Default Value: "),e(81,"span",13),i(82,"*"),t()()(),e(83,"div",40),r(84,"input",41),t(),e(85,"div",42),r(86,"input",43),t(),e(87,"div",44)(88,"label"),i(89," Is User Configuration Setting "),t()()(),e(90,"div",10)(91,"div",11)(92,"label",45),i(93,"Disabling Value"),e(94,"span",13),i(95,"*"),t()()(),e(96,"div",40),r(97,"input",46),t()(),e(98,"div",10)(99,"div",11)(100,"label",45),i(101,"Module"),e(102,"span",13),i(103,"*"),t()()(),e(104,"div",40)(105,"select",47),S(106,te,2,2,"option",48,b),t()()(),e(108,"div",10)(109,"div",11)(110,"label",21),i(111,"Category: "),t()(),e(112,"div",22)(113,"select",49),S(114,ie,2,2,"option",48,b),t()()(),e(116,"div",10)(117,"div",11)(118,"label",21),i(119,"Sub Category: "),t()(),e(120,"div",22)(121,"select",50),S(122,ne,2,2,"option",48,b),t()()(),e(124,"div",10)(125,"div",11)(126,"label",51),i(127,"Setting Header Tagging:"),t()(),e(128,"div",14),r(129,"input",52),t()(),e(130,"div",10)(131,"div",11)(132,"label",51),i(133,"Serial Number:"),t()(),e(134,"div",22),r(135,"input",53),t()()()()(),r(136,"footer",54)),o&2){let s;m(3),u(a.formHeading),m(2),p("disabled",a.mode==="view"),m(6),p("formGroup",a.settingsForm),m(),p("formGroupName","data"),m(61),p("ngForOf",a.options.controls),m(2),p("disabled",(s=a.settingsForm.get("data.options"))==null?null:s.disabled),m(31),v(a.module),m(8),v(a.category),m(8),v(a.subcategory)}},dependencies:[I,D,J,z,U,q,P,k,H,w,R,G,j,B,L],styles:["h4[_ngcontent-%COMP%]{font-size:20px;font-weight:500}label[_ngcontent-%COMP%], input[type=select][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500}input[type=checkbox][_ngcontent-%COMP%]{line-height:normal;width:20px;height:20px}.heading[_ngcontent-%COMP%]{margin-left:8rem}.star[_ngcontent-%COMP%]{color:red}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff40;box-shadow:0 0 0 .1rem #007bff40}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:14px}#save[_ngcontent-%COMP%]{background-color:#336799;color:#fff;font-size:14px}#back[_ngcontent-%COMP%]{color:#336799;border:1px solid rgba(51,103,153,1);font-size:14px}#back[_ngcontent-%COMP%]:hover, #save[_ngcontent-%COMP%]:hover{background-color:#336899ac;color:#fff;border:none}.dialog-button[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:none}#save[_ngcontent-%COMP%]{background-color:#4081bf;color:#fff;font-size:14px;font-weight:200}#close[_ngcontent-%COMP%]{border:1px solid rgba(64,129,191,1);color:#4081bf;font-size:14px;font-weight:200}.search-button[_ngcontent-%COMP%]{background-color:#3581ca;border:none;border-radius:2px;padding:2px 8px 0;cursor:pointer;box-shadow:2px 2px 4px #717171}.option-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid rgba(22,22,22,.211)}thead[_ngcontent-%COMP%]{background-color:#b9b9b97a}.option-table[_ngcontent-%COMP%]{width:100%}.option-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none}.option-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-size:medium;font-weight:500}"]})};var Ne=[{path:"",component:C},{path:"app-setting-form",component:x}];export{Ne as AppSetting_routes};
