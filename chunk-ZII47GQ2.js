import{a as ie,b as ae,c as oe}from"./chunk-MXAZZCQ5.js";import{F as le,G as de,H as ce,I as ue,J as he,K as _e,L as me,M as pe,N as fe,O as ge,P as Ce,R as ve,T as xe,X as be,Z as ye,ca as De,da as Me,ea as Ee,fa as Ie,ia as we,ka as Se,la as j,ma as ke,n as U,na as Te,oa as Fe,pa as Ve,qa as Ne,ra as Ae,sa as z,y as re,z as se}from"./chunk-QMIFFMC5.js";import{j as te,l as ne}from"./chunk-N2CQRIEU.js";import"./chunk-XAZLOLJU.js";import{Ab as R,Bb as s,Cb as r,Db as f,Eb as v,F as G,Fb as x,Hb as M,Jc as X,Kb as g,Lc as Y,Mb as u,Mc as Z,Pc as ee,Qb as T,Rb as F,Sb as V,Ub as c,Vb as L,Wb as E,Xb as J,Yb as b,Za as l,Zb as y,_a as I,_b as D,aa as K,ac as N,bc as S,ja as k,ka as W,ob as _,rb as H,sa as m,sb as d,ta as p,wb as O,xb as P,xc as A,zb as B}from"./chunk-I3ZKYF4A.js";var Q=class t{constructor(i){this.tableFetchService=i}variantConfigtableColumns=A(()=>[...this.tableFetchService.tableColumns(),{header:"ACTION",def:"ACTION"}]);variantConfigtableData=A(()=>this.tableFetchService.tableData());ngOnInit(){this.tableFetchService.paginationPage.set(1),this.tableFetchService.getTableData("getAllVariantConfiguation"),this.tableFetchService.selectedTab.set("variant-configuration")}static \u0275fac=function(e){return new(e||t)(I(j))};static \u0275cmp=k({type:t,selectors:[["app-variant-configuration"]],standalone:!0,features:[N],decls:9,vars:4,consts:[[1,"container","mt-3"],[1,"heading","fw-bold","fs-5"],[1,"border-bottom","border-secondary"],[1,"container","d-flex","flex-column","flex-grow-1"],[1,"row"],[1,"col-md-6","mt-2","ms-auto"],[3,"columns","dataSource"]],template:function(e,n){e&1&&(s(0,"div",0)(1,"h5",1),c(2,"Variant Configuration"),r()(),f(3,"div",2),s(4,"div",3)(5,"div",4)(6,"div",5),f(7,"app-generic-filter",6),r()(),f(8,"app-generic-table",6),r()),e&2&&(l(7),d("columns",n.variantConfigtableColumns())("dataSource",n.variantConfigtableData()),l(),d("columns",n.variantConfigtableColumns())("dataSource",n.variantConfigtableData()))},dependencies:[z,Te]})};var Oe=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=W({type:t})}static{this.\u0275inj=K({})}}return t})();var Pe=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=W({type:t})}static{this.\u0275inj=K({imports:[Oe,U,U]})}}return t})();var et=["categoryHiddenBtn"],tt=["subCategoryHiddenBtn"],nt=["isEnableHiddenButtons"],Be=()=>["feature_Name","category","sub_Category","isEnable"],Re=()=>["checkbox","Interface_Name","feature_Name","Do_Menu_Visible"],Le=()=>["checkbox","Function_Name","feature_Name","Default_Value","Disabling_Value","Is_User_Configurable"];function it(t,i){if(t&1&&(s(0,"option",14),c(1),r()),t&2){let e=i.$implicit;d("value",e.VariantID),l(),L(e.VariantName)}}function at(t,i){if(t&1&&(s(0,"option",14),c(1),r()),t&2){let e=i.$implicit;d("value",e.ID),l(),L(e.Module)}}function ot(t,i){if(t&1){let e=M();s(0,"div",17)(1,"button",46),g("click",function(){m(e);let a=u();return p(a.loadViewEditData("edit",!0))}),c(2,"INHERIT"),r()()}}function rt(t,i){t&1&&(s(0,"th",47),c(1,"Feature Name"),r())}function st(t,i){if(t&1&&(s(0,"mat-icon"),c(1),r()),t&2){let e=u().index,n=u();l(),L(n.expandedRows[e]?"remove":"add")}}function lt(t,i){if(t&1){let e=M();s(0,"div",56)(1,"mat-checkbox",52),D("ngModelChange",function(a){let o=m(e).$implicit;return y(o.check,a)||(o.check=a),p(a)}),g("change",function(a){let o=m(e),h=o.$implicit,C=o.index,w=u(2),Ke=w.$implicit,We=w.index,He=u();return p(He.onChildCheckboxChange(a,h,Ke,We,C))}),c(2),r()()}if(t&2){let e=i.$implicit,n=u(3);l(),b("ngModel",e.check),d("disabled",n.mode==="view"),l(),E(" ",e.feature_Name," ")}}function dt(t,i){if(t&1&&(s(0,"div",54),_(1,lt,3,3,"div",55),r()),t&2){let e=u().$implicit;l(),d("ngForOf",e.children)}}function ct(t,i){if(t&1){let e=M();s(0,"td",48)(1,"div",49)(2,"button",50),g("click",function(){let a=m(e),o=a.$implicit,h=a.index,C=u();return p(C.toggleRow(h,o))}),_(3,st,2,1,"mat-icon",51),r(),s(4,"mat-checkbox",52),D("ngModelChange",function(a){let o=m(e).$implicit;return y(o.check,a)||(o.check=a),p(a)}),g("change",function(a){let o=m(e),h=o.$implicit,C=o.index,w=u();return p(w.onParentCheckboxChange(a,h,C))}),c(5),r(),_(6,dt,2,1,"div",53),r()()}if(t&2){let e=i.$implicit,n=i.index,a=u();l(2),d("disabled",!(e.children.length>0)),H("aria-label","Toggle "+e.feature_Name),l(),d("ngIf",e.children.length>0),l(),b("ngModel",e.check),d("disabled",a.mode==="view"),l(),E(" ",e.feature_Name," "),l(),d("ngIf",a.expandedRows[n]&&e.children)}}function ut(t,i){t&1&&(s(0,"th",47),c(1,"Category"),r())}function ht(t,i){if(t&1&&(s(0,"div",58),c(1),r()),t&2){let e=i.$implicit;l(),E(" ",e.category," ")}}function _t(t,i){if(t&1&&(s(0,"div",54),_(1,ht,2,1,"div",57),r()),t&2){let e=u().$implicit;l(),d("ngForOf",e.children)}}function mt(t,i){if(t&1&&(s(0,"td",48),c(1),_(2,_t,2,1,"div",53),r()),t&2){let e=i.$implicit,n=i.index,a=u();l(),E(" ",e.category," "),l(),d("ngIf",a.expandedRows[n]&&e.children)}}function pt(t,i){t&1&&(s(0,"th",47),c(1,"Sub Category"),r())}function ft(t,i){if(t&1&&(s(0,"div",60),c(1),r()),t&2){let e=i.$implicit;l(),E(" ",e.sub_Category," ")}}function gt(t,i){if(t&1&&(s(0,"div",54),_(1,ft,2,1,"div",59),r()),t&2){let e=u().$implicit;l(),d("ngForOf",e.children)}}function Ct(t,i){if(t&1&&(s(0,"td",48),c(1),_(2,gt,2,1,"div",53),r()),t&2){let e=i.$implicit,n=i.index,a=u();l(),E(" ",e.sub_Category," "),l(),d("ngIf",a.expandedRows[n]&&e.children)}}function vt(t,i){t&1&&(s(0,"th",47),c(1,"Is Enabled"),r())}function xt(t,i){if(t&1){let e=M();s(0,"div",62)(1,"mat-checkbox",52),D("ngModelChange",function(a){let o=m(e).$implicit;return y(o.isEnable,a)||(o.isEnable=a),p(a)}),g("change",function(a){let o=m(e).$implicit,h=u(3);return p(h.onFeatureIsEnable(a,o))}),r()()}if(t&2){let e=i.$implicit,n=u(3);l(),b("ngModel",e.isEnable),d("disabled",!e.check||n.mode==="view")}}function bt(t,i){if(t&1&&(s(0,"div",54),_(1,xt,2,2,"div",61),r()),t&2){let e=u().$implicit;l(),d("ngForOf",e.children)}}function yt(t,i){if(t&1){let e=M();s(0,"td",48)(1,"mat-checkbox",52),D("ngModelChange",function(a){let o=m(e).$implicit;return y(o.isEnable,a)||(o.isEnable=a),p(a)}),g("change",function(a){let o=m(e).$implicit,h=u();return p(h.onFeatureIsEnable(a,o))}),r(),_(2,bt,2,1,"div",53),r()}if(t&2){let e=i.$implicit,n=i.index,a=u();l(),b("ngModel",e.isEnable),d("disabled",!e.check||a.mode==="view"),l(),d("ngIf",a.expandedRows[n]&&e.children)}}function Dt(t,i){t&1&&f(0,"tr",63)}function Mt(t,i){t&1&&f(0,"tr",64)}function Et(t,i){if(t&1&&(s(0,"option",14),c(1),r()),t&2){let e=i.$implicit;d("value",e.featuresID),l(),E(" ",e.feature_Name," ")}}function It(t,i){if(t&1){let e=M();s(0,"select",65),D("ngModelChange",function(a){m(e);let o=u();return y(o.selectedID,a)||(o.selectedID=a),p(a)}),g("change",function(a){m(e);let o=u();return p(o.featureNameChange(a))}),s(1,"option",66),c(2," Filter By Feature Name (All)"),r(),B(3,Et,2,2,"option",14,P),r()}if(t&2){let e=u();b("ngModel",e.selectedID),l(3),R(e.featureName)}}function wt(t,i){t&1&&f(0,"th",47)}function St(t,i){if(t&1){let e=M();s(0,"td",48)(1,"mat-checkbox",71),g("change",function(a){let o=m(e).$implicit,h=u(2);return p(h.onMenuCheckbox(a,o))}),D("ngModelChange",function(a){let o=m(e).$implicit;return y(o.check,a)||(o.check=a),p(a)}),r()()}if(t&2){let e=i.$implicit,n=u(2);l(),b("ngModel",e.check),d("disabled",n.mode==="view")}}function kt(t,i){t&1&&(s(0,"th",47),c(1,"Menu Name "),r())}function Tt(t,i){if(t&1&&(s(0,"td",48),c(1),r()),t&2){let e=i.$implicit;l(),E(" ",e.interface_Name," ")}}function Ft(t,i){t&1&&(s(0,"th",47),c(1,"Feature Name "),r())}function Vt(t,i){if(t&1&&(s(0,"td",48),c(1),r()),t&2){let e=i.$implicit;l(),E(" ",e.feature_Name," ")}}function Nt(t,i){t&1&&(s(0,"th",47),c(1," Do Menu Visible "),r())}function At(t,i){if(t&1){let e=M();s(0,"td",48)(1,"mat-checkbox",72),D("ngModelChange",function(a){let o=m(e).$implicit;return y(o.do_Menu_Visible,a)||(o.do_Menu_Visible=a),p(a)}),r()()}if(t&2){let e=i.$implicit,n=u(2);l(),b("ngModel",e.do_Menu_Visible),d("disabled",!e.isDoMenuVisibleEnabled||n.mode==="view")}}function Ot(t,i){t&1&&f(0,"tr",63)}function Pt(t,i){t&1&&f(0,"tr",64)}function Bt(t,i){if(t&1&&(s(0,"div",45)(1,"table",25),v(2,67),_(3,wt,1,0,"th",27)(4,St,2,2,"td",28),x(),v(5,68),_(6,kt,2,0,"th",27)(7,Tt,2,1,"td",28),x(),v(8,26),_(9,Ft,2,0,"th",27)(10,Vt,2,1,"td",28),x(),v(11,69),_(12,Nt,2,0,"th",27)(13,At,2,2,"td",28),x(),_(14,Ot,1,0,"tr",70)(15,Pt,1,0,"tr",33),r()()),t&2){let e=u();l(),d("dataSource",e.menuData),l(13),d("matHeaderRowDef",S(4,Re))("matHeaderRowDefSticky",!0),l(),d("matRowDefColumns",S(5,Re))}}function Rt(t,i){t&1&&f(0,"th",47)}function Lt(t,i){if(t&1){let e=M();s(0,"td",48)(1,"mat-checkbox",79),g("change",function(a){let o=m(e).$implicit,h=u(2);return p(h.onSettingCheckbox(a,o))}),D("ngModelChange",function(a){let o=m(e).$implicit;return y(o.check,a)||(o.check=a),p(a)}),r()()}if(t&2){let e=i.$implicit,n=u(2);l(),d("disabled",n.mode==="view"),b("ngModel",e.check)}}function Kt(t,i){t&1&&(s(0,"th",47),c(1,"Setting Name "),r())}function Wt(t,i){if(t&1&&(s(0,"td",48),c(1),r()),t&2){let e=i.$implicit;l(),E(" ",e.function_Name," ")}}function Ht(t,i){t&1&&(s(0,"th",47),c(1,"Feature Name "),r())}function jt(t,i){if(t&1&&(s(0,"td",48),c(1),r()),t&2){let e=i.$implicit;l(),E(" ",e.feature_Name," ")}}function zt(t,i){t&1&&(s(0,"th",47),c(1," Default Value "),r())}function Qt(t,i){if(t&1){let e=M();s(0,"input",84),D("ngModelChange",function(a){m(e);let o=u().$implicit;return y(o.default_Value,a)||(o.default_Value=a),p(a)}),r()}if(t&2){let e=u().$implicit,n=u(2);b("ngModel",e.default_Value),d("disabled",!e.check||n.mode==="view")}}function $t(t,i){if(t&1){let e=M();s(0,"input",85),D("ngModelChange",function(a){m(e);let o=u().$implicit;return y(o.default_Value,a)||(o.default_Value=a),p(a)}),r()}if(t&2){let e=u().$implicit,n=u(2);b("ngModel",e.default_Value),d("disabled",!e.check||n.mode==="view")}}function Ut(t,i){if(t&1&&(s(0,"select",82)(1,"option",14),c(2),r()()),t&2){let e=u().$implicit,n=u(2);d("disabled",!e.check)("disabled",!e.check||n.mode==="view"),l(),d("value",e.Default_Value),l(),E("",e.default_Value," ")}}function qt(t,i){if(t&1&&(s(0,"option",14),c(1),r()),t&2){let e=i.$implicit;d("value",e.Value),l(),J("",e.Key," - ",e.Value," ")}}function Gt(t,i){if(t&1){let e=M();s(0,"select",86),D("ngModelChange",function(a){m(e);let o=u().$implicit;return y(o.default_Value,a)||(o.default_Value=a),p(a)}),B(1,qt,2,3,"option",14,P),r()}if(t&2){let e=u().$implicit,n=u(2);b("ngModel",e.default_Value),d("disabled",!e.check||n.mode==="view"),l(),R(e.options)}}function Jt(t,i){if(t&1&&(s(0,"td",48),_(1,Qt,1,2,"input",80)(2,$t,1,2,"input",81)(3,Ut,3,4,"select",82)(4,Gt,3,2,"select",83),r()),t&2){let e=i.$implicit;l(),O(e.dataType.toLowerCase()=="text"?1:e.dataType.toLowerCase()=="number"?2:e.dataType.toLowerCase()==="boolean"?3:4)}}function Xt(t,i){t&1&&(s(0,"th",47),c(1," Disabling Value"),r())}function Yt(t,i){if(t&1&&(s(0,"td",87),c(1),r()),t&2){let e=i.$implicit;l(),E(" ",e.disabling_Value,"")}}function Zt(t,i){t&1&&(s(0,"th",47),c(1," Is User Configurable "),r())}function en(t,i){if(t&1){let e=M();s(0,"td",87)(1,"mat-checkbox",72),D("ngModelChange",function(a){let o=m(e).$implicit;return y(o.is_User_Configurable,a)||(o.is_User_Configurable=a),p(a)}),r()()}if(t&2){let e=i.$implicit,n=u(2);l(),b("ngModel",e.is_User_Configurable),d("disabled",!e.check||n.mode==="view")}}function tn(t,i){t&1&&f(0,"tr",63)}function nn(t,i){t&1&&f(0,"tr",64)}function an(t,i){if(t&1&&(s(0,"table",25),v(1,67),_(2,Rt,1,0,"th",27)(3,Lt,2,2,"td",28),x(),v(4,73),_(5,Kt,2,0,"th",27)(6,Wt,2,1,"td",28),x(),v(7,26),_(8,Ht,2,0,"th",27)(9,jt,2,1,"td",28),x(),v(10,74),_(11,zt,2,0,"th",27)(12,Jt,5,1,"td",28),x(),v(13,75),_(14,Xt,2,0,"th",27)(15,Yt,2,1,"td",76),x(),v(16,77),_(17,Zt,2,0,"th",27)(18,en,2,2,"td",76),x(),_(19,tn,1,0,"tr",70),s(20,"tbody",78),_(21,nn,1,0,"tr",33),r()()),t&2){let e=u();d("dataSource",e.settingData),l(19),d("matHeaderRowDef",S(4,Le))("matHeaderRowDefSticky",!0),l(2),d("matRowDefColumns",S(5,Le))}}var $=class t{constructor(i,e,n,a,o,h){this.apiService=i;this.location=e;this.route=n;this.router=a;this.tableFetchService=o;this.snackBarService=h;this.route.queryParams.subscribe(C=>{let w=C.mode;this.variantId=C.id,this.moduleId=C.mid,w&&this.variantId&&this.moduleId&&(w==="view"&&(this.mode="view"),w==="edit"&&(this.mode="edit"),this.loadViewEditData(this.mode))})}categoryHiddenButtons;subCategoryHiddenButtons;isEnableHiddenButtons;clickedTabIndex=0;formHeading="Variant Configuration ";mode="add";dataSource=[];module;variant;variantId;moduleId;settingData=[];allSettingData=[];menuData=[];allMenuData=[];menuSaveData=[];settingSaveData=[];expandedElement;doMenuVisible=!1;featureName=[];featureSave=[];selectedID="";isInherit;menutableColumns=A(()=>[...this.tableFetchService.tableColumns(),{header:"ACTION",def:"ACTION"}]);menutableData=A(()=>[...this.tableFetchService.tableData()]);childrenAccessor=i=>i.children??[];hasChild=(i,e)=>e.children&&e.children.length>0;expandedRows=[];loadViewEditData(i,e){e&&(this.isInherit=!0),this.mode=i;let n={variantID:this.variantId,moduleID:this.moduleId,mode:this.mode};this.getViewApi("LoadFeaturesForVariantConfiguation",n),this.apiService.get("getAllVariants",{mode:"add",moduleId:this.moduleId}).subscribe(a=>{this.variant=a.result})}isExpanded(i){return console.log("expanded"),this.expandedElement===i}getViewApi(i,e){this.apiService.get(i,e).subscribe(n=>{if(n?.result&&n.result.length>0){this.dataSource=[...n.result],this.menuData=[...n.result2.variantInterfaceMenus],this.allMenuData=[...n.result2.variantInterfaceMenus],this.menuSaveData=[...n.result2.variantInterfaceMenus],this.settingData=[...n.result2.variantFunctionSettings],this.allSettingData=[...n.result2.variantFunctionSettings];let a=[...n.result];this.featureSave=a.filter(h=>h.check==1);let o=a.flatMap(h=>h.children||[]).filter(h=>h.check==1);this.featureSave=[...this.featureSave,...o],this.allSettingData=this.allSettingData.map(h=>{if(typeof h.options=="string")try{h.options=JSON.parse(h.options)}catch(C){console.error("Failed to parse options:",C)}return h}),this.menuData.forEach(h=>h.isDoMenuVisibleEnabled=!0),this.filterByFeatureName()}})}ngOnInit(){this.apiService.get("getModule").subscribe(i=>{this.module=i.result}),this.apiService.get("getAllVariants",{mode:this.mode,moduleId:this.moduleId}).subscribe(i=>{this.variant=i.result}),this.expandedRows=new Array(this.dataSource.length).fill(!1)}toggleRow(i,e){this.expandedRows[i]=!this.expandedRows[i]}onParentCheckboxChange(i,e,n){this.onCheckboxChange(i,e),e.children&&e.children.forEach(a=>{a.check||(a.isEnable=!1)})}onChildCheckboxChange(i,e,n,a,o){this.onCheckboxChange(i,e),e.check||(e.isEnable=!1)}loadFeature(){this.menuSaveData=[],this.menuData=[],this.settingData=[];let i={variantID:this.variantId,moduleID:this.moduleId,mode:"Load"};this.apiService.get("LoadFeaturesForVariantConfiguation",i).subscribe(e=>{e?.result?.length>0&&(this.dataSource=[...e.result])})}goBack(){this.location.back()}onModuleIdChange(i){this.moduleId=i,this.variantId="",this.apiService.get("getAllVariants",{mode:this.mode,moduleId:this.moduleId}).subscribe(e=>{this.variant=e.result})}onCheckboxChange(i,e){if(e.isEnable=i.checked,i.checked){let n={featuresID:e.featuresID,moduleID:this.moduleId,mode:"Load"};this.apiService.get("getFeatureDetailsForVariantConfiguation",n).subscribe(a=>{let o=a.result;this.featureSave=[...this.featureSave,e],o.variantInterfaceMenus?.length>0&&(this.allMenuData=[...this.allMenuData,...o.variantInterfaceMenus],this.menuData=[...this.menuData,...o.variantInterfaceMenus],this.menuData.forEach(h=>h.check=1)),o.variantFunctionSettings?.length>0&&(this.allSettingData=[...this.allSettingData,...o.variantFunctionSettings],this.settingData=[...this.settingData,...o.variantFunctionSettings],this.settingData=this.settingData.map(h=>{if(typeof h.options=="string")try{h.options=JSON.parse(h.options)}catch(C){console.error("Failed to parse options:",C)}return h}),this.allSettingData=this.allSettingData.map(h=>{if(typeof h.options=="string")try{h.options=JSON.parse(h.options)}catch(C){console.error("Failed to parse options:",C)}return h})),this.filterByFeatureName(),this.onFeatureIsEnable(i,e)}),this.selectedID=e.featuresID,this.featureNameChange(void 0,e.featuresID)}else e.isEnable=!1,this.featureSave=this.featureSave.filter(n=>n.featuresID!==e.featuresID),this.menuData=this.allMenuData.filter(n=>n.featuresID!==e.featuresID),this.menuSaveData=this.menuSaveData.filter(n=>n.featuresID!==e.featuresID),this.settingData=this.allSettingData.filter(n=>n.featuresID!==e.featuresID),this.allMenuData=this.allMenuData.filter(n=>n.featuresID!==e.featuresID),this.allSettingData=this.allSettingData.filter(n=>n.featuresID!==e.featuresID),this.featureName=this.featureName.filter(n=>n.featuresID!==e.featuresID),this.selectedID=""}updateParentCheckboxState(i){if(i.mainFeatures){let e=this.dataSource.find(n=>n.featuresID===i.mainFeatures);e&&(e.isEnable=i.isEnable)}}onFeatureIsEnable(i,e){this.featureSave.forEach(n=>{e.featuresID===n.featuresID&&(n.isEnable=i.checked)}),this.menuData.forEach(n=>{e.featuresID===n.featuresID&&(n.do_Menu_Visible=i.checked,n.isDoMenuVisibleEnabled=i.checked)})}featureNameChange(i,e){let n=i?i.target.value:e;if(n==""){this.menuData=[...this.allMenuData],this.settingData=[...this.allSettingData];return}this.menuData=this.allMenuData.filter(a=>a.featuresID==n),this.settingData=this.allSettingData.filter(a=>a.featuresID==n)}onMenuCheckbox(i,e){i.checked?(e.check=1,e.do_Menu_Visible=!0,e.isDoMenuVisibleEnabled=!0,this.menuSaveData=[...this.menuSaveData,e]):(e.check=0,e.do_Menu_Visible=!1,e.isDoMenuVisibleEnabled=!1,this.menuSaveData=this.menuSaveData.filter(n=>n.MenuID!==e.menuID))}filterByFeatureName(){let i=new Set,e=[...this.allMenuData.map(({feature_Name:n,featuresID:a})=>({feature_Name:n,featuresID:a})),...this.allSettingData.map(({feature_Name:n,featuresID:a})=>({feature_Name:n,featuresID:a}))];this.featureName=e.filter(n=>{let a=n.feature_Name;return i.has(a)?!1:(i.add(a),!0)})}onSettingCheckbox(i,e){i.checked?e.check=1:(e.check=0,e.Is_User_Configurable=!1)}toggleHiddenBtn(i){let e=this.categoryHiddenButtons.toArray()[i],n=this.subCategoryHiddenButtons.toArray()[i],a=this.isEnableHiddenButtons.toArray()[i];e._elementRef.nativeElement.click(),n._elementRef.nativeElement.click(),a._elementRef.nativeElement.click()}onTabClick(i){let e=i.index;this.clickedTabIndex=e}submit(){this.menuSaveData=this.allMenuData.filter(e=>e.check),this.isInherit&&(this.mode="add"),this.featureSave=this.featureSave.reduce((e,n)=>(e.push({featuresID:n.featuresID,isEnable:n.isEnable}),e),[]);let i={mode:this.mode,data:{variantID:this.variantId,moduleID:this.moduleId,variantInterfaceMenus:this.menuSaveData,variantFunctionSettings:this.allSettingData,features:this.featureSave}};this.apiService.post("saveVariantConfiguration",i).pipe(G(e=>(this.snackBarService.showError("Error while saving Variant Configuration!!"),e))).subscribe(e=>{this.snackBarService.showSuccess("Variant Saved Sucessfully"),this.router.navigate(["/variant-configuration"])})}static \u0275fac=function(e){return new(e||t)(I(Se),I(X),I(te),I(ne),I(j),I(ke))};static \u0275cmp=k({type:t,selectors:[["app-variant-configuration-form"]],viewQuery:function(e,n){if(e&1&&(T(et,5),T(tt,5),T(nt,5)),e&2){let a;F(a=V())&&(n.categoryHiddenButtons=a),F(a=V())&&(n.subCategoryHiddenButtons=a),F(a=V())&&(n.isEnableHiddenButtons=a)}},standalone:!0,features:[N],decls:72,vars:15,consts:[[1,"my-1","d-flex","justify-content-between","align-items-center"],[1,"col-md-6","px-0"],[1,"mb-0","heading"],[1,"pe-5","col-md-6","d-flex","justify-content-end"],["id","save",1,"btn","me-2","px-4",3,"click","disabled"],["id","back",1,"btn","px-4",3,"click"],[1,"border-bottom","mb-3"],[1,"container","pb-5"],[1,"row","mb-2"],[1,"col-12","col-md-auto"],["for","mainMenu",1,"form-label"],[1,"star"],[1,"col-12","col-md-3"],["id","modules",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"col-12","col-md-1"],["id","load","type","button",1,"btn","me-2","px-4","py-1",3,"click","disabled"],[1,"col-12","col-md-1","ms-auto"],[1,"container-fluid","mb-2","p-0"],[1,"row","mt-3"],[1,"col-md-6","mat-elevation-z2","p-0"],[1,"table-responsive","table1"],[1,"container"],[1,"h3","mt-2"],[1,"col-12"],["mat-table","",1,"custom-table",3,"dataSource"],["matColumnDef","feature_Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","sub_Category"],["matColumnDef","isEnable"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"col-md-6"],[1,"row","ms-1"],[1,"col-12","mat-elevation-z2","mb-2","p-0"],[1,"row","align-items-center"],[1,"col-md-12"],["animationDuration","0ms",1,"mt-2",3,"selectedTabChange"],["value","0","label","Menu Configuration"],["value","1","label","Setting Configuration"],[1,"filter"],[1,"form-control",3,"ngModel"],[1,"table-responsive"],[1,"table-size"],["id","load","type","button",1,"btn","me-2","px-4","py-1",3,"click"],["mat-header-cell",""],["mat-cell",""],[1,"feature-tree-container"],["mat-icon-button","",1,"plus-icon",3,"click","disabled"],[4,"ngIf"],[3,"ngModelChange","change","ngModel","disabled"],["class","child",4,"ngIf"],[1,"child"],["class","child-feature-row",4,"ngFor","ngForOf"],[1,"child-feature-row"],["class","child-category-row",4,"ngFor","ngForOf"],[1,"child-category-row"],["class","child-subcategory-row",4,"ngFor","ngForOf"],[1,"child-subcategory-row"],["class","child-enable-row",4,"ngFor","ngForOf"],[1,"child-enable-row"],["mat-header-row",""],["mat-row",""],[1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],["matColumnDef","checkbox"],["matColumnDef","Interface_Name"],["matColumnDef","Do_Menu_Visible"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],[3,"change","ngModelChange","ngModel","disabled"],[3,"ngModelChange","ngModel","disabled"],["matColumnDef","Function_Name"],["matColumnDef","Default_Value"],["matColumnDef","Disabling_Value"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["matColumnDef","Is_User_Configurable"],[1,"mat-row"],[3,"change","ngModelChange","disabled","ngModel"],[1,"form-control",3,"ngModel","disabled"],["type","number","min","0",1,"form-control",3,"ngModel","disabled"],["name","","id","",1,"form-select",3,"disabled"],["name","","id","",1,"form-select","p-0",3,"ngModel","disabled"],[1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","disabled"],["name","","id","",1,"form-select","p-0",3,"ngModelChange","ngModel","disabled"],["mat-cell","",2,"text-align","center"]],template:function(e,n){e&1&&(s(0,"div",0)(1,"div",1)(2,"h4",2),c(3),r()(),s(4,"div",3)(5,"button",4),g("click",function(){return n.submit()}),c(6,"SAVE"),r(),s(7,"button",5),g("click",function(){return n.goBack()}),c(8,"BACK"),r()()(),f(9,"div",6),s(10,"div",7)(11,"div",8)(12,"div",9)(13,"label",10),c(14,"Variant Name:"),s(15,"span",11),c(16,"*"),r()()(),s(17,"div",12)(18,"select",13),D("ngModelChange",function(o){return y(n.variantId,o)||(n.variantId=o),o}),B(19,it,2,2,"option",14,P),r()(),s(21,"div",9)(22,"label",10),c(23,"Module:"),s(24,"span",11),c(25,"*"),r()()(),s(26,"div",12)(27,"select",13),g("ngModelChange",function(o){return n.onModuleIdChange(o)}),D("ngModelChange",function(o){return y(n.moduleId,o)||(n.moduleId=o),o}),B(28,at,2,2,"option",14,P),r()(),s(30,"div",15)(31,"button",16),g("click",function(){return n.loadFeature()}),c(32,"Load"),r()(),_(33,ot,3,0,"div",17),r(),s(34,"div",18)(35,"div",19)(36,"div",20)(37,"div",21)(38,"div",22)(39,"h3",23),c(40," Features"),r()(),s(41,"div",24),f(42,"app-generic-filter"),r(),s(43,"table",25),v(44,26),_(45,rt,2,0,"th",27)(46,ct,7,7,"td",28),x(),v(47,29),_(48,ut,2,0,"th",27)(49,mt,3,2,"td",28),x(),v(50,30),_(51,pt,2,0,"th",27)(52,Ct,3,2,"td",28),x(),v(53,31),_(54,vt,2,0,"th",27)(55,yt,3,3,"td",28),x(),_(56,Dt,1,0,"tr",32)(57,Mt,1,0,"tr",33),r()()(),s(58,"div",34)(59,"div",35)(60,"div",36)(61,"div",37)(62,"div",38)(63,"mat-tab-group",39),g("selectedTabChange",function(o){return n.onTabClick(o)}),f(64,"mat-tab",40)(65,"mat-tab",41),r()()(),s(66,"div",42),_(67,It,5,1,"select",43),r(),s(68,"div",44),_(69,Bt,16,6,"div",45)(70,an,22,6,"table",25),f(71,"div"),r()()()()()()()),e&2&&(l(3),L(n.formHeading),l(2),d("disabled",n.mode==="view"),l(13),b("ngModel",n.variantId),d("disabled",n.mode==="view"||n.mode=="edit"&&!n.isInherit),l(),R(n.variant),l(8),b("ngModel",n.moduleId),d("disabled",n.mode==="view"||n.mode=="edit"||n.isInherit),l(),R(n.module),l(3),d("disabled",n.mode==="view"||n.mode=="edit"||n.isInherit),l(2),O(n.mode==="view"?33:-1),l(10),d("dataSource",n.dataSource),l(13),d("matHeaderRowDef",S(13,Be)),l(),d("matRowDefColumns",S(14,Be)),l(10),O(n.featureName.length>0?67:-1),l(2),O(n.clickedTabIndex===0?69:70))},dependencies:[z,se,re,Ae,Ne,Pe,Ce,le,ce,me,ue,de,pe,he,_e,fe,ge,Ve,Fe,we,Me,Ee,ve,ye,De,xe,Ie,be,oe,ie,ae,ee,Y,Z],styles:["h4[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.h3[_ngcontent-%COMP%]{color:#336799}label[_ngcontent-%COMP%], input[type=select][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:500}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;line-height:normal}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:14px}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff40;box-shadow:0 0 0 .1rem #007bff40}.heading[_ngcontent-%COMP%]{margin-left:8rem}.star[_ngcontent-%COMP%]{color:red}#load[_ngcontent-%COMP%]{background-color:#4081bf;color:#fff;font-size:14px}#save[_ngcontent-%COMP%]{background-color:#336799;color:#fff;font-size:14px}#back[_ngcontent-%COMP%]{color:#336799;border:1px solid rgba(51,103,153,1);font-size:14px}#back[_ngcontent-%COMP%]:hover, #save[_ngcontent-%COMP%]:hover{background-color:#336899ac;color:#fff;border:none}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f6f6f6f5}tr[_ngcontent-%COMP%]:nth-child(2n)   .mat-tree-node[_ngcontent-%COMP%]{background-color:#f6f6f6f5}tr[_ngcontent-%COMP%]:nth-child(odd)   .mat-tree-node[_ngcontent-%COMP%]{background-color:#fffffff5}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;cursor:pointer;padding:0}.mat-mdc-header-row[_ngcontent-%COMP%]{border-top:1px solid gainsboro}.mat-mdc-row[_ngcontent-%COMP%]{overflow-y:auto}.custom-table[_ngcontent-%COMP%]{background-color:#fffdfd;overflow-y:auto}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd}.table-size[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.table-size[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1b0}.table-size[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a5a5a5;border-radius:10px;border:2px solid #f1f1f1}.table-size[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#b0b0b0c0}.hiddenButton[_ngcontent-%COMP%]{display:none}.child-feature-row[_ngcontent-%COMP%], .child-category-row[_ngcontent-%COMP%], .child-subcategory-row[_ngcontent-%COMP%], .child-enable-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;min-height:48px}.child[_ngcontent-%COMP%]{padding-left:50px}.plus-icon[_ngcontent-%COMP%]{vertical-align:middle}"]})};var ci=[{path:"",component:Q},{path:":subpath",component:$}];export{ci as VariantConfig_routes};
