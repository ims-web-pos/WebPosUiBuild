(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[1740],{39773:(U,E,l)=>{"use strict";l.d(E,{X:()=>d});var O=l(1298),p=l(718);let d=(()=>{class m{static forRoot(){return{ngModule:m}}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=p.oAB({type:m}),m.\u0275inj=p.cJS({imports:[O.ez]}),m})()},8630:(U,E,l)=>{"use strict";l.d(E,{n:()=>m});var O=l(718),p=l(67297),d=l(53074);let m=(()=>{class e{constructor(M,x,k,f){this.authService=M,this.el=x,this.renderer=k,this.masterService=f,this.disallowSalesRateChangeValue=!1}ngOnInit(){this.userSetting=this.authService.getSetting();let M=this.masterService.userProfile.userRights.find(x=>"AllowRateChangeInSO"==x.right);M&&0==M?.value&&(this.disallowSalesRateChangeValue=!0,this.renderer.setAttribute(this.el.nativeElement,"disabled","true"))}disallowSalesRateChange(){return this.disallowSalesRateChangeValue}}return e.\u0275fac=function(M){return new(M||e)(O.Y36(p.e),O.Y36(O.SBq),O.Y36(O.Qsj),O.Y36(d.P))},e.\u0275dir=O.lG2({type:e,selectors:[["","appSalesRateDisableFromUserProfile",""]],exportAs:["appSalesRateDisableFromUserProfile"]}),e})()},92849:(U,E,l)=>{"use strict";l.d(E,{S:()=>d});var O=l(1298),p=l(718);let d=(()=>{class m{}return m.\u0275fac=function(h){return new(h||m)},m.\u0275mod=p.oAB({type:m}),m.\u0275inj=p.cJS({imports:[O.ez]}),m})()},55618:(U,E,l)=>{"use strict";l.d(E,{c:()=>f});var O=l(1298),p=l(76750),d=l(68567),m=l(18488),e=l(53074),h=l(35757),M=l(47766),x=l(718);let k=(()=>{class _{static forRoot(){return{ngModule:_}}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275mod=x.oAB({type:_}),_.\u0275inj=x.cJS({imports:[O.ez,h.u5,h.UX,d.JX]}),_})(),f=(()=>{class _{static forRoot(){return{ngModule:_,providers:[e.P,m.G]}}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275mod=x.oAB({type:_}),_.\u0275inj=x.cJS({imports:[O.ez,p.zk.forRoot(),d.JX,O.ez,h.u5,h.UX,M.e,k.forRoot()]}),_})()},53158:(U,E,l)=>{"use strict";l.d(E,{i:()=>e});var O=l(1298),p=l(68567),d=l(35757),m=l(718);let e=(()=>{class h{static forRoot(){return{ngModule:h}}}return h.\u0275fac=function(x){return new(x||h)},h.\u0275mod=m.oAB({type:h}),h.\u0275inj=m.cJS({imports:[O.ez,d.u5,d.UX,p.JX]}),h})()},77879:(U,E,l)=>{"use strict";l.d(E,{H:()=>d});var O=l(718),p=l(53074);let d=(()=>{class m{constructor(h){this.masterRepo=h}ngOnInit(){}isOldFYearDB(){return 1===this.masterRepo.userSetting.IsOldFyearDB}}return m.\u0275fac=function(h){return new(h||m)(O.Y36(p.P))},m.\u0275dir=O.lG2({type:m,selectors:[["","appOldFYearDB",""]],exportAs:["appOldFYearDB"]}),m})()},81740:(U,E,l)=>{"use strict";l.r(E),l.d(E,{ProductMasterModule:()=>pr});var O=l(63666),p=l(1298),d=l(35757),m=l(55757),e=l(718),h=l(77220),M=l(67297),x=l(47767),k=l(8929),f=l(74385),_=l(94327),w=l(38011),C=l(92340),S=l(40216),v=l(67311),P=l(53074),I=l(69389),G=l(14970),B=l(97811),L=l(77879);const Xe=["*"];let Te=(()=>{class i{constructor(){this.active=!1}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["hometab"]],inputs:{title:["tabTitle","title"],active:"active"},ngContentSelectors:Xe,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA()),2&t&&e.Q6J("hidden",!n.active)},styles:[".pane[_ngcontent-%COMP%]{padding:0}"]}),i})();var re=l(19444);function $e(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tab",2)(1,"alternateunittab",6),e.NdJ("returnsaveObj",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.returnsaveObj(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tabTitle","Alternate Unit"),e.xp6(1),e.Q6J("productObj",t.productObj)("AlternateUnits",t.AlternateUnits)}}function et(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tab",2)(1,"inventorycontroltab",7),e.NdJ("returnsaveObj",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.returnsaveObj(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tabTitle","Inventory Control"),e.xp6(1),e.Q6J("productObj",t.productObj)}}function tt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tab",2)(1,"itemwise-acc",7),e.NdJ("returnsaveObj",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.returnsaveObj(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tabTitle","Account Mapping"),e.xp6(1),e.Q6J("productObj",t.productObj)}}function nt(i,s){if(1&i&&(e.TgZ(0,"tab",2),e._UZ(1,"multipleretail-price",8),e.qZA()),2&i){const t=e.oxw();e.Q6J("tabTitle","Multiple Retail Price"),e.xp6(1),e.Q6J("productObj",t.productObj)("mode",t.mode)("PMultipleRetailPrice",t.PMultipleRetailPrice)("PBarCodeCollection",t.PBarCodeCollection)("AlternateUnits",t.AlternateUnits)}}function ot(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tab",2)(1,"imageuploadtab",7),e.NdJ("returnsaveObj",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.returnsaveObj(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tabTitle","Image Upload"),e.xp6(1),e.Q6J("productObj",t.productObj)}}function it(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tab",2)(1,"itemwise-price",7),e.NdJ("returnsaveObj",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.returnsaveObj(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tabTitle","Batch Wise Price"),e.xp6(1),e.Q6J("productObj",t.productObj)}}function rt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tab",2)(1,"yieldtab",9),e.NdJ("returnsaveObj",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.returnsaveObj(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("tabTitle","Yield"),e.xp6(1),e.Q6J("productObj",t.productObj)("PYieldCollection",t.PYieldCollection)}}function st(i,s){1&i&&(e.TgZ(0,"tab",2),e._UZ(1,"alternateProductTab"),e.qZA()),2&i&&e.Q6J("tabTitle","Alternate Product")}let Me=(()=>{class i{constructor(t,n){this.setting=t,this.masterService=n,this.productObj={},this.AlternateUnits=[],this.RGLIST=[],this.mode="",this.PBarCodeCollection=[],this.PYieldCollection=[],this.PMultipleRetailPrice=[],this.BrandModelList=[],this.subscribeonevalue=0,this.AppMode=C.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(o){alert(o)}}returnsaveObj(t){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I.R),e.Y36(P.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["productmastertab"]],inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits",RGLIST:"RGLIST",mode:"mode",PBarCodeCollection:"PBarCodeCollection",PYieldCollection:"PYieldCollection",PMultipleRetailPrice:"PMultipleRetailPrice",BrandModelList:"BrandModelList",EnableMultiStockLevel:"EnableMultiStockLevel",settingData:"settingData"},decls:14,vars:16,consts:[[1,"col-md-12",2,"margin-left","-10px","margin-top","-15px"],[2,"padding","0px 2px 0px 2px"],[3,"tabTitle"],[3,"productObj","AlternateUnits","mode","returnsaveObj"],[3,"tabTitle",4,"ngIf"],[3,"productObj","PBarCodeCollection","AlternateUnits","returnsaveObj"],[3,"productObj","AlternateUnits","returnsaveObj"],[3,"productObj","returnsaveObj"],[3,"productObj","mode","PMultipleRetailPrice","PBarCodeCollection","AlternateUnits"],[3,"productObj","PYieldCollection","returnsaveObj"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"tabs",1)(2,"tab",2)(3,"Detail_Information",3),e.NdJ("returnsaveObj",function(r){return n.returnsaveObj(r)}),e.qZA()(),e.YNc(4,$e,2,3,"tab",4),e.YNc(5,et,2,2,"tab",4),e.TgZ(6,"tab",2)(7,"barcodetab",5),e.NdJ("returnsaveObj",function(r){return n.returnsaveObj(r)}),e.qZA()(),e.YNc(8,tt,2,2,"tab",4),e.YNc(9,nt,2,6,"tab",4),e.YNc(10,ot,2,2,"tab",4),e.YNc(11,it,2,2,"tab",4),e.YNc(12,rt,2,3,"tab",4),e.YNc(13,st,2,1,"tab",4),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("tabTitle","Detailed Information"),e.xp6(1),e.Q6J("productObj",n.productObj)("AlternateUnits",n.AlternateUnits)("mode",n.mode),e.xp6(1),e.Q6J("ngIf","lite"!=n.AppMode),e.xp6(1),e.Q6J("ngIf","lite"!=n.AppMode),e.xp6(1),e.Q6J("tabTitle","Barcode Mapping"),e.xp6(1),e.Q6J("productObj",n.productObj)("PBarCodeCollection",n.PBarCodeCollection)("AlternateUnits",n.AlternateUnits),e.xp6(1),e.Q6J("ngIf",1==n.masterService.userSetting.EnableProductWiseAccMapping&&"lite"!=n.AppMode),e.xp6(1),e.Q6J("ngIf",1==n.masterService.userSetting.ENABLESINGLEBATCHMODE&&"lite"!=n.AppMode),e.xp6(1),e.Q6J("ngIf","lite"!=n.AppMode),e.xp6(1),e.Q6J("ngIf",0==n.masterService.userSetting.ENABLESINGLEBATCHMODE&&"lite"!=n.AppMode),e.xp6(1),e.Q6J("ngIf",1==n.masterService.userSetting.EnableServiceCharge),e.xp6(1),e.Q6J("ngIf","lite"!=n.AppMode&&1==n.masterService.userSetting.EnableAlternateItem))},encapsulation:2}),i})();const ct=["childModal"],at=["smBrand"],lt=["smModel"],dt=["loginModal"],ut=["brandtree"];function pt(i,s){if(1&i&&(e.TgZ(0,"div",20)(1,"label",21),e._uU(2,"Item Stock :"),e.qZA(),e.TgZ(3,"label",22),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.productObj.AVAILABLESTOCK)}}function ht(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23,24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSave())}),e._uU(2," Save [End] "),e.qZA()}if(2&i){const t=e.MAs(1);e.Q6J("disabled",t.isOldFYearDB())}}function _t(i,s){1&i&&e._UZ(0,"brand-tree",null,25)}let Oe=(()=>{class i{constructor(t,n,o,r,c,a,u,A,T){this._loadingService=t,this._alertService=n,this.ProductService=o,this.masterService=r,this.router=c,this.activatedRoute=a,this.setting=u,this.authservice=A,this.fb=T,this.AlternateUnits=[],this.tab={},this.activeTabEmit=new e.vpe,this.productObj={},this.returnsaveObj=new e.vpe,this.selectedGroupInfo={},this.mode="add",this.DialogMessage="Saving data please wait ...",this.modeTitle="",this.initialTextReadOnly=!1,this.SetDIChecked=!1,this.Units=[],this.RGLIST=[],this.MCat1List=[],this.MCatList=[],this.SupplierList=[],this.KotCategoryList=[],this.BrandList=[],this.ModelList=[],this.AllModelList=[],this.WarehouseList=[],this.PBarCodeCollection=[],this.PYieldCollection=[],this.PMultipleRetailPrice=[],this.BrandModelList=[],this.SelectedModel={},this.subscriptions=[],this.BrandObject={},this.userProfile={},this.showBrand=!1,this.PBarCode={},this.disableSave=!1,this.disableAll=!1,this.imgUrl="",this.accountList=[],this.divisions=[],this.appType=this.masterService.appType,this.userProfile=this.authservice.getUserProfile(),this.OrgType=this.userProfile.CompanyInfo.ORG_TYPE,this.settingData=this.authservice.getSetting();try{this.showBrand=!1,this.AppSettings=this.setting.appSetting,this.SelectedModel.ModelId="";let g=this.masterService.apiUrl;this.imgUrl=g.substring(g.length-3,0),this.masterService.productImgURL=""}catch(g){this._alertService.error(g)}}ngOnChanges(t){if(console.log(this.productObj,"input product obj in ngOnChanges"),t.selectedGroupInfo)if(null!=this.selectedGroupInfo){if("add"==this.tab.mode){if(this.Parent=this.selectedGroupInfo.DESCA,this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.ItemCostCenter=this.selectedGroupInfo.ItemCostCenter,this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.productObj.Divisions=this.selectedGroupInfo.DIVISIONS,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.MENUCODE=this.selectedGroupInfo?.MENUCODE,this.masterService.userSetting.ITEMGROUPCODELEVEL>this.selectedGroupInfo.LEVEL)return this.disableAll=!0,this.productObj.MENUCODE="",void(this.productObj.DESCA="");console.log("product object watch",this.productObj.MCAT),this.disableAll=!1,0==this.masterService.userSetting.AUTOCODEMODE&&this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE,this.selectedGroupInfo.MCAT),this.PBarCodeCollection=[]}else if("edit"==this.tab.mode){if(console.log("selecred group info",this.selectedGroupInfo),this.masterService.userSetting.ITEMGROUPCODELEVEL>this.selectedGroupInfo.LEVEL)return this.disableAll=!0,this.productObj.MENUCODE="",this.productObj.BASEUNIT="",void(this.productObj.MCAT="");this.disableAll=!1,"PRG99999999"==this.selectedGroupInfo.PARENT?(console.log("MAIN GROUP CHANGED",this.selectedGroupInfo.MGROUP,this.tempMGROUP),this.selectedGroupInfo.MGROUP==this.tempMGROUP?this.productObj.MENUCODE=this.tempMENUCODE:1==this.masterService.userSetting.EnableMenucodeGenerationInEdit&&(console.log("generate menu code in edit",this.productObj.MCAT),this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE,this.selectedGroupInfo.MCAT))):(console.log("NOT PARENT PRG99999"),this.masterService.userSetting.ITEMGROUPCODELEVEL>1&&(console.log("not parent  PRG999",this.selectedGroupInfo.MCODE,this.tempPARENT),this.selectedGroupInfo.MCODE==this.tempPARENT?this.productObj.MENUCODE=this.tempMENUCODE:1==this.masterService.userSetting.EnableMenucodeGenerationInEdit&&(console.log("watch mcode in edit",this.productObj.MCAT),this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE,this.selectedGroupInfo.MCAT)))),this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.productObj.Divisions=this.selectedGroupInfo.DIVISIONS,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.ItemCostCenter=this.selectedGroupInfo.ItemCostCenter}}else this.Parent=""}ngAfterViewInit(){this.masterService.getMotherPack().subscribe(t=>{this.BrandList.push(t)}),0===this.AppSettings.GblMultiBrandModel&&this.masterService.getModelList().subscribe(t=>{this.AllModelList.push(t)}),this.masterService.getMCat1List().subscribe(t=>{this.MCat1List.push(t)})}ngOnInit(){0==this.masterService.userSetting.MANUALCODE?setTimeout(()=>{document.getElementById("mainGroup").focus()},500):setTimeout(()=>{document.getElementById("productCode").focus()},500),"add"==this.tab.mode&&this.uniqueKey(),this.form=this.fb.group({MENUCODE:["",d.kI.required]});try{this.mode=this.tab.mode,this.productObj.Weighable="kg",this.productObj.COLOR="",this.productObj.VOLUME="",this.productObj.SETTING="no",this.productObj.STATUS=1,this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0;let t=this;this.productObj.ItemRateDiscount={},this.productObj.MultiStockLevels=[],this.masterService.getDivs().subscribe(n=>{this.divisions=n}),null!=this.tab.mode&&null!=this.tab.mcode?(this._loadingService.show("Please wait.Loading Data"),this.ProductService.getProductForEdit(this.tab.mcode).subscribe(n=>{if(console.log("get product for edit !!@@",n),"ok"===n.status){this.masterService.isAddFormShown_1=!0,this.productObj=n.result,console.log("product check after edit",this.productObj),this.masterService.ProductMcode=this.productObj.MCODE,this.productObj.AlternateProducts=n.result.AlternateProducts,this.masterService.alternateProducts=n.result.AlternateProducts,this.productObj.MARGIN=this.productObj.RECRATE,this.ProductService.pObj.RecMarginOnPRate=n.result.PRATE_A>0?100*(n.result.RATE_A-n.result.PRATE_A)/n.result.PRATE_A:0,this.productObj.ItemWisePrice.forEach(r=>{r.EXPDATE="0001-01-01T00:00:00"==r.EXPDATE?"":r.EXPDATE.toString().substring(0,10)}),this.ProductService.pObj.RecMarginOnRate=this.productObj.SMARGIN,this.ProductService.TempProductObj.RATE_A=Number(n.result.RATE_A).toFixed(2),this.ProductService.TempProductObj.RATE_B=Number(n.result.RATE_B).toFixed(2),this.ProductService.TempProductObj.RATE_C=Number(n.result.RATE_C).toFixed(2),this.ProductService.TempProductObj.PRATE_A=Number(n.result.PRATE_A).toFixed(2),this.ProductService.TempProductObj.IN_RATE_A=Number(n.result.IN_RATE_A).toFixed(2),this.ProductService.TempProductObj.IN_PRATE_A=Number(n.result.IN_PRATE_A).toFixed(2),this.ProductService.TempProductObj.IN_RATE_B=Number(n.result.IN_RATE_B).toFixed(2),this.ProductService.TempProductObj.IN_RATE_C=Number(n.result.IN_RATE_C).toFixed(2),this.ProductService.TempProductObj.ECSRATE=n.result.ECSRATE,this.masterService.isGroup=!1,this.masterService.editMode=!0,this.masterService.productImgURL=this.imgUrl+this.productObj.ImageUpload+"",this.tempMGROUP=this.productObj.MGROUP,this.tempMENUCODE=this.productObj.MENUCODE,this.tempPARENT=this.productObj.PARENT,this.PMultipleRetailPrice=this.productObj.MultipleRetailPrice,console.log("product parent",this.productObj.PARENT),this.ProductService.getProductInfo(this.productObj.PARENT).subscribe(r=>{this.selectedGroupInfo=r.result[0],"edit"==this.mode&&1==this.masterService.userSetting.AUTOCODEMODE&&(this.selectedGroupInfo.MENUCODE=this.productObj.MENUCODE,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP),console.log("seleccted group ma haleko",this.selectedGroupInfo)});let o=n.result2[0];if(this.masterService.groupSelectObj.MGROUP=o.L1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.MGROUP).subscribe(r=>{r.length>0?(this.masterService.subGroupAList=r,this.masterService.groupSelectObj.SUBGROUP_A=o.L2,this.masterService.disabledSubgroupA=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_A).subscribe(c=>{c.length>0?(this.masterService.subGroupBList=c,this.masterService.groupSelectObj.SUBGROUP_B=o.L3,this.masterService.disabledSubgroupB=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_B).subscribe(a=>{a.length>0?(this.masterService.subGroupCList=a,this.masterService.groupSelectObj.SUBGROUP_C=o.L4,this.masterService.disabledSubgroupC=!1):this.masterService.disabledSubgroupC=!0})):this.masterService.disabledSubgroupB=!0})):this.masterService.disabledSubgroupA=!0}),this.productObj.SupplierName&&(this.ProductService.suppilierName=this.productObj.SupplierName),this.productObj.SUPCODE&&!this.productObj.SupplierName&&this.masterService.getCustomerByACID(this.productObj.SUPCODE).subscribe(r=>{r&&(this.ProductService.suppilierName=r[0].ACNAME)}),0==this.masterService.nullToZeroConverter(this.productObj.DISAMOUNT)?(this.ProductService.pObj.DiscountValue=this.productObj.DISRATE,this.ProductService.pObj.Dismode=1):0==this.masterService.nullToZeroConverter(this.productObj.DISRATE)&&(this.ProductService.pObj.DiscountValue=this.productObj.DISAMOUNT,this.ProductService.pObj.Dismode=0),this.ProductService.checkProductTransaction(this.tab.mcode).subscribe(r=>{this.masterService.disableOnCheckTran="BLOCK"==r}),1==this.masterService.userSetting.EnableProductWiseAccMapping&&this.masterService.getAcList().subscribe(r=>{this.accountList=r;let c=this.accountList.filter(a=>a.ACID==this.productObj.SAC||a.ACID==this.productObj.SRAC||a.ACID==this.productObj.PAC||a.ACID==this.productObj.PRAC);c.length>0&&(this.productObj.SAC_ACNAME=c.filter(a=>a.ACID==this.productObj.SAC).length>0?c.filter(a=>a.ACID==this.productObj.SAC)[0].ACNAME:"",this.productObj.SRAC_ACNAME=c.filter(a=>a.ACID==this.productObj.SRAC).length>0?c.filter(a=>a.ACID==this.productObj.SRAC)[0].ACNAME:"",this.productObj.PAC_ACNAME=c.filter(a=>a.ACID==this.productObj.PAC).length>0?c.filter(a=>a.ACID==this.productObj.PAC)[0].ACNAME:"",this.productObj.PRAC_ACNAME=c.filter(a=>a.ACID==this.productObj.PRAC).length>0?c.filter(a=>a.ACID==this.productObj.PRAC)[0].ACNAME:"")}),this.ProductService.isrowClicked=!0,this.BrandObject=this.BrandList.filter(r=>r.BrandId===n.result.BRAND)[0],t.mode="edit",t.modeTitle="Edit Product",t.initialTextReadOnly=!0,this.productObj.Location=n.result.SelectedLocationList,n.result.Divisions){let c=n.result.Divisions.split(",").map(a=>({INITIAL:a,NAME:this.getDivisionName(a)}));this.productObj.Divisions=c}this._loadingService.hide()}else this.mode="",this.modeTitle="Edit -Error in Product",this.initialTextReadOnly=!0},n=>{this._loadingService.hide(),this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - getProductForEdit")}),this.ProductService.getListFromKey("/GetMultiBrandModeByMCode/",this.tab.mcode).subscribe(n=>{if("ok"===n.status){let o=n.result;this.BrandModelList=[],o.forEach(r=>{this.BrandModelList.push(r)})}},n=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - getMultiBrandModelForEdit")}),this.ProductService.getListFromKey("/GetAlternateUnitList/",this.tab.mcode).subscribe(n=>{"ok"===n.status&&n.result.forEach(r=>{this.AlternateUnits.push(r)})},n=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - GetAlternateUnitListForEdit")}),this.ProductService.getListFromKey("/GetBarcodeMappingList/",this.tab.mcode).subscribe(n=>{"ok"===n.status&&n.result.forEach(r=>{this.PBarCodeCollection.push(r)})},n=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - GetBarcodeMappingListForEdit")}),this.ProductService.getListFromKey("/getProductYield/",this.tab.mcode).subscribe(n=>{"ok"===n.status&&n.result.forEach(r=>{this.PYieldCollection.push(r)})},n=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - GetYieldListForEdit")}),console.log("barcode mapping on edit",this.PBarCodeCollection)):(console.log("product new"),this.productObj.guid=re(),this.mode="add",this.modeTitle="Add Product",this.initialTextReadOnly=!1,this._loadingService.hide())}catch(t){this._alertService.error(t)}}onChangeProdCode(t){1==this.masterService.userSetting.MANUALCODE&&(this.productObj.MENUCODE=t)}uniqueKey(){(0==this.masterService.userSetting.MANUALCODE||1==this.masterService.userSetting.MANUALCODE)&&(console.log("CheckProfdu",this.masterService.TreeID,this.masterService.SelectedProductGrpID),this.masterService.TreeID&&(console.log("seleced group ID",this.getTreeNodeValueObj.id),(1==this.masterService.userSetting.AUTOCODEMODE||0==this.masterService.userSetting.MANUALCODE)&&this.ProductService.getAutoGenerateMenuCode(this.masterService.TreeID,this.masterService.SelectedProductGrpID).subscribe(t=>{"ok"==t.status&&(this.productObj.MENUCODE=t.result)}),this.masterService.SelectedProductGrpID&&(this.ProductService.getProductInfo(this.masterService.SelectedProductGrpID).subscribe(t=>{this.selectedGroupInfo=t.result[0],this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,console.log("divisions",this.selectedGroupInfo.DIVISIONS),this.productObj.Divisions=this.selectedGroupInfo.DIVISIONS,this.selectedGroupInfo.MENUCODE=this.productObj.MENUCODE,this.productObj.ItemCostCenter=this.selectedGroupInfo.ItemCostCenter}),this.ProductService.getGroupHierarchy(this.getTreeNodeValueObj.id).subscribe(t=>{let n=t[0];this.masterService.groupSelectObj.MGROUP=n.L1,this.productObj.MGROUP=n.L1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.MGROUP).subscribe(o=>{o.length>0?(this.masterService.subGroupAList=o,this.masterService.groupSelectObj.SUBGROUP_A=n.L2,this.masterService.disabledSubgroupA=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_A).subscribe(r=>{r.length>0?(this.masterService.subGroupBList=r,this.masterService.groupSelectObj.SUBGROUP_B=n.L3,this.masterService.disabledSubgroupB=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_B).subscribe(c=>{c.length>0?(this.masterService.subGroupCList=c,this.masterService.groupSelectObj.SUBGROUP_C=n.L4,this.masterService.disabledSubgroupC=!1):this.masterService.disabledSubgroupC=!0})):this.masterService.disabledSubgroupB=!0})):this.masterService.disabledSubgroupA=!0})}))))}generateUniqueKey(t,n,o){1==this.masterService.userSetting.AUTOCODEMODE?this.ProductService.getAutoGenerateMenuCode(t,n,o).subscribe(r=>{"ok"==r.status&&(this.productObj.MENUCODE=r.result,this.selectedGroupInfo.MENUCODE=r.result)}):this.ProductService.getAutoGenerateMenuCode(t,n).subscribe(r=>{"ok"==r.status&&(this.productObj.MENUCODE=r.result)})}ngOnDestroy(){try{this.subscriptions.forEach(t=>{t.unsubscribe()})}catch(t){this._alertService.error(t)}}onSave(){try{if(this.masterService.userSetting.ITEMGROUPCODELEVEL>1&&this.masterService.userSetting.ITEMGROUPCODELEVEL>this.masterService.ITEM_LEVEL)return void this._alertService.info("Cannot Add Product In This Level!!");this.onSaveClicked()}catch(t){this._alertService.error(t)}}onSaveClicked(){if(1==this.masterService.userSetting.EnableItemWiseLocationMapping&&this.productObj?.Location){let t=[];this.productObj?.Location.forEach(n=>{t.push(n.NAME)}),this.productObj.Location=t.length>0?t.toString():""}else this.productObj.Location="";if(Array.isArray(this.productObj?.Divisions)){const t=this.productObj.Divisions.map(n=>n.INITIAL).join(",")||"";this.productObj.Divisions=t}else this.productObj.Divisions="";try{if(null!=this.productObj.SubCatA&&""!=this.productObj.SubCatA&&null!=this.productObj.SubCatA||null!=this.productObj.SubCatB&&""!=this.productObj.SubCatB&&null!=this.productObj.SubCatB?""==this.productObj.SubCatA&&null==this.productObj.SubCatA&&null==this.productObj.SubCatA||""!=this.productObj.SubCatB&&null!=this.productObj.SubCatB&&null!=this.productObj.SubCatB?(""!=this.productObj.SubCatB||null!=this.productObj.SubCatB||null!=this.productObj.SubCatB)&&(this.productObj.MCAT=this.productObj.SubCatB):this.productObj.MCAT=this.productObj.SubCatA:this.productObj.MCAT=this.productObj.MCAT,this.productObj.PCL="pc002",this.productObj.TYPE="A",this.productObj.LEVELS=0,"edit"!=this.mode&&(this.productObj.MCODE=this.productObj.MENUCODE),1==this.masterService.userSetting.AUTOCODEMODE&&(this.productObj.MENUCODE?this.selectedGroupInfo.MENUCODE=this.productObj.MENUCODE:this.productObj.MENUCODE=this.selectedGroupInfo.MENUCODE,this.productObj.MGROUP=this.masterService.groupSelectObj.MGROUP),1==this.masterService.userSetting.AUTOCODEMODE&&(this.masterService.groupSelectObj.SUBGROUP_B?this.productObj.PARENT=this.masterService.groupSelectObj.SUBGROUP_B:""!=this.masterService.groupSelectObj.SUBGROUP_B&&null!=this.masterService.groupSelectObj.SUBGROUP_B&&null!=this.masterService.groupSelectObj.SUBGROUP_B||!this.masterService.groupSelectObj.SUBGROUP_A?(""==this.masterService.groupSelectObj.SUBGROUP_B||null==this.masterService.groupSelectObj.SUBGROUP_B||null==this.masterService.groupSelectObj.SUBGROUP_B)&&(""==this.masterService.groupSelectObj.SUBGROUP_A||null==this.masterService.groupSelectObj.SUBGROUP_A||null==this.masterService.groupSelectObj.SUBGROUP_A)&&this.masterService.groupSelectObj.MGROUP&&(this.productObj.PARENT=this.masterService.groupSelectObj.MGROUP):this.productObj.PARENT=this.masterService.groupSelectObj.SUBGROUP_A),!this.masterService.groupSelectObj.MGROUP)return void this._alertService.warning("Major group is required for the item");if(1!=this.masterService.userSetting.AUTOCODEMODE&&!this.productObj.MGROUP)return void this._alertService.warning("Major group is required for the item");if(!this.productObj.BASEUNIT)return void this._alertService.warning("Base unit is required");if(!this.productObj.DISMODE)return void this._alertService.warning("Discount Mode is required");if(!this.productObj.MCAT&&1!=this.masterService.userSetting.AUTOCODEMODE)return void this._alertService.warning("Category is required");if(this.productObj.ROLEVEL<this.productObj.MINLEVEL)return void this._alertService.warning("Re-Order level cannot be less than Min-stock level");if(this.productObj.ROLEVEL>this.productObj.MAXLEVEL)return void this._alertService.warning("Re-Order level cannot be greater than Max-stock level");if(this.productObj.MINLEVEL>this.productObj.MAXLEVEL)return void this._alertService.warning("Min-stock level cannot be greater than Max-stock level");if("edit"!=this.mode&&(this.productObj.FCODE=1==this.masterService.userSetting.MANUALCODE?0:Number(this.productObj.MENUCODE)),"edit"==this.mode&&this.productObj.MENUCODE!=this.tempMENUCODE){let o={};o.BCODE=this.productObj.MENUCODE,o.MCODE=this.productObj.MCODE,o.UNIT=this.productObj.BASEUNIT,o.MRP=this.productObj.IN_RATE_A,o.MRP_WO_VAT=this.productObj.RATE_A,o.SRATE=this.productObj.RATE_A,o.DISCONTINUE=0,console.log("new brcode",o);let r=this.PBarCodeCollection.filter(c=>c.BCODE==this.productObj.MENUCODE);console.log("duplicatebc",r),0==r.length&&this.PBarCodeCollection.push(o),this.PBarCodeCollection.forEach(c=>{c.BCODE==this.tempMENUCODE&&(c.DISCONTINUE=1)})}if(this.SetDIChecked=!0,""===this.productObj.MENUCODE||null==this.productObj.MENUCODE||void 0===this.productObj.MENUCODE)return void this._alertService.error("Product Code is required");if(""===this.productObj.DESCA||null==this.productObj.DESCA||void 0===this.productObj.DESCA)return void this._alertService.error("Product Name is required");let t=this.productObj;t.Parent=null,this._loadingService.show("Please wait! Saving Product"),this.productObj.RECRATE=this.productObj.MARGIN,this.productObj.MARGIN=this.ProductService.pObj.RecMarginOnPRate,this.productObj.SMARGIN=this.ProductService.pObj.RecMarginOnPRate,this.productObj.MRP=this.productObj.IN_RATE_A,"add"===this.mode&&this.AddBCode(),this.returnsaveObj.emit(this.productObj),1==this.masterService.userSetting.EnableProductWiseAccMapping&&((null===t.SAC||""===t.SAC||void 0===t.SAC)&&(t.SAC=this.masterService.userSetting.SalesAc),(null===t.SRAC||""===t.SRAC||void 0===t.SRAC)&&(t.SRAC=this.masterService.userSetting.SalesReturnAc),(null===t.PAC||""===t.PAC||void 0===t.PAC)&&(t.PAC=this.masterService.userSetting.PurchaseAc),(null===t.PRAC||""===t.PRAC||void 0===t.PRAC)&&(t.PRAC=this.masterService.userSetting.PurchaseReturnAc)),1==this.masterService.userSetting.EnableAlternateItem&&(this.productObj.AlternateProducts=this.masterService.alternateProducts);let n=this.masterService.saveProduct(this.mode,t,this.RGLIST,this.AlternateUnits,this.PBarCodeCollection,this.BrandModelList,this.PMultipleRetailPrice,this.PYieldCollection).subscribe(o=>{if("ok"===o.status)this.productObj.MENUCODE="",this.productObj.MCODE="",this.productObj.BRAND="",this.productObj.DESCA="",this.productObj.Description="",this.productObj.BRANDCODE="",this.productObj.GWEIGHT="",this.productObj.LENGTH=null,this.productObj.WIDTH=null,this.productObj.BREADTH=null,this.productObj.SHELFLIFE=0,this.productObj.MRP=0,this.productObj.DESCB="",this.productObj.PTYPE=0,this.productObj.BASEUNIT="",this.productObj.SUPCODE=null,this.productObj.SUPITEMCODE="",this.productObj.PRATE_A=0,this.productObj.DISMODE="",this.productObj.IN_RATE_A=0,this.productObj.IN_RATE_B=0,this.productObj.IN_RATE_C=0,this.productObj.RATE_A=0,this.productObj.RATE_B=0,this.productObj.RATE_C=0,this.productObj.ISUNKNOWN=0,this.productObj.ISAMOUNTWISEBILL=0,this.productObj.REQEXPDATE=0,this.productObj.IsQtyUnknown=0,this.productObj.HASSERVICECHARGE=0,this.productObj.HASECSCHARGE=0,this.productObj.Description="",this.ProductService.suppilierName="",this.productObj.SHELFLIFE=0,this.productObj.guid=re(),this.productObj={},this.AlternateUnits=[],this.PBarCodeCollection=[],this.PMultipleRetailPrice=[],this.PYieldCollection=[],this.selectedGroupInfo.MENUCODE="",this.masterService.isAddFormShown_1=!1,this.masterService.alternateProducts=[],1==this.masterService.userSetting.EnableProductWiseAccMapping&&this.masterService.getSalesInfo().subscribe(r=>{const c=Object.values(r);let a=c.filter(g=>g.ACID==this.masterService.userSetting.SalesAc);this.productObj.SAC_ACNAME=a[0].ACNAME;let u=c.filter(g=>g.ACID==this.masterService.userSetting.SalesReturnAc);this.productObj.SRAC_ACNAME=u[0].ACNAME;let A=c.filter(g=>g.ACID==this.masterService.userSetting.PurchaseAc);this.productObj.PAC_ACNAME=A[0].ACNAME;let T=c.filter(g=>g.ACID==this.masterService.userSetting.PurchaseReturnAc);this.productObj.PRAC_ACNAME=T[0].ACNAME}),this._loadingService.hide(),this._alertService.success("Saved Successfully"),console.log("PRODOBJ",this.productObj),setTimeout(()=>{confirm("Do you want to continue adding products to this group ?")?(console.log("selectedGroup after save",this.selectedGroupInfo,this.productObj,this.masterService.groupSelectObj.MGROUP),this.mode="add",this.generateUniqueKey(1==this.masterService.userSetting.AUTOCODEMODE?this.selectedGroupInfo.MCODE:this.selectedGroupInfo.MGROUP,1==this.masterService.userSetting.AUTOCODEMODE?this.selectedGroupInfo.MCODE:this.selectedGroupInfo.MGROUP,1==this.masterService.userSetting.AUTOCODEMODE?"":this.selectedGroupInfo.MCAT),this.ProductService.TempProductObj.RATE_A=null,this.ProductService.TempProductObj.RATE_B=null,this.ProductService.TempProductObj.RATE_C=null,this.ProductService.TempProductObj.PRATE_A=null,this.ProductService.TempProductObj.IN_RATE_A=null,this.ProductService.TempProductObj.IN_PRATE_A=null,this.ProductService.TempProductObj.IN_RATE_B=null,this.ProductService.TempProductObj.IN_RATE_C=null,this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0,this.ProductService.pObj.Dismode=1,this.productObj.discontinueCheckbox=!1,this.productObj.DISMODE="Discountable",this.productObj.PRATE_A=0,this.productObj.IN_RATE_A=0,this.productObj.SHELFLIFE=0,this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.ItemCostCenter=this.selectedGroupInfo.ItemCostCenter,this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.productObj.Divisions=this.selectedGroupInfo.DIVISIONS,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.guid=re(),this.masterService.getPTypeList().subscribe(r=>{r&&(console.log("PTYPE GETT",r),this.productObj.PTYPE=r[0].PTYPEID)})):(this.ProductService.getProductInfo("PRG99999999").subscribe(r=>{this.selectedGroupInfo=r.result[0]}),this.routeToHome(),this.ProductService.sortProduct="sortItemDate")},1e3);else{if("The ConnectionString property has not been initialized."===o.result._body)return this._loadingService.hide(),void this.router.navigate(["/login",this.router.url]);this._loadingService.hide(),this._alertService.error(o.result.error)}},o=>{this._loadingService.hide(),this._alertService.error(o)});this.subscriptions.push(n)}catch(t){alert(t)}}onCancel(){try{this.routeToHome()}catch(t){this._alertService.error(t)}}routeToHome(t=null,n=null){this.productObj={};let o={name:"productlist",active:!0};o.mode=n,o.from="product",o.savedValue=t,this.activeTabEmit.emit(o),this.masterService.groupSelectObj={},this.masterService.subGroupAList=[],this.masterService.subGroupBList=[],this.masterService.subGroupCList=[],this.selectedGroupInfo=void 0,this.masterService.SelectedProductGrpID="",this.masterService.TreeID="",this.productObj.MENUCODE=""}onSelectColor(t){this.selectedColor=t.target.value,this.productObj.COLOR=this.selectedColor}onSelectVolume(t){this.selectedVolume=t.target.value,this.productObj.DIMENSION=this.selectedVolume}onSelectSstting(t){this.selectedSetting=t.target.value,this.productObj.SIZE=this.selectedSetting}SaveModel(t,n){try{this.ProductService.saveModel({ModelName:t,BrandId:n}).subscribe(r=>{"ok"===r.status&&(this.ModelList.push(r.result),this.smModel.hide())})}catch(o){this._alertService.error(o)}}hideloginModal(){try{this.loginModal.hide()}catch(t){this._alertService.error(t)}}hideChildModal(){try{this.childModal.hide()}catch(t){this._alertService.error(t)}}changeDisStat(){"NONDISCOUNT"===this.productObj.DISMODE?(this.isDisabled=!0,this.productObj.DISAMOUNT=null,this.productObj.DISRATE=null):this.isDisabled=!1}onChangeSellingPrice(t){this.productObj.MRP=0,this.productObj.MRP=this.productObj.IN_RATE_A+this.productObj.IN_RATE_A*this.setting.appSetting.VATRate}onChangeMRP(t){this.productObj.IN_RATE_A=0,this.productObj.IN_RATE_A=this.productObj.MRP/(1+this.setting.appSetting.VATRate)}focusProductName(){setTimeout(()=>{document.getElementById("productName").focus()},0)}getDivisionName(t){if(!t)return null;const n=this.divisions.find(o=>o.INITIAL==t);return n?n.NAME:"Unknown Division"}AddBCode(){try{this.PBarCodeCollection.forEach(n=>{n.MRP=this.productObj.IN_RATE_A,n.MRP_WO_VAT=this.productObj.RATE_A,n.SRATE=this.productObj.RATE_A}),this.PBarCode.BCODE=null==this.productObj.BARCODE||"0"===this.productObj.BARCODE||void 0===this.productObj.BARCODE?this.productObj.MENUCODE:this.productObj.BARCODE,this.PBarCode.MCODE=this.productObj.MCODE,this.PBarCode.UNIT=this.productObj.BASEUNIT,this.PBarCode.MRP=this.productObj.IN_RATE_A,this.PBarCode.MRP_WO_VAT=this.productObj.RATE_A,this.PBarCode.SRATE=this.productObj.RATE_A,this.PBarCode.DISCONTINUE=0,this.PBarCode.ISDEFAULT=1,0==this.PBarCodeCollection.filter(n=>n.BCODE==this.productObj.MENUCODE).length&&this.PBarCodeCollection.push(this.PBarCode)}catch(t){console.log(t),alert(t)}}handleKeyDownboardEvent(t){"End"==t.code&&(t.preventDefault(),this.onSave())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.V),e.Y36(v.c),e.Y36(h.L),e.Y36(P.P),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.R),e.Y36(M.e),e.Y36(d.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["addproductmaster"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ct,5),e.Gf(at,5),e.Gf(lt,5),e.Gf(dt,5),e.Gf(ut,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.childModal=o.first),e.iGM(o=e.CRH())&&(n.smBrand=o.first),e.iGM(o=e.CRH())&&(n.smModel=o.first),e.iGM(o=e.CRH())&&(n.loginModal=o.first),e.iGM(o=e.CRH())&&(n.brandtree=o.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(r){return n.handleKeyDownboardEvent(r)},!1,e.evT)},inputs:{AlternateUnits:"AlternateUnits",tab:"tab",ProductHomeTabs:"ProductHomeTabs",getTreeNodeValueObj:"getTreeNodeValueObj",productObj:"productObj",colorLists:"colorLists",isAddFormShown:"isAddFormShown",selectedGroupInfo:"selectedGroupInfo"},outputs:{activeTabEmit:"activeTabEmit",returnsaveObj:"returnsaveObj"},features:[e._Bn([h.L]),e.TTD],decls:23,vars:19,consts:[[1,"row",2,"margin-left","15px","background","white","margin-top","5px","padding-bottom","15px"],[1,"col-lg-12"],[2,"width","100%","border","none","padding","0","margin","0","overflow","scroll","overflow-x","hidden","height","80vh",3,"disabled"],[1,"row",2,"margin-left","5px","align-items","end"],[1,"col-md-10",2,"padding","5px"],[1,"row",2,"margin-left","5px"],[1,"col-md-5",2,"margin-left","-15px"],[1,"label-class"],["id","productCode","type","text","autocomplete","off",2,"width","150px","margin-left","1.5%",3,"ngModel","readonly","disabled","keydown.tab","ngModelChange"],[1,"col-md-12","row"],[1,"col-md-9","pd0",2,"margin-left","-15px"],["id","productName","type","text","autocomplete","off",2,"width","80%","margin-left","5px",3,"ngModel","disabled","ngModelChange"],["class","col-md-3 pd0",4,"ngIf"],[1,"row"],[1,"col-md-2"],["appOldFYearDB","","type","button","style","font-size: 12px; width: 83px; ","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"row",2,"height","120px"],[2,"width","100%"],[3,"productObj","AlternateUnits","RGLIST","PBarCodeCollection","PYieldCollection","BrandModelList","settingData","PMultipleRetailPrice","mode","EnableMultiStockLevel"],[4,"ngIf"],[1,"col-md-3","pd0"],[1,"stockLabel"],[1,"stockLabel",2,"font-size","14px"],["appOldFYearDB","","type","button",1,"btn","btn-info",2,"font-size","12px","width","83px",3,"disabled","click"],["isOldFYearDB","appOldFYearDB"],["brandTree",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"fieldset",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e._uU(8,"Product Code :"),e.qZA(),e.TgZ(9,"input",8),e.NdJ("keydown.tab",function(){return n.focusProductName()})("ngModelChange",function(r){return n.onChangeProdCode(r)})("ngModelChange",function(r){return 1==n.masterService.userSetting.AUTOCODEMODE&&"add"==n.mode?null==n.selectedGroupInfo?null:n.selectedGroupInfo.MENUCODE:n.productObj.MENUCODE=r}),e.qZA()()(),e.TgZ(10,"div",9)(11,"div",10)(12,"label",7),e._uU(13,"Product Name :"),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(r){return n.productObj.DESCA=r}),e.qZA()(),e.YNc(15,pt,5,1,"div",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,ht,3,1,"button",15),e.qZA()()(),e.TgZ(19,"div",16)(20,"div",17),e._UZ(21,"productmastertab",18),e.qZA()()()()(),e.YNc(22,_t,2,0,"brand-tree",19)),2&t&&(e.xp6(2),e.Q6J("disabled","view"==n.tab.mode||n.disableAll),e.xp6(7),e.Q6J("ngModel",1==n.masterService.userSetting.AUTOCODEMODE&&"add"==n.mode?null==n.selectedGroupInfo?null:n.selectedGroupInfo.MENUCODE:n.productObj.MENUCODE)("readonly",0==n.masterService.userSetting.MANUALCODE)("disabled","edit"==n.mode&&0==n.masterService.userSetting.MANUALCODE||"view"==n.mode),e.xp6(5),e.Q6J("ngModel",n.productObj.DESCA)("disabled","view"==n.mode),e.xp6(1),e.Q6J("ngIf","view"==n.tab.mode&&1==n.masterService.userSetting.ShowStockInProductMaster),e.xp6(3),e.Q6J("ngIf","view"!=n.tab.mode),e.xp6(3),e.Q6J("productObj",n.productObj)("AlternateUnits",n.AlternateUnits)("RGLIST",n.RGLIST)("PBarCodeCollection",n.PBarCodeCollection)("PYieldCollection",n.PYieldCollection)("BrandModelList",n.BrandModelList)("settingData",n.settingData)("PMultipleRetailPrice",n.PMultipleRetailPrice)("mode",n.tab.mode)("EnableMultiStockLevel",n.EnableMultiStockLevel),e.xp6(1),e.Q6J("ngIf",n.showBrand))},dependencies:[p.O5,d.Fj,d.JJ,d.On,B.G,L.H,Me],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",".label-class[_ngcontent-%COMP%] {\n    width: 96px;\n  }\n\n  .stockLabel[_ngcontent-%COMP%] {\n    width: 5rem;\n    font-weight: bold;\n  }"]}),i})();var se=l(30324);const gt=["childModal"];function mt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSave())}),e._uU(1,"Save"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled","MI"==t.productObj.PARENT&&(null==t.productObj.FCODE||t.productObj.FCODE<0)||null==t.productObj.DESCA||""==t.productObj.DESCA||"view"==t.tab.mode)}}function ft(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",21),e._uU(2,"Group Code : "),e.qZA(),e.TgZ(3,"div",10)(4,"input",22),e.NdJ("keypress",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.keyPress(o))})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.MENUCODE=o)}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("type",2==t.masterService.userSetting.AUTOCODEMODE?"text":"number")("ngModel",t.productObj.MENUCODE)("disabled","view"==t.tab.mode||1==t.hasSubGrpOrItem)}}const Ae=function(){return{standalone:!0}};function bt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",23),e._uU(2,"Division Mapping: "),e.qZA(),e.TgZ(3,"div",10)(4,"ng-multiselect-dropdown",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selecteddivisions=o)}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("placeholder","Select Divisions")("settings",t.divisionsdropdownSettings)("data",t.divisions)("ngModelOptions",e.DdM(5,Ae))("ngModel",t.selecteddivisions)}}function Ct(i,s){if(1&i&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.MENUCAT),e.xp6(1),e.Oqu(t.MENUCAT)}}function Tt(i,s){if(1&i&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.CCID),e.xp6(1),e.Oqu(t.COSTCENTERNAME)}}function Mt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",14),e._uU(2,"Cost Center : "),e.qZA(),e.TgZ(3,"div",10)(4,"select",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.itemCostCenterDisplay=o)}),e._UZ(5,"option",16),e.YNc(6,Tt,2,2,"option",17),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.itemCostCenterDisplay)("disabled","view"==t.tab.mode),e.xp6(2),e.Q6J("ngForOf",t.costLists)}}function Ot(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",26),e._uU(2,"User Name : "),e.qZA(),e.TgZ(3,"div",10)(4,"ng-multiselect-dropdown",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.USER=o)})("onSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onItemSelect(o))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("placeholder","Select User Name")("settings",t.usernamedropdownSettings)("ngModel",t.productObj.USER)("data",t.userLists)("ngModelOptions",e.DdM(6,Ae))("disabled","view"==t.tab.mode)}}function At(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",28),e._uU(2,"Alias : "),e.qZA(),e.TgZ(3,"div",10)(4,"input",29),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ALIAS=o)}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.productObj.ALIAS)("disabled","view"==t.tab.mode)}}function Pt(i,s){if(1&i&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.MENUCAT),e.xp6(1),e.Oqu(t.MENUCAT)}}function St(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",30),e._uU(2,"Extra Category : "),e.qZA(),e.TgZ(3,"div",10)(4,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.MCAT1=o)}),e._UZ(5,"option",16),e.YNc(6,Pt,2,2,"option",17),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.productObj.MCAT1)("disabled","view"==t.tab.mode),e.xp6(2),e.Q6J("ngForOf",t.MCat1List)}}function vt(i,s){1&i&&(e.TgZ(0,"label",32),e._uU(1,"Billing Display : "),e.qZA())}function Et(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.BillingDisplay=o)})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.BillingDisplay=o.target.checked?1:0)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.productObj.BillingDisplay)("disabled","view"==t.tab.mode)}}let Pe=(()=>{class i{constructor(t,n,o,r,c,a,u){this.ProductService=t,this.masterService=n,this.router=o,this.activatedRoute=r,this.setting=c,this._alertService=a,this.loadingService=u,this.tab={},this.productObj={},this.activeTabEmit=new e.vpe,this.DialogMessage="Saving data please wait ...",this.mode="add",this.modeTitle="",this.WarehouseList=[],this.UserList=[],this.MCatList=[],this.MCat1List=[],this.userLists=[],this.selectedItem=[],this.divisions=[],this.selecteddivisions=[],this.divisionsdropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"INITIAL",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!1,maxHeight:200},this.AppMode=C.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(A){alert(A)}}ngOnInit(){this.getCostCenter(),this.usernamedropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"username",textField:"username",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:7,allowSearchFilter:!0,maxHeight:100},"addgroup"==this.groupType?0==this.masterService.userSetting.ITEMGROUPCODELEVEL||1==this.masterService.userSetting.ITEMGROUPCODELEVEL?setTimeout(()=>{document.getElementById("GC").focus()},1200):setTimeout(()=>{document.getElementById("GN").focus()},500):this.masterService.ITEM_LEVEL+1==this.masterService.userSetting.ITEMGROUPCODELEVEL?setTimeout(()=>{document.getElementById("GC").focus()},1200):setTimeout(()=>{document.getElementById("GN").focus()},500);try{this.masterService.getWarehouseList().subscribe(t=>{this.WarehouseList=t}),this.masterService.getMCatList().subscribe(t=>{this.MCatList=t}),this.masterService.getMCat1List().subscribe(t=>{this.MCat1List=t}),this.masterService.getUserList().subscribe(t=>{"ok"==t.status&&(this.userLists=t.result)},t=>{this.userLists=[]}),this.productObj.Par={},this.productObj.MajorGroup={},this.productObj.ALIAS=null,"addgroup"==this.groupType?(this.productObj.MajorGroup.DESCA="Products",this.productObj.PARENT="PRG99999999",this.getTreeNodeValueObj={},this.getTreeNodeValueObj.id="PRG99999999"):(this.productObj.MajorGroup.DESCA=this.getTreeNodeValueObj.name,this.productObj.PARENT=this.getTreeNodeValueObj.id),this.masterService.getDivs().subscribe(t=>{this.divisions=t}),"add"==this.tab.mode?(this.getTreeNodeValueObj.id="addgroup"==this.groupType?this.getTreeNodeValueObj.id="PRG99999999":this.getTreeNodeValueObj.id,this.ProductService.getInitialValuesForNewProduct(this.getTreeNodeValueObj.id).subscribe(t=>{"ok"==t.status&&(this.productObj.Par=t.result.parent,this.itemCostCenterDisplay=t.result.parent.ItemCostCenter,null==this.productObj.MajorGroup&&(this.productObj.MajorGroup={}))},t=>{this.masterService.resolveError(t,"addproductGroup (ProductMaster) - getInitialValuesForNewProduct")}),this.ProductService.getMCATbyId(this.getTreeNodeValueObj.id).subscribe(t=>{t.length>0&&(this.productObj.MCAT=t[0].MCAT)}),this.ProductService.getMCAT1byId(this.getTreeNodeValueObj.id).subscribe(t=>{t.length>0&&(this.productObj.MCAT1=t[0].MCAT1)}),this.ProductService.getRecMargin(this.getTreeNodeValueObj.id).subscribe(t=>{if(t.length>0){this.productObj.RECRATE=t[0].MARGIN,this.productObj.Divisions=t[0].DIVISIONS;const n=this.productObj.Divisions.split(",");this.selecteddivisions=n.map(o=>({INITIAL:o,NAME:this.getDivisionName(o)}))}})):("edit"==this.tab.mode||"view"==this.tab.mode)&&(this.masterService.isGroup=!0,"addgroup"==this.tab.name&&this.ProductService.getChildrenGrpAndItem(this.tab.mcode).subscribe(t=>{"ok"==t.status&&(this.hasSubGrpOrItem=0==t.result.length?0:1)}),this.ProductService.getProductForEdit(this.tab.mcode).subscribe(t=>{if("ok"==t.status){if(this.productObj=t.result,this.masterService.isAddFormShown_1=!0,this.productObj.Par=t.result.Parent,null==this.productObj.Par&&(this.productObj.Par={}),this.masterService.ProductMcode=this.productObj.MCODE,this.mode="edit",this.modeTitle="Edit Product",this.productObj.Divisions){const n=this.productObj.Divisions.split(",");this.selecteddivisions=n.map(o=>({INITIAL:o,NAME:this.getDivisionName(o)}))}}else this.mode="",this.modeTitle="Edit -Error in Product"},t=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(t,"addproducts (ProductMaster) - getProductForEdit")}),console.log("Prodobj Divisions",this.productObj.Divisions))}catch(t){alert(t)}}onItemSelect(t){}onSave(){if(this.productObj.Divisions=this.selecteddivisions.map(t=>t.INITIAL).join(","),console.log("DIVISIONS",this.productObj.Divisions),1==this.masterService.userSetting.AUTOCODEMODE&&null!=this?.productObj.USER){let t=[];this.productObj.USER.forEach(n=>{t.push(n.username)}),t.length>0&&(this.productObj.USER=t.toString())}else this.productObj.USER="";try{if(console.log("group Type",this.groupType),"addgroup"==this.groupType){if(0==this.masterService.userSetting.ITEMGROUPCODELEVEL||1==this.masterService.userSetting.ITEMGROUPCODELEVEL){if(!this.productObj.MENUCODE)return void alert("Please Enter Group Code!");if(1==this.masterService.userSetting.AUTOCODEMODE&&0==this.masterService.userSetting.MANUALCODE&&!this.productObj.ALIAS)return void alert("Please Enter Alias!")}}else if(this.masterService.ITEM_LEVEL+1==this.masterService.userSetting.ITEMGROUPCODELEVEL&&!this.productObj.MENUCODE)return void alert("Please Enter Group Code!");"add"==this.tab.mode&&(this.productObj.LEVELS=(this.productObj.Par.LEVELS??0)+1),this.productObj.TYPE="G",this.productObj.Parent=null,"add"==this.tab.mode&&(this.productObj.FCODE=1==this.masterService.userSetting.MANUALCODE?0:Number(this.productObj.MENUCODE),this.masterService.userSetting.ITEMGROUPCODELEVEL==this.masterService.ITEM_LEVEL+1&&(this.productObj.FCODE=Number(this.productObj.MENUCODE))),this.loadingService.show("Saving sub group, Please wait.."),this.productObj.ItemCostCenter=this.itemCostCenterDisplay,this.masterService.saveProductGroup(this.mode,this.productObj,this.groupType).subscribe(o=>{if("ok"===o.status)console.log("r1"),this.masterService.updateBrandTreeSubject.next(this.productObj),this.productObj.MENUCODE="",this.productObj.MCODE="",this.productObj.BRAND="",this.productObj.DESCA="",this.productObj.Description="",this.productObj.BRANDCODE="",this.productObj.GWEIGHT="",this.productObj.SHELFLIFE=0,this.productObj.MRP=0,this.productObj.MajorGroup.DESCA="",this.productObj.FCODE=0,this.productObj.RECRATE=0,this.productObj.ALIAS=null,this.productObj.USER="",this.UserList=[],this.masterService.isAddFormShown_1=!1,setTimeout(()=>{this.ProductService.getProductGroupListByIDandDate(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,"sortitemgrpbydate").subscribe(r=>{this.masterService.productGroupLists=r.result}),this.ProductService.getMainGroupList().subscribe(r=>{console.log("Main group adter group save",r),this.masterService.mainGroupList=r.length>0?r:[]}),this.loadingService.hide(),this._alertService.success("Saved Successfully"),this.routeToHome()},1e3);else{if("The ConnectionString property has not been initialized."===o.result._body)return void this.router.navigate(["/login",this.router.url]);this.loadingService.hide()}},o=>{this.loadingService.hide()})}catch(t){this.loadingService.hide(),alert(t)}}onCancel(){try{this.routeToHome()}catch(t){alert(t)}}routeToHome(t=null,n=null){let o={name:"productlist"};o.selectedNode=this.tab.selectedNode,o.active=!0,o.mode=n,o.from="group",o.savedValue=t,this.activeTabEmit.emit(o)}keyPress(t){if(0==this.masterService.userSetting.MANUALCODE&&2!=this.masterService.userSetting.AUTOCODEMODE){const n=/[0-9]/,o=String.fromCharCode(t.charCode);n.test(o)||t.preventDefault()}else{const n=/[a-zA-Z0-9]/,o=String.fromCharCode(t.charCode);n.test(o)||t.preventDefault()}}getDivisionName(t){if(!t)return null;console.log("divlist",this.divisions);const n=this.divisions.find(o=>o.INITIAL==t);return n?n.NAME:"Unknown Division"}validateProduct(){console.log("validate product",this.groupType,this.mode),this.productObj.TYPE="G",this.productObj.LEVELS=this.masterService.ITEM_LEVEL+1,this.productObj.MENUCODE&&this.masterService.validateProduct(this.mode,this.productObj,this.groupType).subscribe(t=>{})}getCostCenter(){1===this.masterService.userSetting.EnableItemWiseCostCenter&&this.masterService.getAllCostCenter().subscribe(t=>{this.costLists=t||[]},t=>{throw this.costLists=[],new Error("Error in getting CostList")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.L),e.Y36(P.P),e.Y36(m.F0),e.Y36(m.gz),e.Y36(I.R),e.Y36(v.c),e.Y36(G.V))},i.\u0275cmp=e.Xpm({type:i,selectors:[["addproductgroup"]],viewQuery:function(t,n){if(1&t&&e.Gf(gt,5),2&t){let o;e.iGM(o=e.CRH())&&(n.childModal=o.first)}},inputs:{tab:"tab",ProductHomeTabs:"ProductHomeTabs",productObj:"productObj",groupType:"groupType",getTreeNodeValueObj:"getTreeNodeValueObj",isAddFormShown:"isAddFormShown"},outputs:{activeTabEmit:"activeTabEmit"},features:[e._Bn([h.L])],decls:37,vars:18,consts:[[2,"margin-top","20px"],[1,"form-horizontal"],[1,"form-group","row"],[1,"offset-sm-3","col-sm-9"],["type","submit ","class","btn btn-info pull-right","style","font-size: 12px; width: 89px;",3,"disabled","click",4,"ngIf"],["for","MG",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"col-sm-8","col-md-8"],["type","text","id","MG","name","MG","readonly","","placeholder","Major Group Generate from tree",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["class","form-group row",4,"ngIf"],["for","GN",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"col-sm-8"],["type","text","id","GN","name","GN","placeholder","Group Name","autocomplete","off",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","RMG",1,"col-sm-3","form-control-label",2,"width","190px"],["type","number","id","RMG","name","RMG","placeholder","Recommended Margin (%)",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","C",1,"col-sm-3","form-control-label",2,"width","190px"],["id","C","name","C",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","billingDisplay","class","col-sm-3 form-control-label","style","width:190px",4,"ngIf"],["id","billingDisplay","name","billingDisplay","style","width: 17px; height: 35px;","type","checkbox",3,"ngModel","disabled","ngModelChange","change",4,"ngIf"],["type","submit ",1,"btn","btn-info","pull-right",2,"font-size","12px","width","89px",3,"disabled","click"],["for","GC",1,"col-sm-3","form-control-label","LabelSize",2,"width","190px"],["id","GC","name","GC","placeholder","Group Code","autocomplete","off",2,"width","inherit",3,"type","ngModel","disabled","keypress","ngModelChange"],["for","divisionsDropdown",1,"col-sm-3","form-control-label",2,"width","190px"],["id","divisionsDropdown",3,"placeholder","settings","data","ngModelOptions","ngModel","ngModelChange"],["id","Cost-Center","name","cost center",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","U",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"custom-asset-dropdown",3,"placeholder","settings","ngModel","data","ngModelOptions","disabled","ngModelChange","onSelect"],["for","Alias",1,"col-sm-3","form-control-label",2,"width","190px"],["type","text","id","Alias","name","Alias","placeholder","Alias Name","autocomplete","off",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","C1",1,"col-sm-3","form-control-label",2,"width","190px"],["id","C1","name","C1",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","billingDisplay",1,"col-sm-3","form-control-label",2,"width","190px"],["id","billingDisplay","name","billingDisplay","type","checkbox",2,"width","17px","height","35px",3,"ngModel","disabled","ngModelChange","change"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e.YNc(4,mt,2,1,"button",4),e.qZA()(),e.TgZ(5,"div",2)(6,"label",5),e._uU(7,"Parent Group : "),e.qZA(),e.TgZ(8,"div",6)(9,"input",7),e.NdJ("ngModelChange",function(r){return n.productObj.MajorGroup.DESCA=r}),e.qZA()()(),e.YNc(10,ft,5,3,"div",8),e.TgZ(11,"div",2)(12,"label",9),e._uU(13,"Group Name : "),e.qZA(),e.TgZ(14,"div",10)(15,"input",11),e.NdJ("ngModelChange",function(r){return n.productObj.DESCA=r}),e.qZA()()(),e.TgZ(16,"div",2)(17,"label",12),e._uU(18,"Recommended Margin (%) : "),e.qZA(),e.TgZ(19,"div",10)(20,"input",13),e.NdJ("ngModelChange",function(r){return n.productObj.RECRATE=r}),e.qZA()()(),e.YNc(21,bt,5,6,"div",8),e.TgZ(22,"div",2)(23,"label",14),e._uU(24,"Category : "),e.qZA(),e.TgZ(25,"div",10)(26,"select",15),e.NdJ("ngModelChange",function(r){return n.productObj.MCAT=r}),e._UZ(27,"option",16),e.YNc(28,Ct,2,2,"option",17),e.qZA()()(),e.YNc(29,Mt,7,3,"div",8),e.YNc(30,Ot,5,7,"div",8),e.YNc(31,At,5,2,"div",8),e.YNc(32,St,7,3,"div",8),e.TgZ(33,"div",2),e.YNc(34,vt,2,0,"label",18),e.TgZ(35,"div",10),e.YNc(36,Et,1,2,"input",19),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf","view"!=n.tab.mode),e.xp6(5),e.Q6J("ngModel",n.productObj.MajorGroup.DESCA)("disabled","view"==n.tab.mode),e.xp6(1),e.Q6J("ngIf","addgroup"==n.tab.name&&(0==n.masterService.userSetting.ITEMGROUPCODELEVEL||1==n.masterService.userSetting.ITEMGROUPCODELEVEL)||"addSubgroup"==n.tab.name&&n.masterService.ITEM_LEVEL+1==n.masterService.userSetting.ITEMGROUPCODELEVEL),e.xp6(5),e.Q6J("ngModel",n.productObj.DESCA)("disabled","view"==n.tab.mode),e.xp6(5),e.Q6J("ngModel",n.productObj.RECRATE)("disabled","view"==n.tab.mode),e.xp6(1),e.Q6J("ngIf",1==n.masterService.userSetting.divisionWiseItemFilter),e.xp6(5),e.Q6J("ngModel",n.productObj.MCAT)("disabled","view"==n.tab.mode),e.xp6(2),e.Q6J("ngForOf",n.MCatList),e.xp6(1),e.Q6J("ngIf",1===n.masterService.userSetting.EnableItemWiseCostCenter),e.xp6(1),e.Q6J("ngIf",1==n.masterService.userSetting.AUTOCODEMODE&&"addgroup"==n.tab.name&&(0==n.masterService.userSetting.ITEMGROUPCODELEVEL||1==n.masterService.userSetting.ITEMGROUPCODELEVEL)),e.xp6(1),e.Q6J("ngIf",1==n.masterService.userSetting.AUTOCODEMODE&&0==n.masterService.userSetting.MANUALCODE),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode&&1==n.masterService.userSetting.ENABLEEXTRACATEGORY),e.xp6(2),e.Q6J("ngIf",1==n.masterService.userSetting.ItemWiseDisplaySettingInBilling),e.xp6(2),e.Q6J("ngIf",1==n.masterService.userSetting.ItemWiseDisplaySettingInBilling))},dependencies:[p.sg,p.O5,d._Y,d.YN,d.Kr,d.Fj,d.wV,d.Wl,d.EJ,d.JJ,d.JL,d.On,d.F,se.O],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}"]}),i})();var ce=l(64298),Se=l(92198),ve=l(80013),Ee=l(75778),xe=l(2994),we=l(23753),ae=l(68567);const xt=["childModal"],wt=["genericGrid"],yt=["genericGridForAllProductList"],Rt=["genericGridForAllGroupList"],Dt=["searchInput"],It=["searchInputGrp"],Nt=["sortItemName"],kt=["sortitembydate"];function Ut(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",44),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td",44),e._uU(13),e.ALo(14,"number"),e.qZA(),e.TgZ(15,"td",45),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onViewClick(r))}),e._uU(22,"View"),e.qZA(),e.TgZ(23,"td",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onEditClick(r))}),e._uU(24,"Edit"),e.qZA()()}if(2&i){const t=s.$implicit,n=s.index,o=e.oxw(2);e.xp6(2),e.Oqu(n+1+(o.masterService.currentPage-1)*o.itemPerPage),e.xp6(2),e.Oqu(t.ITEM_NAME),e.xp6(2),e.Oqu(t.ITEM_CODE),e.xp6(2),e.Oqu(t.UNIT),e.xp6(2),e.Oqu(e.xi3(11,9,t.PRATE,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(14,12,t.SRATE,"1.2-2")),e.xp6(3),e.Oqu(t.VAT),e.xp6(2),e.Oqu(t.PARENT),e.xp6(2),e.Oqu(t.SUPPLIER)}}const jt=function(i,s,t){return{itemsPerPage:i,currentPage:s,totalItems:t}};function Zt(i,s){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,Ut,25,15,"tr",43),e.ALo(2,"paginate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.masterService.productLists,e.kEZ(4,jt,t.itemPerPage,t.masterService.currentPage,t.masterService.productSearchTotalCount)))}}function Gt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",47)(1,"pagination-controls",48),e.NdJ("pageChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productListPagination(o))}),e.qZA()()}}function Lt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onViewGroup(r))}),e._uU(16,"View"),e.qZA(),e.TgZ(17,"td",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onEditGroup(r))}),e._uU(18,"Edit"),e.qZA()()}if(2&i){const t=s.$implicit,n=s.index,o=e.oxw(2);e.xp6(2),e.Oqu(n+1+(o.groupListCurrentPage-1)*o.itemPerPage),e.xp6(2),e.Oqu(t.GROUP_NAME),e.xp6(2),e.Oqu(t.PARENT_GROUP),e.xp6(2),e.Oqu(t.GROUP_CODE),e.xp6(2),e.Oqu(t.CATEGORY),e.xp6(2),e.Oqu(t.EXTRA_CATEGORY),e.xp6(2),e.Oqu(t.REC_MARGIN)}}const Bt=function(i,s,t){return{id:"pagination1",itemsPerPage:i,currentPage:s,totalItems:t}};function Ft(i,s){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,Lt,19,7,"tr",43),e.ALo(2,"paginate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.masterService.productGroupLists,e.kEZ(4,Bt,t.itemPerPage,t.groupListCurrentPage,t.masterService.productGroupSearchTotalCount)))}}function Ht(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",49)(1,"pagination-controls",50),e.NdJ("pageChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productGroupListPagination(o))}),e.qZA()()}}let Jt=(()=>{class i{constructor(t,n,o,r,c,a,u){this._alertService=t,this._authService=n,this.ProductService=o,this.masterService=r,this.arouter=c,this.cdref=a,this.authService=u,this.activeTabEmit=new e.vpe,this.productListsortByDateEmit=new e.vpe,this.DialogMessage="You are not authorized",this.userProfile={},this.productGroupList=[],this.productListByID=[],this.imsGridSettings=new ce.U5,this.imsGridSettingsforProductList=new ce.U5,this.imsGridSettingsforGroupList=new ce.U5,this.mcodeFromBcode=[],this.userProfile=n.getUserProfile(),this.settings=this.ProductService.productMasterTableSetting(this.userProfile.CompanyInfo.ORG_TYPE),this.imsGridSettings=this.ProductService.getimsgridSetting(),this.imsGridSettingsforProductList=this.ProductService.getProductList(),this.imsGridSettingsforGroupList=this.ProductService.getGroupList(),this.searchProductGrp="searchGrpName",this.ProductService.sortProduct="sortItemName",this.ProductService.sortProductGrp="sortGrpName",console.log("from master rrepo",this.masterService.productLists),this.masterService.modeIs=""}ngOnInit(){const t=localStorage.getItem("SearchValue");this.searchProduct=t||"searchItemName",this.StayFocusOnItemSearch()}StayFocusOnItemSearch(){setTimeout(()=>{document.getElementById("productSearch").focus()},100)}ngAfterViewInit(){this.getTreeNodeValueObj&&this.ItemBar(),(0,we.R)(this.searchInput.nativeElement,"keyup").pipe((0,Se.h)(Boolean),(0,ve.b)(800),(0,Ee.x)(),(0,xe.b)(t=>{this.triggerSearch(t)})).subscribe(),(0,we.R)(this.searchInputGrp.nativeElement,"keyup").pipe((0,Se.h)(Boolean),(0,ve.b)(800),(0,Ee.x)(),(0,xe.b)(t=>{this.triggerGroupSearch(t)})).subscribe()}InsertEnterKey(t){t.preventDefault(),document.getElementById("productSearch").select()}ngAfterContentChecked(){this.cdref.detectChanges()}onSearchClick(t){if(null==t||""==t)return;let n=[];this.source=new f.nC,this.ProductService.getSearchProducts(t).subscribe(o=>{n.push(o),this.source.load(n)})}AddItem(){}AddGroup(){}ItemBar(){this.StayFocusOnItemSearch(),localStorage.setItem("SearchValue",this.searchProduct),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct,this.finalFilterValue).subscribe(t=>{console.log("ItemBar",t),this.productListByID=t.result,this.masterService.productLists=t.result,this.masterService.productSearchTotalCount=t.totalCount}),this.finalFilterValue=""}GrpBar(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp,this.finalGroupFilterValue).subscribe(t=>{this.productGroupList=t.result.result,this.masterService.productGroupLists=t.result.result,this.masterService.productGroupSearchTotalCount=t.totalCount})}reserGrpValue(){this.finalGroupFilterValue=""}triggerSearch(t){this.masterService.currentPage=1,this.masterService.filter?("searchItemCode"==this.searchProduct&&(this.finalFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("MENUCODE",this.masterService.filter,1):this.getFilterOption("MENUCODE",this.masterService.filter),this.ItemBar()),"searchItemBarcode"==this.searchProduct&&(console.log("search by barcode"),this.finalFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("BARCODE",this.masterService.filter,1):this.getFilterOption("BARCODE",this.masterService.filter),this.ItemBar()),"searchItemName"==this.searchProduct&&(this.finalFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("DESCA",this.masterService.filter,1):this.getFilterOption("DESCA",this.masterService.filter),this.sortProductListByName())):this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct).subscribe(n=>{this.productListByID=n.result,this.masterService.productLists=n.result,this.masterService.productSearchTotalCount=n.totalCount})}triggerGroupSearch(t){this.masterService.filters?("searchGrpName"==this.searchProductGrp&&(this.finalGroupFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("DESCA",this.masterService.filter,1):this.getFilterOption("DESCA",this.masterService.filter),this.sortProductGrpByName()),"searchGrpCode"==this.searchProductGrp&&(this.finalGroupFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("FCODE",this.masterService.filter,1):this.getFilterOption("FCODE",this.masterService.filter),this.GrpBar())):(console.log("Group filter is empty",this.masterService.filters),this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp).subscribe(n=>{this.productGroupList=n.result.result,this.masterService.productGroupLists=n.result.result,this.masterService.productGroupSearchTotalCount=n.totalCount}))}onDeleteConfirm(t){window.confirm("Are you sure you want to delete?")?t.confirm.resolve():t.confirm.reject()}onEditClick(t){if(0!=this.masterService.checkIsBranch()){if(this.masterService.checkUserRights("edit","productmaster"))try{let o={name:"addproduct"};o.mcode=t.MCODE,o.mode="edit",o.active=!0,this.activeTabEmit.emit(o)}catch(o){this._alertService.error(o)}}else this._alertService.warning("Cannot edit product from branch office")}onViewClick(t){try{let n={name:"addproduct"};n.mcode=t.MCODE,n.mode="view",n.active=!0,this.activeTabEmit.emit(n)}catch(n){this._alertService.error(n)}}hideChildModal(){try{this.childModal.hide()}catch(t){this._alertService.error(t)}}searchProductList(){if(""==this.masterService.filter||void 0===this.masterService.filter)this.setDefaultList();else if("searchItemName"==this.searchProduct&&""!=this.masterService.filter){let t=this.masterService.filter.toUpperCase();this.productListByID=this.productListByID.filter(function(n){return 0==n.ITEM_NAME.toUpperCase().indexOf(t)}),this.masterService.productLists=this.searchItemName(this.masterService.productLists,this.masterService.filter)}else if("searchItemCode"==this.searchProduct&&""!=this.masterService.filter){let t=this.masterService.filter;this.productListByID=this.productListByID.filter(n=>n.ITEM_CODE==t),this.masterService.productLists=this.masterService.productLists.filter(n=>n.ITEM_CODE==t)}else"searchItemBarcode"==this.searchProduct&&""!=this.masterService.filter&&this.ProductService.getMCODEusingBARCODE(this.masterService.filter).subscribe(t=>{"ok"==t.status?(this.mcodeFromBcode=t.result,this.productListByID=this.productListByID.filter(n=>n.MCODE==this.mcodeFromBcode),this.masterService.productLists=this.masterService.productLists.filter(n=>n.MCODE==this.mcodeFromBcode)):(this._alertService.warning("cannot find product with this barcode"),this.masterService.productLists=this.masterService.productLists)})}searchProductGroup(){if(""==this.masterService.filters||void 0===this.masterService.filters)this.setDefaultList();else if("searchGrpName"==this.searchProductGrp&&""!=this.masterService.filters){let t=this.masterService.filters.toUpperCase();this.productGroupList=this.productGroupList.filter(function(n){return 0==n.GROUP_NAME.toUpperCase().indexOf(t)}),this.masterService.productGroupLists=this.masterService.productGroupLists.filter(function(n){return 0==n.GROUP_NAME.toUpperCase().indexOf(t)})}else if("searchGrpCode"==this.searchProductGrp&&""!=this.masterService.filters){let t=this.masterService.filters;this.productGroupList=this.productGroupList.filter(n=>n.GROUP_CODE==t),this.masterService.productGroupLists=this.masterService.productGroupLists.filter(n=>n.GROUP_CODE==t)}}setDefaultList(){""==this.masterService.filter&&this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct).subscribe(t=>{this.productListByID=t.result,this.masterService.productLists=t.result,this.masterService.productSearchTotalCount=t.totalCount}),""==this.masterService.filters&&this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp).subscribe(t=>{this.productGroupList=t.result.result,this.masterService.productGroupLists=t.result.result,this.masterService.productGroupSearchTotalCount=t.totalCount})}onEditGroup(t){try{let n={};n.name="PRG99999999"==t.PARENT?"addgroup":"addSubgroup",n.Divisions=t.Divisions,n.mcode=t.MCODE,n.mode="edit",n.active=!0,this.activeTabEmit.emit(n)}catch(n){this._alertService.error(n)}}onViewGroup(t){try{let n={};n.name="PRG99999999"==t.PARENT?"addgroup":"addSubgroup",n.mcode=t.MCODE,n.mode="view",n.active=!0,this.activeTabEmit.emit(n)}catch(n){this._alertService.error(n)}}sortProductListByDate(){this.productListsortByDateEmit.emit(this.ProductService.sortProduct),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,"sortitembydate",this.finalFilterValue).subscribe(t=>{this.productListByID=t.result,this.masterService.productLists=t.result,this.masterService.productSearchTotalCount=t.totalCount})}sortProductListByName(){console.log("sortProductList by name"),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct,this.finalFilterValue).subscribe(t=>{console.log("sort product List by name",t),this.productListByID=t.result,this.masterService.productLists=t.result,this.masterService.productSearchTotalCount=t.totalCount})}sortProductGrpByName(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp,this.finalGroupFilterValue).subscribe(t=>{this.productGroupList=t.result.result,this.masterService.productGroupLists=t.result.result,this.masterService.productGroupSearchTotalCount=t.result.totalCount})}sortProductGrpByDate(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,"sortitemgrpbydate").subscribe(t=>{this.productGroupList=t.result.result,this.masterService.productGroupLists=t.result.result,this.masterService.productGroupSearchTotalCount=t.totalCount})}handleKeyDownloadEvent(t){"Enter"==t.code&&(t.preventDefault(),(""!=this.masterService.filter||null!=this.masterService.filter)&&this.searchProductList(),(""!=this.masterService.filters||null!=this.masterService.filters)&&this.searchProductGroup()),"Escape"==t.code&&(t.preventDefault(),(""!=this.masterService.filter||null!=this.masterService.filter)&&(this.masterService.filter="",this.setDefaultList()),(""!=this.masterService.filters||null!=this.masterService.filters)&&(this.masterService.filters="",this.setDefaultList()))}searchItemName(t,n){if(t)return n?t.filter(o=>{const r=n.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(o.ITEM_NAME?o.ITEM_NAME.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(r))return o}):t}productListPagination(t){this.masterService.currentPage=t,(null==this.masterService.filter||""==this.masterService.filter||null==this.masterService.filter)&&(this.finalFilterValue=null),console.log("getTreeNodeValueObj",this.getTreeNodeValueObj,"pages",this.masterService.currentPage,"item per page",this.itemPerPage,"sortproduct",this.ProductService.sortProduct),console.log("filter",this.finalFilterValue),this.sortProductListByName()}productGroupListPagination(t){this.groupListCurrentPage=t,this.finalGroupFilterValue=null,this.sortProductGrpByName()}getFilterOption(t,n,o=0){let r=[];return null==n||null==n||""==n||null==t||null==t||""==t?"":(r.push({Field:t,Value:n,SearchMode:o}),`${encodeURIComponent(JSON.stringify(r))}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.c),e.Y36(M.e),e.Y36(h.L),e.Y36(P.P),e.Y36(m.gz),e.Y36(e.sBO),e.Y36(M.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["productlist"]],viewQuery:function(t,n){if(1&t&&(e.Gf(xt,5),e.Gf(wt,5),e.Gf(yt,5),e.Gf(Rt,5),e.Gf(Dt,7),e.Gf(It,7),e.Gf(Nt,7),e.Gf(kt,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.childModal=o.first),e.iGM(o=e.CRH())&&(n.genericGrid=o.first),e.iGM(o=e.CRH())&&(n.genericGridForAllProductList=o.first),e.iGM(o=e.CRH())&&(n.genericGridForAllGroupList=o.first),e.iGM(o=e.CRH())&&(n.searchInput=o.first),e.iGM(o=e.CRH())&&(n.searchInputGrp=o.first),e.iGM(o=e.CRH())&&(n.sortItemName=o.first),e.iGM(o=e.CRH())&&(n.sortitembydate=o.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(r){return n.handleKeyDownloadEvent(r)},!1,e.evT)},inputs:{source:"source",productGroupList:"productGroupList",productListByID:"productListByID",getTreeNodeValueObj:"getTreeNodeValueObj",itemPerPage:"itemPerPage",pages:"pages",groupListCurrentPage:"groupListCurrentPage"},outputs:{activeTabEmit:"activeTabEmit",productListsortByDateEmit:"productListsortByDateEmit"},features:[e._Bn([M.e,h.L])],decls:90,vars:15,consts:[[2,"margin-top","0"],[1,"row"],[1,"col-md-12",2,"width","100%"],["id","warehouse-tabs",1,"tabbable"],[1,"nav","nav-tabs"],[1,"nav-item"],["href","#ProductList","data-toggle","tab",1,"nav-link","active",2,"font-size","14px"],["href","#ProductGroupList","data-toggle","tab",1,"nav-link",2,"font-size","14px"],[1,"tab-content","mr5"],["id","ProductList",1,"tab-pane","active"],[2,"display","inline-block","width","100%"],[1,"clearfix"],[1,"col-md-12",2,"margin-bottom","10px","font-size","14px","display","flex","align-items","center"],["type","radio","name","item","value","searchItemName",3,"ngModel","ngModelChange","change","click"],["type","radio","name","item","value","searchItemCode",3,"ngModel","ngModelChange","change","click"],["type","radio","name","item","value","searchItemBarcode",3,"ngModel","ngModelChange","change","click"],["type","search","id","productSearch","placeholder","Search...","autocomplete","off","name","filter","autocomplete","off",2,"width","25%",3,"ngModel","ngModelChange","keydown.enter"],["searchInput",""],["type","radio","name","sortItem","value","sortItemName",3,"ngModel","ngModelChange","change"],["type","radio","name","sortItem","value","sortitembydate",3,"ngModel","ngModelChange","change"],[1,"col-md-12","productlistTable",2,"overflow-y","auto","height","100%","padding-right","8px !important","margin-left","-4px","white-space","nowrap","padding-left","0"],[1,"table","table-striped"],[1,"stickHead"],["colspan","1",2,"width","3%","padding-left","0px"],["colspan","1",2,"width","15%","padding-left","0px"],["colspan","1",2,"width","8%","padding-left","0px"],["colspan","1",2,"width","5%","padding-left","0px"],["colspan","1",2,"width","6%","padding-left","0px"],["colspan","1",2,"width","5%","padding-left","18px"],["colspan","2",2,"width","5%","padding-left","0px"],[4,"ngIf"],["style","margin-left: 22%;height: 30px; ",4,"ngIf"],["id","ProductGroupList",1,"tab-pane"],["type","radio","name","group","value","searchGrpName",3,"ngModel","ngModelChange","change","click"],["type","radio","name","group","value","searchGrpCode",3,"ngModel","ngModelChange","change","click"],["type","search","placeholder","Search...","name","filters","autocomplete","off",2,"width","25%",3,"ngModel","ngModelChange"],["searchInputGrp",""],["type","radio","name","sortGroup","value","sortGrpName",3,"ngModel","ngModelChange","change"],["type","radio","name","sortGroup","value","sortGrpDate",3,"ngModel","ngModelChange","change"],[1,"productlistTable",2,"overflow-y","auto","height","100%"],["colspan","1",2,"width","1%","padding-left","0px"],["colspan","1",2,"width","10%","padding-left","0px"],["style","margin-left:12.3rem;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"text-align","right"],[2,"text-align","center"],[1,"isLink",3,"click"],[2,"margin-left","22%","height","30px"],["directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page",1,"my-pagination",3,"pageChange"],[2,"margin-left","12.3rem"],["id","pagination1",1,"my-pagination",3,"pageChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),e._uU(7,"Product List"),e.qZA()(),e.TgZ(8,"li",5)(9,"a",7),e._uU(10,"Product Group List"),e.qZA()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"input",13),e.NdJ("ngModelChange",function(r){return n.searchProduct=r})("change",function(){return n.ItemBar()})("click",function(){return n.masterService.filter=""}),e.qZA(),e._uU(17,"\xa0 Search By Name \xa0\xa0 "),e.TgZ(18,"input",14),e.NdJ("ngModelChange",function(r){return n.searchProduct=r})("change",function(){return n.ItemBar()})("click",function(){return n.masterService.filter=""}),e.qZA(),e._uU(19,"\xa0 Search By Code\xa0\xa0 "),e.TgZ(20,"input",15),e.NdJ("ngModelChange",function(r){return n.searchProduct=r})("change",function(){return n.ItemBar()})("click",function(){return n.masterService.filter=""}),e.qZA(),e._uU(21,"\xa0 Barcode \xa0\xa0 "),e.TgZ(22,"input",16,17),e.NdJ("ngModelChange",function(r){return n.masterService.filter=r})("keydown.enter",function(r){return n.InsertEnterKey(r)}),e.qZA(),e._uU(24,"\xa0\xa0 "),e.TgZ(25,"input",18),e.NdJ("ngModelChange",function(r){return n.ProductService.sortProduct=r})("change",function(){return n.sortProductListByName()}),e.qZA(),e._uU(26,"\xa0Sort By Name \xa0 \xa0 "),e.TgZ(27,"input",19),e.NdJ("ngModelChange",function(r){return n.ProductService.sortProduct=r})("change",function(){return n.sortProductListByDate()}),e.qZA(),e._uU(28,"\xa0Sort By C-Date "),e.qZA(),e.TgZ(29,"div",20)(30,"table",21)(31,"thead",22)(32,"tr")(33,"th",23),e._uU(34,"SN"),e.qZA(),e.TgZ(35,"th",24),e._uU(36,"Item Name"),e.qZA(),e.TgZ(37,"th",25),e._uU(38,"Item Code"),e.qZA(),e.TgZ(39,"th",26),e._uU(40,"Unit"),e.qZA(),e.TgZ(41,"th",27),e._uU(42,"P-Rate"),e.qZA(),e.TgZ(43,"th",27),e._uU(44,"S-Rate"),e.qZA(),e.TgZ(45,"th",28),e._uU(46,"Vat"),e.qZA(),e.TgZ(47,"th",24),e._uU(48,"Parent"),e.qZA(),e.TgZ(49,"th",24),e._uU(50,"Supplier"),e.qZA(),e.TgZ(51,"th",29),e._uU(52,"Actions"),e.qZA()()(),e.YNc(53,Zt,3,8,"tbody",30),e.qZA()(),e.YNc(54,Gt,2,0,"div",31),e.qZA()()(),e.TgZ(55,"div",32)(56,"div",12)(57,"input",33),e.NdJ("ngModelChange",function(r){return n.searchProductGrp=r})("change",function(){return n.reserGrpValue(),n.GrpBar()})("click",function(){return n.masterService.filters=""}),e.qZA(),e._uU(58,"\xa0 Search By Name \xa0\xa0 "),e.TgZ(59,"input",34),e.NdJ("ngModelChange",function(r){return n.searchProductGrp=r})("change",function(){return n.reserGrpValue(),n.GrpBar()})("click",function(){return n.masterService.filters=""}),e.qZA(),e._uU(60,"\xa0 Search By Code\xa0\xa0 "),e.TgZ(61,"input",35,36),e.NdJ("ngModelChange",function(r){return n.masterService.filters=r}),e.qZA(),e._uU(63,"\xa0\xa0 "),e.TgZ(64,"input",37),e.NdJ("ngModelChange",function(r){return n.ProductService.sortProductGrp=r})("change",function(){return n.sortProductGrpByName()}),e.qZA(),e._uU(65,"\xa0Sort By Name \xa0\xa0 "),e.TgZ(66,"input",38),e.NdJ("ngModelChange",function(r){return n.ProductService.sortProductGrp=r})("change",function(){return n.sortProductGrpByDate()}),e.qZA(),e._uU(67,"\xa0Sort By C-Date "),e.qZA(),e.TgZ(68,"div",39)(69,"table",21)(70,"thead",22)(71,"tr")(72,"th",40),e._uU(73,"SN"),e.qZA(),e.TgZ(74,"th",24),e._uU(75,"Group Name"),e.qZA(),e.TgZ(76,"th",24),e._uU(77,"Parent Group"),e.qZA(),e.TgZ(78,"th",25),e._uU(79,"Group Code"),e.qZA(),e.TgZ(80,"th",41),e._uU(81,"Category"),e.qZA(),e.TgZ(82,"th",41),e._uU(83,"Extra Category"),e.qZA(),e.TgZ(84,"th",25),e._uU(85,"Rec-Margin"),e.qZA(),e.TgZ(86,"th",29),e._uU(87,"Actions"),e.qZA()()(),e.YNc(88,Ft,3,8,"tbody",30),e.qZA()(),e.YNc(89,Ht,2,0,"div",42),e.qZA()()()()()()),2&t&&(e.xp6(16),e.Q6J("ngModel",n.searchProduct),e.xp6(2),e.Q6J("ngModel",n.searchProduct),e.xp6(2),e.Q6J("ngModel",n.searchProduct),e.xp6(2),e.Q6J("ngModel",n.masterService.filter),e.xp6(3),e.Q6J("ngModel",n.ProductService.sortProduct),e.xp6(2),e.Q6J("ngModel",n.ProductService.sortProduct),e.xp6(26),e.Q6J("ngIf",null==n.masterService.productLists?null:n.masterService.productLists.length),e.xp6(1),e.Q6J("ngIf",n.masterService.productLists&&n.masterService.productLists.length),e.xp6(3),e.Q6J("ngModel",n.searchProductGrp),e.xp6(2),e.Q6J("ngModel",n.searchProductGrp),e.xp6(2),e.Q6J("ngModel",n.masterService.filters),e.xp6(3),e.Q6J("ngModel",n.ProductService.sortProductGrp),e.xp6(2),e.Q6J("ngModel",n.ProductService.sortProductGrp),e.xp6(22),e.Q6J("ngIf",null==n.masterService.productGroupLists?null:n.masterService.productGroupLists.length),e.xp6(1),e.Q6J("ngIf",n.masterService.productGroupLists&&n.masterService.productGroupLists.length))},dependencies:[p.sg,p.O5,d.Fj,d._,d.JJ,d.On,ae.LS,p.JJ,ae._s],styles:[".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}","td[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n    font-size: 13px;\n    padding-left: 5px !important;\n    padding: 3px !important;\n  }\n\n  .isLink[_ngcontent-%COMP%]{\n    cursor: pointer;\n  }\n\n  .isLink[_ngcontent-%COMP%]:hover {\n    text-decoration: underline;\n  }\n\n  .isLink[_ngcontent-%COMP%]:active {\n    text-decoration: underline;\n  }\n\n  th[_ngcontent-%COMP%] {\n    font-size: 15px;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current {\n    background: #17a2b8 !important;\n    border: transparent !important;\n    border-radius: 20px !important;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover {\n    background: #74d4e2 !important;\n    border-radius: 20px !important;\n    border: transparent !important;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\n    background: #c2c2c2;\n    border-radius: 20px !important;\n  }\n  .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{\n    background-color: #336799 !important;\n    border-color: #dee2e6 #dee2e6 #fff;\n    color: #fff !important;\n  }\n  .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{\n    color:#fff !important;\n\n  }\n  .stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{\n    padding: 0 !important;\n    padding-left: 6px !important;\n  }\n  .nav-tabs[_ngcontent-%COMP%]{\n  padding:4px !important;\n}\n.productlistTable[_ngcontent-%COMP%]{\n  height: 62vh !important;\n}"]}),i})();function qt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"productlist",7),e.NdJ("searchItemEmit",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.searchItemEmitEvent(o))})("activeTabEmit",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.activeTabEmitEvent(o))})("productListsortByDateEmit",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onsortByDateClicked(o))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("source",t.source)("productGroupList",t.productGroupList)("productListByID",t.productListByID)("getTreeNodeValueObj",t.getTreeNodeValueObj)("itemPerPage",t.itemPerPage)("pages",t.pages)("groupListCurrentPage",t.groupListCurrentPage)}}function Vt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"addproductgroup",8),e.NdJ("activeTabEmit",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.activeTabEmitEvent(o))}),e.qZA()}if(2&i){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("tab",t)("productObj",n.productObj)("groupType",n.groupType)("getTreeNodeValueObj",n.getTreeNodeValueObj)("isAddFormShown",n.isAddFormShown)}}function Yt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"addproductgroup",8),e.NdJ("activeTabEmit",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.activeTabEmitEvent(o))}),e.qZA()}if(2&i){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("tab",t)("productObj",n.productObj)("groupType",n.groupType)("getTreeNodeValueObj",n.getTreeNodeValueObj)("isAddFormShown",n.isAddFormShown)}}function Qt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"addproductmaster",9),e.NdJ("activeTabEmit",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.activeTabEmitEvent(o))}),e.qZA()}if(2&i){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("colorLists",n.colorLists)("productObj",n.productObj)("tab",t)("ProductHomeTabs",n.ProductHomeTabs)("getTreeNodeValueObj",n.getTreeNodeValueObj)("isAddFormShown",n.isAddFormShown)("selectedGroupInfo",n.selectedGroupInfo)}}function zt(i,s){if(1&i&&(e.TgZ(0,"li",2)(1,"hometab",3),e.YNc(2,qt,1,7,"productlist",4),e.YNc(3,Vt,1,5,"addproductgroup",5),e.YNc(4,Yt,1,5,"addproductgroup",5),e.YNc(5,Qt,1,7,"addproductmaster",6),e.qZA()()),2&i){const t=s.$implicit;e.Q6J("hidden",!t.active),e.xp6(1),e.Q6J("active",t.active),e.xp6(1),e.Q6J("ngIf","productlist"==t.name),e.xp6(1),e.Q6J("ngIf","addgroup"==t.name),e.xp6(1),e.Q6J("ngIf","addSubgroup"==t.name),e.xp6(1),e.Q6J("ngIf","addproduct"==t.name)}}const Kt=["*"];let Wt=(()=>{class i{constructor(t,n){this.productMasterService=t,this.cdref=n,this.ProductHomeTabs=[],this.searchItemEmit=new e.vpe,this.activeTabEmit=new e.vpe,this.sortByDateEmit=new e.vpe,this.selectedGroupInfo={},this.pages=1}ngAfterContentInit(){try{this.cdref.detectChanges()}catch(t){alert(t)}}onsortByDateClicked(t){this.sortByDateEmit.emit(t)}ngOnInit(){0==JSON.parse(localStorage.getItem("setting")).DISPLAY&&(this.productMasterService.getColorGroup().subscribe(n=>{this.colorLists=n&&"ok"===n.status&&null!==n.result&&n&&n.result?n.result:[]},n=>{this.colorLists=[]}),console.log(this.pages))}onTabClose(t){this.ProductHomeTabs.splice(t,1),this.ProductHomeTabs.length>0&&(this.ProductHomeTabs[this.ProductHomeTabs.length-1].active=!0)}searchItemEmitEvent(t){this.searchItemEmit.emit(t)}activeTabEmitEvent(t){this.activeTabEmit.emit(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.L),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["hometabs"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,Te,4),2&t){let r;e.iGM(r=e.CRH())&&(n.tabs=r)}},inputs:{ProductHomeTabs:"ProductHomeTabs",source:"source",tab:"tab",productObj:"productObj",getTreeNodeValueObj:"getTreeNodeValueObj",groupType:"groupType",productGroupList:"productGroupList",productListByID:"productListByID",isAddFormShown:"isAddFormShown",selectedGroupInfo:"selectedGroupInfo",itemPerPage:"itemPerPage",pages:"pages",totalCount:"totalCount",groupListCurrentPage:"groupListCurrentPage"},outputs:{searchItemEmit:"searchItemEmit",activeTabEmit:"activeTabEmit",sortByDateEmit:"sortByDateEmit"},ngContentSelectors:Kt,decls:3,vars:1,consts:[[2,"padding","0px"],["style","float:inherit",3,"hidden",4,"ngFor","ngForOf"],[2,"float","inherit",3,"hidden"],[3,"active"],[3,"source","productGroupList","productListByID","getTreeNodeValueObj","itemPerPage","pages","groupListCurrentPage","searchItemEmit","activeTabEmit","productListsortByDateEmit",4,"ngIf"],[3,"tab","productObj","groupType","getTreeNodeValueObj","isAddFormShown","activeTabEmit",4,"ngIf"],[3,"colorLists","productObj","tab","ProductHomeTabs","getTreeNodeValueObj","isAddFormShown","selectedGroupInfo","activeTabEmit",4,"ngIf"],[3,"source","productGroupList","productListByID","getTreeNodeValueObj","itemPerPage","pages","groupListCurrentPage","searchItemEmit","activeTabEmit","productListsortByDateEmit"],[3,"tab","productObj","groupType","getTreeNodeValueObj","isAddFormShown","activeTabEmit"],[3,"colorLists","productObj","tab","ProductHomeTabs","getTreeNodeValueObj","isAddFormShown","selectedGroupInfo","activeTabEmit"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"ul",0),e.YNc(1,zt,6,6,"li",1),e.qZA(),e.Hsn(2)),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.ProductHomeTabs))},dependencies:[p.sg,p.O5,Oe,Pe,Te,Jt],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left;list-style:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:5px;text-decoration:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#98b2b7;cursor:pointer;cursor:hand}"]}),i})();const Xt=["multiselectGenericGrid"],$t=["fileUploadPopup"];function en(i,s){if(1&i&&(e.TgZ(0,"label",17),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("\xa0>> ",t.MasterRepo.modeIs,"")}}function tn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.ExportReportInExcel())}),e._uU(1," Export Product "),e.qZA()}}function nn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showFileUploadPopUp())}),e._uU(1," Import Product [F2] "),e.qZA()}}function on(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",19,20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onMenuClick("addproduct"))}),e._uU(2,"Add Product"),e.qZA()}if(2&i){const t=e.MAs(1);e.Q6J("disabled",t.isOldFYearDB())}}function rn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",19,20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onMenuClick("addSubgroup"))}),e._uU(2,"Add Sub Group"),e.qZA()}if(2&i){const t=e.MAs(1),n=e.oxw();e.Q6J("disabled","productlist"!=n.ProductHomeTabs[0].name||0==n.MasterRepo.isTreeNodeClicked||1==n.isMainParentNodeClicked||t.isOldFYearDB())}}function sn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",19,20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onMenuClick("addgroup"))}),e._uU(2,"Add Main Group"),e.qZA()}if(2&i){const t=e.MAs(1),n=e.oxw();e.Q6J("disabled","productlist"!=n.ProductHomeTabs[0].name||t.isOldFYearDB())}}function cn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.Delete())}),e._uU(1," Delete "),e.qZA()}}function an(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onCancel())}),e._uU(1," Reset "),e.qZA()}}function ln(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",22)(2,"div",23)(3,"div",24)(4,"h5",25),e._uU(5,"Group Selection"),e.qZA(),e.TgZ(6,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeGroupModal())}),e.TgZ(7,"span",27),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",28)(10,"div",29)(11,"div",30)(12,"label",31),e._uU(13,"Group Name :"),e.qZA()(),e.TgZ(14,"div",32)(15,"input",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.groupSelectObj.DESCA=o)})("keydown.enter",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.GroupEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.GroupEnterCommand(o))})("keyup",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.GroupEnterCommand(o))})("keypress",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.keyPress(o))}),e.qZA()()(),e.TgZ(16,"div",29)(17,"div",30)(18,"label",34),e._uU(19,"Discontinued Item :"),e.qZA()(),e.TgZ(20,"div",32)(21,"input",35),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.clickedActive(1==o.target.checked?1:0))}),e.qZA()()()(),e.TgZ(22,"div",36)(23,"div",37)(24,"span",38)(25,"strong"),e._uU(26,"Note:"),e.qZA(),e._uU(27," All groups are selected if Group Name is left blank."),e.qZA()(),e.TgZ(28,"div",32)(29,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onExport())}),e._uU(30,"Export"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(15),e.Q6J("ngModel",t.groupSelectObj.DESCA)}}const dn={mouse:{dblClick:(i,s,t)=>{s.hasChildren&&O.iM.TOGGLE_EXPANDED(i,s,t)},click:(i,s,t)=>{t.shiftKey?O.iM.TOGGLE_ACTIVE_MULTI(i,s,t):O.iM.TOGGLE_SELECTED(i,s,t)}},keys:{[O.tW.ENTER]:(i,s,t)=>s.setActiveAndVisible()}},un=[{path:"",component:(()=>{class i extends x.c{constructor(t,n,o,r,c,a,u,A,T,g){super(n),this._alertService=t,this.injector=n,this.MasterRepo=o,this._authService=r,this.ProductService=c,this.setting=a,this._spinnerservice=u,this.alertService=A,this.router=T,this.cdref=g,this._treeEnable=!0,this.sortByDateFilter="",this.nodes=[],this.source=new f.nC,this.isChecked=0,this.ProductHomeTabs=[],this.loadListSubject=new k.xQ,this.loadList$=this.loadListSubject.asObservable(),this.homeTab={},this.menudata=[],this.userProfile={},this.reportHeaders=["Product Code123","Product Name123","Mother Pack","Brand","Business Unit","Base Unit","Weight","Unit","Shelf Life","Description","Status","Alternate Unit","Conversion Factor","MRP","Selling Price","Approval"],this.reportBody=["MENUCODE","DESCA","MotherPack33","Brand","BusinessUnit","BASEUNIT","GWEIGHT","Weighable","SHELFLIFE","Description","STATUS","ALTUNIT","CONFACTOR","MRP","SellingPrice","APPROVAL"],this.reportData=[],this.productGroupList=[],this.productListByID=[],this.selectMultiItems=0,this.itemPerPage=15,this.pages=1,this.groupListCurrentPage=1,this.totalCount=new e.vpe,this.multiselectPopupSettings=new w.oe,this.fileUploadPopupSettings=new S.s,this.selectGroupForExport=!1,this.groupSelectObj={DESCA:"",MCODE:{}},this.listForExport=[],this.items=[],this.asyncChildren=[{name:"child2.1",subTitle:"new and improved"},{name:"child2.2",subTitle:"new and improved2"}],this.customTemplateStringOptions={isExpandedField:"expanded",idField:"uuid",getChildren:this.getChildren.bind(this),actionMapping:dn,allowDrag:!1},this.contextMenuActions=[{html:b=>"Edit",tag:"edit",enabled:b=>!0,visible:b=>!0},{divider:!0,visible:!0},{html:b=>"Delete",tag:"delete",enabled:b=>!0,visible:b=>!0}],this.isMainParentNodeClicked=!0,this.userProfile=this._authService.getUserProfile(),this.orgType=this.userProfile.CompanyInfo.ORG_TYPE,this.AppMode=C.N.appMode;try{this.AppSettings=this.setting.appSetting,this.InilizedProductObj(),this.source=this.source=new f.zV(this._http,{endPoint:`${this.apiUrl}/GetAllProduct`,dataKey:"data",pagerPageKey:"currentPage",pagerLimitKey:"maxResultCount"}),this.onMenuClick("productlist")}catch(b){this._alertService.error(b)}this.MasterRepo.isAddFormShown_1=!1}get treeEnable(){return this._treeEnable}set treeEnable(t){this._treeEnable=t}handleKeyDownloadEvent(t){"F2"==t.code&&(t.preventDefault(),this.showFileUploadPopUp())}onsortByDate(t){this.sortByDateFilter=t}ngOnInit(){this.MasterRepo.isTreeNodeClicked=!1,this.isMainParentNodeClicked=!0,this.MasterRepo.isAddFormShown_1=!1;let t="Product Master";"lite"==this.AppMode&&(t="ProductMaster_Lite"),this.fileUploadPopupSettings=Object.assign(new S.s,{title:"Import Product",sampleFileUrl:`/downloadSampleExcelforMasterMigration?importName=${t}`,uploadEndpoints:`/masterImport/${t}/`,allowMultiple:!1,acceptFormat:".xlsx",filename:"Import Product Sample"})}ngAfterContentInit(){try{this.cdref.detectChanges()}catch(t){alert(t)}}ngOnDestroy(){this.MasterRepo.productLists=[],this.MasterRepo.productGroupLists=[],this.MasterRepo.groupSelectObj={},this.MasterRepo.subGroupAList=[],this.MasterRepo.subGroupBList=[],this.MasterRepo.subGroupCList=[],this.selectedGroupInfo=void 0,this.MasterRepo.groupSelectObj.MGROUP="",this.MasterRepo.SelectedProductGrpID="",this.MasterRepo.TreeID=""}InilizedProductObj(){this.ProductService.productObj={},this.ProductService.productObj.Par={},this.ProductService.productObj.MajorGroup={},this.ProductService.productObj.ItemRateDiscount={},this.ProductService.productObj.MultiStockLevels=[],this.ProductService.productObj.VAT=0}getChildren(t){try{return new Promise((n,o)=>{setTimeout(()=>n(this.asyncChildren.map(r=>Object.assign({},r,{hasChildren:t.level<5}))),1e3)})}catch(n){this._alertService.error(n)}}addNode(t){try{null==this.tree.treeModel.getFocusedNode()?this.tree.treeModel.nodes.push(t):this.tree.treeModel.getFocusedNode().data.children.push(t),this.tree.treeModel.update()}catch(o){this._alertService.error(o)}}childrenCount(t){try{return t&&t.children?`(${t.children.length})`:""}catch(n){this._alertService.error(n)}}filterNodes(t,n){try{n.treeModel.filterNodes(t,!0)}catch(o){this._alertService.error(o)}}activateSubSub(t){try{t.treeModel.getNodeById("PRG57952").setActiveAndVisible()}catch(n){this._alertService.error(n)}}onEvent(t){}searchItemEmitEvent(t){this.activateSubSub(this.tree),null!=this.tree.treeModel.getNodeById("PRG4047P")&&this.tree.treeModel.getNodeById("PRG4047P")}AddItem(){}onselect(t,n){try{this.source=new f.nC,this.selectedNode=t.treeModel.getFocusedNode().data,this.loadListSubject.next(this.selectedNode)}catch(o){console.log(o),this._alertService.error(o)}}go(t){try{t.stopPropagation()}catch(n){this._alertService.error(n)}}onTreeEnable(t){try{this.treeEnable=t}catch(n){this._alertService.error(n)}}onMenuClick(t){if("productlist"!=t){if(0==this.MasterRepo.checkUserRights("add","productmaster"))return;let r=this.MasterRepo.checkIsBranch();if(console.log("isbranch",r),0==r)return void this.alertService.warning("Cannot add product from branch office")}if("addproduct"==t&&this.MasterRepo.userSetting.ITEMGROUPCODELEVEL>this.MasterRepo.ITEM_LEVEL)this._alertService.info("Cannot Add Product In This Level!!");else{if("addSubgroup"==t){console.log("masterrepo",this.MasterRepo.subGroupLevel);let o=4;if("lite"==C.N.appMode&&(o=3),this.MasterRepo.subGroupLevel>=o)return void this._alertService.warning("Cannot add sub group in this level")}this.homeTab.name=t,this.homeTab.selectedNode=this.selectedNode,this.homeTab.mode="productlist"==t?"List":"add",this.homeTab.active=!0,this.ProductHomeTabs=[],this.ProductHomeTabs.push(this.homeTab),this.groupType=t,this.MasterRepo.isAddFormShown_1=!0,"addgroup"==t?this.MasterRepo.modeIs="Add Main Group":"addSubgroup"==t?this.MasterRepo.modeIs="Add Sub Group":"addproduct"==t&&(this.MasterRepo.modeIs="Add Product",this.MasterRepo.disabledSubgroupA=!0,this.MasterRepo.disabledSubgroupB=!0,this.MasterRepo.disabledSubgroupC=!0,this.MasterRepo.disableOnCheckTran=!1,this.MasterRepo.subCategoryAList=[],this.MasterRepo.subCategoryBList=[])}}activeTabEmitEvent(t){if(console.log("active tab emit event",t),this.ProductHomeTabs=[],this.modeForHideAddProduct=t.mode,console.log("home mode",this.modeForHideAddProduct),"addgroup"==t.name?this.MasterRepo.modeIs=(t.mode?t.mode.charAt(0).toUpperCase()+t.mode.substr(1).toLowerCase():"")+" Main Group":"addSubgroup"==t.name?this.MasterRepo.modeIs=(t.mode?t.mode.charAt(0).toUpperCase()+t.mode.substr(1).toLowerCase():"")+" Sub Group":"addproduct"==t.name&&(this.MasterRepo.modeIs=(t.mode?t.mode.charAt(0).toUpperCase()+t.mode.substr(1).toLowerCase():"")+" Product"),t.mode||(this.MasterRepo.modeIs=""),this.ProductHomeTabs.push(t),null!=t.savedValue&&"add"==t.mode){if("group"==t.from)this.addNode({id:t.savedValue.MCODE,name:t.savedValue.DESCA,menucode:t.savedValue.MENUCODE,children:[]}),this.InilizedProductObj();else if("product"==t.from){this.MasterRepo.PartialProductList.push({MCODE:t.savedValue.MCODE,MENUCODE:t.savedValue.MENUCODE,DESCA:t.savedValue.DESCA,BASEUNIT:t.savedValue.BASEUNIT,PARENT:t.savedValue.PARENT});var n=this.MasterRepo.PartialProductList.filter(r=>r.PARENT==this.selectedNode.id);n.length>0&&this.source.load(n),this.InilizedProductObj()}}else if(null!=t.savedValue&&"edit"==t.mode)if("product"==t.from){let o={MCODE:t.savedValue.MCODE,MENUCODE:t.savedValue.MENUCODE,DESCA:t.savedValue.DESCA,BASEUNIT:t.savedValue.BASEUNIT,PARENT:t.savedValue.PARENT};this.MasterRepo.PartialProductList.splice(this.MasterRepo.PartialProductList.findIndex(r=>r.MCODE==o.MCODE),1),this.MasterRepo.PartialProductList.push(o)}else"group"==t.from&&this.MasterRepo.ProductGroupTree.length>0&&(this.loopingtreeForEdit(this.MasterRepo.ProductGroupTree,t.savedValue.MCODE,t.savedValue.DESCA),this.nodes=this.MasterRepo.ProductGroupTree)}loopingtreeForEdit(t,n,o){for(let r of t){if(r.id==n){r.name=o;break}this.loopingtreeForEdit(r.children,n,o)}}contextMenuClick(t,n){if("edit"==n.tag){let o={name:"addgroup"};o.selectedEditNode=t,o.mode="edit",o.active=!0,this.ProductHomeTabs=[],this.ProductHomeTabs.push(o)}}fileEvent(t){let n=t.target.files;if(n.length>0){let o=n[0],r=new FormData;r.append("uploadFile",o,o.name),this.ProductService.getUploadFile(r)}}getTreeNodeValue(t){this.MasterRepo.pagesubject.next(1),this.MasterRepo.ProdGroupSubject.next(1),this.pages=1,this.MasterRepo.currentPage=1,this.getTreeNodeValueObj=t,this.MasterRepo.isTreeNodeClicked=!0,this.MasterRepo.TreeID=t.mgroup,this.MasterRepo.SelectedProductPrarentID=t.parentId,this.MasterRepo.SelectedProductGrpID=t.id,this.MasterRepo.subGroupLevel=t.LEVELS,"PRG99999999"==t.menucode?(this.isMainParentNodeClicked=!0,this.MasterRepo.isMainGroup=!0):(this.isMainParentNodeClicked=!1,this.MasterRepo.isMainGroup=!1),this.ProductService.getProductGroupListByID(t.id,t.parentId,t.children.length,this.groupListCurrentPage,this.itemPerPage).subscribe(n=>{this.productGroupList=n.result.result,this.MasterRepo.productGroupLists=n.result.result,this.MasterRepo.productGroupSearchTotalCount=n.result.totalCount,this.totalCount.emit(n.result.totalCount),this.MasterRepo.filter="",this.MasterRepo.filters="",this.MasterRepo.ITEM_LEVEL=n.result2&&n.result2[0].ITEM_LEVEL}),this.ProductService.getProductListByID(t.id,t.parentId,t.children.length,this.MasterRepo.currentPage,this.itemPerPage).subscribe(n=>{this.productListByID=n.result,console.log(this.productListByID),this.MasterRepo.productLists=n.result,this.MasterRepo.productSearchTotalCount=n.totalCount})}clickedActive(t){this.isChecked=t}getSelectedGroupInfo(t){this.selectedGroupInfo=t}excelReportNameProvide(){return"productmaster-report"}ExportReportInExcel(){this.selectGroupForExport=!0}onExport(){this._spinnerservice.show("Downloading product master report, Please wait..."),""==this.groupSelectObj.DESCA&&(this.listForExport=[]),this.MasterRepo.getExcelFile(this.isChecked,this.listForExport).subscribe(n=>{this._spinnerservice.hide();let o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});console.log("blob1",o,n),_.saveAs(o,"Product Master.xlsx")},n=>{this.alertService.info("data could not found"),this._spinnerservice.hide()}),this.closeGroupModal(),this.isChecked=0}GroupEnterCommand(t){this.getGroupList(),this.multiselectGenericGrid.show()}getGroupList(){this.multiselectPopupSettings=this.MasterRepo.getGenericGridPopUpSettings("GroupsList")}onMultiItemSelected(t){console.log("group mulitple selected",t),this.groupSelectObj.DESCA=t.DESCA,this.items=t.MCODE.split(","),this.groupSelectObj.MCODE=this.items,this.items.forEach(n=>{this.listForExport.push({mcode:n})}),console.log(this.items,this.listForExport)}closeGroupModal(){this.selectGroupForExport=!1,this.groupSelectObj.DESCA="",this.listForExport=[]}excelDownloadFromHtml_manualTable(t){try{this.reportData=this.menudata[0];let u='<table style="border: thin solid black;">  <thead>   <tr>';for(let A of this.reportHeaders)u+='<th style="border: thin solid black;">'+A+"</th>";u+="</tr> </thead>",u+="<tbody>";for(let A of this.reportData){u+="<tr>";for(let T of this.reportBody){var n=A[T];null==n&&(n=""),u+='<td style="border: thin solid black;">'+n+"</td>"}}u+="</tbody></table>";var r=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),c=URL.createObjectURL(r),a=document.createElement("a");a.href=c,a.download=this.excelReportNameProvide()+".xlsx",document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(u){alert(u)}}onCancel(){try{this.routeToHome()}catch(t){this._alertService.error(t)}}routeToHome(t=null,n=null){let o={name:"productlist",active:!0};o.mode=n,o.from="product",o.savedValue=t,this.MasterRepo.groupSelectObj={},this.MasterRepo.subGroupAList=[],this.MasterRepo.subGroupBList=[],this.MasterRepo.subGroupCList=[],this.selectedGroupInfo=void 0,this.MasterRepo.groupSelectObj.MGROUP="",this.MasterRepo.SelectedProductGrpID="",this.MasterRepo.TreeID="",this.activeTabEmitEvent(o),this.ProductService.productObj={},this.MasterRepo.isAddFormShown_1=!1,console.log("group select",this.ProductService.groupSelectObj)}Delete(){this.MasterRepo.checkUserRights("delete","productmaster")&&confirm("Do you want to delete?")&&(this.alertService.info("Deleting data, Please wait."),this.ProductService.deleteMenuitem(this.MasterRepo.ProductMcode,this.MasterRepo.isGroup).subscribe(t=>{console.log("@@res",t),"ok"==t.status?(this.MasterRepo.updateBrandTreeSubject.next(t),this.ProductService.productObj={},this.MasterRepo.isAddFormShown_1=!1,setTimeout(()=>{1==this.MasterRepo.isGroup&&this.alertService.hide(),this._alertService.success(t.result),this.routeToHome()},1e3),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.MasterRepo.currentPage,this.itemPerPage).subscribe(n=>{this.productListByID=n.result,this.MasterRepo.productLists=n.result}),this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage).subscribe(n=>{this.MasterRepo.productGroupLists=n.result.result})):"error"==t.staus&&this.alertService.info(t.result)}))}productListWhileLoad(){let t="PRG99999999";this.ProductService.getProductListByID(t,"MI",53,this.MasterRepo.currentPage,10).subscribe(r=>{this.productListByID=r.result,this.MasterRepo.productLists=r.result,this.MasterRepo.productSearchTotalCount=r.totalCount}),this.ProductService.getProductGroupListByID(t,"MI",53,this.groupListCurrentPage,10).subscribe(r=>{this.MasterRepo.productGroupLists=r.result.result,this.MasterRepo.productGroupSearchTotalCount=r.result.totalCount})}showFileUploadPopUp(){this.fileUploadPopup.show()}fileUploadSuccess(t){console.log("upload success",t,t.result.result,t.result),"ok"==t.status?this.alertService.success(t.result.result):this.alertService.error(t.result)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.c),e.Y36(e.zs3),e.Y36(P.P),e.Y36(M.e),e.Y36(h.L),e.Y36(I.R),e.Y36(G.V),e.Y36(v.c),e.Y36(m.F0),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["products"]],viewQuery:function(t,n){if(1&t&&(e.Gf(O.qr,5),e.Gf(Xt,5),e.Gf($t,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.tree=o.first),e.iGM(o=e.CRH())&&(n.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(n.fileUploadPopup=o.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(r){return n.handleKeyDownloadEvent(r)},!1,e.evT)},outputs:{totalCount:"totalCount"},features:[e._Bn([h.L,M.e]),e.qOj],decls:25,vars:25,consts:[[1,"row"],[1,"col-md-6"],[2,"white-space","nowrap","font-family","Segoe UI Light","font-weight","bold","font-size","18px","padding-left","4%","width","192px"],["style","font-size: 14px;width: 130px;padding-top: 8px;",4,"ngIf"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],["class","btn btn-info pull-right","style","font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","margin-left: 5px;font-size: 12px;","appOldFYearDB","",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","font-size: 12px;",3,"click",4,"ngIf"],[1,"col-md-3",2,"padding","0px"],[3,"brandsortByDateFilter","isAddFormShown","selectedNode","selectedGroupInfo"],[1,"col-md-9",2,"margin-top","-0"],[3,"source","productObj","ProductHomeTabs","groupType","getTreeNodeValueObj","selectedGroupInfo","productGroupList","productListByID","isAddFormShown","itemPerPage","pages","groupListCurrentPage","sortByDateEmit","activeTabEmit"],[4,"ngIf"],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"popupsettings","onUploaded"],["fileUploadPopup",""],[2,"font-size","14px","width","130px","padding-top","8px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],["type","button","appOldFYearDB","",1,"btn","btn-info","pull-right",2,"margin-left","5px","font-size","12px",3,"disabled","click"],["isOldFYearDB","appOldFYearDB"],["type","button",1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","20px","margin-right","8rem"],[1,"modal-content","modal-content-main-area",2,"width","70%"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row",2,"margin","0.5rem"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Group List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-left","-10%","width","100%"],["type","checkbox",3,"change"],[1,"modal-footer"],[1,"col-9"],[2,"font-size","12px"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px","margin-right","20px","float","right",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"PRODUCT MASTER"),e.qZA(),e.YNc(4,en,2,1,"label",3),e.qZA(),e.TgZ(5,"div",1)(6,"button",4),e._uU(7," Back "),e.qZA(),e.YNc(8,tn,2,0,"button",5),e.YNc(9,nn,2,0,"button",5),e.YNc(10,on,3,1,"button",6),e.YNc(11,rn,3,1,"button",6),e.YNc(12,sn,3,1,"button",6),e.YNc(13,cn,2,0,"button",7),e.YNc(14,an,2,0,"button",7),e.qZA()(),e.TgZ(15,"div",0)(16,"div",8)(17,"brand-tree",9),e.NdJ("selectedNode",function(r){return n.getTreeNodeValue(r)})("selectedGroupInfo",function(r){return n.getSelectedGroupInfo(r)}),e.qZA()(),e.TgZ(18,"div",10)(19,"hometabs",11),e.NdJ("sortByDateEmit",function(r){return n.onsortByDate(r)})("activeTabEmit",function(r){return n.activeTabEmitEvent(r)}),e.qZA()()(),e.YNc(20,ln,31,1,"div",12),e.TgZ(21,"multiselect-generic-grid",13,14),e.NdJ("onItemsSelected",function(r){return n.onMultiItemSelected(r)}),e.qZA(),e.TgZ(23,"file-uploader-popup",15,16),e.NdJ("onUploaded",function(r){return n.fileUploadSuccess(r)}),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngIf",n.MasterRepo.modeIs),e.xp6(4),e.Q6J("ngIf","productlist"==n.ProductHomeTabs[0].name),e.xp6(1),e.Q6J("ngIf","productlist"==n.ProductHomeTabs[0].name),e.xp6(1),e.Q6J("ngIf","view"!==n.modeForHideAddProduct),e.xp6(1),e.Q6J("ngIf","view"!==n.modeForHideAddProduct),e.xp6(1),e.Q6J("ngIf","view"!==n.modeForHideAddProduct),e.xp6(1),e.Q6J("ngIf","productlist"!=n.ProductHomeTabs[0].name&&"view"==n.modeForHideAddProduct),e.xp6(1),e.Q6J("ngIf","productlist"!=n.ProductHomeTabs[0].name),e.xp6(3),e.Q6J("brandsortByDateFilter",n.sortByDateFilter)("isAddFormShown",n.isAddFormShown),e.xp6(2),e.Q6J("source",n.source)("productObj",n.ProductService.productObj)("ProductHomeTabs",n.ProductHomeTabs)("groupType",n.groupType)("getTreeNodeValueObj",n.getTreeNodeValueObj)("selectedGroupInfo",n.selectedGroupInfo)("productGroupList",n.productGroupList)("productListByID",n.productListByID)("isAddFormShown",n.isAddFormShown)("itemPerPage",n.itemPerPage)("pages",n.pages)("groupListCurrentPage",n.groupListCurrentPage),e.xp6(1),e.Q6J("ngIf",n.selectGroupForExport),e.xp6(1),e.Q6J("popupsettings",n.multiselectPopupSettings),e.xp6(2),e.Q6J("popupsettings",n.fileUploadPopupSettings))},dependencies:[p.O5,d.Fj,d.JJ,d.On,m.rH,B.G,w.ky,L.H,S.U,Wt],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}"]}),i})()},{path:"add-productmaster",component:Oe},{path:"add-product-group",component:Pe}];let pn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(un),m.Bz]}),i})();var hn=l(63321),_n=l(59629),gn=l(93247),mn=l(39773);const fn=["*"];let ye=(()=>{class i{constructor(){this.active=!1}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["tab"]],inputs:{title:["tabTitle","title"],active:"active"},ngContentSelectors:fn,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA()),2&t&&e.Q6J("hidden",!n.active)},styles:[".pane[_ngcontent-%COMP%]{padding:1em}"]}),i})();function bn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",2),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.selectTab(r))}),e.TgZ(1,"a"),e._uU(2),e.qZA()()}if(2&i){const t=s.$implicit;e.ekj("active",t.active),e.xp6(2),e.Oqu(t.title)}}const Cn=["*"];let Tn=(()=>{class i{ngAfterContentInit(){try{0===this.tabs.filter(n=>n.active).length&&this.selectTab(this.tabs.first)}catch(t){alert(t)}}selectTab(t){try{this.tabs.toArray().forEach(n=>n.active=!1),t.active=!0}catch(n){alert(n)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["tabs"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,ye,4),2&t){let r;e.iGM(r=e.CRH())&&(n.tabs=r)}},ngContentSelectors:Cn,decls:3,vars:1,consts:[[1,"nav","nav-tabs",2,"height","29px","justify-content","start","width","101%"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"ul",0),e.YNc(1,bn,3,3,"li",1),e.qZA(),e.Hsn(2)),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.tabs))},dependencies:[p.sg],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:5px;text-decoration:none;font-size:14px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff;cursor:pointer;cursor:hand}.active[_ngcontent-%COMP%]{color:#000;background-color:#336799;height:29px}@media (min-height: 1024px),(min-width: 768px){ul[_ngcontent-%COMP%]{justify-content:none}}"]}),i})();var Mn=l(46543),y=l(28698);const On=["genericGridWarehouse"];function An(i,s){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.UNITS),e.xp6(1),e.Oqu(t.UNITS)}}function Pn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",32),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw(3);return e.KtG(c.RowClick(r))}),e.TgZ(1,"td",33)(2,"input",34),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.WAREHOUSE=o)})("keydown.enter",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.WarehouseEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.WarehouseEnterCommand(o))})("keydown.enter",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick())})("keydown.Tab",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick(o.warehouse))}),e.qZA()(),e.TgZ(3,"td",33)(4,"input",35),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ROLEVEL=o)})("keydown.enter",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick("rolevel"))})("keydown.Tab",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick(o.rolevel))}),e.qZA()(),e.TgZ(5,"td",33)(6,"input",35),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.MINLEVEL=o)})("keydown.enter",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick("minlevel"))})("keydown.Tab",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick(o.minlevel))}),e.qZA()(),e.TgZ(7,"td",33)(8,"input",35),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.MAXLEVEL=o)})("keydown.enter",function(){const r=e.CHM(t).index,c=e.oxw(3);return e.KtG(c.onaddnewRow(r))})("keydown.Tab",function(){const r=e.CHM(t).index,c=e.oxw(3);return e.KtG(c.onaddnewRow(r))}),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.MGl("id","warehouse",n,""),e.Q6J("ngModel",t.WAREHOUSE),e.xp6(2),e.MGl("id","rolevel",n,""),e.Q6J("ngModel",t.ROLEVEL),e.xp6(2),e.MGl("id","minlevel",n,""),e.Q6J("ngModel",t.MINLEVEL),e.xp6(2),e.MGl("id","maxlevel",n,""),e.Q6J("ngModel",t.MAXLEVEL)}}function Sn(i,s){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,Pn,9,8,"tr",31),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.productObj.MultiStockLevels)}}function vn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",32),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw(3);return e.KtG(c.TemptableRowClick(r))}),e.TgZ(1,"td",36)(2,"input",37),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.WAREHOUSE=o)})("keydown.enter",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.WarehouseEnterCommand(o))})("keydown.Tab",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.WarehouseEnterCommand(o))})("keyup",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.WarehouseEnterCommand(o))})("keydown.enter",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick())})("keydown.Tab",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick(o.warehouse))}),e.qZA()(),e.TgZ(3,"td",38)(4,"input",35),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ROLEVEL=o)})("keydown.enter",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick("rolevel"))})("keydown.Tab",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick(o.rolevel))}),e.qZA()(),e.TgZ(5,"td",39)(6,"input",35),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.MINLEVEL=o)})("keydown.enter",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick("minlevel"))})("keydown.Tab",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.tabclick(o.minlevel))}),e.qZA()(),e.TgZ(7,"td",39)(8,"input",35),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.MAXLEVEL=o)})("keydown.enter",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onaddnewRow("maxlevel"))})("keydown.Tab",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onaddnewRow("maxlevel"))}),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Q6J("ngModel",t.WAREHOUSE),e.xp6(2),e.MGl("id","rolevel",n,""),e.Q6J("ngModel",t.ROLEVEL),e.xp6(2),e.MGl("id","minlevel",n,""),e.Q6J("ngModel",t.MINLEVEL),e.xp6(2),e.MGl("id","maxlevel",n,""),e.Q6J("ngModel",t.MAXLEVEL)}}function En(i,s){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,vn,9,7,"tr",31),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.MultiStockLevelsTemp)}}function xn(i,s){if(1&i&&(e.TgZ(0,"div",26),e._UZ(1,"br"),e.TgZ(2,"table",27)(3,"tr",28)(4,"td",29),e._uU(5,"Warehouse"),e.qZA(),e.TgZ(6,"td",29),e._uU(7,"Re-Order"),e.qZA(),e.TgZ(8,"td",29),e._uU(9,"Min Stock"),e.qZA(),e.TgZ(10,"td",29),e._uU(11,"Max Stock"),e.qZA()(),e.YNc(12,Sn,2,1,"tbody",30),e.YNc(13,En,2,1,"tbody",30),e.qZA()()),2&i){const t=e.oxw();e.xp6(12),e.Q6J("ngIf",1==t.productService.isrowClicked),e.xp6(1),e.Q6J("ngIf",0==t.productService.isrowClicked)}}let wn=(()=>{class i{constructor(t,n,o){this.masterService=t,this.productService=n,this.alert=o,this.productObj={},this.EnableMultiStockLevel=!1,this.gridPopupSettingsForWarehouse=new y.im,this.WarehouseList=[],this.MSLevel={},this.activerowIndex=0,this.Units=[],this.MultiStockLevelsTemp=[],this.masterService.getUnits().subscribe(r=>{this.Units=r})}ngOnInit(){this.AppMode=C.N.appMode;try{this.initialMultiStockLevels(),this.masterService.getWarehouseList().subscribe(t=>{this.WarehouseList=t}),this.productService.isrowClicked=!1,this.EnableMultiStockLevel=!1,this.initialAddRow()}catch(t){alert(t)}}initialMultiStockLevels(){let t={MAXLEVEL:0,MCODE:"",MINLEVEL:0,ROLEVEL:0,WAREHOUSE:""};return this.productObj.MultiStockLevels.push(t),console.log("initail step",this.productObj,t),!0}AddMultiStock(){try{if(null==this.MSLevel.WAREHOUSE||this.productObj.MultiStockLevels.filter(t=>t.WAREHOUSE==this.MSLevel.WAREHOUSE).length>0)return;null==this.productObj.MultiStockLevels&&(this.productObj.MultiStockLevels=[]),this.productObj.MultiStockLevels.push(this.MSLevel),this.MSLevel={}}catch(t){alert(t)}}removeMSLevel(t){try{this.productObj.MultiStockLevels.splice(t,1)}catch(n){alert(n)}}WarehouseWiseInventory(t){try{console.log("checkchecknewvalue",t),1==t?(this.EnableMultiStockLevel=!0,this.productObj.MultiStockLevels=[],this.initialMultiStockLevels()):(this.EnableMultiStockLevel=!1,this.productObj.MultiStockLevels=[],this.initialMultiStockLevels())}catch(n){alert(n)}}onaddnewRow(t){if(""==this.productObj.MultiStockLevels[t].WAREHOUSE)return void alert("please enter warehouse first");let n=this.activerowIndex+1;this.productObj.MultiStockLevels.some(o=>""==o.WAREHOUSE)||(this.initialMultiStockLevels(),this.productService.isrowClicked=!0,setTimeout(()=>{document.getElementById("warehouse"+n).focus()},0))}RowClick(t){this.activerowIndex=t}TemptableRowClick(t){this.productService.isrowClicked=!0}tabclick(t){"warehouse"==t&&document.getElementById("rolevel"+this.activerowIndex).focus(),"rolevel"==t&&document.getElementById("minlevel"+this.activerowIndex).focus(),"minlevel"==t&&document.getElementById("maxlevel"+this.activerowIndex).focus()}WarehouseEnterCommand(t){this.gridPopupSettingsForWarehouse={title:"Warehouse",apiEndpoints:"/getAllWarehousePagedList",defaultFilterIndex:0,columns:[{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridWarehouse.show()}onWarehouseSelected(t){this.productObj.MultiStockLevels.find(n=>n.WAREHOUSE===t.NAME)?this.alert.error("Cannot enter same Warehouse !"):(this.productObj.MultiStockLevels[this.activerowIndex].WAREHOUSE=t.NAME,this.tabclick("warehouse"))}initialAddRow(t=0){let o={MAXLEVEL:0,MCODE:"",MINLEVEL:0,ROLEVEL:0,WAREHOUSE:""};for(let r=0;r<=4;r++)this.MultiStockLevelsTemp.push(o)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(h.L),e.Y36(v.c))},i.\u0275cmp=e.Xpm({type:i,selectors:[["inventorycontroltab"]],viewQuery:function(t,n){if(1&t&&e.Gf(On,5),2&t){let o;e.iGM(o=e.CRH())&&(n.genericGridWarehouse=o.first)}},inputs:{productObj:"productObj",EnableMultiStockLevel:"EnableMultiStockLevel"},decls:64,vars:20,consts:[[1,"row",2,"margin-left","-15px !important"],[1,"col-md-5",2,"padding-left","0px"],[1,"fieldsColumnHeading"],[2,"width","105px"],["type","number",3,"ngModel","ngModelChange"],[2,"width","70px","margin-left","10px"],[1,"fieldsColumnHeading",2,"margin-top","30px"],[2,"width","97px"],["type","number",2,"width","70px","text-align","right","margin-right","5px",3,"ngModel","ngModelChange"],[2,"width","20%",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number","placeholder","l",2,"width","46px","text-align","right","margin-right","5px",3,"ngModel","ngModelChange"],["type","number","placeholder","w",2,"width","46px","text-align","right","margin-right","5px",3,"ngModel","ngModelChange"],["type","number","placeholder","b",2,"width","47px","text-align","right","margin-right","5px",3,"ngModel","ngModelChange"],[2,"width","70px","margin-left","4px"],["type","number",2,"width","150px","text-align","right",3,"ngModel","ngModelChange"],[1,"offset-lg-1"],[1,"col-md-6",2,"padding-left","0px"],[2,"width","300px"],[2,"width","270px","height","20px"],["type","checkbox",2,"vertical-align","middle",3,"checked","change"],[2,"width","320px","height","20px"],["style","overflow:auto;",4,"ngIf"],[3,"popupsettings","onItemDoubleClick"],["genericGridWarehouse",""],[3,"ngValue"],[2,"overflow","auto"],["id","BlueHeaderResizableTable"],[1,"tableHeading"],[1,"fontsize"],[4,"ngIf"],["style","border: 1 px solid gray;",3,"click",4,"ngFor","ngForOf"],[2,"border","1 px solid gray",3,"click"],[1,"fontsize",2,"border","1px solid #c3afaf"],["type","text","name","","autocomplete","off","placeholder","Press Enter or Tab",3,"id","ngModel","ngModelChange","keydown.enter","keydown.Tab"],["type","text","name","","id","",3,"id","ngModel","ngModelChange","keydown.enter","keydown.Tab"],[1,"fontsize",2,"width","150px","border","1px solid #c3afaf"],["type","text","name","","autocomplete","off","placeholder","Press Enter or Tab",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup"],[1,"fontsize",2,"width","85tabclickpx","border","1px solid #c3afaf"],[1,"fontsize",2,"width","85px","border","1px solid #c3afaf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Default Inventory Control Parameter"),e.qZA(),e.TgZ(4,"div")(5,"label",3),e._uU(6,"Re-Order Level :"),e.qZA(),e.TgZ(7,"input",4),e.NdJ("ngModelChange",function(r){return n.productObj.ROLEVEL=r}),e.qZA(),e.TgZ(8,"label",5),e._uU(9),e.qZA()(),e.TgZ(10,"div")(11,"label",3),e._uU(12,"Min Stock Level :"),e.qZA(),e.TgZ(13,"input",4),e.NdJ("ngModelChange",function(r){return n.productObj.MINLEVEL=r}),e.qZA(),e.TgZ(14,"label",5),e._uU(15),e.qZA()(),e.TgZ(16,"div")(17,"label",3),e._uU(18,"Max Stock Level :"),e.qZA(),e.TgZ(19,"input",4),e.NdJ("ngModelChange",function(r){return n.productObj.MAXLEVEL=r}),e.qZA(),e.TgZ(20,"label",5),e._uU(21),e.qZA()(),e.TgZ(22,"div",6),e._uU(23,"Inventory Packing Detail"),e.qZA(),e.TgZ(24,"div")(25,"label",7),e._uU(26,"Weight :"),e.qZA(),e.TgZ(27,"input",8),e.NdJ("ngModelChange",function(r){return n.productObj.GWEIGHT=r}),e.qZA(),e.TgZ(28,"select",9),e.NdJ("ngModelChange",function(r){return n.productObj.PACK=r}),e.YNc(29,An,2,2,"option",10),e.qZA(),e.TgZ(30,"label",5),e._uU(31),e.qZA()(),e.TgZ(32,"div")(33,"label",7),e._uU(34,"Dimension :"),e.qZA(),e.TgZ(35,"input",11),e.NdJ("ngModelChange",function(r){return n.productObj.LENGTH=r}),e.qZA(),e.TgZ(36,"input",12),e.NdJ("ngModelChange",function(r){return n.productObj.WIDTH=r}),e.qZA(),e.TgZ(37,"input",13),e.NdJ("ngModelChange",function(r){return n.productObj.BREADTH=r}),e.qZA(),e.TgZ(38,"label",14),e._uU(39,"(Length/Width/Breadth)"),e.qZA()(),e.TgZ(40,"div")(41,"label",7),e._uU(42,"Total Quantity :"),e.qZA(),e.TgZ(43,"input",15),e.NdJ("ngModelChange",function(r){return n.productObj.CBM=r}),e.qZA(),e.TgZ(44,"label",5),e._uU(45," / CLD"),e.qZA()()(),e._UZ(46,"div",16),e.TgZ(47,"div",17)(48,"div",18)(49,"label",19)(50,"input",20),e.NdJ("change",function(r){return n.productObj.MINWARN=r.target.checked?1:0}),e.qZA(),e._uU(51,"\xa0Do Not Issue Stock After Min Stock Level."),e.qZA(),e.TgZ(52,"label",19)(53,"input",20),e.NdJ("change",function(r){return n.productObj.ROWARN=r.target.checked?1:0}),e.qZA(),e._uU(54,"\xa0Warn When Stock Reaches Re-Order Level."),e.qZA(),e.TgZ(55,"label",19)(56,"input",20),e.NdJ("change",function(r){return n.productObj.ZEROROLEVEL=r.target.checked?1:0}),e.qZA(),e._uU(57,"\xa0Take Zero Stock As Re-Order Level."),e.qZA()(),e.TgZ(58,"label",21)(59,"input",20),e.NdJ("change",function(r){return n.WarehouseWiseInventory(r.target.checked)}),e.qZA(),e._uU(60," Warehouse Wise Inventory Control Setting"),e.qZA(),e.YNc(61,xn,14,2,"div",22),e.qZA()(),e.TgZ(62,"generic-popup-grid",23,24),e.NdJ("onItemDoubleClick",function(r){return n.onWarehouseSelected(r)}),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngModel",n.productObj.ROLEVEL),e.xp6(2),e.Oqu(n.productObj.BASEUNIT),e.xp6(4),e.Q6J("ngModel",n.productObj.MINLEVEL),e.xp6(2),e.Oqu(n.productObj.BASEUNIT),e.xp6(4),e.Q6J("ngModel",n.productObj.MAXLEVEL),e.xp6(2),e.Oqu(n.productObj.BASEUNIT),e.xp6(6),e.Q6J("ngModel",n.productObj.GWEIGHT),e.xp6(1),e.Q6J("ngModel",n.productObj.PACK),e.xp6(1),e.Q6J("ngForOf",n.Units),e.xp6(2),e.hij(" / ",n.productObj.BASEUNIT,""),e.xp6(4),e.Q6J("ngModel",n.productObj.LENGTH),e.xp6(1),e.Q6J("ngModel",n.productObj.WIDTH),e.xp6(1),e.Q6J("ngModel",n.productObj.BREADTH),e.xp6(6),e.Q6J("ngModel",n.productObj.CBM),e.xp6(7),e.Q6J("checked",1==n.productObj.MINWARN),e.xp6(3),e.Q6J("checked",1==n.productObj.ROWARN),e.xp6(3),e.Q6J("checked",1==n.productObj.ZEROROLEVEL),e.xp6(3),e.Q6J("checked",n.EnableMultiStockLevel),e.xp6(2),e.Q6J("ngIf",1==n.EnableMultiStockLevel),e.xp6(1),e.Q6J("popupsettings",n.gridPopupSettingsForWarehouse))},dependencies:[p.sg,p.O5,d.YN,d.Kr,d.Fj,d.wV,d.EJ,d.JJ,d.On,y.Zl],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".fontsize[_ngcontent-%COMP%] {\n        font-size: 12px;\n        border: 1px solid gray;\n    }\n\n    .col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .ThirtyTreeLabel[_ngcontent-%COMP%] {\n        width: 28.5%;\n    }\n\n    .fourtyfive[_ngcontent-%COMP%] {\n        width: 45%;\n    }\n\n    .thirtysix[_ngcontent-%COMP%] {\n        width: 36%;\n    }\n\n    .fontsize[_ngcontent-%COMP%] {\n        font-size: 12px;\n        border: 1px solid gray;\n    }\n\n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n        \n    }\n\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr[_ngcontent-%COMP%]:nth-child(even) {\n        background-color: #f2f2f2;\n    }"]}),i})(),Re=(()=>{class i{onKeyDown(t){"Space"==t.code&&t.preventDefault()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["","WhiteSpaceRestriction",""]],hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(r){return n.onKeyDown(r)})}}),i})();const yn=["smBarcode"];function Rn(i,s){1&i&&(e.TgZ(0,"label",22),e._uU(1,"Unit :"),e.qZA())}function Dn(i,s){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.ALTUNIT),e.xp6(1),e.Oqu(t.ALTUNIT)}}function In(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"select",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.PBarCode.UNIT=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.BarcodeChangeEvent())}),e.TgZ(1,"option",24),e._uU(2),e.qZA(),e.YNc(3,Dn,2,2,"option",25),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.PBarCode.UNIT),e.xp6(1),e.Q6J("ngValue",t.productObj.BASEUNIT),e.xp6(1),e.Oqu(t.productObj.BASEUNIT),e.xp6(1),e.Q6J("ngForOf",t.Units)}}function Nn(i,s){1&i&&(e.TgZ(0,"th",26),e._uU(1,"Unit"),e.qZA())}const kn=function(i){return{tooltipChild:i}};function Un(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"span",38),e.BQk()),2&i){const t=e.oxw().index,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(2,kn,n.hoverId==t))("innerHTML",n.stringValue,e.oJD)}}function jn(i,s){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.UNIT)}}function Zn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",27)(1,"td",28),e._uU(2),e.qZA(),e.TgZ(3,"td",29),e.NdJ("mouseover",function(){const o=e.CHM(t),r=o.index,c=o.$implicit,a=e.oxw();return e.KtG(a.hover(r,c.BARCODEDETAILS))}),e._uU(4),e.YNc(5,Un,2,4,"ng-container",30),e.qZA(),e.YNc(6,jn,2,1,"td",31),e.TgZ(7,"td",32)(8,"input",33),e.NdJ("change",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.DISCONTINUE=o.target.checked?1:0)})("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.DISCONTINUE=o)}),e.qZA()(),e.TgZ(9,"td",34),e._uU(10),e.qZA(),e.TgZ(11,"td",35)(12,"button",36),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.editMSLevel(r))}),e._uU(13,"EDIT"),e.qZA(),e.TgZ(14,"button",37),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeMSLevel(r))}),e._uU(15,"Remove"),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index,o=e.oxw();e.xp6(2),e.Oqu(n+1),e.xp6(2),e.hij("",t.BCODE," "),e.xp6(1),e.Q6J("ngIf",t.BARCODEDETAILS),e.xp6(1),e.Q6J("ngIf","lite"!=o.AppMode),e.xp6(2),e.Q6J("ngModel",t.DISCONTINUE),e.xp6(2),e.Oqu(t.ISOLD)}}let Gn=(()=>{class i{constructor(t,n,o,r,c){this.masterService=t,this.setting=n,this.alertSevice=o,this.productService=r,this.ProductService=c,this.productObj={},this.PBarCode={},this.PBarCodeCollection=[],this.AlternateUnits=[],this.BCodeDetails=[],this.SupplierList=[],this.DivisionList=[],this.Units=[],this.barcodeUnits=[],this.active=0,this.stringValue="",this.AppMode=C.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(a){alert(a)}}ngOnInit(){try{this.Units=this.AlternateUnits,console.log(this.Units),this.masterService.getBCodeDetails().subscribe(t=>{this.BCodeDetails.push(t)}),setTimeout(()=>{this.PBarCode.UNIT=this.productObj.BASEUNIT},3e3),this.PBarCode.ISOLD=0}catch(t){alert(t)}}supplierChangeEvent(){try{this.PBarCode.SUPCODE=this.PBarCode.SupplierAccount.ACID}catch(t){alert(t)}}divChangeEvent(){try{this.PBarCode.DIV=this.PBarCode.Division.INITIAL}catch(t){alert(t)}}PBarcodeInitialize(){try{this.PBarCode={},this.PBarCode.Division={},this.PBarCode.SupplierAccount={}}catch(t){alert(t)}}AddBCode(){try{console.log("PBARCODE on AddBCode",this.PBarCode),this.PBarCode.MCODE=this.masterService.ProductMcode,this.PBarCodeCollection.push(this.PBarCode),console.log("PbarCodeCollection",this.PBarCodeCollection)}catch(t){alert(t)}}removeMSLevel(t){try{this.masterService.checkBarcodeTransaction(this.PBarCodeCollection[t].BCODE).subscribe(n=>{"ok"===n.status?this.PBarCodeCollection.splice(t,1):this.alertSevice.info(n.result)})}catch(n){alert(n)}}editMSLevel(t){try{this.masterService.checkBarcodeTransaction(this.PBarCodeCollection[t].BCODE).subscribe(n=>{"ok"===n.status?(this.PBarCode=this.PBarCodeCollection[t],this.PBarCode.SRATE=this.PBarCodeCollection[t].MRP_WO_VAT,this.PBarCodeCollection.splice(t,1)):this.alertSevice.info(n.result)})}catch(n){alert(n)}}smBarcodeshow(){try{this.BCodeDetails=this.PBarCode.BCodeDetails,this.smBarcode.show()}catch(t){alert(t)}}smBarcodeSave(){try{this.PBarCode.BCodeDetails=this.BCodeDetails,this.smBarcode.hide()}catch(t){alert(t)}}ReCalculateVamAmt(){if(1==this.productObj.VAT){if(this.PBarCode.MRP||0==this.PBarCode.MRP||null==this.PBarCode.MRP){let t=(this.PBarCode.MRP/1.13).toFixed(5);this.PBarCode.MRP_WO_VAT=this.PBarCode.SRATE=Number(t)}}else this.PBarCode.MRP_WO_VAT=this.PBarCode.SRATE=this.PBarCode.MRP}ReCalculateNonVamAmt(){if(1==this.productObj.VAT&&(this.PBarCode.MRP_WO_VAT=this.PBarCode.SRATE,this.PBarCode.SRATE)){let t=(1.13*(this.PBarCode.SRATE+this.ProductService.nullToZeroConverter(this.PBarCode.MRP))).toFixed(5);this.PBarCode.MRP=Number(t)}}BarcodeChangeEvent(){"Edit Product"==this.masterService.modeIs&&(this.productService.PBarCodeList=this.PBarCodeCollection)}updateBarcode(){this.productObj.BARCODE=this.PBarCode.BCODE,this.PBarCode.BCODE?(this.AddBCode(),this.PBarCode={},this.productService.updateBarcodeMapping(this.PBarCodeCollection).subscribe(t=>{})):this.alertSevice.warning("BarCode can not be null")}discontinueBC(t){console.log("disconitnue BC",t),1==t?this.PBarCode.ISOLD=1:0==t&&(this.PBarCode.ISOLD=0)}hover(t,n){this.stringValue="",this.hoverId=t,null!==n&&(n=JSON.parse(n),this.hoverObj=n,this.propertiesName=Object.getOwnPropertyNames(n),this.propertiesName.forEach(o=>{this.stringValue=` ${this.stringValue}<b>${o}</b> : ${this.hoverObj[o]} `}))}addBarcode(){this.PBarCode.BCODE?null!=this.PBarCode.UNIT||"lite"==this.AppMode?this.PBarCodeCollection.find(t=>t.BCODE===this.PBarCode.BCODE)?this.alertSevice.info("Duplicate barcode is found"):""!=this.productObj.MENUCODE&&null!=this.productObj.MENUCODE&&null!=this.productObj.MENUCODE?this.productService.checkDuplicateBarcode(this.PBarCode.BCODE,this.productObj.MCODE).subscribe(t=>{if(console.log("checkduplicate",t),t.status="ok"){if("EXIST"==t.result)return void this.alertSevice.warning("Entered Barcode already exists for some other product");this.PBarCode.ISDEFAULT=0,this.PBarCode.DISCONTINUE=0,this.PBarCodeCollection.push(this.PBarCode),this.PBarCode={},this.PBarCode.ISOLD=0}}):this.alertSevice.warning("Product code not found !"):this.alertSevice.warning("Unit cannot be empty"):this.alertSevice.warning("BarCode can not be empty")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(I.R),e.Y36(v.c),e.Y36(h.L),e.Y36(h.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["barcodetab"]],viewQuery:function(t,n){if(1&t&&e.Gf(yn,5),2&t){let o;e.iGM(o=e.CRH())&&(n.smBarcode=o.first)}},inputs:{productObj:"productObj",AppSettings:"AppSettings",PBarCodeCollection:"PBarCodeCollection",AlternateUnits:"AlternateUnits"},decls:35,vars:5,consts:[[2,"margin-left","5px"],[1,"col-md-12","row"],[1,"col-md-8",2,"margin-top","-11px","padding-right","5px"],[2,"width","60px","margin-left","-34px"],["type","text","WhiteSpaceRestriction","",2,"width","222px",3,"ngModel","ngModelChange","change","keydown.enter"],["style","width:40px;margin-left: 20px;",4,"ngIf"],["style","width:95px",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"btn","btn-info",2,"background-color","#17a2b8","font-size","12px",3,"click"],[1,"col-md-4",2,"margin-top","10px"],[1,"col-md-3",2,"margin-top","10px"],[2,"height","40vh","width","99%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead"],[2,"line-height","2rem"],[1,"fontsize",2,"width","7%","font-weight","bold"],[1,"fontsize",2,"width","20%","font-weight","bold"],["class","fontsize","style","width:8%;font-weight: bold;",4,"ngIf"],[1,"fontsize",2,"width","9%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","15%","font-weight","bold"],[1,"fontsize",2,"width","12%","font-weight","bold"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 25px;",4,"ngFor","ngForOf"],[2,"width","40px","margin-left","20px"],[2,"width","95px",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"fontsize",2,"width","8%","font-weight","bold"],[2,"line-height","25px"],[1,"fontsize",2,"width","7%"],[1,"fontsize","tooltipParent",2,"width","20%",3,"mouseover"],[4,"ngIf"],["class","fontsize","style","width: 8%;",4,"ngIf"],[1,"fontsize",2,"width","9%","text-align","center"],["type","checkbox",2,"width","25px","height","17px","margin-top","4px","margin-right","9px",3,"ngModel","change","ngModelChange"],[1,"fontsize",2,"width","15%"],[1,"fontsize",2,"width","12%"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","font-size","11px","line-height","10px",3,"click"],[2,"display","none",3,"ngClass","innerHTML"],[1,"fontsize",2,"width","8%"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"br"),e.TgZ(4,"label",3),e._uU(5,"Barcode :"),e.qZA(),e.TgZ(6,"input",4),e.NdJ("ngModelChange",function(r){return n.PBarCode.BCODE=r})("change",function(){return n.BarcodeChangeEvent()})("keydown.enter",function(){return n.addBarcode()}),e.qZA(),e.YNc(7,Rn,2,0,"label",5),e.YNc(8,In,4,4,"select",6),e.TgZ(9,"button",7),e.NdJ("click",function(){return n.addBarcode()}),e._uU(10,"Add"),e.qZA()(),e.TgZ(11,"div",8)(12,"table"),e._UZ(13,"tr"),e.qZA()(),e.TgZ(14,"div",9)(15,"table"),e._UZ(16,"tr"),e.qZA()()()(),e._UZ(17,"br"),e.TgZ(18,"div",10)(19,"table",11)(20,"thead",12)(21,"tr",13)(22,"th",14),e._uU(23,"SN"),e.qZA(),e.TgZ(24,"th",15),e._uU(25,"Barcode"),e.qZA(),e.YNc(26,Nn,2,0,"th",16),e.TgZ(27,"th",17),e._uU(28,"Discontinue"),e.qZA(),e.TgZ(29,"th",18),e._uU(30,"Status"),e.qZA(),e.TgZ(31,"th",19),e._uU(32,"Actions"),e.qZA()()(),e.TgZ(33,"tbody",20),e.YNc(34,Zn,16,6,"tr",21),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("ngModel",n.PBarCode.BCODE),e.xp6(1),e.Q6J("ngIf","lite"!=n.AppMode),e.xp6(1),e.Q6J("ngIf","lite"!=n.AppMode),e.xp6(18),e.Q6J("ngIf","lite"!=n.AppMode),e.xp6(8),e.Q6J("ngForOf",n.PBarCodeCollection))},dependencies:[p.mk,p.sg,p.O5,d.YN,d.Kr,d.Fj,d.Wl,d.EJ,d.JJ,d.On,Re],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n  .tooltipParent[_ngcontent-%COMP%]{\n      position: relative;\n      cursor: pointer;\n  }\n  .tooltipChild[_ngcontent-%COMP%]{\n    display:block !important;\n    padding: 15px;\n    background: seagreen;\n    position: absolute;\n    border-radius: 17px;\n    text-align: center;\n    color: whiter;\n    color: white;\n    width: 100%;\n  }\n  \n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),i})();function Ln(i,s){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.UNITS),e.xp6(1),e.Oqu(t.UNITS)}}function Bn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"fieldset")(1,"legend",25),e._uU(2,"Sales Price Discount"),e.qZA(),e.TgZ(3,"div",26),e._UZ(4,"label",27),e.TgZ(5,"label",28),e._uU(6,"Retail Price"),e.qZA(),e.TgZ(7,"label",29),e._uU(8,"Whole Sale Price"),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"a",30),e._uU(11,"Discount (%)"),e.qZA(),e.TgZ(12,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.CurAltUnit.SRATE_DISCOUNT=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateVATAmount())}),e.qZA(),e.TgZ(13,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.CurAltUnit.WSRATE_DISCOUNT=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateVATAmount())}),e.qZA(),e._UZ(14,"br"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.CurAltUnit.SRATE_DISCOUNT),e.xp6(1),e.Q6J("ngModel",t.CurAltUnit.WSRATE_DISCOUNT)}}function Fn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",33)(1,"td",34),e._uU(2),e.qZA(),e.TgZ(3,"td",35),e._uU(4),e.qZA(),e.TgZ(5,"td",36),e._uU(6),e.qZA(),e.TgZ(7,"td",36)(8,"input",37),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.SRATE_DISCOUNT=o)}),e.qZA()(),e.TgZ(9,"td",36)(10,"input",37),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.WSRATE_DISCOUNT=o)}),e.qZA()(),e.TgZ(11,"td",35)(12,"input",13),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ISDEFAULT=o)})("change",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ISDEFAULT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(13,"td",35)(14,"input",13),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ISDEFAULTPRATE=o)})("change",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ISDEFAULTPRATE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(15,"td",35)(16,"input",13),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ISDISCONTINUE=o)})("change",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ISDISCONTINUE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(17,"td",35)(18,"button",38),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,c=o.index,a=e.oxw();return e.KtG(a.Edit(r,c))}),e._uU(19,"EDIT"),e.qZA(),e.TgZ(20,"button",39),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,c=o.index,a=e.oxw();return e.KtG(a.Delete(r,c))}),e._uU(21,"-"),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.ALTUNIT),e.xp6(2),e.Oqu(t.CONFACTOR),e.xp6(2),e.Q6J("ngModel",t.SRATE_DISCOUNT),e.xp6(2),e.Q6J("ngModel",t.WSRATE_DISCOUNT),e.xp6(2),e.Q6J("ngModel",t.ISDEFAULT)("checked",1==t.ISDEFAULT),e.xp6(2),e.Q6J("ngModel",t.ISDEFAULTPRATE)("checked",1==t.ISDEFAULTPRATE),e.xp6(2),e.Q6J("ngModel",t.ISDISCONTINUE)("checked",1==t.ISDISCONTINUE)}}let Hn=(()=>{class i{constructor(t,n,o,r){this.masterService=t,this._alertService=n,this.ProductService=o,this.authservice=r,this.Units=[],this.productObj={},this.CurAltUnit={},this.AlternateUnits=[],this.AlternateUnitsTemp=[],this.isrowAdded=!1,this.CurAltUnitTemp={},this.altUnitMode="",this.disableOnEdit=!1,this.countaddedItem=0,this.appType=this.masterService.appType,this.masterService.getUnits().subscribe(c=>{this.userSetting=this.authservice.getSetting(),this.Units=c})}ngOnInit(){try{this.isrowAdded=!1,this.initialAddRow()}catch(t){this._alertService.error(t)}this.CurAltUnit.ISDEFAULT=0,this.CurAltUnit.ISDISCONTINUE=0,this.CurAltUnit.ISDEFAULTPRATE=0}AddAltUnit(){try{if(this.productObj.BASEUNIT==this.CurAltUnit.ALTUNIT)return void this._alertService.error("Error! Stock Unit and Alternate Unit cannot be the same.");if(this.AlternateUnits.filter(t=>t.ALTUNIT==this.CurAltUnit.ALTUNIT).length>0)return void this._alertService.error("Error! You cannot have two Items with the same Alternate Unit.");this.AlternateUnits.push(this.CurAltUnit),this.CurAltUnit={},this.CurAltUnitTemp={},this.CurAltUnit.ISDEFAULT=0,this.CurAltUnit.ISDISCONTINUE=0,this.CurAltUnit.ISDEFAULTPRATE=0,this.disableOnEdit=!1,this.isrowAdded=!0}catch(t){this._alertService.error(t)}}removeAU(t){try{this.AlternateUnits.splice(t,1)}catch(n){this._alertService.error(n)}}editAU(t){try{this.CurAltUnit=this.AlternateUnits[t],this.AlternateUnits.splice(t,1)}catch(n){this._alertService.error(n)}}RecalculateVATAmount(){if(1==this.productObj.VAT){if(this.CurAltUnit.SRATE_DISCOUNT){let t=(this.CurAltUnit.SRATE_DISCOUNT/1.13).toFixed(5);this.CurAltUnit.EX_RATE=Number(t)}if(this.CurAltUnit.WSRATE_DISCOUNT){let t=(this.CurAltUnit.WSRATE_DISCOUNT/1.13).toFixed(5);this.CurAltUnit.EX_RATE_B=Number(t)}if(this.CurAltUnit.IN_PRATE){let t=(this.CurAltUnit.IN_PRATE/1.13).toFixed(5);this.CurAltUnit.PRATE=Number(t)}}else this.CurAltUnit.SRATE_DISCOUNT&&(this.CurAltUnit.EX_RATE=this.CurAltUnit.SRATE_DISCOUNT),this.CurAltUnit.WSRATE_DISCOUNT&&(this.CurAltUnit.EX_RATE_B=this.CurAltUnit.WSRATE_DISCOUNT),this.CurAltUnit.IN_PRATE&&(this.CurAltUnit.PRATE=this.CurAltUnit.IN_PRATE)}RecalculateNonVATAmount_EX_RATE(){if(1==this.productObj.VAT&&this.CurAltUnit.EX_RATE){let t=(1.13*(this.CurAltUnit.EX_RATE+this.ProductService.nullToZeroConverter(this.CurAltUnit.SRATE_DISCOUNT))).toFixed(5);this.CurAltUnit.SRATE_DISCOUNT=Number(t)}}RecalculateNonVATAmount_EX_RATE_B(){if(1==this.productObj.VAT&&this.CurAltUnit.EX_RATE_B){let t=(1.13*(this.CurAltUnit.EX_RATE_B+this.ProductService.nullToZeroConverter(this.CurAltUnit.WSRATE_DISCOUNT))).toFixed(5);this.CurAltUnit.WSRATE_DISCOUNT=Number(t)}}RecalculateNonVATAmount_Ex_Prate_A(){if(1==this.productObj.VAT&&this.CurAltUnit.PRATE){let t=(1.13*(this.CurAltUnit.PRATE+this.ProductService.nullToZeroConverter(this.CurAltUnit.IN_PRATE))).toFixed(5);this.CurAltUnit.IN_PRATE=Number(t)}}getValueFromDetailInfo(){this.CurAltUnit.BASEUOM=this.productObj.BASEUNIT}initialAddRow(t=0){for(let o=0;o<=4;o++)this.AlternateUnitsTemp.push(this.CurAltUnitTemp)}Edit(t,n){this.altUnitMode="edit",this.ProductService.validateAltUnitInProductMaster(t.MCODE,t.ALTUNIT,this.altUnitMode).subscribe(o=>{"ok"==o.status?(this.CurAltUnit=t,this.AlternateUnits.splice(n,1),this.disableOnEdit=!1):"transactiondone"==o.status&&(this.CurAltUnit=t,this.AlternateUnits.splice(n,1),this.disableOnEdit=!0)},o=>{})}Delete(t,n){this.altUnitMode="delete",this.ProductService.validateAltUnitInProductMaster(t.MCODE,t.ALTUNIT,this.altUnitMode).subscribe(o=>{"ok"==o.status?(this.AlternateUnits.splice(n,1),this._alertService.success(o.result)):"transactiondone"==o.status&&this._alertService.info(`Cannot delete alternateunit: ${t.ALTUNIT}. It is already used in transaction.`)},o=>{this._alertService.info(o.error)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(v.c),e.Y36(h.L),e.Y36(M.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["alternateunittab"]],inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits"},decls:60,vars:14,consts:[[1,"col-md-12","row",2,"margin-left","-15px !important"],[1,"col-md-4"],["type","text","readonly","",2,"width","20%",3,"ngModel","ngModelChange"],[2,"width","38%","margin-left","20px"],[2,"margin-top","-20px"],[2,"width","20%",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text",2,"width","38%","margin-left","20px",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"padding-left","20px"],["type","checkbox",3,"ngModel","ngModelChange","change"],[2,"margin-left","5px","font-size","11px"],["type","checkbox",2,"margin-left","5%",3,"ngModel","checked","ngModelChange","change"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"btn","btn-info",2,"float","right","font-size","12px",3,"disabled","click"],[1,"col-md-12",2,"margin-left","-15px"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","4%","font-weight","bold"],[1,"fontsize",2,"width","9%","font-weight","bold"],[1,"fontsize",2,"width","11%","font-weight","bold"],[1,"fontsize",2,"width","7%","font-weight","bold"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 30px;",4,"ngFor","ngForOf"],[3,"ngValue"],[2,"font-size","12px","width","45%"],[2,"margin-top","-22px"],[2,"width","26%"],[2,"width","32%"],[2,"width","35%"],[2,"width","24%","font-size","12px","margin-left","1%","margin-right","1%"],["type","number",2,"width","30%","text-align","right",3,"ngModel","ngModelChange","change"],["type","number",2,"width","30%","margin-left","6%","text-align","right",3,"ngModel","ngModelChange","change"],[2,"line-height","30px"],[1,"fontsize",2,"width","4%"],[1,"fontsize",2,"width","9%"],[1,"fontsize",2,"width","11%"],["type","number",2,"width","60%",3,"ngModel","ngModelChange"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","line-height","10px",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div")(4,"div")(5,"label"),e._uU(6,"Stock unit"),e.qZA(),e.TgZ(7,"input",2),e.NdJ("ngModelChange",function(r){return n.productObj.BASEUNIT=r}),e.qZA(),e.TgZ(8,"label",3),e._uU(9,"Conversion Factor"),e.qZA()(),e._UZ(10,"br"),e.TgZ(11,"div",4)(12,"label"),e._uU(13,"Alternate unit"),e.qZA(),e.TgZ(14,"select",5),e.NdJ("ngModelChange",function(r){return n.CurAltUnit.ALTUNIT=r}),e.YNc(15,Ln,2,2,"option",6),e.qZA(),e.TgZ(16,"input",7),e.NdJ("ngModelChange",function(r){return n.CurAltUnit.CONFACTOR=r}),e.qZA()(),e._UZ(17,"br"),e.qZA(),e._UZ(18,"br"),e.qZA(),e.TgZ(19,"div",1),e.YNc(20,Bn,15,2,"fieldset",8),e.qZA(),e.TgZ(21,"div",1)(22,"div",9)(23,"input",10),e.NdJ("ngModelChange",function(r){return n.CurAltUnit.ISDEFAULT=r})("change",function(r){return n.CurAltUnit.ISDEFAULT=r.target.checked?1:0}),e.qZA(),e.TgZ(24,"a",11),e._uU(25,"Is Default unit for Sales"),e.qZA(),e.TgZ(26,"input",12),e.NdJ("ngModelChange",function(r){return n.CurAltUnit.ISDISCONTINUE=r})("change",function(r){return n.CurAltUnit.ISDISCONTINUE=r.target.checked?1:0}),e.qZA(),e.TgZ(27,"a",11),e._uU(28,"Set As Discontinue"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"input",13),e.NdJ("ngModelChange",function(r){return n.CurAltUnit.ISDEFAULTPRATE=r})("change",function(r){return n.CurAltUnit.ISDEFAULTPRATE=r.target.checked?1:0}),e.qZA(),e.TgZ(31,"a",11),e._uU(32,"Is Default unit for Purchase"),e.qZA(),e._UZ(33,"br"),e.TgZ(34,"button",14),e.NdJ("click",function(){return n.AddAltUnit()}),e._uU(35," Add"),e.qZA()()()()(),e.TgZ(36,"div",15)(37,"table",16)(38,"thead")(39,"tr",17)(40,"th",18),e._uU(41,"SN"),e.qZA(),e.TgZ(42,"th",19),e._uU(43,"Alternate Unit"),e.qZA(),e.TgZ(44,"th",20),e._uU(45,"Conversion Factor"),e.qZA(),e.TgZ(46,"th",21),e._uU(47,"SRate Disc"),e.qZA(),e.TgZ(48,"th",20),e._uU(49,"WSRate Discount"),e.qZA(),e.TgZ(50,"th",19),e._uU(51,"Is Default S-Unit"),e.qZA(),e.TgZ(52,"th",19),e._uU(53,"Is Default P-Unit"),e.qZA(),e.TgZ(54,"th",19),e._uU(55,"Discontinue"),e.qZA(),e.TgZ(56,"th",19),e._uU(57,"Actions"),e.qZA()()(),e.TgZ(58,"tbody",22),e.YNc(59,Fn,22,11,"tr",23),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",n.productObj.BASEUNIT),e.xp6(7),e.Q6J("ngModel",n.CurAltUnit.ALTUNIT)("disabled",n.disableOnEdit),e.xp6(1),e.Q6J("ngForOf",n.Units),e.xp6(1),e.Q6J("ngModel",n.CurAltUnit.CONFACTOR)("disabled",n.disableOnEdit),e.xp6(4),e.Q6J("ngIf",1==(null==n.userSetting?null:n.userSetting.EnableDiscountInAltUnit)),e.xp6(3),e.Q6J("ngModel",n.CurAltUnit.ISDEFAULT),e.xp6(3),e.Q6J("ngModel",n.CurAltUnit.ISDISCONTINUE)("checked",1==n.CurAltUnit.ISDISCONTINUE),e.xp6(4),e.Q6J("ngModel",n.CurAltUnit.ISDEFAULTPRATE)("checked",1==n.CurAltUnit.ISDEFAULTPRATE),e.xp6(4),e.Q6J("disabled",null==n.CurAltUnit.ALTUNIT||null==n.CurAltUnit.CONFACTOR||""==n.CurAltUnit.ALTUNIT||0==n.CurAltUnit.CONFACTOR),e.xp6(25),e.Q6J("ngForOf",n.AlternateUnits))},dependencies:[p.sg,p.O5,d.YN,d.Kr,d.Fj,d.wV,d.Wl,d.EJ,d.JJ,d.On],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n    \n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n    \n    .ThirtyTreeLabel[_ngcontent-%COMP%] {\n        width: 28.5%;\n    }\n    \n    .fourtyfive[_ngcontent-%COMP%] {\n        width: 45%;\n    }\n    \n    .thirtysix[_ngcontent-%COMP%] {\n        width: 36%;\n    }\n    \n    .fontsize[_ngcontent-%COMP%] {\n        font-size: 12px;\n    }\n    \n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n        width: 100%;\n    }\n    \n    \n    \n    \n    \n    label[_ngcontent-%COMP%] {\n        font-size: 11px;\n    }\n\n    \n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),i})();var De=l(79829),Ie=l(5615),Jn=l(8630);const qn=["genericGridSupplierPopup"],Vn=["genericGrid"],Yn=["genericGridWarehouse"],Qn=["salesPriceIncludeVAT"],zn=["salesPriceExcludeVAT"];function Kn(i,s){if(1&i&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.UNITS),e.xp6(1),e.Oqu(t.UNITS)}}function Wn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label"),e._uU(2,"Landing Price : "),e.qZA(),e.TgZ(3,"input",75),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.CRATE=o)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("disabled",!0)("ngModel",t.productObj.CRATE)}}function Xn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",10),e._uU(2,"Label MRP : "),e.qZA(),e.TgZ(3,"input",76),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.LabeledMRP=o)})("keydown.Tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClickLabelMRP())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.LabeledMRP)}}function $n(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",10),e._uU(2,"Location : "),e.qZA(),e.TgZ(3,"ng-multiselect-dropdown",77),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.Location=o)})("onSelect",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onItemSelect(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("placeholder","Select Location")("disabled","view"==t.mode)("settings",t.locationlistdropdownSettings)("ngModel",t.productObj.Location)("data",t.LocationList)}}const eo=function(){return{standalone:!0}};function to(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",78),e._uU(2,"Divisions : "),e.qZA(),e.TgZ(3,"ng-multiselect-dropdown",79),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.Divisions=o)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("placeholder","Select Divisions")("settings",t.divisionsdropdownSettings)("data",t.divisions)("ngModelOptions",e.DdM(5,eo))("ngModel",t.productObj.Divisions)}}function no(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",10),e._uU(2,"Warehouse : "),e.qZA(),e.TgZ(3,"input",80),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.WHOUSE=o)})("keydown.enter",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.selectWarehouse())})("keydown.Tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClickWarehouse())})("keyup",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.selectWarehouse())})("keypress",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.keyPress(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.WHOUSE)}}function oo(i,s){if(1&i&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.PTYPEID),e.xp6(1),e.Oqu(t.PTYPENAME)}}function io(i,s){if(1&i&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.ID),e.xp6(1),e.Oqu(t.NAME)}}function ro(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"label"),e._uU(3,"KOT Category : "),e.qZA(),e.TgZ(4,"select",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ISBARITEM=o)})("keydown.Tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClick("ProductType"))}),e.YNc(5,io,2,2,"option",8),e.qZA()(),e.TgZ(6,"div",2)(7,"label"),e._uU(8,"Sec. Category : "),e.qZA(),e.TgZ(9,"select",81),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.MCAT1=o)}),e._UZ(10,"option"),e.TgZ(11,"option",82),e._uU(12,"BEVERAGE"),e.qZA(),e.TgZ(13,"option",83),e._uU(14,"FOOD"),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.productObj.ISBARITEM)("disabled",1==t.productObj.ISUNKNOWN&&"pro"!=t.AppMode||1==t.masterService.disableOnCheckTran),e.xp6(1),e.Q6J("ngForOf",t.KOTcatList),e.xp6(4),e.Q6J("ngModel",t.productObj.MCAT1)("disabled",1==t.productObj.ISUNKNOWN&&"pro"!=t.AppMode||1==t.masterService.disableOnCheckTran)}}function so(i,s){if(1&i&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.MENUCAT),e.xp6(1),e.Oqu(t.MENUCAT)}}function co(i,s){if(1&i&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.CCID),e.xp6(1),e.Oqu(t.COSTCENTERNAME)}}function ao(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label"),e._uU(2,"Item Cost Center: "),e.qZA(),e.TgZ(3,"select",84),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ItemCostCenter=o)}),e._UZ(4,"option",74),e.YNc(5,co,2,2,"option",8),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.ItemCostCenter),e.xp6(2),e.Q6J("ngForOf",t.costLists)}}function lo(i,s){if(1&i&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.MENUCAT),e.xp6(1),e.Oqu(t.MENUCAT)}}function uo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",85),e._uU(2,"Extra Category : "),e.qZA(),e.TgZ(3,"select",86),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.MCAT1=o)})("keydown.tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClickExtraCategory())}),e.YNc(4,lo,2,2,"option",8),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.MCAT1),e.xp6(1),e.Q6J("ngForOf",t.MCat1List)}}function po(i,s){if(1&i&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.TCatId),e.xp6(1),e.Oqu(t.Category)}}function ho(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label"),e._uU(2,"Tax Category : "),e.qZA(),e.TgZ(3,"select",87),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.TaxCategory=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.selectTaxCategory())})("keydown.tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClickExtraCategory())}),e.YNc(4,po,2,2,"option",8),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.TaxCategory),e.xp6(1),e.Q6J("ngForOf",t.TaxCatList)}}function _o(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",25),e._uU(2,"Master Item : "),e.qZA(),e.TgZ(3,"input",88),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.SUPITEMNAME=o)})("keydown.enter",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.ItemkeyEvent())})("keydown.tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClickSupplierCode())})("keydown.delete",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.removeMasterItem())})("focusout",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkMasterItem())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.SUPITEMNAME)}}function go(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",25),e._uU(2,"Factor: "),e.qZA(),e.TgZ(3,"input",89),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.CONFACTOR=o)})("keydown.tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClickSupplierCode())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.CONFACTOR)("disabled",!t.productObj.SUPITEMNAME)}}function mo(i,s){1&i&&(e.TgZ(0,"option",90),e._uU(1,"Discounted"),e.qZA())}function fo(i,s){1&i&&(e.TgZ(0,"label",36),e._uU(1,"Whole Sale Price :"),e.qZA())}function bo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",91,38),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.ProductService.TempProductObj.IN_RATE_B=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateVATAmount())})("keydown.tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClickWholeSalePrice())})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateVATAmount())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.ProductService.TempProductObj.IN_RATE_B)}}function Co(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",92,40),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.ProductService.TempProductObj.RATE_B=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateNonVATAmount_Ex_Rate_B())})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateNonVATAmount_Ex_Rate_B())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.ProductService.TempProductObj.RATE_B)}}function To(i,s){1&i&&(e.TgZ(0,"label",36),e._uU(1,"Inter-Branch Price :"),e.qZA())}function Mo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",93,38),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.ProductService.TempProductObj.IN_RATE_C=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateVATAmount())})("keydown.tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClickInterBranchPrice())})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateVATAmount())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.ProductService.TempProductObj.IN_RATE_C)}}function Oo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",94,40),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.ProductService.TempProductObj.RATE_C=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateNonVATAmount_Ex_Rate_C())})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.RecalculateNonVATAmount_Ex_Rate_C())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.ProductService.TempProductObj.RATE_C)}}function Ao(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.productlist=o)})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.ISAMOUNTWISEBILL=o.target.checked?1:0)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngModel",t.productObj.productlist)("checked",1==t.productObj.ISAMOUNTWISEBILL)}}function Po(i,s){1&i&&(e.TgZ(0,"a",56),e._uU(1,"Enable Amount Wise Billing"),e.qZA())}function So(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.HASECSCHARGE=o)})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.HASECSCHARGE=o.target.checked?1:0)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngModel",t.productObj.HASECSCHARGE)("checked",1==t.productObj.HASECSCHARGE)}}function vo(i,s){1&i&&(e.TgZ(0,"a",56),e._uU(1,"ECS Charge Applicable"),e.qZA())}function Eo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",0),e.YNc(2,Ao,1,2,"input",52),e._uU(3," \xa0"),e.YNc(4,Po,2,0,"a",53),e.qZA(),e.TgZ(5,"div",0)(6,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ISUNKNOWN=o)})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ISUNKNOWN=o.target.checked?1:0)})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onChangeEvent(o))}),e.qZA(),e._uU(7," \xa0 "),e.TgZ(8,"a",56),e._uU(9," Is Unknown Item "),e.qZA()(),e.TgZ(10,"div",0),e.YNc(11,So,1,2,"input",52),e.YNc(12,vo,2,0,"a",53),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",0!=t.masterService.userSetting.EnableAmountWiseBill),e.xp6(2),e.Q6J("ngIf",0!=t.masterService.userSetting.EnableAmountWiseBill),e.xp6(2),e.Q6J("ngModel",t.productObj.ISUNKNOWN)("checked",1==t.productObj.ISUNKNOWN),e.xp6(5),e.Q6J("ngIf",0!=t.masterService.userSetting.ENABLE_ECS),e.xp6(1),e.Q6J("ngIf",0!=t.masterService.userSetting.ENABLE_ECS)}}function xo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",51)(1,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.HASVARIANT=o)})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.HASVARIANT=o.target.checked?1:0)}),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"a",56),e._uU(4," Enable variant category"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.productObj.HASVARIANT)("checked",1==t.productObj.HASVARIANT)}}function wo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.HASECSCHARGE=o)})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.HASECSCHARGE=o.target.checked?1:0)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngModel",t.productObj.HASECSCHARGE)("checked",1==t.productObj.HASECSCHARGE)}}function yo(i,s){1&i&&(e.TgZ(0,"a",56),e._uU(1,"ECS Charge Applicable"),e.qZA())}function Ro(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",0)(1,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.IsQtyUnknown=o)})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.IsQtyUnknown=o.target.checked?1:0)}),e.qZA(),e._uU(2,"\xa0 "),e.TgZ(3,"a",56),e._uU(4,"Sales Quantity Unknown"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.productObj.IsQtyUnknown)("checked",1==t.productObj.IsQtyUnknown)}}function Do(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.ISRECURRING=o)})("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.productObj.ISRECURRING=o.target.checked?1:0)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngModel",t.productObj.ISRECURRING)("checked",1==t.productObj.ISRECURRING)}}function Io(i,s){1&i&&(e.TgZ(0,"a",56),e._uU(1,"Is Recurring Item"),e.qZA())}const le=function(i){return{display:i}},No=function(){return{display:"block"}},ko=function(){return{display:"none"}};function Uo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",96)(1,"div",51)(2,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ISUNKNOWN=o)})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ISUNKNOWN=o.target.checked?1:0)})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onChangeEvent(o))}),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"a",56),e._uU(5," Is Unknown Item "),e.qZA()(),e.TgZ(6,"div",51)(7,"input",97),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.REQEXPDATE=o)})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.REQEXPDATE=o.target.checked?1:0)}),e.qZA(),e._uU(8,"\xa0 "),e.TgZ(9,"a",56),e._uU(10,"Expiry Date Input Compulsory"),e.qZA()(),e.YNc(11,xo,5,2,"div",98),e.TgZ(12,"div",54),e.YNc(13,wo,1,2,"input",52),e._uU(14," \xa0"),e.YNc(15,yo,2,0,"a",53),e.qZA(),e.YNc(16,Ro,5,2,"div",99),e.TgZ(17,"div",100),e.YNc(18,Do,1,2,"input",52),e._uU(19," \xa0"),e.YNc(20,Io,2,0,"a",53),e.qZA(),e.TgZ(21,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ISHOTITEM=o)})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ISHOTITEM=o.target.checked?1:0)}),e.qZA(),e._uU(22," \xa0"),e.TgZ(23,"a",56),e._uU(24,"Is Hot Item"),e.qZA(),e._UZ(25,"br"),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.productObj.ISUNKNOWN)("checked",1==t.productObj.ISUNKNOWN),e.xp6(5),e.Q6J("ngModel",t.productObj.REQEXPDATE)("checked",1==t.productObj.REQEXPDATE)("disabled",t.disableExpCheckbox),e.xp6(4),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngStyle",e.VKq(15,le,0!=t.userSetting.ENABLE_ECS?"block":"none")),e.xp6(1),e.Q6J("ngIf",0!=t.masterService.userSetting.ENABLE_ECS),e.xp6(2),e.Q6J("ngIf",0!=t.masterService.userSetting.ENABLE_ECS),e.xp6(1),e.Q6J("ngIf",0===t.masterService.userSetting.EnableWebBilling),e.xp6(1),e.Q6J("ngStyle",0!=t.masterService.userSetting.EnableRecurringItem?e.DdM(17,No):e.DdM(18,ko)),e.xp6(1),e.Q6J("ngIf",0!=t.masterService.userSetting.EnableRecurringItem),e.xp6(2),e.Q6J("ngIf",0!=t.masterService.userSetting.EnableRecurringItem),e.xp6(1),e.Q6J("ngModel",t.productObj.ISHOTITEM)("checked",1==t.productObj.ISHOTITEM)}}function jo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.HASCOMMISSIONCHARGE=o)})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.HASCOMMISSIONCHARGE=o.target.checked?1:0)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.productObj.HASCOMMISSIONCHARGE)("checked",1==t.productObj.HASCOMMISSIONCHARGE)}}function Zo(i,s){1&i&&(e.TgZ(0,"a",56),e._uU(1,"Is Commission Chargeable"),e.qZA())}function Go(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.BillingDisplay=o)})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.BillingDisplay=o.target.checked?1:0)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.productObj.BillingDisplay)("checked",1==t.productObj.BillingDisplay)}}function Lo(i,s){1&i&&(e.TgZ(0,"a",56),e._uU(1,"Billing Display"),e.qZA())}function Bo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.HASBATCH=o)})("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.HASBATCH=o.target.checked?1:0)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.productObj.HASBATCH)("checked",1==t.productObj.HASBATCH)}}function Fo(i,s){1&i&&(e.TgZ(0,"a",56),e._uU(1,"Enable Batch Wise Price"),e.qZA())}function Ho(i,s){if(1&i&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t.Id),e.xp6(1),e.Oqu(t.GroupName)}}function Jo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"fieldset",101)(1,"legend",102),e._uU(2," Color Group Selection"),e.qZA(),e.TgZ(3,"select",103),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.COLOR=o)})("keydown.tab",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.TabClickColorItem())}),e.YNc(4,Ho,2,2,"option",8),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.COLOR),e.xp6(1),e.Q6J("ngForOf",t.colorGroupList)}}function qo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",104)(1,"label"),e._uU(2,"ECS Rate"),e.qZA(),e.TgZ(3,"input",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.ECSRATE=o)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.ECSRATE)}}function Vo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"label",105),e._uU(2,"Warranty Period"),e.qZA(),e.TgZ(3,"input",106),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.productObj.WARRANTY=o)}),e.qZA(),e.TgZ(4,"label"),e._uU(5,"month"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.productObj.WARRANTY)("disabled",6!=t.productObj.PTYPE)}}function Yo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",107)(2,"div",108)(3,"div",109)(4,"h5",110),e._uU(5,"New Unit"),e.qZA(),e.TgZ(6,"button",111),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeUnitModal())}),e.TgZ(7,"span",112),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"form",113),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onUnitSubmit())}),e.TgZ(10,"div",114)(11,"div",115)(12,"label",116),e._uU(13,"Unit Name:"),e.qZA(),e.TgZ(14,"div",117),e._UZ(15,"input",118),e.qZA()()(),e.TgZ(16,"div",119)(17,"button",120),e._uU(18,"Save"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("formGroup",t.unitForm),e.xp6(8),e.Q6J("disabled",!t.unitForm.valid)}}function Qo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",107)(2,"div",108)(3,"div",109)(4,"h5",110),e._uU(5,"New Category"),e.qZA(),e.TgZ(6,"button",111),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeCatModal())}),e.TgZ(7,"span",112),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"form",113),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onCategorySubmit())}),e.TgZ(10,"div",114)(11,"div",121)(12,"label",122),e._uU(13,"Category Name:"),e.qZA(),e.TgZ(14,"div",123),e._UZ(15,"input",124),e.qZA()()(),e.TgZ(16,"div",119)(17,"button",120),e._uU(18,"Save"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("formGroup",t.catForm),e.xp6(8),e.Q6J("disabled",!t.catForm.valid)}}const zo=function(){return{height:"4.5rem"}},Ko=function(){return{height:""}},Ne=function(){return{"vertical-align":"middle"}},ke=function(){return{"vertical-align":"top"}},Wo=function(){return{"margin-top":"2%"}},Xo=function(){return{"margin-top":""}},$o=function(){return{"margin-top":"5px"}},ei=function(){return{"margin-top":"-55px"}};let ti=(()=>{class i{constructor(t,n,o,r,c,a,u,A){this.masterService=t,this.ProductService=n,this.fb=o,this.unitMasterService=r,this.categoryMasterService=c,this.alertService=a,this.spinnerService=u,this.authservice=A,this.productObj={},this.AlternateUnits=[],this.gridPopupSettingsForSupplier=new y.im,this.gridPopupSettings=new y.im,this.gridWarehousePopupSettings=new y.im,this.Units=[],this.MCatList=[],this.LocationList=[],this.MCat1List=[],this.KOTcatList=[],this.TaxCatList=[],this.colorGroupList=[],this.divisions=[],this.selecteddivisions=[],this.divisionsdropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"INITIAL",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!1,maxHeight:200},this.PTypeList=[],this.addNewUnit=!1,this.unit=!1,this.disableExpCheckbox=!1,this.addNewCategory=!1,this.category=!1,this.applyPipeInRate=!0,this.mode={},this.initializeCostCenters(),this.userSetting=this.authservice.getSetting(),this.AppMode=C.N.appMode,this.masterService.getUnits().subscribe(g=>{this.Units=g,this.masterService.getPTypeList().subscribe(b=>{b?(this.PTypeList=b,"lite"==C.N.appMode&&(this.PTypeList=this.PTypeList.filter(R=>0==R.PTYPEID||10==R.PTYPEID)),1!=this.masterService.editMode&&(this.productObj.PTYPE=this.PTypeList[0].PTYPEID,this.productObj.NATURETYPE=this.PTypeList[0].NATURETYPE)):this.PTypeList=[]},b=>{this.PTypeList=[]})}),this.masterService.getMCatList().subscribe(g=>{this.MCatList=g,this.productObj.MCAT=this.MCatList[0].MENUCAT}),this.masterService.getLocationList().subscribe(g=>{this.LocationList=g}),this.ProductService.getKOTCategory().subscribe(g=>{"ok"==g.status&&(this.KOTcatList=g.result)}),this.masterService.getMCat1List().subscribe(g=>{this.MCat1List=g}),this.masterService.getTaxCategoryList().subscribe(g=>{this.TaxCatList=g}),0==JSON.parse(localStorage.getItem("setting")).DISPLAY&&this.ProductService.getColorGroup().subscribe(g=>{this.colorGroupList=g&&"ok"===g.status&&null!==g.result&&g&&g.result?g.result:[]},g=>{this.colorGroupList=[]}),this.masterService.editMode=!1}updown(t){"Insert"===t.code&&this.onClickAdd()}ngAfterViewInit(){0===this.userSetting?.VatExcludingRate?this.salesPriceExcludeVAT.forEach(t=>{t.nativeElement.disabled=!0}):1===this.userSetting?.VatExcludingRate&&this.salesPriceIncludeVAT.forEach(t=>{t.nativeElement.disabled=!0})}ngOnInit(){this.locationlistdropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"NAME",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0,this.productObj.PRATE_A=0,this.productObj.IN_RATE_A=0,this.ProductService.pObj.Dismode=1,this.productObj.discontinueCheckbox=!1,this.productObj.DISMODE="Discountable",this.productObj.BillingDisplay=0,this.masterService.getDivs().subscribe(t=>{this.divisions=t}),this.unitForm=this.fb.group({unitName:["",[d.kI.required]],notDecimal:[0]}),this.catForm=this.fb.group({CATEGORYNAME:["",[d.kI.required]],STATUS:[""]})}onChangeEx_PRate_A(){this.ProductService.pObj.PurchasePriceWithoutVAT=this.productObj.PRATE_A,this.CalculateMargin()}onChangeEx_Rate_A(){this.ProductService.pObj.SalesPriceWithoutVAT=this.productObj.RATE_A,this.CalculateMargin()}CalculateMargin(){0==this.masterService.nullToZeroConverter(this.ProductService.pObj.PurchasePriceWithoutVAT)||0==this.masterService.nullToZeroConverter(this.ProductService.pObj.SalesPriceWithoutVAT)||(this.ProductService.pObj.RecMarginOnPRate=Number(100*(this.ProductService.pObj.SalesPriceWithoutVAT-this.ProductService.pObj.PurchasePriceWithoutVAT)/this.ProductService.pObj.PurchasePriceWithoutVAT).toFixed(5),this.ProductService.pObj.RecMarginOnRate=Number(100*(this.ProductService.pObj.SalesPriceWithoutVAT-this.ProductService.pObj.PurchasePriceWithoutVAT)/this.ProductService.pObj.SalesPriceWithoutVAT).toFixed(5))}DiscountModeChange(){1==this.ProductService.pObj.Dismode?(this.productObj.DISRATE=this.ProductService.pObj.DiscountValue,this.productObj.DISAMOUNT=0):(this.productObj.DISRATE=0,this.productObj.DISAMOUNT=this.ProductService.pObj.DiscountValue)}onChangeEvent(t){this.productObj.PTYPE=1==t?this.PTypeList.find(n=>10==n.PTYPEID).PTYPEID:this.PTypeList.find(n=>0==n.PTYPEID).PTYPEID}RecalculateVATAmount(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.IN_PRATE_A&&0!=this.ProductService.TempProductObj.IN_PRATE_A&&(this.productObj.IN_PRATE_A=this.ProductService.TempProductObj.IN_PRATE_A,this.onChangeEx_PRate_A()),this.ProductService.TempProductObj.IN_RATE_A||0==this.ProductService.TempProductObj.IN_RATE_A||null==this.ProductService.TempProductObj.IN_RATE_A){this.productObj.IN_RATE_A=this.ProductService.TempProductObj.IN_RATE_A;let t=(this.ProductService.TempProductObj.IN_RATE_A/this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.RATE_A=Number(Number(t).toFixed(2)),this.productObj.RATE_A=Number(t),this.onChangeEx_Rate_A()}if(this.ProductService.TempProductObj.IN_RATE_B||0==this.ProductService.TempProductObj.IN_RATE_B||null==this.ProductService.TempProductObj.IN_RATE_B){this.productObj.IN_RATE_B=this.ProductService.TempProductObj.IN_RATE_B;let t=(this.ProductService.TempProductObj.IN_RATE_B/this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.RATE_B=Number(Number(t).toFixed(2)),this.productObj.RATE_B=Number(t)}if(this.ProductService.TempProductObj.IN_RATE_C||0==this.ProductService.TempProductObj.IN_RATE_C||null==this.ProductService.TempProductObj.IN_RATE_C){this.productObj.IN_RATE_C=this.ProductService.TempProductObj.IN_RATE_C;let t=(this.ProductService.TempProductObj.IN_RATE_C/this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.RATE_C=Number(Number(t).toFixed(2)),this.productObj.RATE_C=Number(t)}}else this.ProductService.TempProductObj.IN_PRATE_A&&(this.abc=this.ProductService.TempProductObj.IN_PRATE_A,this.ProductService.TempProductObj.IN_PRATE_A=this.ProductService.TempProductObj.PRATE_A,this.productObj.IN_PRATE_A=this.ProductService.TempProductObj.PRATE_A,this.onChangeEx_PRate_A()),(this.ProductService.TempProductObj.IN_RATE_A||0==this.ProductService.TempProductObj.IN_RATE_A||null==this.ProductService.TempProductObj.IN_RATE_A)&&(this.ProductService.TempProductObj.RATE_A=this.ProductService.TempProductObj.IN_RATE_A,this.productObj.RATE_A=this.ProductService.TempProductObj.IN_RATE_A,this.productObj.IN_RATE_A=this.ProductService.TempProductObj.IN_RATE_A,this.onChangeEx_Rate_A()),(this.ProductService.TempProductObj.IN_RATE_B||0==this.ProductService.TempProductObj.IN_RATE_B||null==this.ProductService.TempProductObj.IN_RATE_B)&&(this.ProductService.TempProductObj.RATE_B=this.ProductService.TempProductObj.IN_RATE_B,this.productObj.RATE_B=this.ProductService.TempProductObj.IN_RATE_B,this.productObj.IN_RATE_B=this.ProductService.TempProductObj.IN_RATE_B),(this.ProductService.TempProductObj.IN_RATE_C||0==this.ProductService.TempProductObj.IN_RATE_C||null==this.ProductService.TempProductObj.IN_RATE_C)&&(this.ProductService.TempProductObj.RATE_C=this.ProductService.TempProductObj.IN_RATE_C,this.productObj.RATE_C=this.ProductService.TempProductObj.IN_RATE_C,this.productObj.IN_RATE_C=this.ProductService.TempProductObj.IN_RATE_C)}RecalculateNonVATAmount_Ex_Prate_A(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.PRATE_A||0==this.ProductService.TempProductObj.PRATE_A){this.productObj.PRATE_A=this.ProductService.TempProductObj.PRATE_A;let t=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.PRATE_A)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.IN_PRATE_A=Number(Number(t)).toFixed(2),this.productObj.IN_PRATE_A=Number(t),this.onChangeEx_PRate_A()}}else this.productObj.PRATE_A=this.ProductService.TempProductObj.PRATE_A}rateChange(t){this.applyPipeInRate=!1}rateFocusOut(t){this.applyPipeInRate=!0,this.ProductService.TempProductObj.IN_RATE_A=Number(this.ProductService.TempProductObj.IN_RATE_A).toFixed(2),this.ProductService.TempProductObj.RATE_A=Number(this.ProductService.TempProductObj.RATE_A).toFixed(2)}RecalculateNonVATAmount_Ex_Rate_A(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.RATE_A||0==this.ProductService.TempProductObj.RATE_A||null==this.ProductService.TempProductObj.RATE_A||this.applyPipeInRate){this.productObj.RATE_A=this.ProductService.TempProductObj.RATE_A;let t=this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.RATE_A)*this.nullToZeroConverter(this.userSetting.VatConRate);this.productObj.IN_RATE_A=Number(t),this.ProductService.TempProductObj.IN_RATE_A=Number(t),this.onChangeEx_Rate_A()}}else(this.ProductService.TempProductObj.RATE_A||0==this.ProductService.TempProductObj.RATE_A||null==this.ProductService.TempProductObj.RATE_A)&&(this.productObj.RATE_A=this.ProductService.TempProductObj.RATE_A,this.productObj.IN_RATE_A=this.ProductService.TempProductObj.RATE_A,this.ProductService.TempProductObj.IN_RATE_A=this.ProductService.TempProductObj.RATE_A,this.onChangeEx_PRate_A())}RecalculateNonVATAmount_Ex_Rate_B(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.RATE_B||0==this.ProductService.TempProductObj.RATE_B||null==this.ProductService.TempProductObj.RATE_B){this.productObj.RATE_B=this.ProductService.TempProductObj.RATE_B;let t=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.RATE_B)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.productObj.IN_RATE_B=Number(t),this.ProductService.TempProductObj.IN_RATE_B=Number(Number(t)).toFixed(2)}}else(this.ProductService.TempProductObj.RATE_B||0==this.ProductService.TempProductObj.RATE_B||null==this.ProductService.TempProductObj.RATE_B)&&(this.productObj.RATE_B=this.ProductService.TempProductObj.RATE_B,this.productObj.IN_RATE_B=this.ProductService.TempProductObj.RATE_B,this.ProductService.TempProductObj.IN_RATE_B=this.ProductService.TempProductObj.RATE_B,this.onChangeEx_PRate_A())}RecalculateNonVATAmount_Ex_Rate_C(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.RATE_C||0==this.ProductService.TempProductObj.RATE_C||null==this.ProductService.TempProductObj.RATE_C){this.productObj.RATE_C=this.ProductService.TempProductObj.RATE_C;let t=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.RATE_C)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.productObj.IN_RATE_C=Number(t),this.ProductService.TempProductObj.IN_RATE_C=Number(Number(t)).toFixed(2)}}else(this.ProductService.TempProductObj.RATE_C||0==this.ProductService.TempProductObj.RATE_C||null==this.ProductService.TempProductObj.RATE_C)&&(this.productObj.RATE_C=this.ProductService.TempProductObj.RATE_C,this.productObj.IN_RATE_C=this.ProductService.TempProductObj.RATE_C,this.ProductService.TempProductObj.IN_RATE_C=this.ProductService.TempProductObj.RATE_C,this.onChangeEx_PRate_A())}TabClick(t){"ProductType"==t&&document.getElementById("StockUnit").focus()}dblClickPopupParty(t){this.productObj.SUPCODE=t.ACID,this.ProductService.suppilierName=t.ACNAME,document.getElementById("retailPrice").focus()}FocusRetail(){document.getElementById("retailPrice").focus()}customerEnterCommand(t){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ERPPLANTCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"VATNO",title:"PAN NO.",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1}]}}TabClickStockUnit(){setTimeout(()=>{document.getElementById("purchaseprice").focus()},0)}TabClickPurchasePrice(){setTimeout(()=>{document.getElementById("labelMRP").focus()},0)}TabClickLabelMRP(){setTimeout(()=>{document.getElementById("wareHouse").focus()},0)}TabClickWarehouse(){setTimeout(()=>{document.getElementById("retailPrice").focus()},0)}TabClickRetailPrice(){setTimeout(()=>{document.getElementById("wholeSalePrice").focus()},0)}TabClickWholeSalePrice(){setTimeout(()=>{document.getElementById("interBranchPrice").focus()},0)}TabClickInterBranchPrice(){setTimeout(()=>{document.getElementById("Category").focus()},0)}TabClickExtraCategory(){setTimeout(()=>{document.getElementById("vatItem").focus()},0)}TabClickVATItem(){"pro"==this.AppMode?setTimeout(()=>{null!=document.getElementById("colorGroupSelect")?document.getElementById("colorGroupSelect").focus():document.getElementById("SupplierName").focus()},0):document.getElementById("discountmode").focus()}TabClickNonVATItem(){"pro"==this.AppMode?setTimeout(()=>{null!=document.getElementById("colorGroupSelect")?document.getElementById("colorGroupSelect").focus():document.getElementById("SupplierName").focus()},0):document.getElementById("discountmode").focus()}TabClickColorItem(){setTimeout(()=>{document.getElementById("SupplierName").focus()},0)}TabClickSupplierCode(){setTimeout(()=>{document.getElementById("discountmode").focus()},0)}TabClickDisRate(){setTimeout(()=>{document.getElementById("discontinueitemCheck").focus()},0)}TabClickDiscontinueCheck(){1==this.productObj.discontinueCheckbox?setTimeout(()=>{document.getElementById("discontinueItem").focus()},0):setTimeout(()=>{document.getElementById("isUnknownItem").focus()},0)}TabClickDiscontinueItems(){setTimeout(()=>{document.getElementById("isUnknownItem").focus()},0)}TabClickDisMode(){"pro"==this.AppMode?"Discounted"==this.productObj.DISMODE?setTimeout(()=>{document.getElementById("DiscountValue").focus()},0):setTimeout(()=>{document.getElementById("discontinueitemCheck").focus()},0):document.getElementById("discontinueitemCheck").focus()}newUnitCreateTrigger(){this.unit=!0,this.category=!1}newCatCreateTrigger(){this.category=!0,this.unit=!1}selectTaxCategory(){let t=this.TaxCatList.filter(n=>n.TCatId==this.productObj.TaxCategory)[0];this.productObj.GST=t.TaxRate}onUnitSubmit(){let t={};t.UNITS=this.unitForm.value.unitName,t.STOPDECIMAL=this.unitForm.value.notDecimal;const n={mode:"add",data:t};this.spinnerService.show("Data is Saving ..."),this.unitMasterService.postUnitGroup(n).subscribe(o=>{"ok"==o.status?(this.spinnerService.hide(),this.alertService.info("Saved Successfully"),this.unitForm.reset(),this.masterService.getUnits().subscribe(r=>{this.Units=r}),this.closeUnitModal()):(this.spinnerService.hide(),this.alertService.error(o.result))},o=>{this.spinnerService.hide()})}onCategorySubmit(){let t={};t.MENUCAT=this.catForm.value.CATEGORYNAME,t.STATUS=1;const n={mode:"add",data:t};this.spinnerService.show("Data is Saving ..."),this.categoryMasterService.postCategoryGroup(n).subscribe(o=>{"ok"==o.status?(this.spinnerService.hide(),this.alertService.info("Saved Successfully"),this.catForm.reset(),this.masterService.getMCatList().subscribe(r=>{this.MCatList=r}),this.closeCatModal()):(this.spinnerService.hide(),this.alertService.error(o.result))},o=>{this.spinnerService.hide()})}closeUnitModal(){this.addNewUnit=!1,this.unit=!1}closeCatModal(){this.addNewCategory=!1,this.category=!1}ItemkeyEvent(){this.gridPopupSettings={title:"PRODUCTS",apiEndpoints:"/getMenuitemWithStockPagedList/0/A/all/PI/w",defaultFilterIndex:0,columns:[{key:"DESCA",title:"DESCRIPTION",hidden:!1,noSearch:!1},{key:"MENUCODE",title:"PRODUCT CODE",hidden:!1,noSearch:!1},{key:"GroupName",title:"GROUP NAME",hidden:!1,noSearch:!0},{key:"MENUCODE",title:"P-QTY",hidden:!1,noSearch:!1}]},this.genericGrid.show()}selectWarehouse(){this.productObj.WHOUSE="",this.gridWarehousePopupSettings={title:"WAREHOUSE",apiEndpoints:"/getDivisionWiseWarehousePagedList",defaultFilterIndex:0,columns:[{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridWarehouse.show()}dblClickWarehouse(t){this.productObj.WHOUSE=t.NAME,setTimeout(()=>{document.getElementById("retailPrice").focus()},0)}nullToZeroConverter(t){return void 0===t||null==t||null===t||""===t||"Infinity"===t||"NaN"===t||isNaN(parseFloat(t))?0:parseFloat(t)}dblClickPopupItem(t){9!=t.PTYPE?(this.productObj.SUPITEMCODE=t.MCODE,this.productObj.SUPITEMNAME=t.DESCA,this.productObj.REQEXPDATE=t.REQEXPDATE,this.productObj.REQEXPDATE&&(this.disableExpCheckbox=!0),setTimeout(()=>{document.getElementById("factor").focus()},0)):this.alertService.warning("Cannot choose perishable item as master item.")}onNewUnitAdd(t){"view"!=this.mode&&(this.newUnitCreateTrigger(),this.onClickAdd())}onNewCategoryAdd(){"view"!=this.mode&&(this.newCatCreateTrigger(),this.onClickAdd())}onClickAdd(){1==this.unit?this.addNewUnit=!0:1==this.category&&(this.addNewCategory=!0)}removeMasterItem(){this.productObj.SUPITEMCODE=null,this.productObj.SUPITEMNAME=null,this.productObj.CONFACTOR=0}onCategoryChange(){1!=this.userSetting.AUTOCODEMODE||(this.masterService.subCategoryAList=[],this.masterService.subCategoryBList=[],this.productObj.SubCatA="",this.productObj.SubCatB="",this.productObj.MENUCODE="",this.masterService.groupSelectObj.MGROUP)||this.alertService.info("Please select Main Group first.")}onSubCategoryAChange(){if(1==this.userSetting.AUTOCODEMODE){if(this.masterService.subCategoryBList=[],this.productObj.SubCatB="",!this.masterService.groupSelectObj.MGROUP)return void this.alertService.info("Please select Main Group first.");this.masterService.getSubMcatListForAutoCodeMode1("level3").subscribe(t=>{this.masterService.subCategoryBList=t}),this.generateUniqueKey("level2",this.productObj.SubCatA)}}onSubCategoryBChange(){if(1==this.userSetting.AUTOCODEMODE){if(!this.masterService.groupSelectObj.MGROUP)return void this.alertService.info("Please select Main Group first.");this.generateUniqueKey("level3",this.productObj.SubCatB)}}generateUniqueKey(t,n){1==this.masterService.userSetting.AUTOCODEMODE&&this.masterService.getMenucodeAutoCode1(t,n).subscribe(o=>{if("ok"==o.status){let r="",c="";r=o.result.alias,c=o.result.code;let u,a=this.productObj.MENUCODE;this.productObj.MENUCODE="",this.productObj.MENUCODE=r.concat("/",c),this.productObj.SubCatA&&!this.productObj.SubCatB?u=this.getPosition(a,"/",1)+1:this.productObj.SubCatA&&this.productObj.SubCatB&&(u=this.getPosition(a,"/",2)+1),a&&(this.productObj.MENUCODE=[a.slice(0,u),r.concat("/",c)].join("")),this.productObj.MIDCODE=o.result.midcode}})}getPosition(t,n,o){return t.split(n,o).join(n).length}checkMasterItem(){(null==this.productObj.SUPITEMNAME||null==this.productObj.SUPITEMNAME||""==this.productObj.SUPITEMNAME)&&this.removeMasterItem()}PtypeSelect(t){this.productObj.NATURETYPE=this.PTypeList.find(n=>n.PTYPEID==t.target.value).NATURETYPE}getDivisionName(t){if(!t)return null;const n=this.divisions.find(o=>o.INITIAL==t);return n?n.NAME:"Unknown Division"}disableWarrantyPeriod(){return!(6==this.productObj.PTYPE||1==this.productObj.NATURETYPE)}keyPress(t){const o=String.fromCharCode(t.charCode);/[\b]/.test(o)||t.preventDefault()}onItemSelect(t){}initializeCostCenters(){this.masterService.getAllCostCenter().subscribe(t=>{this.costLists=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(h.L),e.Y36(d.qu),e.Y36(De.P),e.Y36(Ie.u),e.Y36(v.c),e.Y36(G.V),e.Y36(M.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["Detail_Information"]],viewQuery:function(t,n){if(1&t&&(e.Gf(qn,5),e.Gf(Vn,5),e.Gf(Yn,5),e.Gf(Qn,5,e.SBq),e.Gf(zn,5,e.SBq)),2&t){let o;e.iGM(o=e.CRH())&&(n.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(n.genericGrid=o.first),e.iGM(o=e.CRH())&&(n.genericGridWarehouse=o.first),e.iGM(o=e.CRH())&&(n.salesPriceIncludeVAT=o),e.iGM(o=e.CRH())&&(n.salesPriceExcludeVAT=o)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(r){return n.updown(r)},!1,e.evT)},inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits",MCAT:"MCAT",mode:"mode"},decls:188,vars:97,consts:[[1,"row"],[1,"col-lg-8",2,"margin-left","-30px"],[1,"form-group"],[1,"ThirtyTreeLabel",2,"flex","0 0 21%"],["type","text",2,"flex","0 0 77%",3,"ngModel","ngModelChange"],[1,"col-lg-6",2,"margin-left","-15px"],["id","StockUnit",1,"ThirtyTreeLabel"],["id","StockUnit",3,"ngModel","disabled","ngModelChange","focus","keydown.Tab"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add",3,"click"],[1,"ThirtyTreeLabel"],["id","purchaseprice","type","number",3,"ngModel","ngModelChange","change","keydown.Tab"],["class","form-group",4,"ngIf"],[1,"col-lg-6"],[2,"width","49.5%",3,"ngModel","disabled","ngModelChange","keydown.Tab"],[4,"ngIf"],["id","Category",2,"width","49.5%",3,"ngModel","focus","change","ngModelChange"],["for","productlife"],["type","number","id","prodLife","min","1","step","1","onkeypress","return event.charCode >= 48 && event.charCode <= 57",3,"ngModel","ngModelChange"],[2,"padding-left","3px"],[1,"form-check","form-check-inline"],["type","radio","id","vatItem","name","VAT ITEM",2,"flex","0 0 10%",3,"ngModel","value","ngModelChange","change","keydown.tab"],[1,"smallBoldLabel",2,"white-space","nowrap"],["type","radio","id","nonvatItem","name","VAT ITEM",2,"flex","0 0 10%",3,"ngModel","value","disabled","ngModelChange","change","keydown.tab"],[1,"col-lg-4"],[1,"fourtyfive"],["type","text",3,"ngModel","ngModelChange"],["id","SupplierName","type","text","placeholder","Press Enter for Supplier Selection","autocomplete","off",3,"ngModel","ngModelChange","keydown.enter","keydown.tab"],["id","discountmode",2,"width","64%",3,"ngModel","ngModelChange","keydown.tab"],["value","Discountable"],["value","Non-Discountable"],["value","Discounted",4,"ngIf"],[1,""],[1,"col-md-4"],[1,"salesPricefieldSet",3,"ngStyle"],[1,"SalesPricelabels",2,"background-color","#6599FF","margin-bottom","10px","color","#fff","border-radius","5px","padding","3px 0"],[1,"thirty"],["id","retailPrice","type","number","appSalesRateDisableFromUserProfile","",3,"ngModel","ngStyle","ngModelChange","change","keydown.tab","input","keyup","focusout"],["salesPriceIncludeVAT",""],["appSalesRateDisableFromUserProfile","","type","number","id","excVat",3,"ngStyle","ngModel","ngModelChange","change","input","keyup","focusout"],["salesPriceExcludeVAT",""],["class","thirty",4,"ngIf"],["appSalesRateDisableFromUserProfile","","id","wholeSalePrice","type","number",3,"ngModel","ngModelChange","change","keydown.tab","input",4,"ngIf"],["appSalesRateDisableFromUserProfile","","type","number",3,"ngModel","ngModelChange","change","input",4,"ngIf"],["id","interBranchPrice","type","number",3,"ngModel","ngModelChange","change","keydown.tab","input",4,"ngIf"],["type","number",3,"ngModel","ngModelChange","change","input",4,"ngIf"],[2,"margin-top","10px"],[2,"font-size","14px","text-align","center","margin-bottom","10px","background-color","#6599FF","color","#fff","border-radius","5px","padding","3px 0"],[1,"row",2,"margin-left","5px"],["class","col-lg-6",4,"ngIf"],["class","col-lg-6","style","margin-left: -10px;",4,"ngIf"],[1,"row",2,"align-items","center"],["type","checkbox",3,"ngModel","checked","ngModelChange","change",4,"ngIf"],["style","font-size: 13px;",4,"ngIf"],[1,"row",2,"align-items","center",3,"ngStyle"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"form-check"],["type","checkbox","value","","id","discontinueitemCheck",1,"form-check-input",3,"ngModel","disabled","ngModelChange","keydown.tab"],["for","discontinueitemCheck",1,"form-check-label"],["id","discontinueItem",2,"width","103%",3,"ngModel","disabled","ngModelChange","keydown.tab"],["value","0"],["value","2"],["value","3"],["value","1"],["style","width: 100%;margin-top: 10px;",4,"ngIf"],["style","padding-top: 5px;padding-left: 10px;",4,"ngIf"],[1,"form-group",3,"ngStyle"],[1,"",2,"width","100%",3,"ngStyle"],[1,"",2,"background-color","#6599FF","text-align","center","margin-bottom","10px","color","#fff","border-radius","5px","padding","3px 0"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGrid",""],["genericGridWarehouse",""],[3,"ngValue"],["type","number","readonly","",3,"disabled","ngModel","ngModelChange"],["id","labelMrp","type","number",3,"ngModel","ngModelChange","keydown.Tab"],[1,"custom-asset-dropdown",3,"placeholder","disabled","settings","ngModel","data","ngModelChange","onSelect"],[1,"DivisionMapping"],["id","divisionsDropdown",3,"placeholder","settings","data","ngModelOptions","ngModel","ngModelChange"],["id","wareHouse","type","text","placeholder","Press ENTER to Select","autocomplete","off","readonly","",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"width","49.5%",3,"ngModel","disabled","ngModelChange"],["value","BEVERAGE"],["value","FOOD"],["id","Cost-Center","name","cost center",2,"width","inherit",3,"ngModel","ngModelChange"],[2,"width","29%"],["id","ExtraCategory",3,"ngModel","ngModelChange","keydown.tab"],["id","TaxCategory",3,"ngModel","ngModelChange","change","keydown.tab"],["id","supplierCode","type","text","autocomplete","off","placeholder","Press ENTER to Select Item",3,"ngModel","ngModelChange","keydown.enter","keydown.tab","keydown.delete","focusout"],["id","factor","type","number",3,"ngModel","disabled","ngModelChange","keydown.tab"],["value","Discounted"],["appSalesRateDisableFromUserProfile","","id","wholeSalePrice","type","number",3,"ngModel","ngModelChange","change","keydown.tab","input"],["appSalesRateDisableFromUserProfile","","type","number",3,"ngModel","ngModelChange","change","input"],["id","interBranchPrice","type","number",3,"ngModel","ngModelChange","change","keydown.tab","input"],["type","number",3,"ngModel","ngModelChange","change","input"],["type","checkbox","id","isUnknownItem",3,"ngModel","checked","ngModelChange","change"],[1,"col-lg-6",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],["class","row","style","align-items: center;",4,"ngIf"],["class","row",4,"ngIf"],[1,"row",3,"ngStyle"],[2,"width","100%","margin-top","10px"],[2,"width","65%","font-size","12px"],["id","colorGroupSelect",2,"width","100%","margin-top","-20px",3,"ngModel","ngModelChange","keydown.tab"],[2,"padding-top","5px","padding-left","10px"],[2,"width","32%"],["type","number",2,"width","50%",3,"ngModel","disabled","ngModelChange"],[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","20px","margin-right","8rem"],[1,"modal-content","modal-content-main-area",2,"width","70%"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group","row",2,"margin-top","1rem","margin-bottom","2px"],[1,"col-sm-3","form-control-label",2,"margin-left","-12px"],[1,"col-sm-8"],["type","text","formControlName","unitName","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"disabled"],[1,"form-group","row",2,"margin-top","1rem"],[1,"col-sm-4","form-control-label",2,"font-size","13px"],[1,"col-sm-7",2,"padding-left","0px"],["type","text","id","Parent","formControlName","CATEGORYNAME","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Product Description : "),e.qZA(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(r){return n.productObj.DESCB=r}),e.qZA()(),e.TgZ(6,"div",0)(7,"div",5)(8,"div",2)(9,"label",6),e._uU(10,"Stock Unit : "),e.qZA(),e.TgZ(11,"select",7),e.NdJ("ngModelChange",function(r){return n.productObj.BASEUNIT=r})("focus",function(){return n.newUnitCreateTrigger()})("keydown.Tab",function(){return n.TabClickStockUnit()}),e.YNc(12,Kn,2,2,"option",8),e.qZA(),e.TgZ(13,"span",9),e.NdJ("click",function(r){return n.onNewUnitAdd(r)}),e.TgZ(14,"p"),e._uU(15,"+"),e.qZA()()(),e.TgZ(16,"div",2)(17,"label",10),e._uU(18,"Purchase Price :"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("ngModelChange",function(r){return n.ProductService.TempProductObj.PRATE_A=r})("change",function(){return n.RecalculateNonVATAmount_Ex_Prate_A()})("keydown.Tab",function(){return n.TabClickPurchasePrice()}),e.qZA()(),e.YNc(20,Wn,4,2,"div",12),e.YNc(21,Xn,4,1,"div",12),e.YNc(22,$n,4,5,"div",12),e.YNc(23,to,4,6,"div",12),e.YNc(24,no,4,1,"div",12),e.qZA(),e.TgZ(25,"div",13)(26,"div",2)(27,"label"),e._uU(28,"Product Type : "),e.qZA(),e.TgZ(29,"select",14),e.NdJ("ngModelChange",function(r){return n.productObj.PTYPE=r})("keydown.Tab",function(){return n.TabClick("ProductType")}),e.YNc(30,oo,2,2,"option",8),e.qZA()(),e.YNc(31,ro,15,5,"ng-container",15),e.TgZ(32,"div",2)(33,"label"),e._uU(34,"Category : "),e.qZA(),e.TgZ(35,"select",16),e.NdJ("focus",function(){return n.newCatCreateTrigger()})("change",function(){return n.onCategoryChange()})("ngModelChange",function(r){return n.productObj.MCAT=r}),e.YNc(36,so,2,2,"option",8),e.qZA(),e.TgZ(37,"span",9),e.NdJ("click",function(){return n.onNewCategoryAdd()}),e.TgZ(38,"p"),e._uU(39,"+"),e.qZA()()(),e.TgZ(40,"div",2)(41,"label",17),e._uU(42,"Product Life:"),e.qZA(),e.TgZ(43,"input",18),e.NdJ("ngModelChange",function(r){return n.productObj.SHELFLIFE=r}),e.qZA(),e.TgZ(44,"span",19),e._uU(45," days"),e.qZA()(),e.TgZ(46,"div",2)(47,"label"),e._uU(48,"VAT Mode :"),e.qZA(),e.TgZ(49,"div",20)(50,"input",21),e.NdJ("ngModelChange",function(r){return n.productObj.VAT=r})("change",function(){return n.RecalculateVATAmount()})("keydown.tab",function(){return n.TabClickVATItem()}),e.qZA(),e.TgZ(51,"label",22),e._uU(52,"VAT Item"),e.qZA()(),e.TgZ(53,"div",20)(54,"input",23),e.NdJ("ngModelChange",function(r){return n.productObj.VAT=r})("change",function(){return n.RecalculateVATAmount()})("keydown.tab",function(){return n.TabClickNonVATItem()}),e.qZA(),e.TgZ(55,"label",22),e._uU(56,"Non-VAT"),e.qZA()()(),e.YNc(57,ao,6,2,"div",12),e.YNc(58,uo,5,2,"div",12),e.YNc(59,ho,5,2,"div",12),e.qZA()()(),e.TgZ(60,"div",24)(61,"div",2)(62,"label",25),e._uU(63,"Short Name:"),e.qZA(),e.TgZ(64,"input",26),e.NdJ("ngModelChange",function(r){return n.productObj.Description=r}),e.qZA()(),e.TgZ(65,"div",2)(66,"label",25),e._uU(67,"Supplier Name :"),e.qZA(),e.TgZ(68,"input",27),e.NdJ("ngModelChange",function(r){return n.ProductService.suppilierName=r})("keydown.enter",function(r){return n.customerEnterCommand(r)})("keydown.tab",function(){return n.FocusRetail()}),e.qZA()(),e.YNc(69,_o,4,1,"div",12),e.YNc(70,go,4,2,"div",12),e.TgZ(71,"div",2)(72,"label",25),e._uU(73,"Discount Mode"),e.qZA(),e.TgZ(74,"select",28),e.NdJ("ngModelChange",function(r){return n.productObj.DISMODE=r})("keydown.tab",function(){return n.TabClickDisMode()}),e.TgZ(75,"option",29),e._uU(76,"Discountable"),e.qZA(),e.TgZ(77,"option",30),e._uU(78,"Non-Discountable"),e.qZA(),e.YNc(79,mo,2,0,"option",31),e.qZA()()()(),e.TgZ(80,"div",32),e._UZ(81,"div",33)(82,"div",33),e.qZA(),e.TgZ(83,"div",0)(84,"div",1)(85,"fieldset",34)(86,"div")(87,"div",35)(88,"a"),e._uU(89,"Sales Price"),e.qZA(),e.TgZ(90,"a"),e._uU(91,"Inc VAT"),e.qZA(),e.TgZ(92,"a"),e._uU(93,"Exc VAT"),e.qZA()(),e.TgZ(94,"div",2)(95,"label",36),e._uU(96,"Retail Price :"),e.qZA(),e.TgZ(97,"input",37,38),e.NdJ("ngModelChange",function(r){return n.ProductService.TempProductObj.IN_RATE_A=r})("change",function(){return n.RecalculateVATAmount()})("keydown.tab",function(){return n.TabClickRetailPrice()})("input",function(){return n.RecalculateVATAmount()})("keyup",function(r){return n.rateChange(r)})("focusout",function(r){return n.rateFocusOut(r)}),e.qZA(),e.TgZ(99,"input",39,40),e.NdJ("ngModelChange",function(r){return n.ProductService.TempProductObj.RATE_A=r})("change",function(){return n.RecalculateNonVATAmount_Ex_Rate_A()})("input",function(){return n.RecalculateNonVATAmount_Ex_Rate_A()})("keyup",function(r){return n.rateChange(r)})("focusout",function(r){return n.rateFocusOut(r)}),e.qZA(),e._UZ(101,"br"),e.qZA(),e.TgZ(102,"div",2),e.YNc(103,fo,2,0,"label",41),e.YNc(104,bo,2,1,"input",42),e.YNc(105,Co,2,1,"input",43),e._UZ(106,"br"),e.qZA(),e.TgZ(107,"div",2),e.YNc(108,To,2,0,"label",41),e.YNc(109,Mo,2,1,"input",44),e.YNc(110,Oo,2,1,"input",45),e._UZ(111,"br"),e.qZA()()(),e.TgZ(112,"fieldset",46)(113,"div",47),e._uU(114,"Items Configuration"),e.qZA(),e.TgZ(115,"div",48),e.YNc(116,Eo,13,6,"div",49),e.qZA(),e.TgZ(117,"div",0),e.YNc(118,Uo,26,19,"div",50),e.TgZ(119,"div",13)(120,"div",51),e.YNc(121,jo,1,2,"input",52),e._uU(122," \xa0"),e.YNc(123,Zo,2,0,"a",53),e.qZA(),e.TgZ(124,"div",51),e.YNc(125,Go,1,2,"input",52),e._uU(126," \xa0"),e.YNc(127,Lo,2,0,"a",53),e.qZA(),e.TgZ(128,"div",54)(129,"input",55),e.NdJ("ngModelChange",function(r){return n.productObj.HASSERVICECHARGE=r})("change",function(r){return n.productObj.HASSERVICECHARGE=r.target.checked?1:0}),e.qZA(),e._uU(130," \xa0"),e.TgZ(131,"a",56),e._uU(132,"Service Charge Applicable"),e.qZA()(),e.TgZ(133,"div",51),e.YNc(134,Bo,1,2,"input",52),e._uU(135," \xa0"),e.YNc(136,Fo,2,0,"a",53),e.qZA(),e.TgZ(137,"div",54)(138,"input",55),e.NdJ("ngModelChange",function(r){return n.productObj.ISAMOUNTWISEBILL=r})("change",function(r){return n.productObj.ISAMOUNTWISEBILL=r.target.checked?1:0}),e.qZA(),e._uU(139," \xa0"),e.TgZ(140,"a",56),e._uU(141,"Enable Amount Wise Billing"),e.qZA()()()()()(),e.TgZ(142,"div",24)(143,"div",0)(144,"div",57)(145,"input",58),e.NdJ("ngModelChange",function(r){return n.productObj.discontinueCheckbox=r})("keydown.tab",function(){return n.TabClickDiscontinueCheck()}),e.qZA(),e.TgZ(146,"label",59),e._uU(147," Set as Discontinue Item "),e.qZA(),e.TgZ(148,"select",60),e.NdJ("ngModelChange",function(r){return n.productObj.DISCONTINUE=r})("keydown.tab",function(){return n.TabClickDiscontinueItems()}),e._UZ(149,"option",61),e.TgZ(150,"option",62),e._uU(151,"DISCONTINUE SALES "),e.qZA(),e.TgZ(152,"option",63),e._uU(153,"DISCONTINUE PURCHASE "),e.qZA(),e.TgZ(154,"option",64),e._uU(155,"DISCONTINUE BOTH "),e.qZA()()(),e.YNc(156,Jo,5,2,"fieldset",65),e.YNc(157,qo,4,1,"div",66),e.YNc(158,Vo,6,2,"div",15),e.qZA(),e.TgZ(159,"div",67)(160,"div",68)(161,"div",69),e._uU(162,"Margin"),e.qZA(),e.TgZ(163,"table")(164,"tr")(165,"td"),e._uU(166," Recommended Margin : "),e.qZA(),e.TgZ(167,"td"),e._uU(168),e.qZA()(),e.TgZ(169,"tr")(170,"td"),e._uU(171," Actual margin : "),e.qZA(),e.TgZ(172,"td"),e._uU(173),e.ALo(174,"number"),e.qZA()(),e.TgZ(175,"tr"),e._UZ(176,"td"),e.TgZ(177,"td"),e._uU(178),e.ALo(179,"number"),e.qZA()()()()()()(),e.TgZ(180,"generic-popup-grid",70,71),e.NdJ("onItemDoubleClick",function(r){return n.dblClickPopupParty(r)}),e.qZA(),e.TgZ(182,"generic-popup-grid",70,72),e.NdJ("onItemDoubleClick",function(r){return n.dblClickPopupItem(r)}),e.qZA(),e.TgZ(184,"generic-popup-grid",70,73),e.NdJ("onItemDoubleClick",function(r){return n.dblClickWarehouse(r)}),e.qZA(),e.YNc(186,Yo,19,2,"div",15),e.YNc(187,Qo,19,2,"div",15)),2&t&&(e.xp6(5),e.Q6J("ngModel",n.productObj.DESCB),e.xp6(6),e.Q6J("ngModel",n.productObj.BASEUNIT)("disabled",1==n.masterService.disableOnCheckTran),e.xp6(1),e.Q6J("ngForOf",n.Units),e.xp6(1),e.Akn("view"==n.mode?"cursor: not-allowed":"cursor: pointer"),e.xp6(6),e.Q6J("ngModel",n.ProductService.TempProductObj.PRATE_A),e.xp6(1),e.Q6J("ngIf","view"==n.mode),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode&&1==n.userSetting.EnableItemWiseLocationMapping),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode&&1==n.userSetting.divisionWiseItemFilter),e.xp6(1),e.Q6J("ngIf",1==n.userSetting.ItemWiseWarehouse),e.xp6(5),e.Q6J("ngModel",n.productObj.PTYPE)("disabled",1==n.productObj.ISUNKNOWN||1==n.masterService.disableOnCheckTran),e.xp6(1),e.Q6J("ngForOf",n.PTypeList),e.xp6(1),e.Q6J("ngIf",1==n.userSetting.EnableServiceCharge),e.xp6(4),e.Q6J("ngModel",n.productObj.MCAT),e.xp6(1),e.Q6J("ngForOf",n.MCatList),e.xp6(1),e.Akn("view"==n.mode?"cursor: not-allowed":"cursor: pointer"),e.xp6(6),e.Q6J("ngModel",n.productObj.SHELFLIFE),e.xp6(7),e.Q6J("ngModel",n.productObj.VAT)("value",1),e.xp6(4),e.Q6J("ngModel",n.productObj.VAT)("value",0)("disabled",0==n.masterService.userSetting.EnableNonTaxableSales),e.xp6(3),e.Q6J("ngIf",1===n.masterService.userSetting.EnableItemWiseCostCenter),e.xp6(1),e.Q6J("ngIf",1==n.userSetting.ENABLEEXTRACATEGORY&&"pro"==n.AppMode),e.xp6(1),e.Q6J("ngIf",1==n.userSetting.ENABLETAXCATEGORY),e.xp6(5),e.Q6J("ngModel",n.productObj.Description),e.xp6(4),e.Q6J("ngModel",n.ProductService.suppilierName),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode),e.xp6(4),e.Q6J("ngModel",n.productObj.DISMODE),e.xp6(5),e.Q6J("ngIf",1==n.userSetting.EnableDiscountedOption&&"lite"!=n.AppMode),e.xp6(6),e.Q6J("ngStyle","lite"==n.AppMode?e.DdM(83,zo):e.DdM(84,Ko)),e.xp6(12),e.Q6J("ngModel",n.ProductService.TempProductObj.IN_RATE_A)("ngStyle","pro"==n.AppMode?e.DdM(85,Ne):e.DdM(86,ke)),e.xp6(2),e.Q6J("ngStyle","pro"==n.AppMode?e.DdM(87,Ne):e.DdM(88,ke))("ngModel",n.ProductService.TempProductObj.RATE_A),e.xp6(4),e.Q6J("ngIf","pro"==n.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode),e.xp6(3),e.Q6J("ngIf","pro"==n.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==n.AppMode),e.xp6(6),e.Q6J("ngIf","lite"==n.AppMode),e.xp6(2),e.Q6J("ngIf","lite"!=n.AppMode),e.xp6(3),e.Q6J("ngIf",0!=n.masterService.userSetting.EnableCommissionCalculation),e.xp6(2),e.Q6J("ngIf",0!=n.masterService.userSetting.EnableCommissionCalculation),e.xp6(2),e.Q6J("ngIf",1==n.masterService.userSetting.ItemWiseDisplaySettingInBilling),e.xp6(2),e.Q6J("ngIf",1==n.masterService.userSetting.ItemWiseDisplaySettingInBilling),e.xp6(1),e.Q6J("ngStyle",e.VKq(89,le,0!=n.userSetting.EnableServiceCharge?"block":"none")),e.xp6(1),e.Q6J("ngModel",n.productObj.HASSERVICECHARGE)("checked",1==n.productObj.HASSERVICECHARGE),e.xp6(5),e.Q6J("ngIf",1==n.masterService.userSetting.EnableBatchWisePrice&&0==n.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(2),e.Q6J("ngIf",1==n.masterService.userSetting.EnableBatchWisePrice&&0==n.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(1),e.Q6J("ngStyle",e.VKq(91,le,0!=n.userSetting.EnableAmountWiseBill?"block":"none")),e.xp6(1),e.Q6J("ngModel",n.productObj.ISAMOUNTWISEBILL)("checked",1==n.productObj.ISAMOUNTWISEBILL),e.xp6(7),e.Q6J("ngModel",n.productObj.discontinueCheckbox)("disabled","add"==n.mode),e.xp6(3),e.Q6J("ngModel",n.productObj.DISCONTINUE)("disabled",!n.productObj.discontinueCheckbox),e.xp6(8),e.Q6J("ngIf",1==n.userSetting.ENABLE_COLOR_GROUP_MAPPING),e.xp6(1),e.Q6J("ngIf",1==n.productObj.HASECSCHARGE),e.xp6(1),e.Q6J("ngIf",1==n.userSetting.ENABLEWARRANTYPERIOD),e.xp6(1),e.Q6J("ngStyle","pro"==n.AppMode?e.DdM(93,Wo):e.DdM(94,Xo)),e.xp6(1),e.Q6J("ngStyle","pro"==n.AppMode?e.DdM(95,$o):e.DdM(96,ei)),e.xp6(8),e.hij(" ",n.productObj.MARGIN,"% "),e.xp6(5),e.hij(" ",e.xi3(174,77,null==n.ProductService.pObj?null:n.ProductService.pObj.RecMarginOnPRate,"1.2-2"),"% on Cost Price"),e.xp6(5),e.hij(" ",e.xi3(179,80,null==n.ProductService.pObj?null:n.ProductService.pObj.RecMarginOnRate,"1.2-2"),"% on Sales Price"),e.xp6(2),e.Q6J("popupsettings",n.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",n.gridPopupSettings),e.xp6(2),e.Q6J("popupsettings",n.gridWarehousePopupSettings),e.xp6(2),e.Q6J("ngIf",n.addNewUnit),e.xp6(1),e.Q6J("ngIf",n.addNewCategory))},dependencies:[Jn.n,p.sg,p.O5,p.PC,d._Y,d.YN,d.Kr,d.Fj,d.wV,d.Wl,d.EJ,d._,d.JJ,d.JL,d.qQ,d.On,d.sg,d.u,y.Zl,se.O,p.JJ],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",'.add[_ngcontent-%COMP%]{\n      color: #2E8B57;\n      \n      margin-left: 9px;\n    }\n    \n    .add[_ngcontent-%COMP%]:hover{\n    transform: scale(0.97);\n    color: #04AA6D;\n    border-color:#04AA6D;\n    }\n    \n    span.add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{\n      position: absolute;\n      left: 50%;\n      top:50%;\n      transform: translate(-50%, -50%);\n    }\n    \n    span.add[_ngcontent-%COMP%]{\n      display: inline-block;\n      width: 22px;\n      height: 22px;\n      text-align: center;\n      font-size: 20px;\n      font-family: "Roboto";\n      border-radius: 50%;\n      background: #FFF;\n      position: relative;\n      cursor: pointer;\n    }\n    label[_ngcontent-%COMP%]{\n      width:auto !important;\n    }\n    .form-group[_ngcontent-%COMP%]{\n      display:flex;\n      align-items: center;\n      margin-bottom: 0 !important;\n      font-size: 12px !important;\n    }\n    .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\n      flex: 0 0 45%;\n  \n    }\n    .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{\n      flex: 0 0 56%;\n      width:100%;\n      font-size: 11px !important;\n  \n    }\n    .salesPricefieldSet[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\n      flex: 0 0 20%;\n  \n    }\n    .salesPricefieldSet[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\n      flex: 0 0 38%;\n      width:100%;\n      font-size: 11px !important;\n      margin-left: 1%;\n      margin-right: 1%;\n  \n    }\n    fieldset[_ngcontent-%COMP%]{\n      border: 0px solid #ddd;\n    }\n    .SalesPricelabels[_ngcontent-%COMP%]{\n      display: flex;\n    }\n    .SalesPricelabels[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{\n      flex: 0 0 20%;\n    }\n    .SalesPricelabels[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\n      flex: 0 0 38%;\n      text-align: center;\n      font-size: 14px;\n    }\n\n      .custom-asset-dropdown {\n      width: 100%;\n   }']}),i})();var ni=l(43583),oi=l(70489),Ue=(l(38906),l(16906),l(45391),l(79126),l(30467));l(79071),l(52805),l(74522),l(39146),l(99537),l(24216),l(6239);let Oi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Ue.Cl]}),i})();var qe=l(67032);let Gi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Oi,qe.BQ,qe.BQ]}),i})();var Bi=l(20372);const Fi=["fileSelect"];function Hi(i,s){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.selectedFileNames)}}let Ji=(()=>{class i{constructor(t,n,o,r,c){this.masterService=t,this.setting=n,this.alertService=o,this.spinner=r,this.productService=c,this.productObj={},this.dragging=!1,this.fileList=null,this.imgURL=null;try{this.AppSettings=this.setting.appSetting}catch(a){alert(a)}}ngOnInit(){}onDragOver(t){this.dragging=!0,t.preventDefault()}onDrop(t){this.dragging=!1,this.fileList=t.dataTransfer.files,this.setSelectedFileNames(),t.preventDefault()}setSelectedFileNames(){this.selectedFileNames="",null!=this.selectedFile&&(this.selectedFileNames=this.selectedFile.name)}onFileChange(t){this.selectedFile=t.target.files[0],this.setSelectedFileNames()}importConfig(){let t=this.selectedFile;const n=new FormData;n.append("file",t,t.name),this.spinner.show("Uploading Image, Please wait.."),this.masterService.importConfig(n).subscribe(o=>{if("ok"==o.status){this.spinner.hide(),this.alertService.success("Upload Sucessfull");let r=this.masterService.apiUrl;this.masterService.productImgURL=""+r.substring(r.length-3,0)+o.result,console.log("ya image upload ko case ma k bhaera aaucha",this.masterService.productImgURL,r,o.result),console.log("image upload url",this.masterService.productImgURL),this.productObj.ImageUpload=o.result+""}else this.spinner.hide(),this.alertService.error(o.result.error)},o=>{this.spinner.hide(),this.alertService.error(o)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(I.R),e.Y36(v.c),e.Y36(G.V),e.Y36(h.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["imageuploadtab"]],viewQuery:function(t,n){if(1&t&&e.Gf(Fi,5),2&t){let o;e.iGM(o=e.CRH())&&(n.fileSelect=o.first)}},inputs:{productObj:"productObj",AppSettings:"AppSettings"},decls:30,vars:5,consts:[[1,"upload-area","container"],[1,"file-upload-area"],[1,"row"],[1,"col-md-5"],["id","drop-zone",1,"upload-drop-zone",3,"dragover","drop","click"],[4,"ngIf"],[1,"input-group","image-preview"],["placeholder","","type","text","disabled","disabled","name","selectedfiles",1,"form-control","image-preview-filename",2,"display","none"],[1,"input-group-btn"],["type","button",1,"btn","btn-default","image-preview-clear",2,"display","none"],[1,"glyphicon","glyphicon-remove"],[1,"btn","btn-info","image-preview-input",2,"margin-right","5px"],[1,"glyphicon","glyphicon-folder-open"],[1,"image-preview-input-title"],["type","file","accept",".png, .jpg","name","input-file-preview",3,"change"],["fileSelect",""],["type","button",1,"btn","btn-labeled","btn-info",3,"disabled","click"],[1,"btn-label"],[1,"glyphicon","glyphicon-upload"],[1,"col-md-7"],[2,"margin","auto","height","45vh","width","81vh","box-shadow","7px 7px 11px #333434",3,"src"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e.NdJ("dragover",function(c){return n.onDragOver(c)})("drop",function(c){return n.onDrop(c)})("click",function(){e.CHM(o);const c=e.MAs(22);return e.KtG(c.click())}),e.TgZ(6,"b"),e._uU(7,"Choose an Image"),e.qZA(),e._uU(8," or Drag it here. "),e.qZA(),e._UZ(9,"br"),e.YNc(10,Hi,2,1,"p",5),e.TgZ(11,"div",6),e._UZ(12,"input",7),e.TgZ(13,"span",8)(14,"button",9)(15,"span",10),e._uU(16,"Clear"),e.qZA()(),e.TgZ(17,"div",11),e._UZ(18,"span",12),e.TgZ(19,"span",13),e._uU(20,"Browse"),e.qZA(),e.TgZ(21,"input",14,15),e.NdJ("change",function(c){return n.onFileChange(c)}),e.qZA()(),e.TgZ(23,"button",16),e.NdJ("click",function(){return n.importConfig()}),e.TgZ(24,"span",17),e._UZ(25,"i",18),e.qZA(),e._uU(26,"Upload "),e.qZA()()()(),e.TgZ(27,"div",19),e._UZ(28,"img",20),e.qZA()(),e._UZ(29,"br"),e.qZA()()}2&t&&(e.xp6(5),e.ekj("file-dropover-continue",n.dragging),e.xp6(5),e.Q6J("ngIf",n.selectedFileNames),e.xp6(13),e.Q6J("disabled",!n.selectedFile),e.xp6(5),e.s9C("src",n.masterService.productImgURL,e.LSH))},dependencies:[p.O5],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",'.modal-content[_ngcontent-%COMP%] {\n      padding: 1px;\n      margin: 0px;\n      float: right;\n    }\n  \n    .modal-content[_ngcontent-%COMP%] {\n      box-shadow: -10px 0px 10px 1px #aaaaaa;\n    }\n  \n    .modal-content-summary-area[_ngcontent-%COMP%] {\n      max-height: 20%;\n      height: 20%;\n      overflow: auto;\n      overflow-x: hidden;\n    }\n  \n    \n    .upload-drop-zone[_ngcontent-%COMP%] {\n      height: 80px;\n      border-width: 2px;\n      margin-bottom: 0px;\n    }\n  \n    \n    .upload-drop-zone[_ngcontent-%COMP%] {\n      color: #c7dadf;\n      border-style: solid;\n      border-color:#c7dadf;\n      border-radius: 2px;\n      line-height: 75px;\n      text-align: center;\n      cursor: pointer;\n      height: 8.5rem;\n    }\n  \n    .sample-download-area[_ngcontent-%COMP%] {\n      color: #ccc;\n      border-style: dashed;\n      border-color: #ccc;\n      line-height: 60px;\n      text-align: center;\n      cursor: pointer;\n    }\n  \n    .upload-drop-zone.drop[_ngcontent-%COMP%] {\n      color: #222;\n      border-color: #222;\n    }\n  \n    .image-preview-input[_ngcontent-%COMP%] {\n      position: relative;\n      overflow: hidden;\n      margin: 0px;\n      color: #333;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    .image-preview-input[_ngcontent-%COMP%]   input[type="file"][_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      right: 0;\n      margin: 0;\n      padding: 0;\n      font-size: 20px;\n      cursor: pointer;\n      opacity: 0;\n      filter: alpha(opacity=0);\n    }\n    .image-preview-input-title[_ngcontent-%COMP%] {\n      margin-left: 2px;\n    }\n  \n    .form-control[_ngcontent-%COMP%] {\n      height: 35px;\n    }\n  \n    .file-dropover-continue[_ngcontent-%COMP%] {\n      color: #1b6ed6;\n      border-style: dashed;\n      border-color: #1b6ed6;\n      background: #ded4d4;\n    }\n    .modal-sticky[_ngcontent-%COMP%] {\n      position: fixed;\n      top: 275px;\n      right: 20px;\n      width: 40%;\n      z-index: 9999999;\n  }']}),i})();const qi=["genericGridAccountLedger_Sales"],Vi=["genericGridAccountLedger_SalesReturn"],Yi=["genericGridAccountLedger_Purchase"],Qi=["genericGridAccountLedger_PurchaseReturn"];let zi=(()=>{class i{constructor(t,n,o,r){this.masterService=t,this.productService=n,this.alert=o,this.authservice=r,this.productObj={},this.gridPopupSettingsForAccountLedgerList_Sales=new y.im,this.gridPopupSettingsForAccountLedgerList_SalesReturn=new y.im,this.gridPopupSettingsForAccountLedgerList_Purchase=new y.im,this.gridPopupSettingsForAccountLedgerList_PurchaseReturn=new y.im,this.userSetting=this.authservice.getSetting()}ngOnInit(){this.masterService.getSalesInfo().subscribe(t=>{if("Add Product"==this.masterService.modeIs){console.log("salesInfoList",t);const n=Object.values(t);let o=n.filter(u=>u.ACID==this.masterService.userSetting.SalesAc);this.productObj.SAC_ACNAME=o[0].ACNAME;let r=n.filter(u=>u.ACID==this.masterService.userSetting.SalesReturnAc);this.productObj.SRAC_ACNAME=r[0].ACNAME;let c=n.filter(u=>u.ACID==this.masterService.userSetting.PurchaseAc);this.productObj.PAC_ACNAME=c[0].ACNAME;let a=n.filter(u=>u.ACID==this.masterService.userSetting.PurchaseReturnAc);this.productObj.PRAC_ACNAME=a[0].ACNAME}})}SalesAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_Sales=this.masterService.getGenericGridPopUpSettings("SalesTransaction"),this.genericGridAccountLedger_Sales.show()}dblClickSalesAccountSelect(t){this.productObj.SAC=t.ACID,this.productObj.SAC_ACNAME=t.ACNAME}SalesReturnAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_SalesReturn=this.masterService.getGenericGridPopUpSettings("SalesTransaction"),this.genericGridAccountLedger_SalesReturn.show()}dblClickSalesReturnAccountSelect(t){this.productObj.SRAC=t.ACID,this.productObj.SRAC_ACNAME=t.ACNAME}PurchaseAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_Purchase=this.masterService.getGenericGridPopUpSettings("PurchaseTransaction"),this.genericGridAccountLedger_Purchase.show()}dblClickPurchaseAccountSelect(t){this.productObj.PAC=t.ACID,this.productObj.PAC_ACNAME=t.ACNAME}PurchaseReturnAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_PurchaseReturn=this.masterService.getGenericGridPopUpSettings("PurchaseTransaction"),this.genericGridAccountLedger_PurchaseReturn.show()}dblClickPurchaseReturnAccountSelect(t){this.productObj.PRAC=t.ACID,this.productObj.PRAC_ACNAME=t.ACNAME}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(h.L),e.Y36(v.c),e.Y36(M.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["itemwise-acc"]],viewQuery:function(t,n){if(1&t&&(e.Gf(qi,5),e.Gf(Vi,5),e.Gf(Yi,5),e.Gf(Qi,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.genericGridAccountLedger_Sales=o.first),e.iGM(o=e.CRH())&&(n.genericGridAccountLedger_SalesReturn=o.first),e.iGM(o=e.CRH())&&(n.genericGridAccountLedger_Purchase=o.first),e.iGM(o=e.CRH())&&(n.genericGridAccountLedger_PurchaseReturn=o.first)}},inputs:{productObj:"productObj"},decls:30,vars:8,consts:[[1,"row"],[1,"col-md-5",2,"padding-left","0px"],[1,"fieldsColumnHeading"],[2,"width","105px"],["type","text","placeholder","Press Enter or Tab for Account List",3,"ngModel","ngModelChange","keydown.Tab","keydown.enter"],[1,"fieldsColumnHeading",2,"margin-top","20px"],[3,"popupsettings","onItemDoubleClick"],["genericGridAccountLedger_Sales",""],["genericGridAccountLedger_SalesReturn",""],["genericGridAccountLedger_Purchase",""],["genericGridAccountLedger_PurchaseReturn",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Sales Transaction "),e.qZA(),e.TgZ(4,"div")(5,"label",3),e._uU(6,"Sales :"),e.qZA(),e.TgZ(7,"input",4),e.NdJ("ngModelChange",function(r){return n.productObj.SAC_ACNAME=r})("keydown.Tab",function(){return n.SalesAccountEnterClicked()})("keydown.enter",function(){return n.SalesAccountEnterClicked()}),e.qZA()(),e.TgZ(8,"div")(9,"label",3),e._uU(10,"Sales Return :"),e.qZA(),e.TgZ(11,"input",4),e.NdJ("ngModelChange",function(r){return n.productObj.SRAC_ACNAME=r})("keydown.Tab",function(){return n.SalesReturnAccountEnterClicked()})("keydown.enter",function(){return n.SalesReturnAccountEnterClicked()}),e.qZA()(),e.TgZ(12,"div",5),e._uU(13," Purchase Transaction "),e.qZA(),e.TgZ(14,"div")(15,"label",3),e._uU(16,"Purchase :"),e.qZA(),e.TgZ(17,"input",4),e.NdJ("ngModelChange",function(r){return n.productObj.PAC_ACNAME=r})("keydown.Tab",function(){return n.PurchaseAccountEnterClicked()})("keydown.enter",function(){return n.PurchaseAccountEnterClicked()}),e.qZA()(),e.TgZ(18,"div")(19,"label",3),e._uU(20,"Purchase Return :"),e.qZA(),e.TgZ(21,"input",4),e.NdJ("ngModelChange",function(r){return n.productObj.PRAC_ACNAME=r})("keydown.Tab",function(){return n.PurchaseReturnAccountEnterClicked()})("keydown.enter",function(){return n.PurchaseReturnAccountEnterClicked()}),e.qZA()()()(),e.TgZ(22,"generic-popup-grid",6,7),e.NdJ("onItemDoubleClick",function(r){return n.dblClickSalesAccountSelect(r)}),e.qZA(),e.TgZ(24,"generic-popup-grid",6,8),e.NdJ("onItemDoubleClick",function(r){return n.dblClickSalesReturnAccountSelect(r)}),e.qZA(),e.TgZ(26,"generic-popup-grid",6,9),e.NdJ("onItemDoubleClick",function(r){return n.dblClickPurchaseAccountSelect(r)}),e.qZA(),e.TgZ(28,"generic-popup-grid",6,10),e.NdJ("onItemDoubleClick",function(r){return n.dblClickPurchaseReturnAccountSelect(r)}),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngModel",n.productObj.SAC_ACNAME),e.xp6(4),e.Q6J("ngModel",n.productObj.SRAC_ACNAME),e.xp6(6),e.Q6J("ngModel",n.productObj.PAC_ACNAME),e.xp6(4),e.Q6J("ngModel",n.productObj.PRAC_ACNAME),e.xp6(1),e.Q6J("popupsettings",n.gridPopupSettingsForAccountLedgerList_Sales),e.xp6(2),e.Q6J("popupsettings",n.gridPopupSettingsForAccountLedgerList_SalesReturn),e.xp6(2),e.Q6J("popupsettings",n.gridPopupSettingsForAccountLedgerList_Purchase),e.xp6(2),e.Q6J("popupsettings",n.gridPopupSettingsForAccountLedgerList_PurchaseReturn))},dependencies:[d.Fj,d.JJ,d.On,y.Zl],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".col-md-12[_ngcontent-%COMP%] {\n    padding: 0px !important;\n  }\n\n  .col-md-4[_ngcontent-%COMP%] {\n    padding: 0px !important;\n  }\n\n  table[_ngcontent-%COMP%] {\n    border-collapse: collapse;\n  }\n\n  th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n    text-align: left;\n    padding: 8px;\n  }\n\n  tr[_ngcontent-%COMP%]:nth-child(even) {\n    background-color: #f2f2f2;\n  }\n\n  input[_ngcontent-%COMP%] {\n    padding-left: 2px;\n    width: 65%;\n  }"]}),i})();function Ki(i,s){if(1&i&&(e.TgZ(0,"tr",8)(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td",10),e._uU(4),e.qZA(),e.TgZ(5,"td",10),e._uU(6),e.qZA(),e.TgZ(7,"td",11),e._uU(8),e.ALo(9,"number"),e.qZA(),e.TgZ(10,"td",11),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td",11),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td",11),e._uU(17),e.ALo(18,"number"),e.qZA(),e.TgZ(19,"td",11),e._uU(20),e.ALo(21,"date"),e.qZA()()),2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.hij(" ",n+1," "),e.xp6(2),e.Oqu(t.BATCH),e.xp6(2),e.Oqu(t.STOCK),e.xp6(2),e.hij(" ",e.xi3(9,8,t.LANDINGCOST,"1.2-2"),""),e.xp6(3),e.Oqu(e.xi3(12,11,t.SELLRATEBEFORETAX,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(15,14,t.W_SELLRATEBEFORETAX,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(18,17,t.MRP,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(21,20,t.EXPDATE,"dd/MM/yyyy"))}}let Wi=(()=>{class i{constructor(t,n,o,r){this.masterService=t,this.productService=n,this.alert=o,this.datePipe=r,this.productObj={},this.ItemWisePriceList={}}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(h.L),e.Y36(v.c),e.Y36(p.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["itemwise-price"]],inputs:{productObj:"productObj"},features:[e._Bn([p.uU])],decls:23,vars:1,consts:[[1,"row",2,"width","100%"],[2,"height","58vh","width","100%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","1%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","3%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","5%","font-weight","bold","text-align","center"],["style","border: 1px; max-height: 25px;",4,"ngFor","ngForOf"],[2,"border","1px","max-height","25px"],["id","sn",2,"line-height","21px","text-align","center","border","1px solid #e6e6e6"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","center"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","right"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr",3)(5,"th",4),e._uU(6,"S.N"),e.qZA(),e.TgZ(7,"th",5),e._uU(8,"BATCH"),e.qZA(),e.TgZ(9,"th",5),e._uU(10,"STOCK"),e.qZA(),e.TgZ(11,"th",6),e._uU(12,"LANDINGCOST"),e.qZA(),e.TgZ(13,"th",5),e._uU(14,"SELLRATEBEFORETAX(Retail)"),e.qZA(),e.TgZ(15,"th",5),e._uU(16,"SELLRATEBEFORETAX(WholeSale)"),e.qZA(),e.TgZ(17,"th",5),e._uU(18,"MRP"),e.qZA(),e.TgZ(19,"th",5),e._uU(20,"EXP DATE"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,Ki,22,23,"tr",7),e.qZA()()()()),2&t&&(e.xp6(22),e.Q6J("ngForOf",n.productObj.ItemWisePrice))},dependencies:[p.sg,p.JJ,p.uU],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n\n    }\n\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr[_ngcontent-%COMP%]:nth-child(even) {\n        background-color: #f2f2f2;\n    }\n\n    input[_ngcontent-%COMP%]{\n        padding-left: 2px;\n        width:96%;\n    }\n\n.fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n \n  \n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),i})();var Xi=l(53158);function $i(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",19)(1,"td",20),e._uU(2),e.qZA(),e.TgZ(3,"td",21),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",21),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td",22),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",23)(13,"input",24),e.NdJ("change",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ISACTIVE=o.target.checked?1:0)})("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.ISACTIVE=o)}),e.qZA()(),e.TgZ(14,"td",25)(15,"button",26),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.editMSLevel(r))}),e._uU(16,"EDIT"),e.qZA(),e.TgZ(17,"button",27),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeMSLevel(r))}),e._uU(18,"Remove"),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index,o=e.oxw();e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(e.xi3(5,6,t.RATE,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(8,9,t.INRATE,"1.2-2")),e.xp6(3),e.Oqu(e.lcZ(11,12,t.EXPDATE)),e.xp6(3),e.Q6J("ngModel",t.ISACTIVE),e.xp6(4),e.Q6J("disabled","edit"==o.mode)}}let er=(()=>{class i{constructor(t,n,o,r){this.masterService=t,this.productService=n,this.alertservice=o,this.setting=r,this.productObj={},this.mode="",this.PMultipleRetailPrice=[],this.AlternateUnits=[],this.PBarCodeCollection=[],this.PYieldCollection=[],this.MultipeRetailObj={};try{this.AppSettings=this.setting.appSetting}catch(c){alert(c)}}ngOnInit(){}ngONChange(){console.log("mode1",this.mode)}addMRP(){0!=this.MultipeRetailObj.RATE&&null!=this.MultipeRetailObj.RATE?this.MultipeRetailObj.EXPDATE?(this.MultipeRetailObj.ISACTIVE=1,this.MultipeRetailObj.INRATE=this.MultipeRetailObj.RATE*this.masterService.userSetting.VatConRate,this.PMultipleRetailPrice.push(this.MultipeRetailObj),this.MultipeRetailObj={}):this.alertservice.warning("Expiry Date cannot be empty"):this.alertservice.warning("Rate cannot be empty")}editMSLevel(t){this.MultipeRetailObj=this.PMultipleRetailPrice[t],this.PMultipleRetailPrice.splice(t,1)}onChangeINculsiveRate(){this.MultipeRetailObj.INRATE=Number((this.MultipeRetailObj.RATE*this.masterService.userSetting.VatConRate).toFixed(2))}onChangeExculsiveRate(){this.MultipeRetailObj.RATE=Number((this.MultipeRetailObj.INRATE/this.masterService.userSetting.VatConRate).toFixed(2))}removeMSLevel(t){this.PMultipleRetailPrice.splice(t,1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(h.L),e.Y36(v.c),e.Y36(I.R))},i.\u0275cmp=e.Xpm({type:i,selectors:[["multipleretail-price"]],inputs:{productObj:"productObj",mode:"mode",AppSettings:"AppSettings",PMultipleRetailPrice:"PMultipleRetailPrice",AlternateUnits:"AlternateUnits",PBarCodeCollection:"PBarCodeCollection",PYieldCollection:"PYieldCollection"},decls:38,vars:4,consts:[[2,"margin-left","5px"],[1,"col-md-12","row"],[1,"col-md-11",2,"margin-top","-11px","padding-right","5px"],[2,"width","121px","margin-left","-34px"],["type","number",2,"width","140px",3,"ngModel","keyup","ngModelChange"],[2,"width","121px","margin-left","5px"],[2,"width","66px","margin-left","5px"],["type","date",2,"width","140px",3,"ngModel","ngModelChange"],[1,"col-md-1",2,"margin-top","10px"],[1,"btn","btn-info",2,"margin-left","20px","width","100%","background-color","#17a2b8","font-size","12px",3,"click"],[2,"height","40vh","width","99%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","7%","font-weight","bold"],[1,"fontsize",2,"width","10%","font-weight","bold"],[1,"fontsize",2,"width","9%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","12%","font-weight","bold","text-align","center"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 25px;",4,"ngFor","ngForOf"],[2,"line-height","25px"],[1,"fontsize",2,"width","7%"],[1,"fontsize","tooltipParent",2,"width","10%"],[1,"fontsize",2,"width","10%"],[1,"fontsize",2,"width","9%","text-align","center"],["type","checkbox",2,"width","25px","height","17px","margin-top","4px","margin-right","9px",3,"ngModel","change","ngModelChange"],[1,"fontsize",2,"width","12%","text-align","center"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","font-size","11px","line-height","10px",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"br"),e.TgZ(4,"label",3),e._uU(5,"Rate (Exclusive) :"),e.qZA(),e.TgZ(6,"input",4),e.NdJ("keyup",function(){return n.onChangeINculsiveRate()})("ngModelChange",function(r){return n.MultipeRetailObj.RATE=r}),e.qZA(),e.TgZ(7,"label",5),e._uU(8,"Rate (In-Exclusive) :"),e.qZA(),e.TgZ(9,"input",4),e.NdJ("keyup",function(){return n.onChangeExculsiveRate()})("ngModelChange",function(r){return n.MultipeRetailObj.INRATE=r}),e.qZA(),e.TgZ(10,"label",6),e._uU(11,"Exp Date :"),e.qZA(),e.TgZ(12,"input",7),e.NdJ("ngModelChange",function(r){return n.MultipeRetailObj.EXPDATE=r}),e.qZA()(),e.TgZ(13,"div",8)(14,"table")(15,"tr")(16,"td")(17,"button",9),e.NdJ("click",function(){return n.addMRP()}),e._uU(18,"Add"),e.qZA()()()()()()(),e._UZ(19,"br"),e.TgZ(20,"div",10)(21,"table",11)(22,"thead")(23,"tr",12)(24,"th",13),e._uU(25,"SN"),e.qZA(),e.TgZ(26,"th",14),e._uU(27,"RATE(Exclusive)"),e.qZA(),e.TgZ(28,"th",14),e._uU(29,"RATE(Inclusive)"),e.qZA(),e.TgZ(30,"th",14),e._uU(31,"EXP-DATE"),e.qZA(),e.TgZ(32,"th",15),e._uU(33,"Active"),e.qZA(),e.TgZ(34,"th",16),e._uU(35,"Actions"),e.qZA()()(),e.TgZ(36,"tbody",17),e.YNc(37,$i,19,14,"tr",18),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("ngModel",n.MultipeRetailObj.RATE),e.xp6(3),e.Q6J("ngModel",n.MultipeRetailObj.INRATE),e.xp6(3),e.Q6J("ngModel",n.MultipeRetailObj.EXPDATE),e.xp6(25),e.Q6J("ngForOf",n.PMultipleRetailPrice))},dependencies:[p.sg,d.Fj,d.wV,d.Wl,d.JJ,d.On,p.JJ,p.uU],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",".fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n  .tooltipParent[_ngcontent-%COMP%]{\n      position: relative;\n      cursor: pointer;\n  }\n  .tooltipChild[_ngcontent-%COMP%]{\n    display:block !important;\n    padding: 15px;\n    background: seagreen;\n    position: absolute;\n    border-radius: 17px;\n    text-align: center;\n    color: whiter;\n    color: white;\n    width: 100%;\n  }\n  .stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    position: sticky;\n    top: 0;\n    background-color: #6bb9b1 !important;\n    line-height: 2rem;\n    z-index: 2\n  }\n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),i})();var tr=l(55618),nr=l(87584);const or=["smBarcode"];function ir(i,s){1&i&&(e.TgZ(0,"label",19),e._uU(1,"Yield(%) :"),e.qZA())}function rr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",20)(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",22),e._uU(4),e.qZA(),e.TgZ(5,"td",23),e._uU(6),e.qZA(),e.TgZ(7,"td",24)(8,"button",25),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,c=o.index,a=e.oxw();return e.KtG(a.Edit(r,c))}),e._uU(9,"EDIT"),e.qZA(),e.TgZ(10,"button",26),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,c=o.index,a=e.oxw();return e.KtG(a.Delete(r,c))}),e._uU(11,"-"),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.SubItem),e.xp6(2),e.Oqu(t.Yield)}}let sr=(()=>{class i{constructor(t,n,o,r,c){this.masterService=t,this.setting=n,this.alertSevice=o,this.productService=r,this.ProductService=c,this.productObj={},this.PYield={},this.PYieldCollection=[],this.AlternateUnits=[],this.BCodeDetails=[],this.SupplierList=[],this.DivisionList=[],this.Units=[],this.barcodeUnits=[],this.active=0,this.AppMode=C.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(a){alert(a)}}ngOnInit(){}addYield(){this.PYield.SubItem?null!=this.PYield.Yield?this.PYieldCollection.find(t=>t.SubItem===this.PYield.SubItem)?this.alertSevice.info("Duplicate subitem is found"):(this.PYieldCollection.push(this.PYield),this.PYield={},setTimeout(()=>{document.getElementById("subitem").focus()},0)):this.alertSevice.warning("Yield % cannot be empty"):this.alertSevice.warning("BarCode can not be empty")}tabToYield(){setTimeout(()=>{document.getElementById("yield").focus()},0)}Edit(t,n){this.PYield=t,this.PYieldCollection.splice(n,1)}Delete(t,n){this.PYieldCollection.splice(n,1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(I.R),e.Y36(v.c),e.Y36(h.L),e.Y36(h.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["yieldtab"]],viewQuery:function(t,n){if(1&t&&e.Gf(or,5),2&t){let o;e.iGM(o=e.CRH())&&(n.smBarcode=o.first)}},inputs:{productObj:"productObj",AppSettings:"AppSettings",PYieldCollection:"PYieldCollection",AlternateUnits:"AlternateUnits"},decls:27,vars:4,consts:[[2,"margin-left","-18px"],[1,"col-md-12","row"],[1,"col-md-8",2,"margin-top","-11px","padding-right","5px","margin-left","20px"],[1,"row"],[2,"width","60px","margin-left","-34px"],["id","subitem","type","text",2,"width","40%",3,"ngModel","ngModelChange","keydown.enter"],["style","width: 60px; margin-left: -32px",4,"ngIf"],["id","yield","type","text","WhiteSpaceRestriction","",2,"width","95px",3,"ngModel","ngModelChange","keydown.enter"],[1,"btn","btn-info",2,"background-color","#17a2b8","font-size","12px","margin-left","15px !important","margin-top","0px !important","border-radius","4px","width","8%",3,"click"],[2,"height","40vh","width","99%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead"],[2,"line-height","2rem"],[1,"fontsize",2,"width","5%","font-weight","bold"],[1,"fontsize",2,"width","40%","font-weight","bold"],[1,"fontsize",2,"width","35%","font-weight","bold"],[1,"fontsize",2,"width","20%","font-weight","bold"],[2,"scrollbar-3dlight-color","#ffffff","scrollbar-arrow-color","#000000","scrollbar-base-color","#ff9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033cc"],["style","line-height: 25px",4,"ngFor","ngForOf"],[2,"width","60px","margin-left","-32px"],[2,"line-height","25px"],[1,"fontsize",2,"width","5%"],[1,"fontsize",2,"width","40%"],[1,"fontsize",2,"width","35%"],[1,"fontsize",2,"width","20%"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","line-height","10px",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"br"),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Sub Item :"),e.qZA(),e.TgZ(7,"input",5),e.NdJ("ngModelChange",function(r){return n.PYield.SubItem=r})("keydown.enter",function(){return n.tabToYield()}),e.qZA()(),e.TgZ(8,"div",3),e.YNc(9,ir,2,0,"label",6),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(r){return n.PYield.Yield=r})("keydown.enter",function(){return n.addYield()}),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){return n.addYield()}),e._uU(12," ADD "),e.qZA()()(),e.TgZ(13,"div",9)(14,"table",10)(15,"thead",11)(16,"tr",12)(17,"th",13),e._uU(18,"SN"),e.qZA(),e.TgZ(19,"th",14),e._uU(20," Sub Item "),e.qZA(),e.TgZ(21,"th",15),e._uU(22," Yield(%) "),e.qZA(),e.TgZ(23,"th",16),e._uU(24,"Actions"),e.qZA()()(),e.TgZ(25,"tbody",17),e.YNc(26,rr,12,3,"tr",18),e.qZA()()()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",n.PYield.SubItem),e.xp6(2),e.Q6J("ngIf","lite"!=n.AppMode),e.xp6(1),e.Q6J("ngModel",n.PYield.Yield),e.xp6(16),e.Q6J("ngForOf",n.PYieldCollection))},dependencies:[p.sg,p.O5,d.Fj,d.JJ,d.On,Re],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n  }\n\n  .tooltipParent[_ngcontent-%COMP%] {\n    position: relative;\n    cursor: pointer;\n  }\n\n  .tooltipChild[_ngcontent-%COMP%] {\n    display: block !important;\n    padding: 15px;\n    background: seagreen;\n    position: absolute;\n    border-radius: 17px;\n    text-align: center;\n    color: whiter;\n    color: white;\n    width: 100%;\n  }\n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.1rem !important;\n  }"]}),i})();var cr=l(92849);const ar=["genericGridAdd"],lr=["genericGridedit"];function dr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",9),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onDelete(r))}),e._UZ(11,"img",10),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.MENUCODE),e.xp6(2),e.Oqu(t.DESCA),e.xp6(2),e.Oqu(t.BASEUNIT)}}let ur=(()=>{class i{constructor(t,n){this.masterService=t,this.alertService=n,this.dataSource=[],this.productObj={},this.gridItemAddSettings=new y.im,this.gridItemeditSettings=new y.im,this.mode=""}onAltTabClick(){this.dataSource=this.masterService.alternateProducts}onDelete(t){!confirm("Do you want to delete this alternate product?")||(this.masterService.alternateProducts=this.masterService.alternateProducts.filter(n=>n!=t))}onEnterAltProd(){this.gridItemAddSettings={title:"Item list",apiEndpoints:"/getMenuitemPagedListForScheme/Item",defaultFilterIndex:1,columns:[{key:"MENUCODE",title:"MENU CODE",hidden:!1,noSearch:!1},{key:"DESCA",title:"NAME",hidden:!1,noSearch:!1},{key:"GroupName",title:"GROUP NAME",hidden:!1,noSearch:!1}]},this.genericGridAdd.show()}dblClickAdd(t,n){this.masterService.alternateProducts.some(o=>t.MCODE==o.MCODE)?this.alertService.info("Alternate Item is already selected!!"):this.masterService.ProductMcode!=t.MCODE?(t.MAIN_MCODE=this.masterService.ProductMcode,this.dataSource.push(t),this.masterService.alternateProducts.push(t)):this.alertService.info("Cannot add main item as alternate product!!")}dblClickedit(t,n){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.P),e.Y36(v.c))},i.\u0275cmp=e.Xpm({type:i,selectors:[["alternateProductTab"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ar,5),e.Gf(lr,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.genericGridAdd=o.first),e.iGM(o=e.CRH())&&(n.genericGridedit=o.first)}},inputs:{productObj:"productObj"},decls:24,vars:3,consts:[[1,"alternate-product-container"],[1,"input-container"],["for","product-search",1,"input-label"],["id","product-search","type","text","placeholder","Press Enter to Select Product",1,"product-input",3,"keyup.enter"],[1,"alternate-product-table"],[4,"ngFor","ngForOf"],[3,"popupsettings","onItemDoubleClick"],["genericGridAdd",""],["genericGridedit",""],[1,"delete-button",3,"click"],["src","../../../assets/icons/close-icon.png","alt","delete"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Alternate Product:"),e.qZA(),e.TgZ(4,"input",3),e.NdJ("keyup.enter",function(){return n.onEnterAltProd()}),e.qZA()(),e.TgZ(5,"table",4)(6,"thead")(7,"tr")(8,"th"),e._uU(9,"S.N."),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Item Code"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Item Name"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Base Unit"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,dr,12,4,"tr",5),e.qZA()()(),e.TgZ(20,"generic-popup-grid",6,7),e.NdJ("onItemDoubleClick",function(r){return n.dblClickAdd(r,n.mode)}),e.qZA(),e.TgZ(22,"generic-popup-grid",6,8),e.NdJ("onItemDoubleClick",function(r){return n.dblClickedit(r,n.mode)}),e.qZA()),2&t&&(e.xp6(19),e.Q6J("ngForOf",n.masterService.alternateProducts),e.xp6(1),e.Q6J("popupsettings",n.gridItemAddSettings),e.xp6(2),e.Q6J("popupsettings",n.gridItemeditSettings))},dependencies:[p.sg,y.Zl],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}",".alternate-product-container[_ngcontent-%COMP%] {\n    margin: 20px;\n    font-family: Arial, sans-serif;\n  }\n\n  .input-container[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: flex-end;\n    margin-bottom: 15px;\n  }\n\n  .input-label[_ngcontent-%COMP%] {\n    font-weight:lighter;\n  }\n\n  .product-input[_ngcontent-%COMP%] {\n    width: 50%;\n    padding: 8px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    font-size: 12px;\n  }\n\n  .alternate-product-table[_ngcontent-%COMP%] {\n    width: 60%;\n    border-collapse: collapse;\n    margin-top: 10px;\n  }\n\n  .alternate-product-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .alternate-product-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n    text-align: left;\n    padding: 12px;\n    font-size: 14px;\n    border: 1px solid #ddd;\n  }\n\n  .alternate-product-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    background-color: #d6e4fd;\n    \n    font-weight: bold;\n  }\n\n  .alternate-product-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even) {\n    background-color: #f9f9f9;\n    \n  }\n\n  .alternate-product-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\n    background-color: #f1f1f1;\n    \n  }\n\n  .delete-button[_ngcontent-%COMP%] {\n    background: none;\n    border: none;\n    cursor: pointer;\n  }\n\n  .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    width: 16px;\n    height: 16px;\n  }"]}),i})(),pr=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[M.e,De.P,Ie.u,nr.p],imports:[cr.S,O.xc,p.ez,d.u5,pn,d.UX,ni.m.forRoot(),hn._.forRoot(),_n.Z,f.ne,gn.D,mn.X.forRoot(),ae.JX,oi.Is,Gi,Bi.Ps,se.Z.forRoot(),Xi.i.forRoot(),Mn.m,tr.c.forRoot()]}),i})();e.B6R(Me,function(){return[p.O5,Hn,Gn,wn,ye,Tn,ti,Ji,zi,Wi,er,sr,ur]},[])},94327:function(U,E){var p;void 0!==(p=function(){"use strict";function m(f,_,w){var C=new XMLHttpRequest;C.open("GET",f),C.responseType="blob",C.onload=function(){k(C.response,_,w)},C.onerror=function(){console.error("could not download file")},C.send()}function e(f){var _=new XMLHttpRequest;_.open("HEAD",f,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function h(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(_)}}var M="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,x=M.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),k=M.saveAs||("object"!=typeof window||window!==M?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(f,_,w){var C=M.URL||M.webkitURL,S=document.createElement("a");S.download=_=_||f.name||"download",S.rel="noopener","string"==typeof f?(S.href=f,S.origin===location.origin?h(S):e(S.href)?m(f,_,w):h(S,S.target="_blank")):(S.href=C.createObjectURL(f),setTimeout(function(){C.revokeObjectURL(S.href)},4e4),setTimeout(function(){h(S)},0))}:"msSaveOrOpenBlob"in navigator?function(f,_,w){if(_=_||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(function d(f,_){return typeof _>"u"?_={autoBom:!1}:"object"!=typeof _&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\ufeff",f],{type:f.type}):f}(f,w),_);else if(e(f))m(f,_,w);else{var C=document.createElement("a");C.href=f,C.target="_blank",setTimeout(function(){h(C)})}}:function(f,_,w,C){if((C=C||open("","_blank"))&&(C.document.title=C.document.body.innerText="downloading..."),"string"==typeof f)return m(f,_,w);var S="application/octet-stream"===f.type,v=/constructor/i.test(M.HTMLElement)||M.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||S&&v||x)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var L=I.result;L=P?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=L:location=L,C=null},I.readAsDataURL(f)}else{var G=M.URL||M.webkitURL,B=G.createObjectURL(f);C?C.location=B:location.href=B,C=null,setTimeout(function(){G.revokeObjectURL(B)},4e4)}});M.saveAs=k.saveAs=k,U.exports=k}.apply(E,[]))&&(U.exports=p)}}]);