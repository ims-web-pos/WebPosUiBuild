"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[4051],{18488:(R,M,a)=>{a.d(M,{G:()=>A});var l=a(76165),C=a(79765),E=a(66274),k=a(48083),I=a(67297),O=a(71180);let A=(()=>{class S{constructor(d,g,v,c){this.http=d,this.activatedRoute=g,this.authService=v,this.state=c;const m=this.state.getGlobalSetting("apiUrl");m&&m.length>0&&(this.apiUrl=m)}getRequestOption(){return new l.WM({"Content-type":"application/csv",Authorization:this.authService.getAuth().token,"X-Requested-With":"XMLHttpRequest"})}RequestOptionForCSV(){return{headers:new l.WM({Authorization:this.authService.getAuth().token})}}downloadSampleFile(d,g="download"){return this.http.get(this.apiUrl+`${d}`,{headers:this.getRequestOption(),responseType:"blob"})}downloadSampleExcelforPIImport(d){return this.http.post(this.apiUrl+"/downloadSampleExcelforPIImport",d,{responseType:"blob"})}importSelectedFiles(d,g){let v={status:"error",result:"error"},c=new C.xQ;return this.http.post(this.apiUrl+`${d}`,g).subscribe(m=>{c.next(m),c.unsubscribe()},m=>{v.status="error",v.result=m,c.next(v),c.unsubscribe()}),c}}return S.\u0275fac=function(d){return new(d||S)(E.LFG(l.eN),E.LFG(k.gz),E.LFG(I.e),E.LFG(O.q))},S.\u0275prov=E.Yz7({token:S,factory:S.\u0275fac}),S})()},93661:(R,M,a)=>{a.r(M),a.d(M,{ManualStockEntryModule:()=>pe});var l=a(92752),C=a(53181),E=a(82738),k=a(46543),I=a(72533),O=a(12640),A=a(59629),S=a(88465),N=a(55618),d=a(48083),g=a(28698),v=a(60716),c=a(68328),m=a(42326),e=a(66274),H=a(53074),h=a(7587),f=a(57453),P=a(67311),U=a(14970),L=a(87584),Q=a(94534),V=a(11192),Z=a(91772),J=a(67297);const j=["genericGridview"],G=["genericGridedit"],w=function(){return{opacity:"50%"}};function F(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",17),e.NdJ("ngModelChange",function(i){const u=e.CHM(t).$implicit;return e.KtG(u.checked=i)}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA()()}if(2&r){const t=s.$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngModel",t.checked)("ngStyle","view"==n.mode?e.DdM(7,w):null)("checked",1==t.checked),e.xp6(2),e.Oqu(t.BATCH),e.xp6(2),e.Oqu(e.lcZ(7,5,t.DATE))}}let W=(()=>{class r{constructor(t,n,i,o){this.manualStockEntryService=t,this.alertService=n,this.loadingService=i,this.datePipe=o,this.closeEvent=new e.vpe,this.batchList=[],this.mode="new",this.disableMerge=!1,this.disableDate=!1,this.gridItemviewSettings=new g.im,this.gridItemeditSettings=new g.im}ngOnInit(){}onClose(){this.closeEvent.emit()}onLoadClick(){this.countDate?this.manualStockEntryService.loadManualBatchList(this.countDate,this.division).subscribe(t=>{if(this.addIsCheckedProperty(t.result),this.disableDate=!0,this.batchList&&this.batchList.length>0){const n=t.result.filter(i=>!this.batchList.some(o=>i.BATCH==o.BATCH&&i.DATE==o.DATE));this.batchList=[...this.batchList,...n]}else this.batchList=t.result}):this.alertService.warning("Count Date is required!!")}addIsCheckedProperty(t,n=!1){t.forEach(i=>{i.checked=n})}onMergeClick(){if(!this.countDate)return void this.alertService.warning("Count Date is required!!");if(!this.mbName)return void this.alertService.warning("Merged Batch Name is required!!");let t=this.batchList.filter(i=>1==i.checked);if(t.length<2)return void this.alertService.warning("Two or more Batches must be selected!!");let n={Mode:this.mode,Data:{BATCH:this.mbName,DIVISION:this.division,Date:this.countDate,REF_BATCH:t}};this.loadingService.show("Please wait.... Saving your data."),this.manualStockEntryService.mergeBatches(n).subscribe(i=>{this.loadingService.hide(),this.closeEvent.emit(),this.alertService.info("Batches Merged Successfully.")},i=>{this.loadingService.hide()})}dblClickedit(t,n){this.disableDate=!0,this.mode="edit",t.BATCH&&this.viewMergedBatch(t.BATCH,this.division)}dblClickview(t,n){this.mode="view",t.BATCH&&this.viewMergedBatch(t.BATCH,this.division)}viewMergedBatch(t,n){this.manualStockEntryService.viewMergedBatch(t,n).subscribe(i=>{i&&i.result&&i.result.REF_BATCH&&(this.addIsCheckedProperty(i.result.REF_BATCH,!0),this.batchList=i.result.REF_BATCH,i.result.BATCH&&(this.mbName=i.result.BATCH),i.result.DATE&&(this.countDate=this.datePipe.transform(i.result.DATE,"yyyy-MM-dd"))),"Adjusted"==i.result2?(this.disableMerge=!0,this.alertService.warning("Selected batch has already been adjusted!!")):this.disableMerge=!1})}onViewClick(){this.gridItemviewSettings={title:"View merged Batches",apiEndpoints:`/getMergedBatchPagedList/${this.division}`,defaultFilterIndex:0,columns:[{key:"BATCH",title:"Batch Name",hidden:!1,noSearch:!1},{key:"DATE",title:"Date",hidden:!1,noSearch:!1}]},console.log("show",this.genericGridview),this.genericGridview.show()}onEditClick(){this.gridItemeditSettings={title:"Edit Merged Batches",apiEndpoints:`/getMergedBatchPagedList/${this.division}`,defaultFilterIndex:0,columns:[{key:"BATCH",title:"Batch Name",hidden:!1,noSearch:!1},{key:"DATE",title:"Date",hidden:!1,noSearch:!1}]},this.genericGridedit.show()}onReset(){this.batchList=[],this.mbName="",this.countDate="",this.mode="new",this.disableDate=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.k),e.Y36(P.c),e.Y36(U.V),e.Y36(l.uU))},r.\u0275cmp=e.Xpm({type:r,selectors:[["merge-batch-popup"]],viewQuery:function(t,n){if(1&t&&(e.Gf(j,5),e.Gf(G,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.genericGridview=i.first),e.iGM(i=e.CRH())&&(n.genericGridedit=i.first)}},inputs:{division:"division",divisionName:"divisionName"},outputs:{closeEvent:"closeEvent"},features:[e._Bn([f.k,l.uU])],decls:41,vars:14,consts:[[1,"container"],[1,"top-section"],[1,"table-title"],[1,"cross-button",3,"click"],[1,"content-section"],[1,"input-section"],["type","text","name","mb_name","autocomplete","off",3,"ngModel","ngModelChange"],["type","date","name","date",3,"ngModel","disabled","ngModelChange"],["type","text","name","division",3,"ngModel","disabled","ngModelChange"],[3,"click"],[3,"disabled","ngStyle","click"],[1,"table-section"],[4,"ngFor","ngForOf"],[1,"merge-button",3,"disabled","ngStyle","click"],[3,"popupsettings","onItemDoubleClick"],["genericGridview",""],["genericGridedit",""],["type","checkbox",3,"ngModel","ngStyle","checked","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Merge Batch"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.onClose()}),e._uU(5,"X"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div"),e._uU(9," M.B. Name: "),e.TgZ(10,"input",6),e.NdJ("ngModelChange",function(o){return n.mbName=o}),e.qZA(),e._uU(11," Date: "),e.TgZ(12,"input",7),e.NdJ("ngModelChange",function(o){return n.countDate=o}),e.qZA(),e._uU(13," Division: "),e.TgZ(14,"input",8),e.NdJ("ngModelChange",function(o){return n.divisionName=o}),e.qZA()(),e.TgZ(15,"div")(16,"button",9),e.NdJ("click",function(){return n.onReset()}),e._uU(17,"Reset"),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){return n.onViewClick()}),e._uU(19,"View"),e.qZA(),e.TgZ(20,"button",9),e.NdJ("click",function(){return n.onEditClick()}),e._uU(21,"Edit"),e.qZA(),e.TgZ(22,"button",10),e.NdJ("click",function(){return n.onLoadClick()}),e._uU(23,"Load"),e.qZA()()(),e.TgZ(24,"div",11)(25,"table")(26,"thead")(27,"tr"),e._UZ(28,"th"),e.TgZ(29,"th"),e._uU(30,"Batch Name"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Counted Date"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,F,8,8,"tr",12),e.qZA()()(),e.TgZ(35,"button",13),e.NdJ("click",function(){return n.onMergeClick()}),e._uU(36,"Merge"),e.qZA()()(),e.TgZ(37,"generic-popup-grid",14,15),e.NdJ("onItemDoubleClick",function(o){return n.dblClickview(o,n.mode)}),e.qZA(),e.TgZ(39,"generic-popup-grid",14,16),e.NdJ("onItemDoubleClick",function(o){return n.dblClickedit(o,n.mode)}),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngModel",n.mbName),e.xp6(2),e.Q6J("ngModel",n.countDate)("disabled",n.disableDate),e.xp6(2),e.Q6J("ngModel",n.divisionName)("disabled",!0),e.xp6(8),e.Q6J("disabled","view"==n.mode)("ngStyle","view"==n.mode?e.DdM(12,w):null),e.xp6(12),e.Q6J("ngForOf",n.batchList),e.xp6(1),e.Q6J("disabled","view"==n.mode||"edit"==n.mode&&n.disableMerge)("ngStyle","view"==n.mode||"edit"==n.mode&&n.disableMerge?e.DdM(13,w):null),e.xp6(2),e.Q6J("popupsettings",n.gridItemviewSettings),e.xp6(2),e.Q6J("popupsettings",n.gridItemeditSettings))},dependencies:[l.sg,l.PC,h.Fj,h.Wl,h.JJ,h.On,g.Zl,l.uU],styles:[".container[_ngcontent-%COMP%]{position:fixed;top:50%;right:50%;transform:translate(50%,-50%);background-color:#fff;width:70%;border:1px solid #ccc;box-shadow:0 0 10px #0000001a;z-index:9999;padding:0 0 10px}.top-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#007bff;padding:10px}.table-title[_ngcontent-%COMP%]{font-weight:700}.cross-button[_ngcontent-%COMP%]{background-color:#ede7e7;color:#0c0101;border:none;padding:5px 10px;border-radius:5px;cursor:pointer}.content-section[_ngcontent-%COMP%]{padding:10px;margin-bottom:20px}.input-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;justify-content:space-between}.input-section[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .input-section[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{margin-right:10px;padding:5px}.input-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;cursor:pointer;margin-right:5px}.table-section[_ngcontent-%COMP%]{margin-bottom:20px;max-height:calc(50vh - 100px);overflow-y:scroll}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.5);align-self:center}.merge-button[_ngcontent-%COMP%]{float:right;background-color:#007bff;color:#fff;border:none;cursor:pointer}"]}),r})();var q=a(41544),Y=a(54471);const K=["focusWarehouse"],z=["genericGridItem"],$=["genericGridview"],X=["genericGridedit"];function ee(r,s){if(1&r&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.Q6J("ngValue",t.BATCH),e.xp6(1),e.hij(" ",t.BATCH," ")}}function te(r,s){if(1&r&&(e.ynx(0),e.TgZ(1,"option",14),e._uU(2),e.qZA(),e.BQk()),2&r){const t=s.$implicit;e.xp6(1),e.Q6J("ngValue",t.NAME),e.xp6(1),e.Oqu(t.NAME)}}function ne(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",38)(2,"div",39)(3,"div",40)(4,"h5",41),e._uU(5,"New Counting Batch"),e.qZA(),e.TgZ(6,"button",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closeBatchModal())}),e.TgZ(7,"span",43),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",44)(10,"div",45)(11,"label",46),e._uU(12,"Division:"),e.qZA(),e.TgZ(13,"div",47)(14,"input",48),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedDivisionName=i)}),e.qZA()()(),e.TgZ(15,"div",45)(16,"label",46),e._uU(17,"Batch Name:"),e.qZA(),e.TgZ(18,"div",47)(19,"input",49),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.batchUnitObj.BATCH=i)}),e.qZA()()(),e.TgZ(20,"div",10)(21,"label",46),e._uU(22,"Date:"),e.qZA(),e.TgZ(23,"div",47)(24,"input",50),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.batchUnitObj.DATE=i)}),e.qZA()()()(),e.TgZ(25,"div",51)(26,"button",52),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onBatchSubmit())}),e._uU(27,"Save"),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(14),e.Q6J("ngModel",t.selectedDivisionName)("disabled",!0),e.xp6(5),e.Q6J("ngModel",t.batchUnitObj.BATCH),e.xp6(5),e.Q6J("ngModel",t.batchUnitObj.DATE)}}function ie(r,s){if(1&r&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.Q6J("value",t.BATCH),e.xp6(1),e.hij(" ",t.BATCH," ")}}function oe(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",38)(2,"div",39)(3,"div",40)(4,"h5",41),e._uU(5,"Close Counting Batch"),e.qZA(),e.TgZ(6,"button",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closebatchclosemodal())}),e.TgZ(7,"span",43),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",44)(10,"div",45)(11,"label",46),e._uU(12,"Batch Name:"),e.qZA(),e.TgZ(13,"div",47)(14,"select",53),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.closeBatchName=i)}),e._UZ(15,"option",54),e.YNc(16,ie,2,2,"option",55),e.qZA()()()(),e.TgZ(17,"div",51)(18,"button",52),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onBatchClose())}),e._uU(19,"Close Batch"),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(14),e.Q6J("ngModel",t.closeBatchName),e.xp6(2),e.Q6J("ngForOf",t.allBatchList)}}function re(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"merge-batch-popup",57),e.NdJ("closeEvent",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.mergeBatch())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("division",t._trnMainService.TrnMainObj.DIVISION)("divisionName",t.selectedDivisionName)}}const ae=[{path:"",component:(()=>{class r{constructor(t,n,i,o,u,T,y,D,_,B,b){this.masterService=t,this.fb=n,this.manualStockService=i,this.alertService=o,this.loadingService=u,this._trnMainService=T,this.genericProductEntryService=y,this.itemKeyEventService=D,this.entryValidateService=_,this.quantityChangeEventService=B,this.authService=b,this.addNewBatch=!1,this.category=!1,this.addNewCategory=!1,this.batch=!1,this.showMergePopup=!1,this.divisionlist=[],this.batchlist=[],this.warehouseList=[],this.activerowIndex=0,this.mode="",this.count=0,this.selectedDivisionName="",this.manualStockEntry={},this.batchUnitObj={},this.gridItemPopupSettings=new g.im,this.gridItemviewSettings=new g.im,this.gridItemeditSettings=new g.im,this.showbatchclose=!1,this.userSetting=b.getUserProfile(),this._trnMainService.initialFormLoad(107),this._trnMainService.TrnMainObj.DIVISION=this.userSetting.userDivision,this.manualStockService.getBatchNumber(this._trnMainService.TrnMainObj.DIVISION).subscribe(p=>{this.batchlist=p}),this.manualStockService.getBatchNumber(this._trnMainService.TrnMainObj.DIVISION,"close").subscribe(p=>{this.allBatchList=p}),this.masterService.getAllDivisions().subscribe(p=>{this.divisionlist=p,this.findDivisionName()}),this.manualStockService.getWarehouseByDivision(this._trnMainService.TrnMainObj.DIVISION).subscribe(p=>{this.warehouseList=p})}updown(t){"Insert"===t.code&&1==this.batch&&(this.addNewBatch=!0)}ngOnInit(){const t=new Date;this.batchUnitObj.DATE=(0,l.p6)(t,"yyyy-MM-dd","en-US"),this.onReset(),this.gridItemPopupSettings=Object.assign(new g.im,{title:"ITEMS",apiEndpoints:"/getItemListExceptService",defaultFilterIndex:1,useDefinefilterValue:"",columns:[{key:"MENUCODE",title:"ITEM CODE",hidden:!1,noSearch:!1},{key:"DESCA",title:"ITEM NAME",hidden:!1,noSearch:!1},{key:"BASEUNIT",title:"UNIT",hidden:!1,noSearch:!0},{key:"costprice",title:"COST PRICE",hidden:!1,noSearch:!0,alignment:"right",pipe:!0}]}),this.setProductEntryTable(),this.getEntryNumber(),this._trnMainService.TrnMainObj.DIVISION=this.userSetting.userDivision}setProductEntryTable(){var t=this._trnMainService.TrnMainObj.ProdList;this.genericProductEntrySetting=new v.Vn(this._trnMainService),this.genericProductEntrySetting.columns=[{field:"SNO",header:"Sno",hidden:!1,isActiveColumnHeader:!1,isSno:!0,headerNgStyle:{width:"40px"}},{field:"MENUCODE",header:"Code",hidden:!1,isActiveColumnHeader:!0,headerNgStyle:{width:"80px"},disablePipe:(i,o)=>this.getColumnDisablePipe("disableAltQty",i,o)},{field:"BC",header:"Barcode",hidden:!1,isActiveColumnHeader:!0,headerNgStyle:{width:"100px"},disablePipe:(i,o)=>this.getColumnDisablePipe("disableBarcode",i,o)},{field:"ITEMDESC",header:"Particular",hidden:!1,isActiveColumnHeader:!0,inputType:"itemDesc",headerNgStyle:{width:"380px"},disablePipe:(i,o)=>this.getColumnDisablePipe("disableItemDesc",i,o),focusTo:"ALTUNIT"},{field:"UNIT",header:"UNIT",hidden:!1,isActiveColumnHeader:!0,inputType:"",headerNgStyle:{width:"80px"},disablePipe:(i,o)=>this.getColumnDisablePipe("disableAltUnit",i,o),focusTo:"ALTERNATEQUANTIY"},{field:"ALTERNATEQUANTIY",header:"Quantity",hidden:!1,isActiveColumnHeader:!0,inputType:"quantity",headerNgStyle:{width:"60px"},columnNgStyle:{width:"100%","text-align":"right"},onChange:(i,o,u)=>this.QuantityChangeEvent_default(i,o,u),onEnter:i=>this.quantityChangeEventService.AlternateQuantityEventClick(i),onKeyPress:(i,o,u,T)=>this.quantityChangeEventService.quantityKeyPress(i,o,u,T),applyTwoDigitPipe:!1,disablePipe:(i,o)=>this.getColumnDisablePipe("disableAltQty",i,o),focusTo:"SHEETNO"},{field:"WAREHOUSE",header:"Warehouse",hidden:!1,isActiveColumnHeader:!0,headerNgStyle:{width:"80px"}},{field:"SHEETNO",header:"SheetNo#",inputType:"inputText",hidden:!1,isActiveColumnHeader:!0,headerNgStyle:{width:"80px"},focusTo:"ITEMDESC",onEnter:(i,o,u,T)=>this.onEnterManualStockEntry(i,o,u)},{field:"",header:"",hidden:!1,isActiveColumnHeader:!0,removeButton:!0,headerNgStyle:{width:"30px"},columnNgStyle:{width:"100%","text-align":"right"},disablePipe:(i,o)=>this.getColumnDisablePipe("disableRowDelete",i,o)}],this.genericProductEntrySetting.height="100%",this.genericProductEntrySetting.prodlist=t,this.genericProductEntrySetting.voucherType=m.Km.ManualstockEntry,this.genericProductEntrySetting.setRowItemFromSelectedItem=i=>this.SetRowItemFromSelectedItem(i)}SetRowItemFromSelectedItem(t){let n=this._trnMainService.TrnMainObj.ProdList[this.genericProductEntryService.activerowIndex];this._trnMainService.prepareItem(n,t),this._trnMainService.assignPrateaAsRATE(n,t),n.WAREHOUSE=this._trnMainService.TrnMainObj.MWAREHOUSE}SetRowItemRate(t,n){n()}SetAllUnitsOfItem(){this._trnMainService.getAllUnitsOfItem(this.genericProductEntryService.activerowIndex)}QuantityChangeEvent_default(t,n,i){this.quantityChangeEventService.QuantityChangeEvent(i)}getColumnDisablePipe(t,n,i){return t}onEnterManualStockEntry(t,n,i){this.entryValidateService.mrpEnterEvent(t,n,i,()=>"default",()=>({useDefault:!0,preCheck:!1}),()=>!1)}dblClickPopupItem(t,n=""){console.log(t),setTimeout(()=>{this.masterService.focusAnyControl("ALTERNATEQUANTIY"+this.activerowIndex)},100)}focusAfterItemSelect(){2==this.userSetting.EnableBatch||this._trnMainService.TrnMainObj.VoucherType==m.Km.BatchAdjustment?null!=document.getElementById("BATCH"+this.genericProductEntryService.activerowIndex)&&setTimeout(()=>{document.getElementById("BATCH"+this.genericProductEntryService.activerowIndex).focus()},20):(null!=document.getElementById("ALTERNATEUNIT"+this.genericProductEntryService.activerowIndex)?(console.log("FOCUS HERE"),setTimeout(()=>{document.getElementById("ALTERNATEUNIT"+this.genericProductEntryService.activerowIndex).focus()},20)):null!=document.getElementById("ALTUNIT"+this.genericProductEntryService.activerowIndex)&&setTimeout(()=>{document.getElementById("ALTUNIT"+this.genericProductEntryService.activerowIndex).focus()},20),74===this._trnMainService.TrnMainObj.VoucherType&&null!=document.getElementById("ALTERNATEUNIT"+this.genericProductEntryService.activerowIndex)&&setTimeout(()=>{document.getElementById("ALTERNATEUNIT"+this.genericProductEntryService.activerowIndex).focus()},20),this._trnMainService.TrnMainObj.VoucherType===m.Km.RequisitionEntry&&null!=document.getElementById("ALTERNATEQUANTIY"+this.genericProductEntryService.activerowIndex)&&setTimeout(()=>{document.getElementById("ALTERNATEQUANTIY"+this.genericProductEntryService.activerowIndex).focus()},20))}rowClick(t,n){this.activerowIndex=t,this.data=n}onDelete(t){!this.checkValidation()||confirm("Are you sure you want to delete the entry?")&&this.manualStockService.deleteManualStockEntry(t,this._trnMainService.TrnMainObj.DIVISION).subscribe(n=>{console.log("Entry deleted successfully",n),this.onReset(),this.alertService.info(n.result)},n=>{console.error("Failed to delete entry",n)})}onReset(){this.manualStockEntry={},this.manualStockEntry.manualStockList=[],this.warehousename="",this.getEntryNumber(),this._trnMainService.barCodes={},this._trnMainService.barCodes.Quantity=1,this._trnMainService.initialFormLoad(this._trnMainService.TrnMainObj.VoucherType),this.mode="NEW",this.manualStockEntry.manualStockList.push({}),this.manualStockEntry.DIVISION=this.masterService.userProfile.userDivision,this.manualStockService.getBatchNumber(this._trnMainService.TrnMainObj.DIVISION).subscribe(n=>{this.batchlist=n}),setTimeout(()=>{this.masterService.focusAnyControl("itemname"+this.activerowIndex)},100)}focusToWarehouse(){setTimeout(()=>{this.masterService.focusAnyControl("whouse"+this.activerowIndex)}),this.manualStockEntry.TotalQty=this.manualStockEntry.manualStockList.map(t=>t.QTY).reduce((t,n)=>t+n,0)}focusToSheet(t,n){(""==this.manualStockEntry.manualStockList[this.activerowIndex].WAREHOUSE||null==this.manualStockEntry.manualStockList[this.activerowIndex].WAREHOUSE||null==this.manualStockEntry.manualStockList[this.activerowIndex].WAREHOUSE)&&this.alertService.warning("Warehouse cannot be empty"),setTimeout(()=>{this.masterService.focusAnyControl("sheet"+this.activerowIndex)})}checknegativevalue(){console.log("total Quan",this.manualStockEntry.TotalQty),this.manualStockEntry.TotalQty<0&&(this.alertService.warning("Quantity cannot be negative"),setTimeout(()=>{this.masterService.focusAnyControl("qty"+this.activerowIndex)},500))}focusToBarcode(){this.manualStockEntry.manualStockList.push({});var n=this.activerowIndex+1;this.mode=this.mode,console.log("MODE",this.mode),document.getElementById("sno"+this.activerowIndex).scrollIntoView(),setTimeout(()=>{this.masterService.focusAnyControl("itemname"+n),("NEW"==this.mode||"EDIT"==this.mode&&(null==this.manualStockEntry.manualStockList[n].MENUCODE||null==this.manualStockEntry.manualStockList[n].MENUCODE||""==this.manualStockEntry.manualStockList[n].MENUCODE))&&(this.manualStockEntry.manualStockList[n].WAREHOUSE=this.manualStockEntry.manualStockList[n-1].WAREHOUSE,this.manualStockEntry.manualStockList[n].SHEETNO=this.manualStockEntry.manualStockList[n-1].SHEETNO)},500)}addNextRow(t,n){this.manualStockEntry.manualStockList.push({WAREHOUSE:null}),this.mode=this.mode}showItemPopUp(t){if(this.checkValidation()){if(!this._trnMainService.TrnMainObj.MWAREHOUSE)return void this.alertService.info("Please select Warehouse first!");this.genericGridForItem.show()}}dblClickview(t,n="VIEW"){this.manualStockEntry.TNO=t.TNO,this.batchlist.push({BATCH:t.BATCH}),this.manualStockEntry.BATCH=t.BATCH,this.manualStockEntry.DIVISION=t.DIVISION,this.manualStockEntry.TRNDATE=t.TRNDATE,this.manualStockService.getManualStockListView(this.manualStockEntry.TNO,this.manualStockEntry.DIVISION).subscribe(i=>{this.manualStockEntry.manualStockList=i,this.prepareprodListForViewModeAndEditMode(i),this.manualStockEntry.TotalQty=this.manualStockEntry.manualStockList.map(o=>o.QTY).reduce((o,u)=>o+u,0),this._trnMainService.TrnMainObj.MWAREHOUSE=i[0].WAREHOUSE,this.mode="VIEW"})}prepareprodListForViewModeAndEditMode(t){this._trnMainService.TrnMainObj.ProdList=[];for(let n of t){let i={};i.BATCH=n.BATCH,i.ITEMDESC=n.DESCA,i.DIVISION=n.DIVISION,i.MCODE=n.MCODE,i.MENUCODE=n.MENUCODE,i.ALTERNATEQUANTIY=n.QTY,i.WAREHOUSE=n.WAREHOUSE,i.UNIT=n.BASEUNIT,i.BC=n.BCODE,i.SHEETNO=n.SHEETNO,i.rowMode=this.mode,i.FulfillBatchQty=!1,this._trnMainService.TrnMainObj.ProdList.push(i)}}dblClickedit(t,n="EDIT"){1!=t.ISMERGED?1!=t.ISMERGEBATCH?(this.manualStockEntry.TNO=t.TNO,this.batchlist.push({BATCH:t.BATCH}),this.manualStockEntry.BATCH=t.BATCH,this.manualStockEntry.DIVISION=t.DIVISION,this.manualStockEntry.TRNDATE=t.TRNDATE,this.manualStockService.getManualStockListView(this.manualStockEntry.TNO,this.manualStockEntry.DIVISION).subscribe(i=>{this.manualStockEntry.manualStockList=i,this.prepareprodListForViewModeAndEditMode(i),this.manualStockEntry.TotalQty=this.manualStockEntry.manualStockList.map(o=>o.QTY).reduce((o,u)=>o+u,0),this._trnMainService.TrnMainObj.MWAREHOUSE=i[0].WAREHOUSE,this.mode="EDIT"})):this.alertService.info("This is merged batch. So, can not be edited"):this.alertService.info("This batch is already merged. So, can not be edited")}clearRow(){confirm("Are you sure you want to delete the Row? ")&&this.manualStockEntry.manualStockList.splice(this.activerowIndex,1)}findDivisionName(){this.selectedDivisionName=this.divisionlist.find(t=>t.INITIAL==this._trnMainService.TrnMainObj.DIVISION).NAME}changeDiv(){this.findDivisionName(),this.manualStockService.getWarehouseByDivision(this._trnMainService.TrnMainObj.DIVISION).subscribe(t=>{this.warehouseList=t}),this.manualStockService.getBatchNumber(this._trnMainService.TrnMainObj.DIVISION).subscribe(t=>{this.batchlist=t})}onBatchSubmit(){this.batchUnitObj.DIVISION=this._trnMainService.TrnMainObj.DIVISION,this.loadingService.show("Data is Saving ..."),this.manualStockService.postBatchUnit(this.batchUnitObj).subscribe(t=>{"ok"==t.status?(this.loadingService.hide(),this.alertService.info("Saved Successfully"),this.manualStockService.getBatchNumber(this._trnMainService.TrnMainObj.DIVISION).subscribe(n=>{this.batchlist=n}),this.closeBatchModal()):(this.loadingService.hide(),this.alertService.error(t.result))},t=>{this.loadingService.hide(),console.log(t),this.alertService.error(t.error.result)})}mapManualStockListFromProdList(){this.manualStockEntry.manualStockList=[];for(let t of this._trnMainService.TrnMainObj.ProdList){let n={};n.BATCH=t.BATCH,n.DESCA=t.ITEMDESC,n.MCODE=t.MCODE,n.MENUCODE=t.MENUCODE,n.QTY=t.ALTERNATEQUANTIY,n.WAREHOUSE=t.WAREHOUSE,n.BCODE=t.BC,n.SHEETNO=t.SHEETNO,this.manualStockEntry.manualStockList.push(n)}}onSave(){if(this._trnMainService.TrnMainObj.ProdList?.length>1&&(this._trnMainService.TrnMainObj.ProdList=this._trnMainService.TrnMainObj.ProdList.filter(t=>null!=t.MCODE&&""!=t.MCODE)),this.checkValidation()){if(this._trnMainService.TrnMainObj.ProdList.filter(t=>!t.WAREHOUSE)?.length>0)return void this.alertService.warning("Please select warehouse!");this.count=0,this.mapManualStockListFromProdList(),this.manualStockEntry.manualStockList.forEach(t=>{t.DIVISION=this._trnMainService.TrnMainObj.DIVISION,t.TNO=this.manualStockEntry.TNO,t.BATCH=this.manualStockEntry.BATCH,t.TRNDATE=this.manualStockEntry.TRNDATE,t.WAREHOUSE=this._trnMainService.TrnMainObj.MWAREHOUSE,t.QTY||(t.QTY=0)}),"VIEW"==this.mode.toUpperCase()?this.alertService.error("Cannot Save in view Mode"):(this.loadingService.show("Please wait.... Saving your data."),this.manualStockService.saveManualStock({mode:this.mode,data:this.manualStockEntry.manualStockList}).subscribe(n=>{"ok"==n.status?(this.alertService.success("Data Saved Successfully"),this.loadingService.hide(),this.onReset(),this.manualStockEntry.DIVISION=this.masterService.userProfile.userDivision,this.manualStockEntry.manualStockList=[]):(this.loadingService.hide(),this.alertService.error(n.result.error))}))}}checkValidation(){return null==this.manualStockEntry.DIVISION||""==this.manualStockEntry.DIVISION||null==this.manualStockEntry.DIVISION?(this.alertService.warning("Division cannot be empty"),!1):null==this.manualStockEntry.BATCH||""==this.manualStockEntry.BATCH||null==this.manualStockEntry.BATCH?(this.alertService.warning("Batch Number cannot be empty"),!1):!!this._trnMainService.TrnMainObj.MWAREHOUSE||(this.alertService.warning("Warehouse cannot be empty"),!1)}onWarehouseChange(){this._trnMainService.TrnMainObj.MWAREHOUSE&&this.manualStockEntry.manualStockList.forEach(t=>t.WAREHOUSE=this._trnMainService.TrnMainObj.MWAREHOUSE)}closeBatchModal(){this.addNewBatch=!1,this.batchUnitObj.BATCH=""}newUnitCreateTrigger(){this.batch=!0}TabClickUnit(){setTimeout(()=>{document.getElementById("itemname").focus()},0)}nullToZeroConverter(t){return void 0===t||null==t||null===t||""===t||"Infinity"===t||"NaN"===t||Number.isNaN(t)||isNaN(parseFloat(t))?0:parseFloat(t)}onView(t,n){console.log("Entry Number",t,n),this.gridItemviewSettings={title:"Physical Stock Entry Item",apiEndpoints:`/getPagedManualStock/${this._trnMainService.TrnMainObj.DIVISION}`,defaultFilterIndex:0,columns:[{key:"TNO",title:"Entry No",hidden:!1,noSearch:!1},{key:"BATCH",title:"Batch No",hidden:!1,noSearch:!1},{key:"DIVISION",title:"Division",hidden:!1,noSearch:!1}]},this.genericGridview.show()}onEdit(t,n){console.log("Entry Number",t,n),this.gridItemviewSettings={title:"Physical Stock Entry Item",apiEndpoints:`/getPagedManualStock/${this._trnMainService.TrnMainObj.DIVISION}`,defaultFilterIndex:0,columns:[{key:"TNO",title:"Entry No",hidden:!1,noSearch:!1},{key:"BATCH",title:"Batch No",hidden:!1,noSearch:!1},{key:"DIVISION",title:"Division",hidden:!1,noSearch:!1}]},this.gridItemeditSettings={title:"Physical Stock Entry Item",apiEndpoints:`/getPagedManualStock/${this._trnMainService.TrnMainObj.DIVISION}`,defaultFilterIndex:0,columns:[{key:"TNO",title:"Entry No",hidden:!1,noSearch:!1},{key:"BATCH",title:"Batch No",hidden:!1,noSearch:!1},{key:"DIVISION",title:"Division",hidden:!1,noSearch:!1}]},this.genericGridedit.show()}getEntryNumber(){this.manualStockService.getEntryNumber().subscribe(t=>{this.manualStockEntry.TNO=t.result,console.log("StockID",t)})}manualStockChange(t){if("%"===t)this.manualStockEntry.BATCH="%";else{this.manualStockEntry.BATCH=t;let n=this.batchlist.find(i=>i.BATCH==t)?.DATE;this.manualStockEntry.TRNDATE=n}}createBatch(){this.addNewBatch=!0}mergeBatch(){this.showMergePopup=!this.showMergePopup}closeCountingBatch(){this.showbatchclose=!0}closebatchclosemodal(){this.showbatchclose=!1}showGenericGrid(t){this.itemKeyEventService.ItemkeyEvent(t.index,t.event,()=>c.K.done,n=>(this.setItemPopupUrl(n),c.K.default),()=>c.K.default,()=>c.K.default,()=>c.K.default)}setItemPopupUrl(t){return this.genericProductEntryService.gridPopupSettings={title:"PRODUCTS",apiEndpoints:`/getMenuitemWithStockPagedList/${t}/all/NO/${this._trnMainService.userProfile.userWarehouse}`,defaultFilterIndex:this._trnMainService.userSetting.DefaultFilterIndex?this._trnMainService.userSetting.DefaultFilterIndex:0,columns:[{key:"MENUCODE",title:"ITEM CODE",hidden:!1,noSearch:!1},{key:"DESCA",title:"DESCRIPTION",hidden:!1,noSearch:!1},{key:"GroupName",title:"GROUP NAME",hidden:!1,noSearch:!0},{key:"PSTOCK",title:"P-QTY",hidden:!0,noSearch:!0},{key:"ISSUEQTY",title:"ISSUE QTY",hidden:!0,noSearch:!0},{key:"CRATE",title:"NETRATE",hidden:!0,noSearch:!0},{key:"RATE",title:"S-RATE",hidden:!0,noSearch:!0},{key:"BASEUNIT",title:"UNIT",hidden:!0,noSearch:!0},{key:"STOCK",title:"STOCK",hidden:!1,noSearch:!0,alignment:"right"},{key:"REALQTY_IN",title:"Req.Order Qty",hidden:!0,noSearch:!0},{key:"REALQTY",title:"Sales-Qty",hidden:!0,noSearch:!0},{key:"POSTOCK",title:"PO QTY",hidden:!0,noSearch:!0,alignment:"right"},{key:"POSTOCK",title:"QT QTY",hidden:!0,noSearch:!0,alignment:"right"},{key:"OPSTOCK",title:"SO QTY",hidden:!0,noSearch:!0,alignment:"right"},{key:"RATE",title:"PORATE",hidden:!0,noSearch:!0,alignment:"right",pipe:!0},{key:"RATE",title:"SO RATE",hidden:!0,noSearch:!0,alignment:"right",pipe:!0},{key:"BARCODE",title:"BARCODE",hidden:!0,noSearch:!0},{key:"MRP",title:"MRP",hidden:!0,noSearch:!0,alignment:"right",pipe:!0}]},this.genericProductEntryService.gridPopupSettings}onBatchClose(){console.log("on batch close",this.closeBatchName),this.loadingService.show("Closing Batch..."),this.manualStockService.closeManualStockBatch(this.closeBatchName).subscribe(t=>{console.log("response",t),"ok"==t.status?(this.loadingService.hide(),this.alertService.info(t.result),this.manualStockService.getBatchNumber(this._trnMainService.TrnMainObj.DIVISION).subscribe(n=>{this.batchlist=n,console.log("BatchList",n)}),this.closebatchclosemodal()):(this.loadingService.hide(),this.alertService.error(t.result))},t=>{this.loadingService.hide()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(H.P),e.Y36(h.qu),e.Y36(f.k),e.Y36(P.c),e.Y36(U.V),e.Y36(L.p),e.Y36(Q.w),e.Y36(c.X),e.Y36(V.C),e.Y36(Z.s),e.Y36(J.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["manualstockentry"]],viewQuery:function(t,n){if(1&t&&(e.Gf(K,5),e.Gf(z,5),e.Gf($,5),e.Gf(X,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.focusWarehouse=i.first),e.iGM(i=e.CRH())&&(n.genericGridForItem=i.first),e.iGM(i=e.CRH())&&(n.genericGridview=i.first),e.iGM(i=e.CRH())&&(n.genericGridedit=i.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(o){return n.updown(o)},!1,e.evT)},decls:85,vars:25,consts:[[1,"sectionWrapper"],[1,"sticky-top"],[1,"row","clearfix"],[1,"col-md-4"],[1,"col-md-8"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"disabled","click"],[1,"row","plainBackGround",2,"margin-top","0.5rem","padding-top","1rem"],[1,"col-md-3"],[1,"form-group","row"],[1,"col-md-6"],["type","number","readonly","",2,"width","14rem",3,"ngModel","disabled","ngModelChange"],["id","manualstockWH",1,"form-control",2,"width","14rem","height","25px","color","black","font-size","13px","padding","1px 12px",3,"ngModel","disabled","ngModelChange","keydown.Tab","focus"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-3",2,"margin-left","20px"],["id","manualStockInput",1,"form-control",2,"width","14rem","height","25px","color","black","font-size","13px","padding","1px 12px",3,"ngModel","disabled","ngModelChange"],[2,"width","auto"],[2,"font-size","13px"],[2,"width","14rem","height","25px","color","black","font-size","13px","padding","1px 12px",3,"ngModel","disabled","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"row","row-margin"],[1,"col-md-12","pd5"],[1,"midTableWrapper"],[1,"col-md-12","pd5",2,"height","61vh","overflow-x","scroll"],[3,"GenericProductEntrySetting","ShowGenericGridEvent"],[1,"sticky-bottom"],[1,"row","clearfix","footer"],[1,"col-md-12","right",2,"vertical-align","center"],[1,"row"],[1,"col-md-2",2,"margin-left","30%"],[4,"ngIf"],[3,"division","divisionName","closeEvent",4,"ngIf"],[3,"popupsettings","onItemDoubleClick"],["genericGridItem",""],["genericGridview",""],["genericGridedit",""],[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","20px","margin-right","8rem"],[1,"modal-content","modal-content-main-area",2,"width","70%"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row",2,"margin-top","1rem"],[1,"col-sm-3","form-control-label",2,"margin-left","-12px"],[1,"col-sm-8"],["type","text","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px",3,"ngModel","disabled","ngModelChange"],["type","text","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px",3,"ngModel","ngModelChange"],["type","date",1,"date-input","form-control",2,"height","3vh",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-control",2,"width","14rem","height","25px","color","black","font-size","13px","padding","1px 12px",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"division","divisionName","closeEvent"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),e._uU(5),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e._uU(8,"Back"),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return n.mergeBatch()}),e._uU(10,"Merge Batch"),e.qZA(),e.TgZ(11,"button",6),e.NdJ("click",function(){return n.closeCountingBatch()}),e._uU(12,"Close Batch"),e.qZA(),e.TgZ(13,"button",6),e.NdJ("click",function(){return n.createBatch()}),e._uU(14,"Create Batch"),e.qZA(),e.TgZ(15,"button",6),e.NdJ("click",function(){return n.onReset()}),e._uU(16,"Reset"),e.qZA(),e.TgZ(17,"button",7),e.NdJ("click",function(){return n.onSave()}),e._uU(18,"Save"),e.qZA(),e.TgZ(19,"button",6),e.NdJ("click",function(){return n.onDelete(n.manualStockEntry.TNO)}),e._uU(20,"Delete"),e.qZA(),e.TgZ(21,"button",6),e.NdJ("click",function(){return n.onView(n.manualStockEntry.TNO,n.manualStockEntry.DIVISION)}),e._uU(22,"View"),e.qZA(),e.TgZ(23,"button",6),e.NdJ("click",function(){return n.onEdit(n.manualStockEntry.TNO,n.manualStockEntry.DIVISION)}),e._uU(24,"Edit"),e.qZA()()()(),e.TgZ(25,"div",8)(26,"div",9)(27,"div",10)(28,"label"),e._uU(29,"Entry No :"),e.qZA(),e.TgZ(30,"div",11)(31,"input",12),e.NdJ("ngModelChange",function(o){return n.manualStockEntry.TNO=o}),e.qZA()()(),e.TgZ(32,"div",10)(33,"label"),e._uU(34,"Counting Batch No :"),e.qZA(),e.TgZ(35,"div",11)(36,"select",13),e.NdJ("ngModelChange",function(o){return n.manualStockChange(o)})("keydown.Tab",function(){return n.TabClickUnit()})("focus",function(){return n.newUnitCreateTrigger()}),e._UZ(37,"option",14),e.YNc(38,ee,2,2,"option",15),e.qZA()()()(),e.TgZ(39,"div",16)(40,"div",10)(41,"label"),e._uU(42,"Division :"),e.qZA(),e.TgZ(43,"div",11)(44,"div",11)(45,"input",17),e.NdJ("ngModelChange",function(o){return n.selectedDivisionName=o}),e.qZA()()()(),e.TgZ(46,"div",10)(47,"label",18),e._uU(48,"Counting Batch Date :"),e.qZA(),e.TgZ(49,"div",11)(50,"label",19),e._uU(51),e.ALo(52,"date"),e.qZA()()()(),e.TgZ(53,"div",16)(54,"div",10)(55,"label"),e._uU(56,"Warehouse :"),e.qZA(),e.TgZ(57,"div",11)(58,"div",11)(59,"select",20),e.NdJ("ngModelChange",function(o){return n._trnMainService.TrnMainObj.MWAREHOUSE=o})("change",function(){return n.onWarehouseChange()}),e._UZ(60,"option"),e.YNc(61,te,3,2,"ng-container",21),e.qZA()()()()()(),e.TgZ(62,"div",22)(63,"div",23),e._UZ(64,"discounts-insert"),e.qZA()(),e.TgZ(65,"div",24)(66,"div",22)(67,"div",25)(68,"generic-product-entry",26),e.NdJ("ShowGenericGridEvent",function(o){return n.showGenericGrid(o)}),e.qZA()()()(),e.TgZ(69,"div",27)(70,"div",28)(71,"div",29)(72,"div",30)(73,"div",31)(74,"h6"),e._uU(75),e.qZA()()()()()(),e.YNc(76,ne,28,4,"div",32),e.qZA(),e.YNc(77,oe,20,2,"div",32),e.YNc(78,re,1,2,"merge-batch-popup",33),e.TgZ(79,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(o){return n.dblClickPopupItem(o)}),e.qZA(),e.TgZ(81,"generic-popup-grid",34,36),e.NdJ("onItemDoubleClick",function(o){return n.dblClickview(o,n.mode)}),e.qZA(),e.TgZ(83,"generic-popup-grid",34,37),e.NdJ("onItemDoubleClick",function(o){return n.dblClickedit(o,n.mode)}),e.qZA()),2&t&&(e.xp6(5),e.hij("Physical Stock Entry [",n.mode,"]"),e.xp6(12),e.Q6J("disabled","VIEW"==n.mode),e.xp6(14),e.Q6J("ngModel",n.manualStockEntry.TNO)("disabled","VIEW"==n.mode),e.xp6(5),e.Q6J("ngModel",n.manualStockEntry.BATCH)("disabled","VIEW"==n.mode),e.xp6(1),e.Q6J("ngValue","%"),e.xp6(1),e.Q6J("ngForOf",n.batchlist),e.xp6(7),e.Q6J("ngModel",n.selectedDivisionName)("disabled",!0),e.xp6(6),e.Oqu(e.xi3(52,22,n.manualStockEntry.TRNDATE,"MM-dd-yyyy")),e.xp6(8),e.Q6J("ngModel",n._trnMainService.TrnMainObj.MWAREHOUSE)("disabled","VIEW"==n.mode),e.xp6(2),e.Q6J("ngForOf",n.warehouseList),e.xp6(7),e.Q6J("GenericProductEntrySetting",n.genericProductEntrySetting),e.xp6(7),e.hij("TOTAL QTY: ",n.manualStockEntry.TotalQty," "),e.xp6(1),e.Q6J("ngIf",n.addNewBatch),e.xp6(1),e.Q6J("ngIf",n.showbatchclose),e.xp6(1),e.Q6J("ngIf",n.showMergePopup),e.xp6(1),e.Q6J("popupsettings",n.gridItemPopupSettings),e.xp6(2),e.Q6J("popupsettings",n.gridItemviewSettings),e.xp6(2),e.Q6J("popupsettings",n.gridItemeditSettings))},dependencies:[l.sg,l.O5,h.YN,h.Kr,h.Fj,h.wV,h.EJ,h.JJ,h.On,g.Zl,W,d.rH,q.Z,Y.o,l.uU],styles:['td[_ngcontent-%COMP%] {\n     border: 1px solid #e6e6e6;\n}\n .footer[_ngcontent-%COMP%] {\n \n \n margin-right: 1px;\n height: 70px;\n clear: both;\n padding-top: 20px;\n border: 1px solid #eaeaea;\n background-color: #d1d6d8;\n}\n .card-body[_ngcontent-%COMP%] {\n     padding: 0 !important;\n }\n\n .form-group.row[_ngcontent-%COMP%] {\n     margin-bottom: 5px;\n }\n\n input[_ngcontent-%COMP%], select[_ngcontent-%COMP%] {\n     height: 26px;\n     font-size: 14px;\n     padding-top: 0;\n     padding-bottom: 0px;\n }\n\n th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{\n     padding: .2rem;\n     vertical-align: top;\n     border-top: 1px solid #dee2e6;\n     font-size: 14px;\n }\n th[_ngcontent-%COMP%]{\n     position: sticky; top: -1px; z-index: 1;\n     background-color: #7ed0ff;\n }\n\n th[_ngcontent-%COMP%]:first-child {\n     border-bottom: 1px solid #dee2e6;\n }\n .highlighted[_ngcontent-%COMP%]{\n     background-color: #ced6d3;\n }\n .row[_ngcontent-%COMP%]:after {\ncontent: "";\ndisplay: table;\nclear: both;\n}\n.column[_ngcontent-%COMP%] {\nfloat: left;\nwidth: 25%;\npadding: 10px;\n\n}']}),r})()}];let se=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.Bz.forChild(ae),d.Bz]}),r})();var ce=a(63321);let le=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[f.k],imports:[l.ez,h.u5,h.UX,ce._]}),r})();var de=a(34579),ue=a(56209),he=a(60694),ge=a(7782),me=a(74263);let pe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[f.k,he.T,Z.s,ge.y,me.R],imports:[l.ez,k.m,I.JX,O.Xd,C.Is,E.b.forRoot(),S.x.forRoot(),N.c.forRoot(),A.Z,le,se,ue.u,de.h]}),r})()}}]);